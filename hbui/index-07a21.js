/*! For license information please see index-07a21.js.LICENSE.txt */
(()=>{var e={34753:(e,t,n)=>{window.__globalDevCoreUISoundDefinitions=window.__globalDevCoreUISoundDefinitions||{},Object.assign(window.__globalDevCoreUISoundDefinitions,{"tokens.vanilla.release":{category:"ui",sounds:[{name:n(99373)}]},"tokens.vanilla.snes_pop":{category:"ui",sounds:[{name:n(43464)}]},"tokens.vanilla.modal_hide":{category:"ui",sounds:[{name:n(60197)}]}})},77941:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Map=void 0;const r=a(n(3464)),l=n(33580),o=n(29115),i=n(50333),c=n(78233);t.Map=({array:e,children:t,equalityCheck:n})=>{const a=(0,o.useFacetUnwrap)((0,i.useFacetMap)((e=>e.length),[],[e])),l=a!==c.NO_VALUE?a:0;return r.default.createElement(r.default.Fragment,null,d((a=>void 0!==n?r.default.createElement(s,{key:a,arrayFacet:e,index:a,length:l,equalityCheck:n,children:t}):r.default.createElement(u,{key:a,arrayFacet:e,index:a,length:l,children:t})),l))};const s=({arrayFacet:e,index:t,length:n,children:a,equalityCheck:r})=>a((0,l.useFacetMemo)((e=>t<e.length?e[t]:c.NO_VALUE),[t],[e],r),t,n),u=({arrayFacet:e,index:t,length:n,children:a})=>a((0,i.useFacetMap)((e=>t<e.length?e[t]:c.NO_VALUE),[t],[e]),t,n),d=(e,t)=>{const n=[];for(let a=0;a<t;a++)n.push(e(a));return n}},73286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mount=void 0;const a=n(29115);t.Mount=({when:e,children:t,condition:n=!0})=>(0,a.useFacetUnwrap)(e)===n?t:null},97951:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.With=void 0;const a=n(33580),r=n(29115),l=n(50333),o=n(78233);t.With=({data:e,children:t})=>{const n=(0,l.useFacetMap)((e=>null!=e),[],[e]),i=(0,r.useFacetUnwrap)(n),c=(0,a.useFacetMemo)((e=>null!=e?e:o.NO_VALUE),[],[e]);return!0===i?t(c):null}},79309:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(77941),t),r(n(73286),t),r(n(97951),t)},79465:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOptionalValueEqualityCheck=t.createObjectWithKeySpecificEqualityCheck=t.createUniformArrayEqualityCheck=t.createUniformObjectEqualityCheck=t.createNullableEqualityCheck=void 0;const a=n(78233);t.createNullableEqualityCheck=e=>{const t=e();let n=a.NO_VALUE;return e=>null==e||null==n?e===n||(n=e,!1):(n=e,t(e))},t.createUniformObjectEqualityCheck=e=>()=>{const t={};let n=new Set,a=!1;return r=>{var l;let o=!0;for(const a in r)a in t||(t[a]=e()),(null===(l=t[a])||void 0===l?void 0:l.call(t,r[a]))||(o=!1),n.delete(a);if(n.size>0){for(const e of n)delete t[e];o=!1}n=new Set;for(const e in r)n.add(e);return a?o:(a=!0,!1)}},t.createUniformArrayEqualityCheck=e=>()=>{const t=[];let n=!1;return a=>{var r,l;const o=Math.max(null!==(r=null==t?void 0:t.length)&&void 0!==r?r:0,null!==(l=null==a?void 0:a.length)&&void 0!==l?l:0);let i=!0;for(let n=0;n<o;n++)void 0===t[n]&&(t[n]=e()),t[n](a[n])||(i=!1);return n?i:(n=!0,!1)}},t.createObjectWithKeySpecificEqualityCheck=e=>()=>{const t={};for(const n in e)t[n]=e[n]();const n=t;return e=>{let t=!0;for(const a in e)n[a](e[a])||(t=!1);return t}},t.createOptionalValueEqualityCheck=e=>()=>{let t=!0,n=e();return a=>null==a?!!t||(n=e(),t=!0,!1):(t=!1,n(a))}},67842:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFacetContext=void 0;const a=n(3464);t.createFacetContext=function(e){const t={get:()=>e,observe:t=>(t(e),()=>{})};return(0,a.createContext)(t)}},87647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultEqualityCheck=t.nullableShallowArrayEqualityCheck=t.nullableShallowObjectArrayEqualityCheck=t.nullableShallowObjectEqualityCheck=t.shallowArrayEqualityCheck=t.shallowObjectArrayEqualityCheck=t.shallowObjectEqualityCheck=t.strictEqualityCheck=void 0;const a=n(79465),r=n(78233);t.strictEqualityCheck=()=>{let e=r.NO_VALUE;return t=>e===t||(e=t,!1)},t.shallowObjectEqualityCheck=(0,a.createUniformObjectEqualityCheck)(t.strictEqualityCheck),t.shallowObjectArrayEqualityCheck=(0,a.createUniformArrayEqualityCheck)(t.shallowObjectEqualityCheck),t.shallowArrayEqualityCheck=(0,a.createUniformArrayEqualityCheck)(t.strictEqualityCheck),t.nullableShallowObjectEqualityCheck=()=>(0,a.createNullableEqualityCheck)((0,a.createUniformObjectEqualityCheck)(t.strictEqualityCheck)),t.nullableShallowObjectArrayEqualityCheck=(0,a.createNullableEqualityCheck)((0,a.createUniformArrayEqualityCheck)(t.shallowObjectEqualityCheck)),t.nullableShallowArrayEqualityCheck=(0,a.createNullableEqualityCheck)((0,a.createUniformArrayEqualityCheck)(t.strictEqualityCheck)),t.defaultEqualityCheck=()=>{let e=r.NO_VALUE;return t=>{const n=typeof t;return!("number"!==n&&"string"!==n&&"boolean"!==n&&null!=t||t!==e&&(e=t,1))}}},57011:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFacet=void 0;const a=n(87647),r=n(78233),l=n(18910);t.createFacet=function({initialValue:e,startSubscription:t,equalityCheck:n=a.defaultEqualityCheck}){const o=new Set;let i,c=e;const s=null==n?void 0:n(),u=e=>{if(void 0!==n)if(n===a.defaultEqualityCheck){const t=typeof e;if(("number"===t||"string"===t||"boolean"===t||null==e)&&c===e)return}else if(void 0!==s&&s(e))return;(0,l.batch)((()=>{c=e;for(const e of o)e(c)}))};return{set:u,setWithCallback:e=>{const t=e(c);t===r.NO_VALUE?c=r.NO_VALUE:u(t)},get:()=>c,observe:n=>(o.add(n),c!==r.NO_VALUE&&n(c),1===o.size&&t&&(i=t(u)),()=>{o.delete(n),0===o.size&&i&&(c=e,i())})}}},62191:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createReadOnlyFacet=void 0;const a=n(57011);t.createReadOnlyFacet=function(e){return(0,a.createFacet)(e)}},91863:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStaticFacet=void 0,t.createStaticFacet=function(e){return{get:()=>e,observe:t=>(t(e),()=>{})}}},86097:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(57011),t),r(n(62191),t),r(n(91863),t)},66666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areAllDefinedValues=void 0;const a=n(89615);t.areAllDefinedValues=e=>{for(let t=0;t<e.length;t++)if(!(0,a.hasDefinedValue)(e[t]))return!1;return!0}},89615:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasDefinedValue=void 0;const a=n(78233);t.hasDefinedValue=e=>null!=e&&e!==a.NO_VALUE},84275:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(66666),t),r(n(89615),t),r(n(47414),t)},47414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiObserve=void 0;const a=n(78233);t.multiObserve=function(e,t){if(1===t.length)return t[0].observe(e);let n,r=!1;const l=[],o=t.map((()=>a.NO_VALUE));for(let i=0;i<t.length;i++)l[i]=t[i].observe((t=>{o[i]=t,r=r||o.every((e=>e!==a.NO_VALUE)),r&&(void 0!==n&&n(),n=e(...o))}));return()=>{for(let e=0;e<l.length;e++)l[e]();void 0!==n&&n()}}},73556:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(69777),t),r(n(48212),t),r(n(86743),t),r(n(50333),t),r(n(33580),t),r(n(39607),t),r(n(68705),t),r(n(18708),t),r(n(40841),t),r(n(29115),t),r(n(17463),t)},69777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetCallback=void 0;const a=n(3464),r=n(78233);t.useFacetCallback=function(e,t,n,l){(0,a.useLayoutEffect)((()=>{const e=n.map((e=>e.observe((()=>{}))));return()=>{e.forEach((e=>e()))}}),n);const o=(0,a.useCallback)(e,t),i=(0,a.useRef)(n);return i.current=n,(0,a.useCallback)(((...e)=>{const t=i.current.map((e=>e.get()));for(const e of t)if(e===r.NO_VALUE)return void 0!==l?l:r.NO_VALUE;return o(...t)(...e)}),[o,l])}},48212:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetEffect=t.createUseFacetEffect=void 0;const a=n(3464),r=n(78233),l=n(18910);t.createUseFacetEffect=e=>function(t,n,o){const i=(0,a.useCallback)(t,n);e((()=>{let e;if(1===o.length){const t=o[0].observe((t=>{void 0!==e&&e(),e=i(t)}));return()=>{t(),void 0!==e&&e()}}let t=!1;const n=[],a=o.map((()=>r.NO_VALUE)),c=()=>{t=t||a.every((e=>e!==r.NO_VALUE)),t&&(void 0!==e&&e(),e=i(...a))};return o.forEach(((e,r)=>{n[r]=e.observe((e=>{a[r]=e,t?(0,l.scheduleTask)(c):c()}))})),()=>{(0,l.cancelScheduledTask)(c),n.forEach((e=>e())),void 0!==e&&e()}}),[i,...o])},t.useFacetEffect=(0,t.createUseFacetEffect)(a.useEffect)},86743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetLayoutEffect=void 0;const a=n(3464),r=n(48212);t.useFacetLayoutEffect=(0,r.createUseFacetEffect)(a.useLayoutEffect)},50333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetMap=void 0;const a=n(3464),r=n(87647),l=n(48954);t.useFacetMap=function(e,t,n,o=r.defaultEqualityCheck){const i=(0,a.useCallback)(e,t);return(0,a.useMemo)((()=>(0,l.mapFacetsLightweight)(n,i,o)),[i,o,...n])}},33580:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetMemo=void 0;const a=n(3464),r=n(87647),l=n(48954);t.useFacetMemo=function(e,t,n,o=r.defaultEqualityCheck){const i=(0,a.useCallback)(e,t);return(0,a.useMemo)((()=>(0,l.mapFacetsCached)(n,i,o)),[i,o,...n])}},39607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetPropSetter=void 0;const a=n(3464),r=n(78233);t.useFacetPropSetter=function(e,t){return(0,a.useMemo)((()=>n=>{e.setWithCallback((e=>Object.assign(Object.assign({},e!==r.NO_VALUE?e:{}),{[t]:n})))}),[e,t])}},18708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetReducer=void 0;const a=n(3464),r=n(87647),l=n(40841);t.useFacetReducer=(e,t,n=r.defaultEqualityCheck)=>{const[o,i]=(0,l.useFacetState)(t,n);return[o,(0,a.useCallback)((t=>{i((n=>e(n,t)))}),[e,i])]}},68705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetRef=void 0;const a=n(3464),r=n(48212),l=n(78233);t.useFacetRef=function(e,t){let n=e.get();n===l.NO_VALUE&&void 0!==t&&(n=t);const o=(0,a.useRef)(n);return(0,r.useFacetEffect)((e=>{o.current=e}),[],[e]),o}},40841:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetState=void 0;const a=n(3464),r=n(87647),l=n(86097);t.useFacetState=(e,t=r.defaultEqualityCheck)=>(0,a.useMemo)((()=>{const n=(0,l.createFacet)({initialValue:e,equalityCheck:t});return[n,e=>{o(e)?n.setWithCallback(e):n.set(e)}]}),[]);const o=e=>"function"==typeof e},29115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetUnwrap=void 0;const a=n(3464),r=n(78233),l=n(87647);t.useFacetUnwrap=function(e,t=l.defaultEqualityCheck){const[n,o]=(0,a.useState)((()=>(0,r.isFacet)(e)?{value:e.get()}:{value:e}));return(0,a.useLayoutEffect)((()=>{if((0,r.isFacet)(e)){const n=t(),a=e.get();return a!==r.NO_VALUE&&n(a),e.observe((e=>{o((a=>{const{value:o}=a;if(t===l.defaultEqualityCheck){const t=typeof o;return"number"!==t&&"string"!==t&&"boolean"!==t&&null!=e||e!==o?{value:e}:a}return o!==r.NO_VALUE&&n(e)?a:{value:e}}))}))}}),[e,t]),(0,r.isFacet)(e)?n.value:e}},17463:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetWrap=void 0;const a=n(3464),r=n(87647),l=n(86097),o=n(78233);t.useFacetWrap=function(e,t=r.defaultEqualityCheck){const n=(0,o.isFacet)(e),i=(0,a.useMemo)((()=>n?void 0:(0,l.createFacet)({initialValue:e,equalityCheck:t})),[n]);return void 0===i?e:(i.set(e),i)}},68912:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.batch=void 0,r(n(79309),t),r(n(79465),t),r(n(67842),t),r(n(87647),t),r(n(86097),t),r(n(84275),t),r(n(73556),t),r(n(48954),t),r(n(78233),t);var l=n(18910);Object.defineProperty(t,"batch",{enumerable:!0,get:function(){return l.batch}})},48954:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(27074),t)},73961:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetArrayCached=void 0;const a=n(78233),r=n(43181),l=n(86097);t.mapFacetArrayCached=function(e,t,n){const o=(0,l.createFacet)({startSubscription:(0,r.mapIntoObserveArray)(e,t,n),initialValue:a.NO_VALUE});return{get:()=>{const n=o.get();if(n!==a.NO_VALUE)return n;const r=e.map((e=>e.get()));if(!r.reduce(((e,t)=>e&&t!==a.NO_VALUE),!0))return a.NO_VALUE;const l=t(...r);return l!==a.NO_VALUE&&o.set(l),l},observe:o.observe}}},22933:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetArrayLightweight=void 0;const a=n(43181),r=n(78233);t.mapFacetArrayLightweight=function(e,t,n){return{get:()=>{const n=e.map((e=>e.get()));return n.reduce(((e,t)=>e&&t!==r.NO_VALUE),!0)?t(...n):r.NO_VALUE},observe:(0,a.mapIntoObserveArray)(e,t,n)}}},50480:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetSingleCached=void 0;const a=n(78233),r=n(10305),l=n(86097);t.mapFacetSingleCached=function(e,t,n){const o=(0,l.createFacet)({startSubscription:(0,r.mapIntoObserveSingle)(e,t,n),initialValue:a.NO_VALUE});return{get:()=>{const n=o.get();if(n!==a.NO_VALUE)return n;const r=e.get();if(r===a.NO_VALUE)return a.NO_VALUE;const l=t(r);return l!==a.NO_VALUE&&o.set(l),l},observe:o.observe}}},49347:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetSingleLightweight=void 0;const a=n(78233),r=n(10305);t.mapFacetSingleLightweight=function(e,t,n){return{get:()=>{const n=e.get();return n===a.NO_VALUE?a.NO_VALUE:t(n)},observe:(0,r.mapIntoObserveSingle)(e,t,n)}}},27074:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetsCached=t.mapFacetsLightweight=void 0;const a=n(73961),r=n(22933),l=n(50480),o=n(49347);t.mapFacetsLightweight=function(e,t,n){return 1===e.length?(0,o.mapFacetSingleLightweight)(e[0],t,n):(0,r.mapFacetArrayLightweight)(e,t,n)},t.mapFacetsCached=function(e,t,n){return 1===e.length?(0,l.mapFacetSingleCached)(e[0],t,n):(0,a.mapFacetArrayCached)(e,t,n)}},43181:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapIntoObserveArray=void 0;const a=n(18910),r=n(87647),l=n(78233);t.mapIntoObserveArray=function(e,t,n){return o=>{let i=l.NO_VALUE;const c=null==n?void 0:n(),s=e.map((()=>l.NO_VALUE));let u=!1;const d=void 0===c?()=>{if(u=u||s.every((e=>e!==l.NO_VALUE)),!u)return;const e=t(...s);e!==l.NO_VALUE&&o(e)}:n===r.defaultEqualityCheck?()=>{if(u=u||s.every((e=>e!==l.NO_VALUE)),!u)return;const e=t(...s);if(e===l.NO_VALUE)return;const n=typeof i;("number"!==n&&"string"!==n&&"boolean"!==n&&null!=i||i!==e)&&(i=e,o(e))}:()=>{if(u=u||s.every((e=>e!==l.NO_VALUE)),!u)return;const e=t(...s);e!==l.NO_VALUE&&(c(e)||o(e))},m=e.map(((e,t)=>e.observe((e=>{s[t]=e,u?(0,a.scheduleTask)(d):d()}))));return()=>{(0,a.cancelScheduledTask)(d),m.forEach((e=>e()))}}}},10305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapIntoObserveSingle=void 0;const a=n(87647),r=n(78233);t.mapIntoObserveSingle=function(e,t,n){return void 0===n?n=>e.observe((e=>{const a=t(e);a!==r.NO_VALUE&&n(a)})):n===a.defaultEqualityCheck?n=>{let a=r.NO_VALUE;return e.observe((e=>{const l=t(e);if(l===r.NO_VALUE)return;const o=typeof a;("number"!==o&&"string"!==o&&"boolean"!==o&&null!=a||a!==l)&&(a=l,n(l))}))}:a=>{const l=n();return e.observe((e=>{const n=t(e);n!==r.NO_VALUE&&(l(n)||a(n))}))}}},18910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.batch=t.cancelScheduledTask=t.scheduleTask=void 0;let n=0,a=[];t.scheduleTask=e=>{0!==n?e.scheduled||(e.scheduled=!0,a.push(e)):e()},t.cancelScheduledTask=e=>{e.scheduled=!1},t.batch=e=>{n+=1;try{if(e(),1===n)do{const e=a;a=[];try{for(let t=0;t<e.length;t++){const n=e[t];n.scheduled&&(n.scheduled=!1,n())}}catch(t){for(let t=0;t<e.length;t++)e[t].scheduled=!1;throw a=[],t}}while(a.length>0)}finally{n-=1}}},78233:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NO_VALUE=t.isFacet=t.FACET_FACTORY=void 0,t.FACET_FACTORY=Symbol("facet-factory"),t.isFacet=e=>null!=e&&void 0!==e.observe&&void 0!==e.get,t.NO_VALUE=Symbol.for("NoValue")},8060:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PauseMountProvider=t.ImmediateMount=t.useIsPaused=t.useIsDeferring=t.DeferredMountWithCallback=t.useNotifyMountComplete=t.DeferredMount=t.DeferredMountProvider=t.InnerDeferredMountProvider=t.DeferredMountConfigProvider=void 0;const o=l(n(3464)),i=n(68912),c=(0,o.createContext)({forceImmediateMount:!1});function s({children:e,frameTimeBudget:t=16}){const[n,a]=(0,i.useFacetState)(!0),[r,l]=(0,i.useFacetState)(!1),c=(0,o.useRef)(!1),s=(0,o.useRef)([]),u=(0,o.useCallback)((e=>(l(!0),s.current.push(e),()=>{if(0===s.current.length&&!c.current)return;const t=s.current.indexOf(e);-1!==t&&s.current.splice(t,1)})),[l]);return(0,i.useFacetEffect)((e=>{if(!e&&0===s.current.length&&!c.current)return;const n=e=>{const o=s.current;r=o.length>0||c.current?window.requestAnimationFrame(n):-1;let i=0,u=e;for(;o.length>0&&u-e+i<t&&!c.current;){const e=u,t=o.shift()(!1),a=performance.now();i=a-e,u=a,"function"==typeof t&&(c.current=!0,t((()=>{c.current=!1,-1===r&&(r=window.requestAnimationFrame(n))})))}0!==o.length||c.current||(a(!1),l(!1))};let r=window.requestAnimationFrame(n);return()=>{window.cancelAnimationFrame(r)}}),[t,a,l],[r]),o.default.createElement(m.Provider,{value:n},o.default.createElement(d.Provider,{value:u},e))}t.DeferredMountConfigProvider=function({config:e,children:t}){return o.default.createElement(c.Provider,{value:e},t)},t.InnerDeferredMountProvider=s,t.DeferredMountProvider=function(e){return(0,o.useContext)(c).forceImmediateMount?o.default.createElement(o.default.Fragment,null,e.children):o.default.createElement(s,Object.assign({},e))},t.DeferredMount=function({children:e}){const t=(0,o.useContext)(d),[n,a]=(0,o.useState)(void 0!==t);return(0,o.useEffect)((()=>{t&&t(a)}),[t]),n?null:e};const u=(0,o.createContext)((()=>{}));t.useNotifyMountComplete=()=>(0,o.useContext)(u),t.DeferredMountWithCallback=function({children:e}){const t=(0,o.useContext)(d),[n,a]=(0,o.useState)(void 0!==t),r=(0,o.useRef)(),l=(0,o.useRef)(!1),i=(0,o.useCallback)((()=>{void 0!==r.current?r.current():l.current=!0}),[]);return(0,o.useEffect)((()=>{t&&t((e=>t=>{a(e),l.current?t():r.current=t}))}),[t,i]),n?null:o.default.createElement(u.Provider,{value:i},e)},t.useIsDeferring=function(){return(0,o.useContext)(m)},t.useIsPaused=function(){return(0,o.useContext)(p)},t.ImmediateMount=function({children:e}){return e};const d=(0,o.createContext)(void 0),m=(0,o.createContext)((0,i.createFacet)({initialValue:!1})),p=(0,o.createContext)(!1);t.PauseMountProvider=function({paused:e,children:t}){const n=(0,o.useRef)(!e);return(0,o.useEffect)((()=>{e||(n.current=!0)}),[e]),o.default.createElement(p.Provider,{value:!n.current&&e},t)}},23682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFiberRoot=void 0,t.createFiberRoot=e=>t=>e.createContainer({children:new Set,element:t,styleUnsubscribers:new Map,style:t.style},!1,!1)},86193:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPortal=void 0;const n=Symbol.for("react.portal");t.createPortal=function(e,t,a){return{$$typeof:n,key:a,children:e,containerInfo:{children:new Set,element:t,styleUnsubscribers:new Map,style:t.style}}}},81935:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createReconciler=void 0;const r=a(n(74054)),l=n(65575);t.createReconciler=()=>(0,r.default)((0,l.setupHostConfig)())},31545:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;const l=n(23682),o=n(81935);r(n(13525),t),r(n(86193),t),r(n(23682),t),r(n(81935),t),t.render=function(e,t){if(null===t)return()=>{};const n=(0,o.createReconciler)(),a=(0,l.createFiberRoot)(n)(t);return n.updateContainer(e,a,null,(()=>{})),()=>{n.updateContainer(null,a,null,(()=>{}))}}},67936:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupAttributeUpdate=t.setupViewBoxUpdate=t.setupTextUpdate=t.setupSrcUpdate=t.setupValueUpdate=t.setupRowsUpdate=t.setupMaxLengthUpdate=t.setupIdUpdate=t.setupClassUpdate=void 0;const a=n(68912);t.setupClassUpdate=(e,t)=>{const n=t;if((0,a.isFacet)(e))return e.observe((e=>{n.className=void 0!==e?e:""}));n.className=void 0!==e?e:""},t.setupIdUpdate=(e,t)=>{if((0,a.isFacet)(e))return e.observe((e=>{t.id=void 0!==e?e:""}));t.id=void 0!==e?e:""},t.setupMaxLengthUpdate=(e,t)=>{if((0,a.isFacet)(e))return e.observe((e=>{t.maxLength=void 0!==e?e:Number.MAX_SAFE_INTEGER}));t.maxLength=void 0!==e?e:Number.MAX_SAFE_INTEGER},t.setupRowsUpdate=(e,t)=>{if((0,a.isFacet)(e))return e.observe((e=>{t.rows=void 0!==e?e:Number.MAX_SAFE_INTEGER}));t.rows=void 0!==e?e:Number.MAX_SAFE_INTEGER};const r=(e,t)=>{const n=e;"number"===n.type&&isNaN(Number(t))||(void 0!==t?(n.value=t,n.setAttribute("value",t)):(n.value="",n.removeAttribute("value")))};t.setupValueUpdate=(e,t)=>{if((0,a.isFacet)(e))return e.observe((e=>r(t,e)));r(t,e)},t.setupSrcUpdate=(e,t)=>{if((0,a.isFacet)(e))return e.observe((e=>{t.src=void 0!==e?e:""}));t.src=void 0!==e?e:""},t.setupTextUpdate=(e,t)=>{if((0,a.isFacet)(e))return e.observe((e=>{t.nodeValue=void 0!==e?e:""}));t.nodeValue=void 0!==e?e:""},t.setupViewBoxUpdate=(e,t)=>{if((0,a.isFacet)(e))return e.observe((e=>{void 0!==e?t.setAttributeNS(null,"viewBox",e):t.removeAttributeNS(null,"viewBox")}));void 0!==e?t.setAttributeNS(null,"viewBox",e):t.removeAttributeNS(null,"viewBox")},t.setupAttributeUpdate=(e,t,n)=>{if((0,a.isFacet)(t))return t.observe((t=>{!0===t?n.setAttribute(e,""):!1===t?n.removeAttribute(e):void 0!==t?n.setAttribute(e,t):n.removeAttribute(e)}));!0===t?n.setAttribute(e,""):!1===t?n.removeAttribute(e):void 0!==t?n.setAttribute(e,t):n.removeAttribute(e)}},65575:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupHostConfig=void 0;const a=n(13525),r=n(68912),l=n(67936);t.setupHostConfig=()=>({isPrimaryRenderer:!0,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,now:Date.now,setTimeout:"undefined"!=typeof window?window.setTimeout:(e,t)=>window.setTimeout(e,t),clearTimeout:"undefined"!=typeof window?window.clearTimeout:e=>window.clearTimeout(e),noTimeout:i,scheduleDeferredCallback:function(e,t){return window.setTimeout(e,t?t.timeout:0)},cancelDeferredCallback:function(e){return window.clearTimeout(e)},getRootHostContext:function(){return c},getChildHostContext:function(){return c},shouldSetTextContent:function(){return!1},createTextInstance:function(e){return{element:document.createTextNode(e)}},createInstance:function(e,t){var n;if("fast-text"===e){const e=document.createTextNode("");return{children:new Set,element:e,text:(0,l.setupTextUpdate)(t.text,e)}}const a=null!==(n=s[e])&&void 0!==n?n:e,o=u[e],i=void 0!==o?document.createElementNS("http://www.w3.org/2000/svg",o):document.createElement(a);let c,d;if(void 0!==t.style){c=i.style,d=new Map;const e=c,n=d,a=t.style;for(const t in a){const l=a[t];void 0!==l&&((0,r.isFacet)(l)?n.set(t,l.observe((n=>{e[t]=n}))):e[t]=l)}}return void 0!==t.dangerouslySetInnerHTML&&(i.innerHTML=t.dangerouslySetInnerHTML.__html),t.onClick&&i.addEventListener("click",t.onClick),t.onFocus&&i.addEventListener("focus",t.onFocus),t.onBlur&&i.addEventListener("blur",t.onBlur),t.onMouseDown&&i.addEventListener("mousedown",t.onMouseDown),t.onMouseMove&&i.addEventListener("mousemove",t.onMouseMove),t.onMouseUp&&i.addEventListener("mouseup",t.onMouseUp),t.onTouchStart&&i.addEventListener("touchstart",t.onTouchStart),t.onTouchMove&&i.addEventListener("touchmove",t.onTouchMove),t.onTouchEnd&&i.addEventListener("touchend",t.onTouchEnd),t.onMouseEnter&&i.addEventListener("mouseenter",t.onMouseEnter),t.onMouseLeave&&i.addEventListener("mouseleave",t.onMouseLeave),t.onKeyPress&&i.addEventListener("keypress",t.onKeyPress),t.onKeyDown&&i.addEventListener("keydown",t.onKeyDown),t.onKeyUp&&i.addEventListener("keyup",t.onKeyUp),{element:i,styleUnsubscribers:d,style:c,children:new Set,className:void 0!==t.className?(0,l.setupClassUpdate)(t.className,i):void 0,id:void 0!==t.id?(0,l.setupIdUpdate)(t.id,i):void 0,autoPlay:void 0!==t.autoPlay?(0,l.setupAttributeUpdate)("autoplay",t.autoPlay,i):void 0,loop:void 0!==t.loop?(0,l.setupAttributeUpdate)("loop",t.loop,i):void 0,href:void 0!==t.href?(0,l.setupAttributeUpdate)("href",t.href,i):void 0,target:void 0!==t.target?(0,l.setupAttributeUpdate)("target",t.target,i):void 0,disabled:void 0!==t.disabled?(0,l.setupAttributeUpdate)("disabled",t.disabled,i):void 0,maxLength:void 0!==t.maxLength?(0,l.setupMaxLengthUpdate)(t.maxLength,i):void 0,rows:void 0!==t.rows?(0,l.setupRowsUpdate)(t.rows,i):void 0,type:void 0!==t.type?(0,l.setupAttributeUpdate)("type",t.type,i):void 0,value:void 0!==t.value?(0,l.setupValueUpdate)(t.value,i):void 0,src:void 0!==t.src?(0,l.setupSrcUpdate)(t.src,i):void 0,d:void 0!==t.d?(0,l.setupAttributeUpdate)("d",t.d,i):void 0,fill:void 0!==t.fill?(0,l.setupAttributeUpdate)("fill",t.fill,i):void 0,height:void 0!==t.height?(0,l.setupAttributeUpdate)("height",t.height,i):void 0,stroke:void 0!==t.stroke?(0,l.setupAttributeUpdate)("stroke",t.stroke,i):void 0,x:void 0!==t.x?(0,l.setupAttributeUpdate)("x",t.x,i):void 0,width:void 0!==t.width?(0,l.setupAttributeUpdate)("width",t.width,i):void 0,y:void 0!==t.y?(0,l.setupAttributeUpdate)("y",t.y,i):void 0,cx:void 0!==t.cx?(0,l.setupAttributeUpdate)("cx",t.cx,i):void 0,cy:void 0!==t.cy?(0,l.setupAttributeUpdate)("cy",t.cy,i):void 0,r:void 0!==t.r?(0,l.setupAttributeUpdate)("r",t.r,i):void 0,rx:void 0!==t.rx?(0,l.setupAttributeUpdate)("rx",t.rx,i):void 0,ry:void 0!==t.ry?(0,l.setupAttributeUpdate)("ry",t.ry,i):void 0,x1:void 0!==t.x1?(0,l.setupAttributeUpdate)("x1",t.x1,i):void 0,x2:void 0!==t.x2?(0,l.setupAttributeUpdate)("x2",t.x2,i):void 0,y1:void 0!==t.y1?(0,l.setupAttributeUpdate)("y1",t.y1,i):void 0,y2:void 0!==t.y2?(0,l.setupAttributeUpdate)("y2",t.y2,i):void 0,strokeWidth:void 0!==t.strokeWidth?(0,l.setupAttributeUpdate)("stroke-width",t.strokeWidth,i):void 0,viewBox:void 0!==t.viewBox?(0,l.setupViewBoxUpdate)(t.viewBox,i):void 0,xLinkHref:void 0!==t.xLinkHref?(0,l.setupAttributeUpdate)("xlink:href",t.xLinkHref,i):void 0,fillOpacity:void 0!==t.fillOpacity?(0,l.setupAttributeUpdate)("fill-opacity",t.fillOpacity,i):void 0,strokeOpacity:void 0!==t.strokeOpacity?(0,l.setupAttributeUpdate)("stroke-opacity",t.strokeOpacity,i):void 0,strokeLinecap:void 0!==t.strokeLinecap?(0,l.setupAttributeUpdate)("stroke-linecap",t.strokeLinecap,i):void 0,strokeLinejoin:void 0!==t.strokeLinejoin?(0,l.setupAttributeUpdate)("stroke-linejoin",t.strokeLinejoin,i):void 0,points:void 0!==t.points?(0,l.setupAttributeUpdate)("points",t.points,i):void 0,offset:void 0!==t.offset?(0,l.setupAttributeUpdate)("offset",t.offset,i):void 0,stopColor:void 0!==t.stopColor?(0,l.setupAttributeUpdate)("stop-color",t.stopColor,i):void 0,stopOpacity:void 0!==t.stopOpacity?(0,l.setupAttributeUpdate)("stop-opacity",t.stopOpacity,i):void 0,fontFamily:void 0!==t.fontFamily?(0,l.setupAttributeUpdate)("font-family",t.fontFamily,i):void 0,fontSize:void 0!==t.fontSize?(0,l.setupAttributeUpdate)("font-size",t.fontSize,i):void 0,"data-droppable":void 0!==t["data-droppable"]?(0,l.setupAttributeUpdate)("data-droppable",t["data-droppable"],i):void 0,"data-narrate":void 0!==t["data-narrate"]?(0,l.setupAttributeUpdate)("data-narrate",t["data-narrate"],i):void 0,"data-narrate-as":void 0!==t["data-narrate-as"]?(0,l.setupAttributeUpdate)("data-narrate-as",t["data-narrate-as"],i):void 0,"data-narrate-before":void 0!==t["data-narrate-before"]?(0,l.setupAttributeUpdate)("data-narrate-before",t["data-narrate-before"],i):void 0,"data-narrate-after":void 0!==t["data-narrate-after"]?(0,l.setupAttributeUpdate)("data-narrate-after",t["data-narrate-after"],i):void 0,"data-testid":void 0!==t["data-testid"]?(0,l.setupAttributeUpdate)("data-testid",t["data-testid"],i):void 0,"data-x-ray":void 0!==t["data-x-ray"]?(0,l.setupAttributeUpdate)("data-x-ray",t["data-x-ray"],i):void 0,cohinline:void 0!==t.cohinline?(0,l.setupAttributeUpdate)("cohinline",t.cohinline,i):void 0}},finalizeInitialChildren:function(){return!1},prepareForCommit:function(){},resetAfterCommit:function(){},commitMount:function(){},prepareUpdate:function(){return!0},commitUpdate:function(e,t,n,a,o){var i,c,s,u,d,m,p,f,g,E,h,v,b,y,F,S,C,M,w,k,T,I,P,x,O,A,N,R,_,L,D,W,B,U,z,j,H,V,G,$,K,X,Y,q,Q,J,Z,ee,te,ne,ae;const{element:re}=e;if("fast-text"===n){const t=re;return void(o.text!==a.text&&(null===(i=e.text)||void 0===i||i.call(e),e.text=(0,l.setupTextUpdate)(o.text,t)))}const le=re;if(o.style!==a.style){const t=e.style||le.style,n=e.styleUnsubscribers||new Map;e.style=t,e.styleUnsubscribers=n;const l=t,i=a.style,s=o.style;if(void 0!==i)for(const e in i){const t=i[e];t===(null==s?void 0:s[e])&&void 0!==s||(0,r.isFacet)(t)&&(null===(c=n.get(e))||void 0===c||c())}if(void 0!==s)for(const e in s){const t=null==i?void 0:i[e],a=s[e];t===a&&void 0!==i||((0,r.isFacet)(a)?n.set(e,a.observe((t=>{l[e]=t}))):l[e]=a)}}o.dangerouslySetInnerHTML!==a.dangerouslySetInnerHTML&&(void 0!==o.dangerouslySetInnerHTML?le.innerHTML=o.dangerouslySetInnerHTML.__html:le.innerHTML=""),o.autoPlay!==a.autoPlay&&(null===(s=e.autoPlay)||void 0===s||s.call(e),void 0===o.autoPlay?le.removeAttribute("autoplay"):e.autoPlay=(0,l.setupAttributeUpdate)("autoplay",o.autoPlay,le)),o.className!==a.className&&(null===(u=e.className)||void 0===u||u.call(e),void 0===o.className?le.className="":e.className=(0,l.setupClassUpdate)(o.className,le)),o.d!==a.d&&(null===(d=e.d)||void 0===d||d.call(e),void 0===o.d?le.removeAttribute("d"):e.d=(0,l.setupAttributeUpdate)("d",o.d,le)),o["data-droppable"]!==a["data-droppable"]&&(null===(m=e["data-droppable"])||void 0===m||m.call(e),void 0===o["data-droppable"]?le.removeAttribute("data-droppable"):e["data-droppable"]=(0,l.setupAttributeUpdate)("data-droppable",o["data-droppable"],le)),o["data-narrate"]!==a["data-narrate"]&&(null===(p=e["data-narrate"])||void 0===p||p.call(e),void 0===o["data-narrate"]?le.removeAttribute("data-narrate"):e["data-narrate"]=(0,l.setupAttributeUpdate)("data-narrate",o["data-narrate"],le)),o["data-narrate-as"]!==a["data-narrate-as"]&&(null===(f=e["data-narrate-as"])||void 0===f||f.call(e),void 0===o["data-narrate-as"]?le.removeAttribute("data-narrate-as"):e["data-narrate-as"]=(0,l.setupAttributeUpdate)("data-narrate-as",o["data-narrate-as"],le)),o["data-narrate-after"]!==a["data-narrate-after"]&&(null===(g=e["data-narrate-after"])||void 0===g||g.call(e),void 0===o["data-narrate-after"]?le.removeAttribute("data-narrate-after"):e["data-narrate-after"]=(0,l.setupAttributeUpdate)("data-narrate-after",o["data-narrate-after"],le)),o["data-narrate-before"]!==a["data-narrate-before"]&&(null===(E=e["data-narrate-before"])||void 0===E||E.call(e),void 0===o["data-narrate-before"]?le.removeAttribute("data-narrate-before"):e["data-narrate-before"]=(0,l.setupAttributeUpdate)("data-narrate-before",o["data-narrate-before"],le)),o["data-testid"]!==a["data-testid"]&&(null===(h=e["data-testid"])||void 0===h||h.call(e),void 0===o["data-testid"]?le.removeAttribute("data-testid"):e["data-testid"]=(0,l.setupAttributeUpdate)("data-testid",o["data-testid"],le)),o["data-x-ray"]!==a["data-x-ray"]&&(null===(v=e["data-x-ray"])||void 0===v||v.call(e),void 0===o["data-x-ray"]?le.removeAttribute("data-x-ray"):e["data-x-ray"]=(0,l.setupAttributeUpdate)("data-x-ray",o["data-x-ray"],le)),o.fill!==a.fill&&(null===(b=e.fill)||void 0===b||b.call(e),void 0===o.fill?le.removeAttribute("fill"):e.fill=(0,l.setupAttributeUpdate)("fill",o.fill,le)),o.id!==a.id&&(null===(y=e.id)||void 0===y||y.call(e),void 0===o.id?le.id="":e.id=(0,l.setupIdUpdate)(o.id,le)),o.loop!==a.loop&&(null===(F=e.loop)||void 0===F||F.call(e),void 0===o.loop?le.removeAttribute("loop"):e.loop=(0,l.setupAttributeUpdate)("loop",o.loop,le)),o.href!==a.href&&(null===(S=e.href)||void 0===S||S.call(e),void 0===o.href?le.removeAttribute("href"):e.href=(0,l.setupAttributeUpdate)("href",o.href,le)),o.target!==a.target&&(null===(C=e.target)||void 0===C||C.call(e),void 0===o.target?le.removeAttribute("target"):e.target=(0,l.setupAttributeUpdate)("target",o.target,le)),o.disabled!==a.disabled&&(null===(M=e.disabled)||void 0===M||M.call(e),void 0===o.disabled?le.removeAttribute("disabled"):e.disabled=(0,l.setupAttributeUpdate)("disabled",o.disabled,le)),o.height!==a.height&&(null===(w=e.height)||void 0===w||w.call(e),void 0===o.height?le.removeAttribute("height"):e.height=(0,l.setupAttributeUpdate)("height",o.height,le)),o.maxLength!==a.maxLength&&(null===(k=e.maxLength)||void 0===k||k.call(e),void 0===o.maxLength?le.removeAttribute("maxlength"):e.maxLength=(0,l.setupMaxLengthUpdate)(o.maxLength,le)),o.rows!==a.rows&&(null===(T=e.rows)||void 0===T||T.call(e),void 0===o.rows?le.removeAttribute("rows"):e.rows=(0,l.setupRowsUpdate)(o.rows,le)),o.stroke!==a.stroke&&(null===(I=e.stroke)||void 0===I||I.call(e),void 0===o.stroke?le.removeAttribute("stroke"):e.stroke=(0,l.setupAttributeUpdate)("stroke",o.stroke,le)),o.type!==a.type&&(null===(P=e.type)||void 0===P||P.call(e),void 0===o.type?le.removeAttribute("type"):e.type=(0,l.setupAttributeUpdate)("type",o.type,le)),o.value!==a.value&&(null===(x=e.value)||void 0===x||x.call(e),void 0===o.value?le.removeAttribute("value"):e.value=(0,l.setupValueUpdate)(o.value,le)),o.x!==a.x&&(null===(O=e.x)||void 0===O||O.call(e),void 0===o.x?le.removeAttribute("x"):e.x=(0,l.setupAttributeUpdate)("x",o.x,le)),o.width!==a.width&&(null===(A=e.width)||void 0===A||A.call(e),void 0===o.width?le.removeAttribute("width"):e.width=(0,l.setupAttributeUpdate)("width",o.width,le)),o.y!==a.y&&(null===(N=e.y)||void 0===N||N.call(e),void 0===o.y?le.removeAttribute("y"):e.y=(0,l.setupAttributeUpdate)("y",o.y,le)),o.cx!==a.cx&&(null===(R=e.cx)||void 0===R||R.call(e),void 0===o.cx?le.removeAttribute("cx"):e.cx=(0,l.setupAttributeUpdate)("cx",o.cx,le)),o.r!==a.r&&(null===(_=e.r)||void 0===_||_.call(e),void 0===o.r?le.removeAttribute("r"):e.r=(0,l.setupAttributeUpdate)("r",o.r,le)),o.cy!==a.cy&&(null===(L=e.cy)||void 0===L||L.call(e),void 0===o.cy?le.removeAttribute("cy"):e.cy=(0,l.setupAttributeUpdate)("cy",o.cy,le)),o.rx!==a.rx&&(null===(D=e.rx)||void 0===D||D.call(e),void 0===o.rx?le.removeAttribute("rx"):e.rx=(0,l.setupAttributeUpdate)("rx",o.rx,le)),o.ry!==a.ry&&(null===(W=e.ry)||void 0===W||W.call(e),void 0===o.ry?le.removeAttribute("ry"):e.ry=(0,l.setupAttributeUpdate)("ry",o.ry,le)),o.x1!==a.x1&&(null===(B=e.x1)||void 0===B||B.call(e),void 0===o.x1?le.removeAttribute("x1"):e.x1=(0,l.setupAttributeUpdate)("x1",o.x1,le)),o.x2!==a.x2&&(null===(U=e.x2)||void 0===U||U.call(e),void 0===o.x2?le.removeAttribute("x2"):e.x2=(0,l.setupAttributeUpdate)("x2",o.x2,le)),o.y1!==a.y1&&(null===(z=e.y1)||void 0===z||z.call(e),void 0===o.y1?le.removeAttribute("y1"):e.y1=(0,l.setupAttributeUpdate)("y1",o.y1,le)),o.y2!==a.y2&&(null===(j=e.y2)||void 0===j||j.call(e),void 0===o.y2?le.removeAttribute("y2"):e.y2=(0,l.setupAttributeUpdate)("y2",o.y2,le)),o.strokeWidth!==a.strokeWidth&&(null===(H=e.strokeWidth)||void 0===H||H.call(e),void 0===o.strokeWidth?le.removeAttribute("strokeWidth"):e.strokeWidth=(0,l.setupAttributeUpdate)("stroke-width",o.strokeWidth,le)),o.viewBox!==a.viewBox&&(null===(V=e.viewBox)||void 0===V||V.call(e),void 0===o.viewBox?le.removeAttribute("viewBox"):e.viewBox=(0,l.setupViewBoxUpdate)(o.viewBox,le)),o.xLinkHref!==a.xLinkHref&&(null===(G=e.xLinkHref)||void 0===G||G.call(e),void 0===o.xLinkHref?le.removeAttribute("xlink:href"):e.xLinkHref=(0,l.setupAttributeUpdate)("xlink:href",o.xLinkHref,le)),o.fillOpacity!==a.fillOpacity&&(null===($=e.fillOpacity)||void 0===$||$.call(e),void 0===o.fillOpacity?le.removeAttribute("fill-opacity"):e.fillOpacity=(0,l.setupAttributeUpdate)("fill-opacity",o.fillOpacity,le)),o.strokeOpacity!==a.strokeOpacity&&(null===(K=e.strokeOpacity)||void 0===K||K.call(e),void 0===o.strokeOpacity?le.removeAttribute("stroke-opacity"):e.strokeOpacity=(0,l.setupAttributeUpdate)("stroke-opacity",o.strokeOpacity,le)),o.strokeLinecap!==a.strokeLinecap&&(null===(X=e.strokeLinecap)||void 0===X||X.call(e),void 0===o.strokeLinecap?le.removeAttribute("stroke-linecap"):e.strokeLinecap=(0,l.setupAttributeUpdate)("stroke-linecap",o.strokeLinecap,le)),o.strokeLinejoin!==a.strokeLinejoin&&(null===(Y=e.strokeLinejoin)||void 0===Y||Y.call(e),void 0===o.strokeLinejoin?le.removeAttribute("stroke-linejoin"):e.strokeLinejoin=(0,l.setupAttributeUpdate)("stroke-linejoin",o.strokeLinejoin,le)),o.points!==a.points&&(null===(q=e.points)||void 0===q||q.call(e),void 0===o.points?le.removeAttribute("points"):e.points=(0,l.setupAttributeUpdate)("points",o.points,le)),o.offset!==a.offset&&(null===(Q=e.offset)||void 0===Q||Q.call(e),void 0===o.offset?le.removeAttribute("offset"):e.offset=(0,l.setupAttributeUpdate)("offset",o.offset,le)),o.stopColor!==a.stopColor&&(null===(J=e.stopColor)||void 0===J||J.call(e),void 0===o.stopColor?le.removeAttribute("stop-color"):e.stopColor=(0,l.setupAttributeUpdate)("stop-color",o.stopColor,le)),o.stopOpacity!==a.stopOpacity&&(null===(Z=e.stopOpacity)||void 0===Z||Z.call(e),void 0===o.stopOpacity?le.removeAttribute("stop-opacity"):e.stopOpacity=(0,l.setupAttributeUpdate)("stop-opacity",o.stopOpacity,le)),o.fontFamily!==a.fontFamily&&(null===(ee=e.fontFamily)||void 0===ee||ee.call(e),void 0===o.fontFamily?le.removeAttribute("font-family"):e.fontFamily=(0,l.setupAttributeUpdate)("font-family",o.fontFamily,le)),o.fontSize!==a.fontSize&&(null===(te=e.fontSize)||void 0===te||te.call(e),void 0===o.fontSize?le.removeAttribute("font-size"):e.fontSize=(0,l.setupAttributeUpdate)("font-size",o.fontSize,le)),o.src!==a.src&&(null===(ne=e.src)||void 0===ne||ne.call(e),void 0===o.src?le.removeAttribute("src"):e.src=(0,l.setupSrcUpdate)(o.src,le)),o.cohinline!==a.cohinline&&(null===(ae=e.cohinline)||void 0===ae||ae.call(e),void 0===o.cohinline?le.removeAttribute("cohinline"):e.cohinline=(0,l.setupAttributeUpdate)("cohinline",o.cohinline,le)),o.onClick!==a.onClick&&(a.onClick&&le.removeEventListener("click",a.onClick),o.onClick&&le.addEventListener("click",o.onClick)),o.onFocus!==a.onFocus&&(a.onFocus&&le.removeEventListener("focus",a.onFocus),o.onFocus&&le.addEventListener("focus",o.onFocus)),o.onBlur!==a.onBlur&&(a.onBlur&&le.removeEventListener("blur",a.onBlur),o.onBlur&&le.addEventListener("blur",o.onBlur)),o.onMouseDown!==a.onMouseDown&&(a.onMouseDown&&le.removeEventListener("mousedown",a.onMouseDown),o.onMouseDown&&le.addEventListener("mousedown",o.onMouseDown)),o.onMouseMove!==a.onMouseMove&&(a.onMouseMove&&le.removeEventListener("mousemove",a.onMouseMove),o.onMouseMove&&le.addEventListener("mousemove",o.onMouseMove)),o.onMouseEnter!==a.onMouseEnter&&(a.onMouseEnter&&le.removeEventListener("mouseenter",a.onMouseEnter),o.onMouseEnter&&le.addEventListener("mouseenter",o.onMouseEnter)),o.onMouseLeave!==a.onMouseLeave&&(a.onMouseLeave&&le.removeEventListener("mouseleave",a.onMouseLeave),o.onMouseLeave&&le.addEventListener("mouseleave",o.onMouseLeave)),o.onMouseUp!==a.onMouseUp&&(a.onMouseUp&&le.removeEventListener("mouseup",a.onMouseUp),o.onMouseUp&&le.addEventListener("mouseup",o.onMouseUp)),o.onTouchStart!==a.onTouchStart&&(a.onTouchStart&&le.removeEventListener("touchstart",a.onTouchStart),o.onTouchStart&&le.addEventListener("touchstart",o.onTouchStart)),o.onTouchMove!==a.onTouchMove&&(a.onTouchMove&&le.removeEventListener("touchmove",a.onTouchMove),o.onTouchMove&&le.addEventListener("touchmove",o.onTouchMove)),o.onTouchEnd!==a.onTouchEnd&&(a.onTouchEnd&&le.removeEventListener("touchend",a.onTouchEnd),o.onTouchEnd&&le.addEventListener("touchend",o.onTouchEnd)),o.onTouchMove!==a.onTouchMove&&(a.onTouchMove&&le.removeEventListener("touchmove",a.onTouchMove),o.onTouchMove&&le.addEventListener("touchmove",o.onTouchMove)),o.onTouchEnd!==a.onTouchEnd&&(a.onTouchEnd&&le.removeEventListener("touchend",a.onTouchEnd),o.onTouchEnd&&le.addEventListener("touchend",o.onTouchEnd)),o.onKeyPress!==a.onKeyPress&&(a.onKeyPress&&le.removeEventListener("keypress",a.onKeyPress),o.onKeyPress&&le.addEventListener("keypress",o.onKeyPress)),o.onKeyDown!==a.onKeyDown&&(a.onKeyDown&&le.removeEventListener("keydown",a.onKeyDown),o.onKeyDown&&le.addEventListener("keydown",o.onKeyDown)),o.onKeyUp!==a.onKeyUp&&(a.onKeyUp&&le.removeEventListener("keyup",a.onKeyUp),o.onKeyUp&&le.addEventListener("keyup",o.onKeyUp))},commitTextUpdate:function(e,t,n){e.element.nodeValue=n},appendInitialChild:function(e,t){(0,a.isElementContainer)(t)&&e.children.add(t),e.element.appendChild(t.element)},appendChildToContainer:function(e,t){(0,a.isElementContainer)(t)&&e.children.add(t),e.element.appendChild(t.element)},appendChild:function(e,t){(0,a.isElementContainer)(t)&&e.children.add(t),e.element.appendChild(t.element)},insertBefore:function(e,t,n){(0,a.isElementContainer)(t)&&e.children.add(t),e.element.insertBefore(t.element,n.element)},removeChild:function(e,t){(0,a.isElementContainer)(t)&&o(e,t),e.element.removeChild(t.element)},insertInContainerBefore:function(e,t,n){(0,a.isElementContainer)(t)&&e.children.add(t),e.element.insertBefore(t.element,n.element)},removeChildFromContainer:function(e,t){(0,a.isElementContainer)(t)&&o(e,t),e.element.removeChild(t.element)},resetTextContent:function(e){e.element.textContent=""},shouldDeprioritizeSubtree:function(){return!1},getPublicInstance:function(e){return e.element}});const o=(e,t)=>{var n,a,r,l,i,c,s,u,d,m,p,f,g,E,h,v,b,y,F,S,C,M,w,k,T,I,P,x,O,A,N,R,_,L,D,W,B,U,z,j,H,V,G,$,K,X,Y,q,Q,J,Z,ee;e.children.delete(t),null===(n=t.styleUnsubscribers)||void 0===n||n.forEach((e=>e())),null===(a=t.styleUnsubscribers)||void 0===a||a.clear(),t.children.forEach(o),t.children.clear(),null===(r=t.className)||void 0===r||r.call(t),null===(l=t.cx)||void 0===l||l.call(t),null===(i=t.cy)||void 0===i||i.call(t),null===(c=t.d)||void 0===c||c.call(t),null===(s=t["data-droppable"])||void 0===s||s.call(t),null===(u=t["data-narrate"])||void 0===u||u.call(t),null===(d=t["data-narrate-as"])||void 0===d||d.call(t),null===(m=t["data-narrate-after"])||void 0===m||m.call(t),null===(p=t["data-narrate-before"])||void 0===p||p.call(t),null===(f=t["data-testid"])||void 0===f||f.call(t),null===(g=t["data-x-ray"])||void 0===g||g.call(t),null===(E=t.fill)||void 0===E||E.call(t),null===(h=t.id)||void 0===h||h.call(t),null===(v=t.src)||void 0===v||v.call(t),null===(b=t.height)||void 0===b||b.call(t),null===(y=t.href)||void 0===y||y.call(t),null===(F=t.target)||void 0===F||F.call(t),null===(S=t.autoPlay)||void 0===S||S.call(t),null===(C=t.loop)||void 0===C||C.call(t),null===(M=t.disabled)||void 0===M||M.call(t),null===(w=t.maxLength)||void 0===w||w.call(t),null===(k=t.r)||void 0===k||k.call(t),null===(T=t.rx)||void 0===T||T.call(t),null===(I=t.ry)||void 0===I||I.call(t),null===(P=t.rows)||void 0===P||P.call(t),null===(x=t.stroke)||void 0===x||x.call(t),null===(O=t.strokeWidth)||void 0===O||O.call(t),null===(A=t.type)||void 0===A||A.call(t),null===(N=t.text)||void 0===N||N.call(t),null===(R=t.value)||void 0===R||R.call(t),null===(_=t.x)||void 0===_||_.call(t),null===(L=t.x1)||void 0===L||L.call(t),null===(D=t.x2)||void 0===D||D.call(t),null===(W=t.width)||void 0===W||W.call(t),null===(B=t.y)||void 0===B||B.call(t),null===(U=t.y1)||void 0===U||U.call(t),null===(z=t.y2)||void 0===z||z.call(t),null===(j=t.viewBox)||void 0===j||j.call(t),null===(H=t.xLinkHref)||void 0===H||H.call(t),null===(V=t.fillOpacity)||void 0===V||V.call(t),null===(G=t.strokeOpacity)||void 0===G||G.call(t),null===($=t.strokeLinecap)||void 0===$||$.call(t),null===(K=t.strokeLinejoin)||void 0===K||K.call(t),null===(X=t.points)||void 0===X||X.call(t),null===(Y=t.offset)||void 0===Y||Y.call(t),null===(q=t.stopColor)||void 0===q||q.call(t),null===(Q=t.stopOpacity)||void 0===Q||Q.call(t),null===(J=t.fontFamily)||void 0===J||J.call(t),null===(Z=t.fontSize)||void 0===Z||Z.call(t),null===(ee=t.cohinline)||void 0===ee||ee.call(t)},i=()=>{},c={},s={"fast-a":"a","fast-div":"div","fast-p":"p","fast-img":"img","fast-input":"input","fast-span":"span","fast-textarea":"textarea","fast-text":"span",a:"a",div:"div",p:"p",img:"img",textarea:"textarea",input:"input",style:"style"},u={"fast-circle":"circle","fast-ellipse":"ellipse","fast-line":"line","fast-path":"path","fast-rect":"rect","fast-svg":"svg","fast-foreignObject":"foreignObject","fast-use":"use","fast-polyline":"polyline","fast-polygon":"polygon","fast-linearGradient":"linearGradient","fast-radialGradient":"radialGradient","fast-stop":"stop","fast-svg-text":"text","fast-pattern":"pattern",circle:"circle",ellipse:"ellipse",line:"line",path:"path",rect:"rect",svg:"svg",foreignObject:"foreignObject",symbol:"symbol",g:"g",use:"use",defs:"defs",polyline:"polyline",polygon:"polygon",linearGradient:"linearGradient",radialGradient:"radialGradient",stop:"stop",text:"text",pattern:"pattern"}},13525:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isElementContainer=void 0,t.isElementContainer=e=>"children"in e},84654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSharedFacet=t.SharedFacetDriverProvider=t.sharedFacetDriverContext=void 0;const a=n(3464);t.sharedFacetDriverContext=(0,a.createContext)((()=>()=>{})),t.SharedFacetDriverProvider=t.sharedFacetDriverContext.Provider,t.useSharedFacet=e=>e((0,a.useContext)(t.sharedFacetDriverContext))},69358:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(84654),t),r(n(68911),t),r(n(93976),t),r(n(27639),t),r(n(95600),t),r(n(48357),t)},91176:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=new Map;return n=>{const a=t.get(n);if(a)return a;const r=e(n);return t.set(n,r),r}}},68911:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sharedDynamicSelector=void 0;const r=a(n(91176)),l=n(68912),o=n(27639);t.sharedDynamicSelector=function(e,t=l.defaultEqualityCheck){return(0,r.default)((n=>{const[a,i]=e(n),c=(0,r.default)((e=>o.sharedSelector(a,i,t)(e)));return c.factory=l.FACET_FACTORY,c}))}},93976:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sharedFacet=void 0;const r=a(n(91176)),l=n(68912);t.sharedFacet=function(e,t=l.NO_VALUE){const n=(0,r.default)((n=>(0,l.createFacet)({initialValue:t,startSubscription:t=>n(e,t)})));return n.factory=l.FACET_FACTORY,n}},27639:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sharedSelector=void 0;const r=a(n(91176)),l=n(68912);t.sharedSelector=function(e,t,n=l.defaultEqualityCheck){const a=(0,r.default)((a=>(0,l.mapFacetsCached)(t.map((e=>e(a))),e,n)));return a.factory=l.FACET_FACTORY,a}},95600:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},48357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSharedFacetPropSetter=void 0;const a=n(68912),r=n(84654);t.useSharedFacetPropSetter=function(e,t){return(0,a.useFacetCallback)((e=>n=>{e[t]=n}),[t],[(0,r.useSharedFacet)(e)])}},69931:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var l=typeof n;if("string"===l||"number"===l)e.push(n);else if(Array.isArray(n)&&n.length){var o=r.apply(null,n);o&&e.push(o)}else if("object"===l)for(var i in n)a.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},33020:(e,t,n)=>{var a=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,o=/^0o[0-7]+$/i,i=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,s="object"==typeof self&&self&&self.Object===Object&&self,u=c||s||Function("return this")(),d=Object.prototype.toString,m=Math.max,p=Math.min,f=function(){return u.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function E(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=l.test(e);return n||o.test(e)?i(e.slice(2),n?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var a,r,l,o,i,c,s=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=a,l=r;return a=r=void 0,s=t,o=e.apply(l,n)}function b(e){return s=e,i=setTimeout(F,t),u?v(e):o}function y(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-s>=l}function F(){var e=f();if(y(e))return S(e);i=setTimeout(F,function(e){var n=t-(e-c);return d?p(n,l-(e-s)):n}(e))}function S(e){return i=void 0,h&&a?v(e):(a=r=void 0,o)}function C(){var e=f(),n=y(e);if(a=arguments,r=this,c=e,n){if(void 0===i)return b(c);if(d)return i=setTimeout(F,t),v(c)}return void 0===i&&(i=setTimeout(F,t)),o}return t=E(t)||0,g(n)&&(u=!!n.leading,l=(d="maxWait"in n)?m(E(n.maxWait)||0,t):l,h="trailing"in n?!!n.trailing:h),C.cancel=function(){void 0!==i&&clearTimeout(i),s=0,a=c=r=i=void 0},C.flush=function(){return void 0===i?o:S(f())},C}},29584:(e,t,n)=>{var a="Expected a function",r=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,c=parseInt,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=s||u||Function("return this")(),m=Object.prototype.toString,p=Math.max,f=Math.min,g=function(){return d.Date.now()};function E(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==m.call(e)}(e))return NaN;if(E(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=E(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=o.test(e);return n||i.test(e)?c(e.slice(2),n?2:8):l.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,l=!0;if("function"!=typeof e)throw new TypeError(a);return E(n)&&(r="leading"in n?!!n.leading:r,l="trailing"in n?!!n.trailing:l),function(e,t,n){var r,l,o,i,c,s,u=0,d=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError(a);function b(t){var n=r,a=l;return r=l=void 0,u=t,i=e.apply(a,n)}function y(e){return u=e,c=setTimeout(S,t),d?b(e):i}function F(e){var n=e-s;return void 0===s||n>=t||n<0||m&&e-u>=o}function S(){var e=g();if(F(e))return C(e);c=setTimeout(S,function(e){var n=t-(e-s);return m?f(n,o-(e-u)):n}(e))}function C(e){return c=void 0,v&&r?b(e):(r=l=void 0,i)}function M(){var e=g(),n=F(e);if(r=arguments,l=this,s=e,n){if(void 0===c)return y(s);if(m)return c=setTimeout(S,t),b(s)}return void 0===c&&(c=setTimeout(S,t)),i}return t=h(t)||0,E(n)&&(d=!!n.leading,o=(m="maxWait"in n)?p(h(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v),M.cancel=function(){void 0!==c&&clearTimeout(c),u=0,r=s=l=c=void 0},M.flush=function(){return void 0===c?i:C(g())},M}(e,t,{leading:r,maxWait:t,trailing:l})}},42255:(e,t,n)=>{var a=n(8671).runInContext();e.exports=n(47482)(a,a)},47482:(e,t,n)=>{var a=n(17938),r=n(45546),l=Array.prototype.push;function o(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function i(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function c(e,t){return function(){var n=arguments.length;if(n){for(var a=Array(n);n--;)a[n]=arguments[n];var r=a[0]=t.apply(void 0,a);return e.apply(void 0,a),r}}}e.exports=function e(t,n,s,u){var d="function"==typeof n,m=n===Object(n);if(m&&(u=s,s=n,n=void 0),null==s)throw new TypeError;u||(u={});var p=!("cap"in u)||u.cap,f=!("curry"in u)||u.curry,g=!("fixed"in u)||u.fixed,E=!("immutable"in u)||u.immutable,h=!("rearg"in u)||u.rearg,v=d?s:r,b="curry"in u&&u.curry,y="fixed"in u&&u.fixed,F="rearg"in u&&u.rearg,S=d?s.runInContext():void 0,C=d?s:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},M=C.ary,w=C.assign,k=C.clone,T=C.curry,I=C.forEach,P=C.isArray,x=C.isError,O=C.isFunction,A=C.isWeakMap,N=C.keys,R=C.rearg,_=C.toInteger,L=C.toPath,D=N(a.aryMethod),W={castArray:function(e){return function(){var t=arguments[0];return P(t)?e(i(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],a=e(t,n),r=a.length;return p&&"number"==typeof n?(n=n>2?n-2:1,r&&r<=n?a:o(a,n)):a}},mixin:function(e){return function(t){var n=this;if(!O(n))return e(n,Object(t));var a=[];return I(N(t),(function(e){O(t[e])&&a.push([e,n.prototype[e]])})),e(n,Object(t)),I(a,(function(e){var t=e[1];O(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:_(t)+1;return T(e(t),n)}},rearg:function(e){return function(t,n){var a=n?n.length:0;return T(e(t,n),a)}},runInContext:function(n){return function(a){return e(t,n(a),u)}}};function B(e,t,n){if(g&&(y||!a.skipFixed[e])){var r=a.methodSpread[e],o=r&&r.start;return void 0===o?M(t,n):function(e,t){return function(){for(var n=arguments.length,a=n-1,r=Array(n);n--;)r[n]=arguments[n];var o=r[t],i=r.slice(0,t);return o&&l.apply(i,o),t!=a&&l.apply(i,r.slice(t+1)),e.apply(this,i)}}(t,o)}return t}function U(e,t,n){return h&&n>1&&(F||!a.skipRearg[e])?R(t,a.methodRearg[e]||a.aryRearg[n]):t}function z(e,t){for(var n=-1,a=(t=L(t)).length,r=a-1,l=k(Object(e)),o=l;null!=o&&++n<a;){var i=t[n],c=o[i];null==c||O(c)||x(c)||A(c)||(o[i]=k(n==r?c:Object(c))),o=o[i]}return l}function j(t,n){var r=a.aliasToReal[t]||t,l=a.remap[r]||r,o=u;return function(t){var a=d?S:C,i=d?S[l]:n,c=w(w({},o),t);return e(a,r,i,c)}}function H(e,t){return function(){var n=arguments.length;if(!n)return e();for(var a=Array(n);n--;)a[n]=arguments[n];var r=h?0:n-1;return a[r]=t(a[r]),e.apply(void 0,a)}}function V(e,t,n){var r,l=a.aliasToReal[e]||e,s=t,u=W[l];return u?s=u(t):E&&(a.mutate.array[l]?s=c(t,i):a.mutate.object[l]?s=c(t,function(e){return function(t){return e({},t)}}(t)):a.mutate.set[l]&&(s=c(t,z))),I(D,(function(e){return I(a.aryMethod[e],(function(t){if(l==t){var n=a.methodSpread[l],i=n&&n.afterRearg;return r=i?B(l,U(l,s,e),e):U(l,B(l,s,e),e),r=function(e,t,n){return b||f&&n>1?T(t,n):t}(0,r=function(e,t){if(p){var n=a.iterateeRearg[e];if(n)return function(e,t){return H(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(R(o(e,n),t),n)}))}(t,n);var r=!d&&a.iterateeAry[e];if(r)return function(e,t){return H(e,(function(e){return"function"==typeof e?o(e,t):e}))}(t,r)}return t}(l,r),e),!1}})),!r})),r||(r=s),r==t&&(r=b?T(r,1):function(){return t.apply(this,arguments)}),r.convert=j(l,t),r.placeholder=t.placeholder=n,r}if(!m)return V(n,s,v);var G=s,$=[];return I(D,(function(e){I(a.aryMethod[e],(function(e){var t=G[a.remap[e]||e];t&&$.push([e,V(e,t,G)])}))})),I(N(G),(function(e){var t=G[e];if("function"==typeof t){for(var n=$.length;n--;)if($[n][0]==e)return;t.convert=j(e,t),$.push([e,t])}})),I($,(function(e){G[e[0]]=e[1]})),G.convert=function(e){return G.runInContext.convert(e)(void 0)},G.placeholder=G,I(N(G),(function(e){I(a.realToAlias[e]||[],(function(t){G[t]=G[e]}))})),G}},17938:(e,t)=>{t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,a={};for(var r in n){var l=n[r];e.call(a,l)?a[l].push(r):a[l]=[r]}return a}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},45546:e=>{e.exports={}},78136:function(e,t,n){var a;e=n.nmd(e),function(){var r,l="Expected a function",o="__lodash_hash_undefined__",i="__lodash_placeholder__",c=32,s=128,u=1/0,d=9007199254740991,m=NaN,p=4294967295,f=[["ary",s],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],g="[object Arguments]",E="[object Array]",h="[object Boolean]",v="[object Date]",b="[object Error]",y="[object Function]",F="[object GeneratorFunction]",S="[object Map]",C="[object Number]",M="[object Object]",w="[object Promise]",k="[object RegExp]",T="[object Set]",I="[object String]",P="[object Symbol]",x="[object WeakMap]",O="[object ArrayBuffer]",A="[object DataView]",N="[object Float32Array]",R="[object Float64Array]",_="[object Int8Array]",L="[object Int16Array]",D="[object Int32Array]",W="[object Uint8Array]",B="[object Uint8ClampedArray]",U="[object Uint16Array]",z="[object Uint32Array]",j=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,K=RegExp(G.source),X=RegExp($.source),Y=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),ae=/^\s+/,re=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,oe=/\{\n\/\* \[wrapped with (.+)\] \*/,ie=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,se=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,Ee=/^0o[0-7]+$/i,he=/^(?:0|[1-9]\d*)$/,ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,Fe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Me="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",we="["+Me+"]",ke="["+Fe+"]",Te="\\d+",Ie="["+Se+"]",Pe="[^\\ud800-\\udfff"+Me+Te+"\\u2700-\\u27bf"+Se+Ce+"]",xe="\\ud83c[\\udffb-\\udfff]",Oe="[^\\ud800-\\udfff]",Ae="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",Re="["+Ce+"]",_e="(?:"+Ie+"|"+Pe+")",Le="(?:"+Re+"|"+Pe+")",De="(?:['](?:d|ll|m|re|s|t|ve))?",We="(?:['](?:D|LL|M|RE|S|T|VE))?",Be="(?:"+ke+"|"+xe+")?",Ue="[\\ufe0e\\ufe0f]?",ze=Ue+Be+"(?:\\u200d(?:"+[Oe,Ae,Ne].join("|")+")"+Ue+Be+")*",je="(?:"+["[\\u2700-\\u27bf]",Ae,Ne].join("|")+")"+ze,He="(?:"+[Oe+ke+"?",ke,Ae,Ne,"[\\ud800-\\udfff]"].join("|")+")",Ve=RegExp("[']","g"),Ge=RegExp(ke,"g"),$e=RegExp(xe+"(?="+xe+")|"+He+ze,"g"),Ke=RegExp([Re+"?"+Ie+"+"+De+"(?="+[we,Re,"$"].join("|")+")",Le+"+"+We+"(?="+[we,Re+_e,"$"].join("|")+")",Re+"?"+_e+"+"+De,Re+"+"+We,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Te,je].join("|"),"g"),Xe=RegExp("[\\u200d\\ud800-\\udfff"+Fe+"\\ufe0e\\ufe0f]"),Ye=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qe=-1,Je={};Je[N]=Je[R]=Je[_]=Je[L]=Je[D]=Je[W]=Je[B]=Je[U]=Je[z]=!0,Je[g]=Je[E]=Je[O]=Je[h]=Je[A]=Je[v]=Je[b]=Je[y]=Je[S]=Je[C]=Je[M]=Je[k]=Je[T]=Je[I]=Je[x]=!1;var Ze={};Ze[g]=Ze[E]=Ze[O]=Ze[A]=Ze[h]=Ze[v]=Ze[N]=Ze[R]=Ze[_]=Ze[L]=Ze[D]=Ze[S]=Ze[C]=Ze[M]=Ze[k]=Ze[T]=Ze[I]=Ze[P]=Ze[W]=Ze[B]=Ze[U]=Ze[z]=!0,Ze[b]=Ze[y]=Ze[x]=!1;var et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tt=parseFloat,nt=parseInt,at="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,rt="object"==typeof self&&self&&self.Object===Object&&self,lt=at||rt||Function("return this")(),ot=t&&!t.nodeType&&t,it=ot&&e&&!e.nodeType&&e,ct=it&&it.exports===ot,st=ct&&at.process,ut=function(){try{return it&&it.require&&it.require("util").types||st&&st.binding&&st.binding("util")}catch(e){}}(),dt=ut&&ut.isArrayBuffer,mt=ut&&ut.isDate,pt=ut&&ut.isMap,ft=ut&&ut.isRegExp,gt=ut&&ut.isSet,Et=ut&&ut.isTypedArray;function ht(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function vt(e,t,n,a){for(var r=-1,l=null==e?0:e.length;++r<l;){var o=e[r];t(a,o,n(o),e)}return a}function bt(e,t){for(var n=-1,a=null==e?0:e.length;++n<a&&!1!==t(e[n],n,e););return e}function yt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ft(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(!t(e[n],n,e))return!1;return!0}function St(e,t){for(var n=-1,a=null==e?0:e.length,r=0,l=[];++n<a;){var o=e[n];t(o,n,e)&&(l[r++]=o)}return l}function Ct(e,t){return!(null==e||!e.length)&&Nt(e,t,0)>-1}function Mt(e,t,n){for(var a=-1,r=null==e?0:e.length;++a<r;)if(n(t,e[a]))return!0;return!1}function wt(e,t){for(var n=-1,a=null==e?0:e.length,r=Array(a);++n<a;)r[n]=t(e[n],n,e);return r}function kt(e,t){for(var n=-1,a=t.length,r=e.length;++n<a;)e[r+n]=t[n];return e}function Tt(e,t,n,a){var r=-1,l=null==e?0:e.length;for(a&&l&&(n=e[++r]);++r<l;)n=t(n,e[r],r,e);return n}function It(e,t,n,a){var r=null==e?0:e.length;for(a&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function Pt(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}var xt=Dt("length");function Ot(e,t,n){var a;return n(e,(function(e,n,r){if(t(e,n,r))return a=n,!1})),a}function At(e,t,n,a){for(var r=e.length,l=n+(a?1:-1);a?l--:++l<r;)if(t(e[l],l,e))return l;return-1}function Nt(e,t,n){return t==t?function(e,t,n){for(var a=n-1,r=e.length;++a<r;)if(e[a]===t)return a;return-1}(e,t,n):At(e,_t,n)}function Rt(e,t,n,a){for(var r=n-1,l=e.length;++r<l;)if(a(e[r],t))return r;return-1}function _t(e){return e!=e}function Lt(e,t){var n=null==e?0:e.length;return n?Ut(e,t)/n:m}function Dt(e){return function(t){return null==t?r:t[e]}}function Wt(e){return function(t){return null==e?r:e[t]}}function Bt(e,t,n,a,r){return r(e,(function(e,r,l){n=a?(a=!1,e):t(n,e,r,l)})),n}function Ut(e,t){for(var n,a=-1,l=e.length;++a<l;){var o=t(e[a]);o!==r&&(n=n===r?o:n+o)}return n}function zt(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}function jt(e){return e?e.slice(0,on(e)+1).replace(ae,""):e}function Ht(e){return function(t){return e(t)}}function Vt(e,t){return wt(t,(function(t){return e[t]}))}function Gt(e,t){return e.has(t)}function $t(e,t){for(var n=-1,a=e.length;++n<a&&Nt(t,e[n],0)>-1;);return n}function Kt(e,t){for(var n=e.length;n--&&Nt(t,e[n],0)>-1;);return n}function Xt(e,t){for(var n=e.length,a=0;n--;)e[n]===t&&++a;return a}var Yt=Wt({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),qt=Wt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Qt(e){return"\\"+et[e]}function Jt(e){return Xe.test(e)}function Zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,a){n[++t]=[a,e]})),n}function en(e,t){return function(n){return e(t(n))}}function tn(e,t){for(var n=-1,a=e.length,r=0,l=[];++n<a;){var o=e[n];o!==t&&o!==i||(e[n]=i,l[r++]=n)}return l}function nn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function an(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function rn(e){return Jt(e)?function(e){for(var t=$e.lastIndex=0;$e.test(e);)++t;return t}(e):xt(e)}function ln(e){return Jt(e)?function(e){return e.match($e)||[]}(e):function(e){return e.split("")}(e)}function on(e){for(var t=e.length;t--&&re.test(e.charAt(t)););return t}var cn=Wt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),sn=function e(t){var n,a=(t=null==t?lt:sn.defaults(lt.Object(),t,sn.pick(lt,qe))).Array,re=t.Date,Fe=t.Error,Se=t.Function,Ce=t.Math,Me=t.Object,we=t.RegExp,ke=t.String,Te=t.TypeError,Ie=a.prototype,Pe=Se.prototype,xe=Me.prototype,Oe=t["__core-js_shared__"],Ae=Pe.toString,Ne=xe.hasOwnProperty,Re=0,_e=(n=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Le=xe.toString,De=Ae.call(Me),We=lt._,Be=we("^"+Ae.call(Ne).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=ct?t.Buffer:r,ze=t.Symbol,je=t.Uint8Array,He=Ue?Ue.allocUnsafe:r,$e=en(Me.getPrototypeOf,Me),Xe=Me.create,et=xe.propertyIsEnumerable,at=Ie.splice,rt=ze?ze.isConcatSpreadable:r,ot=ze?ze.iterator:r,it=ze?ze.toStringTag:r,st=function(){try{var e=sl(Me,"defineProperty");return e({},"",{}),e}catch(e){}}(),ut=t.clearTimeout!==lt.clearTimeout&&t.clearTimeout,xt=re&&re.now!==lt.Date.now&&re.now,Wt=t.setTimeout!==lt.setTimeout&&t.setTimeout,un=Ce.ceil,dn=Ce.floor,mn=Me.getOwnPropertySymbols,pn=Ue?Ue.isBuffer:r,fn=t.isFinite,gn=Ie.join,En=en(Me.keys,Me),hn=Ce.max,vn=Ce.min,bn=re.now,yn=t.parseInt,Fn=Ce.random,Sn=Ie.reverse,Cn=sl(t,"DataView"),Mn=sl(t,"Map"),wn=sl(t,"Promise"),kn=sl(t,"Set"),Tn=sl(t,"WeakMap"),In=sl(Me,"create"),Pn=Tn&&new Tn,xn={},On=Wl(Cn),An=Wl(Mn),Nn=Wl(wn),Rn=Wl(kn),_n=Wl(Tn),Ln=ze?ze.prototype:r,Dn=Ln?Ln.valueOf:r,Wn=Ln?Ln.toString:r;function Bn(e){if(ni(e)&&!Go(e)&&!(e instanceof Hn)){if(e instanceof jn)return e;if(Ne.call(e,"__wrapped__"))return Bl(e)}return new jn(e)}var Un=function(){function e(){}return function(t){if(!ti(t))return{};if(Xe)return Xe(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function zn(){}function jn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new $n;++t<n;)this.add(e[t])}function Xn(e){var t=this.__data__=new Gn(e);this.size=t.size}function Yn(e,t){var n=Go(e),a=!n&&Vo(e),r=!n&&!a&&Yo(e),l=!n&&!a&&!r&&ui(e),o=n||a||r||l,i=o?zt(e.length,ke):[],c=i.length;for(var s in e)!t&&!Ne.call(e,s)||o&&("length"==s||r&&("offset"==s||"parent"==s)||l&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||El(s,c))||i.push(s);return i}function qn(e){var t=e.length;return t?e[$a(0,t-1)]:r}function Qn(e,t){return Nl(Tr(e),oa(t,0,e.length))}function Jn(e){return Nl(Tr(e))}function Zn(e,t,n){(n!==r&&!zo(e[t],n)||n===r&&!(t in e))&&ra(e,t,n)}function ea(e,t,n){var a=e[t];Ne.call(e,t)&&zo(a,n)&&(n!==r||t in e)||ra(e,t,n)}function ta(e,t){for(var n=e.length;n--;)if(zo(e[n][0],t))return n;return-1}function na(e,t,n,a){return da(e,(function(e,r,l){t(a,e,n(e),l)})),a}function aa(e,t){return e&&Ir(t,Ai(t),e)}function ra(e,t,n){"__proto__"==t&&st?st(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function la(e,t){for(var n=-1,l=t.length,o=a(l),i=null==e;++n<l;)o[n]=i?r:Ti(e,t[n]);return o}function oa(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function ia(e,t,n,a,l,o){var i,c=1&t,s=2&t,u=4&t;if(n&&(i=l?n(e,a,l,o):n(e)),i!==r)return i;if(!ti(e))return e;var d=Go(e);if(d){if(i=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ne.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return Tr(e,i)}else{var m=ml(e),p=m==y||m==F;if(Yo(e))return Fr(e,c);if(m==M||m==g||p&&!l){if(i=s||p?{}:fl(e),!c)return s?function(e,t){return Ir(e,dl(e),t)}(e,function(e,t){return e&&Ir(t,Ni(t),e)}(i,e)):function(e,t){return Ir(e,ul(e),t)}(e,aa(i,e))}else{if(!Ze[m])return l?e:{};i=function(e,t,n){var a,r=e.constructor;switch(t){case O:return Sr(e);case h:case v:return new r(+e);case A:return function(e,t){var n=t?Sr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case N:case R:case _:case L:case D:case W:case B:case U:case z:return Cr(e,n);case S:return new r;case C:case I:return new r(e);case k:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case T:return new r;case P:return a=e,Dn?Me(Dn.call(a)):{}}}(e,m,c)}}o||(o=new Xn);var f=o.get(e);if(f)return f;o.set(e,i),ii(e)?e.forEach((function(a){i.add(ia(a,t,n,a,e,o))})):ai(e)&&e.forEach((function(a,r){i.set(r,ia(a,t,n,r,e,o))}));var E=d?r:(u?s?nl:tl:s?Ni:Ai)(e);return bt(E||e,(function(a,r){E&&(a=e[r=a]),ea(i,r,ia(a,t,n,r,e,o))})),i}function ca(e,t,n){var a=n.length;if(null==e)return!a;for(e=Me(e);a--;){var l=n[a],o=t[l],i=e[l];if(i===r&&!(l in e)||!o(i))return!1}return!0}function sa(e,t,n){if("function"!=typeof e)throw new Te(l);return Pl((function(){e.apply(r,n)}),t)}function ua(e,t,n,a){var r=-1,l=Ct,o=!0,i=e.length,c=[],s=t.length;if(!i)return c;n&&(t=wt(t,Ht(n))),a?(l=Mt,o=!1):t.length>=200&&(l=Gt,o=!1,t=new Kn(t));e:for(;++r<i;){var u=e[r],d=null==n?u:n(u);if(u=a||0!==u?u:0,o&&d==d){for(var m=s;m--;)if(t[m]===d)continue e;c.push(u)}else l(t,d,a)||c.push(u)}return c}Bn.templateSettings={escape:Y,evaluate:q,interpolate:Q,variable:"",imports:{_:Bn}},Bn.prototype=zn.prototype,Bn.prototype.constructor=Bn,jn.prototype=Un(zn.prototype),jn.prototype.constructor=jn,Hn.prototype=Un(zn.prototype),Hn.prototype.constructor=Hn,Vn.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},Vn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vn.prototype.get=function(e){var t=this.__data__;if(In){var n=t[e];return n===o?r:n}return Ne.call(t,e)?t[e]:r},Vn.prototype.has=function(e){var t=this.__data__;return In?t[e]!==r:Ne.call(t,e)},Vn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=In&&t===r?o:t,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=ta(t,e);return!(n<0||(n==t.length-1?t.pop():at.call(t,n,1),--this.size,0))},Gn.prototype.get=function(e){var t=this.__data__,n=ta(t,e);return n<0?r:t[n][1]},Gn.prototype.has=function(e){return ta(this.__data__,e)>-1},Gn.prototype.set=function(e,t){var n=this.__data__,a=ta(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this},$n.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(Mn||Gn),string:new Vn}},$n.prototype.delete=function(e){var t=il(this,e).delete(e);return this.size-=t?1:0,t},$n.prototype.get=function(e){return il(this,e).get(e)},$n.prototype.has=function(e){return il(this,e).has(e)},$n.prototype.set=function(e,t){var n=il(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,o),this},Kn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Xn.prototype.get=function(e){return this.__data__.get(e)},Xn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gn){var a=n.__data__;if(!Mn||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new $n(a)}return n.set(e,t),this.size=n.size,this};var da=Or(ba),ma=Or(ya,!0);function pa(e,t){var n=!0;return da(e,(function(e,a,r){return n=!!t(e,a,r)})),n}function fa(e,t,n){for(var a=-1,l=e.length;++a<l;){var o=e[a],i=t(o);if(null!=i&&(c===r?i==i&&!si(i):n(i,c)))var c=i,s=o}return s}function ga(e,t){var n=[];return da(e,(function(e,a,r){t(e,a,r)&&n.push(e)})),n}function Ea(e,t,n,a,r){var l=-1,o=e.length;for(n||(n=gl),r||(r=[]);++l<o;){var i=e[l];t>0&&n(i)?t>1?Ea(i,t-1,n,a,r):kt(r,i):a||(r[r.length]=i)}return r}var ha=Ar(),va=Ar(!0);function ba(e,t){return e&&ha(e,t,Ai)}function ya(e,t){return e&&va(e,t,Ai)}function Fa(e,t){return St(t,(function(t){return Jo(e[t])}))}function Sa(e,t){for(var n=0,a=(t=hr(t,e)).length;null!=e&&n<a;)e=e[Dl(t[n++])];return n&&n==a?e:r}function Ca(e,t,n){var a=t(e);return Go(e)?a:kt(a,n(e))}function Ma(e){return null==e?e===r?"[object Undefined]":"[object Null]":it&&it in Me(e)?function(e){var t=Ne.call(e,it),n=e[it];try{e[it]=r;var a=!0}catch(e){}var l=Le.call(e);return a&&(t?e[it]=n:delete e[it]),l}(e):function(e){return Le.call(e)}(e)}function wa(e,t){return e>t}function ka(e,t){return null!=e&&Ne.call(e,t)}function Ta(e,t){return null!=e&&t in Me(e)}function Ia(e,t,n){for(var l=n?Mt:Ct,o=e[0].length,i=e.length,c=i,s=a(i),u=1/0,d=[];c--;){var m=e[c];c&&t&&(m=wt(m,Ht(t))),u=vn(m.length,u),s[c]=!n&&(t||o>=120&&m.length>=120)?new Kn(c&&m):r}m=e[0];var p=-1,f=s[0];e:for(;++p<o&&d.length<u;){var g=m[p],E=t?t(g):g;if(g=n||0!==g?g:0,!(f?Gt(f,E):l(d,E,n))){for(c=i;--c;){var h=s[c];if(!(h?Gt(h,E):l(e[c],E,n)))continue e}f&&f.push(E),d.push(g)}}return d}function Pa(e,t,n){var a=null==(e=wl(e,t=hr(t,e)))?e:e[Dl(ql(t))];return null==a?r:ht(a,e,n)}function xa(e){return ni(e)&&Ma(e)==g}function Oa(e,t,n,a,l){return e===t||(null==e||null==t||!ni(e)&&!ni(t)?e!=e&&t!=t:function(e,t,n,a,l,o){var i=Go(e),c=Go(t),s=i?E:ml(e),u=c?E:ml(t),d=(s=s==g?M:s)==M,m=(u=u==g?M:u)==M,p=s==u;if(p&&Yo(e)){if(!Yo(t))return!1;i=!0,d=!1}if(p&&!d)return o||(o=new Xn),i||ui(e)?Zr(e,t,n,a,l,o):function(e,t,n,a,r,l,o){switch(n){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!l(new je(e),new je(t)));case h:case v:case C:return zo(+e,+t);case b:return e.name==t.name&&e.message==t.message;case k:case I:return e==t+"";case S:var i=Zt;case T:var c=1&a;if(i||(i=nn),e.size!=t.size&&!c)return!1;var s=o.get(e);if(s)return s==t;a|=2,o.set(e,t);var u=Zr(i(e),i(t),a,r,l,o);return o.delete(e),u;case P:if(Dn)return Dn.call(e)==Dn.call(t)}return!1}(e,t,s,n,a,l,o);if(!(1&n)){var f=d&&Ne.call(e,"__wrapped__"),y=m&&Ne.call(t,"__wrapped__");if(f||y){var F=f?e.value():e,w=y?t.value():t;return o||(o=new Xn),l(F,w,n,a,o)}}return!!p&&(o||(o=new Xn),function(e,t,n,a,l,o){var i=1&n,c=tl(e),s=c.length;if(s!=tl(t).length&&!i)return!1;for(var u=s;u--;){var d=c[u];if(!(i?d in t:Ne.call(t,d)))return!1}var m=o.get(e),p=o.get(t);if(m&&p)return m==t&&p==e;var f=!0;o.set(e,t),o.set(t,e);for(var g=i;++u<s;){var E=e[d=c[u]],h=t[d];if(a)var v=i?a(h,E,d,t,e,o):a(E,h,d,e,t,o);if(!(v===r?E===h||l(E,h,n,a,o):v)){f=!1;break}g||(g="constructor"==d)}if(f&&!g){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,a,l,o))}(e,t,n,a,Oa,l))}function Aa(e,t,n,a){var l=n.length,o=l,i=!a;if(null==e)return!o;for(e=Me(e);l--;){var c=n[l];if(i&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++l<o;){var s=(c=n[l])[0],u=e[s],d=c[1];if(i&&c[2]){if(u===r&&!(s in e))return!1}else{var m=new Xn;if(a)var p=a(u,d,s,e,t,m);if(!(p===r?Oa(d,u,3,a,m):p))return!1}}return!0}function Na(e){return!(!ti(e)||(t=e,_e&&_e in t))&&(Jo(e)?Be:ge).test(Wl(e));var t}function Ra(e){return"function"==typeof e?e:null==e?rc:"object"==typeof e?Go(e)?Ba(e[0],e[1]):Wa(e):pc(e)}function _a(e){if(!Fl(e))return En(e);var t=[];for(var n in Me(e))Ne.call(e,n)&&"constructor"!=n&&t.push(n);return t}function La(e,t){return e<t}function Da(e,t){var n=-1,r=Ko(e)?a(e.length):[];return da(e,(function(e,a,l){r[++n]=t(e,a,l)})),r}function Wa(e){var t=cl(e);return 1==t.length&&t[0][2]?Cl(t[0][0],t[0][1]):function(n){return n===e||Aa(n,e,t)}}function Ba(e,t){return vl(e)&&Sl(t)?Cl(Dl(e),t):function(n){var a=Ti(n,e);return a===r&&a===t?Ii(n,e):Oa(t,a,3)}}function Ua(e,t,n,a,l){e!==t&&ha(t,(function(o,i){if(l||(l=new Xn),ti(o))!function(e,t,n,a,l,o,i){var c=Tl(e,n),s=Tl(t,n),u=i.get(s);if(u)Zn(e,n,u);else{var d=o?o(c,s,n+"",e,t,i):r,m=d===r;if(m){var p=Go(s),f=!p&&Yo(s),g=!p&&!f&&ui(s);d=s,p||f||g?Go(c)?d=c:Xo(c)?d=Tr(c):f?(m=!1,d=Fr(s,!0)):g?(m=!1,d=Cr(s,!0)):d=[]:li(s)||Vo(s)?(d=c,Vo(c)?d=vi(c):ti(c)&&!Jo(c)||(d=fl(s))):m=!1}m&&(i.set(s,d),l(d,s,a,o,i),i.delete(s)),Zn(e,n,d)}}(e,t,i,n,Ua,a,l);else{var c=a?a(Tl(e,i),o,i+"",e,t,l):r;c===r&&(c=o),Zn(e,i,c)}}),Ni)}function za(e,t){var n=e.length;if(n)return El(t+=t<0?n:0,n)?e[t]:r}function ja(e,t,n){t=t.length?wt(t,(function(e){return Go(e)?function(t){return Sa(t,1===e.length?e[0]:e)}:e})):[rc];var a=-1;t=wt(t,Ht(ol()));var r=Da(e,(function(e,n,r){var l=wt(t,(function(t){return t(e)}));return{criteria:l,index:++a,value:e}}));return function(e,t){var a=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var a=-1,r=e.criteria,l=t.criteria,o=r.length,i=n.length;++a<o;){var c=Mr(r[a],l[a]);if(c)return a>=i?c:c*("desc"==n[a]?-1:1)}return e.index-t.index}(e,t,n)}));a--;)e[a]=e[a].value;return e}(r)}function Ha(e,t,n){for(var a=-1,r=t.length,l={};++a<r;){var o=t[a],i=Sa(e,o);n(i,o)&&Qa(l,hr(o,e),i)}return l}function Va(e,t,n,a){var r=a?Rt:Nt,l=-1,o=t.length,i=e;for(e===t&&(t=Tr(t)),n&&(i=wt(e,Ht(n)));++l<o;)for(var c=0,s=t[l],u=n?n(s):s;(c=r(i,u,c,a))>-1;)i!==e&&at.call(i,c,1),at.call(e,c,1);return e}function Ga(e,t){for(var n=e?t.length:0,a=n-1;n--;){var r=t[n];if(n==a||r!==l){var l=r;El(r)?at.call(e,r,1):sr(e,r)}}return e}function $a(e,t){return e+dn(Fn()*(t-e+1))}function Ka(e,t){var n="";if(!e||t<1||t>d)return n;do{t%2&&(n+=e),(t=dn(t/2))&&(e+=e)}while(t);return n}function Xa(e,t){return xl(Ml(e,t,rc),e+"")}function Ya(e){return qn(zi(e))}function qa(e,t){var n=zi(e);return Nl(n,oa(t,0,n.length))}function Qa(e,t,n,a){if(!ti(e))return e;for(var l=-1,o=(t=hr(t,e)).length,i=o-1,c=e;null!=c&&++l<o;){var s=Dl(t[l]),u=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(l!=i){var d=c[s];(u=a?a(d,s,c):r)===r&&(u=ti(d)?d:El(t[l+1])?[]:{})}ea(c,s,u),c=c[s]}return e}var Ja=Pn?function(e,t){return Pn.set(e,t),e}:rc,Za=st?function(e,t){return st(e,"toString",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:rc;function er(e){return Nl(zi(e))}function tr(e,t,n){var r=-1,l=e.length;t<0&&(t=-t>l?0:l+t),(n=n>l?l:n)<0&&(n+=l),l=t>n?0:n-t>>>0,t>>>=0;for(var o=a(l);++r<l;)o[r]=e[r+t];return o}function nr(e,t){var n;return da(e,(function(e,a,r){return!(n=t(e,a,r))})),!!n}function ar(e,t,n){var a=0,r=null==e?a:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;a<r;){var l=a+r>>>1,o=e[l];null!==o&&!si(o)&&(n?o<=t:o<t)?a=l+1:r=l}return r}return rr(e,t,rc,n)}function rr(e,t,n,a){var l=0,o=null==e?0:e.length;if(0===o)return 0;for(var i=(t=n(t))!=t,c=null===t,s=si(t),u=t===r;l<o;){var d=dn((l+o)/2),m=n(e[d]),p=m!==r,f=null===m,g=m==m,E=si(m);if(i)var h=a||g;else h=u?g&&(a||p):c?g&&p&&(a||!f):s?g&&p&&!f&&(a||!E):!f&&!E&&(a?m<=t:m<t);h?l=d+1:o=d}return vn(o,4294967294)}function lr(e,t){for(var n=-1,a=e.length,r=0,l=[];++n<a;){var o=e[n],i=t?t(o):o;if(!n||!zo(i,c)){var c=i;l[r++]=0===o?0:o}}return l}function or(e){return"number"==typeof e?e:si(e)?m:+e}function ir(e){if("string"==typeof e)return e;if(Go(e))return wt(e,ir)+"";if(si(e))return Wn?Wn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function cr(e,t,n){var a=-1,r=Ct,l=e.length,o=!0,i=[],c=i;if(n)o=!1,r=Mt;else if(l>=200){var s=t?null:Kr(e);if(s)return nn(s);o=!1,r=Gt,c=new Kn}else c=t?[]:i;e:for(;++a<l;){var u=e[a],d=t?t(u):u;if(u=n||0!==u?u:0,o&&d==d){for(var m=c.length;m--;)if(c[m]===d)continue e;t&&c.push(d),i.push(u)}else r(c,d,n)||(c!==i&&c.push(d),i.push(u))}return i}function sr(e,t){return null==(e=wl(e,t=hr(t,e)))||delete e[Dl(ql(t))]}function ur(e,t,n,a){return Qa(e,t,n(Sa(e,t)),a)}function dr(e,t,n,a){for(var r=e.length,l=a?r:-1;(a?l--:++l<r)&&t(e[l],l,e););return n?tr(e,a?0:l,a?l+1:r):tr(e,a?l+1:0,a?r:l)}function mr(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Tt(t,(function(e,t){return t.func.apply(t.thisArg,kt([e],t.args))}),n)}function pr(e,t,n){var r=e.length;if(r<2)return r?cr(e[0]):[];for(var l=-1,o=a(r);++l<r;)for(var i=e[l],c=-1;++c<r;)c!=l&&(o[l]=ua(o[l]||i,e[c],t,n));return cr(Ea(o,1),t,n)}function fr(e,t,n){for(var a=-1,l=e.length,o=t.length,i={};++a<l;){var c=a<o?t[a]:r;n(i,e[a],c)}return i}function gr(e){return Xo(e)?e:[]}function Er(e){return"function"==typeof e?e:rc}function hr(e,t){return Go(e)?e:vl(e,t)?[e]:Ll(bi(e))}var vr=Xa;function br(e,t,n){var a=e.length;return n=n===r?a:n,!t&&n>=a?e:tr(e,t,n)}var yr=ut||function(e){return lt.clearTimeout(e)};function Fr(e,t){if(t)return e.slice();var n=e.length,a=He?He(n):new e.constructor(n);return e.copy(a),a}function Sr(e){var t=new e.constructor(e.byteLength);return new je(t).set(new je(e)),t}function Cr(e,t){var n=t?Sr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Mr(e,t){if(e!==t){var n=e!==r,a=null===e,l=e==e,o=si(e),i=t!==r,c=null===t,s=t==t,u=si(t);if(!c&&!u&&!o&&e>t||o&&i&&s&&!c&&!u||a&&i&&s||!n&&s||!l)return 1;if(!a&&!o&&!u&&e<t||u&&n&&l&&!a&&!o||c&&n&&l||!i&&l||!s)return-1}return 0}function wr(e,t,n,r){for(var l=-1,o=e.length,i=n.length,c=-1,s=t.length,u=hn(o-i,0),d=a(s+u),m=!r;++c<s;)d[c]=t[c];for(;++l<i;)(m||l<o)&&(d[n[l]]=e[l]);for(;u--;)d[c++]=e[l++];return d}function kr(e,t,n,r){for(var l=-1,o=e.length,i=-1,c=n.length,s=-1,u=t.length,d=hn(o-c,0),m=a(d+u),p=!r;++l<d;)m[l]=e[l];for(var f=l;++s<u;)m[f+s]=t[s];for(;++i<c;)(p||l<o)&&(m[f+n[i]]=e[l++]);return m}function Tr(e,t){var n=-1,r=e.length;for(t||(t=a(r));++n<r;)t[n]=e[n];return t}function Ir(e,t,n,a){var l=!n;n||(n={});for(var o=-1,i=t.length;++o<i;){var c=t[o],s=a?a(n[c],e[c],c,n,e):r;s===r&&(s=e[c]),l?ra(n,c,s):ea(n,c,s)}return n}function Pr(e,t){return function(n,a){var r=Go(n)?vt:na,l=t?t():{};return r(n,e,ol(a,2),l)}}function xr(e){return Xa((function(t,n){var a=-1,l=n.length,o=l>1?n[l-1]:r,i=l>2?n[2]:r;for(o=e.length>3&&"function"==typeof o?(l--,o):r,i&&hl(n[0],n[1],i)&&(o=l<3?r:o,l=1),t=Me(t);++a<l;){var c=n[a];c&&e(t,c,a,o)}return t}))}function Or(e,t){return function(n,a){if(null==n)return n;if(!Ko(n))return e(n,a);for(var r=n.length,l=t?r:-1,o=Me(n);(t?l--:++l<r)&&!1!==a(o[l],l,o););return n}}function Ar(e){return function(t,n,a){for(var r=-1,l=Me(t),o=a(t),i=o.length;i--;){var c=o[e?i:++r];if(!1===n(l[c],c,l))break}return t}}function Nr(e){return function(t){var n=Jt(t=bi(t))?ln(t):r,a=n?n[0]:t.charAt(0),l=n?br(n,1).join(""):t.slice(1);return a[e]()+l}}function Rr(e){return function(t){return Tt(Ji(Vi(t).replace(Ve,"")),e,"")}}function _r(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Un(e.prototype),a=e.apply(n,t);return ti(a)?a:n}}function Lr(e){return function(t,n,a){var l=Me(t);if(!Ko(t)){var o=ol(n,3);t=Ai(t),n=function(e){return o(l[e],e,l)}}var i=e(t,n,a);return i>-1?l[o?t[i]:i]:r}}function Dr(e){return el((function(t){var n=t.length,a=n,o=jn.prototype.thru;for(e&&t.reverse();a--;){var i=t[a];if("function"!=typeof i)throw new Te(l);if(o&&!c&&"wrapper"==rl(i))var c=new jn([],!0)}for(a=c?a:n;++a<n;){var s=rl(i=t[a]),u="wrapper"==s?al(i):r;c=u&&bl(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[rl(u[0])].apply(c,u[3]):1==i.length&&bl(i)?c[s]():c.thru(i)}return function(){var e=arguments,a=e[0];if(c&&1==e.length&&Go(a))return c.plant(a).value();for(var r=0,l=n?t[r].apply(this,e):a;++r<n;)l=t[r].call(this,l);return l}}))}function Wr(e,t,n,l,o,i,c,u,d,m){var p=t&s,f=1&t,g=2&t,E=24&t,h=512&t,v=g?r:_r(e);return function r(){for(var s=arguments.length,b=a(s),y=s;y--;)b[y]=arguments[y];if(E)var F=ll(r),S=Xt(b,F);if(l&&(b=wr(b,l,o,E)),i&&(b=kr(b,i,c,E)),s-=S,E&&s<m){var C=tn(b,F);return Gr(e,t,Wr,r.placeholder,n,b,C,u,d,m-s)}var M=f?n:this,w=g?M[e]:e;return s=b.length,u?b=kl(b,u):h&&s>1&&b.reverse(),p&&d<s&&(b.length=d),this&&this!==lt&&this instanceof r&&(w=v||_r(w)),w.apply(M,b)}}function Br(e,t){return function(n,a){return function(e,t,n,a){return ba(e,(function(e,r,l){t(a,n(e),r,l)})),a}(n,e,t(a),{})}}function Ur(e,t){return function(n,a){var l;if(n===r&&a===r)return t;if(n!==r&&(l=n),a!==r){if(l===r)return a;"string"==typeof n||"string"==typeof a?(n=ir(n),a=ir(a)):(n=or(n),a=or(a)),l=e(n,a)}return l}}function zr(e){return el((function(t){return t=wt(t,Ht(ol())),Xa((function(n){var a=this;return e(t,(function(e){return ht(e,a,n)}))}))}))}function jr(e,t){var n=(t=t===r?" ":ir(t)).length;if(n<2)return n?Ka(t,e):t;var a=Ka(t,un(e/rn(t)));return Jt(t)?br(ln(a),0,e).join(""):a.slice(0,e)}function Hr(e){return function(t,n,l){return l&&"number"!=typeof l&&hl(t,n,l)&&(n=l=r),t=fi(t),n===r?(n=t,t=0):n=fi(n),function(e,t,n,r){for(var l=-1,o=hn(un((t-e)/(n||1)),0),i=a(o);o--;)i[r?o:++l]=e,e+=n;return i}(t,n,l=l===r?t<n?1:-1:fi(l),e)}}function Vr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=hi(t),n=hi(n)),e(t,n)}}function Gr(e,t,n,a,l,o,i,s,u,d){var m=8&t;t|=m?c:64,4&(t&=~(m?64:c))||(t&=-4);var p=[e,t,l,m?o:r,m?i:r,m?r:o,m?r:i,s,u,d],f=n.apply(r,p);return bl(e)&&Il(f,p),f.placeholder=a,Ol(f,e,t)}function $r(e){var t=Ce[e];return function(e,n){if(e=hi(e),(n=null==n?0:vn(gi(n),292))&&fn(e)){var a=(bi(e)+"e").split("e");return+((a=(bi(t(a[0]+"e"+(+a[1]+n)))+"e").split("e"))[0]+"e"+(+a[1]-n))}return t(e)}}var Kr=kn&&1/nn(new kn([,-0]))[1]==u?function(e){return new kn(e)}:sc;function Xr(e){return function(t){var n=ml(t);return n==S?Zt(t):n==T?an(t):function(e,t){return wt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Yr(e,t,n,o,u,d,m,p){var f=2&t;if(!f&&"function"!=typeof e)throw new Te(l);var g=o?o.length:0;if(g||(t&=-97,o=u=r),m=m===r?m:hn(gi(m),0),p=p===r?p:gi(p),g-=u?u.length:0,64&t){var E=o,h=u;o=u=r}var v=f?r:al(e),b=[e,t,n,o,u,E,h,d,m,p];if(v&&function(e,t){var n=e[1],a=t[1],r=n|a,l=r<131,o=a==s&&8==n||a==s&&256==n&&e[7].length<=t[8]||384==a&&t[7].length<=t[8]&&8==n;if(!l&&!o)return e;1&a&&(e[2]=t[2],r|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?wr(u,c,t[4]):c,e[4]=u?tn(e[3],i):t[4]}(c=t[5])&&(u=e[5],e[5]=u?kr(u,c,t[6]):c,e[6]=u?tn(e[5],i):t[6]),(c=t[7])&&(e[7]=c),a&s&&(e[8]=null==e[8]?t[8]:vn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}(b,v),e=b[0],t=b[1],n=b[2],o=b[3],u=b[4],!(p=b[9]=b[9]===r?f?0:e.length:hn(b[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?function(e,t,n){var l=_r(e);return function o(){for(var i=arguments.length,c=a(i),s=i,u=ll(o);s--;)c[s]=arguments[s];var d=i<3&&c[0]!==u&&c[i-1]!==u?[]:tn(c,u);return(i-=d.length)<n?Gr(e,t,Wr,o.placeholder,r,c,d,r,r,n-i):ht(this&&this!==lt&&this instanceof o?l:e,this,c)}}(e,t,p):t!=c&&33!=t||u.length?Wr.apply(r,b):function(e,t,n,r){var l=1&t,o=_r(e);return function t(){for(var i=-1,c=arguments.length,s=-1,u=r.length,d=a(u+c),m=this&&this!==lt&&this instanceof t?o:e;++s<u;)d[s]=r[s];for(;c--;)d[s++]=arguments[++i];return ht(m,l?n:this,d)}}(e,t,n,o);else var y=function(e,t,n){var a=1&t,r=_r(e);return function t(){return(this&&this!==lt&&this instanceof t?r:e).apply(a?n:this,arguments)}}(e,t,n);return Ol((v?Ja:Il)(y,b),e,t)}function qr(e,t,n,a){return e===r||zo(e,xe[n])&&!Ne.call(a,n)?t:e}function Qr(e,t,n,a,l,o){return ti(e)&&ti(t)&&(o.set(t,e),Ua(e,t,r,Qr,o),o.delete(t)),e}function Jr(e){return li(e)?r:e}function Zr(e,t,n,a,l,o){var i=1&n,c=e.length,s=t.length;if(c!=s&&!(i&&s>c))return!1;var u=o.get(e),d=o.get(t);if(u&&d)return u==t&&d==e;var m=-1,p=!0,f=2&n?new Kn:r;for(o.set(e,t),o.set(t,e);++m<c;){var g=e[m],E=t[m];if(a)var h=i?a(E,g,m,t,e,o):a(g,E,m,e,t,o);if(h!==r){if(h)continue;p=!1;break}if(f){if(!Pt(t,(function(e,t){if(!Gt(f,t)&&(g===e||l(g,e,n,a,o)))return f.push(t)}))){p=!1;break}}else if(g!==E&&!l(g,E,n,a,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function el(e){return xl(Ml(e,r,Gl),e+"")}function tl(e){return Ca(e,Ai,ul)}function nl(e){return Ca(e,Ni,dl)}var al=Pn?function(e){return Pn.get(e)}:sc;function rl(e){for(var t=e.name+"",n=xn[t],a=Ne.call(xn,t)?n.length:0;a--;){var r=n[a],l=r.func;if(null==l||l==e)return r.name}return t}function ll(e){return(Ne.call(Bn,"placeholder")?Bn:e).placeholder}function ol(){var e=Bn.iteratee||lc;return e=e===lc?Ra:e,arguments.length?e(arguments[0],arguments[1]):e}function il(e,t){var n,a,r=e.__data__;return("string"==(a=typeof(n=t))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function cl(e){for(var t=Ai(e),n=t.length;n--;){var a=t[n],r=e[a];t[n]=[a,r,Sl(r)]}return t}function sl(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return Na(n)?n:r}var ul=mn?function(e){return null==e?[]:(e=Me(e),St(mn(e),(function(t){return et.call(e,t)})))}:Ec,dl=mn?function(e){for(var t=[];e;)kt(t,ul(e)),e=$e(e);return t}:Ec,ml=Ma;function pl(e,t,n){for(var a=-1,r=(t=hr(t,e)).length,l=!1;++a<r;){var o=Dl(t[a]);if(!(l=null!=e&&n(e,o)))break;e=e[o]}return l||++a!=r?l:!!(r=null==e?0:e.length)&&ei(r)&&El(o,r)&&(Go(e)||Vo(e))}function fl(e){return"function"!=typeof e.constructor||Fl(e)?{}:Un($e(e))}function gl(e){return Go(e)||Vo(e)||!!(rt&&e&&e[rt])}function El(e,t){var n=typeof e;return!!(t=null==t?d:t)&&("number"==n||"symbol"!=n&&he.test(e))&&e>-1&&e%1==0&&e<t}function hl(e,t,n){if(!ti(n))return!1;var a=typeof t;return!!("number"==a?Ko(n)&&El(t,n.length):"string"==a&&t in n)&&zo(n[t],e)}function vl(e,t){if(Go(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!si(e))||Z.test(e)||!J.test(e)||null!=t&&e in Me(t)}function bl(e){var t=rl(e),n=Bn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var a=al(n);return!!a&&e===a[0]}(Cn&&ml(new Cn(new ArrayBuffer(1)))!=A||Mn&&ml(new Mn)!=S||wn&&ml(wn.resolve())!=w||kn&&ml(new kn)!=T||Tn&&ml(new Tn)!=x)&&(ml=function(e){var t=Ma(e),n=t==M?e.constructor:r,a=n?Wl(n):"";if(a)switch(a){case On:return A;case An:return S;case Nn:return w;case Rn:return T;case _n:return x}return t});var yl=Oe?Jo:hc;function Fl(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xe)}function Sl(e){return e==e&&!ti(e)}function Cl(e,t){return function(n){return null!=n&&n[e]===t&&(t!==r||e in Me(n))}}function Ml(e,t,n){return t=hn(t===r?e.length-1:t,0),function(){for(var r=arguments,l=-1,o=hn(r.length-t,0),i=a(o);++l<o;)i[l]=r[t+l];l=-1;for(var c=a(t+1);++l<t;)c[l]=r[l];return c[t]=n(i),ht(e,this,c)}}function wl(e,t){return t.length<2?e:Sa(e,tr(t,0,-1))}function kl(e,t){for(var n=e.length,a=vn(t.length,n),l=Tr(e);a--;){var o=t[a];e[a]=El(o,n)?l[o]:r}return e}function Tl(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Il=Al(Ja),Pl=Wt||function(e,t){return lt.setTimeout(e,t)},xl=Al(Za);function Ol(e,t,n){var a=t+"";return xl(e,function(e,t){var n=t.length;if(!n)return e;var a=n-1;return t[a]=(n>1?"& ":"")+t[a],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(a,function(e,t){return bt(f,(function(n){var a="_."+n[0];t&n[1]&&!Ct(e,a)&&e.push(a)})),e.sort()}(function(e){var t=e.match(oe);return t?t[1].split(ie):[]}(a),n)))}function Al(e){var t=0,n=0;return function(){var a=bn(),l=16-(a-n);if(n=a,l>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Nl(e,t){var n=-1,a=e.length,l=a-1;for(t=t===r?a:t;++n<t;){var o=$a(n,l),i=e[o];e[o]=e[n],e[n]=i}return e.length=t,e}var Rl,_l,Ll=(Rl=_o((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,a,r){t.push(a?r.replace(ue,"$1"):n||e)})),t}),(function(e){return 500===_l.size&&_l.clear(),e})),_l=Rl.cache,Rl);function Dl(e){if("string"==typeof e||si(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Wl(e){if(null!=e){try{return Ae.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Bl(e){if(e instanceof Hn)return e.clone();var t=new jn(e.__wrapped__,e.__chain__);return t.__actions__=Tr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ul=Xa((function(e,t){return Xo(e)?ua(e,Ea(t,1,Xo,!0)):[]})),zl=Xa((function(e,t){var n=ql(t);return Xo(n)&&(n=r),Xo(e)?ua(e,Ea(t,1,Xo,!0),ol(n,2)):[]})),jl=Xa((function(e,t){var n=ql(t);return Xo(n)&&(n=r),Xo(e)?ua(e,Ea(t,1,Xo,!0),r,n):[]}));function Hl(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var r=null==n?0:gi(n);return r<0&&(r=hn(a+r,0)),At(e,ol(t,3),r)}function Vl(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var l=a-1;return n!==r&&(l=gi(n),l=n<0?hn(a+l,0):vn(l,a-1)),At(e,ol(t,3),l,!0)}function Gl(e){return null!=e&&e.length?Ea(e,1):[]}function $l(e){return e&&e.length?e[0]:r}var Kl=Xa((function(e){var t=wt(e,gr);return t.length&&t[0]===e[0]?Ia(t):[]})),Xl=Xa((function(e){var t=ql(e),n=wt(e,gr);return t===ql(n)?t=r:n.pop(),n.length&&n[0]===e[0]?Ia(n,ol(t,2)):[]})),Yl=Xa((function(e){var t=ql(e),n=wt(e,gr);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?Ia(n,r,t):[]}));function ql(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Ql=Xa(Jl);function Jl(e,t){return e&&e.length&&t&&t.length?Va(e,t):e}var Zl=el((function(e,t){var n=null==e?0:e.length,a=la(e,t);return Ga(e,wt(t,(function(e){return El(e,n)?+e:e})).sort(Mr)),a}));function eo(e){return null==e?e:Sn.call(e)}var to=Xa((function(e){return cr(Ea(e,1,Xo,!0))})),no=Xa((function(e){var t=ql(e);return Xo(t)&&(t=r),cr(Ea(e,1,Xo,!0),ol(t,2))})),ao=Xa((function(e){var t=ql(e);return t="function"==typeof t?t:r,cr(Ea(e,1,Xo,!0),r,t)}));function ro(e){if(!e||!e.length)return[];var t=0;return e=St(e,(function(e){if(Xo(e))return t=hn(e.length,t),!0})),zt(t,(function(t){return wt(e,Dt(t))}))}function lo(e,t){if(!e||!e.length)return[];var n=ro(e);return null==t?n:wt(n,(function(e){return ht(t,r,e)}))}var oo=Xa((function(e,t){return Xo(e)?ua(e,t):[]})),io=Xa((function(e){return pr(St(e,Xo))})),co=Xa((function(e){var t=ql(e);return Xo(t)&&(t=r),pr(St(e,Xo),ol(t,2))})),so=Xa((function(e){var t=ql(e);return t="function"==typeof t?t:r,pr(St(e,Xo),r,t)})),uo=Xa(ro),mo=Xa((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,lo(e,n)}));function po(e){var t=Bn(e);return t.__chain__=!0,t}function fo(e,t){return t(e)}var go=el((function(e){var t=e.length,n=t?e[0]:0,a=this.__wrapped__,l=function(t){return la(t,e)};return!(t>1||this.__actions__.length)&&a instanceof Hn&&El(n)?((a=a.slice(n,+n+(t?1:0))).__actions__.push({func:fo,args:[l],thisArg:r}),new jn(a,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(l)})),Eo=Pr((function(e,t,n){Ne.call(e,n)?++e[n]:ra(e,n,1)})),ho=Lr(Hl),vo=Lr(Vl);function bo(e,t){return(Go(e)?bt:da)(e,ol(t,3))}function yo(e,t){return(Go(e)?yt:ma)(e,ol(t,3))}var Fo=Pr((function(e,t,n){Ne.call(e,n)?e[n].push(t):ra(e,n,[t])})),So=Xa((function(e,t,n){var r=-1,l="function"==typeof t,o=Ko(e)?a(e.length):[];return da(e,(function(e){o[++r]=l?ht(t,e,n):Pa(e,t,n)})),o})),Co=Pr((function(e,t,n){ra(e,n,t)}));function Mo(e,t){return(Go(e)?wt:Da)(e,ol(t,3))}var wo=Pr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),ko=Xa((function(e,t){if(null==e)return[];var n=t.length;return n>1&&hl(e,t[0],t[1])?t=[]:n>2&&hl(t[0],t[1],t[2])&&(t=[t[0]]),ja(e,Ea(t,1),[])})),To=xt||function(){return lt.Date.now()};function Io(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Yr(e,s,r,r,r,r,t)}function Po(e,t){var n;if("function"!=typeof t)throw new Te(l);return e=gi(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var xo=Xa((function(e,t,n){var a=1;if(n.length){var r=tn(n,ll(xo));a|=c}return Yr(e,a,t,n,r)})),Oo=Xa((function(e,t,n){var a=3;if(n.length){var r=tn(n,ll(Oo));a|=c}return Yr(t,a,e,n,r)}));function Ao(e,t,n){var a,o,i,c,s,u,d=0,m=!1,p=!1,f=!0;if("function"!=typeof e)throw new Te(l);function g(t){var n=a,l=o;return a=o=r,d=t,c=e.apply(l,n)}function E(e){return d=e,s=Pl(v,t),m?g(e):c}function h(e){var n=e-u;return u===r||n>=t||n<0||p&&e-d>=i}function v(){var e=To();if(h(e))return b(e);s=Pl(v,function(e){var n=t-(e-u);return p?vn(n,i-(e-d)):n}(e))}function b(e){return s=r,f&&a?g(e):(a=o=r,c)}function y(){var e=To(),n=h(e);if(a=arguments,o=this,u=e,n){if(s===r)return E(u);if(p)return yr(s),s=Pl(v,t),g(u)}return s===r&&(s=Pl(v,t)),c}return t=hi(t)||0,ti(n)&&(m=!!n.leading,i=(p="maxWait"in n)?hn(hi(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),y.cancel=function(){s!==r&&yr(s),d=0,a=u=o=s=r},y.flush=function(){return s===r?c:b(To())},y}var No=Xa((function(e,t){return sa(e,1,t)})),Ro=Xa((function(e,t,n){return sa(e,hi(t)||0,n)}));function _o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Te(l);var n=function(){var a=arguments,r=t?t.apply(this,a):a[0],l=n.cache;if(l.has(r))return l.get(r);var o=e.apply(this,a);return n.cache=l.set(r,o)||l,o};return n.cache=new(_o.Cache||$n),n}function Lo(e){if("function"!=typeof e)throw new Te(l);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}_o.Cache=$n;var Do=vr((function(e,t){var n=(t=1==t.length&&Go(t[0])?wt(t[0],Ht(ol())):wt(Ea(t,1),Ht(ol()))).length;return Xa((function(a){for(var r=-1,l=vn(a.length,n);++r<l;)a[r]=t[r].call(this,a[r]);return ht(e,this,a)}))})),Wo=Xa((function(e,t){var n=tn(t,ll(Wo));return Yr(e,c,r,t,n)})),Bo=Xa((function(e,t){var n=tn(t,ll(Bo));return Yr(e,64,r,t,n)})),Uo=el((function(e,t){return Yr(e,256,r,r,r,t)}));function zo(e,t){return e===t||e!=e&&t!=t}var jo=Vr(wa),Ho=Vr((function(e,t){return e>=t})),Vo=xa(function(){return arguments}())?xa:function(e){return ni(e)&&Ne.call(e,"callee")&&!et.call(e,"callee")},Go=a.isArray,$o=dt?Ht(dt):function(e){return ni(e)&&Ma(e)==O};function Ko(e){return null!=e&&ei(e.length)&&!Jo(e)}function Xo(e){return ni(e)&&Ko(e)}var Yo=pn||hc,qo=mt?Ht(mt):function(e){return ni(e)&&Ma(e)==v};function Qo(e){if(!ni(e))return!1;var t=Ma(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!li(e)}function Jo(e){if(!ti(e))return!1;var t=Ma(e);return t==y||t==F||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Zo(e){return"number"==typeof e&&e==gi(e)}function ei(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function ti(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ni(e){return null!=e&&"object"==typeof e}var ai=pt?Ht(pt):function(e){return ni(e)&&ml(e)==S};function ri(e){return"number"==typeof e||ni(e)&&Ma(e)==C}function li(e){if(!ni(e)||Ma(e)!=M)return!1;var t=$e(e);if(null===t)return!0;var n=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ae.call(n)==De}var oi=ft?Ht(ft):function(e){return ni(e)&&Ma(e)==k},ii=gt?Ht(gt):function(e){return ni(e)&&ml(e)==T};function ci(e){return"string"==typeof e||!Go(e)&&ni(e)&&Ma(e)==I}function si(e){return"symbol"==typeof e||ni(e)&&Ma(e)==P}var ui=Et?Ht(Et):function(e){return ni(e)&&ei(e.length)&&!!Je[Ma(e)]},di=Vr(La),mi=Vr((function(e,t){return e<=t}));function pi(e){if(!e)return[];if(Ko(e))return ci(e)?ln(e):Tr(e);if(ot&&e[ot])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[ot]());var t=ml(e);return(t==S?Zt:t==T?nn:zi)(e)}function fi(e){return e?(e=hi(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function gi(e){var t=fi(e),n=t%1;return t==t?n?t-n:t:0}function Ei(e){return e?oa(gi(e),0,p):0}function hi(e){if("number"==typeof e)return e;if(si(e))return m;if(ti(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ti(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=jt(e);var n=fe.test(e);return n||Ee.test(e)?nt(e.slice(2),n?2:8):pe.test(e)?m:+e}function vi(e){return Ir(e,Ni(e))}function bi(e){return null==e?"":ir(e)}var yi=xr((function(e,t){if(Fl(t)||Ko(t))Ir(t,Ai(t),e);else for(var n in t)Ne.call(t,n)&&ea(e,n,t[n])})),Fi=xr((function(e,t){Ir(t,Ni(t),e)})),Si=xr((function(e,t,n,a){Ir(t,Ni(t),e,a)})),Ci=xr((function(e,t,n,a){Ir(t,Ai(t),e,a)})),Mi=el(la),wi=Xa((function(e,t){e=Me(e);var n=-1,a=t.length,l=a>2?t[2]:r;for(l&&hl(t[0],t[1],l)&&(a=1);++n<a;)for(var o=t[n],i=Ni(o),c=-1,s=i.length;++c<s;){var u=i[c],d=e[u];(d===r||zo(d,xe[u])&&!Ne.call(e,u))&&(e[u]=o[u])}return e})),ki=Xa((function(e){return e.push(r,Qr),ht(_i,r,e)}));function Ti(e,t,n){var a=null==e?r:Sa(e,t);return a===r?n:a}function Ii(e,t){return null!=e&&pl(e,t,Ta)}var Pi=Br((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),e[t]=n}),tc(rc)),xi=Br((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),Ne.call(e,t)?e[t].push(n):e[t]=[n]}),ol),Oi=Xa(Pa);function Ai(e){return Ko(e)?Yn(e):_a(e)}function Ni(e){return Ko(e)?Yn(e,!0):function(e){if(!ti(e))return function(e){var t=[];if(null!=e)for(var n in Me(e))t.push(n);return t}(e);var t=Fl(e),n=[];for(var a in e)("constructor"!=a||!t&&Ne.call(e,a))&&n.push(a);return n}(e)}var Ri=xr((function(e,t,n){Ua(e,t,n)})),_i=xr((function(e,t,n,a){Ua(e,t,n,a)})),Li=el((function(e,t){var n={};if(null==e)return n;var a=!1;t=wt(t,(function(t){return t=hr(t,e),a||(a=t.length>1),t})),Ir(e,nl(e),n),a&&(n=ia(n,7,Jr));for(var r=t.length;r--;)sr(n,t[r]);return n})),Di=el((function(e,t){return null==e?{}:function(e,t){return Ha(e,t,(function(t,n){return Ii(e,n)}))}(e,t)}));function Wi(e,t){if(null==e)return{};var n=wt(nl(e),(function(e){return[e]}));return t=ol(t),Ha(e,n,(function(e,n){return t(e,n[0])}))}var Bi=Xr(Ai),Ui=Xr(Ni);function zi(e){return null==e?[]:Vt(e,Ai(e))}var ji=Rr((function(e,t,n){return t=t.toLowerCase(),e+(n?Hi(t):t)}));function Hi(e){return Qi(bi(e).toLowerCase())}function Vi(e){return(e=bi(e))&&e.replace(ve,Yt).replace(Ge,"")}var Gi=Rr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),$i=Rr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ki=Nr("toLowerCase"),Xi=Rr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Yi=Rr((function(e,t,n){return e+(n?" ":"")+Qi(t)})),qi=Rr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qi=Nr("toUpperCase");function Ji(e,t,n){return e=bi(e),(t=n?r:t)===r?function(e){return Ye.test(e)}(e)?function(e){return e.match(Ke)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Zi=Xa((function(e,t){try{return ht(e,r,t)}catch(e){return Qo(e)?e:new Fe(e)}})),ec=el((function(e,t){return bt(t,(function(t){t=Dl(t),ra(e,t,xo(e[t],e))})),e}));function tc(e){return function(){return e}}var nc=Dr(),ac=Dr(!0);function rc(e){return e}function lc(e){return Ra("function"==typeof e?e:ia(e,1))}var oc=Xa((function(e,t){return function(n){return Pa(n,e,t)}})),ic=Xa((function(e,t){return function(n){return Pa(e,n,t)}}));function cc(e,t,n){var a=Ai(t),r=Fa(t,a);null!=n||ti(t)&&(r.length||!a.length)||(n=t,t=e,e=this,r=Fa(t,Ai(t)));var l=!(ti(n)&&"chain"in n&&!n.chain),o=Jo(e);return bt(r,(function(n){var a=t[n];e[n]=a,o&&(e.prototype[n]=function(){var t=this.__chain__;if(l||t){var n=e(this.__wrapped__),r=n.__actions__=Tr(this.__actions__);return r.push({func:a,args:arguments,thisArg:e}),n.__chain__=t,n}return a.apply(e,kt([this.value()],arguments))})})),e}function sc(){}var uc=zr(wt),dc=zr(Ft),mc=zr(Pt);function pc(e){return vl(e)?Dt(Dl(e)):function(e){return function(t){return Sa(t,e)}}(e)}var fc=Hr(),gc=Hr(!0);function Ec(){return[]}function hc(){return!1}var vc,bc=Ur((function(e,t){return e+t}),0),yc=$r("ceil"),Fc=Ur((function(e,t){return e/t}),1),Sc=$r("floor"),Cc=Ur((function(e,t){return e*t}),1),Mc=$r("round"),wc=Ur((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Te(l);return e=gi(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Io,Bn.assign=yi,Bn.assignIn=Fi,Bn.assignInWith=Si,Bn.assignWith=Ci,Bn.at=Mi,Bn.before=Po,Bn.bind=xo,Bn.bindAll=ec,Bn.bindKey=Oo,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Go(e)?e:[e]},Bn.chain=po,Bn.chunk=function(e,t,n){t=(n?hl(e,t,n):t===r)?1:hn(gi(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var o=0,i=0,c=a(un(l/t));o<l;)c[i++]=tr(e,o,o+=t);return c},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,a=0,r=[];++t<n;){var l=e[t];l&&(r[a++]=l)}return r},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=a(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return kt(Go(n)?Tr(n):[n],Ea(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=ol();return e=t?wt(e,(function(e){if("function"!=typeof e[1])throw new Te(l);return[n(e[0]),e[1]]})):[],Xa((function(n){for(var a=-1;++a<t;){var r=e[a];if(ht(r[0],this,n))return ht(r[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Ai(e);return function(n){return ca(n,e,t)}}(ia(e,1))},Bn.constant=tc,Bn.countBy=Eo,Bn.create=function(e,t){var n=Un(e);return null==t?n:aa(n,t)},Bn.curry=function e(t,n,a){var l=Yr(t,8,r,r,r,r,r,n=a?r:n);return l.placeholder=e.placeholder,l},Bn.curryRight=function e(t,n,a){var l=Yr(t,16,r,r,r,r,r,n=a?r:n);return l.placeholder=e.placeholder,l},Bn.debounce=Ao,Bn.defaults=wi,Bn.defaultsDeep=ki,Bn.defer=No,Bn.delay=Ro,Bn.difference=Ul,Bn.differenceBy=zl,Bn.differenceWith=jl,Bn.drop=function(e,t,n){var a=null==e?0:e.length;return a?tr(e,(t=n||t===r?1:gi(t))<0?0:t,a):[]},Bn.dropRight=function(e,t,n){var a=null==e?0:e.length;return a?tr(e,0,(t=a-(t=n||t===r?1:gi(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?dr(e,ol(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?dr(e,ol(t,3),!0):[]},Bn.fill=function(e,t,n,a){var l=null==e?0:e.length;return l?(n&&"number"!=typeof n&&hl(e,t,n)&&(n=0,a=l),function(e,t,n,a){var l=e.length;for((n=gi(n))<0&&(n=-n>l?0:l+n),(a=a===r||a>l?l:gi(a))<0&&(a+=l),a=n>a?0:Ei(a);n<a;)e[n++]=t;return e}(e,t,n,a)):[]},Bn.filter=function(e,t){return(Go(e)?St:ga)(e,ol(t,3))},Bn.flatMap=function(e,t){return Ea(Mo(e,t),1)},Bn.flatMapDeep=function(e,t){return Ea(Mo(e,t),u)},Bn.flatMapDepth=function(e,t,n){return n=n===r?1:gi(n),Ea(Mo(e,t),n)},Bn.flatten=Gl,Bn.flattenDeep=function(e){return null!=e&&e.length?Ea(e,u):[]},Bn.flattenDepth=function(e,t){return null!=e&&e.length?Ea(e,t=t===r?1:gi(t)):[]},Bn.flip=function(e){return Yr(e,512)},Bn.flow=nc,Bn.flowRight=ac,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,a={};++t<n;){var r=e[t];a[r[0]]=r[1]}return a},Bn.functions=function(e){return null==e?[]:Fa(e,Ai(e))},Bn.functionsIn=function(e){return null==e?[]:Fa(e,Ni(e))},Bn.groupBy=Fo,Bn.initial=function(e){return null!=e&&e.length?tr(e,0,-1):[]},Bn.intersection=Kl,Bn.intersectionBy=Xl,Bn.intersectionWith=Yl,Bn.invert=Pi,Bn.invertBy=xi,Bn.invokeMap=So,Bn.iteratee=lc,Bn.keyBy=Co,Bn.keys=Ai,Bn.keysIn=Ni,Bn.map=Mo,Bn.mapKeys=function(e,t){var n={};return t=ol(t,3),ba(e,(function(e,a,r){ra(n,t(e,a,r),e)})),n},Bn.mapValues=function(e,t){var n={};return t=ol(t,3),ba(e,(function(e,a,r){ra(n,a,t(e,a,r))})),n},Bn.matches=function(e){return Wa(ia(e,1))},Bn.matchesProperty=function(e,t){return Ba(e,ia(t,1))},Bn.memoize=_o,Bn.merge=Ri,Bn.mergeWith=_i,Bn.method=oc,Bn.methodOf=ic,Bn.mixin=cc,Bn.negate=Lo,Bn.nthArg=function(e){return e=gi(e),Xa((function(t){return za(t,e)}))},Bn.omit=Li,Bn.omitBy=function(e,t){return Wi(e,Lo(ol(t)))},Bn.once=function(e){return Po(2,e)},Bn.orderBy=function(e,t,n,a){return null==e?[]:(Go(t)||(t=null==t?[]:[t]),Go(n=a?r:n)||(n=null==n?[]:[n]),ja(e,t,n))},Bn.over=uc,Bn.overArgs=Do,Bn.overEvery=dc,Bn.overSome=mc,Bn.partial=Wo,Bn.partialRight=Bo,Bn.partition=wo,Bn.pick=Di,Bn.pickBy=Wi,Bn.property=pc,Bn.propertyOf=function(e){return function(t){return null==e?r:Sa(e,t)}},Bn.pull=Ql,Bn.pullAll=Jl,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Va(e,t,ol(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Va(e,t,r,n):e},Bn.pullAt=Zl,Bn.range=fc,Bn.rangeRight=gc,Bn.rearg=Uo,Bn.reject=function(e,t){return(Go(e)?St:ga)(e,Lo(ol(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var a=-1,r=[],l=e.length;for(t=ol(t,3);++a<l;){var o=e[a];t(o,a,e)&&(n.push(o),r.push(a))}return Ga(e,r),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Te(l);return Xa(e,t=t===r?t:gi(t))},Bn.reverse=eo,Bn.sampleSize=function(e,t,n){return t=(n?hl(e,t,n):t===r)?1:gi(t),(Go(e)?Qn:qa)(e,t)},Bn.set=function(e,t,n){return null==e?e:Qa(e,t,n)},Bn.setWith=function(e,t,n,a){return a="function"==typeof a?a:r,null==e?e:Qa(e,t,n,a)},Bn.shuffle=function(e){return(Go(e)?Jn:er)(e)},Bn.slice=function(e,t,n){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&hl(e,t,n)?(t=0,n=a):(t=null==t?0:gi(t),n=n===r?a:gi(n)),tr(e,t,n)):[]},Bn.sortBy=ko,Bn.sortedUniq=function(e){return e&&e.length?lr(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?lr(e,ol(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&hl(e,t,n)&&(t=n=r),(n=n===r?p:n>>>0)?(e=bi(e))&&("string"==typeof t||null!=t&&!oi(t))&&!(t=ir(t))&&Jt(e)?br(ln(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Te(l);return t=null==t?0:hn(gi(t),0),Xa((function(n){var a=n[t],r=br(n,0,t);return a&&kt(r,a),ht(e,this,r)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?tr(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?tr(e,0,(t=n||t===r?1:gi(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var a=null==e?0:e.length;return a?tr(e,(t=a-(t=n||t===r?1:gi(t)))<0?0:t,a):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?dr(e,ol(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?dr(e,ol(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var a=!0,r=!0;if("function"!=typeof e)throw new Te(l);return ti(n)&&(a="leading"in n?!!n.leading:a,r="trailing"in n?!!n.trailing:r),Ao(e,t,{leading:a,maxWait:t,trailing:r})},Bn.thru=fo,Bn.toArray=pi,Bn.toPairs=Bi,Bn.toPairsIn=Ui,Bn.toPath=function(e){return Go(e)?wt(e,Dl):si(e)?[e]:Tr(Ll(bi(e)))},Bn.toPlainObject=vi,Bn.transform=function(e,t,n){var a=Go(e),r=a||Yo(e)||ui(e);if(t=ol(t,4),null==n){var l=e&&e.constructor;n=r?a?new l:[]:ti(e)&&Jo(l)?Un($e(e)):{}}return(r?bt:ba)(e,(function(e,a,r){return t(n,e,a,r)})),n},Bn.unary=function(e){return Io(e,1)},Bn.union=to,Bn.unionBy=no,Bn.unionWith=ao,Bn.uniq=function(e){return e&&e.length?cr(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?cr(e,ol(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?cr(e,r,t):[]},Bn.unset=function(e,t){return null==e||sr(e,t)},Bn.unzip=ro,Bn.unzipWith=lo,Bn.update=function(e,t,n){return null==e?e:ur(e,t,Er(n))},Bn.updateWith=function(e,t,n,a){return a="function"==typeof a?a:r,null==e?e:ur(e,t,Er(n),a)},Bn.values=zi,Bn.valuesIn=function(e){return null==e?[]:Vt(e,Ni(e))},Bn.without=oo,Bn.words=Ji,Bn.wrap=function(e,t){return Wo(Er(t),e)},Bn.xor=io,Bn.xorBy=co,Bn.xorWith=so,Bn.zip=uo,Bn.zipObject=function(e,t){return fr(e||[],t||[],ea)},Bn.zipObjectDeep=function(e,t){return fr(e||[],t||[],Qa)},Bn.zipWith=mo,Bn.entries=Bi,Bn.entriesIn=Ui,Bn.extend=Fi,Bn.extendWith=Si,cc(Bn,Bn),Bn.add=bc,Bn.attempt=Zi,Bn.camelCase=ji,Bn.capitalize=Hi,Bn.ceil=yc,Bn.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=hi(n))==n?n:0),t!==r&&(t=(t=hi(t))==t?t:0),oa(hi(e),t,n)},Bn.clone=function(e){return ia(e,4)},Bn.cloneDeep=function(e){return ia(e,5)},Bn.cloneDeepWith=function(e,t){return ia(e,5,t="function"==typeof t?t:r)},Bn.cloneWith=function(e,t){return ia(e,4,t="function"==typeof t?t:r)},Bn.conformsTo=function(e,t){return null==t||ca(e,t,Ai(t))},Bn.deburr=Vi,Bn.defaultTo=function(e,t){return null==e||e!=e?t:e},Bn.divide=Fc,Bn.endsWith=function(e,t,n){e=bi(e),t=ir(t);var a=e.length,l=n=n===r?a:oa(gi(n),0,a);return(n-=t.length)>=0&&e.slice(n,l)==t},Bn.eq=zo,Bn.escape=function(e){return(e=bi(e))&&X.test(e)?e.replace($,qt):e},Bn.escapeRegExp=function(e){return(e=bi(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Bn.every=function(e,t,n){var a=Go(e)?Ft:pa;return n&&hl(e,t,n)&&(t=r),a(e,ol(t,3))},Bn.find=ho,Bn.findIndex=Hl,Bn.findKey=function(e,t){return Ot(e,ol(t,3),ba)},Bn.findLast=vo,Bn.findLastIndex=Vl,Bn.findLastKey=function(e,t){return Ot(e,ol(t,3),ya)},Bn.floor=Sc,Bn.forEach=bo,Bn.forEachRight=yo,Bn.forIn=function(e,t){return null==e?e:ha(e,ol(t,3),Ni)},Bn.forInRight=function(e,t){return null==e?e:va(e,ol(t,3),Ni)},Bn.forOwn=function(e,t){return e&&ba(e,ol(t,3))},Bn.forOwnRight=function(e,t){return e&&ya(e,ol(t,3))},Bn.get=Ti,Bn.gt=jo,Bn.gte=Ho,Bn.has=function(e,t){return null!=e&&pl(e,t,ka)},Bn.hasIn=Ii,Bn.head=$l,Bn.identity=rc,Bn.includes=function(e,t,n,a){e=Ko(e)?e:zi(e),n=n&&!a?gi(n):0;var r=e.length;return n<0&&(n=hn(r+n,0)),ci(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&Nt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var r=null==n?0:gi(n);return r<0&&(r=hn(a+r,0)),Nt(e,t,r)},Bn.inRange=function(e,t,n){return t=fi(t),n===r?(n=t,t=0):n=fi(n),function(e,t,n){return e>=vn(t,n)&&e<hn(t,n)}(e=hi(e),t,n)},Bn.invoke=Oi,Bn.isArguments=Vo,Bn.isArray=Go,Bn.isArrayBuffer=$o,Bn.isArrayLike=Ko,Bn.isArrayLikeObject=Xo,Bn.isBoolean=function(e){return!0===e||!1===e||ni(e)&&Ma(e)==h},Bn.isBuffer=Yo,Bn.isDate=qo,Bn.isElement=function(e){return ni(e)&&1===e.nodeType&&!li(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Ko(e)&&(Go(e)||"string"==typeof e||"function"==typeof e.splice||Yo(e)||ui(e)||Vo(e)))return!e.length;var t=ml(e);if(t==S||t==T)return!e.size;if(Fl(e))return!_a(e).length;for(var n in e)if(Ne.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Oa(e,t)},Bn.isEqualWith=function(e,t,n){var a=(n="function"==typeof n?n:r)?n(e,t):r;return a===r?Oa(e,t,r,n):!!a},Bn.isError=Qo,Bn.isFinite=function(e){return"number"==typeof e&&fn(e)},Bn.isFunction=Jo,Bn.isInteger=Zo,Bn.isLength=ei,Bn.isMap=ai,Bn.isMatch=function(e,t){return e===t||Aa(e,t,cl(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,Aa(e,t,cl(t),n)},Bn.isNaN=function(e){return ri(e)&&e!=+e},Bn.isNative=function(e){if(yl(e))throw new Fe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Na(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=ri,Bn.isObject=ti,Bn.isObjectLike=ni,Bn.isPlainObject=li,Bn.isRegExp=oi,Bn.isSafeInteger=function(e){return Zo(e)&&e>=-9007199254740991&&e<=d},Bn.isSet=ii,Bn.isString=ci,Bn.isSymbol=si,Bn.isTypedArray=ui,Bn.isUndefined=function(e){return e===r},Bn.isWeakMap=function(e){return ni(e)&&ml(e)==x},Bn.isWeakSet=function(e){return ni(e)&&"[object WeakSet]"==Ma(e)},Bn.join=function(e,t){return null==e?"":gn.call(e,t)},Bn.kebabCase=Gi,Bn.last=ql,Bn.lastIndexOf=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var l=a;return n!==r&&(l=(l=gi(n))<0?hn(a+l,0):vn(l,a-1)),t==t?function(e,t,n){for(var a=n+1;a--;)if(e[a]===t)return a;return a}(e,t,l):At(e,_t,l,!0)},Bn.lowerCase=$i,Bn.lowerFirst=Ki,Bn.lt=di,Bn.lte=mi,Bn.max=function(e){return e&&e.length?fa(e,rc,wa):r},Bn.maxBy=function(e,t){return e&&e.length?fa(e,ol(t,2),wa):r},Bn.mean=function(e){return Lt(e,rc)},Bn.meanBy=function(e,t){return Lt(e,ol(t,2))},Bn.min=function(e){return e&&e.length?fa(e,rc,La):r},Bn.minBy=function(e,t){return e&&e.length?fa(e,ol(t,2),La):r},Bn.stubArray=Ec,Bn.stubFalse=hc,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=Cc,Bn.nth=function(e,t){return e&&e.length?za(e,gi(t)):r},Bn.noConflict=function(){return lt._===this&&(lt._=We),this},Bn.noop=sc,Bn.now=To,Bn.pad=function(e,t,n){e=bi(e);var a=(t=gi(t))?rn(e):0;if(!t||a>=t)return e;var r=(t-a)/2;return jr(dn(r),n)+e+jr(un(r),n)},Bn.padEnd=function(e,t,n){e=bi(e);var a=(t=gi(t))?rn(e):0;return t&&a<t?e+jr(t-a,n):e},Bn.padStart=function(e,t,n){e=bi(e);var a=(t=gi(t))?rn(e):0;return t&&a<t?jr(t-a,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),yn(bi(e).replace(ae,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&hl(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=fi(e),t===r?(t=e,e=0):t=fi(t)),e>t){var a=e;e=t,t=a}if(n||e%1||t%1){var l=Fn();return vn(e+l*(t-e+tt("1e-"+((l+"").length-1))),t)}return $a(e,t)},Bn.reduce=function(e,t,n){var a=Go(e)?Tt:Bt,r=arguments.length<3;return a(e,ol(t,4),n,r,da)},Bn.reduceRight=function(e,t,n){var a=Go(e)?It:Bt,r=arguments.length<3;return a(e,ol(t,4),n,r,ma)},Bn.repeat=function(e,t,n){return t=(n?hl(e,t,n):t===r)?1:gi(t),Ka(bi(e),t)},Bn.replace=function(){var e=arguments,t=bi(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var a=-1,l=(t=hr(t,e)).length;for(l||(l=1,e=r);++a<l;){var o=null==e?r:e[Dl(t[a])];o===r&&(a=l,o=n),e=Jo(o)?o.call(e):o}return e},Bn.round=Mc,Bn.runInContext=e,Bn.sample=function(e){return(Go(e)?qn:Ya)(e)},Bn.size=function(e){if(null==e)return 0;if(Ko(e))return ci(e)?rn(e):e.length;var t=ml(e);return t==S||t==T?e.size:_a(e).length},Bn.snakeCase=Xi,Bn.some=function(e,t,n){var a=Go(e)?Pt:nr;return n&&hl(e,t,n)&&(t=r),a(e,ol(t,3))},Bn.sortedIndex=function(e,t){return ar(e,t)},Bn.sortedIndexBy=function(e,t,n){return rr(e,t,ol(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var a=ar(e,t);if(a<n&&zo(e[a],t))return a}return-1},Bn.sortedLastIndex=function(e,t){return ar(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return rr(e,t,ol(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ar(e,t,!0)-1;if(zo(e[n],t))return n}return-1},Bn.startCase=Yi,Bn.startsWith=function(e,t,n){return e=bi(e),n=null==n?0:oa(gi(n),0,e.length),t=ir(t),e.slice(n,n+t.length)==t},Bn.subtract=wc,Bn.sum=function(e){return e&&e.length?Ut(e,rc):0},Bn.sumBy=function(e,t){return e&&e.length?Ut(e,ol(t,2)):0},Bn.template=function(e,t,n){var a=Bn.templateSettings;n&&hl(e,t,n)&&(t=r),e=bi(e),t=Si({},t,a,qr);var l,o,i=Si({},t.imports,a.imports,qr),c=Ai(i),s=Vt(i,c),u=0,d=t.interpolate||be,m="__p += '",p=we((t.escape||be).source+"|"+d.source+"|"+(d===Q?de:be).source+"|"+(t.evaluate||be).source+"|$","g"),f="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Qe+"]")+"\n";e.replace(p,(function(t,n,a,r,i,c){return a||(a=r),m+=e.slice(u,c).replace(ye,Qt),n&&(l=!0,m+="' +\n__e("+n+") +\n'"),i&&(o=!0,m+="';\n"+i+";\n__p += '"),a&&(m+="' +\n((__t = ("+a+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),m+="';\n";var g=Ne.call(t,"variable")&&t.variable;if(g){if(se.test(g))throw new Fe("Invalid `variable` option passed into `_.template`")}else m="with (obj) {\n"+m+"\n}\n";m=(o?m.replace(j,""):m).replace(H,"$1").replace(V,"$1;"),m="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(l?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var E=Zi((function(){return Se(c,f+"return "+m).apply(r,s)}));if(E.source=m,Qo(E))throw E;return E},Bn.times=function(e,t){if((e=gi(e))<1||e>d)return[];var n=p,a=vn(e,p);t=ol(t),e-=p;for(var r=zt(a,t);++n<e;)t(n);return r},Bn.toFinite=fi,Bn.toInteger=gi,Bn.toLength=Ei,Bn.toLower=function(e){return bi(e).toLowerCase()},Bn.toNumber=hi,Bn.toSafeInteger=function(e){return e?oa(gi(e),-9007199254740991,d):0===e?e:0},Bn.toString=bi,Bn.toUpper=function(e){return bi(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=bi(e))&&(n||t===r))return jt(e);if(!e||!(t=ir(t)))return e;var a=ln(e),l=ln(t);return br(a,$t(a,l),Kt(a,l)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=bi(e))&&(n||t===r))return e.slice(0,on(e)+1);if(!e||!(t=ir(t)))return e;var a=ln(e);return br(a,0,Kt(a,ln(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=bi(e))&&(n||t===r))return e.replace(ae,"");if(!e||!(t=ir(t)))return e;var a=ln(e);return br(a,$t(a,ln(t))).join("")},Bn.truncate=function(e,t){var n=30,a="...";if(ti(t)){var l="separator"in t?t.separator:l;n="length"in t?gi(t.length):n,a="omission"in t?ir(t.omission):a}var o=(e=bi(e)).length;if(Jt(e)){var i=ln(e);o=i.length}if(n>=o)return e;var c=n-rn(a);if(c<1)return a;var s=i?br(i,0,c).join(""):e.slice(0,c);if(l===r)return s+a;if(i&&(c+=s.length-c),oi(l)){if(e.slice(c).search(l)){var u,d=s;for(l.global||(l=we(l.source,bi(me.exec(l))+"g")),l.lastIndex=0;u=l.exec(d);)var m=u.index;s=s.slice(0,m===r?c:m)}}else if(e.indexOf(ir(l),c)!=c){var p=s.lastIndexOf(l);p>-1&&(s=s.slice(0,p))}return s+a},Bn.unescape=function(e){return(e=bi(e))&&K.test(e)?e.replace(G,cn):e},Bn.uniqueId=function(e){var t=++Re;return bi(e)+t},Bn.upperCase=qi,Bn.upperFirst=Qi,Bn.each=bo,Bn.eachRight=yo,Bn.first=$l,cc(Bn,(vc={},ba(Bn,(function(e,t){Ne.call(Bn.prototype,t)||(vc[t]=e)})),vc),{chain:!1}),Bn.VERSION="4.17.21",bt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),bt(["drop","take"],(function(e,t){Hn.prototype[e]=function(n){n=n===r?1:hn(gi(n),0);var a=this.__filtered__&&!t?new Hn(this):this.clone();return a.__filtered__?a.__takeCount__=vn(n,a.__takeCount__):a.__views__.push({size:vn(n,p),type:e+(a.__dir__<0?"Right":"")}),a},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),bt(["filter","map","takeWhile"],(function(e,t){var n=t+1,a=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ol(e,3),type:n}),t.__filtered__=t.__filtered__||a,t}})),bt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),bt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(rc)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Xa((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Pa(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(Lo(ol(e)))},Hn.prototype.slice=function(e,t){e=gi(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=gi(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(p)},ba(Hn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),a=/^(?:head|last)$/.test(t),l=Bn[a?"take"+("last"==t?"Right":""):t],o=a||/^find/.test(t);l&&(Bn.prototype[t]=function(){var t=this.__wrapped__,i=a?[1]:arguments,c=t instanceof Hn,s=i[0],u=c||Go(t),d=function(e){var t=l.apply(Bn,kt([e],i));return a&&m?t[0]:t};u&&n&&"function"==typeof s&&1!=s.length&&(c=u=!1);var m=this.__chain__,p=!!this.__actions__.length,f=o&&!m,g=c&&!p;if(!o&&u){t=g?t:new Hn(this);var E=e.apply(t,i);return E.__actions__.push({func:fo,args:[d],thisArg:r}),new jn(E,m)}return f&&g?e.apply(this,i):(E=this.thru(d),f?a?E.value()[0]:E.value():E)})})),bt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(a&&!this.__chain__){var r=this.value();return t.apply(Go(r)?r:[],e)}return this[n]((function(n){return t.apply(Go(n)?n:[],e)}))}})),ba(Hn.prototype,(function(e,t){var n=Bn[t];if(n){var a=n.name+"";Ne.call(xn,a)||(xn[a]=[]),xn[a].push({name:t,func:n})}})),xn[Wr(r,2).name]=[{name:"wrapper",func:r}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Tr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Tr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Tr(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Go(e),a=t<0,r=n?e.length:0,l=function(e,t,n){for(var a=-1,r=n.length;++a<r;){var l=n[a],o=l.size;switch(l.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=vn(t,e+o);break;case"takeRight":e=hn(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=l.start,i=l.end,c=i-o,s=a?i:o-1,u=this.__iteratees__,d=u.length,m=0,p=vn(c,this.__takeCount__);if(!n||!a&&r==c&&p==c)return mr(e,this.__actions__);var f=[];e:for(;c--&&m<p;){for(var g=-1,E=e[s+=t];++g<d;){var h=u[g],v=h.iteratee,b=h.type,y=v(E);if(2==b)E=y;else if(!y){if(1==b)continue e;break e}}f[m++]=E}return f},Bn.prototype.at=go,Bn.prototype.chain=function(){return po(this)},Bn.prototype.commit=function(){return new jn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===r&&(this.__values__=pi(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var a=Bl(n);a.__index__=0,a.__values__=r,t?l.__wrapped__=a:t=a;var l=a;n=n.__wrapped__}return l.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:fo,args:[eo],thisArg:r}),new jn(t,this.__chain__)}return this.thru(eo)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return mr(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,ot&&(Bn.prototype[ot]=function(){return this}),Bn}();lt._=sn,(a=function(){return sn}.call(t,n,t,e))===r||(e.exports=a)}.call(this)},8671:function(e,t,n){var a;e=n.nmd(e),function(){function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function l(e,t,n,a){for(var r=-1,l=null==e?0:e.length;++r<l;){var o=e[r];t(a,o,n(o),e)}return a}function o(e,t){for(var n=-1,a=null==e?0:e.length;++n<a&&!1!==t(e[n],n,e););return e}function i(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function c(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(!t(e[n],n,e))return!1;return!0}function s(e,t){for(var n=-1,a=null==e?0:e.length,r=0,l=[];++n<a;){var o=e[n];t(o,n,e)&&(l[r++]=o)}return l}function u(e,t){return!(null==e||!e.length)&&b(e,t,0)>-1}function d(e,t,n){for(var a=-1,r=null==e?0:e.length;++a<r;)if(n(t,e[a]))return!0;return!1}function m(e,t){for(var n=-1,a=null==e?0:e.length,r=Array(a);++n<a;)r[n]=t(e[n],n,e);return r}function p(e,t){for(var n=-1,a=t.length,r=e.length;++n<a;)e[r+n]=t[n];return e}function f(e,t,n,a){var r=-1,l=null==e?0:e.length;for(a&&l&&(n=e[++r]);++r<l;)n=t(n,e[r],r,e);return n}function g(e,t,n,a){var r=null==e?0:e.length;for(a&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function E(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}function h(e,t,n){var a;return n(e,(function(e,n,r){if(t(e,n,r))return a=n,!1})),a}function v(e,t,n,a){for(var r=e.length,l=n+(a?1:-1);a?l--:++l<r;)if(t(e[l],l,e))return l;return-1}function b(e,t,n){return t==t?function(e,t,n){for(var a=n-1,r=e.length;++a<r;)if(e[a]===t)return a;return-1}(e,t,n):v(e,F,n)}function y(e,t,n,a){for(var r=n-1,l=e.length;++r<l;)if(a(e[r],t))return r;return-1}function F(e){return e!=e}function S(e,t){var n=null==e?0:e.length;return n?k(e,t)/n:ee}function C(e){return function(t){return null==t?$:t[e]}}function M(e){return function(t){return null==e?$:e[t]}}function w(e,t,n,a,r){return r(e,(function(e,r,l){n=a?(a=!1,e):t(n,e,r,l)})),n}function k(e,t){for(var n,a=-1,r=e.length;++a<r;){var l=t(e[a]);l!==$&&(n=n===$?l:n+l)}return n}function T(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}function I(e){return e?e.slice(0,V(e)+1).replace(Ge,""):e}function P(e){return function(t){return e(t)}}function x(e,t){return m(t,(function(t){return e[t]}))}function O(e,t){return e.has(t)}function A(e,t){for(var n=-1,a=e.length;++n<a&&b(t,e[n],0)>-1;);return n}function N(e,t){for(var n=e.length;n--&&b(t,e[n],0)>-1;);return n}function R(e,t){for(var n=e.length,a=0;n--;)e[n]===t&&++a;return a}function _(e){return"\\"+Kt[e]}function L(e){return zt.test(e)}function D(e){return jt.test(e)}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e,a){n[++t]=[a,e]})),n}function B(e,t){return function(n){return e(t(n))}}function U(e,t){for(var n=-1,a=e.length,r=0,l=[];++n<a;){var o=e[n];o!==t&&o!==Y||(e[n]=Y,l[r++]=n)}return l}function z(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function j(e){return L(e)?function(e){for(var t=Bt.lastIndex=0;Bt.test(e);)++t;return t}(e):dn(e)}function H(e){return L(e)?function(e){return e.match(Bt)||[]}(e):function(e){return e.split("")}(e)}function V(e){for(var t=e.length;t--&&$e.test(e.charAt(t)););return t}function G(e){return e.match(Ut)||[]}var $,K="Expected a function",X="__lodash_hash_undefined__",Y="__lodash_placeholder__",q=32,Q=128,J=1/0,Z=9007199254740991,ee=NaN,te=4294967295,ne=[["ary",Q],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",q],["partialRight",64],["rearg",256]],ae="[object Arguments]",re="[object Array]",le="[object Boolean]",oe="[object Date]",ie="[object Error]",ce="[object Function]",se="[object GeneratorFunction]",ue="[object Map]",de="[object Number]",me="[object Object]",pe="[object Promise]",fe="[object RegExp]",ge="[object Set]",Ee="[object String]",he="[object Symbol]",ve="[object WeakMap]",be="[object ArrayBuffer]",ye="[object DataView]",Fe="[object Float32Array]",Se="[object Float64Array]",Ce="[object Int8Array]",Me="[object Int16Array]",we="[object Int32Array]",ke="[object Uint8Array]",Te="[object Uint8ClampedArray]",Ie="[object Uint16Array]",Pe="[object Uint32Array]",xe=/\b__p \+= '';/g,Oe=/\b(__p \+=) '' \+/g,Ae=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ne=/&(?:amp|lt|gt|quot|#39);/g,Re=/[&<>"']/g,_e=RegExp(Ne.source),Le=RegExp(Re.source),De=/<%-([\s\S]+?)%>/g,We=/<%([\s\S]+?)%>/g,Be=/<%=([\s\S]+?)%>/g,Ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ze=/^\w*$/,je=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,He=/[\\^$.*+?()[\]{}|]/g,Ve=RegExp(He.source),Ge=/^\s+/,$e=/\s/,Ke=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ye=/,? & /,qe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Qe=/[()=,{}\[\]\/\s]/,Je=/\\(\\)?/g,Ze=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,et=/\w*$/,tt=/^[-+]0x[0-9a-f]+$/i,nt=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,rt=/^0o[0-7]+$/i,lt=/^(?:0|[1-9]\d*)$/,ot=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,it=/($^)/,ct=/['\n\r\u2028\u2029\\]/g,st="\\ud800-\\udfff",ut="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\u2700-\\u27bf",mt="a-z\\xdf-\\xf6\\xf8-\\xff",pt="A-Z\\xc0-\\xd6\\xd8-\\xde",ft="\\ufe0e\\ufe0f",gt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Et="["+st+"]",ht="["+gt+"]",vt="["+ut+"]",bt="\\d+",yt="["+dt+"]",Ft="["+mt+"]",St="[^"+st+gt+bt+dt+mt+pt+"]",Ct="\\ud83c[\\udffb-\\udfff]",Mt="[^"+st+"]",wt="(?:\\ud83c[\\udde6-\\uddff]){2}",kt="[\\ud800-\\udbff][\\udc00-\\udfff]",Tt="["+pt+"]",It="(?:"+Ft+"|"+St+")",Pt="(?:"+Tt+"|"+St+")",xt="(?:['](?:d|ll|m|re|s|t|ve))?",Ot="(?:['](?:D|LL|M|RE|S|T|VE))?",At="(?:"+vt+"|"+Ct+")?",Nt="["+ft+"]?",Rt=Nt+At+"(?:\\u200d(?:"+[Mt,wt,kt].join("|")+")"+Nt+At+")*",_t="(?:"+[yt,wt,kt].join("|")+")"+Rt,Lt="(?:"+[Mt+vt+"?",vt,wt,kt,Et].join("|")+")",Dt=RegExp("[']","g"),Wt=RegExp(vt,"g"),Bt=RegExp(Ct+"(?="+Ct+")|"+Lt+Rt,"g"),Ut=RegExp([Tt+"?"+Ft+"+"+xt+"(?="+[ht,Tt,"$"].join("|")+")",Pt+"+"+Ot+"(?="+[ht,Tt+It,"$"].join("|")+")",Tt+"?"+It+"+"+xt,Tt+"+"+Ot,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bt,_t].join("|"),"g"),zt=RegExp("[\\u200d"+st+ut+ft+"]"),jt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ht=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vt=-1,Gt={};Gt[Fe]=Gt[Se]=Gt[Ce]=Gt[Me]=Gt[we]=Gt[ke]=Gt[Te]=Gt[Ie]=Gt[Pe]=!0,Gt[ae]=Gt[re]=Gt[be]=Gt[le]=Gt[ye]=Gt[oe]=Gt[ie]=Gt[ce]=Gt[ue]=Gt[de]=Gt[me]=Gt[fe]=Gt[ge]=Gt[Ee]=Gt[ve]=!1;var $t={};$t[ae]=$t[re]=$t[be]=$t[ye]=$t[le]=$t[oe]=$t[Fe]=$t[Se]=$t[Ce]=$t[Me]=$t[we]=$t[ue]=$t[de]=$t[me]=$t[fe]=$t[ge]=$t[Ee]=$t[he]=$t[ke]=$t[Te]=$t[Ie]=$t[Pe]=!0,$t[ie]=$t[ce]=$t[ve]=!1;var Kt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xt=parseFloat,Yt=parseInt,qt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,Qt="object"==typeof self&&self&&self.Object===Object&&self,Jt=qt||Qt||Function("return this")(),Zt=t&&!t.nodeType&&t,en=Zt&&e&&!e.nodeType&&e,tn=en&&en.exports===Zt,nn=tn&&qt.process,an=function(){try{return en&&en.require&&en.require("util").types||nn&&nn.binding&&nn.binding("util")}catch(e){}}(),rn=an&&an.isArrayBuffer,ln=an&&an.isDate,on=an&&an.isMap,cn=an&&an.isRegExp,sn=an&&an.isSet,un=an&&an.isTypedArray,dn=C("length"),mn=M({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),pn=M({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),fn=M({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gn=function e(t){function n(e){if(Lr(e)&&!ki(e)&&!(e instanceof $e)){if(e instanceof M)return e;if(wl.call(e,"__wrapped__"))return cr(e)}return new M(e)}function a(){}function M(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=$}function $e(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function st(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function ut(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function dt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function mt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new dt;++t<n;)this.add(e[t])}function pt(e){this.size=(this.__data__=new ut(e)).size}function ft(e,t){var n=ki(e),a=!n&&wi(e),r=!n&&!a&&Ii(e),l=!n&&!a&&!r&&Ni(e),o=n||a||r||l,i=o?T(e.length,vl):[],c=i.length;for(var s in e)!t&&!wl.call(e,s)||o&&("length"==s||r&&("offset"==s||"parent"==s)||l&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Ga(s,c))||i.push(s);return i}function gt(e){var t=e.length;return t?e[In(0,t-1)]:$}function Et(e,t){return rr(la(e),wt(t,0,e.length))}function ht(e){return rr(la(e))}function vt(e,t,n){(n===$||Ir(e[t],n))&&(n!==$||t in e)||Ct(e,t,n)}function bt(e,t,n){var a=e[t];wl.call(e,t)&&Ir(a,n)&&(n!==$||t in e)||Ct(e,t,n)}function yt(e,t){for(var n=e.length;n--;)if(Ir(e[n][0],t))return n;return-1}function Ft(e,t,n,a){return Mo(e,(function(e,r,l){t(a,e,n(e),l)})),a}function St(e,t){return e&&oa(t,qr(t),e)}function Ct(e,t,n){"__proto__"==t&&Hl?Hl(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Mt(e,t){for(var n=-1,a=t.length,r=dl(a),l=null==e;++n<a;)r[n]=l?$:Xr(e,t[n]);return r}function wt(e,t,n){return e==e&&(n!==$&&(e=e<=n?e:n),t!==$&&(e=e>=t?e:t)),e}function kt(e,t,n,a,r,l){var i,c=1&t,s=2&t,u=4&t;if(n&&(i=r?n(e,a,r,l):n(e)),i!==$)return i;if(!_r(e))return e;var d=ki(e);if(d){if(i=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&wl.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return la(e,i)}else{var m=Lo(e),p=m==ce||m==se;if(Ii(e))return Zn(e,c);if(m==me||m==ae||p&&!r){if(i=s||p?{}:Ha(e),!c)return s?function(e,t){return oa(e,_o(e),t)}(e,function(e,t){return e&&oa(t,Qr(t),e)}(i,e)):function(e,t){return oa(e,Ro(e),t)}(e,St(i,e))}else{if(!$t[m])return r?e:{};i=function(e,t,n){var a=e.constructor;switch(t){case be:return ea(e);case le:case oe:return new a(+e);case ye:return function(e,t){return new e.constructor(t?ea(e.buffer):e.buffer,e.byteOffset,e.byteLength)}(e,n);case Fe:case Se:case Ce:case Me:case we:case ke:case Te:case Ie:case Pe:return ta(e,n);case ue:return new a;case de:case Ee:return new a(e);case fe:return function(e){var t=new e.constructor(e.source,et.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ge:return new a;case he:return function(e){return Fo?El(Fo.call(e)):{}}(e)}}(e,m,c)}}l||(l=new pt);var f=l.get(e);if(f)return f;l.set(e,i),Ai(e)?e.forEach((function(a){i.add(kt(a,t,n,a,e,l))})):xi(e)&&e.forEach((function(a,r){i.set(r,kt(a,t,n,r,e,l))}));var g=d?$:(u?s?_a:Ra:s?Qr:qr)(e);return o(g||e,(function(a,r){g&&(a=e[r=a]),bt(i,r,kt(a,t,n,r,e,l))})),i}function Tt(e,t,n){var a=n.length;if(null==e)return!a;for(e=El(e);a--;){var r=n[a],l=t[r],o=e[r];if(o===$&&!(r in e)||!l(o))return!1}return!0}function It(e,t,n){if("function"!=typeof e)throw new bl(K);return Bo((function(){e.apply($,n)}),t)}function Pt(e,t,n,a){var r=-1,l=u,o=!0,i=e.length,c=[],s=t.length;if(!i)return c;n&&(t=m(t,P(n))),a?(l=d,o=!1):t.length>=200&&(l=O,o=!1,t=new mt(t));e:for(;++r<i;){var p=e[r],f=null==n?p:n(p);if(p=a||0!==p?p:0,o&&f==f){for(var g=s;g--;)if(t[g]===f)continue e;c.push(p)}else l(t,f,a)||c.push(p)}return c}function xt(e,t){var n=!0;return Mo(e,(function(e,a,r){return n=!!t(e,a,r)})),n}function Ot(e,t,n){for(var a=-1,r=e.length;++a<r;){var l=e[a],o=t(l);if(null!=o&&(i===$?o==o&&!Ur(o):n(o,i)))var i=o,c=l}return c}function At(e,t){var n=[];return Mo(e,(function(e,a,r){t(e,a,r)&&n.push(e)})),n}function Nt(e,t,n,a,r){var l=-1,o=e.length;for(n||(n=Va),r||(r=[]);++l<o;){var i=e[l];t>0&&n(i)?t>1?Nt(i,t-1,n,a,r):p(r,i):a||(r[r.length]=i)}return r}function Rt(e,t){return e&&ko(e,t,qr)}function _t(e,t){return e&&To(e,t,qr)}function Lt(e,t){return s(t,(function(t){return Ar(e[t])}))}function Bt(e,t){for(var n=0,a=(t=Qn(t,e)).length;null!=e&&n<a;)e=e[lr(t[n++])];return n&&n==a?e:$}function Ut(e,t,n){var a=t(e);return ki(e)?a:p(a,n(e))}function zt(e){return null==e?e===$?"[object Undefined]":"[object Null]":jl&&jl in El(e)?function(e){var t=wl.call(e,jl),n=e[jl];try{e[jl]=$;var a=!0}catch(e){}var r=Il.call(e);return a&&(t?e[jl]=n:delete e[jl]),r}(e):function(e){return Il.call(e)}(e)}function jt(e,t){return e>t}function Kt(e,t){return null!=e&&wl.call(e,t)}function qt(e,t){return null!=e&&t in El(e)}function Qt(e,t,n){for(var a=n?d:u,r=e[0].length,l=e.length,o=l,i=dl(l),c=1/0,s=[];o--;){var p=e[o];o&&t&&(p=m(p,P(t))),c=to(p.length,c),i[o]=!n&&(t||r>=120&&p.length>=120)?new mt(o&&p):$}p=e[0];var f=-1,g=i[0];e:for(;++f<r&&s.length<c;){var E=p[f],h=t?t(E):E;if(E=n||0!==E?E:0,!(g?O(g,h):a(s,h,n))){for(o=l;--o;){var v=i[o];if(!(v?O(v,h):a(e[o],h,n)))continue e}g&&g.push(h),s.push(E)}}return s}function Zt(e,t,n){var a=null==(e=Za(e,t=Qn(t,e)))?e:e[lr(pr(t))];return null==a?$:r(a,e,n)}function en(e){return Lr(e)&&zt(e)==ae}function nn(e,t,n,a,r){return e===t||(null==e||null==t||!Lr(e)&&!Lr(t)?e!=e&&t!=t:function(e,t,n,a,r,l){var o=ki(e),i=ki(t),c=o?re:Lo(e),s=i?re:Lo(t),u=(c=c==ae?me:c)==me,d=(s=s==ae?me:s)==me,m=c==s;if(m&&Ii(e)){if(!Ii(t))return!1;o=!0,u=!1}if(m&&!u)return l||(l=new pt),o||Ni(e)?Aa(e,t,n,a,r,l):function(e,t,n,a,r,l,o){switch(n){case ye:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case be:return!(e.byteLength!=t.byteLength||!l(new Rl(e),new Rl(t)));case le:case oe:case de:return Ir(+e,+t);case ie:return e.name==t.name&&e.message==t.message;case fe:case Ee:return e==t+"";case ue:var i=W;case ge:var c=1&a;if(i||(i=z),e.size!=t.size&&!c)return!1;var s=o.get(e);if(s)return s==t;a|=2,o.set(e,t);var u=Aa(i(e),i(t),a,r,l,o);return o.delete(e),u;case he:if(Fo)return Fo.call(e)==Fo.call(t)}return!1}(e,t,c,n,a,r,l);if(!(1&n)){var p=u&&wl.call(e,"__wrapped__"),f=d&&wl.call(t,"__wrapped__");if(p||f){var g=p?e.value():e,E=f?t.value():t;return l||(l=new pt),r(g,E,n,a,l)}}return!!m&&(l||(l=new pt),function(e,t,n,a,r,l){var o=1&n,i=Ra(e),c=i.length;if(c!=Ra(t).length&&!o)return!1;for(var s=c;s--;){var u=i[s];if(!(o?u in t:wl.call(t,u)))return!1}var d=l.get(e),m=l.get(t);if(d&&m)return d==t&&m==e;var p=!0;l.set(e,t),l.set(t,e);for(var f=o;++s<c;){var g=e[u=i[s]],E=t[u];if(a)var h=o?a(E,g,u,t,e,l):a(g,E,u,e,t,l);if(!(h===$?g===E||r(g,E,n,a,l):h)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var v=e.constructor,b=t.constructor;v!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b)&&(p=!1)}return l.delete(e),l.delete(t),p}(e,t,n,a,r,l))}(e,t,n,a,nn,r))}function an(e,t,n,a){var r=n.length,l=r,o=!a;if(null==e)return!l;for(e=El(e);r--;){var i=n[r];if(o&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++r<l;){var c=(i=n[r])[0],s=e[c],u=i[1];if(o&&i[2]){if(s===$&&!(c in e))return!1}else{var d=new pt;if(a)var m=a(s,u,c,e,t,d);if(!(m===$?nn(u,s,3,a,d):m))return!1}}return!0}function dn(e){return!(!_r(e)||function(e){return!!Tl&&Tl in e}(e))&&(Ar(e)?Ol:at).test(or(e))}function En(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?ki(e)?Fn(e[0],e[1]):yn(e):cl(e)}function hn(e){if(!Ya(e))return Zl(e);var t=[];for(var n in El(e))wl.call(e,n)&&"constructor"!=n&&t.push(n);return t}function vn(e,t){return e<t}function bn(e,t){var n=-1,a=Pr(e)?dl(e.length):[];return Mo(e,(function(e,r,l){a[++n]=t(e,r,l)})),a}function yn(e){var t=Ua(e);return 1==t.length&&t[0][2]?Qa(t[0][0],t[0][1]):function(n){return n===e||an(n,e,t)}}function Fn(e,t){return Ka(e)&&qa(t)?Qa(lr(e),t):function(n){var a=Xr(n,e);return a===$&&a===t?Yr(n,e):nn(t,a,3)}}function Sn(e,t,n,a,r){e!==t&&ko(t,(function(l,o){if(r||(r=new pt),_r(l))!function(e,t,n,a,r,l,o){var i=tr(e,n),c=tr(t,n),s=o.get(c);if(s)return vt(e,n,s),$;var u=l?l(i,c,n+"",e,t,o):$,d=u===$;if(d){var m=ki(c),p=!m&&Ii(c),f=!m&&!p&&Ni(c);u=c,m||p||f?ki(i)?u=i:xr(i)?u=la(i):p?(d=!1,u=Zn(c,!0)):f?(d=!1,u=ta(c,!0)):u=[]:Wr(c)||wi(c)?(u=i,wi(i)?u=$r(i):_r(i)&&!Ar(i)||(u=Ha(c))):d=!1}d&&(o.set(c,u),r(u,c,a,l,o),o.delete(c)),vt(e,n,u)}(e,t,o,n,Sn,a,r);else{var i=a?a(tr(e,o),l,o+"",e,t,r):$;i===$&&(i=l),vt(e,o,i)}}),Qr)}function Cn(e,t){var n=e.length;if(n)return Ga(t+=t<0?n:0,n)?e[t]:$}function Mn(e,t,n){t=t.length?m(t,(function(e){return ki(e)?function(t){return Bt(t,1===e.length?e[0]:e)}:e})):[rl];var a=-1;return t=m(t,P(Wa())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(bn(e,(function(e,n,r){return{criteria:m(t,(function(t){return t(e)})),index:++a,value:e}})),(function(e,t){return function(e,t,n){for(var a=-1,r=e.criteria,l=t.criteria,o=r.length,i=n.length;++a<o;){var c=na(r[a],l[a]);if(c)return a>=i?c:c*("desc"==n[a]?-1:1)}return e.index-t.index}(e,t,n)}))}function wn(e,t,n){for(var a=-1,r=t.length,l={};++a<r;){var o=t[a],i=Bt(e,o);n(i,o)&&Nn(l,Qn(o,e),i)}return l}function kn(e,t,n,a){var r=a?y:b,l=-1,o=t.length,i=e;for(e===t&&(t=la(t)),n&&(i=m(e,P(n)));++l<o;)for(var c=0,s=t[l],u=n?n(s):s;(c=r(i,u,c,a))>-1;)i!==e&&Bl.call(i,c,1),Bl.call(e,c,1);return e}function Tn(e,t){for(var n=e?t.length:0,a=n-1;n--;){var r=t[n];if(n==a||r!==l){var l=r;Ga(r)?Bl.call(e,r,1):Hn(e,r)}}return e}function In(e,t){return e+Xl(ro()*(t-e+1))}function Pn(e,t){var n="";if(!e||t<1||t>Z)return n;do{t%2&&(n+=e),(t=Xl(t/2))&&(e+=e)}while(t);return n}function xn(e,t){return Uo(Ja(e,t,rl),e+"")}function On(e){return gt(Zr(e))}function An(e,t){var n=Zr(e);return rr(n,wt(t,0,n.length))}function Nn(e,t,n,a){if(!_r(e))return e;for(var r=-1,l=(t=Qn(t,e)).length,o=l-1,i=e;null!=i&&++r<l;){var c=lr(t[r]),s=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(r!=o){var u=i[c];(s=a?a(u,c,i):$)===$&&(s=_r(u)?u:Ga(t[r+1])?[]:{})}bt(i,c,s),i=i[c]}return e}function Rn(e){return rr(Zr(e))}function _n(e,t,n){var a=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var l=dl(r);++a<r;)l[a]=e[a+t];return l}function Ln(e,t){var n;return Mo(e,(function(e,a,r){return!(n=t(e,a,r))})),!!n}function Dn(e,t,n){var a=0,r=null==e?a:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;a<r;){var l=a+r>>>1,o=e[l];null!==o&&!Ur(o)&&(n?o<=t:o<t)?a=l+1:r=l}return r}return Wn(e,t,rl,n)}function Wn(e,t,n,a){var r=0,l=null==e?0:e.length;if(0===l)return 0;for(var o=(t=n(t))!=t,i=null===t,c=Ur(t),s=t===$;r<l;){var u=Xl((r+l)/2),d=n(e[u]),m=d!==$,p=null===d,f=d==d,g=Ur(d);if(o)var E=a||f;else E=s?f&&(a||m):i?f&&m&&(a||!p):c?f&&m&&!p&&(a||!g):!p&&!g&&(a?d<=t:d<t);E?r=u+1:l=u}return to(l,4294967294)}function Bn(e,t){for(var n=-1,a=e.length,r=0,l=[];++n<a;){var o=e[n],i=t?t(o):o;if(!n||!Ir(i,c)){var c=i;l[r++]=0===o?0:o}}return l}function Un(e){return"number"==typeof e?e:Ur(e)?ee:+e}function zn(e){if("string"==typeof e)return e;if(ki(e))return m(e,zn)+"";if(Ur(e))return So?So.call(e):"";var t=e+"";return"0"==t&&1/e==-J?"-0":t}function jn(e,t,n){var a=-1,r=u,l=e.length,o=!0,i=[],c=i;if(n)o=!1,r=d;else if(l>=200){var s=t?null:Ao(e);if(s)return z(s);o=!1,r=O,c=new mt}else c=t?[]:i;e:for(;++a<l;){var m=e[a],p=t?t(m):m;if(m=n||0!==m?m:0,o&&p==p){for(var f=c.length;f--;)if(c[f]===p)continue e;t&&c.push(p),i.push(m)}else r(c,p,n)||(c!==i&&c.push(p),i.push(m))}return i}function Hn(e,t){return null==(e=Za(e,t=Qn(t,e)))||delete e[lr(pr(t))]}function Vn(e,t,n,a){return Nn(e,t,n(Bt(e,t)),a)}function Gn(e,t,n,a){for(var r=e.length,l=a?r:-1;(a?l--:++l<r)&&t(e[l],l,e););return n?_n(e,a?0:l,a?l+1:r):_n(e,a?l+1:0,a?r:l)}function $n(e,t){var n=e;return n instanceof $e&&(n=n.value()),f(t,(function(e,t){return t.func.apply(t.thisArg,p([e],t.args))}),n)}function Kn(e,t,n){var a=e.length;if(a<2)return a?jn(e[0]):[];for(var r=-1,l=dl(a);++r<a;)for(var o=e[r],i=-1;++i<a;)i!=r&&(l[r]=Pt(l[r]||o,e[i],t,n));return jn(Nt(l,1),t,n)}function Xn(e,t,n){for(var a=-1,r=e.length,l=t.length,o={};++a<r;)n(o,e[a],a<l?t[a]:$);return o}function Yn(e){return xr(e)?e:[]}function qn(e){return"function"==typeof e?e:rl}function Qn(e,t){return ki(e)?e:Ka(e,t)?[e]:zo(Kr(e))}function Jn(e,t,n){var a=e.length;return n=n===$?a:n,!t&&n>=a?e:_n(e,t,n)}function Zn(e,t){if(t)return e.slice();var n=e.length,a=_l?_l(n):new e.constructor(n);return e.copy(a),a}function ea(e){var t=new e.constructor(e.byteLength);return new Rl(t).set(new Rl(e)),t}function ta(e,t){return new e.constructor(t?ea(e.buffer):e.buffer,e.byteOffset,e.length)}function na(e,t){if(e!==t){var n=e!==$,a=null===e,r=e==e,l=Ur(e),o=t!==$,i=null===t,c=t==t,s=Ur(t);if(!i&&!s&&!l&&e>t||l&&o&&c&&!i&&!s||a&&o&&c||!n&&c||!r)return 1;if(!a&&!l&&!s&&e<t||s&&n&&r&&!a&&!l||i&&n&&r||!o&&r||!c)return-1}return 0}function aa(e,t,n,a){for(var r=-1,l=e.length,o=n.length,i=-1,c=t.length,s=eo(l-o,0),u=dl(c+s),d=!a;++i<c;)u[i]=t[i];for(;++r<o;)(d||r<l)&&(u[n[r]]=e[r]);for(;s--;)u[i++]=e[r++];return u}function ra(e,t,n,a){for(var r=-1,l=e.length,o=-1,i=n.length,c=-1,s=t.length,u=eo(l-i,0),d=dl(u+s),m=!a;++r<u;)d[r]=e[r];for(var p=r;++c<s;)d[p+c]=t[c];for(;++o<i;)(m||r<l)&&(d[p+n[o]]=e[r++]);return d}function la(e,t){var n=-1,a=e.length;for(t||(t=dl(a));++n<a;)t[n]=e[n];return t}function oa(e,t,n,a){var r=!n;n||(n={});for(var l=-1,o=t.length;++l<o;){var i=t[l],c=a?a(n[i],e[i],i,n,e):$;c===$&&(c=e[i]),r?Ct(n,i,c):bt(n,i,c)}return n}function ia(e,t){return function(n,a){var r=ki(n)?l:Ft,o=t?t():{};return r(n,e,Wa(a,2),o)}}function ca(e){return xn((function(t,n){var a=-1,r=n.length,l=r>1?n[r-1]:$,o=r>2?n[2]:$;for(l=e.length>3&&"function"==typeof l?(r--,l):$,o&&$a(n[0],n[1],o)&&(l=r<3?$:l,r=1),t=El(t);++a<r;){var i=n[a];i&&e(t,i,a,l)}return t}))}function sa(e,t){return function(n,a){if(null==n)return n;if(!Pr(n))return e(n,a);for(var r=n.length,l=t?r:-1,o=El(n);(t?l--:++l<r)&&!1!==a(o[l],l,o););return n}}function ua(e){return function(t,n,a){for(var r=-1,l=El(t),o=a(t),i=o.length;i--;){var c=o[e?i:++r];if(!1===n(l[c],c,l))break}return t}}function da(e){return function(t){var n=L(t=Kr(t))?H(t):$,a=n?n[0]:t.charAt(0),r=n?Jn(n,1).join(""):t.slice(1);return a[e]()+r}}function ma(e){return function(t){return f(nl(tl(t).replace(Dt,"")),e,"")}}function pa(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Co(e.prototype),a=e.apply(n,t);return _r(a)?a:n}}function fa(e,t,n){var a=pa(e);return function l(){for(var o=arguments.length,i=dl(o),c=o,s=Da(l);c--;)i[c]=arguments[c];var u=o<3&&i[0]!==s&&i[o-1]!==s?[]:U(i,s);return(o-=u.length)<n?wa(e,t,ha,l.placeholder,$,i,u,$,$,n-o):r(this&&this!==Jt&&this instanceof l?a:e,this,i)}}function ga(e){return function(t,n,a){var r=El(t);if(!Pr(t)){var l=Wa(n,3);t=qr(t),n=function(e){return l(r[e],e,r)}}var o=e(t,n,a);return o>-1?r[l?t[o]:o]:$}}function Ea(e){return Na((function(t){var n=t.length,a=n,r=M.prototype.thru;for(e&&t.reverse();a--;){var l=t[a];if("function"!=typeof l)throw new bl(K);if(r&&!o&&"wrapper"==La(l))var o=new M([],!0)}for(a=o?a:n;++a<n;){var i=La(l=t[a]),c="wrapper"==i?No(l):$;o=c&&Xa(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?o[La(c[0])].apply(o,c[3]):1==l.length&&Xa(l)?o[i]():o.thru(l)}return function(){var e=arguments,a=e[0];if(o&&1==e.length&&ki(a))return o.plant(a).value();for(var r=0,l=n?t[r].apply(this,e):a;++r<n;)l=t[r].call(this,l);return l}}))}function ha(e,t,n,a,r,l,o,i,c,s){var u=t&Q,d=1&t,m=2&t,p=24&t,f=512&t,g=m?$:pa(e);return function E(){for(var h=arguments.length,v=dl(h),b=h;b--;)v[b]=arguments[b];if(p)var y=Da(E),F=R(v,y);if(a&&(v=aa(v,a,r,p)),l&&(v=ra(v,l,o,p)),h-=F,p&&h<s)return wa(e,t,ha,E.placeholder,n,v,U(v,y),i,c,s-h);var S=d?n:this,C=m?S[e]:e;return h=v.length,i?v=er(v,i):f&&h>1&&v.reverse(),u&&c<h&&(v.length=c),this&&this!==Jt&&this instanceof E&&(C=g||pa(C)),C.apply(S,v)}}function va(e,t){return function(n,a){return function(e,t,n,a){return Rt(e,(function(e,r,l){t(a,n(e),r,l)})),a}(n,e,t(a),{})}}function ba(e,t){return function(n,a){var r;if(n===$&&a===$)return t;if(n!==$&&(r=n),a!==$){if(r===$)return a;"string"==typeof n||"string"==typeof a?(n=zn(n),a=zn(a)):(n=Un(n),a=Un(a)),r=e(n,a)}return r}}function ya(e){return Na((function(t){return t=m(t,P(Wa())),xn((function(n){var a=this;return e(t,(function(e){return r(e,a,n)}))}))}))}function Fa(e,t){var n=(t=t===$?" ":zn(t)).length;if(n<2)return n?Pn(t,e):t;var a=Pn(t,Kl(e/j(t)));return L(t)?Jn(H(a),0,e).join(""):a.slice(0,e)}function Sa(e,t,n,a){var l=1&t,o=pa(e);return function t(){for(var i=-1,c=arguments.length,s=-1,u=a.length,d=dl(u+c),m=this&&this!==Jt&&this instanceof t?o:e;++s<u;)d[s]=a[s];for(;c--;)d[s++]=arguments[++i];return r(m,l?n:this,d)}}function Ca(e){return function(t,n,a){return a&&"number"!=typeof a&&$a(t,n,a)&&(n=a=$),t=jr(t),n===$?(n=t,t=0):n=jr(n),function(e,t,n,a){for(var r=-1,l=eo(Kl((t-e)/(n||1)),0),o=dl(l);l--;)o[a?l:++r]=e,e+=n;return o}(t,n,a=a===$?t<n?1:-1:jr(a),e)}}function Ma(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Gr(t),n=Gr(n)),e(t,n)}}function wa(e,t,n,a,r,l,o,i,c,s){var u=8&t;t|=u?q:64,4&(t&=~(u?64:q))||(t&=-4);var d=[e,t,r,u?l:$,u?o:$,u?$:l,u?$:o,i,c,s],m=n.apply($,d);return Xa(e)&&Wo(m,d),m.placeholder=a,nr(m,e,t)}function ka(e){var t=gl[e];return function(e,n){if(e=Gr(e),(n=null==n?0:to(Hr(n),292))&&Ql(e)){var a=(Kr(e)+"e").split("e");return+((a=(Kr(t(a[0]+"e"+(+a[1]+n)))+"e").split("e"))[0]+"e"+(+a[1]-n))}return t(e)}}function Ta(e){return function(t){var n=Lo(t);return n==ue?W(t):n==ge?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return m(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ia(e,t,n,a,r,l,o,i){var c=2&t;if(!c&&"function"!=typeof e)throw new bl(K);var s=a?a.length:0;if(s||(t&=-97,a=r=$),o=o===$?o:eo(Hr(o),0),i=i===$?i:Hr(i),s-=r?r.length:0,64&t){var u=a,d=r;a=r=$}var m=c?$:No(e),p=[e,t,n,a,r,u,d,l,o,i];if(m&&function(e,t){var n=e[1],a=t[1],r=n|a,l=r<131,o=a==Q&&8==n||a==Q&&256==n&&e[7].length<=t[8]||384==a&&t[7].length<=t[8]&&8==n;if(!l&&!o)return e;1&a&&(e[2]=t[2],r|=1&n?0:4);var i=t[3];if(i){var c=e[3];e[3]=c?aa(c,i,t[4]):i,e[4]=c?U(e[3],Y):t[4]}(i=t[5])&&(c=e[5],e[5]=c?ra(c,i,t[6]):i,e[6]=c?U(e[5],Y):t[6]),(i=t[7])&&(e[7]=i),a&Q&&(e[8]=null==e[8]?t[8]:to(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}(p,m),e=p[0],t=p[1],n=p[2],a=p[3],r=p[4],!(i=p[9]=p[9]===$?c?0:e.length:eo(p[9]-s,0))&&24&t&&(t&=-25),t&&1!=t)f=8==t||16==t?fa(e,t,i):t!=q&&33!=t||r.length?ha.apply($,p):Sa(e,t,n,a);else var f=function(e,t,n){var a=1&t,r=pa(e);return function t(){return(this&&this!==Jt&&this instanceof t?r:e).apply(a?n:this,arguments)}}(e,t,n);return nr((m?Io:Wo)(f,p),e,t)}function Pa(e,t,n,a){return e===$||Ir(e,Sl[n])&&!wl.call(a,n)?t:e}function xa(e,t,n,a,r,l){return _r(e)&&_r(t)&&(l.set(t,e),Sn(e,t,$,xa,l),l.delete(t)),e}function Oa(e){return Wr(e)?$:e}function Aa(e,t,n,a,r,l){var o=1&n,i=e.length,c=t.length;if(i!=c&&!(o&&c>i))return!1;var s=l.get(e),u=l.get(t);if(s&&u)return s==t&&u==e;var d=-1,m=!0,p=2&n?new mt:$;for(l.set(e,t),l.set(t,e);++d<i;){var f=e[d],g=t[d];if(a)var h=o?a(g,f,d,t,e,l):a(f,g,d,e,t,l);if(h!==$){if(h)continue;m=!1;break}if(p){if(!E(t,(function(e,t){if(!O(p,t)&&(f===e||r(f,e,n,a,l)))return p.push(t)}))){m=!1;break}}else if(f!==g&&!r(f,g,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}function Na(e){return Uo(Ja(e,$,dr),e+"")}function Ra(e){return Ut(e,qr,Ro)}function _a(e){return Ut(e,Qr,_o)}function La(e){for(var t=e.name+"",n=fo[t],a=wl.call(fo,t)?n.length:0;a--;){var r=n[a],l=r.func;if(null==l||l==e)return r.name}return t}function Da(e){return(wl.call(n,"placeholder")?n:e).placeholder}function Wa(){var e=n.iteratee||ll;return e=e===ll?En:e,arguments.length?e(arguments[0],arguments[1]):e}function Ba(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ua(e){for(var t=qr(e),n=t.length;n--;){var a=t[n],r=e[a];t[n]=[a,r,qa(r)]}return t}function za(e,t){var n=function(e,t){return null==e?$:e[t]}(e,t);return dn(n)?n:$}function ja(e,t,n){for(var a=-1,r=(t=Qn(t,e)).length,l=!1;++a<r;){var o=lr(t[a]);if(!(l=null!=e&&n(e,o)))break;e=e[o]}return l||++a!=r?l:!!(r=null==e?0:e.length)&&Rr(r)&&Ga(o,r)&&(ki(e)||wi(e))}function Ha(e){return"function"!=typeof e.constructor||Ya(e)?{}:Co(Ll(e))}function Va(e){return ki(e)||wi(e)||!!(Ul&&e&&e[Ul])}function Ga(e,t){var n=typeof e;return!!(t=null==t?Z:t)&&("number"==n||"symbol"!=n&&lt.test(e))&&e>-1&&e%1==0&&e<t}function $a(e,t,n){if(!_r(n))return!1;var a=typeof t;return!!("number"==a?Pr(n)&&Ga(t,n.length):"string"==a&&t in n)&&Ir(n[t],e)}function Ka(e,t){if(ki(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ur(e))||ze.test(e)||!Ue.test(e)||null!=t&&e in El(t)}function Xa(e){var t=La(e),a=n[t];if("function"!=typeof a||!(t in $e.prototype))return!1;if(e===a)return!0;var r=No(a);return!!r&&e===r[0]}function Ya(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Sl)}function qa(e){return e==e&&!_r(e)}function Qa(e,t){return function(n){return null!=n&&n[e]===t&&(t!==$||e in El(n))}}function Ja(e,t,n){return t=eo(t===$?e.length-1:t,0),function(){for(var a=arguments,l=-1,o=eo(a.length-t,0),i=dl(o);++l<o;)i[l]=a[t+l];l=-1;for(var c=dl(t+1);++l<t;)c[l]=a[l];return c[t]=n(i),r(e,this,c)}}function Za(e,t){return t.length<2?e:Bt(e,_n(t,0,-1))}function er(e,t){for(var n=e.length,a=to(t.length,n),r=la(e);a--;){var l=t[a];e[a]=Ga(l,n)?r[l]:$}return e}function tr(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function nr(e,t,n){var a=t+"";return Uo(e,function(e,t){var n=t.length;if(!n)return e;var a=n-1;return t[a]=(n>1?"& ":"")+t[a],t=t.join(n>2?", ":" "),e.replace(Ke,"{\n/* [wrapped with "+t+"] */\n")}(a,ir(function(e){var t=e.match(Xe);return t?t[1].split(Ye):[]}(a),n)))}function ar(e){var t=0,n=0;return function(){var a=no(),r=16-(a-n);if(n=a,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply($,arguments)}}function rr(e,t){var n=-1,a=e.length,r=a-1;for(t=t===$?a:t;++n<t;){var l=In(n,r),o=e[l];e[l]=e[n],e[n]=o}return e.length=t,e}function lr(e){if("string"==typeof e||Ur(e))return e;var t=e+"";return"0"==t&&1/e==-J?"-0":t}function or(e){if(null!=e){try{return Ml.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ir(e,t){return o(ne,(function(n){var a="_."+n[0];t&n[1]&&!u(e,a)&&e.push(a)})),e.sort()}function cr(e){if(e instanceof $e)return e.clone();var t=new M(e.__wrapped__,e.__chain__);return t.__actions__=la(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function sr(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var r=null==n?0:Hr(n);return r<0&&(r=eo(a+r,0)),v(e,Wa(t,3),r)}function ur(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var r=a-1;return n!==$&&(r=Hr(n),r=n<0?eo(a+r,0):to(r,a-1)),v(e,Wa(t,3),r,!0)}function dr(e){return null!=e&&e.length?Nt(e,1):[]}function mr(e){return e&&e.length?e[0]:$}function pr(e){var t=null==e?0:e.length;return t?e[t-1]:$}function fr(e,t){return e&&e.length&&t&&t.length?kn(e,t):e}function gr(e){return null==e?e:lo.call(e)}function Er(e){if(!e||!e.length)return[];var t=0;return e=s(e,(function(e){if(xr(e))return t=eo(e.length,t),!0})),T(t,(function(t){return m(e,C(t))}))}function hr(e,t){if(!e||!e.length)return[];var n=Er(e);return null==t?n:m(n,(function(e){return r(t,$,e)}))}function vr(e){var t=n(e);return t.__chain__=!0,t}function br(e,t){return t(e)}function yr(e,t){return(ki(e)?o:Mo)(e,Wa(t,3))}function Fr(e,t){return(ki(e)?i:wo)(e,Wa(t,3))}function Sr(e,t){return(ki(e)?m:bn)(e,Wa(t,3))}function Cr(e,t,n){return t=n?$:t,t=e&&null==t?e.length:t,Ia(e,Q,$,$,$,$,t)}function Mr(e,t){var n;if("function"!=typeof t)throw new bl(K);return e=Hr(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=$),n}}function wr(e,t,n){function a(t){var n=s,a=u;return s=u=$,g=t,m=e.apply(a,n)}function r(e){return g=e,p=Bo(o,t),E?a(e):m}function l(e){var n=e-f;return f===$||n>=t||n<0||h&&e-g>=d}function o(){var e=fi();return l(e)?i(e):(p=Bo(o,function(e){var n=t-(e-f);return h?to(n,d-(e-g)):n}(e)),$)}function i(e){return p=$,v&&s?a(e):(s=u=$,m)}function c(){var e=fi(),n=l(e);if(s=arguments,u=this,f=e,n){if(p===$)return r(f);if(h)return Oo(p),p=Bo(o,t),a(f)}return p===$&&(p=Bo(o,t)),m}var s,u,d,m,p,f,g=0,E=!1,h=!1,v=!0;if("function"!=typeof e)throw new bl(K);return t=Gr(t)||0,_r(n)&&(E=!!n.leading,d=(h="maxWait"in n)?eo(Gr(n.maxWait)||0,t):d,v="trailing"in n?!!n.trailing:v),c.cancel=function(){p!==$&&Oo(p),g=0,s=f=u=p=$},c.flush=function(){return p===$?m:i(fi())},c}function kr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new bl(K);var n=function(){var a=arguments,r=t?t.apply(this,a):a[0],l=n.cache;if(l.has(r))return l.get(r);var o=e.apply(this,a);return n.cache=l.set(r,o)||l,o};return n.cache=new(kr.Cache||dt),n}function Tr(e){if("function"!=typeof e)throw new bl(K);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Ir(e,t){return e===t||e!=e&&t!=t}function Pr(e){return null!=e&&Rr(e.length)&&!Ar(e)}function xr(e){return Lr(e)&&Pr(e)}function Or(e){if(!Lr(e))return!1;var t=zt(e);return t==ie||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Wr(e)}function Ar(e){if(!_r(e))return!1;var t=zt(e);return t==ce||t==se||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Nr(e){return"number"==typeof e&&e==Hr(e)}function Rr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Z}function _r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Lr(e){return null!=e&&"object"==typeof e}function Dr(e){return"number"==typeof e||Lr(e)&&zt(e)==de}function Wr(e){if(!Lr(e)||zt(e)!=me)return!1;var t=Ll(e);if(null===t)return!0;var n=wl.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ml.call(n)==Pl}function Br(e){return"string"==typeof e||!ki(e)&&Lr(e)&&zt(e)==Ee}function Ur(e){return"symbol"==typeof e||Lr(e)&&zt(e)==he}function zr(e){if(!e)return[];if(Pr(e))return Br(e)?H(e):la(e);if(zl&&e[zl])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[zl]());var t=Lo(e);return(t==ue?W:t==ge?z:Zr)(e)}function jr(e){return e?(e=Gr(e))===J||e===-J?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Hr(e){var t=jr(e),n=t%1;return t==t?n?t-n:t:0}function Vr(e){return e?wt(Hr(e),0,te):0}function Gr(e){if("number"==typeof e)return e;if(Ur(e))return ee;if(_r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=I(e);var n=nt.test(e);return n||rt.test(e)?Yt(e.slice(2),n?2:8):tt.test(e)?ee:+e}function $r(e){return oa(e,Qr(e))}function Kr(e){return null==e?"":zn(e)}function Xr(e,t,n){var a=null==e?$:Bt(e,t);return a===$?n:a}function Yr(e,t){return null!=e&&ja(e,t,qt)}function qr(e){return Pr(e)?ft(e):hn(e)}function Qr(e){return Pr(e)?ft(e,!0):function(e){if(!_r(e))return function(e){var t=[];if(null!=e)for(var n in El(e))t.push(n);return t}(e);var t=Ya(e),n=[];for(var a in e)("constructor"!=a||!t&&wl.call(e,a))&&n.push(a);return n}(e)}function Jr(e,t){if(null==e)return{};var n=m(_a(e),(function(e){return[e]}));return t=Wa(t),wn(e,n,(function(e,n){return t(e,n[0])}))}function Zr(e){return null==e?[]:x(e,qr(e))}function el(e){return lc(Kr(e).toLowerCase())}function tl(e){return(e=Kr(e))&&e.replace(ot,mn).replace(Wt,"")}function nl(e,t,n){return e=Kr(e),(t=n?$:t)===$?D(e)?G(e):function(e){return e.match(qe)||[]}(e):e.match(t)||[]}function al(e){return function(){return e}}function rl(e){return e}function ll(e){return En("function"==typeof e?e:kt(e,1))}function ol(e,t,n){var a=qr(t),r=Lt(t,a);null!=n||_r(t)&&(r.length||!a.length)||(n=t,t=e,e=this,r=Lt(t,qr(t)));var l=!(_r(n)&&"chain"in n&&!n.chain),i=Ar(e);return o(r,(function(n){var a=t[n];e[n]=a,i&&(e.prototype[n]=function(){var t=this.__chain__;if(l||t){var n=e(this.__wrapped__);return(n.__actions__=la(this.__actions__)).push({func:a,args:arguments,thisArg:e}),n.__chain__=t,n}return a.apply(e,p([this.value()],arguments))})})),e}function il(){}function cl(e){return Ka(e)?C(lr(e)):function(e){return function(t){return Bt(t,e)}}(e)}function sl(){return[]}function ul(){return!1}var dl=(t=null==t?Jt:gn.defaults(Jt.Object(),t,gn.pick(Jt,Ht))).Array,ml=t.Date,pl=t.Error,fl=t.Function,gl=t.Math,El=t.Object,hl=t.RegExp,vl=t.String,bl=t.TypeError,yl=dl.prototype,Fl=fl.prototype,Sl=El.prototype,Cl=t["__core-js_shared__"],Ml=Fl.toString,wl=Sl.hasOwnProperty,kl=0,Tl=function(){var e=/[^.]+$/.exec(Cl&&Cl.keys&&Cl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Il=Sl.toString,Pl=Ml.call(El),xl=Jt._,Ol=hl("^"+Ml.call(wl).replace(He,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Al=tn?t.Buffer:$,Nl=t.Symbol,Rl=t.Uint8Array,_l=Al?Al.allocUnsafe:$,Ll=B(El.getPrototypeOf,El),Dl=El.create,Wl=Sl.propertyIsEnumerable,Bl=yl.splice,Ul=Nl?Nl.isConcatSpreadable:$,zl=Nl?Nl.iterator:$,jl=Nl?Nl.toStringTag:$,Hl=function(){try{var e=za(El,"defineProperty");return e({},"",{}),e}catch(e){}}(),Vl=t.clearTimeout!==Jt.clearTimeout&&t.clearTimeout,Gl=ml&&ml.now!==Jt.Date.now&&ml.now,$l=t.setTimeout!==Jt.setTimeout&&t.setTimeout,Kl=gl.ceil,Xl=gl.floor,Yl=El.getOwnPropertySymbols,ql=Al?Al.isBuffer:$,Ql=t.isFinite,Jl=yl.join,Zl=B(El.keys,El),eo=gl.max,to=gl.min,no=ml.now,ao=t.parseInt,ro=gl.random,lo=yl.reverse,oo=za(t,"DataView"),io=za(t,"Map"),co=za(t,"Promise"),so=za(t,"Set"),uo=za(t,"WeakMap"),mo=za(El,"create"),po=uo&&new uo,fo={},go=or(oo),Eo=or(io),ho=or(co),vo=or(so),bo=or(uo),yo=Nl?Nl.prototype:$,Fo=yo?yo.valueOf:$,So=yo?yo.toString:$,Co=function(){function e(){}return function(t){if(!_r(t))return{};if(Dl)return Dl(t);e.prototype=t;var n=new e;return e.prototype=$,n}}();n.templateSettings={escape:De,evaluate:We,interpolate:Be,variable:"",imports:{_:n}},n.prototype=a.prototype,n.prototype.constructor=n,M.prototype=Co(a.prototype),M.prototype.constructor=M,$e.prototype=Co(a.prototype),$e.prototype.constructor=$e,st.prototype.clear=function(){this.__data__=mo?mo(null):{},this.size=0},st.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},st.prototype.get=function(e){var t=this.__data__;if(mo){var n=t[e];return n===X?$:n}return wl.call(t,e)?t[e]:$},st.prototype.has=function(e){var t=this.__data__;return mo?t[e]!==$:wl.call(t,e)},st.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=mo&&t===$?X:t,this},ut.prototype.clear=function(){this.__data__=[],this.size=0},ut.prototype.delete=function(e){var t=this.__data__,n=yt(t,e);return!(n<0||(n==t.length-1?t.pop():Bl.call(t,n,1),--this.size,0))},ut.prototype.get=function(e){var t=this.__data__,n=yt(t,e);return n<0?$:t[n][1]},ut.prototype.has=function(e){return yt(this.__data__,e)>-1},ut.prototype.set=function(e,t){var n=this.__data__,a=yt(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this},dt.prototype.clear=function(){this.size=0,this.__data__={hash:new st,map:new(io||ut),string:new st}},dt.prototype.delete=function(e){var t=Ba(this,e).delete(e);return this.size-=t?1:0,t},dt.prototype.get=function(e){return Ba(this,e).get(e)},dt.prototype.has=function(e){return Ba(this,e).has(e)},dt.prototype.set=function(e,t){var n=Ba(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this},mt.prototype.add=mt.prototype.push=function(e){return this.__data__.set(e,X),this},mt.prototype.has=function(e){return this.__data__.has(e)},pt.prototype.clear=function(){this.__data__=new ut,this.size=0},pt.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},pt.prototype.get=function(e){return this.__data__.get(e)},pt.prototype.has=function(e){return this.__data__.has(e)},pt.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ut){var a=n.__data__;if(!io||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new dt(a)}return n.set(e,t),this.size=n.size,this};var Mo=sa(Rt),wo=sa(_t,!0),ko=ua(),To=ua(!0),Io=po?function(e,t){return po.set(e,t),e}:rl,Po=Hl?function(e,t){return Hl(e,"toString",{configurable:!0,enumerable:!1,value:al(t),writable:!0})}:rl,xo=xn,Oo=Vl||function(e){return Jt.clearTimeout(e)},Ao=so&&1/z(new so([,-0]))[1]==J?function(e){return new so(e)}:il,No=po?function(e){return po.get(e)}:il,Ro=Yl?function(e){return null==e?[]:(e=El(e),s(Yl(e),(function(t){return Wl.call(e,t)})))}:sl,_o=Yl?function(e){for(var t=[];e;)p(t,Ro(e)),e=Ll(e);return t}:sl,Lo=zt;(oo&&Lo(new oo(new ArrayBuffer(1)))!=ye||io&&Lo(new io)!=ue||co&&Lo(co.resolve())!=pe||so&&Lo(new so)!=ge||uo&&Lo(new uo)!=ve)&&(Lo=function(e){var t=zt(e),n=t==me?e.constructor:$,a=n?or(n):"";if(a)switch(a){case go:return ye;case Eo:return ue;case ho:return pe;case vo:return ge;case bo:return ve}return t});var Do=Cl?Ar:ul,Wo=ar(Io),Bo=$l||function(e,t){return Jt.setTimeout(e,t)},Uo=ar(Po),zo=function(e){var t=kr((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(je,(function(e,n,a,r){t.push(a?r.replace(Je,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}(),jo=xn((function(e,t){return xr(e)?Pt(e,Nt(t,1,xr,!0)):[]})),Ho=xn((function(e,t){var n=pr(t);return xr(n)&&(n=$),xr(e)?Pt(e,Nt(t,1,xr,!0),Wa(n,2)):[]})),Vo=xn((function(e,t){var n=pr(t);return xr(n)&&(n=$),xr(e)?Pt(e,Nt(t,1,xr,!0),$,n):[]})),Go=xn((function(e){var t=m(e,Yn);return t.length&&t[0]===e[0]?Qt(t):[]})),$o=xn((function(e){var t=pr(e),n=m(e,Yn);return t===pr(n)?t=$:n.pop(),n.length&&n[0]===e[0]?Qt(n,Wa(t,2)):[]})),Ko=xn((function(e){var t=pr(e),n=m(e,Yn);return(t="function"==typeof t?t:$)&&n.pop(),n.length&&n[0]===e[0]?Qt(n,$,t):[]})),Xo=xn(fr),Yo=Na((function(e,t){var n=null==e?0:e.length,a=Mt(e,t);return Tn(e,m(t,(function(e){return Ga(e,n)?+e:e})).sort(na)),a})),qo=xn((function(e){return jn(Nt(e,1,xr,!0))})),Qo=xn((function(e){var t=pr(e);return xr(t)&&(t=$),jn(Nt(e,1,xr,!0),Wa(t,2))})),Jo=xn((function(e){var t=pr(e);return t="function"==typeof t?t:$,jn(Nt(e,1,xr,!0),$,t)})),Zo=xn((function(e,t){return xr(e)?Pt(e,t):[]})),ei=xn((function(e){return Kn(s(e,xr))})),ti=xn((function(e){var t=pr(e);return xr(t)&&(t=$),Kn(s(e,xr),Wa(t,2))})),ni=xn((function(e){var t=pr(e);return t="function"==typeof t?t:$,Kn(s(e,xr),$,t)})),ai=xn(Er),ri=xn((function(e){var t=e.length,n=t>1?e[t-1]:$;return n="function"==typeof n?(e.pop(),n):$,hr(e,n)})),li=Na((function(e){var t=e.length,n=t?e[0]:0,a=this.__wrapped__,r=function(t){return Mt(t,e)};return!(t>1||this.__actions__.length)&&a instanceof $e&&Ga(n)?((a=a.slice(n,+n+(t?1:0))).__actions__.push({func:br,args:[r],thisArg:$}),new M(a,this.__chain__).thru((function(e){return t&&!e.length&&e.push($),e}))):this.thru(r)})),oi=ia((function(e,t,n){wl.call(e,n)?++e[n]:Ct(e,n,1)})),ii=ga(sr),ci=ga(ur),si=ia((function(e,t,n){wl.call(e,n)?e[n].push(t):Ct(e,n,[t])})),ui=xn((function(e,t,n){var a=-1,l="function"==typeof t,o=Pr(e)?dl(e.length):[];return Mo(e,(function(e){o[++a]=l?r(t,e,n):Zt(e,t,n)})),o})),di=ia((function(e,t,n){Ct(e,n,t)})),mi=ia((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),pi=xn((function(e,t){if(null==e)return[];var n=t.length;return n>1&&$a(e,t[0],t[1])?t=[]:n>2&&$a(t[0],t[1],t[2])&&(t=[t[0]]),Mn(e,Nt(t,1),[])})),fi=Gl||function(){return Jt.Date.now()},gi=xn((function(e,t,n){var a=1;if(n.length){var r=U(n,Da(gi));a|=q}return Ia(e,a,t,n,r)})),Ei=xn((function(e,t,n){var a=3;if(n.length){var r=U(n,Da(Ei));a|=q}return Ia(t,a,e,n,r)})),hi=xn((function(e,t){return It(e,1,t)})),vi=xn((function(e,t,n){return It(e,Gr(t)||0,n)}));kr.Cache=dt;var bi=xo((function(e,t){var n=(t=1==t.length&&ki(t[0])?m(t[0],P(Wa())):m(Nt(t,1),P(Wa()))).length;return xn((function(a){for(var l=-1,o=to(a.length,n);++l<o;)a[l]=t[l].call(this,a[l]);return r(e,this,a)}))})),yi=xn((function(e,t){return Ia(e,q,$,t,U(t,Da(yi)))})),Fi=xn((function(e,t){return Ia(e,64,$,t,U(t,Da(Fi)))})),Si=Na((function(e,t){return Ia(e,256,$,$,$,t)})),Ci=Ma(jt),Mi=Ma((function(e,t){return e>=t})),wi=en(function(){return arguments}())?en:function(e){return Lr(e)&&wl.call(e,"callee")&&!Wl.call(e,"callee")},ki=dl.isArray,Ti=rn?P(rn):function(e){return Lr(e)&&zt(e)==be},Ii=ql||ul,Pi=ln?P(ln):function(e){return Lr(e)&&zt(e)==oe},xi=on?P(on):function(e){return Lr(e)&&Lo(e)==ue},Oi=cn?P(cn):function(e){return Lr(e)&&zt(e)==fe},Ai=sn?P(sn):function(e){return Lr(e)&&Lo(e)==ge},Ni=un?P(un):function(e){return Lr(e)&&Rr(e.length)&&!!Gt[zt(e)]},Ri=Ma(vn),_i=Ma((function(e,t){return e<=t})),Li=ca((function(e,t){if(Ya(t)||Pr(t))return oa(t,qr(t),e),$;for(var n in t)wl.call(t,n)&&bt(e,n,t[n])})),Di=ca((function(e,t){oa(t,Qr(t),e)})),Wi=ca((function(e,t,n,a){oa(t,Qr(t),e,a)})),Bi=ca((function(e,t,n,a){oa(t,qr(t),e,a)})),Ui=Na(Mt),zi=xn((function(e,t){e=El(e);var n=-1,a=t.length,r=a>2?t[2]:$;for(r&&$a(t[0],t[1],r)&&(a=1);++n<a;)for(var l=t[n],o=Qr(l),i=-1,c=o.length;++i<c;){var s=o[i],u=e[s];(u===$||Ir(u,Sl[s])&&!wl.call(e,s))&&(e[s]=l[s])}return e})),ji=xn((function(e){return e.push($,xa),r(Ki,$,e)})),Hi=va((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Il.call(t)),e[t]=n}),al(rl)),Vi=va((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Il.call(t)),wl.call(e,t)?e[t].push(n):e[t]=[n]}),Wa),Gi=xn(Zt),$i=ca((function(e,t,n){Sn(e,t,n)})),Ki=ca((function(e,t,n,a){Sn(e,t,n,a)})),Xi=Na((function(e,t){var n={};if(null==e)return n;var a=!1;t=m(t,(function(t){return t=Qn(t,e),a||(a=t.length>1),t})),oa(e,_a(e),n),a&&(n=kt(n,7,Oa));for(var r=t.length;r--;)Hn(n,t[r]);return n})),Yi=Na((function(e,t){return null==e?{}:function(e,t){return wn(e,t,(function(t,n){return Yr(e,n)}))}(e,t)})),qi=Ta(qr),Qi=Ta(Qr),Ji=ma((function(e,t,n){return t=t.toLowerCase(),e+(n?el(t):t)})),Zi=ma((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),ec=ma((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),tc=da("toLowerCase"),nc=ma((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),ac=ma((function(e,t,n){return e+(n?" ":"")+lc(t)})),rc=ma((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),lc=da("toUpperCase"),oc=xn((function(e,t){try{return r(e,$,t)}catch(e){return Or(e)?e:new pl(e)}})),ic=Na((function(e,t){return o(t,(function(t){t=lr(t),Ct(e,t,gi(e[t],e))})),e})),cc=Ea(),sc=Ea(!0),uc=xn((function(e,t){return function(n){return Zt(n,e,t)}})),dc=xn((function(e,t){return function(n){return Zt(e,n,t)}})),mc=ya(m),pc=ya(c),fc=ya(E),gc=Ca(),Ec=Ca(!0),hc=ba((function(e,t){return e+t}),0),vc=ka("ceil"),bc=ba((function(e,t){return e/t}),1),yc=ka("floor"),Fc=ba((function(e,t){return e*t}),1),Sc=ka("round"),Cc=ba((function(e,t){return e-t}),0);return n.after=function(e,t){if("function"!=typeof t)throw new bl(K);return e=Hr(e),function(){if(--e<1)return t.apply(this,arguments)}},n.ary=Cr,n.assign=Li,n.assignIn=Di,n.assignInWith=Wi,n.assignWith=Bi,n.at=Ui,n.before=Mr,n.bind=gi,n.bindAll=ic,n.bindKey=Ei,n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ki(e)?e:[e]},n.chain=vr,n.chunk=function(e,t,n){t=(n?$a(e,t,n):t===$)?1:eo(Hr(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var r=0,l=0,o=dl(Kl(a/t));r<a;)o[l++]=_n(e,r,r+=t);return o},n.compact=function(e){for(var t=-1,n=null==e?0:e.length,a=0,r=[];++t<n;){var l=e[t];l&&(r[a++]=l)}return r},n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=dl(e-1),n=arguments[0],a=e;a--;)t[a-1]=arguments[a];return p(ki(n)?la(n):[n],Nt(t,1))},n.cond=function(e){var t=null==e?0:e.length,n=Wa();return e=t?m(e,(function(e){if("function"!=typeof e[1])throw new bl(K);return[n(e[0]),e[1]]})):[],xn((function(n){for(var a=-1;++a<t;){var l=e[a];if(r(l[0],this,n))return r(l[1],this,n)}}))},n.conforms=function(e){return function(e){var t=qr(e);return function(n){return Tt(n,e,t)}}(kt(e,1))},n.constant=al,n.countBy=oi,n.create=function(e,t){var n=Co(e);return null==t?n:St(n,t)},n.curry=function e(t,n,a){var r=Ia(t,8,$,$,$,$,$,n=a?$:n);return r.placeholder=e.placeholder,r},n.curryRight=function e(t,n,a){var r=Ia(t,16,$,$,$,$,$,n=a?$:n);return r.placeholder=e.placeholder,r},n.debounce=wr,n.defaults=zi,n.defaultsDeep=ji,n.defer=hi,n.delay=vi,n.difference=jo,n.differenceBy=Ho,n.differenceWith=Vo,n.drop=function(e,t,n){var a=null==e?0:e.length;return a?_n(e,(t=n||t===$?1:Hr(t))<0?0:t,a):[]},n.dropRight=function(e,t,n){var a=null==e?0:e.length;return a?_n(e,0,(t=a-(t=n||t===$?1:Hr(t)))<0?0:t):[]},n.dropRightWhile=function(e,t){return e&&e.length?Gn(e,Wa(t,3),!0,!0):[]},n.dropWhile=function(e,t){return e&&e.length?Gn(e,Wa(t,3),!0):[]},n.fill=function(e,t,n,a){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&$a(e,t,n)&&(n=0,a=r),function(e,t,n,a){var r=e.length;for((n=Hr(n))<0&&(n=-n>r?0:r+n),(a=a===$||a>r?r:Hr(a))<0&&(a+=r),a=n>a?0:Vr(a);n<a;)e[n++]=t;return e}(e,t,n,a)):[]},n.filter=function(e,t){return(ki(e)?s:At)(e,Wa(t,3))},n.flatMap=function(e,t){return Nt(Sr(e,t),1)},n.flatMapDeep=function(e,t){return Nt(Sr(e,t),J)},n.flatMapDepth=function(e,t,n){return n=n===$?1:Hr(n),Nt(Sr(e,t),n)},n.flatten=dr,n.flattenDeep=function(e){return null!=e&&e.length?Nt(e,J):[]},n.flattenDepth=function(e,t){return null!=e&&e.length?Nt(e,t=t===$?1:Hr(t)):[]},n.flip=function(e){return Ia(e,512)},n.flow=cc,n.flowRight=sc,n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,a={};++t<n;){var r=e[t];a[r[0]]=r[1]}return a},n.functions=function(e){return null==e?[]:Lt(e,qr(e))},n.functionsIn=function(e){return null==e?[]:Lt(e,Qr(e))},n.groupBy=si,n.initial=function(e){return null!=e&&e.length?_n(e,0,-1):[]},n.intersection=Go,n.intersectionBy=$o,n.intersectionWith=Ko,n.invert=Hi,n.invertBy=Vi,n.invokeMap=ui,n.iteratee=ll,n.keyBy=di,n.keys=qr,n.keysIn=Qr,n.map=Sr,n.mapKeys=function(e,t){var n={};return t=Wa(t,3),Rt(e,(function(e,a,r){Ct(n,t(e,a,r),e)})),n},n.mapValues=function(e,t){var n={};return t=Wa(t,3),Rt(e,(function(e,a,r){Ct(n,a,t(e,a,r))})),n},n.matches=function(e){return yn(kt(e,1))},n.matchesProperty=function(e,t){return Fn(e,kt(t,1))},n.memoize=kr,n.merge=$i,n.mergeWith=Ki,n.method=uc,n.methodOf=dc,n.mixin=ol,n.negate=Tr,n.nthArg=function(e){return e=Hr(e),xn((function(t){return Cn(t,e)}))},n.omit=Xi,n.omitBy=function(e,t){return Jr(e,Tr(Wa(t)))},n.once=function(e){return Mr(2,e)},n.orderBy=function(e,t,n,a){return null==e?[]:(ki(t)||(t=null==t?[]:[t]),ki(n=a?$:n)||(n=null==n?[]:[n]),Mn(e,t,n))},n.over=mc,n.overArgs=bi,n.overEvery=pc,n.overSome=fc,n.partial=yi,n.partialRight=Fi,n.partition=mi,n.pick=Yi,n.pickBy=Jr,n.property=cl,n.propertyOf=function(e){return function(t){return null==e?$:Bt(e,t)}},n.pull=Xo,n.pullAll=fr,n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?kn(e,t,Wa(n,2)):e},n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?kn(e,t,$,n):e},n.pullAt=Yo,n.range=gc,n.rangeRight=Ec,n.rearg=Si,n.reject=function(e,t){return(ki(e)?s:At)(e,Tr(Wa(t,3)))},n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var a=-1,r=[],l=e.length;for(t=Wa(t,3);++a<l;){var o=e[a];t(o,a,e)&&(n.push(o),r.push(a))}return Tn(e,r),n},n.rest=function(e,t){if("function"!=typeof e)throw new bl(K);return xn(e,t=t===$?t:Hr(t))},n.reverse=gr,n.sampleSize=function(e,t,n){return t=(n?$a(e,t,n):t===$)?1:Hr(t),(ki(e)?Et:An)(e,t)},n.set=function(e,t,n){return null==e?e:Nn(e,t,n)},n.setWith=function(e,t,n,a){return a="function"==typeof a?a:$,null==e?e:Nn(e,t,n,a)},n.shuffle=function(e){return(ki(e)?ht:Rn)(e)},n.slice=function(e,t,n){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&$a(e,t,n)?(t=0,n=a):(t=null==t?0:Hr(t),n=n===$?a:Hr(n)),_n(e,t,n)):[]},n.sortBy=pi,n.sortedUniq=function(e){return e&&e.length?Bn(e):[]},n.sortedUniqBy=function(e,t){return e&&e.length?Bn(e,Wa(t,2)):[]},n.split=function(e,t,n){return n&&"number"!=typeof n&&$a(e,t,n)&&(t=n=$),(n=n===$?te:n>>>0)?(e=Kr(e))&&("string"==typeof t||null!=t&&!Oi(t))&&!(t=zn(t))&&L(e)?Jn(H(e),0,n):e.split(t,n):[]},n.spread=function(e,t){if("function"!=typeof e)throw new bl(K);return t=null==t?0:eo(Hr(t),0),xn((function(n){var a=n[t],l=Jn(n,0,t);return a&&p(l,a),r(e,this,l)}))},n.tail=function(e){var t=null==e?0:e.length;return t?_n(e,1,t):[]},n.take=function(e,t,n){return e&&e.length?_n(e,0,(t=n||t===$?1:Hr(t))<0?0:t):[]},n.takeRight=function(e,t,n){var a=null==e?0:e.length;return a?_n(e,(t=a-(t=n||t===$?1:Hr(t)))<0?0:t,a):[]},n.takeRightWhile=function(e,t){return e&&e.length?Gn(e,Wa(t,3),!1,!0):[]},n.takeWhile=function(e,t){return e&&e.length?Gn(e,Wa(t,3)):[]},n.tap=function(e,t){return t(e),e},n.throttle=function(e,t,n){var a=!0,r=!0;if("function"!=typeof e)throw new bl(K);return _r(n)&&(a="leading"in n?!!n.leading:a,r="trailing"in n?!!n.trailing:r),wr(e,t,{leading:a,maxWait:t,trailing:r})},n.thru=br,n.toArray=zr,n.toPairs=qi,n.toPairsIn=Qi,n.toPath=function(e){return ki(e)?m(e,lr):Ur(e)?[e]:la(zo(Kr(e)))},n.toPlainObject=$r,n.transform=function(e,t,n){var a=ki(e),r=a||Ii(e)||Ni(e);if(t=Wa(t,4),null==n){var l=e&&e.constructor;n=r?a?new l:[]:_r(e)&&Ar(l)?Co(Ll(e)):{}}return(r?o:Rt)(e,(function(e,a,r){return t(n,e,a,r)})),n},n.unary=function(e){return Cr(e,1)},n.union=qo,n.unionBy=Qo,n.unionWith=Jo,n.uniq=function(e){return e&&e.length?jn(e):[]},n.uniqBy=function(e,t){return e&&e.length?jn(e,Wa(t,2)):[]},n.uniqWith=function(e,t){return t="function"==typeof t?t:$,e&&e.length?jn(e,$,t):[]},n.unset=function(e,t){return null==e||Hn(e,t)},n.unzip=Er,n.unzipWith=hr,n.update=function(e,t,n){return null==e?e:Vn(e,t,qn(n))},n.updateWith=function(e,t,n,a){return a="function"==typeof a?a:$,null==e?e:Vn(e,t,qn(n),a)},n.values=Zr,n.valuesIn=function(e){return null==e?[]:x(e,Qr(e))},n.without=Zo,n.words=nl,n.wrap=function(e,t){return yi(qn(t),e)},n.xor=ei,n.xorBy=ti,n.xorWith=ni,n.zip=ai,n.zipObject=function(e,t){return Xn(e||[],t||[],bt)},n.zipObjectDeep=function(e,t){return Xn(e||[],t||[],Nn)},n.zipWith=ri,n.entries=qi,n.entriesIn=Qi,n.extend=Di,n.extendWith=Wi,ol(n,n),n.add=hc,n.attempt=oc,n.camelCase=Ji,n.capitalize=el,n.ceil=vc,n.clamp=function(e,t,n){return n===$&&(n=t,t=$),n!==$&&(n=(n=Gr(n))==n?n:0),t!==$&&(t=(t=Gr(t))==t?t:0),wt(Gr(e),t,n)},n.clone=function(e){return kt(e,4)},n.cloneDeep=function(e){return kt(e,5)},n.cloneDeepWith=function(e,t){return kt(e,5,t="function"==typeof t?t:$)},n.cloneWith=function(e,t){return kt(e,4,t="function"==typeof t?t:$)},n.conformsTo=function(e,t){return null==t||Tt(e,t,qr(t))},n.deburr=tl,n.defaultTo=function(e,t){return null==e||e!=e?t:e},n.divide=bc,n.endsWith=function(e,t,n){e=Kr(e),t=zn(t);var a=e.length,r=n=n===$?a:wt(Hr(n),0,a);return(n-=t.length)>=0&&e.slice(n,r)==t},n.eq=Ir,n.escape=function(e){return(e=Kr(e))&&Le.test(e)?e.replace(Re,pn):e},n.escapeRegExp=function(e){return(e=Kr(e))&&Ve.test(e)?e.replace(He,"\\$&"):e},n.every=function(e,t,n){var a=ki(e)?c:xt;return n&&$a(e,t,n)&&(t=$),a(e,Wa(t,3))},n.find=ii,n.findIndex=sr,n.findKey=function(e,t){return h(e,Wa(t,3),Rt)},n.findLast=ci,n.findLastIndex=ur,n.findLastKey=function(e,t){return h(e,Wa(t,3),_t)},n.floor=yc,n.forEach=yr,n.forEachRight=Fr,n.forIn=function(e,t){return null==e?e:ko(e,Wa(t,3),Qr)},n.forInRight=function(e,t){return null==e?e:To(e,Wa(t,3),Qr)},n.forOwn=function(e,t){return e&&Rt(e,Wa(t,3))},n.forOwnRight=function(e,t){return e&&_t(e,Wa(t,3))},n.get=Xr,n.gt=Ci,n.gte=Mi,n.has=function(e,t){return null!=e&&ja(e,t,Kt)},n.hasIn=Yr,n.head=mr,n.identity=rl,n.includes=function(e,t,n,a){e=Pr(e)?e:Zr(e),n=n&&!a?Hr(n):0;var r=e.length;return n<0&&(n=eo(r+n,0)),Br(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&b(e,t,n)>-1},n.indexOf=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var r=null==n?0:Hr(n);return r<0&&(r=eo(a+r,0)),b(e,t,r)},n.inRange=function(e,t,n){return t=jr(t),n===$?(n=t,t=0):n=jr(n),function(e,t,n){return e>=to(t,n)&&e<eo(t,n)}(e=Gr(e),t,n)},n.invoke=Gi,n.isArguments=wi,n.isArray=ki,n.isArrayBuffer=Ti,n.isArrayLike=Pr,n.isArrayLikeObject=xr,n.isBoolean=function(e){return!0===e||!1===e||Lr(e)&&zt(e)==le},n.isBuffer=Ii,n.isDate=Pi,n.isElement=function(e){return Lr(e)&&1===e.nodeType&&!Wr(e)},n.isEmpty=function(e){if(null==e)return!0;if(Pr(e)&&(ki(e)||"string"==typeof e||"function"==typeof e.splice||Ii(e)||Ni(e)||wi(e)))return!e.length;var t=Lo(e);if(t==ue||t==ge)return!e.size;if(Ya(e))return!hn(e).length;for(var n in e)if(wl.call(e,n))return!1;return!0},n.isEqual=function(e,t){return nn(e,t)},n.isEqualWith=function(e,t,n){var a=(n="function"==typeof n?n:$)?n(e,t):$;return a===$?nn(e,t,$,n):!!a},n.isError=Or,n.isFinite=function(e){return"number"==typeof e&&Ql(e)},n.isFunction=Ar,n.isInteger=Nr,n.isLength=Rr,n.isMap=xi,n.isMatch=function(e,t){return e===t||an(e,t,Ua(t))},n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:$,an(e,t,Ua(t),n)},n.isNaN=function(e){return Dr(e)&&e!=+e},n.isNative=function(e){if(Do(e))throw new pl("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return dn(e)},n.isNil=function(e){return null==e},n.isNull=function(e){return null===e},n.isNumber=Dr,n.isObject=_r,n.isObjectLike=Lr,n.isPlainObject=Wr,n.isRegExp=Oi,n.isSafeInteger=function(e){return Nr(e)&&e>=-Z&&e<=Z},n.isSet=Ai,n.isString=Br,n.isSymbol=Ur,n.isTypedArray=Ni,n.isUndefined=function(e){return e===$},n.isWeakMap=function(e){return Lr(e)&&Lo(e)==ve},n.isWeakSet=function(e){return Lr(e)&&"[object WeakSet]"==zt(e)},n.join=function(e,t){return null==e?"":Jl.call(e,t)},n.kebabCase=Zi,n.last=pr,n.lastIndexOf=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var r=a;return n!==$&&(r=(r=Hr(n))<0?eo(a+r,0):to(r,a-1)),t==t?function(e,t,n){for(var a=n+1;a--;)if(e[a]===t)return a;return a}(e,t,r):v(e,F,r,!0)},n.lowerCase=ec,n.lowerFirst=tc,n.lt=Ri,n.lte=_i,n.max=function(e){return e&&e.length?Ot(e,rl,jt):$},n.maxBy=function(e,t){return e&&e.length?Ot(e,Wa(t,2),jt):$},n.mean=function(e){return S(e,rl)},n.meanBy=function(e,t){return S(e,Wa(t,2))},n.min=function(e){return e&&e.length?Ot(e,rl,vn):$},n.minBy=function(e,t){return e&&e.length?Ot(e,Wa(t,2),vn):$},n.stubArray=sl,n.stubFalse=ul,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=Fc,n.nth=function(e,t){return e&&e.length?Cn(e,Hr(t)):$},n.noConflict=function(){return Jt._===this&&(Jt._=xl),this},n.noop=il,n.now=fi,n.pad=function(e,t,n){e=Kr(e);var a=(t=Hr(t))?j(e):0;if(!t||a>=t)return e;var r=(t-a)/2;return Fa(Xl(r),n)+e+Fa(Kl(r),n)},n.padEnd=function(e,t,n){e=Kr(e);var a=(t=Hr(t))?j(e):0;return t&&a<t?e+Fa(t-a,n):e},n.padStart=function(e,t,n){e=Kr(e);var a=(t=Hr(t))?j(e):0;return t&&a<t?Fa(t-a,n)+e:e},n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ao(Kr(e).replace(Ge,""),t||0)},n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&$a(e,t,n)&&(t=n=$),n===$&&("boolean"==typeof t?(n=t,t=$):"boolean"==typeof e&&(n=e,e=$)),e===$&&t===$?(e=0,t=1):(e=jr(e),t===$?(t=e,e=0):t=jr(t)),e>t){var a=e;e=t,t=a}if(n||e%1||t%1){var r=ro();return to(e+r*(t-e+Xt("1e-"+((r+"").length-1))),t)}return In(e,t)},n.reduce=function(e,t,n){var a=ki(e)?f:w,r=arguments.length<3;return a(e,Wa(t,4),n,r,Mo)},n.reduceRight=function(e,t,n){var a=ki(e)?g:w,r=arguments.length<3;return a(e,Wa(t,4),n,r,wo)},n.repeat=function(e,t,n){return t=(n?$a(e,t,n):t===$)?1:Hr(t),Pn(Kr(e),t)},n.replace=function(){var e=arguments,t=Kr(e[0]);return e.length<3?t:t.replace(e[1],e[2])},n.result=function(e,t,n){var a=-1,r=(t=Qn(t,e)).length;for(r||(r=1,e=$);++a<r;){var l=null==e?$:e[lr(t[a])];l===$&&(a=r,l=n),e=Ar(l)?l.call(e):l}return e},n.round=Sc,n.runInContext=e,n.sample=function(e){return(ki(e)?gt:On)(e)},n.size=function(e){if(null==e)return 0;if(Pr(e))return Br(e)?j(e):e.length;var t=Lo(e);return t==ue||t==ge?e.size:hn(e).length},n.snakeCase=nc,n.some=function(e,t,n){var a=ki(e)?E:Ln;return n&&$a(e,t,n)&&(t=$),a(e,Wa(t,3))},n.sortedIndex=function(e,t){return Dn(e,t)},n.sortedIndexBy=function(e,t,n){return Wn(e,t,Wa(n,2))},n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var a=Dn(e,t);if(a<n&&Ir(e[a],t))return a}return-1},n.sortedLastIndex=function(e,t){return Dn(e,t,!0)},n.sortedLastIndexBy=function(e,t,n){return Wn(e,t,Wa(n,2),!0)},n.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Dn(e,t,!0)-1;if(Ir(e[n],t))return n}return-1},n.startCase=ac,n.startsWith=function(e,t,n){return e=Kr(e),n=null==n?0:wt(Hr(n),0,e.length),t=zn(t),e.slice(n,n+t.length)==t},n.subtract=Cc,n.sum=function(e){return e&&e.length?k(e,rl):0},n.sumBy=function(e,t){return e&&e.length?k(e,Wa(t,2)):0},n.template=function(e,t,a){var r=n.templateSettings;a&&$a(e,t,a)&&(t=$),e=Kr(e),t=Wi({},t,r,Pa);var l,o,i=Wi({},t.imports,r.imports,Pa),c=qr(i),s=x(i,c),u=0,d=t.interpolate||it,m="__p += '",p=hl((t.escape||it).source+"|"+d.source+"|"+(d===Be?Ze:it).source+"|"+(t.evaluate||it).source+"|$","g"),f="//# sourceURL="+(wl.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vt+"]")+"\n";e.replace(p,(function(t,n,a,r,i,c){return a||(a=r),m+=e.slice(u,c).replace(ct,_),n&&(l=!0,m+="' +\n__e("+n+") +\n'"),i&&(o=!0,m+="';\n"+i+";\n__p += '"),a&&(m+="' +\n((__t = ("+a+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),m+="';\n";var g=wl.call(t,"variable")&&t.variable;if(g){if(Qe.test(g))throw new pl("Invalid `variable` option passed into `_.template`")}else m="with (obj) {\n"+m+"\n}\n";m=(o?m.replace(xe,""):m).replace(Oe,"$1").replace(Ae,"$1;"),m="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(l?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var E=oc((function(){return fl(c,f+"return "+m).apply($,s)}));if(E.source=m,Or(E))throw E;return E},n.times=function(e,t){if((e=Hr(e))<1||e>Z)return[];var n=te,a=to(e,te);t=Wa(t),e-=te;for(var r=T(a,t);++n<e;)t(n);return r},n.toFinite=jr,n.toInteger=Hr,n.toLength=Vr,n.toLower=function(e){return Kr(e).toLowerCase()},n.toNumber=Gr,n.toSafeInteger=function(e){return e?wt(Hr(e),-Z,Z):0===e?e:0},n.toString=Kr,n.toUpper=function(e){return Kr(e).toUpperCase()},n.trim=function(e,t,n){if((e=Kr(e))&&(n||t===$))return I(e);if(!e||!(t=zn(t)))return e;var a=H(e),r=H(t);return Jn(a,A(a,r),N(a,r)+1).join("")},n.trimEnd=function(e,t,n){if((e=Kr(e))&&(n||t===$))return e.slice(0,V(e)+1);if(!e||!(t=zn(t)))return e;var a=H(e);return Jn(a,0,N(a,H(t))+1).join("")},n.trimStart=function(e,t,n){if((e=Kr(e))&&(n||t===$))return e.replace(Ge,"");if(!e||!(t=zn(t)))return e;var a=H(e);return Jn(a,A(a,H(t))).join("")},n.truncate=function(e,t){var n=30,a="...";if(_r(t)){var r="separator"in t?t.separator:r;n="length"in t?Hr(t.length):n,a="omission"in t?zn(t.omission):a}var l=(e=Kr(e)).length;if(L(e)){var o=H(e);l=o.length}if(n>=l)return e;var i=n-j(a);if(i<1)return a;var c=o?Jn(o,0,i).join(""):e.slice(0,i);if(r===$)return c+a;if(o&&(i+=c.length-i),Oi(r)){if(e.slice(i).search(r)){var s,u=c;for(r.global||(r=hl(r.source,Kr(et.exec(r))+"g")),r.lastIndex=0;s=r.exec(u);)var d=s.index;c=c.slice(0,d===$?i:d)}}else if(e.indexOf(zn(r),i)!=i){var m=c.lastIndexOf(r);m>-1&&(c=c.slice(0,m))}return c+a},n.unescape=function(e){return(e=Kr(e))&&_e.test(e)?e.replace(Ne,fn):e},n.uniqueId=function(e){var t=++kl;return Kr(e)+t},n.upperCase=rc,n.upperFirst=lc,n.each=yr,n.eachRight=Fr,n.first=mr,ol(n,function(){var e={};return Rt(n,(function(t,a){wl.call(n.prototype,a)||(e[a]=t)})),e}(),{chain:!1}),n.VERSION="4.17.21",o(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){n[e].placeholder=n})),o(["drop","take"],(function(e,t){$e.prototype[e]=function(n){n=n===$?1:eo(Hr(n),0);var a=this.__filtered__&&!t?new $e(this):this.clone();return a.__filtered__?a.__takeCount__=to(n,a.__takeCount__):a.__views__.push({size:to(n,te),type:e+(a.__dir__<0?"Right":"")}),a},$e.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),o(["filter","map","takeWhile"],(function(e,t){var n=t+1,a=1==n||3==n;$e.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Wa(e,3),type:n}),t.__filtered__=t.__filtered__||a,t}})),o(["head","last"],(function(e,t){var n="take"+(t?"Right":"");$e.prototype[e]=function(){return this[n](1).value()[0]}})),o(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");$e.prototype[e]=function(){return this.__filtered__?new $e(this):this[n](1)}})),$e.prototype.compact=function(){return this.filter(rl)},$e.prototype.find=function(e){return this.filter(e).head()},$e.prototype.findLast=function(e){return this.reverse().find(e)},$e.prototype.invokeMap=xn((function(e,t){return"function"==typeof e?new $e(this):this.map((function(n){return Zt(n,e,t)}))})),$e.prototype.reject=function(e){return this.filter(Tr(Wa(e)))},$e.prototype.slice=function(e,t){e=Hr(e);var n=this;return n.__filtered__&&(e>0||t<0)?new $e(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==$&&(n=(t=Hr(t))<0?n.dropRight(-t):n.take(t-e)),n)},$e.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},$e.prototype.toArray=function(){return this.take(te)},Rt($e.prototype,(function(e,t){var a=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),l=n[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);l&&(n.prototype[t]=function(){var t=this.__wrapped__,i=r?[1]:arguments,c=t instanceof $e,s=i[0],u=c||ki(t),d=function(e){var t=l.apply(n,p([e],i));return r&&m?t[0]:t};u&&a&&"function"==typeof s&&1!=s.length&&(c=u=!1);var m=this.__chain__,f=!!this.__actions__.length,g=o&&!m,E=c&&!f;if(!o&&u){t=E?t:new $e(this);var h=e.apply(t,i);return h.__actions__.push({func:br,args:[d],thisArg:$}),new M(h,m)}return g&&E?e.apply(this,i):(h=this.thru(d),g?r?h.value()[0]:h.value():h)})})),o(["pop","push","shift","sort","splice","unshift"],(function(e){var t=yl[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var n=this.value();return t.apply(ki(n)?n:[],e)}return this[a]((function(n){return t.apply(ki(n)?n:[],e)}))}})),Rt($e.prototype,(function(e,t){var a=n[t];if(a){var r=a.name+"";wl.call(fo,r)||(fo[r]=[]),fo[r].push({name:t,func:a})}})),fo[ha($,2).name]=[{name:"wrapper",func:$}],$e.prototype.clone=function(){var e=new $e(this.__wrapped__);return e.__actions__=la(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=la(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=la(this.__views__),e},$e.prototype.reverse=function(){if(this.__filtered__){var e=new $e(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},$e.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ki(e),a=t<0,r=n?e.length:0,l=function(e,t,n){for(var a=-1,r=n.length;++a<r;){var l=n[a],o=l.size;switch(l.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=to(t,e+o);break;case"takeRight":e=eo(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=l.start,i=l.end,c=i-o,s=a?i:o-1,u=this.__iteratees__,d=u.length,m=0,p=to(c,this.__takeCount__);if(!n||!a&&r==c&&p==c)return $n(e,this.__actions__);var f=[];e:for(;c--&&m<p;){for(var g=-1,E=e[s+=t];++g<d;){var h=u[g],v=h.iteratee,b=h.type,y=v(E);if(2==b)E=y;else if(!y){if(1==b)continue e;break e}}f[m++]=E}return f},n.prototype.at=li,n.prototype.chain=function(){return vr(this)},n.prototype.commit=function(){return new M(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===$&&(this.__values__=zr(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?$:this.__values__[this.__index__++]}},n.prototype.plant=function(e){for(var t,n=this;n instanceof a;){var r=cr(n);r.__index__=0,r.__values__=$,t?l.__wrapped__=r:t=r;var l=r;n=n.__wrapped__}return l.__wrapped__=e,t},n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof $e){var t=e;return this.__actions__.length&&(t=new $e(this)),(t=t.reverse()).__actions__.push({func:br,args:[gr],thisArg:$}),new M(t,this.__chain__)}return this.thru(gr)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return $n(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,zl&&(n.prototype[zl]=function(){return this}),n}();Jt._=gn,void 0===(a=function(){return gn}.call(t,n,t,e))||(e.exports=a)}.call(this)},44744:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,l){for(var o,i,c=r(e),s=1;s<arguments.length;s++){for(var u in o=Object(arguments[s]))n.call(o,u)&&(c[u]=o[u]);if(t){i=t(o);for(var d=0;d<i.length;d++)a.call(o,i[d])&&(c[i[d]]=o[i[d]])}}return c}},36707:(e,t,n)=>{var a=n(25733),r=n(45598)((function(e,t){return a(e.length,(function(){return e.apply(t,arguments)}))}));e.exports=r},17145:(e,t,n)=>{var a=n(25733),r=n(20567),l=n(45598),o=n(38e3),i=l((function(e,t){return 1===e?r(t):a(e,o(e,[],t))}));e.exports=i},77357:(e,t,n)=>{var a=n(45598),r=n(8102),l=a((function(e,t){return r(e,t,[],[])}));e.exports=l},29654:(e,t,n)=>{var a=n(45598),r=n(2199),l=n(52110),o=n(45093),i=n(29996),c=n(42959),s=n(8382),u=a(r(["filter"],c,(function(e,t){return o(t)?i((function(n,a){return e(t[a])&&(n[a]=t[a]),n}),{},s(t)):l(e,t)})));e.exports=u},94551:(e,t,n)=>{var a=n(45598)(n(2199)(["find"],n(92554),(function(e,t){for(var n=0,a=t.length;n<a;){if(e(t[n]))return t[n];n+=1}})));e.exports=a},634:(e,t,n)=>{var a=n(20567),r=n(17145),l=a((function(e){return r(e.length,(function(t,n){var a=Array.prototype.slice.call(arguments,0);return a[0]=n,a[1]=t,e.apply(this,a)}))}));e.exports=l},71768:(e,t,n)=>{var a=n(24289),r=n(45598)(a);e.exports=r},25733:e=>{e.exports=function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,a){return t.apply(this,arguments)};case 4:return function(e,n,a,r){return t.apply(this,arguments)};case 5:return function(e,n,a,r,l){return t.apply(this,arguments)};case 6:return function(e,n,a,r,l,o){return t.apply(this,arguments)};case 7:return function(e,n,a,r,l,o,i){return t.apply(this,arguments)};case 8:return function(e,n,a,r,l,o,i,c){return t.apply(this,arguments)};case 9:return function(e,n,a,r,l,o,i,c,s){return t.apply(this,arguments)};case 10:return function(e,n,a,r,l,o,i,c,s,u){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},92402:e=>{e.exports=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}},58514:(e,t,n)=>{var a=n(17694);e.exports=function(e,t){return function(){var n=arguments.length;if(0===n)return t();var r=arguments[n-1];return a(r)||"function"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}},9798:e=>{e.exports=function(e){return function(){return!e.apply(this,arguments)}}},20567:(e,t,n)=>{var a=n(13132);e.exports=function(e){return function t(n){return 0===arguments.length||a(n)?t:e.apply(this,arguments)}}},45598:(e,t,n)=>{var a=n(20567),r=n(13132);e.exports=function(e){return function t(n,l){switch(arguments.length){case 0:return t;case 1:return r(n)?t:a((function(t){return e(n,t)}));default:return r(n)&&r(l)?t:r(n)?a((function(t){return e(t,l)})):r(l)?a((function(t){return e(n,t)})):e(n,l)}}}},98748:(e,t,n)=>{var a=n(20567),r=n(45598),l=n(13132);e.exports=function(e){return function t(n,o,i){switch(arguments.length){case 0:return t;case 1:return l(n)?t:r((function(t,a){return e(n,t,a)}));case 2:return l(n)&&l(o)?t:l(n)?r((function(t,n){return e(t,o,n)})):l(o)?r((function(t,a){return e(n,t,a)})):a((function(t){return e(n,o,t)}));default:return l(n)&&l(o)&&l(i)?t:l(n)&&l(o)?r((function(t,n){return e(t,n,i)})):l(n)&&l(i)?r((function(t,n){return e(t,o,n)})):l(o)&&l(i)?r((function(t,a){return e(n,t,a)})):l(n)?a((function(t){return e(t,o,i)})):l(o)?a((function(t){return e(n,t,i)})):l(i)?a((function(t){return e(n,o,t)})):e(n,o,i)}}}},38e3:(e,t,n)=>{var a=n(25733),r=n(13132);e.exports=function e(t,n,l){return function(){for(var o=[],i=0,c=t,s=0;s<n.length||i<arguments.length;){var u;s<n.length&&(!r(n[s])||i>=arguments.length)?u=n[s]:(u=arguments[i],i+=1),o[s]=u,r(u)||(c-=1),s+=1}return c<=0?l.apply(this,o):a(c,e(t,o,l))}}},2199:(e,t,n)=>{var a=n(17694),r=n(77986);e.exports=function(e,t,n){return function(){if(0===arguments.length)return n();var l=Array.prototype.slice.call(arguments,0),o=l.pop();if(!a(o)){for(var i=0;i<e.length;){if("function"==typeof o[e[i]])return o[e[i]].apply(o,l);i+=1}if(r(o)){var c=t.apply(null,l);return c(o)}}return n.apply(this,arguments)}}},8102:(e,t,n)=>{var a=n(92402),r=n(3481),l=n(90442),o=n(48555),i=n(51237),c=n(8382),s=n(8703);function u(e,t,n,l){var o=a(e),i=a(t);function c(e,t){return d(e,t,n.slice(),l.slice())}return!r((function(e,t){return!r(c,t,e)}),i,o)}function d(e,t,n,a){if(i(e,t))return!0;var r=s(e);if(r!==s(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(r){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===l(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!i(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!i(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var m=n.length-1;m>=0;){if(n[m]===e)return a[m]===t;m-=1}switch(r){case"Map":return e.size===t.size&&u(e.entries(),t.entries(),n.concat([e]),a.concat([t]));case"Set":return e.size===t.size&&u(e.values(),t.values(),n.concat([e]),a.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var p=c(e);if(p.length!==c(t).length)return!1;var f=n.concat([e]),g=a.concat([t]);for(m=p.length-1;m>=0;){var E=p[m];if(!o(E,t)||!d(t[E],e[E],f,g))return!1;m-=1}return!0}e.exports=d},52110:e=>{e.exports=function(e,t){for(var n=0,a=t.length,r=[];n<a;)e(t[n])&&(r[r.length]=t[n]),n+=1;return r}},90442:e=>{e.exports=function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}},48555:e=>{e.exports=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)}},24289:(e,t,n)=>{var a=n(4268);e.exports=function(e,t){return a(t,e,0)>=0}},3481:e=>{e.exports=function(e,t,n){for(var a=0,r=n.length;a<r;){if(e(t,n[a]))return!0;a+=1}return!1}},4268:(e,t,n)=>{var a=n(77357);e.exports=function(e,t,n){var r,l;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(r=1/t;n<e.length;){if(0===(l=e[n])&&1/l===r)return n;n+=1}return-1}if(t!=t){for(;n<e.length;){if("number"==typeof(l=e[n])&&l!=l)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if(a(e[n],t))return n;n+=1}return-1}},66022:(e,t,n)=>{var a=n(48555),r=Object.prototype.toString,l=function(){return"[object Arguments]"===r.call(arguments)?function(e){return"[object Arguments]"===r.call(e)}:function(e){return a("callee",e)}}();e.exports=l},17694:e=>{e.exports=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)}},35553:(e,t,n)=>{var a=n(20567),r=n(17694),l=n(95493),o=a((function(e){return!!r(e)||!!e&&"object"==typeof e&&!l(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))}));e.exports=o},45093:e=>{e.exports=function(e){return"[object Object]"===Object.prototype.toString.call(e)}},13132:e=>{e.exports=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}},95493:e=>{e.exports=function(e){return"[object String]"===Object.prototype.toString.call(e)}},77986:e=>{e.exports=function(e){return null!=e&&"function"==typeof e["@@transducer/step"]}},51237:e=>{e.exports="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},29996:(e,t,n)=>{var a=n(35553),r=n(70125),l=n(36707);function o(e,t,n){for(var a=n.next();!a.done;){if((t=e["@@transducer/step"](t,a.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}a=n.next()}return e["@@transducer/result"](t)}function i(e,t,n,a){return e["@@transducer/result"](n[a](l(e["@@transducer/step"],e),t))}var c="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";e.exports=function(e,t,n){if("function"==typeof e&&(e=r(e)),a(n))return function(e,t,n){for(var a=0,r=n.length;a<r;){if((t=e["@@transducer/step"](t,n[a]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}a+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return i(e,t,n,"fantasy-land/reduce");if(null!=n[c])return o(e,t,n[c]());if("function"==typeof n.next)return o(e,t,n);if("function"==typeof n.reduce)return i(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}},70768:e=>{e.exports=function(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}},14565:e=>{e.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}}},42959:(e,t,n)=>{var a=n(45598),r=n(14565),l=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=r.init,e.prototype["@@transducer/result"]=r.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}(),o=a((function(e,t){return new l(e,t)}));e.exports=o},92554:(e,t,n)=>{var a=n(45598),r=n(70768),l=n(14565),o=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=l.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=r(this.xf["@@transducer/step"](e,t))),e},e}(),i=a((function(e,t){return new o(e,t)}));e.exports=i},70125:e=>{var t=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();e.exports=function(e){return new t(e)}},8382:(e,t,n)=>{var a=n(20567),r=n(48555),l=n(66022),o=!{toString:null}.propertyIsEnumerable("toString"),i=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],c=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),s=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},u="function"!=typeof Object.keys||c?a((function(e){if(Object(e)!==e)return[];var t,n,a=[],u=c&&l(e);for(t in e)!r(t,e)||u&&"length"===t||(a[a.length]=t);if(o)for(n=i.length-1;n>=0;)r(t=i[n],e)&&!s(a,t)&&(a[a.length]=t),n-=1;return a})):a((function(e){return Object(e)!==e?[]:Object.keys(e)}));e.exports=u},49836:(e,t,n)=>{var a=n(98748),r=n(77357),l=a((function(e,t,n){return r(t,n[e])}));e.exports=l},99022:(e,t,n)=>{var a=n(9798),r=n(45598),l=n(29654),o=r((function(e,t){return l(a(e),t)}));e.exports=o},39359:(e,t,n)=>{var a=n(58514),r=n(98748)(a("slice",(function(e,t,n){return Array.prototype.slice.call(n,e,t)})));e.exports=r},31717:(e,t,n)=>{var a=n(45598),r=n(39359),l=a((function(e,t){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],a=0;a<t.length;)n.push(r(a,a+=e,t));return n}));e.exports=l},66139:(e,t,n)=>{var a=n(45598)((function(e,t){var n,a=Number(t),r=0;if(a<0||isNaN(a))throw new RangeError("n must be a non-negative number");for(n=new Array(a);r<a;)n[r]=e(r),r+=1;return n}));e.exports=a},8703:(e,t,n)=>{var a=n(20567)((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));e.exports=a},97744:(e,t,n)=>{var a=n(24289),r=n(45598),l=n(634),o=n(99022),i=r((function(e,t){return o(l(a)(e),t)}));e.exports=i},46430:(e,t,n)=>{e.exports=function t(a){"use strict";var r=n(44744),l=n(3464),o=n(26990);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;c.hasOwnProperty("ReactCurrentDispatcher")||(c.ReactCurrentDispatcher={current:null}),c.hasOwnProperty("ReactCurrentBatchConfig")||(c.ReactCurrentBatchConfig={suspense:null});var s="function"==typeof Symbol&&Symbol.for,u=s?Symbol.for("react.element"):60103,d=s?Symbol.for("react.portal"):60106,m=s?Symbol.for("react.fragment"):60107,p=s?Symbol.for("react.strict_mode"):60108,f=s?Symbol.for("react.profiler"):60114,g=s?Symbol.for("react.provider"):60109,E=s?Symbol.for("react.context"):60110,h=s?Symbol.for("react.concurrent_mode"):60111,v=s?Symbol.for("react.forward_ref"):60112,b=s?Symbol.for("react.suspense"):60113,y=s?Symbol.for("react.suspense_list"):60120,F=s?Symbol.for("react.memo"):60115,S=s?Symbol.for("react.lazy"):60116;s&&Symbol.for("react.fundamental"),s&&Symbol.for("react.responder"),s&&Symbol.for("react.scope");var C="function"==typeof Symbol&&Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}function w(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case d:return"Portal";case f:return"Profiler";case p:return"StrictMode";case b:return"Suspense";case y:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case E:return"Context.Consumer";case g:return"Context.Provider";case v:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case F:return w(e.type);case S:if(e=1===e._status?e._result:null)return w(e)}return null}function k(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function T(e){if(k(e)!==e)throw Error(i(188))}function I(e){var t=e.alternate;if(!t){if(null===(t=k(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(a=r.return)){n=a;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===n)return T(r),e;if(l===a)return T(r),t;l=l.sibling}throw Error(i(188))}if(n.return!==a.return)n=r,a=l;else{for(var o=!1,c=r.child;c;){if(c===n){o=!0,n=r,a=l;break}if(c===a){o=!0,a=r,n=l;break}c=c.sibling}if(!o){for(c=l.child;c;){if(c===n){o=!0,n=l,a=r;break}if(c===a){o=!0,a=l,n=r;break}c=c.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==a)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}function P(e){if(!(e=I(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var x=a.getPublicInstance,O=a.getRootHostContext,A=a.getChildHostContext,N=a.prepareForCommit,R=a.resetAfterCommit,_=a.createInstance,L=a.appendInitialChild,D=a.finalizeInitialChildren,W=a.prepareUpdate,B=a.shouldSetTextContent,U=a.shouldDeprioritizeSubtree,z=a.createTextInstance,j=a.setTimeout,H=a.clearTimeout,V=a.noTimeout,G=a.isPrimaryRenderer,$=a.supportsMutation,K=a.supportsPersistence,X=a.supportsHydration,Y=a.appendChild,q=a.appendChildToContainer,Q=a.commitTextUpdate,J=a.commitMount,Z=a.commitUpdate,ee=a.insertBefore,te=a.insertInContainerBefore,ne=a.removeChild,ae=a.removeChildFromContainer,re=a.resetTextContent,le=a.hideInstance,oe=a.hideTextInstance,ie=a.unhideInstance,ce=a.unhideTextInstance,se=a.cloneInstance,ue=a.createContainerChildSet,de=a.appendChildToContainerChildSet,me=a.finalizeContainerChildren,pe=a.replaceContainerChildren,fe=a.cloneHiddenInstance,ge=a.cloneHiddenTextInstance,Ee=a.canHydrateInstance,he=a.canHydrateTextInstance,ve=a.isSuspenseInstancePending,be=a.isSuspenseInstanceFallback,ye=a.getNextHydratableSibling,Fe=a.getFirstHydratableChild,Se=a.hydrateInstance,Ce=a.hydrateTextInstance,Me=a.getNextHydratableInstanceAfterSuspenseInstance,we=a.commitHydratedContainer,ke=a.commitHydratedSuspenseInstance,Te=/^(.*)[\\\/]/;function Ie(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var a=e._debugOwner,r=e._debugSource,l=w(e.type);n=null,a&&(n=w(a.type)),a=l,l="",r?l=" (at "+r.fileName.replace(Te,"")+":"+r.lineNumber+")":n&&(l=" (created by "+n+")"),n="\n    in "+(a||"Unknown")+l}t+=n,e=e.return}while(e);return t}new Set;var Pe=[],xe=-1;function Oe(e){0>xe||(e.current=Pe[xe],Pe[xe]=null,xe--)}function Ae(e,t){xe++,Pe[xe]=e.current,e.current=t}var Ne={},Re={current:Ne},_e={current:!1},Le=Ne;function De(e,t){var n=e.type.contextTypes;if(!n)return Ne;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,l={};for(r in n)l[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function We(e){return null!=e.childContextTypes}function Be(e){Oe(_e),Oe(Re)}function Ue(e){Oe(_e),Oe(Re)}function ze(e,t,n){if(Re.current!==Ne)throw Error(i(168));Ae(Re,t),Ae(_e,n)}function je(e,t,n){var a=e.stateNode;if(e=t.childContextTypes,"function"!=typeof a.getChildContext)return n;for(var l in a=a.getChildContext())if(!(l in e))throw Error(i(108,w(t)||"Unknown",l));return r({},n,{},a)}function He(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Ne,Le=Re.current,Ae(Re,t),Ae(_e,_e.current),!0}function Ve(e,t,n){var a=e.stateNode;if(!a)throw Error(i(169));n?(t=je(e,t,Le),a.__reactInternalMemoizedMergedChildContext=t,Oe(_e),Oe(Re),Ae(Re,t)):Oe(_e),Ae(_e,n)}var Ge=o.unstable_runWithPriority,$e=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,Ye=o.unstable_requestPaint,qe=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,Ze=o.unstable_UserBlockingPriority,et=o.unstable_NormalPriority,tt=o.unstable_LowPriority,nt=o.unstable_IdlePriority,at={},rt=void 0!==Ye?Ye:function(){},lt=null,ot=null,it=!1,ct=qe(),st=1e4>ct?qe:function(){return qe()-ct};function ut(){switch(Qe()){case Je:return 99;case Ze:return 98;case et:return 97;case tt:return 96;case nt:return 95;default:throw Error(i(332))}}function dt(e){switch(e){case 99:return Je;case 98:return Ze;case 97:return et;case 96:return tt;case 95:return nt;default:throw Error(i(332))}}function mt(e,t){return e=dt(e),Ge(e,t)}function pt(e,t,n){return e=dt(e),$e(e,t,n)}function ft(e){return null===lt?(lt=[e],ot=$e(Je,Et)):lt.push(e),at}function gt(){if(null!==ot){var e=ot;ot=null,Ke(e)}Et()}function Et(){if(!it&&null!==lt){it=!0;var e=0;try{var t=lt;mt(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),lt=null}catch(t){throw null!==lt&&(lt=lt.slice(e+1)),$e(Je,gt),t}finally{it=!1}}}var ht=3;function vt(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}var bt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},yt=Object.prototype.hasOwnProperty;function Ft(e,t){if(bt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++)if(!yt.call(t,n[a])||!bt(e[n[a]],t[n[a]]))return!1;return!0}function St(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Ct={current:null},Mt=null,wt=null,kt=null;function Tt(){kt=wt=Mt=null}function It(e,t){var n=e.type._context;G?(Ae(Ct,n._currentValue),n._currentValue=t):(Ae(Ct,n._currentValue2),n._currentValue2=t)}function Pt(e){var t=Ct.current;Oe(Ct),e=e.type._context,G?e._currentValue=t:e._currentValue2=t}function xt(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Ot(e,t){Mt=e,kt=wt=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ma=!0),e.firstContext=null)}function At(e,t){if(kt!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(kt=e,t=1073741823),t={context:e,observedBits:t,next:null},null===wt){if(null===Mt)throw Error(i(308));wt=t,Mt.dependencies={expirationTime:0,firstContext:t,responders:null}}else wt=wt.next=t;return G?e._currentValue:e._currentValue2}var Nt=!1;function Rt(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function _t(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Lt(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Dt(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Wt(e,t){var n=e.alternate;if(null===n){var a=e.updateQueue,r=null;null===a&&(a=e.updateQueue=Rt(e.memoizedState))}else a=e.updateQueue,r=n.updateQueue,null===a?null===r?(a=e.updateQueue=Rt(e.memoizedState),r=n.updateQueue=Rt(n.memoizedState)):a=e.updateQueue=_t(r):null===r&&(r=n.updateQueue=_t(a));null===r||a===r?Dt(a,t):null===a.lastUpdate||null===r.lastUpdate?(Dt(a,t),Dt(r,t)):(Dt(a,t),r.lastUpdate=t)}function Bt(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Rt(e.memoizedState):Ut(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Ut(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=_t(t)),t}function zt(e,t,n,a,l,o){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(o,a,l):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(l="function"==typeof(e=n.payload)?e.call(o,a,l):e))break;return r({},a,l);case 2:Nt=!0}return a}function jt(e,t,n,a,r){Nt=!1;for(var l=(t=Ut(e,t)).baseState,o=null,i=0,c=t.firstUpdate,s=l;null!==c;){var u=c.expirationTime;u<r?(null===o&&(o=c,l=s),i<u&&(i=u)):(Br(u,c.suspenseConfig),s=zt(e,0,c,s,n,a),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(u=null,c=t.firstCapturedUpdate;null!==c;){var d=c.expirationTime;d<r?(null===u&&(u=c,null===o&&(l=s)),i<d&&(i=d)):(s=zt(e,0,c,s,n,a),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===o&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===u&&(l=s),t.baseState=l,t.firstUpdate=o,t.firstCapturedUpdate=u,Ur(i),e.expirationTime=i,e.memoizedState=s}function Ht(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Vt(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Vt(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Vt(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var a=t;if("function"!=typeof n)throw Error(i(191,n));n.call(a)}e=e.nextEffect}}var Gt=c.ReactCurrentBatchConfig,$t=(new l.Component).refs;function Kt(e,t,n,a){n=null==(n=n(a,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,null!==(a=e.updateQueue)&&0===e.expirationTime&&(a.baseState=n)}var Xt={isMounted:function(e){return!!(e=e._reactInternalFiber)&&k(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var a=Tr(),r=Gt.suspense;(r=Lt(a=Ir(a,e,r),r)).payload=t,null!=n&&(r.callback=n),Wt(e,r),Pr(e,a)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var a=Tr(),r=Gt.suspense;(r=Lt(a=Ir(a,e,r),r)).tag=1,r.payload=t,null!=n&&(r.callback=n),Wt(e,r),Pr(e,a)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Tr(),a=Gt.suspense;(a=Lt(n=Ir(n,e,a),a)).tag=2,null!=t&&(a.callback=t),Wt(e,a),Pr(e,n)}};function Yt(e,t,n,a,r,l,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,l,o):!(t.prototype&&t.prototype.isPureReactComponent&&Ft(n,a)&&Ft(r,l))}function qt(e,t,n){var a=!1,r=Ne,l=t.contextType;return"object"==typeof l&&null!==l?l=At(l):(r=We(t)?Le:Re.current,l=(a=null!=(a=t.contextTypes))?De(e,r):Ne),t=new t(n,l),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Xt,e.stateNode=t,t._reactInternalFiber=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=l),t}function Qt(e,t,n,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Xt.enqueueReplaceState(t,t.state,null)}function Jt(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=$t;var l=t.contextType;"object"==typeof l&&null!==l?r.context=At(l):(l=We(t)?Le:Re.current,r.context=De(e,l)),null!==(l=e.updateQueue)&&(jt(e,l,n,r,a),r.state=e.memoizedState),"function"==typeof(l=t.getDerivedStateFromProps)&&(Kt(e,t,l,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Xt.enqueueReplaceState(r,r.state,null),null!==(l=e.updateQueue)&&(jt(e,l,n,r,a),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var Zt=Array.isArray;function en(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var a=n.stateNode}if(!a)throw Error(i(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=a.refs;t===$t&&(t=a.refs={}),null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function tn(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function nn(e){function t(t,n){if(e){var a=t.lastEffect;null!==a?(a.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t,n){return(e=ol(e,t)).index=0,e.sibling=null,e}function l(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.effectTag=2,n):a:(t.effectTag=2,n):n}function o(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,a){return null===t||6!==t.tag?((t=sl(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function s(e,t,n,a){return null!==t&&t.elementType===n.type?((a=r(t,n.props)).ref=en(e,t,n),a.return=e,a):((a=il(n.type,n.key,n.props,null,e.mode,a)).ref=en(e,t,n),a.return=e,a)}function p(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ul(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function f(e,t,n,a,l){return null===t||7!==t.tag?((t=cl(n,e.mode,a,l)).return=e,t):((t=r(t,n)).return=e,t)}function g(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=sl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case u:return(n=il(t.type,t.key,t.props,null,e.mode,n)).ref=en(e,null,t),n.return=e,n;case d:return(t=ul(t,e.mode,n)).return=e,t}if(Zt(t)||M(t))return(t=cl(t,e.mode,n,null)).return=e,t;tn(e,t)}return null}function E(e,t,n,a){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:c(e,t,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case u:return n.key===r?n.type===m?f(e,t,n.props.children,a,r):s(e,t,n,a):null;case d:return n.key===r?p(e,t,n,a):null}if(Zt(n)||M(n))return null!==r?null:f(e,t,n,a,null);tn(e,n)}return null}function h(e,t,n,a,r){if("string"==typeof a||"number"==typeof a)return c(t,e=e.get(n)||null,""+a,r);if("object"==typeof a&&null!==a){switch(a.$$typeof){case u:return e=e.get(null===a.key?n:a.key)||null,a.type===m?f(t,e,a.props.children,r,a.key):s(t,e,a,r);case d:return p(t,e=e.get(null===a.key?n:a.key)||null,a,r)}if(Zt(a)||M(a))return f(t,e=e.get(n)||null,a,r,null);tn(t,a)}return null}function v(r,o,i,c){for(var s=null,u=null,d=o,m=o=0,p=null;null!==d&&m<i.length;m++){d.index>m?(p=d,d=null):p=d.sibling;var f=E(r,d,i[m],c);if(null===f){null===d&&(d=p);break}e&&d&&null===f.alternate&&t(r,d),o=l(f,o,m),null===u?s=f:u.sibling=f,u=f,d=p}if(m===i.length)return n(r,d),s;if(null===d){for(;m<i.length;m++)null!==(d=g(r,i[m],c))&&(o=l(d,o,m),null===u?s=d:u.sibling=d,u=d);return s}for(d=a(r,d);m<i.length;m++)null!==(p=h(d,r,m,i[m],c))&&(e&&null!==p.alternate&&d.delete(null===p.key?m:p.key),o=l(p,o,m),null===u?s=p:u.sibling=p,u=p);return e&&d.forEach((function(e){return t(r,e)})),s}function b(r,o,c,s){var u=M(c);if("function"!=typeof u)throw Error(i(150));if(null==(c=u.call(c)))throw Error(i(151));for(var d=u=null,m=o,p=o=0,f=null,v=c.next();null!==m&&!v.done;p++,v=c.next()){m.index>p?(f=m,m=null):f=m.sibling;var b=E(r,m,v.value,s);if(null===b){null===m&&(m=f);break}e&&m&&null===b.alternate&&t(r,m),o=l(b,o,p),null===d?u=b:d.sibling=b,d=b,m=f}if(v.done)return n(r,m),u;if(null===m){for(;!v.done;p++,v=c.next())null!==(v=g(r,v.value,s))&&(o=l(v,o,p),null===d?u=v:d.sibling=v,d=v);return u}for(m=a(r,m);!v.done;p++,v=c.next())null!==(v=h(m,r,p,v.value,s))&&(e&&null!==v.alternate&&m.delete(null===v.key?p:v.key),o=l(v,o,p),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(r,e)})),u}return function(e,a,l,c){var s="object"==typeof l&&null!==l&&l.type===m&&null===l.key;s&&(l=l.props.children);var p="object"==typeof l&&null!==l;if(p)switch(l.$$typeof){case u:e:{for(p=l.key,s=a;null!==s;){if(s.key===p){if(7===s.tag?l.type===m:s.elementType===l.type){n(e,s.sibling),(a=r(s,l.type===m?l.props.children:l.props)).ref=en(e,s,l),a.return=e,e=a;break e}n(e,s);break}t(e,s),s=s.sibling}l.type===m?((a=cl(l.props.children,e.mode,c,l.key)).return=e,e=a):((c=il(l.type,l.key,l.props,null,e.mode,c)).ref=en(e,a,l),c.return=e,e=c)}return o(e);case d:e:{for(s=l.key;null!==a;){if(a.key===s){if(4===a.tag&&a.stateNode.containerInfo===l.containerInfo&&a.stateNode.implementation===l.implementation){n(e,a.sibling),(a=r(a,l.children||[])).return=e,e=a;break e}n(e,a);break}t(e,a),a=a.sibling}(a=ul(l,e.mode,c)).return=e,e=a}return o(e)}if("string"==typeof l||"number"==typeof l)return l=""+l,null!==a&&6===a.tag?(n(e,a.sibling),(a=r(a,l)).return=e,e=a):(n(e,a),(a=sl(l,e.mode,c)).return=e,e=a),o(e);if(Zt(l))return v(e,a,l,c);if(M(l))return b(e,a,l,c);if(p&&tn(e,l),void 0===l&&!s)switch(e.tag){case 1:case 0:throw e=e.type,Error(i(152,e.displayName||e.name||"Component"))}return n(e,a)}}var an=nn(!0),rn=nn(!1),ln={},on={current:ln},cn={current:ln},sn={current:ln};function un(e){if(e===ln)throw Error(i(174));return e}function dn(e,t){Ae(sn,t),Ae(cn,e),Ae(on,ln),t=O(t),Oe(on),Ae(on,t)}function mn(e){Oe(on),Oe(cn),Oe(sn)}function pn(e){var t=un(sn.current),n=un(on.current);n!==(t=A(n,e.type,t))&&(Ae(cn,e),Ae(on,t))}function fn(e){cn.current===e&&(Oe(on),Oe(cn))}var gn={current:0};function En(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||ve(n)||be(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function hn(e,t){return{responder:e,props:t}}var vn=c.ReactCurrentDispatcher,bn=c.ReactCurrentBatchConfig,yn=0,Fn=null,Sn=null,Cn=null,Mn=null,wn=null,kn=null,Tn=0,In=null,Pn=0,xn=!1,On=null,An=0;function Nn(){throw Error(i(321))}function Rn(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bt(e[n],t[n]))return!1;return!0}function _n(e,t,n,a,r,l){if(yn=l,Fn=t,Cn=null!==e?e.memoizedState:null,vn.current=null===Cn?ea:ta,t=n(a,r),xn){do{xn=!1,An+=1,Cn=null!==e?e.memoizedState:null,kn=Mn,In=wn=Sn=null,vn.current=ta,t=n(a,r)}while(xn);On=null,An=0}if(vn.current=Zn,(e=Fn).memoizedState=Mn,e.expirationTime=Tn,e.updateQueue=In,e.effectTag|=Pn,e=null!==Sn&&null!==Sn.next,yn=0,kn=wn=Mn=Cn=Sn=Fn=null,Tn=0,In=null,Pn=0,e)throw Error(i(300));return t}function Ln(){vn.current=Zn,yn=0,kn=wn=Mn=Cn=Sn=Fn=null,Tn=0,In=null,Pn=0,xn=!1,On=null,An=0}function Dn(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===wn?Mn=wn=e:wn=wn.next=e,wn}function Wn(){if(null!==kn)kn=(wn=kn).next,Cn=null!==(Sn=Cn)?Sn.next:null;else{if(null===Cn)throw Error(i(310));var e={memoizedState:(Sn=Cn).memoizedState,baseState:Sn.baseState,queue:Sn.queue,baseUpdate:Sn.baseUpdate,next:null};wn=null===wn?Mn=e:wn.next=e,Cn=Sn.next}return wn}function Bn(e,t){return"function"==typeof t?t(e):t}function Un(e){var t=Wn(),n=t.queue;if(null===n)throw Error(i(311));if(n.lastRenderedReducer=e,0<An){var a=n.dispatch;if(null!==On){var r=On.get(n);if(void 0!==r){On.delete(n);var l=t.memoizedState;do{l=e(l,r.action),r=r.next}while(null!==r);return bt(l,t.memoizedState)||(ma=!0),t.memoizedState=l,t.baseUpdate===n.last&&(t.baseState=l),n.lastRenderedState=l,[l,a]}}return[t.memoizedState,a]}a=n.last;var o=t.baseUpdate;if(l=t.baseState,null!==o?(null!==a&&(a.next=null),a=o.next):a=null!==a?a.next:null,null!==a){var c=r=null,s=a,u=!1;do{var d=s.expirationTime;d<yn?(u||(u=!0,c=o,r=l),d>Tn&&Ur(Tn=d)):(Br(d,s.suspenseConfig),l=s.eagerReducer===e?s.eagerState:e(l,s.action)),o=s,s=s.next}while(null!==s&&s!==a);u||(c=o,r=l),bt(l,t.memoizedState)||(ma=!0),t.memoizedState=l,t.baseUpdate=c,t.baseState=r,n.lastRenderedState=l}return[t.memoizedState,n.dispatch]}function zn(e){var t=Dn();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:e}).dispatch=Jn.bind(null,Fn,e),[t.memoizedState,e]}function jn(e){return Un(Bn)}function Hn(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===In?(In={lastEffect:null}).lastEffect=e.next=e:null===(t=In.lastEffect)?In.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,In.lastEffect=e),e}function Vn(e,t,n,a){var r=Dn();Pn|=e,r.memoizedState=Hn(t,n,void 0,void 0===a?null:a)}function Gn(e,t,n,a){var r=Wn();a=void 0===a?null:a;var l=void 0;if(null!==Sn){var o=Sn.memoizedState;if(l=o.destroy,null!==a&&Rn(a,o.deps))return void Hn(0,n,l,a)}Pn|=e,r.memoizedState=Hn(t,n,l,a)}function $n(e,t){return Vn(516,192,e,t)}function Kn(e,t){return Gn(516,192,e,t)}function Xn(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yn(){}function qn(e,t){return Dn().memoizedState=[e,void 0===t?null:t],e}function Qn(e,t){var n=Wn();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&Rn(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Jn(e,t,n){if(!(25>An))throw Error(i(301));var a=e.alternate;if(e===Fn||null!==a&&a===Fn)if(xn=!0,e={expirationTime:yn,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===On&&(On=new Map),void 0===(n=On.get(t)))On.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var r=Tr(),l=Gt.suspense;l={expirationTime:r=Ir(r,e,l),suspenseConfig:l,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.last;if(null===o)l.next=l;else{var c=o.next;null!==c&&(l.next=c),o.next=l}if(t.last=l,0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(l.eagerReducer=a,l.eagerState=u,bt(u,s))return}catch(e){}Pr(e,r)}}var Zn={readContext:At,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useResponder:Nn,useDeferredValue:Nn,useTransition:Nn},ea={readContext:At,useCallback:qn,useContext:At,useEffect:$n,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Vn(4,36,Xn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vn(4,36,e,t)},useMemo:function(e,t){var n=Dn();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=Dn();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e=(e=a.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Jn.bind(null,Fn,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},Dn().memoizedState=e},useState:zn,useDebugValue:Yn,useResponder:hn,useDeferredValue:function(e,t){var n=zn(e),a=n[0],r=n[1];return $n((function(){o.unstable_next((function(){var n=bn.suspense;bn.suspense=void 0===t?null:t;try{r(e)}finally{bn.suspense=n}}))}),[e,t]),a},useTransition:function(e){var t=zn(!1),n=t[0],a=t[1];return[qn((function(t){a(!0),o.unstable_next((function(){var n=bn.suspense;bn.suspense=void 0===e?null:e;try{a(!1),t()}finally{bn.suspense=n}}))}),[e,n]),n]}},ta={readContext:At,useCallback:Qn,useContext:At,useEffect:Kn,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Gn(4,36,Xn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gn(4,36,e,t)},useMemo:function(e,t){var n=Wn();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&Rn(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:Un,useRef:function(){return Wn().memoizedState},useState:jn,useDebugValue:Yn,useResponder:hn,useDeferredValue:function(e,t){var n=jn(),a=n[0],r=n[1];return Kn((function(){o.unstable_next((function(){var n=bn.suspense;bn.suspense=void 0===t?null:t;try{r(e)}finally{bn.suspense=n}}))}),[e,t]),a},useTransition:function(e){var t=jn(),n=t[0],a=t[1];return[Qn((function(t){a(!0),o.unstable_next((function(){var n=bn.suspense;bn.suspense=void 0===e?null:e;try{a(!1),t()}finally{bn.suspense=n}}))}),[e,n]),n]}},na=null,aa=null,ra=!1;function la(e,t){var n=rl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function oa(e,t){switch(e.tag){case 5:return null!==(t=Ee(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=he(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function ia(e){if(ra){var t=aa;if(t){var n=t;if(!oa(e,t)){if(!(t=ye(n))||!oa(e,t))return e.effectTag=-1025&e.effectTag|2,ra=!1,void(na=e);la(na,n)}na=e,aa=Fe(t)}else e.effectTag=-1025&e.effectTag|2,ra=!1,na=e}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function sa(e){if(!X||e!==na)return!1;if(!ra)return ca(e),ra=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!B(t,e.memoizedProps))for(t=aa;t;)la(e,t),t=ye(t);if(ca(e),13===e.tag){if(!X)throw Error(i(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));aa=Me(e)}else aa=na?ye(e.stateNode):null;return!0}function ua(){X&&(aa=na=null,ra=!1)}var da=c.ReactCurrentOwner,ma=!1;function pa(e,t,n,a){t.child=null===e?rn(t,null,n,a):an(t,e.child,n,a)}function fa(e,t,n,a,r){n=n.render;var l=t.ref;return Ot(t,r),a=_n(e,t,n,a,l,r),null===e||ma?(t.effectTag|=1,pa(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Oa(e,t,r))}function ga(e,t,n,a,r,l){if(null===e){var o=n.type;return"function"!=typeof o||ll(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=il(n.type,null,a,null,t.mode,l)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ea(e,t,o,a,r,l))}return o=e.child,r<l&&(r=o.memoizedProps,(n=null!==(n=n.compare)?n:Ft)(r,a)&&e.ref===t.ref)?Oa(e,t,l):(t.effectTag|=1,(e=ol(o,a)).ref=t.ref,e.return=t,t.child=e)}function Ea(e,t,n,a,r,l){return null!==e&&Ft(e.memoizedProps,a)&&e.ref===t.ref&&(ma=!1,r<l)?Oa(e,t,l):va(e,t,n,a,l)}function ha(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function va(e,t,n,a,r){var l=We(n)?Le:Re.current;return l=De(t,l),Ot(t,r),n=_n(e,t,n,a,l,r),null===e||ma?(t.effectTag|=1,pa(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Oa(e,t,r))}function ba(e,t,n,a,r){if(We(n)){var l=!0;He(t)}else l=!1;if(Ot(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),qt(t,n,a),Jt(t,n,a,r),a=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,s=n.contextType;s="object"==typeof s&&null!==s?At(s):De(t,s=We(n)?Le:Re.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(i!==a||c!==s)&&Qt(t,o,a,s),Nt=!1;var m=t.memoizedState;c=o.state=m;var p=t.updateQueue;null!==p&&(jt(t,p,a,o,r),c=t.memoizedState),i!==a||m!==c||_e.current||Nt?("function"==typeof u&&(Kt(t,n,u,a),c=t.memoizedState),(i=Nt||Yt(t,n,i,a,m,c,s))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=a,t.memoizedState=c),o.props=a,o.state=c,o.context=s,a=i):("function"==typeof o.componentDidMount&&(t.effectTag|=4),a=!1)}else o=t.stateNode,i=t.memoizedProps,o.props=t.type===t.elementType?i:St(t.type,i),c=o.context,s="object"==typeof(s=n.contextType)&&null!==s?At(s):De(t,s=We(n)?Le:Re.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(i!==a||c!==s)&&Qt(t,o,a,s),Nt=!1,c=t.memoizedState,m=o.state=c,null!==(p=t.updateQueue)&&(jt(t,p,a,o,r),m=t.memoizedState),i!==a||c!==m||_e.current||Nt?("function"==typeof u&&(Kt(t,n,u,a),m=t.memoizedState),(u=Nt||Yt(t,n,i,a,c,m,s))?(d||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(a,m,s),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(a,m,s)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=a,t.memoizedState=m),o.props=a,o.state=m,o.context=s,a=u):("function"!=typeof o.componentDidUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),a=!1);return ya(e,t,n,a,l,r)}function ya(e,t,n,a,r,l){ha(e,t);var o=0!=(64&t.effectTag);if(!a&&!o)return r&&Ve(t,n,!1),Oa(e,t,l);a=t.stateNode,da.current=t;var i=o&&"function"!=typeof n.getDerivedStateFromError?null:a.render();return t.effectTag|=1,null!==e&&o?(t.child=an(t,e.child,null,l),t.child=an(t,null,i,l)):pa(e,t,i,l),t.memoizedState=a.state,r&&Ve(t,n,!0),t.child}function Fa(e){var t=e.stateNode;t.pendingContext?ze(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ze(0,t.context,!1),dn(e,t.containerInfo)}var Sa,Ca,Ma,wa,ka={dehydrated:null,retryTime:0};function Ta(e,t,n){var a,r=t.mode,l=t.pendingProps,o=gn.current,i=!1;if((a=0!=(64&t.effectTag))||(a=0!=(2&o)&&(null===e||null!==e.memoizedState)),a?(i=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===l.fallback||!0===l.unstable_avoidThisFallback||(o|=1),Ae(gn,1&o),null===e){if(void 0!==l.fallback&&ia(t),i){if(i=l.fallback,(l=cl(null,r,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,l.child=e;null!==e;)e.return=l,e=e.sibling;return(n=cl(i,r,n,null)).return=t,l.sibling=n,t.memoizedState=ka,t.child=l,n}return r=l.children,t.memoizedState=null,t.child=rn(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,i){if(l=l.fallback,(n=ol(e,e.pendingProps)).return=t,0==(2&t.mode)&&(i=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=i;null!==i;)i.return=n,i=i.sibling;return(r=ol(r,l,r.expirationTime)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=ka,t.child=n,r}return n=an(t,e.child,l.children,n),t.memoizedState=null,t.child=n}if(e=e.child,i){if(i=l.fallback,(l=cl(null,r,0,null)).return=t,l.child=e,null!==e&&(e.return=l),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,l.child=e;null!==e;)e.return=l,e=e.sibling;return(n=cl(i,r,n,null)).return=t,l.sibling=n,n.effectTag|=2,l.childExpirationTime=0,t.memoizedState=ka,t.child=l,n}return t.memoizedState=null,t.child=an(t,e,l.children,n)}function Ia(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),xt(e.return,t)}function Pa(e,t,n,a,r,l){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,last:a,tail:n,tailExpiration:0,tailMode:r,lastEffect:l}:(o.isBackwards=t,o.rendering=null,o.last=a,o.tail=n,o.tailExpiration=0,o.tailMode=r,o.lastEffect=l)}function xa(e,t,n){var a=t.pendingProps,r=a.revealOrder,l=a.tail;if(pa(e,t,a.children,n),0!=(2&(a=gn.current)))a=1&a|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ia(e,n);else if(19===e.tag)Ia(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ae(gn,a),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===En(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Pa(t,!1,r,n,l,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===En(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Pa(t,!0,n,null,l,t.lastEffect);break;case"together":Pa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Oa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var a=t.expirationTime;if(0!==a&&Ur(a),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=ol(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ol(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Aa(e){e.effectTag|=4}if($)Sa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)L(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ca=function(){},Ma=function(e,t,n,a,r){if((e=e.memoizedProps)!==a){var l=t.stateNode,o=un(on.current);n=W(l,n,e,a,r,o),(t.updateQueue=n)&&Aa(t)}},wa=function(e,t,n,a){n!==a&&Aa(t)};else if(K){Sa=function(e,t,n,a){for(var r=t.child;null!==r;){if(5===r.tag){var l=r.stateNode;n&&a&&(l=fe(l,r.type,r.memoizedProps,r)),L(e,l)}else if(6===r.tag)l=r.stateNode,n&&a&&(l=ge(l,r.memoizedProps,r)),L(e,l);else if(4!==r.tag){if(13===r.tag&&0!=(4&r.effectTag)&&(l=null!==r.memoizedState)){var o=r.child;if(null!==o&&(null!==o.child&&(o.child.return=o,Sa(e,o,!0,l)),null!==(l=o.sibling))){l.return=r,r=l;continue}}if(null!==r.child){r.child.return=r,r=r.child;continue}}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};var Na=function(e,t,n,a){for(var r=t.child;null!==r;){if(5===r.tag){var l=r.stateNode;n&&a&&(l=fe(l,r.type,r.memoizedProps,r)),de(e,l)}else if(6===r.tag)l=r.stateNode,n&&a&&(l=ge(l,r.memoizedProps,r)),de(e,l);else if(4!==r.tag){if(13===r.tag&&0!=(4&r.effectTag)&&(l=null!==r.memoizedState)){var o=r.child;if(null!==o&&(null!==o.child&&(o.child.return=o,Na(e,o,!0,l)),null!==(l=o.sibling))){l.return=r,r=l;continue}}if(null!==r.child){r.child.return=r,r=r.child;continue}}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ca=function(e){var t=e.stateNode;if(null!==e.firstEffect){var n=t.containerInfo,a=ue(n);Na(a,e,!1,!1),t.pendingChildren=a,Aa(e),me(n,a)}},Ma=function(e,t,n,a,r){var l=e.stateNode,o=e.memoizedProps;if((e=null===t.firstEffect)&&o===a)t.stateNode=l;else{var i=t.stateNode,c=un(on.current),s=null;o!==a&&(s=W(i,n,o,a,r,c)),e&&null===s?t.stateNode=l:(l=se(l,s,n,o,a,t,e,i),D(l,n,a,r,c)&&Aa(t),t.stateNode=l,e?Aa(t):Sa(l,t,!1,!1))}},wa=function(e,t,n,a){n!==a&&(e=un(sn.current),n=un(on.current),t.stateNode=z(a,e,n,t),Aa(t))}}else Ca=function(){},Ma=function(){},wa=function(){};function Ra(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function _a(e){switch(e.tag){case 1:We(e.type)&&Be();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(mn(),Ue(),0!=(64&(t=e.effectTag)))throw Error(i(285));return e.effectTag=-4097&t|64,e;case 5:return fn(e),null;case 13:return Oe(gn),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return Oe(gn),null;case 4:return mn(),null;case 10:return Pt(e),null;default:return null}}function La(e,t){return{value:e,source:t,stack:Ie(t)}}var Da="function"==typeof WeakSet?WeakSet:Set;function Wa(e,t){var n=t.source,a=t.stack;null===a&&null!==n&&(a=Ie(n)),null!==n&&w(n.type),t=t.value,null!==e&&1===e.tag&&w(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function Ba(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Jr(e,t)}else t.current=null}function Ua(e,t){switch(t.tag){case 0:case 11:case 15:za(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,a=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:St(t.type,n),a),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}function za(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var a=n=n.next;do{if(0!=(a.tag&e)){var r=a.destroy;a.destroy=void 0,void 0!==r&&r()}0!=(a.tag&t)&&(r=a.create,a.destroy=r()),a=a.next}while(a!==n)}}function ja(e,t,n){switch("function"==typeof nl&&nl(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var a=e.next;mt(97<n?97:n,(function(){var e=a;do{var n=e.destroy;if(void 0!==n){var r=t;try{n()}catch(e){Jr(r,e)}}e=e.next}while(e!==a)}))}break;case 1:Ba(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Jr(e,t)}}(t,n);break;case 5:Ba(t);break;case 4:$?Ka(e,t,n):K&&function(e){if(K){e=e.stateNode.containerInfo;var t=ue(e);pe(e,t)}}(t)}}function Ha(e,t,n){for(var a=t;;)if(ja(e,a,n),null===a.child||$&&4===a.tag){if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}else a.child.return=a,a=a.child}function Va(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&Va(t)}function Ga(e){return 5===e.tag||3===e.tag||4===e.tag}function $a(e){if($){e:{for(var t=e.return;null!==t;){if(Ga(t)){var n=t;break e}t=t.return}throw Error(i(160))}switch(t=n.stateNode,n.tag){case 5:var a=!1;break;case 3:case 4:t=t.containerInfo,a=!0;break;default:throw Error(i(161))}16&n.effectTag&&(re(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ga(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var r=e;;){var l=5===r.tag||6===r.tag;if(l)l=l?r.stateNode:r.stateNode.instance,n?a?te(t,l,n):ee(t,l,n):a?q(t,l):Y(t,l);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}}function Ka(e,t,n){for(var a,r,l=t,o=!1;;){if(!o){o=l.return;e:for(;;){if(null===o)throw Error(i(160));switch(a=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:a=a.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===l.tag||6===l.tag)Ha(e,l,n),r?ae(a,l.stateNode):ne(a,l.stateNode);else if(4===l.tag){if(null!==l.child){a=l.stateNode.containerInfo,r=!0,l.child.return=l,l=l.child;continue}}else if(ja(e,l,n),null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)break;for(;null===l.sibling;){if(null===l.return||l.return===t)return;4===(l=l.return).tag&&(o=!1)}l.sibling.return=l.return,l=l.sibling}}function Xa(e,t){if($)switch(t.tag){case 0:case 11:case 14:case 15:za(4,8,t);break;case 1:case 12:case 17:case 20:case 21:break;case 5:var n=t.stateNode;if(null!=n){var a=t.memoizedProps;e=null!==e?e.memoizedProps:a;var r=t.type,l=t.updateQueue;t.updateQueue=null,null!==l&&Z(n,l,r,e,a,t)}break;case 6:if(null===t.stateNode)throw Error(i(162));n=t.memoizedProps,Q(t.stateNode,null!==e?e.memoizedProps:n,n);break;case 3:X&&(t=t.stateNode).hydrate&&(t.hydrate=!1,we(t.containerInfo));break;case 13:Ya(t),qa(t);break;case 19:qa(t);break;default:throw Error(i(163))}else{switch(t.tag){case 0:case 11:case 14:case 15:return void za(4,8,t);case 12:return;case 13:return Ya(t),void qa(t);case 19:return void qa(t);case 3:X&&(n=t.stateNode).hydrate&&(n.hydrate=!1,we(n.containerInfo))}e:if(K)switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,pe(t.containerInfo,t.pendingChildren);break e;default:throw Error(i(163))}}}function Ya(e){var t=e;if(null===e.memoizedState)var n=!1;else n=!0,t=e.child,gr=st();if($&&null!==t)e:if(e=t,$)for(t=e;;){if(5===t.tag){var a=t.stateNode;n?le(a):ie(t.stateNode,t.memoizedProps)}else if(6===t.tag)a=t.stateNode,n?oe(a):ce(a,t.memoizedProps);else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(a=t.child.sibling).return=t,t=a;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}}function qa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Da),t.forEach((function(t){var a=el.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}}var Qa="function"==typeof WeakMap?WeakMap:Map;function Ja(e,t,n){(n=Lt(n,null)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){hr||(hr=!0,vr=a),Wa(e,t)},n}function Za(e,t,n){(n=Lt(n,null)).tag=3;var a=e.type.getDerivedStateFromError;if("function"==typeof a){var r=t.value;n.payload=function(){return Wa(e,t),a(r)}}var l=e.stateNode;return null!==l&&"function"==typeof l.componentDidCatch&&(n.callback=function(){"function"!=typeof a&&(null===br?br=new Set([this]):br.add(this),Wa(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var er,tr=Math.ceil,nr=c.ReactCurrentDispatcher,ar=c.ReactCurrentOwner,rr=0,lr=null,or=null,ir=0,cr=0,sr=null,ur=1073741823,dr=1073741823,mr=null,pr=0,fr=!1,gr=0,Er=null,hr=!1,vr=null,br=null,yr=!1,Fr=null,Sr=90,Cr=null,Mr=0,wr=null,kr=0;function Tr(){return 0!=(48&rr)?1073741821-(st()/10|0):0!==kr?kr:kr=1073741821-(st()/10|0)}function Ir(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var a=ut();if(0==(4&t))return 99===a?1073741823:1073741822;if(0!=(16&rr))return ir;if(null!==n)e=vt(e,0|n.timeoutMs||5e3,250);else switch(a){case 99:e=1073741823;break;case 98:e=vt(e,150,100);break;case 97:case 96:e=vt(e,5e3,250);break;case 95:e=2;break;default:throw Error(i(326))}return null!==lr&&e===ir&&--e,e}function Pr(e,t){if(50<Mr)throw Mr=0,wr=null,Error(i(185));if(null!==(e=xr(e,t))){var n=ut();1073741823===t?0!=(8&rr)&&0==(48&rr)?Rr(e):(Ar(e),0===rr&&gt()):Ar(e),0==(4&rr)||98!==n&&99!==n||(null===Cr?Cr=new Map([[e,t]]):(void 0===(n=Cr.get(e))||n>t)&&Cr.set(e,t))}}function xr(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var a=e.return,r=null;if(null===a&&3===e.tag)r=e.stateNode;else for(;null!==a;){if(n=a.alternate,a.childExpirationTime<t&&(a.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===a.return&&3===a.tag){r=a.stateNode;break}a=a.return}return null!==r&&(lr===r&&(Ur(t),4===cr&&pl(r,ir)),fl(r,t)),r}function Or(e){var t=e.lastExpiredTime;return 0!==t?t:ml(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function Ar(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=ft(Rr.bind(null,e));else{var t=Or(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var a=Tr();if(a=1073741823===t?99:1===t||2===t?95:0>=(a=10*(1073741821-t)-10*(1073741821-a))?99:250>=a?98:5250>=a?97:95,null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=a)return;n!==at&&Ke(n)}e.callbackExpirationTime=t,e.callbackPriority=a,t=1073741823===t?ft(Rr.bind(null,e)):pt(a,Nr.bind(null,e),{timeout:10*(1073741821-t)-st()}),e.callbackNode=t}}}function Nr(e,t){if(kr=0,t)return gl(e,t=Tr()),Ar(e),null;var n=Or(e);if(0!==n){if(t=e.callbackNode,0!=(48&rr))throw Error(i(327));if(Yr(),e===lr&&n===ir||Lr(e,n),null!==or){var a=rr;rr|=16;for(var r=Wr();;)try{jr();break}catch(t){Dr(e,t)}if(Tt(),rr=a,nr.current=r,1===cr)throw t=sr,Lr(e,n),pl(e,n),Ar(e),t;if(null===or)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,a=cr,lr=null,a){case 0:case 1:throw Error(i(345));case 2:gl(e,2<n?2:n);break;case 3:if(pl(e,n),n===(a=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Gr(r)),1073741823===ur&&10<(r=gr+500-st())){if(fr){var l=e.lastPingedTime;if(0===l||l>=n){e.lastPingedTime=n,Lr(e,n);break}}if(0!==(l=Or(e))&&l!==n)break;if(0!==a&&a!==n){e.lastPingedTime=a;break}e.timeoutHandle=j($r.bind(null,e),r);break}$r(e);break;case 4:if(pl(e,n),n===(a=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Gr(r)),fr&&(0===(r=e.lastPingedTime)||r>=n)){e.lastPingedTime=n,Lr(e,n);break}if(0!==(r=Or(e))&&r!==n)break;if(0!==a&&a!==n){e.lastPingedTime=a;break}if(1073741823!==dr?a=10*(1073741821-dr)-st():1073741823===ur?a=0:(a=10*(1073741821-ur)-5e3,0>(a=(r=st())-a)&&(a=0),(n=10*(1073741821-n)-r)<(a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*tr(a/1960))-a)&&(a=n)),10<a){e.timeoutHandle=j($r.bind(null,e),a);break}$r(e);break;case 5:if(1073741823!==ur&&null!==mr){l=ur;var o=mr;if(0>=(a=0|o.busyMinDurationMs)?a=0:(r=0|o.busyDelayMs,a=(l=st()-(10*(1073741821-l)-(0|o.timeoutMs||5e3)))<=r?0:r+a-l),10<a){pl(e,n),e.timeoutHandle=j($r.bind(null,e),a);break}}$r(e);break;default:throw Error(i(329))}if(Ar(e),e.callbackNode===t)return Nr.bind(null,e)}}return null}function Rr(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)$r(e);else{if(0!=(48&rr))throw Error(i(327));if(Yr(),e===lr&&t===ir||Lr(e,t),null!==or){var n=rr;rr|=16;for(var a=Wr();;)try{zr();break}catch(t){Dr(e,t)}if(Tt(),rr=n,nr.current=a,1===cr)throw n=sr,Lr(e,t),pl(e,t),Ar(e),n;if(null!==or)throw Error(i(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,lr=null,$r(e),Ar(e)}}return null}function _r(e,t){if(0!=(48&rr))throw Error(i(187));var n=rr;rr|=1;try{return mt(99,e.bind(null,t))}finally{rr=n,gt()}}function Lr(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(n!==V&&(e.timeoutHandle=V,H(n)),null!==or)for(n=or.return;null!==n;){var a=n;switch(a.tag){case 1:null!=a.type.childContextTypes&&Be();break;case 3:mn(),Ue();break;case 5:fn(a);break;case 4:mn();break;case 13:case 19:Oe(gn);break;case 10:Pt(a)}n=n.return}lr=e,or=ol(e.current,null),ir=t,cr=0,sr=null,dr=ur=1073741823,mr=null,pr=0,fr=!1}function Dr(e,t){for(;;){try{if(Tt(),Ln(),null===or||null===or.return)return cr=1,sr=t,null;e:{var n=e,a=or.return,r=or,l=t;if(t=ir,r.effectTag|=2048,r.firstEffect=r.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var o=l,i=0!=(1&gn.current),c=a;do{var s;if(s=13===c.tag){var u=c.memoizedState;if(null!==u)s=null!==u.dehydrated;else{var d=c.memoizedProps;s=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!i)}}if(s){var m=c.updateQueue;if(null===m){var p=new Set;p.add(o),c.updateQueue=p}else m.add(o);if(0==(2&c.mode)){if(c.effectTag|=64,r.effectTag&=-2981,1===r.tag)if(null===r.alternate)r.tag=17;else{var f=Lt(1073741823,null);f.tag=2,Wt(r,f)}r.expirationTime=1073741823;break e}l=void 0,r=t;var g=n.pingCache;if(null===g?(g=n.pingCache=new Qa,l=new Set,g.set(o,l)):void 0===(l=g.get(o))&&(l=new Set,g.set(o,l)),!l.has(r)){l.add(r);var E=Zr.bind(null,n,o,r);o.then(E,E)}c.effectTag|=4096,c.expirationTime=t;break e}c=c.return}while(null!==c);l=Error((w(r.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Ie(r))}5!==cr&&(cr=2),l=La(l,r),c=a;do{switch(c.tag){case 3:o=l,c.effectTag|=4096,c.expirationTime=t,Bt(c,Ja(c,o,t));break e;case 1:o=l;var h=c.type,v=c.stateNode;if(0==(64&c.effectTag)&&("function"==typeof h.getDerivedStateFromError||null!==v&&"function"==typeof v.componentDidCatch&&(null===br||!br.has(v)))){c.effectTag|=4096,c.expirationTime=t,Bt(c,Za(c,o,t));break e}}c=c.return}while(null!==c)}or=Vr(or)}catch(e){t=e;continue}break}}function Wr(){var e=nr.current;return nr.current=Zn,null===e?Zn:e}function Br(e,t){e<ur&&2<e&&(ur=e),null!==t&&e<dr&&2<e&&(dr=e,mr=t)}function Ur(e){e>pr&&(pr=e)}function zr(){for(;null!==or;)or=Hr(or)}function jr(){for(;null!==or&&!Xe();)or=Hr(or)}function Hr(e){var t=er(e.alternate,e,ir);return e.memoizedProps=e.pendingProps,null===t&&(t=Vr(e)),ar.current=null,t}function Vr(e){or=e;do{var t=or.alternate;if(e=or.return,0==(2048&or.effectTag)){e:{var n=t,a=ir,r=(t=or).pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 20:case 21:break;case 1:case 17:We(t.type)&&Be();break;case 3:mn(),Ue(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===n||null===n.child)&&sa(t)&&Aa(t),Ca(t);break;case 5:fn(t);var l=un(sn.current);if(a=t.type,null!==n&&null!=t.stateNode)Ma(n,t,a,r,l),n.ref!==t.ref&&(t.effectTag|=128);else if(r){if(n=un(on.current),sa(t)){if(r=t,!X)throw Error(i(175));n=Se(r.stateNode,r.type,r.memoizedProps,l,n,r),r.updateQueue=n,(n=null!==n)&&Aa(t)}else{var o=_(a,r,l,n,t);Sa(o,t,!1,!1),t.stateNode=o,D(o,a,r,l,n)&&Aa(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(i(166));break;case 6:if(n&&null!=t.stateNode)wa(n,t,n.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=un(sn.current),l=un(on.current),sa(t)){if(n=t,!X)throw Error(i(176));(n=Ce(n.stateNode,n.memoizedProps,n))&&Aa(t)}else t.stateNode=z(r,n,l,t)}break;case 13:if(Oe(gn),r=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=a;break e}r=null!==r,l=!1,null===n?void 0!==t.memoizedProps.fallback&&sa(t):(l=null!==(a=n.memoizedState),r||null===a||null!==(a=n.child.sibling)&&(null!==(o=t.firstEffect)?(t.firstEffect=a,a.nextEffect=o):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),r&&!l&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&gn.current)?0===cr&&(cr=3):(0!==cr&&3!==cr||(cr=4),0!==pr&&null!==lr&&(pl(lr,ir),fl(lr,pr)))),K&&r&&(t.effectTag|=4),$&&(r||l)&&(t.effectTag|=4);break;case 4:mn(),Ca(t);break;case 10:Pt(t);break;case 19:if(Oe(gn),null===(r=t.memoizedState))break;if(l=0!=(64&t.effectTag),null===(o=r.rendering)){if(l)Ra(r,!1);else if(0!==cr||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(o=En(n))){for(t.effectTag|=64,Ra(r,!1),null!==(n=o.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,n=a,r=t.child;null!==r;)a=n,(l=r).effectTag&=2,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null,null===(o=l.alternate)?(l.childExpirationTime=0,l.expirationTime=a,l.child=null,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null):(l.childExpirationTime=o.childExpirationTime,l.expirationTime=o.expirationTime,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,a=o.dependencies,l.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;Ae(gn,1&gn.current|2),t=t.child;break e}n=n.sibling}}else{if(!l)if(null!==(n=En(o))){if(t.effectTag|=64,l=!0,null!==(n=n.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ra(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate){null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null);break}}else st()>r.tailExpiration&&1<a&&(t.effectTag|=64,l=!0,Ra(r,!1),t.expirationTime=t.childExpirationTime=a-1);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=r.last)?n.sibling=o:t.child=o,r.last=o)}if(null!==r.tail){0===r.tailExpiration&&(r.tailExpiration=st()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,n.sibling=null,r=gn.current,Ae(gn,r=l?1&r|2:1&r),t=n;break e}break;default:throw Error(i(156,t.tag))}t=null}if(n=or,1===ir||1!==n.childExpirationTime){for(r=0,l=n.child;null!==l;)(a=l.expirationTime)>r&&(r=a),(o=l.childExpirationTime)>r&&(r=o),l=l.sibling;n.childExpirationTime=r}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=or.firstEffect),null!==or.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=or.firstEffect),e.lastEffect=or.lastEffect),1<or.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=or:e.firstEffect=or,e.lastEffect=or))}else{if(null!==(t=_a(or)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=or.sibling))return t;or=e}while(null!==or);return 0===cr&&(cr=5),null}function Gr(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function $r(e){var t=ut();return mt(99,Kr.bind(null,e,t)),null}function Kr(e,t){do{Yr()}while(null!==Fr);if(0!=(48&rr))throw Error(i(327));var n=e.finishedWork,a=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=Gr(n);if(e.firstPendingTime=r,a<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:a<=e.firstSuspendedTime&&(e.firstSuspendedTime=a-1),a<=e.lastPingedTime&&(e.lastPingedTime=0),a<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===lr&&(or=lr=null,ir=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var l=rr;rr|=32,ar.current=null,N(e.containerInfo),Er=r;do{try{Xr()}catch(e){if(null===Er)throw Error(i(330));Jr(Er,e),Er=Er.nextEffect}}while(null!==Er);Er=r;do{try{for(var o=e,c=t;null!==Er;){var s=Er.effectTag;if(16&s&&$&&re(Er.stateNode),128&s){var u=Er.alternate;if(null!==u){var d=u.ref;null!==d&&("function"==typeof d?d(null):d.current=null)}}switch(1038&s){case 2:$a(Er),Er.effectTag&=-3;break;case 6:$a(Er),Er.effectTag&=-3,Xa(Er.alternate,Er);break;case 1024:Er.effectTag&=-1025;break;case 1028:Er.effectTag&=-1025,Xa(Er.alternate,Er);break;case 4:Xa(Er.alternate,Er);break;case 8:var m=o,p=Er,f=c;$?Ka(m,p,f):Ha(m,p,f),Va(p)}Er=Er.nextEffect}}catch(e){if(null===Er)throw Error(i(330));Jr(Er,e),Er=Er.nextEffect}}while(null!==Er);R(e.containerInfo),e.current=n,Er=r;do{try{for(s=a;null!==Er;){var g=Er.effectTag;if(36&g){var E=Er.alternate;switch(d=s,(u=Er).tag){case 0:case 11:case 15:za(16,32,u);break;case 1:var h=u.stateNode;if(4&u.effectTag)if(null===E)h.componentDidMount();else{var v=u.elementType===u.type?E.memoizedProps:St(u.type,E.memoizedProps);h.componentDidUpdate(v,E.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var b=u.updateQueue;null!==b&&Ht(0,b,h);break;case 3:var y=u.updateQueue;if(null!==y){if(o=null,null!==u.child)switch(u.child.tag){case 5:o=x(u.child.stateNode);break;case 1:o=u.child.stateNode}Ht(0,y,o)}break;case 5:var F=u.stateNode;null===E&&4&u.effectTag&&J(F,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 20:case 21:break;case 13:if(X&&null===u.memoizedState){var S=u.alternate;if(null!==S){var C=S.memoizedState;if(null!==C){var M=C.dehydrated;null!==M&&ke(M)}}}break;default:throw Error(i(163))}}if(128&g){u=void 0;var w=Er.ref;if(null!==w){var k=Er.stateNode;u=5===Er.tag?x(k):k,"function"==typeof w?w(u):w.current=u}}Er=Er.nextEffect}}catch(e){if(null===Er)throw Error(i(330));Jr(Er,e),Er=Er.nextEffect}}while(null!==Er);Er=null,rt(),rr=l}else e.current=n;if(yr)yr=!1,Fr=e,Sr=t;else for(Er=r;null!==Er;)t=Er.nextEffect,Er.nextEffect=null,Er=t;if(0===(t=e.firstPendingTime)&&(br=null),1073741823===t?e===wr?Mr++:(Mr=0,wr=e):Mr=0,"function"==typeof tl&&tl(n.stateNode,a),Ar(e),hr)throw hr=!1,e=vr,vr=null,e;return 0!=(8&rr)||gt(),null}function Xr(){for(;null!==Er;){var e=Er.effectTag;0!=(256&e)&&Ua(Er.alternate,Er),0==(512&e)||yr||(yr=!0,pt(97,(function(){return Yr(),null}))),Er=Er.nextEffect}}function Yr(){if(90!==Sr){var e=97<Sr?97:Sr;return Sr=90,mt(e,qr)}}function qr(){if(null===Fr)return!1;var e=Fr;if(Fr=null,0!=(48&rr))throw Error(i(331));var t=rr;for(rr|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:za(128,0,n),za(0,64,n)}}catch(t){if(null===e)throw Error(i(330));Jr(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return rr=t,gt(),!0}function Qr(e,t,n){Wt(e,t=Ja(e,t=La(n,t),1073741823)),null!==(e=xr(e,1073741823))&&Ar(e)}function Jr(e,t){if(3===e.tag)Qr(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Qr(n,e,t);break}if(1===n.tag){var a=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===br||!br.has(a))){Wt(n,e=Za(n,e=La(t,e),1073741823)),null!==(n=xr(n,1073741823))&&Ar(n);break}}n=n.return}}function Zr(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),lr===e&&ir===n?4===cr||3===cr&&1073741823===ur&&st()-gr<500?Lr(e,ir):fr=!0:ml(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),Ar(e)))}function el(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(t=Ir(t=Tr(),e,null)),null!==(e=xr(e,t))&&Ar(e)}er=function(e,t,n){var a=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||_e.current)ma=!0;else{if(a<n){switch(ma=!1,t.tag){case 3:Fa(t),ua();break;case 5:if(pn(t),4&t.mode&&1!==n&&U(t.type,r))return t.expirationTime=t.childExpirationTime=1,null;break;case 1:We(t.type)&&He(t);break;case 4:dn(t,t.stateNode.containerInfo);break;case 10:It(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(a=t.child.childExpirationTime)&&a>=n?Ta(e,t,n):(Ae(gn,1&gn.current),null!==(t=Oa(e,t,n))?t.sibling:null);Ae(gn,1&gn.current);break;case 19:if(a=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(a)return xa(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),Ae(gn,gn.current),!a)return null}return Oa(e,t,n)}ma=!1}}else ma=!1;switch(t.expirationTime=0,t.tag){case 2:if(a=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=De(t,Re.current),Ot(t,n),r=_n(null,t,a,e,r,n),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,Ln(),We(a)){var l=!0;He(t)}else l=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null;var o=a.getDerivedStateFromProps;"function"==typeof o&&Kt(t,a,o,e),r.updater=Xt,t.stateNode=r,r._reactInternalFiber=t,Jt(t,a,e,n),t=ya(null,t,a,!0,l,n)}else t.tag=0,pa(null,t,r,n),t=t.child;return t;case 16:if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,l=t.tag=function(e){if("function"==typeof e)return ll(e)?1:0;if(null!=e){if((e=e.$$typeof)===v)return 11;if(e===F)return 14}return 2}(r),e=St(r,e),l){case 0:t=va(null,t,r,e,n);break;case 1:t=ba(null,t,r,e,n);break;case 11:t=fa(null,t,r,e,n);break;case 14:t=ga(null,t,r,St(r.type,e),a,n);break;default:throw Error(i(306,r,""))}return t;case 0:return a=t.type,r=t.pendingProps,va(e,t,a,r=t.elementType===a?r:St(a,r),n);case 1:return a=t.type,r=t.pendingProps,ba(e,t,a,r=t.elementType===a?r:St(a,r),n);case 3:if(Fa(t),null===(a=t.updateQueue))throw Error(i(282));if(r=null!==(r=t.memoizedState)?r.element:null,jt(t,a,t.pendingProps,null,n),(a=t.memoizedState.element)===r)ua(),t=Oa(e,t,n);else{if((r=t.stateNode.hydrate)&&(X?(aa=Fe(t.stateNode.containerInfo),na=t,r=ra=!0):r=!1),r)for(n=rn(t,null,a,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else pa(e,t,a,n),ua();t=t.child}return t;case 5:return pn(t),null===e&&ia(t),a=t.type,r=t.pendingProps,l=null!==e?e.memoizedProps:null,o=r.children,B(a,r)?o=null:null!==l&&B(a,l)&&(t.effectTag|=16),ha(e,t),4&t.mode&&1!==n&&U(a,r)?(t.expirationTime=t.childExpirationTime=1,t=null):(pa(e,t,o,n),t=t.child),t;case 6:return null===e&&ia(t),null;case 13:return Ta(e,t,n);case 4:return dn(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=an(t,null,a,n):pa(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,fa(e,t,a,r=t.elementType===a?r:St(a,r),n);case 7:return pa(e,t,t.pendingProps,n),t.child;case 8:case 12:return pa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,o=t.memoizedProps,It(t,l=r.value),null!==o){var c=o.value;if(0==(l=bt(c,l)?0:0|("function"==typeof a._calculateChangedBits?a._calculateChangedBits(c,l):1073741823))){if(o.children===r.children&&!_e.current){t=Oa(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var s=c.dependencies;if(null!==s){o=c.child;for(var u=s.firstContext;null!==u;){if(u.context===a&&0!=(u.observedBits&l)){1===c.tag&&((u=Lt(n,null)).tag=2,Wt(c,u)),c.expirationTime<n&&(c.expirationTime=n),null!==(u=c.alternate)&&u.expirationTime<n&&(u.expirationTime=n),xt(c.return,n),s.expirationTime<n&&(s.expirationTime=n);break}u=u.next}}else o=10===c.tag&&c.type===t.type?null:c.child;if(null!==o)o.return=c;else for(o=c;null!==o;){if(o===t){o=null;break}if(null!==(c=o.sibling)){c.return=o.return,o=c;break}o=o.return}c=o}}pa(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=(l=t.pendingProps).children,Ot(t,n),a=a(r=At(r,l.unstable_observedBits)),t.effectTag|=1,pa(e,t,a,n),t.child;case 14:return l=St(r=t.type,t.pendingProps),ga(e,t,r,l=St(r.type,l),a,n);case 15:return Ea(e,t,t.type,t.pendingProps,a,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:St(a,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,We(a)?(e=!0,He(t)):e=!1,Ot(t,n),qt(t,a,r),Jt(t,a,r,n),ya(null,t,a,!0,e,n);case 19:return xa(e,t,n)}throw Error(i(156,t.tag))};var tl=null,nl=null;function al(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function rl(e,t,n,a){return new al(e,t,n,a)}function ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ol(e,t){var n=e.alternate;return null===n?((n=rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function il(e,t,n,a,r,l){var o=2;if(a=e,"function"==typeof e)ll(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case m:return cl(n.children,r,l,t);case h:o=8,r|=7;break;case p:o=8,r|=1;break;case f:return(e=rl(12,n,t,8|r)).elementType=f,e.type=f,e.expirationTime=l,e;case b:return(e=rl(13,n,t,r)).type=b,e.elementType=b,e.expirationTime=l,e;case y:return(e=rl(19,n,t,r)).elementType=y,e.expirationTime=l,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case g:o=10;break e;case E:o=9;break e;case v:o=11;break e;case F:o=14;break e;case S:o=16,a=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=rl(o,n,t,r)).elementType=e,t.type=a,t.expirationTime=l,t}function cl(e,t,n,a){return(e=rl(7,e,a,t)).expirationTime=n,e}function sl(e,t,n){return(e=rl(6,e,null,t)).expirationTime=n,e}function ul(e,t,n){return(t=rl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=V,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ml(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function pl(e,t){var n=e.firstSuspendedTime,a=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(a>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function fl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function gl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function El(e){var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return null===(e=P(t))?null:e.stateNode}function hl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function vl(e,t){hl(e,t),(e=e.alternate)&&hl(e,t)}var bl={createContainer:function(e,t,n){return e=new dl(e,t,n),t=rl(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e},updateContainer:function(e,t,n,a){var r=t.current,l=Tr(),o=Gt.suspense;l=Ir(l,r,o);e:if(n){t:{if(k(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(i(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(We(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(i(171))}if(1===n.tag){var s=n.type;if(We(s)){n=je(n,s,c);break e}}n=c}else n=Ne;return null===t.context?t.context=n:t.pendingContext=n,(t=Lt(l,o)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),Wt(r,t),Pr(r,l),l},batchedEventUpdates:function(e,t){var n=rr;rr|=2;try{return e(t)}finally{0===(rr=n)&&gt()}},batchedUpdates:function(e,t){var n=rr;rr|=1;try{return e(t)}finally{0===(rr=n)&&gt()}},unbatchedUpdates:function(e,t){var n=rr;rr&=-2,rr|=8;try{return e(t)}finally{0===(rr=n)&&gt()}},deferredUpdates:function(e){return mt(97,e)},syncUpdates:function(e,t,n,a){return mt(99,e.bind(null,t,n,a))},discreteUpdates:function(e,t,n,a){var r=rr;rr|=4;try{return mt(98,e.bind(null,t,n,a))}finally{0===(rr=r)&&gt()}},flushDiscreteUpdates:function(){0==(49&rr)&&(function(){if(null!==Cr){var e=Cr;Cr=null,e.forEach((function(e,t){gl(t,e),Ar(t)})),gt()}}(),Yr())},flushControlled:function(e){var t=rr;rr|=1;try{mt(99,e)}finally{0===(rr=t)&&gt()}},flushSync:_r,flushPassiveEffects:Yr,IsThisRendererActing:{current:!1},getPublicRootInstance:function(e){return(e=e.current).child?5===e.child.tag?x(e.child.stateNode):e.child.stateNode:null},attemptSynchronousHydration:function(e){switch(e.tag){case 3:var t=e.stateNode;t.hydrate&&function(e,t){gl(e,t),Ar(e),0==(48&rr)&&gt()}(t,t.firstPendingTime);break;case 13:_r((function(){return Pr(e,1073741823)})),t=vt(Tr(),150,100),vl(e,t)}},attemptUserBlockingHydration:function(e){if(13===e.tag){var t=vt(Tr(),150,100);Pr(e,t),vl(e,t)}},attemptContinuousHydration:function(e){if(13===e.tag){Tr();var t=ht++;Pr(e,t),vl(e,t)}},attemptHydrationAtCurrentPriority:function(e){if(13===e.tag){var t=Tr();Pr(e,t=Ir(t,e,null)),vl(e,t)}},findHostInstance:El,findHostInstanceWithWarning:function(e){return El(e)},findHostInstanceWithNoPortals:function(e){return null===(e=function(e){if(!(e=I(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},shouldSuspend:function(){return!1},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);tl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},nl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}return!0}(r({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=P(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}};e.exports=bl.default||bl;var yl=e.exports;return e.exports=t,yl}},74054:(e,t,n)=>{"use strict";e.exports=n(46430)},53414:(e,t)=>{"use strict";var n,a,r,l,o;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var i=null,c=null,s=function(){if(null!==i)try{var e=t.unstable_now();i(!0,e),i=null}catch(e){throw setTimeout(s,0),e}},u=Date.now();t.unstable_now=function(){return Date.now()-u},n=function(e){null!==i?setTimeout(n,0,e):(i=e,setTimeout(s,0))},a=function(e,t){c=setTimeout(e,t)},r=function(){clearTimeout(c)},l=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,m=window.Date,p=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var E=m.now();t.unstable_now=function(){return m.now()-E}}var h=!1,v=null,b=-1,y=5,F=0;l=function(){return t.unstable_now()>=F},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):y=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,C=S.port2;S.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();F=e+y;try{v(!0,e)?C.postMessage(null):(h=!1,v=null)}catch(e){throw C.postMessage(null),e}}else h=!1},n=function(e){v=e,h||(h=!0,C.postMessage(null))},a=function(e,n){b=p((function(){e(t.unstable_now())}),n)},r=function(){f(b),b=-1}}function M(e,t){var n=e.length;e.push(t);e:for(;;){var a=Math.floor((n-1)/2),r=e[a];if(!(void 0!==r&&0<T(r,t)))break e;e[a]=t,e[n]=r,n=a}}function w(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length;a<r;){var l=2*(a+1)-1,o=e[l],i=l+1,c=e[i];if(void 0!==o&&0>T(o,n))void 0!==c&&0>T(c,o)?(e[a]=c,e[i]=n,a=i):(e[a]=o,e[l]=n,a=l);else{if(!(void 0!==c&&0>T(c,n)))break e;e[a]=c,e[i]=n,a=i}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],P=[],x=1,O=null,A=3,N=!1,R=!1,_=!1;function L(e){for(var t=w(P);null!==t;){if(null===t.callback)k(P);else{if(!(t.startTime<=e))break;k(P),t.sortIndex=t.expirationTime,M(I,t)}t=w(P)}}function D(e){if(_=!1,L(e),!R)if(null!==w(I))R=!0,n(W);else{var t=w(P);null!==t&&a(D,t.startTime-e)}}function W(e,n){R=!1,_&&(_=!1,r()),N=!0;var o=A;try{for(L(n),O=w(I);null!==O&&(!(O.expirationTime>n)||e&&!l());){var i=O.callback;if(null!==i){O.callback=null,A=O.priorityLevel;var c=i(O.expirationTime<=n);n=t.unstable_now(),"function"==typeof c?O.callback=c:O===w(I)&&k(I),L(n)}else k(I);O=w(I)}if(null!==O)var s=!0;else{var u=w(P);null!==u&&a(D,u.startTime-n),s=!1}return s}finally{O=null,A=o,N=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=o;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_scheduleCallback=function(e,l,o){var i=t.unstable_now();if("object"==typeof o&&null!==o){var c=o.delay;c="number"==typeof c&&0<c?i+c:i,o="number"==typeof o.timeout?o.timeout:B(e)}else o=B(e),c=i;return e={id:x++,callback:l,priorityLevel:e,startTime:c,expirationTime:o=c+o,sortIndex:-1},c>i?(e.sortIndex=c,M(P,e),null===w(I)&&e===w(P)&&(_?r():_=!0,a(D,c-i))):(e.sortIndex=o,M(I,e),R||N||(R=!0,n(W))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=w(I);return n!==O&&null!==O&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<O.expirationTime||l()},t.unstable_requestPaint=U,t.unstable_continueExecution=function(){R||N||(R=!0,n(W))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return w(I)},t.unstable_Profiling=null},26990:(e,t,n)=>{"use strict";e.exports=n(53414)},7255:(e,t,n)=>{"use strict";var a=n(44744),r="function"==typeof Symbol&&Symbol.for,l=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,m=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,E="function"==typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function y(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}function F(){}function S(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},F.prototype=y.prototype;var C=S.prototype=new F;C.constructor=S,a(C,y.prototype),C.isPureReactComponent=!0;var M={current:null},w=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var a,r={},o=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,a)&&!k.hasOwnProperty(a)&&(r[a]=t[a]);var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){for(var s=Array(c),u=0;u<c;u++)s[u]=arguments[u+2];r.children=s}if(e&&e.defaultProps)for(a in c=e.defaultProps)void 0===r[a]&&(r[a]=c[a]);return{$$typeof:l,type:e,key:o,ref:i,props:r,_owner:M.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var P=/\/+/g,x=[];function O(e,t,n,a){if(x.length){var r=x.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=a,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:a,count:0}}function A(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>x.length&&x.push(e)}function N(e,t,n,a){var r=typeof e;"undefined"!==r&&"boolean"!==r||(e=null);var i=!1;if(null===e)i=!0;else switch(r){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case l:case o:i=!0}}if(i)return n(a,e,""===t?"."+_(e,0):t),1;if(i=0,t=""===t?".":t+":",Array.isArray(e))for(var c=0;c<e.length;c++){var s=t+_(r=e[c],c);i+=N(r,s,n,a)}else if("function"==typeof(s=null===e||"object"!=typeof e?null:"function"==typeof(s=E&&e[E]||e["@@iterator"])?s:null))for(e=s.call(e),c=0;!(r=e.next()).done;)i+=N(r=r.value,s=t+_(r,c++),n,a);else if("object"===r)throw n=""+e,Error(h(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return i}function R(e,t,n){return null==e?0:N(e,"",t,n)}function _(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var a=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?W(e,a,n,(function(e){return e})):null!=e&&(I(e)&&(e=function(e,t){return{$$typeof:l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+n)),a.push(e))}function W(e,t,n,a,r){var l="";null!=n&&(l=(""+n).replace(P,"$&/")+"/"),R(e,D,t=O(t,l,a,r)),A(t)}var B={current:null};function U(){var e=B.current;if(null===e)throw Error(h(321));return e}var z={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:M,IsSomeRendererActing:{current:!1},assign:a};t.Children={map:function(e,t,n){if(null==e)return e;var a=[];return W(e,a,null,t,n),a},forEach:function(e,t,n){if(null==e)return e;R(e,L,t=O(null,null,t,n)),A(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return W(e,t,null,(function(e){return e})),t},only:function(e){if(!I(e))throw Error(h(143));return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=S,t.StrictMode=c,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null==e)throw Error(h(267,e));var r=a({},e.props),o=e.key,i=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,c=M.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)w.call(t,u)&&!k.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){s=Array(u);for(var d=0;d<u;d++)s[d]=arguments[d+2];r.children=s}return{$$typeof:l,type:e.type,key:o,ref:i,props:r,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:m,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return U().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,n){return U().useReducer(e,t,n)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.13.1"},3464:(e,t,n)=>{"use strict";e.exports=n(7255)},63624:(e,t,n)=>{"use strict";var a=n(47897);e.exports={isRtlLang:a.isRtlLang,getLangDir:a.getLangDir}},47897:e=>{"use strict";var t,n=t={_regexEscape:/([\.\*\+\^\$\[\]\\\(\)\|\{\}\,\-\:\?])/g,_regexParseLocale:/^([a-zA-Z]*)([_\-a-zA-Z]*)$/,_escapeRegExpPattern:function(e){return"string"!=typeof e?e:e.replace(t._regexEscape,"\\$1")},_toLowerCase:function(e,t){return"string"!=typeof e?t&&e:e.toLowerCase()},_toUpperCase:function(e,t){return"string"!=typeof e?t&&e:e.toUpperCase()},_trim:function(e,n,a){var r,l=[],o=function(e){l.push("^"+e+"+|"+e+"+$")};if("boolean"==typeof n&&(a=n,n=null),"string"!=typeof e)return a&&e;if(Array.isArray(n)&&n.map((function(e){var n=t._escapeRegExpPattern(e);o(n)})),"string"==typeof n){var i=t._escapeRegExpPattern(n);o(i)}n||o("\\s");var c="("+l.join("|")+")";for(r=new RegExp(c,"g");e.match(r);)e=e.replace(r,"");return e},_parseLocale:function(e){var n,a=t._regexParseLocale.exec(e);if(e&&a)return a[2]=t._trim(a[2],["-","_"]),{lang:t._toLowerCase(a[1]),countryCode:n=t._toUpperCase(a[2])||n}},isRtlLang:function(e){var n=t._parseLocale(e);if(n)return t._BIDI_RTL_LANGS.indexOf(n.lang)>=0},getLangDir:function(e){return t.isRtlLang(e)?"rtl":"ltr"}};Object.defineProperty(t,"_BIDI_RTL_LANGS",{value:["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"],writable:!1,enumerable:!0,configurable:!1}),e.exports=n},89925:()=>{},52910:(e,t,n)=>{"use strict";n.d(t,{facet:()=>s,shallowObjectEqualityCheck:()=>c,strictShallowObjectEqualityCheck:()=>i});var a=n(68912);n.o(a,"DeferredMount")&&n.d(t,{DeferredMount:function(){return a.DeferredMount}}),n.o(a,"DeferredMountProvider")&&n.d(t,{DeferredMountProvider:function(){return a.DeferredMountProvider}}),n.o(a,"DeferredMountWithCallback")&&n.d(t,{DeferredMountWithCallback:function(){return a.DeferredMountWithCallback}}),n.o(a,"Map")&&n.d(t,{Map:function(){return a.Map}}),n.o(a,"Mount")&&n.d(t,{Mount:function(){return a.Mount}}),n.o(a,"NO_VALUE")&&n.d(t,{NO_VALUE:function(){return a.NO_VALUE}}),n.o(a,"PauseMountProvider")&&n.d(t,{PauseMountProvider:function(){return a.PauseMountProvider}}),n.o(a,"SharedFacetDriverProvider")&&n.d(t,{SharedFacetDriverProvider:function(){return a.SharedFacetDriverProvider}}),n.o(a,"With")&&n.d(t,{With:function(){return a.With}}),n.o(a,"createFacet")&&n.d(t,{createFacet:function(){return a.createFacet}}),n.o(a,"createFacetContext")&&n.d(t,{createFacetContext:function(){return a.createFacetContext}}),n.o(a,"createPortal")&&n.d(t,{createPortal:function(){return a.createPortal}}),n.o(a,"createStaticFacet")&&n.d(t,{createStaticFacet:function(){return a.createStaticFacet}}),n.o(a,"createUniformArrayEqualityCheck")&&n.d(t,{createUniformArrayEqualityCheck:function(){return a.createUniformArrayEqualityCheck}}),n.o(a,"isFacet")&&n.d(t,{isFacet:function(){return a.isFacet}}),n.o(a,"multiObserve")&&n.d(t,{multiObserve:function(){return a.multiObserve}}),n.o(a,"render")&&n.d(t,{render:function(){return a.render}}),n.o(a,"sharedDynamicSelector")&&n.d(t,{sharedDynamicSelector:function(){return a.sharedDynamicSelector}}),n.o(a,"sharedFacet")&&n.d(t,{sharedFacet:function(){return a.sharedFacet}}),n.o(a,"sharedSelector")&&n.d(t,{sharedSelector:function(){return a.sharedSelector}}),n.o(a,"useFacetCallback")&&n.d(t,{useFacetCallback:function(){return a.useFacetCallback}}),n.o(a,"useFacetEffect")&&n.d(t,{useFacetEffect:function(){return a.useFacetEffect}}),n.o(a,"useFacetLayoutEffect")&&n.d(t,{useFacetLayoutEffect:function(){return a.useFacetLayoutEffect}}),n.o(a,"useFacetMap")&&n.d(t,{useFacetMap:function(){return a.useFacetMap}}),n.o(a,"useFacetMemo")&&n.d(t,{useFacetMemo:function(){return a.useFacetMemo}}),n.o(a,"useFacetRef")&&n.d(t,{useFacetRef:function(){return a.useFacetRef}}),n.o(a,"useFacetState")&&n.d(t,{useFacetState:function(){return a.useFacetState}}),n.o(a,"useFacetUnwrap")&&n.d(t,{useFacetUnwrap:function(){return a.useFacetUnwrap}}),n.o(a,"useFacetWrap")&&n.d(t,{useFacetWrap:function(){return a.useFacetWrap}}),n.o(a,"useIsDeferring")&&n.d(t,{useIsDeferring:function(){return a.useIsDeferring}}),n.o(a,"useIsPaused")&&n.d(t,{useIsPaused:function(){return a.useIsPaused}}),n.o(a,"useNotifyMountComplete")&&n.d(t,{useNotifyMountComplete:function(){return a.useNotifyMountComplete}}),n.o(a,"useSharedFacet")&&n.d(t,{useSharedFacet:function(){return a.useSharedFacet}});var r=n(31545);n.o(r,"DeferredMount")&&n.d(t,{DeferredMount:function(){return r.DeferredMount}}),n.o(r,"DeferredMountProvider")&&n.d(t,{DeferredMountProvider:function(){return r.DeferredMountProvider}}),n.o(r,"DeferredMountWithCallback")&&n.d(t,{DeferredMountWithCallback:function(){return r.DeferredMountWithCallback}}),n.o(r,"Map")&&n.d(t,{Map:function(){return r.Map}}),n.o(r,"Mount")&&n.d(t,{Mount:function(){return r.Mount}}),n.o(r,"NO_VALUE")&&n.d(t,{NO_VALUE:function(){return r.NO_VALUE}}),n.o(r,"PauseMountProvider")&&n.d(t,{PauseMountProvider:function(){return r.PauseMountProvider}}),n.o(r,"SharedFacetDriverProvider")&&n.d(t,{SharedFacetDriverProvider:function(){return r.SharedFacetDriverProvider}}),n.o(r,"With")&&n.d(t,{With:function(){return r.With}}),n.o(r,"createFacet")&&n.d(t,{createFacet:function(){return r.createFacet}}),n.o(r,"createFacetContext")&&n.d(t,{createFacetContext:function(){return r.createFacetContext}}),n.o(r,"createPortal")&&n.d(t,{createPortal:function(){return r.createPortal}}),n.o(r,"createStaticFacet")&&n.d(t,{createStaticFacet:function(){return r.createStaticFacet}}),n.o(r,"createUniformArrayEqualityCheck")&&n.d(t,{createUniformArrayEqualityCheck:function(){return r.createUniformArrayEqualityCheck}}),n.o(r,"isFacet")&&n.d(t,{isFacet:function(){return r.isFacet}}),n.o(r,"multiObserve")&&n.d(t,{multiObserve:function(){return r.multiObserve}}),n.o(r,"render")&&n.d(t,{render:function(){return r.render}}),n.o(r,"sharedDynamicSelector")&&n.d(t,{sharedDynamicSelector:function(){return r.sharedDynamicSelector}}),n.o(r,"sharedFacet")&&n.d(t,{sharedFacet:function(){return r.sharedFacet}}),n.o(r,"sharedSelector")&&n.d(t,{sharedSelector:function(){return r.sharedSelector}}),n.o(r,"useFacetCallback")&&n.d(t,{useFacetCallback:function(){return r.useFacetCallback}}),n.o(r,"useFacetEffect")&&n.d(t,{useFacetEffect:function(){return r.useFacetEffect}}),n.o(r,"useFacetLayoutEffect")&&n.d(t,{useFacetLayoutEffect:function(){return r.useFacetLayoutEffect}}),n.o(r,"useFacetMap")&&n.d(t,{useFacetMap:function(){return r.useFacetMap}}),n.o(r,"useFacetMemo")&&n.d(t,{useFacetMemo:function(){return r.useFacetMemo}}),n.o(r,"useFacetRef")&&n.d(t,{useFacetRef:function(){return r.useFacetRef}}),n.o(r,"useFacetState")&&n.d(t,{useFacetState:function(){return r.useFacetState}}),n.o(r,"useFacetUnwrap")&&n.d(t,{useFacetUnwrap:function(){return r.useFacetUnwrap}}),n.o(r,"useFacetWrap")&&n.d(t,{useFacetWrap:function(){return r.useFacetWrap}}),n.o(r,"useIsDeferring")&&n.d(t,{useIsDeferring:function(){return r.useIsDeferring}}),n.o(r,"useIsPaused")&&n.d(t,{useIsPaused:function(){return r.useIsPaused}}),n.o(r,"useNotifyMountComplete")&&n.d(t,{useNotifyMountComplete:function(){return r.useNotifyMountComplete}}),n.o(r,"useSharedFacet")&&n.d(t,{useSharedFacet:function(){return r.useSharedFacet}});var l=n(69358);n.o(l,"DeferredMount")&&n.d(t,{DeferredMount:function(){return l.DeferredMount}}),n.o(l,"DeferredMountProvider")&&n.d(t,{DeferredMountProvider:function(){return l.DeferredMountProvider}}),n.o(l,"DeferredMountWithCallback")&&n.d(t,{DeferredMountWithCallback:function(){return l.DeferredMountWithCallback}}),n.o(l,"Map")&&n.d(t,{Map:function(){return l.Map}}),n.o(l,"Mount")&&n.d(t,{Mount:function(){return l.Mount}}),n.o(l,"NO_VALUE")&&n.d(t,{NO_VALUE:function(){return l.NO_VALUE}}),n.o(l,"PauseMountProvider")&&n.d(t,{PauseMountProvider:function(){return l.PauseMountProvider}}),n.o(l,"SharedFacetDriverProvider")&&n.d(t,{SharedFacetDriverProvider:function(){return l.SharedFacetDriverProvider}}),n.o(l,"With")&&n.d(t,{With:function(){return l.With}}),n.o(l,"createFacet")&&n.d(t,{createFacet:function(){return l.createFacet}}),n.o(l,"createFacetContext")&&n.d(t,{createFacetContext:function(){return l.createFacetContext}}),n.o(l,"createPortal")&&n.d(t,{createPortal:function(){return l.createPortal}}),n.o(l,"createStaticFacet")&&n.d(t,{createStaticFacet:function(){return l.createStaticFacet}}),n.o(l,"createUniformArrayEqualityCheck")&&n.d(t,{createUniformArrayEqualityCheck:function(){return l.createUniformArrayEqualityCheck}}),n.o(l,"isFacet")&&n.d(t,{isFacet:function(){return l.isFacet}}),n.o(l,"multiObserve")&&n.d(t,{multiObserve:function(){return l.multiObserve}}),n.o(l,"render")&&n.d(t,{render:function(){return l.render}}),n.o(l,"sharedDynamicSelector")&&n.d(t,{sharedDynamicSelector:function(){return l.sharedDynamicSelector}}),n.o(l,"sharedFacet")&&n.d(t,{sharedFacet:function(){return l.sharedFacet}}),n.o(l,"sharedSelector")&&n.d(t,{sharedSelector:function(){return l.sharedSelector}}),n.o(l,"useFacetCallback")&&n.d(t,{useFacetCallback:function(){return l.useFacetCallback}}),n.o(l,"useFacetEffect")&&n.d(t,{useFacetEffect:function(){return l.useFacetEffect}}),n.o(l,"useFacetLayoutEffect")&&n.d(t,{useFacetLayoutEffect:function(){return l.useFacetLayoutEffect}}),n.o(l,"useFacetMap")&&n.d(t,{useFacetMap:function(){return l.useFacetMap}}),n.o(l,"useFacetMemo")&&n.d(t,{useFacetMemo:function(){return l.useFacetMemo}}),n.o(l,"useFacetRef")&&n.d(t,{useFacetRef:function(){return l.useFacetRef}}),n.o(l,"useFacetState")&&n.d(t,{useFacetState:function(){return l.useFacetState}}),n.o(l,"useFacetUnwrap")&&n.d(t,{useFacetUnwrap:function(){return l.useFacetUnwrap}}),n.o(l,"useFacetWrap")&&n.d(t,{useFacetWrap:function(){return l.useFacetWrap}}),n.o(l,"useIsDeferring")&&n.d(t,{useIsDeferring:function(){return l.useIsDeferring}}),n.o(l,"useIsPaused")&&n.d(t,{useIsPaused:function(){return l.useIsPaused}}),n.o(l,"useNotifyMountComplete")&&n.d(t,{useNotifyMountComplete:function(){return l.useNotifyMountComplete}}),n.o(l,"useSharedFacet")&&n.d(t,{useSharedFacet:function(){return l.useSharedFacet}});var o=n(8060);n.o(o,"DeferredMount")&&n.d(t,{DeferredMount:function(){return o.DeferredMount}}),n.o(o,"DeferredMountProvider")&&n.d(t,{DeferredMountProvider:function(){return o.DeferredMountProvider}}),n.o(o,"DeferredMountWithCallback")&&n.d(t,{DeferredMountWithCallback:function(){return o.DeferredMountWithCallback}}),n.o(o,"Map")&&n.d(t,{Map:function(){return o.Map}}),n.o(o,"Mount")&&n.d(t,{Mount:function(){return o.Mount}}),n.o(o,"NO_VALUE")&&n.d(t,{NO_VALUE:function(){return o.NO_VALUE}}),n.o(o,"PauseMountProvider")&&n.d(t,{PauseMountProvider:function(){return o.PauseMountProvider}}),n.o(o,"SharedFacetDriverProvider")&&n.d(t,{SharedFacetDriverProvider:function(){return o.SharedFacetDriverProvider}}),n.o(o,"With")&&n.d(t,{With:function(){return o.With}}),n.o(o,"createFacet")&&n.d(t,{createFacet:function(){return o.createFacet}}),n.o(o,"createFacetContext")&&n.d(t,{createFacetContext:function(){return o.createFacetContext}}),n.o(o,"createPortal")&&n.d(t,{createPortal:function(){return o.createPortal}}),n.o(o,"createStaticFacet")&&n.d(t,{createStaticFacet:function(){return o.createStaticFacet}}),n.o(o,"createUniformArrayEqualityCheck")&&n.d(t,{createUniformArrayEqualityCheck:function(){return o.createUniformArrayEqualityCheck}}),n.o(o,"isFacet")&&n.d(t,{isFacet:function(){return o.isFacet}}),n.o(o,"multiObserve")&&n.d(t,{multiObserve:function(){return o.multiObserve}}),n.o(o,"render")&&n.d(t,{render:function(){return o.render}}),n.o(o,"sharedDynamicSelector")&&n.d(t,{sharedDynamicSelector:function(){return o.sharedDynamicSelector}}),n.o(o,"sharedFacet")&&n.d(t,{sharedFacet:function(){return o.sharedFacet}}),n.o(o,"sharedSelector")&&n.d(t,{sharedSelector:function(){return o.sharedSelector}}),n.o(o,"useFacetCallback")&&n.d(t,{useFacetCallback:function(){return o.useFacetCallback}}),n.o(o,"useFacetEffect")&&n.d(t,{useFacetEffect:function(){return o.useFacetEffect}}),n.o(o,"useFacetLayoutEffect")&&n.d(t,{useFacetLayoutEffect:function(){return o.useFacetLayoutEffect}}),n.o(o,"useFacetMap")&&n.d(t,{useFacetMap:function(){return o.useFacetMap}}),n.o(o,"useFacetMemo")&&n.d(t,{useFacetMemo:function(){return o.useFacetMemo}}),n.o(o,"useFacetRef")&&n.d(t,{useFacetRef:function(){return o.useFacetRef}}),n.o(o,"useFacetState")&&n.d(t,{useFacetState:function(){return o.useFacetState}}),n.o(o,"useFacetUnwrap")&&n.d(t,{useFacetUnwrap:function(){return o.useFacetUnwrap}}),n.o(o,"useFacetWrap")&&n.d(t,{useFacetWrap:function(){return o.useFacetWrap}}),n.o(o,"useIsDeferring")&&n.d(t,{useIsDeferring:function(){return o.useIsDeferring}}),n.o(o,"useIsPaused")&&n.d(t,{useIsPaused:function(){return o.useIsPaused}}),n.o(o,"useNotifyMountComplete")&&n.d(t,{useNotifyMountComplete:function(){return o.useNotifyMountComplete}}),n.o(o,"useSharedFacet")&&n.d(t,{useSharedFacet:function(){return o.useSharedFacet}});const i=a.shallowObjectEqualityCheck,c=a.shallowObjectEqualityCheck,s=l.sharedFacet},73595:()=>{},35140:()=>{},95799:()=>{},51637:()=>{},12821:()=>{},81442:(e,t,n)=>{"use strict";e.exports=n.p+"assets/animation-074ed.gif"},60197:(e,t,n)=>{"use strict";e.exports=n.p+"assets/modal_hide-2341f.ogg"},99373:(e,t,n)=>{"use strict";e.exports=n.p+"assets/release-7c974.ogg"},43464:(e,t,n)=>{"use strict";e.exports=n.p+"assets/snes_pop-7a6d3.ogg"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var l=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(l.exports,l,l.exports,n),l.loaded=!0,l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/hbui/",window.HTMLIFrameElement=window.HTMLIFrameElement||function(){},(()=>{"use strict";var e={};n.r(e),n.d(e,{AccountUnlinkRoute:()=>mW,AddFriendRoute:()=>CB,AnnouncementModalRoute:()=>uU,ChooseRealmRoute:()=>TU,ChooseSlotRoute:()=>rj,CompareStatsRoute:()=>_j,ConnectionErrorRoute:()=>oj,CreateNewWorldRoute:()=>dW,CreatePreviewRealmWithOnlyOneSubscriptionRoute:()=>BH,EditRealmWorldRoute:()=>tG,EditWorldRoute:()=>YV,EditWorldThumbnailRoute:()=>rG,ExportWorldRoute:()=>oG,GuidedCreateWorldRoute:()=>HG,InboxMessageDetailsRoute:()=>s$,InboxRoute:()=>nK,InboxSettingsRoute:()=>gK,JoinRealmsServerRoute:()=>YK,JoinRealmsServerTransientRoute:()=>aX,ManageShowcaseRoute:()=>uX,MobileDataBlockedModalRoute:()=>fX,OnlinePlayWarningTransientRoute:()=>CX,PlayerBannedModalRoute:()=>xX,PostToRealmStoriesRoute:()=>UX,ProfileFollowersListRoute:()=>KX,ProfileFriendsListRoute:()=>JX,ProfileRoute:()=>vQ,RealmsNewStoryRoute:()=>NQ,RealmsPDPRoute:()=>qW,RealmsPlanPickerRoute:()=>AB,RealmsPurchaseSubscriptionRoute:()=>bU,RealmsStoriesCommentsRoute:()=>Hz,RealmsStoriesOptedOutMembersRoute:()=>vj,RealmsStoriesReportFeedItemRoute:()=>Uz,RealmsStoriesRoute:()=>LH,RealmsStoriesScreenshotGalleryRoute:()=>hV,RealmsStoriesSettingsRoute:()=>nG,RealmsStoriesTimelineRequiredRoute:()=>WH,ReportPlayerRoute:()=>gG,ScreenshotDetailsRoute:()=>AG,ScreenshotGalleryRoute:()=>jG,ScreenshotPicker:()=>aG,ScreenshotShowcaseRoute:()=>M$,SeedTemplatesRoute:()=>mK,SetWorldThumbnailRoute:()=>VK,ShowcaseDetailsRoute:()=>oX,SignInAchievementsRoute:()=>pX,SignInAddFriendRoute:()=>hX,SignInDressingRoomRoute:()=>kX,SignInMarketplaceRoute:()=>PX,SignInPlayOnServerRoute:()=>NX,SignInSavePurchasesRoute:()=>HX,SignInWorldsFriendsServersRoute:()=>qX,StartFromTemplateRoute:()=>Eq});var t={};n.r(t),n.d(t,{ContentKeyErrorModal:()=>LO,HardcoreModeWorldWarningModalRoute:()=>GO,PacksLoadingModal:()=>hA,RealmsStoryEntryRoute:()=>UQ,RealmsStoryShareLinkModalRoute:()=>xH,ResourcePacksDownloadErrorModal:()=>oA});var a=n(3464),r=n(52910);const l=(0,a.createContext)((0,r.createStaticFacet)({length:1,action:"PUSH",list:[{pathname:"",search:"",hash:"",state:""}]})),o=(0,a.createContext)({push:()=>{},replace:()=>{},goBack:()=>{},go:()=>{}}),i=(0,a.createContext)((0,r.createStaticFacet)(!1)),c=(0,a.createContext)((0,r.createStaticFacet)(!1)),s=(0,a.createContext)((0,r.createStaticFacet)({}));(0,a.createContext)((0,r.createStaticFacet)(!0));var u={};try{!function(e,t){if(new e("q=%2B").get("q")!==t||new e({q:t}).get("q")!==t||new e([["q",t]]).get("q")!==t||"q=%0A"!==new e("q=\n").toString()||"q=+%26"!==new e({q:" &"}).toString()||"q=%25zx"!==new e({q:"%zx"}).toString())throw e;u.URLSearchParams=e}(URLSearchParams,"+")}catch(e){!function(e,t,n){var a=e.create,r=e.defineProperty,l=/[!'\(\)~]|%20|%00/g,o=/%(?![0-9a-fA-F]{2})/g,i=/\+/g,c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},s={append:function(e,t){f(this._ungap,e,t)},delete:function(e){delete this._ungap[e]},get:function(e){return this.has(e)?this._ungap[e][0]:null},getAll:function(e){return this.has(e)?this._ungap[e].slice(0):[]},has:function(e){return e in this._ungap},set:function(e,n){this._ungap[e]=[t(n)]},forEach:function(e,n){var a=this;for(var r in a._ungap)a._ungap[r].forEach(l,r);function l(l){e.call(n,l,t(r),a)}},toJSON:function(){return{}},toString:function(){var e=[];for(var t in this._ungap)for(var n=E(t),a=0,r=this._ungap[t];a<r.length;a++)e.push(n+"="+E(r[a]));return e.join("&")}};for(var d in s)r(m.prototype,d,{configurable:!0,writable:!0,value:s[d]});function m(e){var t=a(null);switch(r(this,"_ungap",{value:t}),!0){case!e:break;case"string"==typeof e:"?"===e.charAt(0)&&(e=e.slice(1));for(var l=e.split("&"),o=0,i=l.length;o<i;o++){var c=(s=l[o]).indexOf("=");-1<c?f(t,g(s.slice(0,c)),g(s.slice(c+1))):s.length&&f(t,g(s),"")}break;case n(e):for(o=0,i=e.length;o<i;o++){var s;f(t,(s=e[o])[0],s[1])}break;case"forEach"in e:e.forEach(p,t);break;default:for(var u in e)f(t,u,e[u])}}function p(e,t){f(this,t,e)}function f(e,t,a){var r=n(a)?a.join(","):a;t in e?e[t].push(r):e[t]=[r]}function g(e){return decodeURIComponent(e.replace(o,"%25").replace(i," "))}function E(e){return encodeURIComponent(e).replace(l,h)}function h(e){return c[e]}u.URLSearchParams=m}(Object,String,Array.isArray)}!function(e){var t=!1;try{t=!!Symbol.iterator}catch(e){}function n(e,n){var a=[];return e.forEach(n,a),t?a[Symbol.iterator]():{next:function(){var e=a.shift();return{done:void 0===e,value:e}}}}"forEach"in e||(e.forEach=function(e,t){var n=this,a=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(r){r.length&&!(r in a)&&(a[r]=n.getAll(r)).forEach((function(a){e.call(t,a,r,n)}))}))}),"keys"in e||(e.keys=function(){return n(this,(function(e,t){this.push(t)}))}),"values"in e||(e.values=function(){return n(this,(function(e,t){this.push(e)}))}),"entries"in e||(e.entries=function(){return n(this,(function(e,t){this.push([t,e])}))}),t&&!(Symbol.iterator in e)&&(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,n,a=this.entries(),r=a.next(),l=r.done,o=[],i=Object.create(null);!l;)t=(n=r.value)[0],o.push(t),t in i||(i[t]=[]),i[t].push(n[1]),l=(r=a.next()).done;for(o.sort(),e=0;e<o.length;e++)this.delete(o[e]);for(e=0;e<o.length;e++)t=o[e],this.append(t,i[t].shift())}),function(t){var n=t.defineProperty,a=t.getOwnPropertyDescriptor,r=function(t){var n=t.append;t.append=e.append,URLSearchParams.call(t,t._usp.search.slice(1)),t.append=n},l=function(e,t){if(!(e instanceof t))throw new TypeError("'searchParams' accessed on an object that does not implement interface "+t.name)},o=function(o){var i,c,s=o.prototype,u=a(s,"searchParams"),d=a(s,"href"),m=a(s,"search");!u&&m&&m.set&&(c=function(t){function a(n,a){e.append.call(this,n,a),n=this.toString(),t.set.call(this._usp,n?"?"+n:"")}function r(n){e.delete.call(this,n),n=this.toString(),t.set.call(this._usp,n?"?"+n:"")}function l(n,a){e.set.call(this,n,a),n=this.toString(),t.set.call(this._usp,n?"?"+n:"")}return function(e,t){return e.append=a,e.delete=r,e.set=l,n(e,"_usp",{configurable:!0,writable:!0,value:t})}}(m),i=function(e,t){return n(e,"_searchParams",{configurable:!0,writable:!0,value:c(t,e)}),t},t.defineProperties(s,{href:{get:function(){return d.get.call(this)},set:function(e){var t=this._searchParams;d.set.call(this,e),t&&r(t)}},search:{get:function(){return m.get.call(this)},set:function(e){var t=this._searchParams;m.set.call(this,e),t&&r(t)}},searchParams:{get:function(){return l(this,o),this._searchParams||i(this,new URLSearchParams(this.search.slice(1)))},set:function(e){l(this,o),i(this,e)}}}))};try{o(HTMLAnchorElement),/^function|object$/.test(typeof URL)&&URL.prototype&&o(URL)}catch(e){}}(Object)}(u.URLSearchParams.prototype);const d=u.URLSearchParams,m=()=>(0,a.useContext)(o),p=()=>(0,a.useContext)(i),f=()=>(0,r.useFacetMemo)(((e,t)=>t?e:r.NO_VALUE),[],[(0,a.useContext)(s),p()]),g=()=>(0,r.useFacetMemo)((({list:e},t)=>t?e[e.length-1].pathname:r.NO_VALUE),[],[(0,a.useContext)(l),p()]),E=()=>{const e=(0,r.useFacetMap)((({list:e})=>e[e.length-1].search),[],[(0,a.useContext)(l)]);return(0,r.useFacetMemo)(((e,t)=>t?new d(e):r.NO_VALUE),[],[e,p()])};function h(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var a=e[n];if("*"!==a&&"+"!==a&&"?"!==a)if("\\"!==a)if("{"!==a)if("}"!==a)if(":"!==a)if("("!==a)t.push({type:"CHAR",index:n,value:e[n++]});else{var r=1,l="";if("?"===e[i=n+1])throw new TypeError('Pattern cannot start with "?" at '+i);for(;i<e.length;)if("\\"!==e[i]){if(")"===e[i]){if(0==--r){i++;break}}else if("("===e[i]&&(r++,"?"!==e[i+1]))throw new TypeError("Capturing groups are not allowed at "+i);l+=e[i++]}else l+=e[i++]+e[i++];if(r)throw new TypeError("Unbalanced pattern at "+n);if(!l)throw new TypeError("Missing pattern at "+n);t.push({type:"PATTERN",index:n,value:l}),n=i}else{for(var o="",i=n+1;i<e.length;){var c=e.charCodeAt(i);if(!(c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||95===c))break;o+=e[i++]}if(!o)throw new TypeError("Missing parameter name at "+n);t.push({type:"NAME",index:n,value:o}),n=i}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),a=t.prefixes,r=void 0===a?"./":a,l="[^"+b(t.delimiter||"/#?")+"]+?",o=[],i=0,c=0,s="",u=function(e){if(c<n.length&&n[c].type===e)return n[c++].value},d=function(e){var t=u(e);if(void 0!==t)return t;var a=n[c],r=a.type,l=a.index;throw new TypeError("Unexpected "+r+" at "+l+", expected "+e)},m=function(){for(var e,t="";e=u("CHAR")||u("ESCAPED_CHAR");)t+=e;return t};c<n.length;){var p=u("CHAR"),f=u("NAME"),g=u("PATTERN");if(f||g){var E=p||"";-1===r.indexOf(E)&&(s+=E,E=""),s&&(o.push(s),s=""),o.push({name:f||i++,prefix:E,suffix:"",pattern:g||l,modifier:u("MODIFIER")||""})}else{var h=p||u("ESCAPED_CHAR");if(h)s+=h;else if(s&&(o.push(s),s=""),u("OPEN")){E=m();var v=u("NAME")||"",y=u("PATTERN")||"",F=m();d("CLOSE"),o.push({name:v||(y?i++:""),pattern:v&&!y?l:y,prefix:E,suffix:F,modifier:u("MODIFIER")||""})}else d("END")}}return o}function v(e,t){var n=[];return function(e,t,n){void 0===n&&(n={});var a=n.decode,r=void 0===a?function(e){return e}:a;return function(n){var a=e.exec(n);if(!a)return!1;for(var l=a[0],o=a.index,i=Object.create(null),c=function(e){if(void 0===a[e])return"continue";var n=t[e-1];"*"===n.modifier||"+"===n.modifier?i[n.name]=a[e].split(n.prefix+n.suffix).map((function(e){return r(e,n)})):i[n.name]=r(a[e],n)},s=1;s<a.length;s++)c(s);return{path:l,index:o,params:i}}}(F(e,n,t),n,t)}function b(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function y(e){return e&&e.sensitive?"":"i"}function F(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var a=0;a<n.length;a++)t.push({name:a,prefix:"",suffix:"",modifier:"",pattern:""});return e}(e,t):Array.isArray(e)?function(e,t,n){var a=e.map((function(e){return F(e,t,n).source}));return new RegExp("(?:"+a.join("|")+")",y(n))}(e,t,n):function(e,t,n){return function(e,t,n){void 0===n&&(n={});for(var a=n.strict,r=void 0!==a&&a,l=n.start,o=void 0===l||l,i=n.end,c=void 0===i||i,s=n.encode,u=void 0===s?function(e){return e}:s,d="["+b(n.endsWith||"")+"]|$",m="["+b(n.delimiter||"/#?")+"]",p=o?"^":"",f=0,g=e;f<g.length;f++){var E=g[f];if("string"==typeof E)p+=b(u(E));else{var h=b(u(E.prefix)),v=b(u(E.suffix));if(E.pattern)if(t&&t.push(E),h||v)if("+"===E.modifier||"*"===E.modifier){var F="*"===E.modifier?"?":"";p+="(?:"+h+"((?:"+E.pattern+")(?:"+v+h+"(?:"+E.pattern+"))*)"+v+")"+F}else p+="(?:"+h+"("+E.pattern+")"+v+")"+E.modifier;else p+="("+E.pattern+")"+E.modifier;else p+="(?:"+h+v+")"+E.modifier}}if(c)r||(p+=m+"?"),p+=n.endsWith?"(?="+d+")":"$";else{var S=e[e.length-1],C="string"==typeof S?m.indexOf(S[S.length-1])>-1:void 0===S;r||(p+="(?:"+m+"(?="+d+"))?"),C||(p+="(?="+m+"|"+d+")")}return new RegExp(p,y(n))}(h(e,n),t,n)}(e,t,n)}function S(e,t){return e+(0===t.toString().length?"":`?${t.toString()}`)}const C=(0,r.createStaticFacet)(!1),M=({to:e,match:t=C,keepQuery:n=!1})=>{const o=(0,r.useFacetWrap)(t),i=m(),c=(0,a.useMemo)((()=>{return function(e,t){void 0===t&&(t={});var n=y(t),a=t.encode,r=void 0===a?function(e){return e}:a,l=t.validate,o=void 0===l||l,i=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:"+e.pattern+")$",n)}));return function(t){for(var n="",a=0;a<e.length;a++){var l=e[a];if("string"!=typeof l){var c=t?t[l.name]:void 0,s="?"===l.modifier||"*"===l.modifier,u="*"===l.modifier||"+"===l.modifier;if(Array.isArray(c)){if(!u)throw new TypeError('Expected "'+l.name+'" to not repeat, but got an array');if(0===c.length){if(s)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<c.length;d++){var m=r(c[d],l);if(o&&!i[a].test(m))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but got "'+m+'"');n+=l.prefix+m+l.suffix}}else if("string"!=typeof c&&"number"!=typeof c){if(!s){var p=u?"an array":"a string";throw new TypeError('Expected "'+l.name+'" to be '+p)}}else{if(m=r(String(c),l),o&&!i[a].test(m))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but got "'+m+'"');n+=l.prefix+m+l.suffix}}else n+=l}return n}}(h(e,t),t);var t}),[e]),s=(0,r.useFacetMap)((e=>0!=e),[],[o]),u=(0,r.useFacetCallback)(((e,t)=>a=>{if(!a||0==e)return;const r=c(e.params);if(n){const e=t.list[t.list.length-1].search,n=new d(e);i.replace(S(r,n))}else i.replace(r)}),[i,c,n],[o,(0,a.useContext)(l)]);return(0,r.useFacetEffect)((e=>{u(e)}),[u],[s]),null},w=e=>{const t=Boolean(e.props)?e.props:{};return Boolean(t.route)&&Boolean(t.component)},k=e=>{const t=Boolean(e.props)?e.props:{};return Boolean(t.from)};function T({children:e,onNotFound:t}){const n=(0,a.useContext)(l),o=(0,r.useFacetMap)((e=>e.list[e.list.length-1].pathname),[],[n]),i=(0,r.useFacetMap)((({action:e})=>e),[],[n]),c=P(),s=(0,r.useFacetMemo)((t=>{let n=!1;return a.Children.forEach(e,((e,r)=>{if(0==n&&(0,a.isValidElement)(e)){if(w(e)){const a=c(e.props.route)(t);if(0!=a)return void(n={match:a,index:r})}if(k(e)){const a=c(e.props.from)(t);if(0!=a)return void(n={match:a,index:r})}}})),n}),[e,c],[o]),u=(0,r.useFacetMap)((e=>!1!==e),[],[s]);return(0,r.useFacetEffect)((e=>{e||null==t||t()}),[t],[u]),a.createElement(a.Fragment,null,a.Children.map(e,((e,t)=>(0,a.isValidElement)(e)?w(e)||k(e)?a.createElement(I,{index:t,switchMatchResult:s,child:e,action:i}):a.createElement(r.Mount,{when:u},e):null)))}const I=({switchMatchResult:e,index:t,action:n,child:l})=>{const o=(0,r.useFacetMemo)((e=>!1!==e&&e.index===t&&e.match),[t],[e]);return a.cloneElement(l,{match:o,action:n})},P=()=>{const e=(0,a.useRef)(new Map);return(0,a.useCallback)((t=>{const n=e.current.get(t);if(n)return n;const a=v(t);return e.current.set(t,a),a}),[])};n(73595);const x=({value:e,isInBackground:t,children:n})=>{const l=(0,r.useFacetWrap)(e),o=(0,r.useFacetWrap)(null!=t&&t),s=(0,r.useFacetMap)((e=>!e),[],[l]);return a.createElement(O,{disabled:s},a.createElement(i.Provider,{value:l},null!=t?a.createElement(c.Provider,{value:o},n):n))},O=({children:e,disabled:t})=>{const n=(0,a.useContext)(o),l=(0,r.useFacetCallback)((e=>()=>{e||n.goBack()}),[n],[t]),i=(0,r.useFacetCallback)((e=>t=>{e||n.push(t)}),[n],[t]),c=(0,r.useFacetCallback)((e=>t=>{e||n.replace(t)}),[n],[t]),s=(0,r.useFacetCallback)((e=>t=>{e||n.go(t)}),[n],[t]),u=(0,a.useMemo)((()=>({goBack:l,push:i,replace:c,go:s})),[l,i,c,s]);return a.createElement(o.Provider,{value:u},e)};var A=n(97744),N=n.n(A);const R=(0,a.createContext)([]),{Provider:_,Consumer:L}=R,D=R;let W,B,U,z,j;!function(e){e[e.Unknown=-1]="Unknown",e[e.Initial=0]="Initial",e[e.FocusInput=1]="FocusInput",e[e.PointerInput=2]="PointerInput",e[e.FocusTreeMutation=3]="FocusTreeMutation",e[e.URL=4]="URL",e[e.DebugTool=5]="DebugTool",e[e.ImperativeSetFocus=6]="ImperativeSetFocus",e[e.LandmarkController=7]="LandmarkController"}(W||(W={})),function(e){e[e.DefaultDelegation=0]="DefaultDelegation",e[e.FirstFoundDelegation=1]="FirstFoundDelegation",e[e.AliasDelegation=2]="AliasDelegation",e[e.MemoryDelegation=3]="MemoryDelegation",e[e.FocusableAliasMutation=4]="FocusableAliasMutation"}(B||(B={})),function(e){e[e.FIRST_CHILD=0]="FIRST_CHILD",e[e.MEMORY=1]="MEMORY",e[e.ALIAS=2]="ALIAS"}(U||(U={})),function(e){e[e.Unknown=-1]="Unknown",e[e.Mutation=1]="Mutation",e[e.UserInput=2]="UserInput"}(z||(z={})),function(e){e.A="A",e.B="B",e.X="X",e.Y="Y",e.START="START",e.SELECT="SELECT",e.XBOX="XBOX",e.RIGHT_TRIGGER="RT",e.LEFT_TRIGGER="LT",e.LEFT_BUMPER="LB",e.RIGHT_BUMPER="RB",e.L3="L3",e.R3="R3",e.LEFT="LEFT",e.RIGHT="RIGHT",e.UP="UP",e.DOWN="DOWN",e.NEXT="NEXT",e.PREV="PREV",e.LEFT_ANALOG_LEFT="L_LEFT",e.LEFT_ANALOG_RIGHT="L_RIGHT",e.LEFT_ANALOG_UP="L_UP",e.LEFT_ANALOG_DOWN="L_DOWN",e.RIGHT_ANALOG_LEFT="R_LEFT",e.RIGHT_ANALOG_RIGHT="R_RIGHT",e.RIGHT_ANALOG_UP="R_UP",e.RIGHT_ANALOG_DOWN="R_DOWN",e[e.LEFT_HORIZONTAL_AXIS=0]="LEFT_HORIZONTAL_AXIS",e[e.LEFT_VERTICAL_AXIS=1]="LEFT_VERTICAL_AXIS",e[e.RIGHT_HORIZONTAL_AXIS=2]="RIGHT_HORIZONTAL_AXIS",e[e.RIGHT_VERTICAL_AXIS=3]="RIGHT_VERTICAL_AXIS",e.PSEUDO_BUTTON_1="PSEUDO_BUTTON_1",e.PSEUDO_BUTTON_2="PSEUDO_BUTTON_2",e.PSEUDO_BUTTON_3="PSEUDO_BUTTON_3",e.PSEUDO_BUTTON_4="PSEUDO_BUTTON_4",e.PSEUDO_BUTTON_5="PSEUDO_BUTTON_5",e.PSEUDO_BUTTON_6="PSEUDO_BUTTON_6",e.PSEUDO_BUTTON_7="PSEUDO_BUTTON_7",e.PSEUDO_BUTTON_8="PSEUDO_BUTTON_8",e.PSEUDO_BUTTON_9="PSEUDO_BUTTON_9",e.PSEUDO_BUTTON_10="PSEUDO_BUTTON_10"}(j||(j={}));const H="data-landmark-id",V="data-focusable-id",G="data-focusable-debug-id";let $,K,X;!function(e){e[e.ITEM=0]="ITEM",e[e.FOCUS_GROUP=1]="FOCUS_GROUP",e[e.LANDMARK=2]="LANDMARK",e[e.ROOT=3]="ROOT"}($||($={})),function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(K||(K={})),function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(X||(X={}));const Y=[j.A,j.B,j.LEFT,j.DOWN,j.RIGHT,j.UP];let q;!function(e){e[e.UP=0]="UP",e[e.RIGHT=1]="RIGHT",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT"}(q||(q={}));const Q={[j.LEFT_ANALOG_UP]:q.UP,[j.UP]:q.UP,[j.LEFT_ANALOG_DOWN]:q.DOWN,[j.DOWN]:q.DOWN,[j.LEFT_ANALOG_LEFT]:q.LEFT,[j.LEFT]:q.LEFT,[j.LEFT_ANALOG_RIGHT]:q.RIGHT,[j.RIGHT]:q.RIGHT},J={3:j.B};let Z;!function(e){e[e.NEXT=-1]="NEXT",e[e.PREVIOUS=1]="PREVIOUS"}(Z||(Z={}));const ee=e=>e.type===$.ITEM||e.type===$.LANDMARK&&!0!==e.focusControlDisabled||e.type===$.ROOT,te=e=>ee(e)&&!e.disabled&&!e.hidden&&null!=e.ref,ne=e=>!e.disabled&&!e.hidden&&null!=e.ref,ae=e=>!e.disabled&&!e.hidden,re=e=>ee(e)?ne(e):ae(e),le=e=>null!=e&&e.type===$.ROOT,oe=e=>null!=e&&e.type===$.LANDMARK&&!0!==e.focusControlDisabled&&"getDelegatedFocus"in e,ie=e=>null!=e&&e.type===$.LANDMARK&&!0===e.isGrid,ce=e=>null!=e&&e.type===$.LANDMARK&&!0===e.isGrid&&null!=e.ref,se=e=>oe(e)&&"shouldBindFocus"in e&&!0===e.shouldBindFocus,ue=(j.LEFT_ANALOG_LEFT,j.LEFT_ANALOG_RIGHT,j.LEFT_ANALOG_UP,j.LEFT_ANALOG_DOWN,j.RIGHT_ANALOG_LEFT,j.RIGHT_ANALOG_RIGHT,j.RIGHT_ANALOG_UP,j.RIGHT_ANALOG_DOWN,j.A,j.B,j.X,j.Y,j.START,j.SELECT,j.XBOX,j.RIGHT_TRIGGER,j.LEFT_TRIGGER,j.LEFT_BUMPER,j.RIGHT_BUMPER,j.L3,j.R3,j.LEFT,j.RIGHT,j.UP,j.DOWN,j.PSEUDO_BUTTON_1,j.PSEUDO_BUTTON_2,j.PSEUDO_BUTTON_3,j.PSEUDO_BUTTON_4,j.PSEUDO_BUTTON_5,j.PSEUDO_BUTTON_6,j.PSEUDO_BUTTON_7,j.PSEUDO_BUTTON_8,j.PSEUDO_BUTTON_9,j.PSEUDO_BUTTON_10,j.A,j.B,j.X,j.Y,j.START,j.SELECT,j.LEFT,j.RIGHT,j.UP,j.DOWN,j.L3,j.R3,j.LEFT_ANALOG_LEFT,j.RIGHT_ANALOG_LEFT,j.LEFT_BUMPER,j.RIGHT_BUMPER,j.LEFT_TRIGGER,j.RIGHT_TRIGGER,[j.A,j.B,j.X,j.Y,j.START,j.SELECT,j.LEFT_BUMPER,j.RIGHT_BUMPER,j.LEFT_TRIGGER,j.RIGHT_TRIGGER,j.R3,j.L3]),de=[j.A,j.B,j.X,j.Y,j.LEFT_BUMPER,j.RIGHT_BUMPER,j.LEFT_TRIGGER,j.RIGHT_TRIGGER,j.SELECT,j.START,j.L3,j.R3,j.UP,j.DOWN,j.LEFT,j.RIGHT,j.XBOX],me=[j.LEFT,j.RIGHT,j.UP,j.DOWN];let pe,fe;var ge;ue.map((e=>de.indexOf(e))),me.map((e=>de.indexOf(e))),(ge=pe||(pe={}))[ge.BACKSPACE=8]="BACKSPACE",ge[ge.TAB=9]="TAB",ge[ge.ENTER=13]="ENTER",ge[ge.SHIFT=16]="SHIFT",ge[ge.CTRL=17]="CTRL",ge[ge.ALT=18]="ALT",ge[ge.CAPS_LOCK=20]="CAPS_LOCK",ge[ge.ESCAPE=27]="ESCAPE",ge[ge.SPACE=32]="SPACE",ge[ge.PG_UP=33]="PG_UP",ge[ge.PG_DOWN=34]="PG_DOWN",ge[ge.END=35]="END",ge[ge.HOME=36]="HOME",ge[ge.LEFT=37]="LEFT",ge[ge.UP=38]="UP",ge[ge.RIGHT=39]="RIGHT",ge[ge.DOWN=40]="DOWN",ge[ge.INSERT=45]="INSERT",ge[ge.DELETE=46]="DELETE",ge[ge.KEY_0=48]="KEY_0",ge[ge.KEY_1=49]="KEY_1",ge[ge.KEY_2=50]="KEY_2",ge[ge.KEY_3=51]="KEY_3",ge[ge.KEY_4=52]="KEY_4",ge[ge.KEY_5=53]="KEY_5",ge[ge.KEY_6=54]="KEY_6",ge[ge.KEY_7=55]="KEY_7",ge[ge.KEY_8=56]="KEY_8",ge[ge.KEY_9=57]="KEY_9",ge[ge.SEMICOLON=59]="SEMICOLON",ge[ge.EQUALS=61]="EQUALS",ge[ge.KEY_A=65]="KEY_A",ge[ge.KEY_B=66]="KEY_B",ge[ge.KEY_C=67]="KEY_C",ge[ge.KEY_D=68]="KEY_D",ge[ge.KEY_E=69]="KEY_E",ge[ge.KEY_F=70]="KEY_F",ge[ge.KEY_G=71]="KEY_G",ge[ge.KEY_H=72]="KEY_H",ge[ge.KEY_I=73]="KEY_I",ge[ge.KEY_J=74]="KEY_J",ge[ge.KEY_K=75]="KEY_K",ge[ge.KEY_L=76]="KEY_L",ge[ge.KEY_M=77]="KEY_M",ge[ge.KEY_N=78]="KEY_N",ge[ge.KEY_O=79]="KEY_O",ge[ge.KEY_P=80]="KEY_P",ge[ge.KEY_Q=81]="KEY_Q",ge[ge.KEY_R=82]="KEY_R",ge[ge.KEY_S=83]="KEY_S",ge[ge.KEY_T=84]="KEY_T",ge[ge.KEY_U=85]="KEY_U",ge[ge.KEY_V=86]="KEY_V",ge[ge.KEY_W=87]="KEY_W",ge[ge.KEY_X=88]="KEY_X",ge[ge.KEY_Y=89]="KEY_Y",ge[ge.KEY_Z=90]="KEY_Z",ge[ge.NUMPAD_0=96]="NUMPAD_0",ge[ge.NUMPAD_1=97]="NUMPAD_1",ge[ge.NUMPAD_2=98]="NUMPAD_2",ge[ge.NUMPAD_3=99]="NUMPAD_3",ge[ge.NUMPAD_4=100]="NUMPAD_4",ge[ge.NUMPAD_5=101]="NUMPAD_5",ge[ge.NUMPAD_6=102]="NUMPAD_6",ge[ge.NUMPAD_7=103]="NUMPAD_7",ge[ge.NUMPAD_8=104]="NUMPAD_8",ge[ge.NUMPAD_9=105]="NUMPAD_9",ge[ge.MINUS=109]="MINUS",ge[ge.F1=112]="F1",ge[ge.F2=113]="F2",ge[ge.F3=114]="F3",ge[ge.F4=115]="F4",ge[ge.F5=116]="F5",ge[ge.F6=117]="F6",ge[ge.F7=118]="F7",ge[ge.F8=119]="F8",ge[ge.F9=120]="F9",ge[ge.F10=121]="F10",ge[ge.F11=122]="F11",ge[ge.F12=123]="F12",ge[ge.COMMA=188]="COMMA",ge[ge.PERIOD=190]="PERIOD",ge[ge.SLASH=191]="SLASH",ge[ge.GRAVE=192]="GRAVE",ge[ge.MOUSE_MOVEMENT=195]="MOUSE_MOVEMENT",ge[ge.MOUSE_BUTTON_LEFT=196]="MOUSE_BUTTON_LEFT",ge[ge.MOUSE_BUTTON_MIDDLE=197]="MOUSE_BUTTON_MIDDLE",ge[ge.MOUSE_BUTTON_RIGHT=198]="MOUSE_BUTTON_RIGHT",ge[ge.MOUSE_WHEEL=199]="MOUSE_WHEEL",ge[ge.PSEUDO_KEY_1=201]="PSEUDO_KEY_1",ge[ge.PSEUDO_KEY_2=202]="PSEUDO_KEY_2",ge[ge.PSEUDO_KEY_3=203]="PSEUDO_KEY_3",ge[ge.PSEUDO_KEY_4=204]="PSEUDO_KEY_4",ge[ge.PSEUDO_KEY_5=205]="PSEUDO_KEY_5",ge[ge.PSEUDO_KEY_6=206]="PSEUDO_KEY_6",ge[ge.PSEUDO_KEY_7=207]="PSEUDO_KEY_7",ge[ge.PSEUDO_KEY_8=208]="PSEUDO_KEY_8",ge[ge.PSEUDO_KEY_9=209]="PSEUDO_KEY_9",ge[ge.PSEUDO_KEY_10=210]="PSEUDO_KEY_10",ge[ge.BRACKET_OPEN=219]="BRACKET_OPEN",ge[ge.BACKSLASH=220]="BACKSLASH",ge[ge.BRACKET_CLOSE=221]="BRACKET_CLOSE",ge[ge.APOSTROPHE=222]="APOSTROPHE",function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward"}(fe||(fe={}));const Ee={[j.UP]:[pe.UP],[j.DOWN]:[pe.DOWN],[j.LEFT]:[pe.LEFT],[j.RIGHT]:[pe.RIGHT],[j.X]:[pe.KEY_X],[j.Y]:[pe.KEY_Y],[j.A]:[pe.ENTER,pe.SPACE],[j.B]:[pe.ESCAPE,pe.BACKSPACE],[j.LEFT_TRIGGER]:[pe.KEY_Q],[j.RIGHT_TRIGGER]:[pe.KEY_Z],[j.LEFT_BUMPER]:[pe.BRACKET_OPEN],[j.RIGHT_BUMPER]:[pe.BRACKET_CLOSE],[j.LEFT_ANALOG_LEFT]:[pe.KEY_9],[j.RIGHT_ANALOG_LEFT]:[pe.KEY_0],[j.START]:[pe.F10],[j.SELECT]:[pe.F11],[j.XBOX]:[pe.F1],[j.L3]:[pe.F2],[j.R3]:[pe.F3],[j.PSEUDO_BUTTON_1]:[pe.PSEUDO_KEY_1],[j.PSEUDO_BUTTON_2]:[pe.PSEUDO_KEY_2],[j.PSEUDO_BUTTON_3]:[pe.PSEUDO_KEY_3],[j.PSEUDO_BUTTON_4]:[pe.PSEUDO_KEY_4],[j.PSEUDO_BUTTON_5]:[pe.PSEUDO_KEY_5],[j.PSEUDO_BUTTON_6]:[pe.PSEUDO_KEY_6],[j.PSEUDO_BUTTON_7]:[pe.PSEUDO_KEY_7],[j.PSEUDO_BUTTON_8]:[pe.PSEUDO_KEY_8],[j.PSEUDO_BUTTON_9]:[pe.PSEUDO_KEY_9],[j.PSEUDO_BUTTON_10]:[pe.PSEUDO_KEY_10]},he={[j.UP]:[pe.UP],[j.DOWN]:[pe.DOWN],[j.LEFT]:[pe.LEFT],[j.RIGHT]:[pe.RIGHT],[j.X]:[pe.KEY_X,pe.KEY_E],[j.Y]:[pe.KEY_Y],[j.A]:[pe.ENTER,pe.SPACE,pe.KEY_Q],[j.B]:[pe.ESCAPE,pe.BACKSPACE],[j.LEFT_TRIGGER]:[pe.PG_UP],[j.RIGHT_TRIGGER]:[pe.PG_DOWN],[j.LEFT_BUMPER]:[pe.BRACKET_OPEN],[j.RIGHT_BUMPER]:[pe.BRACKET_CLOSE],[j.LEFT_ANALOG_LEFT]:[pe.KEY_9],[j.RIGHT_ANALOG_LEFT]:[pe.KEY_0],[j.START]:[pe.F10],[j.SELECT]:[pe.F11],[j.XBOX]:[pe.F1],[j.L3]:[pe.F2],[j.R3]:[pe.F3],[j.PSEUDO_BUTTON_1]:[pe.PSEUDO_KEY_1],[j.PSEUDO_BUTTON_2]:[pe.PSEUDO_KEY_2],[j.PSEUDO_BUTTON_3]:[pe.PSEUDO_KEY_3],[j.PSEUDO_BUTTON_4]:[pe.PSEUDO_KEY_4],[j.PSEUDO_BUTTON_5]:[pe.PSEUDO_KEY_5],[j.PSEUDO_BUTTON_6]:[pe.PSEUDO_KEY_6],[j.PSEUDO_BUTTON_7]:[pe.PSEUDO_KEY_7],[j.PSEUDO_BUTTON_8]:[pe.PSEUDO_KEY_8],[j.PSEUDO_BUTTON_9]:[pe.PSEUDO_KEY_9],[j.PSEUDO_BUTTON_10]:[pe.PSEUDO_KEY_10]},ve=(0,r.createStaticFacet)(Ee),be=(0,a.createContext)([ve,()=>{}]),ye=()=>(0,a.useContext)(be),Fe=(0,a.createContext)((()=>()=>{})),Se=()=>(0,a.useContext)(Fe),Ce=(0,a.createContext)((0,r.createStaticFacet)(W.Initial)),Me=()=>(0,a.useContext)(Ce),we=(0,a.createContext)((0,r.createStaticFacet)({swapABButtons:!1,swapXYButtons:!1})),ke=()=>(0,a.useContext)(we),Te=we.Provider,Ie=(we.Consumer,()=>{}),Pe=(0,a.createContext)({current:{generateId:()=>(Ie(),-1),press:()=>{},isFocused:()=>(Ie(),!1),isFocusable:()=>(Ie(),!1),putNode:Ie,putShortcut:Ie,removeNode:Ie,removeShortcut:Ie,getElement:()=>{Ie()},isAncestorOf:()=>(Ie(),!1),getDynasty:()=>{Ie()},getEnabledBindingLandmarkDescendant:()=>{Ie()},containerHasEnabledItems:()=>(Ie(),!1),getClosestGrid:()=>(Ie(),null),updateGridNodeDimensions:()=>{Ie()}}}),{Provider:xe,Consumer:Oe}=Pe,Ae=xe,Ne=(0,a.createContext)({addAnalogListener:()=>()=>{},addDigitalListener:()=>()=>{},clickAtPoint:()=>{},focusAtPoint:()=>{}}),{Provider:Re,Consumer:_e}=Ne,Le=Re,De=(0,r.createFacetContext)({}),We=()=>(0,a.useContext)(De),Be=({value:e,children:t})=>a.createElement(De.Provider,{value:e},t),Ue=(0,a.createContext)(void 0),ze=()=>(0,a.useContext)(Ue),je=({value:e,children:t})=>a.createElement(Ue.Provider,{value:e},t);let He,Ve,Ge,$e,Ke,Xe,Ye;!function(e){e[e.TV_SCREEN_TYPE=0]="TV_SCREEN_TYPE",e[e.DESKTOP_SCREEN_TYPE=1]="DESKTOP_SCREEN_TYPE",e[e.HANDHELD_SCREEN_TYPE=2]="HANDHELD_SCREEN_TYPE",e[e.VR_SCREEN_TYPE=3]="VR_SCREEN_TYPE"}(He||(He={})),function(e){e[e.PHONE=0]="PHONE",e[e.TABLET=1]="TABLET"}(Ve||(Ve={})),function(e){e[e.GAMEPAD=0]="GAMEPAD",e[e.TOUCH=1]="TOUCH",e[e.MOUSE=2]="MOUSE",e[e.MOTION=3]="MOTION",e[e.KEYBOARD=4]="KEYBOARD"}(Ge||(Ge={})),function(e){e[e.ARVR_None=0]="ARVR_None",e[e.ARVR_Rift=1]="ARVR_Rift",e[e.ARVR_Holographic=2]="ARVR_Holographic",e[e.ARVR_WindowsMR=3]="ARVR_WindowsMR",e[e.ARVR_PSVR=4]="ARVR_PSVR",e[e.ARVR_GearVR=5]="ARVR_GearVR",e[e.ARVR_DesktopXR=6]="ARVR_DesktopXR"}($e||($e={})),function(e){e[e.IOS=0]="IOS",e[e.GOOGLE=1]="GOOGLE",e[e.AMAZON_HANDHELD=2]="AMAZON_HANDHELD",e[e.UWP=3]="UWP",e[e.XBOX=4]="XBOX",e[e.NX_HANDHELD=5]="NX_HANDHELD",e[e.PS4=6]="PS4",e[e.WIN32=7]="WIN32",e[e.MACOS=8]="MACOS",e[e.NX_TV=9]="NX_TV",e[e.PS5=10]="PS5"}(Ke||(Ke={})),function(e){e[e.SCALE_100_PERCENT=4]="SCALE_100_PERCENT",e[e.SCALE_125_PERCENT=5]="SCALE_125_PERCENT",e[e.SCALE_150_PERCENT=6]="SCALE_150_PERCENT",e[e.SCALE_175_PERCENT=7]="SCALE_175_PERCENT",e[e.SCALE_200_PERCENT=8]="SCALE_200_PERCENT"}(Xe||(Xe={})),function(e){e[e.XBOX=0]="XBOX",e[e.PS=1]="PS",e[e.STEAM=2]="STEAM",e[e.SWITCH=3]="SWITCH",e[e.QUEST=4]="QUEST"}(Ye||(Ye={}));const qe=(0,a.createContext)({isPointerInputMouse:(0,r.createStaticFacet)(!1),isPointerInputTouch:(0,r.createStaticFacet)(!1),isPointerInputAvailable:(0,r.createStaticFacet)(!1),isFocusInputGamepad:(0,r.createStaticFacet)(!1),isFocusInputKeyboard:(0,r.createStaticFacet)(!1),isFocusInputAvailable:(0,r.createStaticFacet)(!1),isLastInputMouse:(0,r.createStaticFacet)(!1),isLastInputTouch:(0,r.createStaticFacet)(!1),isLastInputGamepad:(0,r.createStaticFacet)(!1),isLastInputKeyboard:(0,r.createStaticFacet)(!1),isLastInputPointer:(0,r.createStaticFacet)(!1),isLastInputFocus:(0,r.createStaticFacet)(!1),isGamepadSupported:(0,r.createStaticFacet)(!1),isKeyboardSupported:(0,r.createStaticFacet)(!1),isMouseSupported:(0,r.createStaticFacet)(!1),isTouchSupported:(0,r.createStaticFacet)(!1),isPointerSupported:(0,r.createStaticFacet)(!1),isFocusSupported:(0,r.createStaticFacet)(!1)}),Qe=(0,a.createContext)((0,r.createStaticFacet)(Ke.XBOX)),Je=(0,a.createContext)((0,r.createStaticFacet)($e.ARVR_None)),Ze=(0,a.createContext)((0,r.createStaticFacet)(He.TV_SCREEN_TYPE)),et=(0,a.createContext)((0,r.createStaticFacet)(Ye.XBOX)),tt=()=>(0,a.useContext)(qe).isPointerInputMouse,nt=()=>(0,a.useContext)(qe).isFocusInputGamepad,at=()=>(0,a.useContext)(qe).isFocusInputKeyboard,rt=()=>(0,a.useContext)(qe).isFocusInputAvailable,lt=()=>(0,a.useContext)(qe).isLastInputPointer,ot=()=>(0,a.useContext)(qe).isLastInputFocus;var it=n(71768),ct=n.n(it);function st(e,t){const n=e.elements.get(t);if(null!=n&&ee(n))return null==n?void 0:n.alias}function ut(e,t){var n;const a=null!==(n=e.children.get(t.id))&&void 0!==n?n:[];for(const t of a){const n=e.elements.get(t);if(n)switch(n.type){case $.LANDMARK:if(!re(n))continue;if(ut(e,n))return!0;break;case $.FOCUS_GROUP:if(n.disabled||n.hidden)continue;if(ut(e,n))return!0;break;case $.ITEM:if(ne(n))return!0;case $.ROOT:}}return!1}function dt(e,t){return"string"==typeof t?e.aliases.get(t):null!=t&&e.elements.has(t)?t:void 0}function mt(e,t){const n=dt(e,t);if(null!=n)return e.elements.get(n)}function pt(e,t){const n=e.parents.get(t);return null==n?[]:[n,...pt(e,n)]}function ft(e,t,n){const a=e.parents.get(n);return a===t||null!=a&&ft(e,t,a)}function gt(e,t){const n=e.parents.get(t);if(null==n)return null;const a=e.elements.get(n);return null==a?null:oe(a)||le(a)?a:gt(e,n)}function Et(e,t){const n=e.parents.get(t);if(null==n)return null;const a=e.elements.get(n);return null==a||oe(a)&&!ie(a)?null:ie(a)?a:Et(e,n)}function ht(e,t){for(const n of t){const t=e.elements.get(n);if(t){if(oe(t)&&Tt(e,n))return!0;if(t.type===$.ITEM&&Tt(e,n))return!0}}return!1}const vt=e=>{const t=(n,a)=>{const r=n.parents.get(a);if(null==r)return null;const l=n.elements.get(r);return null==l?null:e(l)?r:t(n,r)};return t},bt=(e,t,n)=>{const a=pt(e,n);return null!=vt((e=>oe(e)&&!ct()(e.id,a)))(e,t)},yt=vt((e=>e.disabled||e.hidden)),Ft=(e,t)=>null!=yt(e,t),St=vt(se),Ct=vt((e=>e.type===$.LANDMARK&&null!=e.scrollAxis)),Mt=(e,t,n)=>{const a=e.parents.get(t);return null!=a&&(a===n||Mt(e,a,n))},wt=(e,t)=>{const n=kt(e,t);if(null!=n&&n.length>0){const t=mt(e,n[0]);return null!=t&&se(t)?t:void 0}},kt=(e,t)=>{const n=e.bindingLandmarkDescendants.get(t);if(null==n)return;const a=[];for(const t of n)Tt(e,t)&&a.push(t);return a};function Tt(e,t){const n=mt(e,t);if(null==n)return!1;if(n.type===$.ROOT)return!0;if(!re(n))return!1;const a=pt(e,n.id);for(const t of a){const n=mt(e,t);if(null==n)return!1;if(n.type===$.ROOT)return!0;if(!re(n))return!1}return!0}const It=(e,t,n)=>{const a=dt(e,t);if(null==a)return;const l=e.elements.get(a);if(null!=l){if(l.type===$.ROOT||oe(l)&&Tt(e,a)){const e=l.getDelegatedFocus({delegationOrigin:n});return e!=r.NO_VALUE?e:void 0}return It(e,e.parents.get(a),n)}};function Pt(e,t,n){const a=e.elements.get(t);if(!a)return;if(Tt(e,t)){var r;const a=null===(r=e.shortcuts.get(t))||void 0===r?void 0:r.get(n);if(null!=a)return a}if(se(a))return;const l=e.parents.get(t);return null!=l?Pt(e,l,n):void 0}function xt(e,t,n){var a;return null===(a=Pt(e,t,n))||void 0===a?void 0:a.callback}function Ot(e,t){const n=[],a=pt(e,t);for(const t of a){const a=mt(e,t);if(null==a)return n;a.type!==$.LANDMARK&&a.type!==$.ROOT||!ne(a)||n.push(a)}return n}const At=(e,t)=>n=>{var a;const r=null!==(a=n.getAttribute(V))&&void 0!==a?a:n.getAttribute(H);if(null==r)return!1;const l=parseInt(r,10);return t===l||ft(e,t,l)},Nt=(e,t)=>()=>{var n;const a=wt(e,t);if(null!=a){const e=a.getDelegatedFocus({delegationOrigin:z.Mutation});if(null!=e&&e!==r.NO_VALUE)return e}const l={id:t,reason:B.DefaultDelegation},o=e.dynasty.get(t),i=Array.from(null!==(n=window.document.body.querySelectorAll("[data-focusable-id], [data-landmark-id]"))&&void 0!==n?n:[]);if(0===i.length)return l;for(let t=0;t<i.length;t++){const n=i[t].getAttribute(H),a=i[t].getAttribute(V);if(null!=n){const t=parseInt(n,10);if(null==o||!o.has(t))continue;const a=mt(e,t);if(!oe(a))continue;if(!Tt(e,t))continue;const l=At(e,t),c=i.filter(l),s=a.getDelegatedFocus({cachedDescendantElements:c,delegationOrigin:z.Mutation});if(s!=r.NO_VALUE&&null!=s)return s}else if(null!=a){const t=parseInt(a,10);if(null!=o&&o.has(t)&&Tt(e,t))return{id:t,reason:B.FirstFoundDelegation}}}return l},Rt={[q.UP]:Z.PREVIOUS,[q.DOWN]:Z.NEXT,[q.LEFT]:Z.PREVIOUS,[q.RIGHT]:Z.NEXT},_t={[q.UP]:q.DOWN,[q.DOWN]:q.UP,[q.LEFT]:q.RIGHT,[q.RIGHT]:q.LEFT},Lt={[q.UP]:K.VERTICAL,[q.DOWN]:K.VERTICAL,[q.LEFT]:K.HORIZONTAL,[q.RIGHT]:K.HORIZONTAL},Dt={[K.VERTICAL]:K.HORIZONTAL,[K.HORIZONTAL]:K.VERTICAL},Wt=(e,t)=>{switch(t){case q.DOWN:return e.top+e.height;case q.UP:return e.top;case q.RIGHT:return e.left+e.width;case q.LEFT:return e.left}},Bt=e=>[e.left+e.width/2,e.top+e.height/2],Ut=(e,t,n)=>{switch(n){case K.HORIZONTAL:{const n=e.top+e.height,a=t.top+t.height,r=Math.max(t.top-e.top,0)+Math.max(n-a,0);return Math.max(e.height-r,0)/e.height}case K.VERTICAL:{const n=e.left+e.width,a=t.left+t.width,r=Math.max(t.left-e.left,0)+Math.max(n-a,0);return Math.max(e.width-r,0)/e.width}}};function zt(e,t){var n;const a=e.elements.get(t);if(null!=a&&"ref"in a)return null==a||null===(n=a.ref)||void 0===n?void 0:n.getBoundingClientRect()}function jt(e,t,n){for(const l of e.elements){var a,r;const o=l[1];if(o.type!==$.ITEM||!te(o)||null==(null===(a=e.shortcuts.get(o.id))||void 0===a||null===(r=a.get(j.A))||void 0===r?void 0:r.callback))continue;const i=o.ref.getBoundingClientRect();if(t>=i.left&&t<=i.left+i.width&&n>=i.top&&n<=i.top+i.height)return o}}const Ht=e=>{let t=null,n=[1/0,1/0];for(const[r,l]of e.elements){var a;if(!ee(l))continue;const o=null===(a=l.ref)||void 0===a?void 0:a.getBoundingClientRect();if(null==o)continue;if(l.type!==$.ITEM)continue;if(Ft(e,l.id))continue;const i=Bt(o),c=i[0]<n[0],s=i[0]===n[0]&&i[1]<n[1];(c||s)&&(t=r,n=i)}return t},Vt=e=>{const t=e.getAttribute(V);if(null!=t)return parseInt(t)};function Gt(e){const t={topLeftColumn:0,topLeftRow:0,columns:0,rows:0};if(0===e.length)return t;if(null==e)return t;const n=e.sort(((e,t)=>e[0]===t[0]?e[1]-t[1]:e[0]-t[0])),[a,r]=n[0],[l,o]=n[n.length-1];return t.topLeftColumn=r,t.topLeftRow=a,t.columns=o-r+1,t.rows=l-a+1,t}class $t{constructor(e=0,t=0){this._rows=e,this._columns=t,this._grid=new Array,this._itemIndices=new Map}_toIndex([e,t]){return e*this._columns+t}get columns(){return this._columns}_setColumns(e){if(!(e<=this._columns)){for(let e=this._grid.length-1;e>=0;e--)(e+1)%this._columns==0&&this._grid.splice(e,0,this._grid[e]);this._columns=e}}_setRows(e){if(e<=this._rows)return;const t=new Array(this._columns).fill(null).map(((e,t)=>{var n;return null!==(n=this._grid[this._grid.length-this._columns+t])&&void 0!==n?n:null}));this._grid.push(...t),this._rows=e}get rows(){return this._rows}get grid(){return this._grid}get itemIndices(){return this._itemIndices}getItemGridRect(e){const t=this._itemIndices.get(e);return null==t?{columns:0,rows:0,topLeftColumn:0,topLeftRow:0}:Gt(t)}getItemCenterCoords(e){const t=this._itemIndices.get(e);if(null==t)return;const n=t.sort(((e,t)=>e[0]===t[0]?e[1]-t[1]:e[0]-t[0]));return n[Math.floor((n.length-1)/2)]}get isPopulated(){var e;return null!==(e=(this._rows>0||this._columns>0)&&this._grid.length>0&&null!=this._itemIndices&&this._itemIndices.size>0)&&void 0!==e&&e}get length(){return this._grid.length}getCoords(e){return this._itemIndices.get(e)}setItem(e,t){this.removeItem(t);const n=e.map((e=>this.getItem(e))).filter((t=>{if(null==t)return!1;const n=this._itemIndices.get(t);return null==n?void 0:n.every((t=>{return n=t,e.some((e=>e[0]===n[0]&&e[1]===n[0]));var n}))})),a=n.length>0;e.forEach((([e,n])=>{const r=this.getItem([e,n]);if(null!=r){var l;const t=null===(l=this.itemIndices.get(r))||void 0===l?void 0:l.filter((([t,n])=>!(t===e&&n==n)));null!=t&&this._itemIndices.set(r,t)}const o=this._toIndex([e,n]);this._setColumns(Math.max(this._columns,n+1)),this._setRows(Math.max(this._rows,e+1)),a?function(e,t,n){if(n<0||n>e.length)throw new Error("Index out of bounds");e.length+=1;for(let t=e.length-1;t>n;t--)e[t]=e[t-1];e[n]=t}(this._grid,t,o):this._grid[o]=t}))}getItem(e){if(Array.isArray(e)){const t=this._toIndex(e);return this._grid[t]}if("string"==typeof e){const t=this._itemIndices.get(e);if(t&&t.length>0){const[e,n]=t[0];return this.getItem([e,n])}}return null}removeItem(e){if(Array.isArray(e)){const t=this._toIndex(e),n=this._grid[t];null!=n&&this._itemIndices.delete(n),this._grid[t]=null}else{if("number"!=typeof e)throw new Error("Invalid arguments provided for removeItem");{const t=this._itemIndices.get(e);t&&(t.forEach((([e,t])=>{const n=this._toIndex([e,t]);this._grid[n]=null})),this._itemIndices.delete(e))}}}printGrid(e){}}const Kt={0:"topLeftRow",1:"topLeftColumn"};function Xt(e,t){const n=e.grid.rows,a=e.grid.columns,r=t.grid.getCoords(e.nodeId);if(null==r)return[0,0];const l=Gt(r),[o,i]=[l.rows/n,l.columns/a];return[o,i]}function Yt(e,t,n,a,l=0){if(null==t)return;const o=Et(e,t);if(null!=o&&null!=o.ref){const i=e.grids.get(o.id);if(null==n&&(n=null==i?void 0:i.grid.getItemCenterCoords(t)),null==i)return;const c=qt(e,i,t,n,a,l);if(null!=c)return c;{const t=Et(e,o.id);if(null==t)return;const c=e.grids.get(t.id);if(null==c)return;const s=n,u=function(e,t,n){const a=t.grid.getItemGridRect(e.nodeId),[r,l]=Xt(e,t),[o,i]=null!=n?n:[0,0];return[Math.floor(o*r)+a.topLeftRow,Math.floor(i*l)+a.topLeftColumn]}(i,c,s),d=Yt(e,o.id,u,a,l);if(null==d)return;const[m,p]=d,f=e.elements.get(m);if(ie(f)){const t=e.grids.get(f.id);if(null!=t){const e=function(e,t,n,a,r,l){const o=[0,0],i=l.grid.getItemGridRect(r.nodeId),c=l.grid.getItemGridRect(a.nodeId);let s;switch(t){case q.DOWN:s=1;break;case q.UP:s=1,o[0]=r.grid.rows-1;break;case q.RIGHT:s=0;break;case q.LEFT:s=0,o[1]=r.grid.columns-1}if(null!=n){const e=n[s],t=Xt(a,l),u=Xt(r,l),d=t[s],m=u[s],p=i[Kt[s]]-c[Kt[s]],f=d/m;o[s]=Math.floor(e*d/m+p+f/2)}const u=r.grid.getItem(o);if(null!=u)return[u,o]}(0,a,s,i,t,c);if(null!=e)return e}}if(oe(f)){const t=f.getDelegatedFocus({delegationOrigin:z.UserInput});if(t!==r.NO_VALUE&&null!=t){const n=dt(e,t.id);if(null!=n)return[n,void 0]}}return[m,p]}}}function qt(e,t,n,a,r,l){const o=function(e,t,n,a,r){const l=null!=n?n:e.grid.getItemCenterCoords(t);if(null==l)return;const[o,i]=l,c=1+r;switch(a){case q.DOWN:{const t=[o+c,i];if(t[0]>e.grid.rows-1)return;return t}case q.UP:{const e=[o-c,i];if(e[0]<0)return;return e}case q.RIGHT:{const t=[o,i+c];if(t[1]>e.grid.columns-1)return;return t}case q.LEFT:{const e=[o,i-c];if(e[1]<0)return;return e}}}(t,n,null!=a&&function(e,t,n){const a=e.grid.getCoords(n);return null!=a&&a.some((e=>e[0]===t[0]&&e[1]===t[1]))}(t,a,n)?a:function(e,t){if(null==t)return;const n=dt(e,t);if(null==n)return;const a=Et(e,n);if(null==a)return;const r=e.grids.get(a.id);return null!=r?r.grid.getItemCenterCoords(n):void 0}(e,n),r,l);if(null!=o){const c=t.grid.getItem(o);if(null!=c){const s=mt(e,c);return null!=s&&(te(s)||ie(i=s)&&ae(i))&&s.id!==n?[c,o]:qt(e,t,n,a,r,l+1)}return qt(e,t,n,a,r,l+1)}var i}function Qt(e){return Math.log(e/(1-e))}const Jt=(e,t,n,a)=>{if(null==t)return 1;const r=e.elements.get(t);return null==r||r.type!==$.LANDMARK?1:Mt(e,n,t)&&r.scrollAxis==a?1e-6:1},Zt=Math.PI/12*5;function en(e,t,n=!1){if(null==t)return;const a=document.body.querySelectorAll("[data-focusable-id]"),r=document.body.querySelector(`[data-focusable-id='${t}']`),l=St(e,t);if(null==r){const t=Vt(a[0]);if(null==t)return;if(Ft(e,t))return;if(null!=l&&!Mt(e,t,l))return;return t}const o=((e,t)=>{for(let n=0;n<t.length;n++)if(e===t[n])return n;return null})(r,a);if(null==o)return Vt(a[0]);let i=n?o-1:o+1;const c=()=>{n?i--:i++};for(;o!==i;){i<0&&(i=a.length-1),i>a.length-1&&(i=0);const t=Vt(a[i]);if(null!=t){const n=e.elements.get(t);if(null==n||Ft(e,t)){c();continue}if(n.type!==$.ITEM||!0===n.disabled||!0===n.hidden){c();continue}if(null!=l&&!Mt(e,t,l)){c();continue}return t}c()}}const tn=(e,t,n,a)=>{var l,o;if(null==t)return[null!==(o=Ht(e))&&void 0!==o?o:1,void 0];const i=e.elements.get(t);var c;if(null==i||!ee(i))return[null!==(c=Ht(e))&&void 0!==c?c:1,void 0];const s=null==i||null===(l=i.ref)||void 0===l?void 0:l.getBoundingClientRect();var u;if(null==s)return[null!==(u=Ht(e))&&void 0!==u?u:t,void 0];const d=Yt(e,t,n,a);if(null!=d)return d;const m=Bt(s);let p=t,f=1/0;const g=Lt[a],E=a===q.LEFT||a===q.RIGHT?X.HORIZONTAL:X.VERTICAL,h=Dt[g],v=St(e,t),b=Ct(e,t);(null==e.lastDirectionChange||!((e,t)=>{switch(e){case q.DOWN:case q.UP:return t===q.UP||t===q.DOWN;case q.RIGHT:case q.LEFT:return t===q.LEFT||t===q.RIGHT}})(e.lastDirectionChange[0],a)&&null!=t)&&(e.lastDirectionChange=[a,t]);for(const[n,r]of e.elements){var y,F;if(n===t)continue;if(!te(r))continue;if(r.type===$.LANDMARK&&!oe(r))continue;if(r.type===$.LANDMARK&&ft(e,n,t))continue;if(null!=v&&!Mt(e,n,v))continue;if(Ft(e,n))continue;if(bt(e,n,t))continue;if(r.type===$.LANDMARK&&oe(r)&&!ut(e,r))continue;const l=null===(y=r.ref)||void 0===y?void 0:y.getBoundingClientRect();if(null==l)continue;const o=null!==(F=zt(e,e.lastDirectionChange[1]))&&void 0!==F?F:zt(e,t);if(null==o)continue;const i=Bt(o),c=Bt(l),u=(m[g]-c[g])*Rt[a],d=(Wt(s,a)-Wt(l,_t[a]))*Rt[a],S=(Wt(s,a)-Wt(l,a))*Rt[a],C=d<0&&u>0?0:d;if(C<0)continue;const M=i[h]-c[h],w=m[h]-c[h],k=Math.max(C,1),T=Math.abs(u),I=Math.abs(M/(0===C?1:C)),P=Math.atan(I),x=Ut(s,l,g),O=1-x,A=Math.min(Qt(O/2+.5),1e4),N=Ut(s,l,h),R=Math.min(Qt(N/2+.5),7500),_=Zt*N**3,L=I*O,D=(P+_)*O,W=Math.abs(w/T),B=Math.abs(w/(0===S?1:S)),U=Math.atan(W)+_,z=Math.atan(B),j=(S<0||z>=Zt)&&0===x;if(D>=Zt&&(U>=Zt||j))continue;const H=(k+L+A+R)*Jt(e,b,n,E);f>H&&(f=H,p=n)}const S=e.elements.get(p);if(oe(S)){const t=S.getDelegatedFocus({delegationOrigin:z.UserInput});if(t!==r.NO_VALUE&&null!=t){const n=dt(e,t.id);if(null!=n)return[n,void 0]}}return[p,void 0]},nn=(e,t)=>{if(!se(t))return;e.bindingLandmarkStack.push(t.id);const n=t.getDelegatedFocus({delegationOrigin:z.Mutation});return n===r.NO_VALUE?void 0:n};function an(e,t,n,a){const r=re(t)&&Tt(e,a);return{isFocusableEnabled:r,isFocusableBecomingEnabled:null!=n&&r&&!re(n),isFocusableBeingAddedEnabled:null==n&&r}}function rn(e,t,n,a){const r=function(e,t,n,a){return null==n&&null!=a&&(oe(a)||le(a))?a:gt(e,null==n&&null!=(null==a?void 0:a.id)?a.id:t.id)}(e,t,n,a),l=null!=r?e.dynasty.get(r.id):void 0;return{closestDelegatingAncestor:r,maybeDynasty:l,closestDelegatingAncestorDynastyHasNoEnabledItems:null==l||!ht(e,l),closestDelegatingLandmark:oe(r)?r:void 0}}const ln=e=>{const t=e.getDelegatedFocus({delegationOrigin:z.Mutation});if(null!=t&&t!==r.NO_VALUE)return t};function on(e,t,n,a,l,o,i,c,s){const{isFocusableEnabled:u,isFocusableBecomingEnabled:d,isFocusableBeingAddedEnabled:m}=an(e,t,n,null==a?void 0:a.id),p=null==o||!ht(e,o);return{delegateFocusOnBindingLandmarkCase:function(){const l=re(t)&&Tt(e,null==a?void 0:a.id),o=null==n&&l,c=re(t)&&Tt(e,null==a?void 0:a.id),u=null!=n&&!te(t)&&te(n),d=function(e,t,n,a,l){if(!l)return null;const{newStack:o,discardedStack:i}=function(e,t){const n=[],a=new Set;return e.bindingLandmarkStack.forEach((r=>{ft(e,t,r)||t===r?a.add(r):n.push(r)})),{newStack:n,discardedStack:a}}(e,t.id);if(e.bindingLandmarkStack=o,a){const a=function(e,t,n){if(null!=t)for(const a of n)if(ft(e,a,t)&&e.bindingLandmarkStack.length>0){const t=mt(e,e.bindingLandmarkStack[e.bindingLandmarkStack.length-1]);if(null!=t&&se(t)){const e=t.getDelegatedFocus({delegationOrigin:z.Mutation});if(null!=e&&e!==r.NO_VALUE)return e}}}(e,n,i);if(a)return a;if(function(e,t,n){if(null==t)return!1;const a=t===n;return ft(e,n,t)||a}(e,n,t.id))return It(e,t.id,z.Mutation)}}(e,t,i,s,u);if(null!=d)return d;const m=function(e,t,n,a,r){return n&&(a||r)?function(e,t){return nn(e,t)||function(e,t){const n=kt(e,t.id);if(null!=n&&n.length>0){const t=mt(e,n[0]);if(null!=t&&ee(t))return nn(e,t)}return null}(e,t)||null}(e,t):null}(e,t,s,c,o);return m||void 0},delegateFocusOnLandmarkIdentityChanged:function(){const a=s&&null!=i&&null!=n&&oe(t)&&oe(n),l=i===t.id;if(a){const a=c.origin===W.FocusTreeMutation,o=n.delegateFocusByAlias!==t.delegateFocusByAlias,s=t.landmarkKey!==n.landmarkKey;if((o&&a||s)&&(l||ft(e,t.id,i))){const e=t.getDelegatedFocus({delegationOrigin:z.Mutation});if(null!=e&&e!==r.NO_VALUE)return e}}},delegateFocusIfFocusableAliasChanged:function(){const a=oe(l)?l:void 0;if((null==n||ee(n))&&s&&u&&c.origin===W.FocusTreeMutation&&null!=i&&ee(t)&&(null==n||n.alias!==t.alias||d||m)&&null!=a&&(null!=a.delegateFocusByAlias||null!=a.delegationMemoryStack)&&(a.id===i||ft(e,a.id,i))){const e=a.getDelegatedFocus({delegationOrigin:z.Mutation});if(null!=e&&e!==r.NO_VALUE)return e}},delegateFocusOnDelegatingAncestorHasNoEnabledChildren:function(){if(s&&(d||m)&&p&&null!=l&&null!=i&&l.id===i)return ln(l)}}}function cn(e){var t,n;const a=e.id.toString(),r=e.type===$.LANDMARK;var l;null===(t=e.ref)||void 0===t||t.removeAttribute(r?V:H),null===(n=e.ref)||void 0===n||n.setAttribute(r?H:V,a),null!=window.__REACT_FACET_DEVTOOLS_GLOBAL_HOOK__&&(null===(l=e.ref)||void 0===l||l.setAttribute(G,a))}function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dn(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const mn=e=>un(un({},e),{},{height:e.height,width:e.width,x:e.x,y:e.y,left:e.left,top:e.top,right:e.right,bottom:e.bottom}),pn=(e,t,n)=>un(un({},e),{},{height:e.height,width:e.width,x:e.x-t.x+n.scrollLeft,y:e.y-t.y+n.scrollTop,left:e.left-t.left+n.scrollLeft,top:e.top-t.top+n.scrollTop,right:e.right-t.left+n.scrollLeft,bottom:e.bottom-t.top+n.scrollTop});function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){En(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function En(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e,t){var n;const a=new Set([...t.keys()].map((e=>e)));return{nodeId:e.id,grid:new $t,itemElementsDimensions:t,dynasty:a,gridElementDomRef:null!==(n=e.ref)&&void 0!==n?n:void 0,resolution:{width:0,height:0},gridElementDimensions:void 0}}function vn(e,t,n){var a,r;const{resolution:l,gridElementDimensions:o}=function(e,t){var n,a,r,l;const o=mn(e.ref.getBoundingClientRect()),i={width:0,height:0,gapHorizontal:0,gapVertical:0,offsetHorizontal:0,offsetVertical:0};if(i.width=null!=e.gridColumns?Math.ceil(o.width)/e.gridColumns:i.width,i.width=null!==(n=e.gridCellWidth)&&void 0!==n?n:i.width,i.height=null!=e.gridRows?Math.ceil(o.height)/e.gridRows:i.height,i.height=null!==(a=e.gridCellHeight)&&void 0!==a?a:i.height,i.offsetHorizontal=null!==(r=e.gridOffsetHorizontal)&&void 0!==r?r:0,i.offsetVertical=null!==(l=e.gridOffsetVertical)&&void 0!==l?l:0,e.gridCellSizeAuto&&null!=t&&t.size>0){var c,s;const e=[...t.values()],n=0===i.width||e.some((e=>e.width<i.width)),a=0===i.height||e.some((e=>e.height<i.height));(n||a)&&(i.width=n?Math.min(...e.map((e=>e.width))):i.width,i.height=a?Math.min(...e.map((e=>e.height))):i.height);const r={horizontal:0,vertical:0};if(0===i.offsetHorizontal||0===i.offsetVertical){const t=function(e){const t=e.sort(((e,t)=>e.x-t.x))[0],n=e.sort(((e,t)=>e.y-t.y))[0];return{offsetX:t.x,offsetY:n.y}}(e);i.offsetHorizontal=t.offsetX,i.offsetVertical=t.offsetY}i.gapHorizontal=null!==(c=r.horizontal)&&void 0!==c?c:0,i.gapVertical=null!==(s=r.vertical)&&void 0!==s?s:0}return{resolution:i,gridElementDimensions:o}}(t,n);e.resolution=l,e.gridElementDimensions=o;const i=null!==(a=e.resolution.gapVertical)&&void 0!==a?a:0,c=null!==(r=e.resolution.gapHorizontal)&&void 0!==r?r:0,s=e.resolution.height+i,u=e.resolution.width+c,d=0!==s?Math.floor(o.height/s):0,m=0!==s?Math.floor(o.width/u):0;return e.grid=new $t(d,m),gn(gn({},e),{},{resolution:l,gridElementDimensions:o,gridElementDomRef:t.ref})}function bn(e,t){if(null!=t)return[...t].reduce(((t,n)=>{const a=e.elements.get(n);return null!=a&&"ref"in a&&null!=a.ref?(t.set(n,mn(a.ref.getBoundingClientRect())),t):t}),new Map);console.warn("Grid has no dynasty")}function yn(e,t,n=!1){const a=e.grids.get(t.id);if(ce(t)||null==a||e.grids.delete(t.id),ce(t)){if(null!=a&&a.grid.isPopulated&&!n)return;const r=bn(e,null==a?void 0:a.dynasty);if(null==r)return;Fn(e,t,r)}}const Fn=function(e,t,n={}){const a=new Map,{leading:r=!1,trailing:l=!0}=n;return function(n,o,i){const c=o.id,s=Date.now();let u=a.get(c);null==u&&(u={timeoutId:null,lastArgs:null,invokedLeading:!1,lastCallTime:null},a.set(c,u));const d=u;d.lastArgs=[n,o,i],(null==d.lastCallTime||s-d.lastCallTime>=t)&&r&&!d.invokedLeading&&(d.invokedLeading=!0,e(...d.lastArgs)),null!=d.timeoutId&&clearTimeout(d.timeoutId),l?d.timeoutId=setTimeout((()=>{(t=>{const n=a.get(t);null!=n&&n.lastArgs&&(e(...n.lastArgs),n.invokedLeading=!1,n.lastCallTime=Date.now()),null!=n&&a.set(t,gn(gn({},n),{},{timeoutId:null}))})(c)}),t):r||(d.lastCallTime=s),a.set(c,d)}}((function(e,t,n){const a=function(e,t,n){var a;const r=hn(t,n);r.itemElementsDimensions=null!==(a=bn(e,r.dynasty))&&void 0!==a?a:r.itemElementsDimensions;let l=vn(r,t,r.itemElementsDimensions);return l=function(e,t){return e.resolution.width<=0||e.resolution.height<=0?(console.warn("Tried to add items to grid with zero resolution"),e):(new Set([...t.keys()].map((e=>e))).forEach((n=>{const a=t.get(n);if(null==a)return;e.dynasty.has(n)||e.dynasty.add(n);const{startRow:r,startCol:l,endRow:o,endCol:i}=((e,t)=>{var n,a,r,l;if(0===e.resolution.height||0===e.resolution.width)return{startRow:0,startCol:0,endRow:0,endCol:0};const o=null!==(n=e.resolution.gapVertical)&&void 0!==n?n:0,i=null!==(a=e.resolution.gapHorizontal)&&void 0!==a?a:0,c=null!==(r=e.resolution.offsetVertical)&&void 0!==r?r:0,s=null!==(l=e.resolution.offsetHorizontal)&&void 0!==l?l:0,u=Math.floor(t.left-s),d=Math.floor(t.top-c),m=Math.floor(e.resolution.height+o),p=Math.floor(e.resolution.width+i),f=Math.min(t.height,m)/2,g=Math.min(t.width,p)/2,E=Math.floor((d+f)/m),h=Math.floor((u+g)/p),v=Math.floor((d+Math.floor(t.height)-f)/m),b=Math.floor((u+Math.floor(t.width)-g)/p);return{startRow:E<0?0:E,startCol:h<0?0:h,endRow:v<0?0:v,endCol:b<0?0:b}})(e,a),c=[];for(let e=r;e<=o;e++)for(let t=l;t<=i;t++)c.push([e,t]);e.grid.setItem(c,n),e.grid.itemIndices.set(n,c)})),e)}(l,l.itemElementsDimensions),l}(e,t,n);a.grid.printGrid(t.id),e.grids.set(t.id,a)}),100,{trailing:!0,leading:!1});function Sn(e,t,n,a,r){if(null==(null==t?void 0:t.ref))return;if(!ie(n))return;const l=[t.id,null!=a?a:mn(t.ref.getBoundingClientRect())];let o=e.grids.get(null==n?void 0:n.id);if(null==o&&(o=hn(n,new Map([l])),e.grids.set(null==n?void 0:n.id,o)),o.dynasty.has(t.id)||(o.dynasty.add(t.id),o.itemElementsDimensions.set(l[0],l[1]),e.grids.set(null==n?void 0:n.id,o)),!ce(n))return;let i=(c=o).resolution.width>0&&c.resolution.height>0&&null!=c.gridElementDimensions&&null!=c.gridElementDomRef?o:null;var c;null==i&&(i=vn(o,n,o.itemElementsDimensions),e.grids.set(null==n?void 0:n.id,i));const s=l[1],u=i.grid.itemIndices.has(t.id),d=i.itemElementsDimensions.get(t.id),m=null!=d&&((e,t,n,a)=>{const r=pn(e,n,a),l=pn(t,n,a);return["top","left","width","height"].every((e=>Math.floor(r[e])===Math.floor(l[e])))})(s,d,i.gridElementDimensions,i.gridElementDomRef);var p,f;return null!=d&&m||(i.itemElementsDimensions.set(l[0],l[1]),e.grids.set(null==n?void 0:n.id,i)),(n.gridCellSizeAuto||r)&&(s.width<i.resolution.width||s.height<i.resolution.height||0===i.resolution.width||0===i.resolution.height||r)?(i.itemElementsDimensions=null!==(p=bn(e,i.dynasty))&&void 0!==p?p:new Map,void Fn(e,n,i.itemElementsDimensions)):u&&m?void 0:(i.itemElementsDimensions=null!==(f=bn(e,i.dynasty))&&void 0!==f?f:new Map,void Fn(e,n,i.itemElementsDimensions))}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){wn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wn(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(e,t,n,a,r,l,o,i){const c=function(e,t,n){let a;if("alias"in t&&null!=t.alias){const n=e.aliases.get(t.alias);if(null!=n&&n!==t.id){const t=e.elements.get(n);null!=t&&e.elements.set(n,Mn(Mn({},t),{},{alias:void 0}))}}null==n&&"alias"in t&&null!=t.alias&&e.aliases.set(t.alias,t.id);const r="alias"in t?t.alias:void 0;if(n!==r){null!=n&&e.aliases.delete(n);const l=null!=r;l&&e.aliases.set(r,t.id),a=l?r:t.id}return a}(t,n,st(t,n.id));if(t.elements.set(n.id,n),null!=r){var s;const e=null!==(s=t.children.get(r))&&void 0!==s?s:new Set;e.add(n.id),t.children.set(r,e),t.parents.set(n.id,r),function(e,t,n){if(se(e))for(let r=t;null!=r;r=n.parents.get(r)){var a;const t=n.elements.get(r);if(null==t)break;const l=null!==(a=n.bindingLandmarkDescendants.get(t.id))&&void 0!==a?a:new Set;if(l.add(e.id),n.bindingLandmarkDescendants.set(t.id,l),se(t))break}}(n,r,t)}return function(e,t,n,a,r){if(null!=e&&ee(t)){const l=null!=n?n:new Set;l.add(t.id),a.dynasty.set(e.id,l),e.type===$.LANDMARK&&e.onDynastyUpdated(r)}}(l,n,o,t,i),function(e,t,n,a){null==t?e&&oe(n)&&Tn(n,a):(e&&oe(t)&&!oe(n)&&a.dynasty.delete(n.id),e&&!oe(t)&&oe(n)&&Tn(n,a))}(a,e,n,t),c}function Tn(e,t){const n=t.children.get(e.id);if(null!=n){var a;const r=null!==(a=t.dynasty.get(e.id))&&void 0!==a?a:new Set,l=e=>{if(null!=e)for(const n of e){r.has(n)||r.add(n);const e=t.elements.get(n);if(!oe(e)){const e=t.children.get(n);l(e)}}};l(n),t.dynasty.set(e.id,r)}}function In(e){e.lastDirectionChange=void 0}const Pn=function(){const e=new Map;return(t,n,a)=>(n.forEach((n=>{var r,l,o,i;const c=n;if(c.type===$.ROOT)return;if(null==c.scrollAxis||!0===t.disableScrollIntoView)return;if(null==t.ref)return;if(null==c.ref)return;const s=e.get(c.id);s&&(s(),e.delete(c.id));const{scrollIntoView:u,stopScrolling:d}=function({disabledTransition:e=!1,speedFactor:t=1,align:n="center",scrollOffset:a=0,axis:r="y"}={}){let l,o,i,c,s;const u=300/t,d=()=>{if(!o)return;const t=Date.now()-s,n=t/u,a=t>u||e;o["x"===r?"scrollLeft":"scrollTop"]=Math.round(i+function(e){return--e*e*e+1}(a?1:n)*c),a||window.requestAnimationFrame(d)};return{scrollIntoView(e,t){o=e,l=t;const u=o.getBoundingClientRect(),m=u["x"===r?"width":"height"],p=l.getBoundingClientRect(),f="center"===n?m/2:0;c=("x"===r?p.left:p.top)-("x"===r?u.left:u.top)+("center"===n?p["x"===r?"width":"height"]/2:0)-f+a,i=o["x"===r?"scrollLeft":"scrollTop"],s=Date.now(),Math.abs(c)<5||window.requestAnimationFrame(d)},scrollTo(e,t){o=e,i=o["x"===r?"scrollLeft":"scrollTop"],c=t-i,s=Date.now(),window.requestAnimationFrame(d)},stopScrolling(){o=null,l=null}}}({disabledTransition:a,speedFactor:null!==(r=null!==(l=t.scrollSpeedFactor)&&void 0!==l?l:c.scrollIntoViewSpeedFactor)&&void 0!==r?r:1,align:(t.scrollAlign?t.scrollAlign:c.scrollIntoViewAlign)||"center",scrollOffset:(null!==(o=c.scrollIntoViewOffset)&&void 0!==o?o:0)+(null!==(i=t.scrollOffset)&&void 0!==i?i:0),axis:c.scrollAxis===X.HORIZONTAL?"x":"y"});u(c.ref,t.ref),e.set(c.id,d)})),()=>{for(const t of e.values())t();e.clear()})}();function xn(e,t){if(null==t)return{};const n=dt(e,t),a={};if(null==n)return a;const r=[n,...pt(e,n)];for(let n=0;n<r.length;n++){const l=r[n],o=e.shortcuts.get(l),i=e.elements.get(l);if(!i){console.error(`Missing element for id ${l} while constructing Input Legends after ${t} was focused`);break}if(null!=o){for(const[e,t]of o)e in a||(a[e]=t.inputLegend);if(se(i))break}}return a}const On=(0,a.createContext)([(0,r.createStaticFacet)(!0),()=>{}]),An=()=>(0,a.useContext)(On),Nn=({isNavigationDisabledFacet:e,setIsNavigationDisabled:t,children:n})=>{const r=(0,a.useMemo)((()=>[e,t]),[e,t]);return a.createElement(On.Provider,{value:r},n)},Rn=(0,a.createContext)((0,r.createStaticFacet)(1)).Provider;var _n=n(29584),Ln=n.n(_n);function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){Bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bn(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Un=[1];function zn({children:e,driver:t,initialFocusTree:n,initialFocusedId:l,notifyFocusRequest:o,onFocusedIdChange:i,onFocusTreeChange:c,onFocusedIdChangeFail:s,navigateToDirection:u=tn,swapABButtons:d=(0,r.createStaticFacet)(!1),swapXYButtons:m=(0,r.createStaticFacet)(!1),disabledTransition:p=(0,r.createStaticFacet)(!1),keyboardGamepadMap:f,setKeyboardGamepadMap:g}){const E=(0,a.useRef)(2),[h,v]=(0,r.useFacetState)(!1),b=(0,r.useFacetWrap)(f),y={id:null!=l?l:1,gridCell:void 0,origin:W.Initial},[F,S]=(0,r.useFacetState)(y),C=(0,a.useRef)(y),M=(0,a.useCallback)(((e,t,n)=>{const a={id:e,gridCell:t,origin:n};C.current=a,S(a)}),[C,S]),w=(0,r.useFacetMap)((e=>e.origin),[],[F]),k=(0,a.useMemo)((()=>null==n?(()=>{const e={elements:new Map,candidates:new Set,children:new Map,parents:new Map,aliases:new Map,shortcuts:new Map,history:[],bindingLandmarkStack:[],dynasty:new Map,grids:new Map,bindingLandmarkDescendants:new Map},t={type:$.ROOT,id:1,alias:void 0,disabled:!1,hidden:!1,ref:null,scrollAxis:null,onDown:void 0,onUp:void 0,onRight:void 0,onLeft:void 0,onBlur:void 0,onFocus:void 0,disableScrollIntoView:void 0,getDelegatedFocus:Nt(e,1)};return e.elements.set(1,t),e})():n),[n]),[T,I]=(0,r.useFacetState)(k),[P,x]=(0,r.useFacetState)(xn(k,l)),O=(0,r.useFacetRef)(P),A=(0,r.useFacetMap)((e=>Object.entries(e).reduce(((e,[t,n])=>{const a=n.reduce(((e,n)=>Wn(Wn({},e),{},{[n]:t})),{});return Wn(Wn({},e),a)}),{})),[],[b]),R=(0,a.useRef)(void 0);(0,r.useFacetEffect)((e=>{R.current=e}),[],[A]);const _=ot(),L=(0,a.useCallback)((e=>{const t=xn(k,e);O.current!==r.NO_VALUE&&function(e,t){for(const n in e)if(!(n in t)||e[n]!==t[n])return!1;for(const n in t)if(!(n in e)||e[n]!==t[n])return!1;return!0}(t,O.current)||(x(t),O.current=t)}),[k,O,x]),U=(0,r.useFacetCallback)(((e,t)=>(n,a,r,l)=>{if(null!=n&&C.current.id!==n){const o=dt(k,C.current.id);M(n,a,r),null==i||i(n),((e,t,n,a)=>{const r=dt(e,t);if(null==r)return;let l;for(let o=e.parents.get(r);null!=o;o=e.parents.get(o)){const r=e.elements.get(o);if(oe(r)){if(null==l)r.onFocusableOfDynastyFocused(t,n,a);else{const t=e.elements.get(l),o=null!=t&&ee(t)?null==t?void 0:t.alias:void 0;r.onFocusableOfDynastyFocused(null!=o?o:l,n,a)}l=o}}})(k,n,r,l),((e,t,n)=>{const a=dt(e,n),r=null!=t?e.elements.get(t):void 0;var l;null!=r&&ee(r)&&r.id!==a&&(null===(l=r.onBlur)||void 0===l||l.call(r));const o=null!=a?e.elements.get(a):void 0;var i;null!=o&&ee(o)&&(null===(i=o.onFocus)||void 0===i||i.call(o))})(k,o,n),L(n),e&&(ne.current=((e,t,n)=>{if(null==t)return;const a=dt(e,t);if(null==a)return;const r=e.elements.get(a);if(!r||r.type==$.ROOT||!ee(r))return;const l=Ot(e,a);return Pn(r,l,n)})(k,n,t))}}),[M,i,k,C,L],[_,p]),H=(0,r.useFacetCallback)((e=>(t,n,a)=>{var r;if(In(k),a){const t=mt(k,e.id);if(null!=t&&ee(t)&&Tt(k,e.id))return()=>{}}const l="number"==typeof t&&null!==(r=st(k,t))&&void 0!==r?r:t;return U(l,void 0,n),()=>{In(k);const t=mt(k,e.id);null!=t&&ee(t)&&Tt(k,e.id)&&U(e.id,e.gridCell,e.origin)}}),[U,k],[F]),V=(0,a.useCallback)(((e,t,n=W.ImperativeSetFocus)=>{const a=mt(k,e);return null!=a&&!ee(a)||!Tt(k,e)?()=>{}:H(e,n,t)}),[H,k,C]),G=(0,a.useMemo)((()=>{const e=e=>{null==c||c(e)};return{generateId:()=>E.current++,press(e,t){const n=dt(k,C.current.id);if(null!=n){const t=((e,t,n)=>{const a="string"==typeof t?e.aliases.get(t):t;if(null==a)return!1;const r=xt(e,a,n);return null!=r&&(r(),!0)})(k,n,e);if(t)return}if(e in Q){const r=Q[e];if(null!=r){var a;if(null!=n){const e=((e,t,n)=>{const a="string"==typeof t?e.aliases.get(t):t;if(null==a)return!1;const r=e.elements.get(a);if(null==r||!ee(r))return!1;switch(n){case q.LEFT:if(r.onLeft&&r.onLeft())return!0;break;case q.RIGHT:if(r.onRight&&r.onRight())return!0;break;case q.UP:if(r.onUp&&r.onUp())return!0;break;case q.DOWN:if(r.onDown&&r.onDown())return!0}return!1})(k,n,r);if(e)return}const[e,l]=u(k,n,C.current.gridCell,r);e===n&&null!=s&&1!==e&&s();const o=null!==(a=st(k,e))&&void 0!==a?a:e;U(o,l,t)}}else switch(e){case j.A:return void((e,t)=>{if(null==t)return;const n=e.elements.get(t);var a,r;null!=n&&n.type===$.ITEM&&(null===(a=e.shortcuts.get(t))||void 0===a||null===(r=a.get(j.A))||void 0===r||r.callback())})(k,n);case j.B:return;case j.NEXT:{const e=en(k,n,!1);return void(null!=e&&U(e,void 0,W.FocusInput))}case j.PREV:{const e=en(k,n,!0);return void(null!=e&&U(e,void 0,W.FocusInput))}}},putNode(t,n){const a=C.current,r=!(null!=a.id&&1!=a.id&&(a.origin===W.URL||a.origin===W.Initial))||null!=a.id,l=function(e,t,n,a,r){return ee(t)?function(e,t,n,a,r){const l=mt(e,t.id),o=dt(e,a.id),i=mt(e,n),{closestDelegatingAncestor:c,maybeDynasty:s}=rn(e,t,l,i),{delegateFocusOnLandmarkIdentityChanged:u,delegateFocusOnBindingLandmarkCase:d,delegateFocusIfFocusableAliasChanged:m,delegateFocusOnDelegatingAncestorHasNoEnabledChildren:p}=on(e,t,l,i,c,s,o,a,r);let f;switch(t.type){case $.LANDMARK:{f=kn(l,e,t,!0,n,c,s,a),cn(t),ie(t)&&requestAnimationFrame((()=>{yn(e,t)}));const r=Et(e,t.id);ie(r)&&requestAnimationFrame((()=>{Sn(e,t,r)}));const o=u();if(null!=o)return o;const i=d();if(null!=i)return i;break}case $.ITEM:{cn(t),f=kn(l,e,t,!1,n,c,s,a);const r=Et(e,t.id);ie(r)&&requestAnimationFrame((()=>{Sn(e,t,r)}));break}}const g=m();if(g)return g;const E=p();if(E)return E;const h=function(e,t,n,a){const r=n===t.id;if(e&&r&&null!=a)return{id:a,reason:B.FocusableAliasMutation}}(r,t,o,f);return null!=h?h:void 0}(e,t,n,a,r):function(e,t,n,a,r){const l=dt(e,a.id),o=mt(e,t.id),i=mt(e,n),{closestDelegatingAncestor:c,maybeDynasty:s}=rn(e,t,o,i),{delegateFocusOnDelegatingAncestorHasNoEnabledChildren:u}=function(e,t,n,a,r,l,o,i,c){const{isFocusableBecomingEnabled:s,isFocusableBeingAddedEnabled:u}=an(e,t,n,null==a?void 0:a.id),d=null==l||!ht(e,l);return{delegateFocusOnDelegatingAncestorHasNoEnabledChildren:function(){if(c&&(s||u)&&d&&null!=r&&null!=o&&r.id===o)return ln(r)}}}(e,t,o,i,c,s,l,0,r),d=null!=o&&(p=t,!1===(m=o).disabled&&!0===p.disabled||!1===m.hidden&&!0===p.hidden);var m,p;const f=null!=l&&ft(e,t.id,l);if(kn(o,e,t,!1,n,c,s,a),ie(t)){requestAnimationFrame((()=>{yn(e,t)}));const n=Et(e,t.id);n&&requestAnimationFrame((()=>{Sn(e,t,n)}))}return u()||(r&&d&&f&&null!=c?ln(c):void 0)}(e,t,n,a,r)}(k,t,n,C.current,r);null!=l&&U(l.id,void 0,W.FocusTreeMutation,l.reason),e(k)},updateGridNodeDimensions(t,n){const a=k.elements.get(t);if(null==a||a.type!==$.ITEM&&a.type!==$.LANDMARK)return;const r=Et(k,t);ie(r)&&requestAnimationFrame((()=>{Sn(k,a,r,n),e(k)}))},putShortcut(t,n,a){!function(e,t,n,a){var r;const{shortcuts:l}=e;l.get(t)||l.set(t,new Map),null===(r=l.get(t))||void 0===r||r.set(n,a)}(k,t,n,a),L(C.current.id),e(k)},removeNode(t){const n=function(e,t,n){const a=e.elements.get(t);if(!a)return;const l=e.parents.get(t),o=Et(e,t),i=function(e,t,n,a){const r=n.id,l=dt(e,r),o=null!=l&&ft(e,t.id,l),i=l===t.id;return()=>{if(null!=a&&(o||i)){const t=It(e,a,z.Mutation);if(null!=t)return t}}}(e,a,n,l);if(ee(a)&&null!=a.alias&&e.aliases.delete(a.alias),null!=l){const n=e.children.get(l);null!=n&&n.delete(t),e.parents.delete(t),function(e,t,n){if(ce(n)){const a=e.grids.get(n.id);if(null==a)return;a.grid.removeItem(t.id),a.dynasty.delete(t.id),a.grid.itemIndices.delete(t.id),a.itemElementsDimensions.delete(t.id),e.grids.set(n.id,a),a.grid.printGrid(n.id)}}(e,a,o),ce(a)&&e.grids.delete(t),function(e,t){const n=gt(e,t.id);if(null!=n){const a=e.dynasty.get(n.id);null!=a&&a.delete(t.id)}null!=n&&n.type!==$.ROOT&&null!=n.delegationMemoryStack&&n.delegationMemoryStack.forEach((e=>{const n=e.indexOf(t.id);e.splice(n,1)}))}(e,a),a.type===$.LANDMARK&&function(e,t){if(e.bindingLandmarkDescendants.delete(t.id),se(t))for(const[n,a]of e.bindingLandmarkDescendants)a.delete(t.id)}(e,a)}if(e.parents.delete(t),e.elements.delete(t),e.shortcuts.delete(t),se(a)){const t=e.bindingLandmarkStack.indexOf(a.id);if(-1!==t){const n=t===e.bindingLandmarkStack.length-1;if(e.bindingLandmarkStack.splice(t),n&&e.bindingLandmarkStack.length>0){const t=e.bindingLandmarkStack.filter((t=>Tt(e,t))),n=function(e){if(null!=e&&se(e)){const t=e.getDelegatedFocus({delegationOrigin:z.Mutation});if(null!=t&&t!==r.NO_VALUE)return t}}(mt(e,t[e.bindingLandmarkStack.length-1]));if(null!=n)return n}}}const c=i();return null!=c?c:void 0}(k,t,C.current);null!=n&&U(n.id,void 0,W.FocusTreeMutation,n.reason),e(k)},removeShortcut(t,n){!function(e,t,n){const a=e.shortcuts.get(t);a&&(a.delete(n),0===a.size&&e.shortcuts.delete(t))}(k,t,n),L(C.current.id),e(k)},isFocused:(e,t)=>e===C.current.id||null!=t&&t===C.current.id,isFocusable:e=>{const t=mt(k,e);return null!=t&&ee(t)&&Tt(k,e)},containerHasEnabledItems:e=>{const t=mt(k,e);return!(null==t||!(e=>e.type===$.LANDMARK||e.type===$.FOCUS_GROUP)(t))&&ut(k,t)},getElement:e=>mt(k,dt(k,e)),isAncestorOf:(e,t)=>ft(k,e,t),getDynasty:e=>k.dynasty.get(e),getEnabledBindingLandmarkDescendant:e=>wt(k,e),getClosestGrid:e=>Et(k,e)}}),[C,k,U,u,s,c,I,L]),K=(0,a.useRef)(G),Y=(0,r.useFacetMap)((e=>e.id),[],[F]);(0,a.useCallback)((e=>U(e,void 0,W.DebugTool)),[U]);const J=(0,a.useRef)([]),Z=(0,a.useRef)([]),te=(0,a.useCallback)((e=>{const t=C.current,n=dt(k,t.id);if(null==n)return;const a=xt(k,n,e);null==a||a()}),[k]),ne=(0,a.useRef)(void 0),ae=(0,a.useCallback)(((e,t=W.Unknown)=>{Z.current.forEach((t=>t(e))),G.press(e,t)}),[G]),re=(0,a.useCallback)(Ln()((e=>{G.press(e,W.FocusInput)}),125),[G]),le=(0,a.useCallback)((e=>{J.current.forEach((t=>t(e)));const t=((e,t,n,a)=>{if(null==t)return!1;const r=n[j.RIGHT_VERTICAL_AXIS],l=n[j.RIGHT_HORIZONTAL_AXIS];if(0===r&&0===l)return!1;const o=dt(e,t);if(null==o)return!1;const i=Ot(e,o).filter((e=>null!=e.scrollAxis));if(0===i.length)return!1;const c=i[0],s=c.scrollAxis===X.HORIZONTAL?l:r,u=c.scrollAxis===X.HORIZONTAL?"scrollLeft":"scrollTop";if(null==c.ref)return!1;if(!c.shouldScrollWithAnalog){if(c.scrollAxis===X.HORIZONTAL)return s>=0?"right":"left";if(c.scrollAxis===X.VERTICAL)return s>=0?"down":"up"}return c.ref[u]+=20*s,"scroll"})(k,C.current.id,e);!1!==t?("scroll"===t&&ne.current&&ne.current(),"down"===t?re(j.LEFT_ANALOG_DOWN):"up"===t?re(j.LEFT_ANALOG_UP):"left"===t?re(j.LEFT_ANALOG_LEFT):"right"===t&&re(j.LEFT_ANALOG_RIGHT)):re.cancel()}),[k,J,C,re]);(0,r.useFacetLayoutEffect)(((e,n,a)=>e?void 0:t(ae,le,n,a,R)),[t,le,ae,d,m,R],[h,d,m]);const ue=(0,a.useMemo)((()=>{const e={addAnalogListener:e=>(J.current=[...J.current,e],()=>{J.current=N()([e],J.current)}),addDigitalListener:e=>(Z.current=[...Z.current,e],()=>{Z.current=N()([e],Z.current)}),clickAtPoint:(e,t)=>{((e,t,n)=>{const a=jt(e,t,n);if(null!=a&&a.type===$.ITEM){var r;const t=e.shortcuts.get(a.id);null==t||null===(r=t.get(j.A))||void 0===r||r.callback()}})(k,e,t)},focusAtPoint:(e,t)=>{var n;const a=jt(k,e,t),r=null!==(n=null==a?void 0:a.alias)&&void 0!==n?n:null==a?void 0:a.id;null!=r&&H(r,W.PointerInput)}};return e}),[H,k]),de=(0,r.useFacetMap)(((e,t)=>({swapABButtons:e,swapXYButtons:t})),[],[d,m]),me=(0,a.useMemo)((()=>[b,g]),[b,g]);return(0,a.useLayoutEffect)((()=>null==o?()=>{}:o((e=>H(e,W.URL)))),[H,o]),a.createElement(Nn,{isNavigationDisabledFacet:h,setIsNavigationDisabled:v},a.createElement(D.Provider,{value:Un},a.createElement(be.Provider,{value:me},a.createElement(Fe.Provider,{value:V},a.createElement(Ce.Provider,{value:w},a.createElement(Te,{value:de},a.createElement(Ae,{value:K},a.createElement(Le,{value:ue},a.createElement(Be,{value:P},a.createElement(je,{value:te},a.createElement(Rn,{value:Y},e)))))))))))}const jn=(0,r.sharedFacet)("core.input"),Hn=(0,r.sharedFacet)("core.animation");let Vn;!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(Vn||(Vn={}));const Gn=(0,r.sharedFacet)("core.splitScreen"),$n=window.engine;function Kn(e,t){const n=t;return $n.on(e,n),()=>$n.off(e,n)}const Xn=(e,t,n,a,r)=>{const l=Yn(e,t),o=t=>{var n;if(document.activeElement!==document.body||null==r)return;const a=null===(n=r.current)||void 0===n?void 0:n[t.keyCode];return null!=a?(t.preventDefault(),void e(a,W.FocusInput)):t.keyCode===pe.TAB?(t.preventDefault(),void e(t.shiftKey?j.PREV:j.NEXT,W.FocusInput)):void 0},i=t=>{const n=J[t.button];null!=n&&e(n,W.PointerInput)};return document.addEventListener("keydown",o),document.addEventListener("mousedown",i),()=>{document.removeEventListener("keydown",o),l(),document.removeEventListener("mousedown",i)}},Yn=(e,t)=>{const n=Kn("engine:gamepad:onPress",(t=>{e(de[t],W.FocusInput)})),a=Kn("engine:gamepad:onJoystickMovement",((e,n,a,r)=>{t([e,n,a,r])}));return()=>{n(),a()}};let qn;function Qn({notifyFocusRequest:e,onFocusedIdChange:t,onFocusedIdChangeFail:n,children:l,keyboardGamepadMap:o}){const i=(0,r.useSharedFacet)(Hn),c=(0,r.useSharedFacet)(Gn),s=(0,r.useFacetMap)((e=>e.swapABButtons),[],[(0,r.useSharedFacet)(jn)]),u=(0,r.useFacetMap)((e=>e.swapXYButtons),[],[(0,r.useSharedFacet)(jn)]),d=(0,r.useFacetMap)((e=>e.keyboardType),[],[(0,r.useSharedFacet)(jn)]),m=(0,r.useFacetMap)(((e,t)=>!e.screenAnimationEnabled||t.numActivePlayers>1),[],[i,c]),[p,f]=(0,r.useFacetState)(o);return(0,r.useFacetEffect)((e=>f(e===qn.FullKeyboard?he:o)),[o,f],[d]),a.createElement(zn,{notifyFocusRequest:e,onFocusedIdChange:t,onFocusedIdChangeFail:n,swapABButtons:s,swapXYButtons:u,disabledTransition:m,keyboardGamepadMap:p,setKeyboardGamepadMap:f,driver:Xn},l)}var Jn;(Jn=qn||(qn={}))[Jn.Standard=0]="Standard",Jn[Jn.FullKeyboard=1]="FullKeyboard";const Zn=(0,a.createContext)((()=>()=>{})),{Provider:ea,Consumer:ta}=Zn,na=()=>(0,a.useContext)(Zn),aa="react-sound-effect.NoSound";function ra(){const e=na();return(0,a.useCallback)(((t,n=0,a=1,r=1)=>{t!==aa&&t&&e(t,n,a,r)}),[e])}const la=(0,a.createContext)(!0),oa=la.Provider,ia=()=>(0,a.useContext)(la),ca=["neutral","neutral20","neutral50","neutral60","neutral80","neutral100","primary","primaryTint","secondary","tertiary","success","successTint","destructive","destructiveTint","informative","informativeTint","notice","noticeTint","PDPCore","PDPPlus","dataViz01","dataViz02","dataViz03","dataViz04","dataViz05","dataViz06","dataViz07","dataVizLine","paper","neutralAlpha60"],sa="regular",ua=["dimmest","dimmer","stronger","strongest","reversed"],da=[sa,...ua],ma=["text","icon","border","caret"],pa=["specular","bevel"],fa=[...ma,"background","shadow","outline","overlay","dropShadow",...pa,"highlight"],ga="default",Ea="hovered",ha="pressed",va="disabled",ba="selected",ya="focused",Fa=[ba,ya,Ea,ha,va],Sa=["default",...Fa],Ca="base",Ma="hover",wa="press",ka="disable",Ta="select",Ia="focus",Pa="interactive",xa=[Ma,wa,ka,Ta,Ia,Ca],Oa=[...xa,Pa],Aa={[ga]:Ca,[Ea]:Ma,[ha]:wa,[ya]:Ia,[ba]:Ta,[va]:ka},Na={[Ca]:ga,[Ma]:Ea,[wa]:ha,[Ia]:ya,[Ta]:ba,[ka]:va},Ra={button:["text"],pressable:["main","border","text"],panel:["main"],inputLegend:["sideContainer","inputHint"]},_a=Object.keys(Ra),La=["reject","click","press","focus","hover","hoverExit","contract","expand","toggle","lift"],Da=e=>ma.includes(e),Wa=e=>pa.includes(e),Ba=(e,t="regular")=>void 0!==e&&t in e,Ua=e=>{if(null==e||"object"!=typeof e)return!1;const t=Object.keys(e);return t.length>0&&t.every((e=>Sa.includes(e)))},za="semantic-tokens-collection-id-";function ja(e){if(e!==Pa)return Na[e]}function Ha(e){return Aa[e]}const Va=(e,t,n)=>{switch(t){case"background":case"icon":case"shadow":case"highlight":case"overlay":case"dropShadow":return`${e} { background-color: ${n}; }`;case"border":case"outline":return`${e} { border-color: ${n}; }`;case"text":return`${e} { color: ${n}; }`;case"specular":case"bevel":const{top:t,bottom:a}=n;return e.includes("reversed")?`${e} { border-top-color: ${a}; border-left-color: ${a}; border-bottom-color: ${t};  border-right-color: ${t} }`:`${e} { border-top-color: ${t}; border-left-color: ${t}; border-bottom-color: ${a};  border-right-color: ${a} }`;case"caret":return`${e} { caret-color: ${n}; }`}},Ga=e=>e.map((({path:e,value:t})=>{if((e=>5===e.length&&_a.includes(e[1]))(e)){if((e=>null!=e&&"object"==typeof e)(t))return((e,t)=>{const n=e.slice(0,-1).join("-"),a=e.slice(0,-1).concat("interactive").join("-"),r=e[e.length-1],l=ja(r);let o,i=("base"===r?`.${n},.${a}`:`.${n}.${l},.${l} .${n},.${a}.${l},.${l} .${a}`)+" {";for(o in t){const e=o.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`));switch(o){case"borderImageSource":case"backgroundImage":i+=`${e}: url(${t[o]});\n`,i+="image-rendering: pixelated;\n","borderImageSource"===o&&(i+="border-width: 0;\n");break;case"color":i+=`color: ${t[o]};\n`,i+="text-shadow: none;\n";break;default:i+=`${e}: ${t[o]};\n`}}return i+="}",i})(e,t)}else if((e=>ca.includes(e[1]))(e)){if(!(e=>"object"==typeof e&&"top"in e&&"bottom"in e)(t)&&"string"!=typeof t)throw new Error(`Expected ${JSON.stringify(e)}'s value "${t}" to be of type "string" or "LightingEffectType"`);return((e,t)=>{const{element:n,selector:a}=(e=>{const t=e[2],n=Da(t),a=Wa(t),r=e[e.length-1],l=ja(r),o=n?e.splice(3,1)[0]:void 0,i=e.join("-"),c=e.slice(0,-1).join("-"),s=e.slice(0,-1).concat("interactive").join("-");if(a)return{element:t,selector:["base"===r?`.${c},.${s}`:`.${i}.${l},.${l} .${i},.${s}.${l},.${l} .${s}`,"base"===r?`.${c}.reversed,.${s}.reversed`:`.${i}.reversed.${l},.${l} .${i}.reversed,.${s}.reversed.${l},.${l} .${s}.reversed`]};const u=null==o||"regular"===o?"":`.${o}`;return{element:t,selector:"base"===r?`.${c}${u},.${s}${u}`:`.${i}${u}.${l},.${l} .${i}${u},.${s}${u}.${l},.${l} .${s}${u}`}})(e);return Array.isArray(a)?a.map((e=>Va(e,n,t))).join(""):Va(a,n,t)})(e,t)}throw new Error(`Unknown path ${JSON.stringify(e)} and value "${JSON.stringify(t)}"`)})).join(""),$a=(0,a.createContext)("neutral"),Ka=()=>(0,a.useContext)($a),Xa=({children:e,role:t})=>"inherit"===t?a.createElement(a.Fragment,null,e):a.createElement($a.Provider,{value:t},e),Ya=(()=>{const e={};for(const t of Fa)e[t]=t;return e})(),qa=(()=>{const e={};for(const t of ua)e[t]=t;return e})(),Qa={},Ja=(e,t)=>{const n=((e,t)=>{const n={};for(const i of ca){var a;n[i]={};const c=null==t||null===(a=t.sound)||void 0===a?void 0:a[i];for(const t of La){var r,l,o;n[i][t]=null!==(r=null==e||null===(l=e.sound)||void 0===l||null===(o=l[i])||void 0===o?void 0:o[t])&&void 0!==r?r:null==c?void 0:c[t]}}return n})(e,t),{color:a,rawColor:r}=((e,t)=>{const n={color:{},rawColor:{}},a=null==e?null:e.id;for(const y of ca){n.color[y]={},n.rawColor[y]={};for(const F of fa){var r,l;const S=null==e||null===(r=e.color)||void 0===r||null===(l=r[y])||void 0===l?void 0:l[F];if(null!=S||null==t){if(n.rawColor[y][F]={},Da(F))for(const t of da){var o,i,c;n.rawColor[y][F][t]={};const a=null==e||null===(o=e.color)||void 0===o||null===(i=o[y])||void 0===i||null===(c=i[F])||void 0===c?void 0:c[t];for(const e of Sa)n.rawColor[y][F][t][e]=null==a?void 0:a[e]}else if(Wa(F))for(const t of Sa){var s,u,d,m,p,f,g,E;n.rawColor[y][F][t]={},n.rawColor[y][F][t].top=null==e||null===(s=e.color)||void 0===s||null===(u=s[y])||void 0===u||null===(d=u[F])||void 0===d||null===(m=d[t])||void 0===m?void 0:m.top,n.rawColor[y][F][t].bottom=null==e||null===(p=e.color)||void 0===p||null===(f=p[y])||void 0===f||null===(g=f[F])||void 0===g||null===(E=g[t])||void 0===E?void 0:E.bottom}else for(const t of Sa){var h,v,b;n.rawColor[y][F][t]=null==e||null===(h=e.color)||void 0===h||null===(v=h[y])||void 0===v||null===(b=v[F])||void 0===b?void 0:b[t]}n.color[y][F]={};for(const e of Oa)n.color[y][F][e]="base"===e?null!=S?`${a}-${y}-${F}`:void 0:null!=S?`${a}-${y}-${F}-${e}`:void 0}else n.color[y][F]=t.color[y][F],n.rawColor[y][F]=t.rawColor[y][F]}}return n})(e,t),l=(e=>{const t={},n=null==e?null:e.id;for(const c of _a){t[c]={};for(const s of ca){t[c][s]={};for(const u of Ra[c]){var a,r;t[c][s][u]={};const d=null==e||null===(a=e.component)||void 0===a||null===(r=a[c])||void 0===r?void 0:r[s],m=(i=u,null!=(o=d)&&Object.prototype.hasOwnProperty.call(o,i));t[c][s][u]={},m&&Ua(null==d?void 0:d[u])?t[c][s][u].interactive=`${n}-${c}-${s}-${u}-interactive`:t[c][s][u].interactive=void 0;for(const e of xa){var l;const a=ja(e);null!=a&&(m&&null!=(null==d||null===(l=d[u])||void 0===l?void 0:l[a])?t[c][s][u][e]="base"===e?`${n}-${c}-${s}-${u}`:`${n}-${c}-${s}-${u}-${e}`:t[c][s][u][e]=void 0)}}}}var o,i;return t})(e);return{color:a,component:l,variant:qa,modifier:Ya,rawColor:r,sound:n}},Za=Ja(null);function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach((function(t){nr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nr(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ar=(0,a.createContext)({registerCollection:()=>{}}),rr={id:void 0,tokens:Za},lr=(0,a.createContext)(rr),or=()=>{const e=(0,a.useContext)(lr);return null==e.id&&console.error("Trying to use tokens context outside of provider."),e.tokens},ir=Array.from(document.querySelectorAll(`head style[id^="${za}"]`)).reduce(((e,t)=>tr(tr({},e),{},{[t.id.replace(za,"")]:t})),{}),cr=({children:e})=>{const t=(0,a.useRef)(ir),n=(0,a.useRef)({}),r=(0,a.useMemo)((()=>({registerCollection:e=>{if(null!=t.current[e.id])return;const a=(r=e.id,`${za}${r}`);var r;const l=document.querySelector(`head style[id="${a}"]`);null!=l&&document.head.removeChild(l);const o=document.createElement("style");o.id=a,o.innerHTML=(e=>{const t=(e=>{const t=[],n=(e,a)=>{if(null!=e&&"object"==typeof e)if(Ua(e))Sa.forEach((n=>{null!=e[n]&&t.push({path:[...a,Ha(n)],value:e[n]})}));else for(const t in e)n(e[t],[...a,t])};return n(e.color,[e.id]),n(e.component,[e.id]),t})(e);return Ga(t)})(e),document.head.appendChild(o),t.current[e.id]=o,n.current[e.id]=e}})),[]);return a.createElement(ar.Provider,{value:r},e)},sr=({collection:e,children:t})=>{const n=(0,a.useContext)(ar),r=null==n?void 0:n.registerCollection,l=(0,a.useContext)(lr);(0,a.useEffect)((()=>{null!=e&&null!=r&&r(e)}),[e,r]);const o=(0,a.useMemo)((()=>{const t=((e,t)=>{if(null==e)return Za;const n=e.id;return null==Qa[n]&&(Qa[n]=Ja(e,t)),Qa[n]})(e,l.tokens);return{id:null==e?void 0:e.id,tokens:t}}),[e,l]);return null==e?a.createElement(a.Fragment,null,t):a.createElement(lr.Provider,{value:o},t)},ur=e=>{const t={id:e.id,color:{},component:e.component,sound:{}};for(const f of ca){var n,a;if(t.sound[f]=(null===(n=e.sound)||void 0===n?void 0:n[f])||(null===(a=e.sound)||void 0===a?void 0:a.neutral)||{},e.color[f]){t.color[f]={};for(const n of fa){var r;const a=e.color[f],g=null===(r=e.color)||void 0===r?void 0:r.neutral,E=null==a?void 0:a[n];if(Da(n)){for(const e of da)if(Ba(E,e)||null==E&&e===sa){var l,o,i,c,s,u;t.color[f][n]=null!==(l=t.color[f][n])&&void 0!==l?l:{};const a=null==E?void 0:E[e],r=null==E?void 0:E.regular,d=(null==g||null===(o=g[n])||void 0===o?void 0:o[e])||(null==g||null===(i=g[n])||void 0===i?void 0:i.regular);t.color[f][n][e]=null!==(c=null!=a?a:r)&&void 0!==c?c:d;const m=null!==(s=null!==(u=null==a?void 0:a.disabled)&&void 0!==u?u:null==r?void 0:r.disabled)&&void 0!==s?s:null==d?void 0:d.disabled;null!=m&&(t.color[f][n][e].disabled=m)}}else if(a){const e=null!=E?E:null==g?void 0:g[n];if(Ua(e)){var d,m,p;t.color[f][n]=null!==(d=t.color[f][n])&&void 0!==d?d:{},t.color[f][n]=e;const a=null!==(m=null==e?void 0:e.disabled)&&void 0!==m?m:null==g||null===(p=g[n])||void 0===p?void 0:p.disabled;null!=a&&(t.color[f][n].disabled=a)}}}}}return t};function dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(n),!0).forEach((function(t){pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pr(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const fr=e=>{const t=Sa.reduce(((t,n)=>mr(mr({},t),{},{[n]:e})),{});return fa.reduce(((e,n)=>Da(n)?mr(mr({},e),{},{[n]:da.reduce(((e,n)=>mr(mr({},e),{},{[n]:t})),{})}):mr(mr({},e),{},{[n]:t})),{})},gr=(e,t)=>La.reduce(((n,a)=>mr(mr({},n),{},{[a]:`${e}.${t}.${a}`})),{}),Er=e=>ca.reduce(((t,n)=>{const a=Array.isArray(Ra[e])?Ra[e]:[];return mr(mr({},t),{},{[n]:a.reduce(((e,t)=>mr(mr({},e),{},{[t]:{}})),{})})}),{}),hr=({defineComponentsCollection:e})=>{const t="mockTokens",n=e?_a.reduce(((e,t)=>mr(mr({},e),{},{[t]:Er(t)})),{}):void 0;return ur({id:t,color:ca.reduce(((e,t)=>mr(mr({},e),{},{[t]:fr("mock")})),{}),sound:ca.reduce(((e,n)=>mr(mr({},e),{},{[n]:gr(t,n)})),{}),component:n})};function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){yr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yr(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fr(e){const t=or(),n=Ka(),a="inherit"===e?n:e;return null==a?br(br({},t.color),{},{inherit:t.color[n]}):t.color[a]}function Sr(e){const t=or(),n=Ka(),a="inherit"===e?n:e;return null==a?br(br({},t.rawColor),{},{inherit:t.rawColor[n]}):t.rawColor[a]}function Cr(e){const t=or(),n=Ka(),a="inherit"===e?n:e;return null==a?br(br({},t.sound),{},{inherit:t.sound[n]}):t.sound[a]}function Mr(e,t){const n=or(),a=Ka(),r="inherit"===t?a:t;return null==r?br(br({},n.component[e]),{},{inherit:n.component[e][a]}):n.component[e][r]}function wr(){return or().variant}function kr(){return or().modifier}hr({defineComponentsCollection:!1}),hr({defineComponentsCollection:!0}),ur({id:"example",sound:{neutral:{reject:"note.bass",press:"random.click",contract:"random.click",expand:"random.click",toggle:"random.click",lift:"random.click",click:"random.click"},primary:{press:"tokens.vanilla.release"}},color:{neutral:{background:{default:"red",hovered:"red",pressed:"red",disabled:"red"},text:{dimmer:{default:"red",disabled:"red"},dimmest:{default:"red"},regular:{default:"red",disabled:"red"}},shadow:{default:"red",disabled:"red"},dropShadow:{default:"red"},icon:{regular:{default:"red",disabled:"red"},dimmer:{default:"red"},dimmest:{default:"red"}},border:{regular:{default:"red",disabled:"red"}},caret:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}},bevel:{default:{top:"red",bottom:"red"}},outline:{default:"red"},highlight:{default:"transparent",hovered:"red"},overlay:{default:"red"}},neutral20:{background:{default:"red",hovered:"red",pressed:"red"},shadow:{default:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red"}},outline:{default:"red"},specular:{default:{top:"red",bottom:"red"}}},neutral50:{background:{default:"red",hovered:"red",pressed:"red"},border:{regular:{default:"red",disabled:"red"}},overlay:{default:"red"}},neutral60:{background:{default:"red",hovered:"red",pressed:"red"},border:{dimmest:{default:"red"}},text:{regular:{default:"red"}}},neutral80:{background:{default:"red",hovered:"red",selected:"red",pressed:"red"},shadow:{default:"red"},text:{regular:{default:"red"},dimmer:{default:"red"},dimmest:{default:"red"}},caret:{regular:{default:"red"}},bevel:{default:{top:"red",bottom:"red"},hovered:{top:"red",bottom:"red"},pressed:{top:"red",bottom:"red"},selected:{top:"red",bottom:"red"}}},neutral100:{background:{default:"red"},text:{regular:{default:"red"},dimmer:{default:"red"},dimmest:{default:"red"}}},primary:{background:{default:"red",hovered:"red",pressed:"red"},shadow:{default:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red",disabled:"red"}},border:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}}},primaryTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},secondary:{background:{default:"red",hovered:"red",pressed:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red"}},shadow:{default:"red"},border:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}}},success:{background:{default:"red"},text:{regular:{default:"red"}}},successTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},informative:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},informativeTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},destructive:{background:{default:"red",hovered:"red",pressed:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red"}},shadow:{default:"red"},specular:{default:{top:"red",bottom:"red"}}},destructiveTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},notice:{background:{default:"red"}},noticeTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},paper:{background:{default:"red"},text:{regular:{default:"red",disabled:"red"}},icon:{regular:{default:"red",disabled:"red"}},border:{regular:{default:"red",disabled:"red"}},caret:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}},bevel:{default:{top:"red",bottom:"red"}},outline:{default:"red"},highlight:{default:"transparent",hovered:"red"}}},component:{panel:{neutral:{main:{default:{borderImageSlice:"27 27 27 26 fill",borderImageWidth:"4rem",borderImageSource:"panel"},hovered:{borderImageSlice:"27 27 27 26 fill",borderImageWidth:"4rem",borderImageSource:"panel"}}}},pressable:{primary:{main:{default:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryDefault"},hovered:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryHovered"},pressed:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryPressed"},disabled:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryDisabled"},focused:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryFocused"}}}}}});const Tr=({state:e,api:t,children:n})=>a.createElement(o.Provider,{value:t},a.createElement(l.Provider,{value:e},n)),Ir=(0,r.sharedFacet)("core.router"),Pr=(e,...t)=>$n.trigger(e,...t);function xr({children:e,keyboardGamepadMap:t}){const n=(0,r.useSharedFacet)(Ir),l=(0,a.useRef)(""),o=(0,a.useRef)(""),i=(0,a.useRef)(!1);(0,r.useFacetEffect)((e=>{if(!i.current){const t=e.history.action;if("POP"===t)l.current=o.current,o.current="";else if("PUSH"===t){const t=e.history.list.length,n=e.history.list[t-1];n&&(o.current=n.pathname,l.current="")}}i.current=!1}),[],[n]);const c=(0,r.useFacetMap)((e=>{const t=e.history.list;return{length:e.history.length,action:e.history.action,list:0===t.length?[{pathname:"/__INVALID_ROUTE__",hash:"",search:"",state:""}]:t}}),[],[n]),s=(0,r.useFacetRef)((0,r.useFacetMap)((e=>{const t=e.history.list,n=t[t.length-1];return null==n?"":n.pathname}),[],[n]),""),u=(0,r.useFacetCallback)((({history:e})=>()=>{s.current!=l.current?(l.current=s.current,o.current="",i.current=!0,e.goBack()):console.warn("JAVASCRIPT:Attempting to go back from the same location multiple times consecutively.")}),[l,s],[n]),m=(0,r.useFacetCallback)((({history:e})=>t=>{const n=(e=>{const t=e.indexOf("?"),n=e.indexOf("#");let a=-1;return-1!==t?a=t:-1!==n&&(a=n),-1!==a?e.substring(0,a):e})(t);n!=o.current?(o.current=n,l.current="",i.current=!0,e.push(t)):console.warn("JAVASCRIPT:Attempting to push the same route multiple times consecutively.")}),[],[n]),p=(0,r.useFacetCallback)((({history:e})=>t=>{e.replace(t)}),[],[n]),f=(0,r.useFacetCallback)((({history:e})=>t=>{s.current!=l.current?(l.current=s.current,o.current="",e.go(t)):console.warn("Attempting to go back from the same location multiple times consecutively.")}),[l,s],[n]),g=(0,a.useMemo)((()=>({goBack:u,push:m,replace:p,go:f})),[u,m,p,f]),E=(0,a.useCallback)((()=>{Pr("core:telemetry:eventfulNavigation")}),[]),h=ra(),v=ia(),b=Cr("neutral"),y=null==b?void 0:b.reject,F=(0,a.useCallback)((()=>{v&&null!=y&&(h(y,0,.5,.75),Pr("core:telemetry:uneventfulNavigation"))}),[v,h,y]),S=(0,a.useCallback)((e=>c.observe((({list:t})=>{const n=t[t.length-1];if(null==n)return;const a=function(e,t=!1){const n=new d(t?e.hash:e.search),a=n.get("alias");if("string"==typeof a&&0!==a.length)return a;const r=n.get("nodeId");return null!=r?parseInt(r,10):void 0}(n);null!=a&&e(a)}))),[c]);return a.createElement(Qn,{notifyFocusRequest:S,onFocusedIdChangeFail:F,onFocusedIdChange:E,keyboardGamepadMap:t},a.createElement(Tr,{state:c,api:g},e))}const Or=(0,r.createStaticFacet)("PUSH"),Ar=(0,r.createStaticFacet)(!1),Nr=({route:e,component:t,transitionComponent:n,alwaysMounted:l,disabledCached:o,match:i=Ar,action:c=Or})=>{const u=(0,r.useFacetWrap)(i),d=(0,r.useFacetMap)((e=>0!=e),[],[u]),m=t,p=n;return a.createElement(Rr,{route:e},a.createElement(s.Provider,{value:(0,r.useFacetMap)((e=>0!=e?e.params:r.NO_VALUE),[],[u])},a.createElement(x,{value:d},a.createElement(p,{visible:d,alwaysMounted:l,unmountOnExit:(0,r.useFacetMap)((e=>!!o||"POP"===e),[o],[c]),contentComponent:m,inverse:(0,r.useFacetMap)((e=>"POP"===e),[],[c])}))))},Rr=({route:e,children:t})=>{const n=(0,a.useContext)(l),o=(0,a.useMemo)((()=>v(e)),[e]),i=(0,r.useFacetMemo)((({list:e})=>null!=e.find((({pathname:t},n)=>n!=e.length-1&&o(t)))),[o],[n]);return a.createElement(c.Provider,{value:i},t)},_r={base:"qp8dp",exited:"Al8HR"};var Lr=n(69931),Dr=n.n(Lr);function Wr({children:e,active:t}){return a.createElement(x,{value:t},e)}const Br=()=>p(),Ur=(0,a.createContext)({block:()=>{},unblock:()=>{},contentfulPaint:()=>{},meaningfulPaint:()=>{}});function zr(){return(0,a.useContext)(Ur)}let jr=0;function Hr({type:e,renderingCompleted:t}){const n=zr(),l=Br(),o=(0,a.useMemo)((()=>jr++),[]);return(0,r.useFacetEffect)(((t,a)=>{if(!t)return n.unblock(o,e);a?n.unblock(o,e):n.block(o,e)}),[o,n,e],[l,(0,r.useFacetWrap)(t)]),null}function Vr(e){if(!e.map((e=>e.get())).reduce(((e,t)=>e&&t!==r.NO_VALUE),!0))return r.NO_VALUE}const Gr=({children:e,disabled:t,hidden:n})=>{const l=(0,a.useContext)(Pe),o=(0,a.useMemo)((()=>l.current.generateId()),[l]),i=(0,r.useFacetWrap)(t),c=(0,r.useFacetWrap)(n),s=(0,a.useContext)(D),u=s[s.length-1],d=(0,a.useRef)();(0,a.useMemo)((()=>{var e;if(Vr([i,c])===r.NO_VALUE&&!l.current.getElement(o)){const e={id:o,type:$.FOCUS_GROUP,disabled:!0,hidden:!0};l.current.putNode(e,u)}null===(e=d.current)||void 0===e||e.call(d),d.current=(0,r.multiObserve)(((e,t)=>{const n={id:o,type:$.FOCUS_GROUP,disabled:!0===e,hidden:!0===t};l.current.putNode(n,u)}),[i,c])}),[o,l,u,i,c]),(0,a.useEffect)((()=>()=>{var e;null===(e=d.current)||void 0===e||e.call(d)}),[]),(0,a.useEffect)((()=>()=>l.current.removeNode(o)),[l,o]);const m=[...s,o],p=(0,a.useMemo)((()=>({children:e})=>a.createElement(D.Provider,{value:m},e)),m);return a.createElement(p,null,e)},$r=(0,r.createStaticFacet)(!1);function Kr({visible:e,unmountOnExit:t=$r,alwaysMounted:n,contentComponent:l}){const o=(0,r.useFacetWrap)(e),i=(0,r.useFacetMap)((e=>!e),[],[o]),c=(0,a.useMemo)((()=>a.memo(l)),[l]),s=(0,a.useRef)(!1),u=(0,r.useFacetCallback)((e=>t=>{const a=n||(e?t:s.current||t);return s.current=a,a}),[n],[(0,r.useFacetWrap)(t)]),d=(0,r.useFacetMap)((e=>u(e)),[u],[o]);return a.createElement(r.Mount,{when:d},a.createElement(x,{value:o},a.createElement(Gr,{disabled:i},a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>Dr()(_r.base,{[_r.entered]:e,[_r.exited]:!e})),[],[o])},a.createElement(Hr,{type:"contentful",renderingCompleted:o}),a.createElement(c,null)))))}function Xr(){return Xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xr.apply(this,arguments)}const Yr=()=>m(),qr=()=>{const e=(0,r.useFacetUnwrap)(f());return e===r.NO_VALUE?{}:e},Qr=e=>{var t;return a.createElement(Nr,Xr({},e,{transitionComponent:null!==(t=e.transitionComponent)&&void 0!==t?t:Kr}))},Jr={[Ke.IOS]:He.HANDHELD_SCREEN_TYPE,[Ke.GOOGLE]:He.HANDHELD_SCREEN_TYPE,[Ke.AMAZON_HANDHELD]:He.HANDHELD_SCREEN_TYPE,[Ke.UWP]:He.DESKTOP_SCREEN_TYPE,[Ke.XBOX]:He.TV_SCREEN_TYPE,[Ke.NX_HANDHELD]:He.HANDHELD_SCREEN_TYPE,[Ke.PS4]:He.TV_SCREEN_TYPE,[Ke.WIN32]:He.DESKTOP_SCREEN_TYPE,[Ke.MACOS]:He.DESKTOP_SCREEN_TYPE,[Ke.NX_TV]:He.TV_SCREEN_TYPE,[Ke.PS5]:He.TV_SCREEN_TYPE},Zr={[Ke.IOS]:Ye.XBOX,[Ke.GOOGLE]:Ye.XBOX,[Ke.AMAZON_HANDHELD]:Ye.XBOX,[Ke.UWP]:Ye.XBOX,[Ke.XBOX]:Ye.XBOX,[Ke.NX_HANDHELD]:Ye.SWITCH,[Ke.PS4]:Ye.PS,[Ke.WIN32]:Ye.XBOX,[Ke.MACOS]:Ye.XBOX,[Ke.NX_TV]:Ye.SWITCH,[Ke.PS5]:Ye.PS},el=e=>e===Ge.GAMEPAD||e===Ge.KEYBOARD,tl=e=>e===Ge.MOUSE||e===Ge.TOUCH;function nl({lastInputMethodUsed:e,supportedInputMethods:t,platform:n,arvrPlatform:l,children:o}){const i=((e,t,n)=>{const l=((e,t)=>{const[n,l]=(0,r.useFacetState)(null),o=(0,a.useRef)(!1);return(0,r.useFacetEffect)(((e,t,n)=>{o.current||null!=t?tl(e)&&t!=e&&l(e):(o.current=!0,l(((e,t)=>{if(tl(e))return e;switch(t){case Ke.WIN32:case Ke.MACOS:return Ge.MOUSE;case Ke.NX_HANDHELD:case Ke.IOS:case Ke.GOOGLE:case Ke.AMAZON_HANDHELD:return Ge.TOUCH;default:return null}})(e,n)))}),[l],[e,n,t]),n})(e,n),o=((e,t)=>{const[n,l]=(0,r.useFacetState)(null),o=(0,a.useRef)(!1);return(0,r.useFacetEffect)(((e,t,n)=>{o.current||null!=t?el(e)&&t!=e&&l(e):(o.current=!0,l(((e,t)=>{if(el(e))return e;switch(t){case Ke.WIN32:case Ke.MACOS:case Ke.UWP:return Ge.KEYBOARD;case Ke.XBOX:case Ke.NX_HANDHELD:case Ke.PS4:case Ke.NX_TV:case Ke.PS5:return Ge.GAMEPAD;default:return null}})(e,n)))}),[l],[e,n,t]),n})(e,n);return{isPointerInputMouse:(0,r.useFacetMemo)((e=>e===Ge.MOUSE),[],[l]),isPointerInputTouch:(0,r.useFacetMemo)((e=>e===Ge.TOUCH),[],[l]),isPointerInputAvailable:(0,r.useFacetMemo)((e=>null!=e),[],[l]),isFocusInputGamepad:(0,r.useFacetMemo)((e=>e===Ge.GAMEPAD),[],[o]),isFocusInputKeyboard:(0,r.useFacetMemo)((e=>e===Ge.KEYBOARD),[],[o]),isFocusInputAvailable:(0,r.useFacetMemo)((e=>null!=e),[],[o]),isLastInputMouse:(0,r.useFacetMemo)((e=>e===Ge.MOUSE),[],[e]),isLastInputTouch:(0,r.useFacetMemo)((e=>e===Ge.TOUCH),[],[e]),isLastInputGamepad:(0,r.useFacetMemo)((e=>e===Ge.GAMEPAD),[],[e]),isLastInputKeyboard:(0,r.useFacetMemo)((e=>e===Ge.KEYBOARD),[],[e]),isLastInputPointer:(0,r.useFacetMemo)((e=>e===Ge.MOUSE||e===Ge.TOUCH),[],[e]),isLastInputFocus:(0,r.useFacetMemo)((e=>e===Ge.KEYBOARD||e===Ge.GAMEPAD),[],[e]),isGamepadSupported:(0,r.useFacetMemo)((e=>e.includes(Ge.GAMEPAD)),[],[t]),isKeyboardSupported:(0,r.useFacetMemo)((e=>e.includes(Ge.KEYBOARD)),[],[t]),isMouseSupported:(0,r.useFacetMemo)((e=>e.includes(Ge.MOUSE)),[],[t]),isTouchSupported:(0,r.useFacetMemo)((e=>e.includes(Ge.TOUCH)),[],[t]),isPointerSupported:(0,r.useFacetMemo)((e=>{for(let t=0;t<e.length;t++)if(tl(e[t]))return!0;return!1}),[],[t]),isFocusSupported:(0,r.useFacetMemo)((e=>{for(let t=0;t<e.length;t++)if(el(e[t]))return!0;return!1}),[],[t])}})(e,t,n),c=(0,r.useFacetMemo)((e=>function(e){return Jr[e]}(e)),[],[n]),s=(0,r.useFacetMemo)((e=>function(e){return Zr[e]}(e)),[],[n]);return function(e){(0,r.useFacetEffect)((e=>{e===Ge.MOUSE?document.body.style.cursor="auto":document.body.style.cursor="none"}),[],[e])}(e),a.createElement(qe.Provider,{value:i},a.createElement(Qe.Provider,{value:n},a.createElement(Je.Provider,{value:l},a.createElement(Ze.Provider,{value:c},a.createElement(et.Provider,{value:s},o)))))}const al=(e,t,n,a,l=!1)=>(0,r.useFacetMap)(((t,n)=>l||a.current===e&&t===Ge.KEYBOARD&&n.includes(e)),[e,a,l],[t,n]),rl=(e,t,n)=>{const{supportedInputMethods:l,setKeyboardIsSupported:o}=(e=>{const[t,n]=(0,r.useFacetState)([]),l=(0,a.useRef)(!1),o=(0,r.useFacetCallback)((e=>()=>{if(!l.current){l.current=!0;const t=Array.from(e);t.push(Ge.KEYBOARD),n(t)}}),[n],[t]);return(0,r.useFacetEffect)(((e,t)=>{if((l.current?e.length-1:e.length)!==t.length||!t.every((t=>e.includes(t)))){const e=Array.from(t);l.current&&e.push(Ge.KEYBOARD),n(e)}}),[n],[t,e]),{supportedInputMethods:t,setKeyboardIsSupported:o}})(t),[i,c,s]=(e=>{const t=(0,r.useFacetState)(null),[n,l]=t,o=(0,a.useRef)(null),i=(0,a.useCallback)((e=>{l((t=>t===e?t:(t!==r.NO_VALUE&&(o.current=t),e)))}),[l]);return(0,r.useFacetEffect)((e=>{null!=e&&i(e)}),[i],[e]),[n,i,o]})(e),u=al(Ge.MOUSE,i,l,s,null==n?void 0:n.trackAllUserInput),d=al(Ge.TOUCH,i,l,s,null==n?void 0:n.trackAllUserInput),m=al(Ge.GAMEPAD,i,l,s,null==n?void 0:n.trackAllUserInput),p=(0,r.useFacetMap)((e=>e!==Ge.KEYBOARD),[],[i]);var f,g;return function(e,t,n){const l=(e=>{const t=(0,a.useRef)(-1);return(0,r.useFacetEffect)((e=>{if(!e)return;const n=e=>{t.current=e.timeStamp};return window.addEventListener("touchend",n),()=>{window.removeEventListener("touchend",n)}}),[],[e]),t})((0,r.useFacetMap)((e=>e.includes(Ge.MOUSE)&&e.includes(Ge.TOUCH)),[],[n])),o=(0,a.useRef)(null);(0,r.useFacetEffect)((e=>{if(!e)return void(o.current=null);const n=e=>l.current===e.timeStamp,a=e=>{const a=[e.clientX,e.clientY];if(!o.current)return void(o.current=a);const r=Math.abs(a[0]-o.current[0]),l=Math.abs(a[1]-o.current[1]);if(Math.sqrt(Math.pow(r,2)+Math.pow(l,2))>10){if(o.current=null,n(e))return;t()}},r=e=>{3!==e.button&&(n(e)||t())},i=()=>{t()};return window.addEventListener("mousemove",a),window.addEventListener("mousedown",r),window.addEventListener("wheel",i),()=>{window.removeEventListener("mousemove",a),window.removeEventListener("mousedown",r),window.removeEventListener("wheel",i)}}),[t,l],[e])}(u,(()=>{c(Ge.MOUSE)}),t),f=d,g=()=>{c(Ge.TOUCH)},(0,r.useFacetEffect)((e=>{if(e)return window.addEventListener("touchstart",g),window.addEventListener("touchend",g),()=>{window.removeEventListener("touchstart",g),window.removeEventListener("touchend",g)}}),[g],[f]),((e,t)=>{(0,r.useFacetEffect)((e=>{if(e)return window.addEventListener("keyup",t),()=>{window.removeEventListener("keyup",t)}}),[t],[e])})(p,(()=>{o(),c(Ge.KEYBOARD)})),function(e,t){(0,r.useFacetEffect)((e=>{if(e)return(e=>{const t=Kn("engine:gamepad:onPress",(()=>{e()})),n=Kn("engine:gamepad:onJoystickMovement",(()=>{e()}));return()=>{t(),n()}})(t)}),[t],[e])}(m,(()=>{c(Ge.GAMEPAD)})),{lastInputMethodUsed:i,supportedInputMethods:l}};let ll,ol;!function(e){e[e.NONE=0]="NONE",e[e.EXTERNAL=1]="EXTERNAL",e[e.APPDATA=2]="APPDATA"}(ll||(ll={})),function(e){e[e.XboxLive=0]="XboxLive",e[e.Nintendo=1]="Nintendo",e[e.AdHoc=2]="AdHoc",e[e.Playstation=3]="Playstation",e[e.EDU=4]="EDU",e[e.Mock=5]="Mock",e[e.Undefined=-1]="Undefined"}(ol||(ol={}));const il=(0,r.sharedFacet)("core.deviceInformation");function cl(e){let{children:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["children"]);const l=(0,r.useSharedFacet)(il),o=(0,r.useSharedFacet)(jn),i=(0,r.useFacetMap)((e=>e.currentInputType),[],[o]),c=(0,r.useFacetMap)((e=>e.inputMethods),[],[l]),s=(0,r.useFacetMap)((e=>e.platform),[],[l]),u=(0,r.useFacetMap)((e=>e.arvrPlatform),[],[l]),{lastInputMethodUsed:d,supportedInputMethods:m}=rl(i,c,n);return a.createElement(nl,{platform:s,arvrPlatform:u,lastInputMethodUsed:d,supportedInputMethods:m},t)}function sl({children:e,errorComponent:t,dismissTimeout:n}){const[r,l]=(0,a.useState)(null),o=(0,a.useCallback)((e=>{l(e),$n.trigger("core:exception")}),[]),i=(0,a.useCallback)((()=>{l(null)}),[]);return null==t?a.createElement(a.Fragment,null,"children"):a.createElement(ul,{onError:o},r?a.createElement(dl,{dismissTimeout:null!=n?n:4e4,errorMessage:void 0,errorComponent:t,onDismiss:i}):e)}(0,r.sharedSelector)((e=>e.platform===Ke.PS4||e.platform===Ke.PS5),[il]);class ul extends a.Component{static getDerivedStateFromError(){}componentDidCatch(e){this.props.onError(e)}render(){return this.props.children}}function dl({errorComponent:e,errorMessage:t,onDismiss:n,dismissTimeout:l}){const o=(0,r.useFacetUnwrap)((0,r.useSharedFacet)(Ir)),i=(0,a.useCallback)((()=>{null!=o&&o!==r.NO_VALUE&&o.history.goBack(),requestAnimationFrame(n)}),[o,n]);return(0,a.useEffect)((()=>{if(null!=l&&l!==Number.POSITIVE_INFINITY){const e=setTimeout(i,l);return()=>clearTimeout(e)}}),[o,i,l]),a.createElement(e,{errorMessage:t,onDismiss:i})}const ml=(0,a.createContext)([]),pl=ml.Provider;pl.displayName="FeatureFlagsProvider";const fl=(0,r.sharedFacet)("core.featureFlags");function gl({children:e}){const t=(0,r.useFacetUnwrap)((0,r.useSharedFacet)(fl)),n=t===r.NO_VALUE?[]:t.flags;return a.createElement(pl,{value:n},e)}var El=n(63624),hl=n.n(El);const vl=e=>`${e}`,bl=(0,a.createContext)({translationPrefix:"hbui",translate:e=>e,formatDate:vl,getHowLongAgoAsString:vl,locale:"en-US",isRtl:!1});function yl({translationPrefix:e,translate:t,formatDate:n,getHowLongAgoAsString:r,children:l,locale:o}){const i=(0,a.useMemo)((()=>"rtl"===hl().getLangDir(o)),[o]),c=(0,a.useMemo)((()=>({translationPrefix:e,translate:t,formatDate:n,getHowLongAgoAsString:r,locale:o,isRtl:i})),[e,t,n,r,o,i]);return a.createElement(bl.Provider,{value:c},l)}const Fl=(0,r.sharedFacet)("core.locale"),Sl=(0,r.sharedSelector)((e=>({set locale(t){null!=e&&(e.locale=t)},get locale(){return e.locale},translate:e.translate.bind(e),translateWithParameters:e.translateWithParameters.bind(e),formatDate:e.formatDate.bind(e),getHowLongAgoAsString:e.getHowLongAgoAsString.bind(e)})),[Fl]);function Cl({children:e}){const t=(0,r.useFacetUnwrap)((0,r.useSharedFacet)(Sl)),n=(0,a.useCallback)(((e,n)=>t===r.NO_VALUE?e:null!=n?t.translateWithParameters(e,n):t.translate(e)),[t]);return t!==r.NO_VALUE?a.createElement(yl,{translationPrefix:"hbui",locale:t.locale,translate:n,formatDate:t.formatDate,getHowLongAgoAsString:t.getHowLongAgoAsString},e):null}var Ml=n(68912);const wl=({data:e,children:t})=>{const n=(0,Ml.useFacetUnwrap)(e);return n===Ml.NO_VALUE?null:t(n)},kl=(0,a.createContext)({previousAncestryRef:{current:[]},narrationTree:{},generateId:()=>"0",readById:()=>{},readText:()=>{},clear:()=>{}}),Tl=kl.Provider,Il=(0,a.createContext)((()=>{console.warn("resetNarrationContext not provided")})),Pl=()=>(0,a.useContext)(Il),xl=({children:e,disabled:t=!1,narrationTree:n,driver:l,isIdle:o=!0,shouldUseQueueSystem:i,shouldInterrupt:c})=>{const s=(0,a.useRef)(0),u=(0,r.useFacetWrap)(t),d=(0,r.useFacetRef)(u),[m,p]=(0,r.useFacetState)([]),f=(0,r.useFacetWrap)(o),g=(0,r.useFacetWrap)(null!=i&&i),E=(0,r.useFacetWrap)(null!=c&&c),h=(0,a.useRef)({root:{text:"",parentNarrationId:""}}),v=(0,a.useRef)([]),b=(0,a.useRef)([]),y=n||h.current;(0,r.useFacetEffect)(((e,t)=>{if(t.length>0&&(e||!e&&t[0].itemShouldInterrupt)){const[e,...n]=t;e.run(),p(n)}}),[p,d,l],[f,m]);const F=(0,a.useCallback)((()=>""+s.current++),[]),S=(0,r.useFacetCallback)((e=>()=>{e||l.clear()}),[l],[u]),C=(0,r.useFacetCallback)(((e,t,n)=>(a,o={outOfGame:!0,inGame:!0},i=!0,c=!1,s=!1)=>{if(n)return;const u={run:()=>{l.read(a,o,i,c,s)},itemShouldInterrupt:t};if(e){if(t)return void p([u]);p((e=>e!==r.NO_VALUE?[...e,u]:[u]))}else u.run()}),[l,p],[g,E,u]),M=(0,r.useFacetCallback)(((e,t,n)=>(a,o={outOfGame:!0,inGame:!0},i=!0,c=!1,s=!1)=>{if(e)return;const u={run:()=>{const e=y[a];if(null==e)return;const t=v.current,n=((e,t)=>{const n=[];let a=t;for(;null!=a;){const t=e[a];if(null==t)break;n.push(a),a=null==t?void 0:t.parentNarrationId}return n.reverse()})(y,a);v.current=n;const u=((e,t)=>t.map((t=>{const n=e[t];if(null==n)return"";if(null!=n.text)return n.text.trim();const{getText:a}=n;if(null==a)return"";const l=a();return(l===r.NO_VALUE?"":l).trim()})).filter(Boolean))(y,n),d=((e,t,n,a)=>{if(0===t.length)return e;if(e.length<=t.length&&e.every(((e,n)=>e===t[n]))){if(n.length<=a.length&&n.every(((e,t)=>e===a[t])))return[e[e.length-1]];let t=0;for(;t<n.length&&t<a.length&&n[t]===a[t];)t++;return e.slice(t)}let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;return e.length<t.length&&r>=t.length-1?[e[e.length-1]]:e.slice(r)})(u,b.current,n,t).join(" . ");b.current=u;const{getSuffix:m}=e,p=null!=m?m():"",f=p===r.NO_VALUE?"":p,g=""!==f?d+" . "+f:d;l.read(g,o,i,c,s)},itemShouldInterrupt:n};if(t){if(n)return void p([u]);p((e=>e!==r.NO_VALUE?[...e,u]:[u]))}else u.run()}),[l,y,p],[u,g,E]),w=(0,a.useCallback)((()=>{v.current=[]}),[]);return(0,r.useFacetEffect)((e=>{!0===e&&S()}),[S],[u]),a.createElement(Il.Provider,{value:w},a.createElement(Tl,{value:(0,a.useMemo)((()=>({previousAncestryRef:v,narrationTree:y,generateId:F,readById:M,readText:C,clear:S})),[y,S,F,M,C])},a.createElement(wl,{data:u},(t=>a.createElement(oa,{value:!t},e)))))};let Ol;!function(e){e[e.NONE=0]="NONE",e[e.UI_FRONT_END=1]="UI_FRONT_END",e[e.UI_IN_GAME=2]="UI_IN_GAME",e[e.ALL_UI=e.UI_FRONT_END|e.UI_IN_GAME]="ALL_UI",e[e.IN_GAME_CHAT=4]="IN_GAME_CHAT",e[e.IN_GAME_ITEMS=8]="IN_GAME_ITEMS",e[e.IN_GAME_NAME=16]="IN_GAME_NAME",e[e.ALL=e.UI_FRONT_END|e.UI_IN_GAME|e.IN_GAME_CHAT|e.IN_GAME_ITEMS|e.IN_GAME_NAME]="ALL"}(Ol||(Ol={}));const Al=(0,r.sharedFacet)("core.screenReader"),Nl=e=>(t,n,a,r,l,o)=>{e.read(t,n,{__Type:"core.screenReaderOptions",canBeInterrupted:a,isRequired:r,shouldPlayInBackground:l,shouldPlayWhenPlatformTTSEnabled:o})};function Rl({children:e,shouldUseQueueSystem:t,narrationTree:n}){const l=(0,r.useSharedFacet)(Al),o=(0,r.useFacetMap)((e=>e.isUITextToSpeechEnabled),[],[l]),i=(0,r.useFacetMap)((e=>e.isIdle),[],[l]),c=(0,r.useFacetCallback)(Nl,[],[l]),s=(0,r.useFacetCallback)((e=>()=>e.clear()),[],[l]),u=Me(),d=(0,r.useFacetMap)((e=>e===W.FocusInput||e===W.PointerInput||e===W.URL),[],[u]),m=(0,r.useFacetCallback)((e=>(t,n,a,r,l)=>{Boolean(e)&&c(t,function(e){let t=0;return e.outOfGame&&(t+=Ol.UI_FRONT_END),e.inGame&&(t+=Ol.UI_IN_GAME),e.inGameChat&&(t+=Ol.IN_GAME_CHAT),e.inGameItem&&(t+=Ol.IN_GAME_ITEMS),e.inGameName&&(t+=Ol.IN_GAME_NAME),t}(n),a,r,l,!0)}),[c],[o]),p=(0,a.useMemo)((()=>({read:m,clear:()=>s()})),[m,s]),f=(0,r.useFacetMap)((e=>!e),[],[o]);return a.createElement(xl,{driver:p,disabled:f,isIdle:i,shouldUseQueueSystem:!0===t,shouldInterrupt:d,narrationTree:n},a.createElement(_l,null),e)}function _l(){return(()=>{const e=Pl(),t=(0,r.useFacetMap)((e=>e.history.list),[],[(0,r.useSharedFacet)(Ir)],(0,r.createUniformArrayEqualityCheck)(r.shallowObjectEqualityCheck));(0,r.useFacetEffect)((()=>{e()}),[e],[t])})(),null}function Ll({children:e,driver:t}){return a.createElement(ea,{value:t.play},e)}const Dl=(0,r.sharedFacet)("core.sound");function Wl({children:e}){const t=(0,r.useFacetUnwrap)((0,r.useSharedFacet)(Dl)),n=(0,a.useMemo)((()=>({play(e,n,a=1,l=1){let o,i;const c=()=>{null!=t&&t!==r.NO_VALUE?o=t.play(e,a,l):console.log("Bedrock Sound driver not yet initialized while playing",e)};return n>0?i=setTimeout(c,n):c(),()=>{null!=i&&clearTimeout(i),null!=t&&t!==r.NO_VALUE?t.isPlaying(o)&&t.fadeOut(o,0):console.log("Bedrock Sound driver not yet initialized while stopping",e)}}})),[t]);return a.createElement(Ll,{driver:n},e)}const Bl=(0,a.createContext)({top:0,bottom:0,left:0,right:0}),Ul=()=>(0,a.useContext)(Bl);let zl;!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(zl||(zl={}));const jl=(0,a.createContext)({numActivePlayers:1,direction:zl.HORIZONTAL,position:0});function Hl({children:e,numActivePlayers:t,direction:n=zl.HORIZONTAL,position:r}){const l=(0,a.useMemo)((()=>({numActivePlayers:t,direction:n,position:r})),[t,n,r]);return a.createElement(jl.Provider,{value:l},e)}function Vl(e,t,n){return Math.min(Math.max(e,t),n)}var Gl;function $l(e,t,n){switch(e){case 2:return 0===t||1===t&&n===Gl.VERTICAL;case 3:case 4:return 0===t||1===t;default:return!0}}function Kl(e,t,n){switch(e){case 2:return 1===t||0===t&&n===Gl.VERTICAL;case 3:return 2===t;case 4:return 2===t||3===t;default:return!0}}function Xl(e,t,n){switch(e){case 2:return 0===t||1===t&&n===Gl.HORIZONTAL;case 3:case 4:return 0===t||2===t;default:return!0}}function Yl(e,t,n){switch(e){case 2:return 1===t||0===t&&n===Gl.HORIZONTAL;case 3:return 1===t;case 4:return 1===t||3===t;default:return!0}}function ql({children:e,safeAreaX:t,safeAreaY:n,screenPositionX:r,screenPositionY:l}){const o=function(e,t,n,r){const l=(0,a.useContext)(jl),o=(0,a.useCallback)((()=>function(e,t,n,a){const r=Vl(e,.9,1),l=Vl(t,.9,1),o=Vl(n,-.1,.1),i=Vl(a,-.1,.1),c=window.innerWidth,s=window.innerHeight;return{top:Math.round((1-l+i)/2*s),bottom:Math.round((1-l-i)/2*s),left:Math.round((1-r+o)/2*c),right:Math.round((1-r-o)/2*c)}}(e,t,n,r)),[e,t,n,r]),i=(0,a.useCallback)((()=>function({top:e,bottom:t,left:n,right:a},{numActivePlayers:r,direction:l,position:o}){return{top:$l(r,o,l)?e:0,bottom:Kl(r,o,l)?t:0,left:Xl(r,o,l)?n:0,right:Yl(r,o,l)?a:0}}(o(),l)),[o,l]),[c,s]=(0,a.useState)(i);return(0,a.useEffect)((()=>{s(i);const e=()=>s(i);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[i]),c}(t,n,r,l);return a.createElement(Bl.Provider,{value:o},e)}!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(Gl||(Gl={}));const Ql=(0,r.sharedFacet)("core.safeZone");function Jl({children:e}){const t=(0,r.useFacetUnwrap)((0,r.useSharedFacet)(Ql));return null!=t&&t!==r.NO_VALUE?a.createElement(ql,{safeAreaX:t.safeAreaX,safeAreaY:t.safeAreaY,screenPositionX:t.screenPositionX,screenPositionY:t.screenPositionY},e):null}function Zl({children:e}){const t=(0,r.useFacetUnwrap)((0,r.useSharedFacet)(Gn));return null!=t&&t!==r.NO_VALUE?a.createElement(Hl,{numActivePlayers:t.numActivePlayers,direction:t.splitScreenDirection,position:t.splitScreenPosition},e):null}const eo=(0,a.createContext)((0,r.createFacet)({initialValue:!0})),to=eo.Provider,no=()=>(0,a.useContext)(eo),ao=(0,a.createContext)({theme:"vanilla",onSetTheme:()=>{}}).Provider,ro=(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[]),lo=(ro({},{},{},{},{},{}),ro({},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}),(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[])),oo=(lo({},{},{},{},{},{}),lo({},{},{},{},{}),lo({}),(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[])),io=(oo({}),oo({}),(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[])),co=(io({}),io({}),"#a0e081"),so="#6cc349",uo="#3c8527",mo="#1d4d13",po="#ffffff",fo="#000000",go="#d0d1d4",Eo="#b1b2b5",ho="#8c8d90",vo="#58585a",bo="#48494a",yo="#313233",Fo="#242425",So="#1e1e1f",Co="#ad1d1d",Mo="#ffe866",wo="rgba(0, 0, 0, 0.1)",ko="rgba(0, 0, 0, 0.3)",To="rgba(0, 0, 0, 0.4)",Io="rgba(0, 0, 0, 0.8)",Po="rgba(255, 255, 255, 0.1)",xo="rgba(255, 255, 255, 0.2)",Oo="rgba(255, 255, 255, 0.4)",Ao="rgba(255, 255, 255, 0.6)",No="#FB95E2",Ro="#AC90F3",_o="#4A1CAC";function Lo({children:e}){return a.createElement(ao,{value:{theme:"vanilla",onSetTheme:()=>{}}},e)}let Do,Wo,Bo=0;function Uo(e,t){for(let n=0;n<e.length;n++)if(t(e[n],n,e))return e[n]}var zo;!function(e){e[e.Clock=0]="Clock",e[e.Boots=1]="Boots",e[e.Pickaxe=2]="Pickaxe",e[e.Sword=3]="Sword"}(Do||(Do={})),(zo=Wo||(Wo={})).HoursPlayed="MinutesPlayed",zo.BlocksBroken="BlocksBrokenTotal",zo.MonstersKilled="MobKilled.IsMonster.1",zo.DistanceTraveled="DistanceTravelled";const jo=(0,r.sharedFacet)("vanilla.playerStatistics"),Ho="vanilla.achievementsReward";let Vo;var Go;(Go=Vo||(Vo={}))[Go.LOADING=0]="LOADING",Go[Go.LOADED=1]="LOADED";const $o=(0,r.sharedFacet)("vanilla.achievements"),Ko=(0,r.sharedSelector)((e=>ii(e.data.achievements)),[$o]),Xo=((0,r.sharedSelector)((e=>e.data.achievements.filter(ni)),[$o]),(0,r.sharedSelector)((e=>e.data.achievements.filter(ti).sort(ci)),[$o])),Yo=(0,r.sharedSelector)((e=>oi(e.data.achievements)),[$o]),qo=(0,r.sharedSelector)((e=>e.status===Vo.LOADED),[$o]),Qo=(0,r.sharedDynamicSelector)((e=>[(t,n)=>({isLoaded:n,achievement:Uo(t.data.achievements,(t=>t.id===e))}),[$o,qo]]));function Jo(){const e=(0,r.useSharedFacet)($o),t=(0,r.useSharedFacet)(jo);return(0,r.useFacetMap)(((e,t)=>{const n=t.data.find((e=>e.name===Wo.HoursPlayed)),a=null!=n?Math.floor(n.currentUserValueRaw/60):-1;return{loaded:e.status===Vo.LOADED,unlocked:e.data.achievementsUnlocked,total:e.data.maxAchievements,inProgressCount:e.data.achievements.filter(Zo).length,rewardsTotal:li(e.data.achievements),rewardsUnlocked:ri(e.data.achievements),gamerScore:e.data.currentGamerScore,maxGamerScore:e.data.maxGamerScore,hoursPlayed:a}}),[],[e,t])}function Zo(e){return e.isLocked&&e.progress>0}function ei(e){return!e.isLocked}function ti(e){return e.isLocked}function ni(e){return e.isLocked&&!e.progress}function ai(e){return!(e.isLocked&&!e.isRewardOwned)}function ri(e){return e.filter((e=>e.hasReward&&ai(e))).length}function li(e){return e.filter((e=>e.hasReward)).length}function oi(e){return e.filter(ei).sort(si)}function ii(e){const t=[],n=[],a=[],r=[];e.forEach((e=>{ni(e)?(a.push(e),r.push(e)):ei(e)?n.push(e):(t.push(e),r.push(e))})),t.sort(ci),r.sort(ui);const l=a,o=oi(n);return{inProgress:t,locked:l,completed:o,suggested:r}}function ci(e,t){return!e.hasReward&&t.hasReward?1:e.hasReward&&!t.hasReward?-1:e.progress<t.progress?1:e.progress>t.progress?-1:0}function si(e,t){return e.dateUnlocked<t.dateUnlocked?1:e.dateUnlocked>t.dateUnlocked?-1:0}function ui(e,t){return e.suggestedOrder-t.suggestedOrder}const di=(0,r.sharedFacet)("vanilla.buildSettings"),mi=(0,r.sharedSelector)((e=>e.isDevBuild),[di]),pi=(0,r.sharedSelector)((e=>e.isAnyBeta),[di]),fi=(0,r.sharedFacet)("vanilla.blockInformation"),gi=(0,r.sharedFacet)("vanilla.clipboard");function Ei(e,t){return e.major-t.major!=0?e.major-t.major:e.minor-t.minor!=0?e.minor-t.minor:e.patch-t.patch!=0?e.patch-t.patch:e.revision-t.revision!=0?e.revision-t.revision:0}let hi,vi;!function(e){e[e.UNASSIGNED_DEV_VERSION=0]="UNASSIGNED_DEV_VERSION",e[e.MEMBER_OF_TOO_MANY_REALMS=1]="MEMBER_OF_TOO_MANY_REALMS",e[e.CANNOT_CONNECT_TO_REALM=2]="CANNOT_CONNECT_TO_REALM",e[e.CROSS_PLATFORM_RESTRICTED=3]="CROSS_PLATFORM_RESTRICTED",e[e.UNKNOWN=4]="UNKNOWN"}(hi||(hi={})),function(e){e[e.NOT_ENOUGH_STORAGE=0]="NOT_ENOUGH_STORAGE",e[e.MISSING_CONTENT_KEY=1]="MISSING_CONTENT_KEY"}(vi||(vi={}));const bi=(0,r.sharedFacet)("vanilla.createNewWorld"),yi=((0,r.sharedSelector)((e=>e.isEditorWorld),[bi]),(0,r.sharedSelector)((e=>e.worldData.scriptingCoding),[bi]),(0,r.sharedSelector)((e=>e.worldData.cloudStorage),[bi]),(0,r.sharedSelector)((e=>e.worldData.classroom),[bi]),(0,r.createFacet)({initialValue:{userTriedToActivateToggle:!1,doSetToggleValue:()=>{},userHasAcceptedBetaFeatures:!1}}));let Fi;!function(e){e[e.CreatingPreviewRealm=0]="CreatingPreviewRealm",e[e.SuccessfullyCreatedPreviewRealm=1]="SuccessfullyCreatedPreviewRealm",e[e.RetrievingCreatedPreviewRealm=2]="RetrievingCreatedPreviewRealm",e[e.FailedToCreatePreviewRealm=3]="FailedToCreatePreviewRealm"}(Fi||(Fi={}));const Si=(0,r.sharedFacet)("vanilla.createPreviewRealmFacet"),Ci=(0,r.sharedFacet)("debug.worldTransfer"),Mi=(0,r.sharedFacet)("vanilla.debugSettings");let wi,ki;!function(e){e[e.OVERWORLD=0]="OVERWORLD",e[e.NETHER=1]="NETHER"}(wi||(wi={})),function(e){e[e.NameIsEmpty=0]="NameIsEmpty",e[e.AddressIsEmpty=1]="AddressIsEmpty",e[e.InvalidIpAddress=2]="InvalidIpAddress",e[e.InvalidPortNumber=3]="InvalidPortNumber",e[e.UnknownError=4]="UnknownError",e[e.IdNotFound=5]="IdNotFound"}(ki||(ki={}));const Ti=(0,r.sharedFacet)("vanilla.externalServerWorldList"),Ii={MarketplaceDiscoveryProduction:"vanilla.marketplace.discovery.prod",FriendsDrawer:"vanilla.friendsDrawer",NewFriendsDrawer:"vanilla.newFriendsDrawer",NewPlayScreenA:"vanilla.ab.newPlayScreenA",NewPlayScreenB:"vanilla.ab.newPlayScreenB",NewPlayScreenC:"vanilla.ab.newPlayScreenC",NewPlayScreenD:"vanilla.ab.newPlayScreenD",NewPlayerPathV3_B_NoSignInScreen:"vanilla.ab.newPlayerPathV3.B.noSignInScreen",NewPlayerPathV3_D_NoControlScreen:"vanilla.ab.newPlayerPathV3.D.noControlScreen",NewAllWorldsDesign:"vanilla.newAllWorldsDesign",DebugDrawer:"vanilla.debugDrawer",HasRealmsEnabled:"core.hasRealmsEnabled",EnableRealmsOreUIPurchase:"vanilla.realmsOreUIPurchaseEnabled",EnableRealmsOwnerCanRequireOptIn:"vanilla.realmsOwnerCanRequireOptIn",DisableAnimatedSignInScreens:"vanilla.disableAnimatedSignInScreens",InboxServiceCategoriesEnabled:"vanilla.enableInboxServiceCategories",TemplateScreen:"vanilla.templateScreen",ScreenshotsGallery:"vanilla.screenshotsGallery",ScreenshotsShowcase:"vanilla.screenshotsShowcase",ProfileFeedback:"vanilla.profileFeedback",UsePersonaProfileImages:"vanilla.usePersonaProfileImages",NewTrialModeFlow:"vanilla.newTrialMode",FriendsDrawerOnMultipleScreens:"vanilla.friendsDrawerOnMultipleScreens",CreateFromAddOn:"vanilla.createFromAddOn",SocialDrawer:"vanilla.newSocialDrawer"},Pi=(0,r.sharedFacet)("vanilla.flatWorldPresets"),xi=(0,r.sharedFacet)("vanilla.followersList"),Oi=(0,r.sharedFacet)("vanilla.friendoffriendworldlist"),Ai=(0,r.sharedFacet)("vanilla.friendsManagerFacet"),Ni=(0,r.sharedFacet)("vanilla.gamertagSearch");let Ri,_i,Li,Di;function Wi(e,t){for(let n=0;n<e.length;++n)if(e[n].categoryName==t)return e[n].unreadMessages;return 0}function Bi(e,t){e.forEach((e=>{var n;const a=(n=Date.now(),Vi(Math.floor(n/1e3))-Vi(e.dateReceived)<=Vi(604800));for(const n of t)if(e.inboxCategory==n.category){a?n.recent.push(e):n.history.push(e);break}}))}!function(e){e[e.NONE=0]="NONE",e[e.REALMS=1]="REALMS",e[e.GAME=2]="GAME"}(Ri||(Ri={})),function(e){e[e.NONE=0]="NONE",e[e.ACCEPTED=1]="ACCEPTED",e[e.REJECTED=2]="REJECTED",e[e.EXPIRED=3]="EXPIRED",e[e.JOIN=5]="JOIN"}(_i||(_i={})),function(e){e.NEWS="news",e.INVITES="invites",e.REALMS="realms",e.MARKETPLACEPASS="marketplacepass",e.FEEDBACK="feedback"}(Li||(Li={})),function(e){e.NONE="Unknown",e.IMAGETEXT="ImageText",e.IMAGETNAILCTA="ImageThumbnailCTA",e.HEROIMAGECTA="HeroImageCTA",e.CONTENTLISTCTA="ContentListWithCTA",e.CONTENTLISTNOCTA="ContentListNoCTA"}(Di||(Di={}));const Ui=(0,r.sharedFacet)("vanilla.inbox"),zi=(0,r.sharedSelector)((e=>function(e,t){const n=[];return Object.values(Li).forEach((e=>{const a=Wi(t,e);n.push({recent:[],history:[],unreadCount:a,category:e,name:"",imageUrl:""})})),Bi(e,n),n}(e.inboxMessages,e.categoryData)),[Ui]),ji=(0,r.sharedSelector)((e=>function(e,t){const n=[];return t.forEach((e=>{n.push({recent:[],history:[],unreadCount:e.unreadMessages,category:e.categoryName,name:e.localizedName,imageUrl:e.imageUrl})})),Bi(e,n),n}(e.inboxMessages,e.categoryData)),[Ui]),Hi=(0,r.sharedSelector)((e=>e.settings),[Ui]);function Vi(e){return Math.floor(e/60/60/24)}const Gi=(0,r.sharedFacet)("vanilla.inGame");let $i,Ki,Xi,Yi,qi,Qi,Ji;function Zi(e,t,n){return`${e}${""!==e?".":""}${t}${n}`}function ec(e){const{translationPrefix:t,translate:n,formatDate:r,getHowLongAgoAsString:l}=(0,a.useContext)(bl);return(0,a.useMemo)((()=>({f:{formatDate:r,getHowLongAgoAsString:l},t:(a,r)=>{const l=Zi(t,e,a),o=n(l,r);return null!=o?o:l}})),[t,e,n,r,l])}function tc(e,t){const{translationPrefix:n,translate:r,formatDate:l}=(0,a.useContext)(bl);return(0,a.useMemo)((()=>({f:l,t:(a,l)=>{var o,i;let c=null;const s=Zi(null!=t?t:n,e,a);return c=null!==(o=c)&&void 0!==o?o:r(s,l),null!==(i=c)&&void 0!==i?i:s}})),[t,n,e,r,l])}!function(e){e[e.PEACEFUL=0]="PEACEFUL",e[e.EASY=1]="EASY",e[e.NORMAL=2]="NORMAL",e[e.HARD=3]="HARD"}($i||($i={})),function(e){e[e.INVITED=1]="INVITED",e[e.FRIENDS=2]="FRIENDS",e[e.FRIENDS_OF_FRIENDS=3]="FRIENDS_OF_FRIENDS"}(Ki||(Ki={})),function(e){e[e.VISITOR=0]="VISITOR",e[e.MEMBER=1]="MEMBER",e[e.OPERATOR=2]="OPERATOR"}(Xi||(Xi={})),function(e){e[e.NONE=0]="NONE",e[e.CHECK_INTERNET_CONNECTION=1]="CHECK_INTERNET_CONNECTION",e[e.DISCONNECTED_THIRD_PARTY_WITH_SUBSCRIPTION=2]="DISCONNECTED_THIRD_PARTY_WITH_SUBSCRIPTION",e[e.DISCONNECTED_THIRD_PARTY=3]="DISCONNECTED_THIRD_PARTY",e[e.LOCAL_MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY=4]="LOCAL_MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY",e[e.MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY=5]="MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY",e[e.MULTIPLAYER_PRIVILEGES_BLOCKED=6]="MULTIPLAYER_PRIVILEGES_BLOCKED",e[e.MULTIPLAYER_PRIVILEGES_BLOCKED_ON_CONSOLE=7]="MULTIPLAYER_PRIVILEGES_BLOCKED_ON_CONSOLE",e[e.CROSS_PLATFORM_DISABLED=8]="CROSS_PLATFORM_DISABLED",e[e.NON_MULTIPLAYER_SKIN_EQUIPPED=9]="NON_MULTIPLAYER_SKIN_EQUIPPED"}(Yi||(Yi={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ALWAYS_DAY=1]="ALWAYS_DAY",e[e.LOCK_TIME=2]="LOCK_TIME"}(qi||(qi={})),function(e){e[e.GAMEPLAY=0]="GAMEPLAY",e[e.GRAPHICS=1]="GRAPHICS",e[e.ADD_ON_CREATORS=2]="ADD_ON_CREATORS",e[e.INTERNAL_TESTS=3]="INTERNAL_TESTS"}(Qi||(Qi={})),function(e){e[e.SkinPack=0]="SkinPack",e[e.ResourcePack=1]="ResourcePack",e[e.MashUp=2]="MashUp",e[e.Realms=3]="Realms",e[e.WorldTemplate=4]="WorldTemplate",e[e.ServerConsumable=5]="ServerConsumable",e[e.ServerDurable=6]="ServerDurable",e[e.OfferCollection=7]="OfferCollection",e[e.Bundle=8]="Bundle",e[e.Persona=9]="Persona",e[e.CoinOffer=10]="CoinOffer",e[e.CoinBundle=11]="CoinBundle",e[e.Addon=12]="Addon",e[e._Count=13]="_Count",e[e._Unknown=14]="_Unknown"}(Ji||(Ji={}));const nc=(0,r.sharedFacet)("vanilla.marketplacePassWorldTemplateList"),ac=(0,r.sharedFacet)("vanilla.marketplaceSuggestions"),rc=(0,r.sharedFacet)("vanilla.networkWorldDetails");let lc,oc,ic;!function(e){e[e.OK=0]="OK",e[e.InvalidServerIdError=1]="InvalidServerIdError",e[e.InvalidUserError=2]="InvalidUserError",e[e.NoInternetError=3]="NoInternetError",e[e.UserNeedsToBeSignedInError=4]="UserNeedsToBeSignedInError",e[e.BlockedByPlatformError=5]="BlockedByPlatformError",e[e.BlockedByXBLError=6]="BlockedByXBLError",e[e.BlockedByVersionError=7]="BlockedByVersionError",e[e.UserBannedError=8]="UserBannedError",e[e.ThirdPartyBadIPError=9]="ThirdPartyBadIPError",e[e.ThirdPartyNoServerOrServerLockedError=10]="ThirdPartyNoServerOrServerLockedError",e[e.UnknownError=11]="UnknownError"}(lc||(lc={})),function(e){e[e.Ok=0]="Ok",e[e.JoinRealmAlreadyInProgress=1]="JoinRealmAlreadyInProgress",e[e.RealmIDConversionFailed=2]="RealmIDConversionFailed",e[e.MissingPlatformMembership=3]="MissingPlatformMembership",e[e.MultiplayerPrivilegeBlocked=4]="MultiplayerPrivilegeBlocked",e[e.RealmsNotInitialized=5]="RealmsNotInitialized",e[e.MobileDataBlockedAndNoWifi=6]="MobileDataBlockedAndNoWifi",e[e.InvalidCrossPlatformMultiplayerSkin=7]="InvalidCrossPlatformMultiplayerSkin",e[e.RealmsApiNotAvailable=8]="RealmsApiNotAvailable",e[e.UnassignedDevVersion=9]="UnassignedDevVersion",e[e.MemberOfTooManyRealms=10]="MemberOfTooManyRealms",e[e.CannotConnectToRealm=11]="CannotConnectToRealm",e[e.UnknownError=12]="UnknownError"}(oc||(oc={})),function(e){e[e.PlayScreen=0]="PlayScreen",e[e.SettingsScreen=1]="SettingsScreen",e[e.InviteLink=2]="InviteLink",e[e.AllowList=3]="AllowList",e[e.Marketplace=4]="Marketplace",e[e.CreateScreen=5]="CreateScreen",e[e.SlotsScreen=6]="SlotsScreen",e[e.ConnectToRealmLink=7]="ConnectToRealmLink",e[e.EditWorld=8]="EditWorld"}(ic||(ic={}));const cc=(0,r.sharedFacet)("vanilla.networkWorldJoiner"),sc=(0,r.sharedFacet)("vanilla.notificationOptions"),uc=(0,r.sharedFacet)("vanilla.notifications"),dc=(0,r.sharedFacet)("vanilla.offerRepository");let mc;!function(e){e[e.TOUCH=0]="TOUCH",e[e.CROSSHAIR=1]="CROSSHAIR",e[e.CLASSIC=2]="CLASSIC"}(mc||(mc={}));const pc=(0,r.sharedFacet)("vanilla.options"),fc=(0,r.sharedFacet)("vanilla.playerAchievements"),gc=(0,r.sharedSelector)((e=>e.status===Vo.LOADED),[fc]),Ec=((0,r.sharedDynamicSelector)((e=>[(t,n)=>({isLoaded:n,achievement:Uo(t.data.achievements,(t=>t.id===e))}),[fc,gc]])),(0,r.sharedSelector)((e=>ii(e.data.achievements)),[fc]));let hc,vc,bc;!function(e){e[e.NONE=0]="NONE",e[e.EXTERNAL=1]="EXTERNAL",e[e.INTERNAL=2]="INTERNAL"}(hc||(hc={})),function(e){e[e.Default=0]="Default",e[e.Realms=1]="Realms"}(vc||(vc={})),function(e){e[e.LOADING=0]="LOADING",e[e.IMAGE_RETRIEVAL=1]="IMAGE_RETRIEVAL",e[e.LOADED=2]="LOADED"}(bc||(bc={}));const yc=(0,r.sharedFacet)("vanilla.playermessagingservice"),Fc=(0,r.sharedSelector)((e=>e.reportDismiss.bind(e)),[yc]),Sc=(0,r.sharedSelector)((e=>e.status!=bc.LOADING),[yc]),Cc=(0,r.sharedDynamicSelector)((e=>[(t,n)=>({isLoaded:n,message:Uo(t.data.messages,(t=>t.id===e))}),[yc,Sc]]));(0,r.sharedDynamicSelector)((e=>[(t,n)=>{const a=function(e,t){return e.filter((e=>e.surface==t))}(t.data.messages,e);return{isLoaded:n,messages:a}},[yc,Sc]]));const Mc=(0,r.sharedFacet)("vanilla.playerPrivacy");let wc,kc,Tc,Ic,Pc,xc;!function(e){e[e.Self=0]="Self",e[e.TwoWayFriend=1]="TwoWayFriend",e[e.Following=2]="Following",e[e.Follower=3]="Follower",e[e.Stranger=4]="Stranger",e[e.Unknown=5]="Unknown"}(wc||(wc={})),function(e){e[e.None=0]="None",e[e.UserNotFound=1]="UserNotFound",e[e.NoInternet=2]="NoInternet",e[e.NotAllowedToViewProfilesAdult=3]="NotAllowedToViewProfilesAdult",e[e.NotAllowedToViewProfilesChild=4]="NotAllowedToViewProfilesChild",e[e.NotLoggedInWithMSA=5]="NotLoggedInWithMSA",e[e.LoggedInWithMSAButPlatformProfile=6]="LoggedInWithMSAButPlatformProfile"}(kc||(kc={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.FAVORITE=1]="FAVORITE",e[e.NOT_FAVORITE=2]="NOT_FAVORITE"}(Tc||(Tc={})),function(e){e[e.Loading=0]="Loading",e[e.Loaded=1]="Loaded",e[e.Error=2]="Error",e[e.Undefined=3]="Undefined"}(Ic||(Ic={})),function(e){e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Away=2]="Away",e[e.Offline=3]="Offline"}(Pc||(Pc={})),function(e){e.FriendsDrawer="FriendsDrawer",e.SocialDrawer_PartyTab="SocialDrawer_PartyTab",e.SocialDrawer_PeopleTab="SocialDrawer_PeopleTab",e.Profile_FriendsList="Profile_FriendsList",e.Profile_FollowersList="Profile_FollowersList",e.Profile_CompareStatsCurrent="Profile_CompareStatsCurrent",e.Profile_CompareStatsLoaded="Profile_CompareStatsLoaded",e.AddFriends_Search="AddFriends_Search",e.AddFriends_RecommendedFriends="AddFriends_RecommendedFriends",e.AddFriends_RecentlyPlayedWith="AddFriends_RecentlyPlayedWith",e.AddFriends_Followers="AddFriends_Followers",e.CreateParty_Friends="CreateParty_Friends",e.CreateParty_RecentlyPlayedWith="CreateParty_RecentlyPlayedWith",e.InviteToParty_Friends="InviteToParty_Friends",e.InviteToParty_RecentlyPlayedWith="InviteToParty_RecentlyPlayedWith"}(xc||(xc={}));const Oc=(0,r.sharedFacet)("vanilla.playerProfile"),Ac=(0,r.sharedFacet)("vanilla.playerReport"),Nc=(0,r.sharedFacet)("vanilla.playerFollowingList");let Rc;!function(e){e[e.ADDFRIENDS_RECOMMENDEDFRIENDS=0]="ADDFRIENDS_RECOMMENDEDFRIENDS",e[e.ADDFRIENDS_RECENTLYPLAYEDWITH=1]="ADDFRIENDS_RECENTLYPLAYEDWITH",e[e.ADDFRIENDS_FOLLOWERS=2]="ADDFRIENDS_FOLLOWERS",e[e.ADDFRIENDS_SEARCH=3]="ADDFRIENDS_SEARCH",e[e.PROFILE_MAIN=4]="PROFILE_MAIN",e[e.JSONUI=5]="JSONUI",e[e.PROFILE_FRIENDSLIST=6]="PROFILE_FRIENDSLIST",e[e.PROFILE_FOLLOWERSLIST=7]="PROFILE_FOLLOWERSLIST",e[e.SOCIALDRAWER_OPENPARTY=8]="SOCIALDRAWER_OPENPARTY"}(Rc||(Rc={}));const _c=(0,r.sharedFacet)("vanilla.playerSocialManager"),Lc=(0,r.sharedFacet)("vanilla.privacyAndOnlineSafetyFacet"),Dc=(0,r.sharedFacet)("vanilla.profanityFilter"),Wc=(0,r.sharedFacet)("vanilla.realmsStories.actions"),Bc=(0,r.sharedFacet)("vanilla.realmsStories.realmData");let Uc,zc;!function(e){e[e.All=0]="All",e[e.Online=1]="Online",e[e.InRealm=2]="InRealm"}(Uc||(Uc={})),function(e){e[e.MostRecent=0]="MostRecent",e[e.AlphabeticalAscending=1]="AlphabeticalAscending",e[e.AlphabeticalDescending=2]="AlphabeticalDescending",e[e.LeastRecent=3]="LeastRecent"}(zc||(zc={}));const jc=(0,r.sharedFacet)("vanilla.realmsStories.persistentData"),Hc=(0,r.sharedFacet)("vanilla.realmsSettingsFacet");let Vc;!function(e){e[e.NONMEMBER=-1]="NONMEMBER",e[e.VISITOR=0]="VISITOR",e[e.MEMBER=1]="MEMBER",e[e.OPERATOR=2]="OPERATOR",e[e.OWNER=3]="OWNER"}(Vc||(Vc={}));const Gc=(0,r.sharedFacet)("vanilla.realmsStories.players");function $c(e,t){return(n=e.gamerTag.toLowerCase())===(a=t.gamerTag.toLowerCase())?0:n>a?1:-1;var n,a}function Kc(e,t){return $c(t,e)}function Xc(e){return e.sort(Yc)}function Yc(e,t){const n=e.isInRealm?Number.MAX_VALUE:e.lastSeenTime,a=t.isInRealm?Number.MAX_VALUE:t.lastSeenTime;return n===a?$c(e,t):a-n}function qc(e,t){return Yc(t,e)}let Qc,Jc,Zc,es;!function(e){e[e.IDLE=0]="IDLE",e[e.PREPARING_APP_STORE=1]="PREPARING_APP_STORE",e[e.APP_STORE_READY=2]="APP_STORE_READY",e[e.CAN_BE_MEMBER_OF_MORE_REALMS_VALIDATION=3]="CAN_BE_MEMBER_OF_MORE_REALMS_VALIDATION",e[e.CAN_BE_MEMBER_OF_MORE_REALMS_VALIDATION_STARTED=4]="CAN_BE_MEMBER_OF_MORE_REALMS_VALIDATION_STARTED",e[e.REALM_NAME_VALIDATION=5]="REALM_NAME_VALIDATION",e[e.REALM_NAME_VALIDATION_STARTED=6]="REALM_NAME_VALIDATION_STARTED",e[e.PURCHASE=7]="PURCHASE",e[e.PURCHASE_STARTED=8]="PURCHASE_STARTED",e[e.COMPLETED=9]="COMPLETED",e[e.FAILED=10]="FAILED"}(Qc||(Qc={})),function(e){e[e.NOT_SPECIFIED=0]="NOT_SPECIFIED",e[e.NO_ACCESS=1]="NO_ACCESS",e[e.MEMBER_OF_TOO_MANY_REALMS=2]="MEMBER_OF_TOO_MANY_REALMS",e[e.INVALID_REALM_NAME=3]="INVALID_REALM_NAME",e[e.FAILED_CLUB_NAME_VALIDATION=4]="FAILED_CLUB_NAME_VALIDATION",e[e.OFFER_NOT_FOUND=5]="OFFER_NOT_FOUND",e[e.OFFER_NOT_AVAILABLE_INCOMPLETE_DATA=6]="OFFER_NOT_AVAILABLE_INCOMPLETE_DATA",e[e.OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED=7]="OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED",e[e.APP_STORE_NOT_READY=8]="APP_STORE_NOT_READY"}(Jc||(Jc={})),function(e){e[e.Offer30Days=0]="Offer30Days",e[e.Offer180Days=1]="Offer180Days",e[e.OfferMonthly=2]="OfferMonthly"}(Zc||(Zc={})),function(e){e[e.Offer2Player=0]="Offer2Player",e[e.Offer10Player=1]="Offer10Player",e[e.Offer16Player=2]="Offer16Player"}(es||(es={}));const ts=(0,r.sharedFacet)("vanilla.realmsPurchase");let ns;!function(e){e[e.IDLE=0]="IDLE",e[e.LOADING=1]="LOADING",e[e.FAILED=2]="FAILED",e[e.DONE=3]="DONE"}(ns||(ns={}));const as=(0,r.sharedFacet)("vanilla.realmsSubscriptionsData"),rs=(0,r.sharedFacet)("vanilla.realmsSubscriptionsMethods"),ls=(0,r.sharedFacet)("vanilla.realmsWorldContextCommands");let os;!function(e){e[e.IDLE=0]="IDLE",e[e.FETCHING_WORLD=1]="FETCHING_WORLD",e[e.FAILED=2]="FAILED",e[e.WORLD_AVAILABLE=3]="WORLD_AVAILABLE"}(os||(os={}));const is=(0,r.sharedFacet)("vanilla.realmsWorldContextQueries");let cs,ss,us;!function(e){e[e.RealmsAPIUnavailable=0]="RealmsAPIUnavailable",e[e.NeedToCallFetchFirst=1]="NeedToCallFetchFirst",e[e.MemberOfTooManyRealms=2]="MemberOfTooManyRealms",e[e.UnknownError=3]="UnknownError"}(cs||(cs={})),function(e){e[e.RealmsAPIUnavailable=0]="RealmsAPIUnavailable",e[e.AlreadyMember=1]="AlreadyMember",e[e.RealmExpired=2]="RealmExpired",e[e.RealmClosed=3]="RealmClosed",e[e.BadInvite=4]="BadInvite",e[e.BlockedInvite=5]="BlockedInvite",e[e.InviteLinkNotFound=6]="InviteLinkNotFound",e[e.UnexpectedServerResponse=7]="UnexpectedServerResponse",e[e.AnonymousAccount=8]="AnonymousAccount"}(ss||(ss={})),function(e){e[e.RealmsAPIUnavailable=0]="RealmsAPIUnavailable",e[e.ErrorTaskInProgress=1]="ErrorTaskInProgress",e[e.UnknownError=2]="UnknownError",e[e.Success=3]="Success",e[e.Unknown=4]="Unknown"}(us||(us={}));const ds=(0,r.sharedFacet)("vanilla.realmsMembership"),ms=(0,r.sharedFacet)("vanilla.RealmsPDPFacet"),ps=(0,r.sharedFacet)("vanilla.realmsStories.sessions");let fs,gs,Es;!function(e){e[e.Compatible=0]="Compatible",e[e.CompatibleShowInfo=1]="CompatibleShowInfo",e[e.Outdated=2]="Outdated",e[e.AlphaEnded=3]="AlphaEnded",e[e.UserNotAllowed=4]="UserNotAllowed",e[e.Other=5]="Other"}(fs||(fs={})),function(e){e[e.None=0]="None",e[e.Unknown=1]="Unknown",e[e.Compatibility=2]="Compatibility",e[e.ServiceError=3]="ServiceError",e[e.RateLimit=4]="RateLimit",e[e.RealmsBan=5]="RealmsBan",e[e.NetworkError=6]="NetworkError",e[e.APIUnavailable=7]="APIUnavailable",e[e.InEditorMode=8]="InEditorMode"}(gs||(gs={})),function(e){e[e.Unknown=0]="Unknown",e[e.Loading=1]="Loading",e[e.Idle=2]="Idle",e[e.Error=3]="Error"}(Es||(Es={}));const hs=(0,r.sharedFacet)("vanilla.realmsListFacet"),vs=(0,r.sharedSelector)((e=>{const t=[];if(null==e.realms)return t;for(let n=0;n<e.realms.length;n++)e.realms[n].world.isInitialized&&!e.realms[n].world.expired&&e.realms[n].isOwner&&t.push(e.realms[n].world);return t}),[hs]),bs=(0,r.sharedFacet)("vanilla.realmsListActionsFacet"),ys=(0,r.sharedFacet)("vanilla.developerOptionsFacet"),Fs=(0,r.sharedFacet)("vanilla.realmSlots"),Ss=(0,r.sharedFacet)("vanilla.realmsStories.stories");function Cs(e){e.forEach((e=>{e.hasViewed=!0}))}let Ms;!function(e){e[e.OptedIn=0]="OptedIn",e[e.OptedOut=1]="OptedOut",e[e.None=2]="None"}(Ms||(Ms={}));const ws=(0,r.sharedFacet)("vanilla.realmsStories.settings"),ks=(0,r.sharedFacet)("vanilla.realmsStories.comments");let Ts;!function(e){e[e.ActionAlreadyInProgress=0]="ActionAlreadyInProgress",e[e.CannotSaveWorld=1]="CannotSaveWorld",e[e.InvalidWorldId=2]="InvalidWorldId",e[e.Generic=3]="Generic",e[e.TooManyRealms=4]="TooManyRealms",e[e.InvalidRealmName=5]="InvalidRealmName",e[e.InvalidResponse=6]="InvalidResponse",e[e.CrossPlatformRestricted=7]="CrossPlatformRestricted",e[e.UnknownError=8]="UnknownError"}(Ts||(Ts={}));const Is=(0,r.sharedFacet)("vanilla.RealmWorldUploaderFacet"),Ps=(0,r.sharedFacet)("vanilla.recentlyPlayedWithList"),xs=(0,r.sharedFacet)("vanilla.recommendedFriendsList");let Os;!function(e){e[e.Idle=0]="Idle",e[e.CheckingResourcePacks=1]="CheckingResourcePacks",e[e.StartDownload=2]="StartDownload",e[e.DownloadingResourcePacks=3]="DownloadingResourcePacks",e[e.ActivateDownloadedPack=4]="ActivateDownloadedPack",e[e.WaitingForPrompt=5]="WaitingForPrompt"}(Os||(Os={}));const As=(0,r.sharedFacet)("vanilla.resourcePacks");let Ns;!function(e){e[e.Default=0]="Default",e[e.List=1]="List",e[e.Grid=2]="Grid"}(Ns||(Ns={}));const Rs=(0,r.sharedFacet)("vanilla.screenSpecificOptions");let _s;!function(e){e[e.None=0]="None",e[e.HttpError=1]="HttpError"}(_s||(_s={}));const Ls=(0,r.sharedFacet)("vanilla.screenshotGallery"),Ds=(0,r.sharedFacet)("vanilla.playerShowcasedGallery");let Ws,Bs;!function(e){e.PlayScreen="/play",e.EditWorldScreen="/edit-world"}(Ws||(Ws={})),function(e){e[e.JsonUI=0]="JsonUI",e[e.OreUI=1]="OreUI"}(Bs||(Bs={}));const Us=(0,r.sharedFacet)("vanilla.screenTechStack"),zs=(0,r.sharedFacet)("vanilla.seedTemplates"),js=(0,r.sharedFacet)("vanilla.share"),Hs=(0,r.sharedFacet)("vanilla.simulationDistanceOptions");let Vs,Gs;!function(e){e[e.NotSet=0]="NotSet",e[e.NotUsedByEdu=1]="NotUsedByEdu",e[e.AccessControlData=2]="AccessControlData",e[e.CustomerContent=3]="CustomerContent",e[e.EUII=4]="EUII",e[e.SupportData=5]="SupportData",e[e.Feedback=6]="Feedback",e[e.AccountData=7]="AccountData",e[e.PublicPersonalData=8]="PublicPersonalData",e[e.EUPI=9]="EUPI",e[e.OII=10]="OII",e[e.SystemMetadata=11]="SystemMetadata",e[e.PublicNonPersonalData=12]="PublicNonPersonalData"}(Vs||(Vs={})),function(e){e[e.Increment=0]="Increment",e[e.Sum=1]="Sum",e[e.Min=2]="Min",e[e.Max=3]="Max",e[e.Average=4]="Average",e[e.Latest=5]="Latest"}(Gs||(Gs={}));const $s=(0,r.sharedFacet)("vanilla.telemetry");let Ks;!function(e){e[e.ServersSupported=0]="ServersSupported",e[e.Win32DevBuildWarning=1]="Win32DevBuildWarning"}(Ks||(Ks={}));const Xs=(0,r.sharedFacet)("vanilla.thirdPartyWorldList");let Ys,qs;!function(e){e[e.PlatformHasNoTrialOfferings=0]="PlatformHasNoTrialOfferings",e[e.UnknownGameStoreError=1]="UnknownGameStoreError"}(Ys||(Ys={})),function(e){e[e.FullGame=0]="FullGame",e[e.StarterCollection=1]="StarterCollection",e[e.MasterCollection=2]="MasterCollection"}(qs||(qs={}));const Qs=(0,r.sharedFacet)("vanilla.trialMode");let Js,Zs,eu,tu,nu,au,ru,lu,ou,iu,cu,su,uu,du;!function(e){e[e.Primary=0]="Primary",e[e.Secondary=1]="Secondary"}(Js||(Js={})),function(e){e.MINECRAFT="minecraft",e.XBL="xbl",e.ACHIEVEMENTS="achievements",e.MULTIPLAYER="multiplayer",e.SERVER="server",e.STORE="store",e.CREATIVE="creative",e.PACKS="packs",e.SEEDS="seeds"}(Zs||(Zs={})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.SURVIVAL=0]="SURVIVAL",e[e.CREATIVE=1]="CREATIVE",e[e.ADVENTURE=2]="ADVENTURE"}(eu||(eu={})),function(e){e[e.ThirdParty=0]="ThirdParty",e[e.External=1]="External",e[e.Realm=2]="Realm",e[e.LAN=3]="LAN"}(tu||(tu={})),function(e){e[e.Unavailable=0]="Unavailable",e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.High=3]="High"}(nu||(nu={})),function(e){e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed"}(au||(au={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.INTERNAL_ERROR=1]="INTERNAL_ERROR",e[e.FETCH_FAILED=2]="FETCH_FAILED"}(ru||(ru={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.INPUT_INVALID=1]="INPUT_INVALID",e[e.INTERNAL_ERROR=2]="INTERNAL_ERROR",e[e.UPLOAD_FAILED=3]="UPLOAD_FAILED"}(lu||(lu={})),function(e){e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.InternalError=3]="InternalError",e[e.FetchFailed=4]="FetchFailed",e[e.RateLimit=5]="RateLimit"}(ou||(ou={})),function(e){e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.InternalError=3]="InternalError",e[e.InputInvalid=4]="InputInvalid",e[e.Uploading=5]="Uploading",e[e.UploadFailed=6]="UploadFailed",e[e.PostingFailed=7]="PostingFailed",e[e.RateLimit=8]="RateLimit"}(iu||(iu={})),function(e){e[e.Success=0]="Success",e[e.XboxAPIError=1]="XboxAPIError"}(cu||(cu={})),function(e){e.Template="template",e.Regular="regular"}(su||(su={})),function(e){e[e.Visitor=0]="Visitor",e[e.Member=1]="Member",e[e.Operator=2]="Operator",e[e.Custom=3]="Custom"}(uu||(uu={})),function(e){e[e.Undefined=0]="Undefined",e[e.Requested=1]="Requested",e[e.Success=2]="Success",e[e.Failure=3]="Failure"}(du||(du={}));const mu=(0,r.sharedFacet)("vanilla.unpairedRealmsListFacet"),pu=(0,r.sharedSelector)((e=>{const t=[];for(let n=0;n<e.realms.length;n++)e.realms[n].world.isInitialized&&!e.realms[n].world.expired&&e.realms[n].isOwner&&t.push(e.realms[n].world);return t}),[mu]);let fu,gu;var Eu;(Eu=fu||(fu={}))[Eu.None=0]="None",Eu[Eu.Minecraft_Ban=1]="Minecraft_Ban",Eu[Eu.XboxLive=2]="XboxLive",Eu[Eu.XboxLive_Parental=4]="XboxLive_Parental",Eu[Eu.XboxLive_Ban=8]="XboxLive_Ban",Eu[Eu.XboxLive_RequiresSignIn=16]="XboxLive_RequiresSignIn",Eu[Eu.Platform_PlayStation=32]="Platform_PlayStation",Eu[Eu.Platform_NintendoSwitch=64]="Platform_NintendoSwitch",Eu[Eu.GameVersion=128]="GameVersion",Eu[Eu.Unknown=256]="Unknown",function(e){e[e.Anonymous=0]="Anonymous",e[e.NotConnected=1]="NotConnected",e[e.Connected=2]="Connected",e[e.ConnectionFailed=3]="ConnectionFailed",e[e.OfflineOnly=4]="OfflineOnly",e[e.UserBanned=5]="UserBanned"}(gu||(gu={}));const hu=(0,r.sharedFacet)("vanilla.userAccount"),vu=(0,r.sharedSelector)((e=>e.isTrialAccount),[hu]);let bu;!function(e){e[e.NewWorldCreationFeedbackPage=0]="NewWorldCreationFeedbackPage",e[e.PlayScreenFeedbackPage=1]="PlayScreenFeedbackPage",e[e.EditWorldScreenFeedbackPage=2]="EditWorldScreenFeedbackPage",e[e.DeathScreenFeedbackPage=3]="DeathScreenFeedbackPage",e[e.RealmsSafetyPage=4]="RealmsSafetyPage",e[e.BannedHelpPage=6]="BannedHelpPage",e[e.ParentPermissionHelpPage=5]="ParentPermissionHelpPage",e[e.NintendoSwitchTechnicalSupportPage=7]="NintendoSwitchTechnicalSupportPage",e[e.BuyMinecraftStorePage=8]="BuyMinecraftStorePage",e[e.XboxPrivacyAndOnlineSafety=9]="XboxPrivacyAndOnlineSafety",e[e.XboxAccountProfile=10]="XboxAccountProfile",e[e.JoinRealmHelpPage=11]="JoinRealmHelpPage",e[e.FriendsDrawerFeedbackPage=12]="FriendsDrawerFeedbackPage",e[e.ServersTabFeedbackPage=13]="ServersTabFeedbackPage",e[e.PlayerFeedbackMain=14]="PlayerFeedbackMain",e[e.PlayerFeedbackIdeas=15]="PlayerFeedbackIdeas",e[e.ProfileFeedbackMain=16]="ProfileFeedbackMain",e[e.StartFromTemplateFeedbackPage=17]="StartFromTemplateFeedbackPage",e[e.RealmsTabFeedbackPage=18]="RealmsTabFeedbackPage",e[e.TermsAndServicePage=19]="TermsAndServicePage",e[e.PrivacyPolicyPage=20]="PrivacyPolicyPage",e[e.PreproductionRealmsGuide=21]="PreproductionRealmsGuide",e[e.TroubleshootingMultiplayerDisabled=22]="TroubleshootingMultiplayerDisabled",e[e.EduAboutAddOns=23]="EduAboutAddOns",e[e.EduAboutBehaviorPacks=24]="EduAboutBehaviorPacks",e[e.EduAboutResourcePacks=25]="EduAboutResourcePacks",e[e.EduAboutCloud=26]="EduAboutCloud",e[e.FlatWorldFeedbackPage=27]="FlatWorldFeedbackPage",e[e.SignInCapeTerms=28]="SignInCapeTerms"}(bu||(bu={}));const yu=(0,r.sharedFacet)("vanilla.webBrowserFacet");let Fu;!function(e){e[e.Ok=0]="Ok",e[e.Unsupported=1]="Unsupported",e[e.WorldNotCloudStored=2]="WorldNotCloudStored",e[e.UnableToGetManifest=3]="UnableToGetManifest",e[e.UnableToSyncWorld=4]="UnableToSyncWorld"}(Fu||(Fu={}));const Su=(0,r.sharedFacet)("vanilla.worldCloudSyncFacet");let Cu,Mu,wu;!function(e){e[e.IncorrectWorldId=0]="IncorrectWorldId",e[e.UnexpectedError=1]="UnexpectedError"}(Cu||(Cu={})),function(e){e[e.Legacy=0]="Legacy",e[e.Overworld=1]="Overworld",e[e.Flat=2]="Flat",e[e.Nether=3]="Nether",e[e.TheEnd=4]="TheEnd",e[e.Void=5]="Void",e[e.Undefined=6]="Undefined"}(Mu||(Mu={})),function(e){e[e.IncorrectWorldId=0]="IncorrectWorldId",e[e.UnableToCreateWorldDirectoryPath=1]="UnableToCreateWorldDirectoryPath",e[e.UnableToCreateResourcePackDirectoryPath=2]="UnableToCreateResourcePackDirectoryPath",e[e.UnableToCreateBehaviorDirectoryPath=3]="UnableToCreateBehaviorDirectoryPath",e[e.InsufficientDiskSpace=4]="InsufficientDiskSpace",e[e.UnknownError=5]="UnknownError"}(wu||(wu={}));const ku=(0,r.sharedFacet)("vanilla.worldEditor");let Tu,Iu,Pu,xu,Ou,Au,Nu;!function(e){e[e.Ok=0]="Ok",e[e.IncorrectWorldId=1]="IncorrectWorldId",e[e.InsufficientDiskSpace=2]="InsufficientDiskSpace",e[e.UnknownError=3]="UnknownError"}(Tu||(Tu={})),function(e){e[e.None=0]="None",e[e.ClearPlayerData=2]="ClearPlayerData",e[e.ForceHardcoreMode=4]="ForceHardcoreMode",e[e.All=-1]="All"}(Iu||(Iu={})),function(e){e[e.Ok=0]="Ok",e[e.IncorrectWorldId=1]="IncorrectWorldId",e[e.NeedToRemoveVRHeadset=2]="NeedToRemoveVRHeadset",e[e.NoFile=3]="NoFile",e[e.ZipError=4]="ZipError",e[e.PremiumContent=5]="PremiumContent",e[e.EditionMismatch=6]="EditionMismatch",e[e.EditorMismatch=7]="EditorMismatch",e[e.ZipDepthError=8]="ZipDepthError",e[e.UnknownError=9]="UnknownError",e[e.Cancelled=10]="Cancelled"}(Pu||(Pu={})),function(e){e[e.SkipLocalUser=0]="SkipLocalUser",e[e.IncludeLocalUser=1]="IncludeLocalUser"}(xu||(xu={})),function(e){e[e.Idle=0]="Idle",e[e.Setup=1]="Setup",e[e.SelectingFileDestination=2]="SelectingFileDestination",e[e.Exporting=3]="Exporting"}(Ou||(Ou={})),function(e){e[e.FailedToOpenDatabase=0]="FailedToOpenDatabase"}(Au||(Au={})),function(e){e[e.Ok=0]="Ok",e[e.InvalidLevel=1]="InvalidLevel"}(Nu||(Nu={}));const Ru=(0,r.sharedFacet)("vanilla.worldOperations");let _u,Lu,Du,Wu;!function(e){e[e.None=0]="None",e[e.World=1]="World",e[e.WorldTemplate=2]="WorldTemplate",e[e.Resource=3]="Resource",e[e.Behavior=4]="Behavior",e[e.Skin=5]="Skin",e[e.ItemCollection=6]="ItemCollection"}(_u||(_u={})),function(e){e[e.Idle=0]="Idle",e[e.Downloading=1]="Downloading",e[e.Importing=2]="Importing",e[e.Completed=3]="Completed"}(Lu||(Lu={})),function(e){e[e.InvalidContentType=0]="InvalidContentType",e[e.InvalidPackId=1]="InvalidPackId",e[e.InvalidWorldId=2]="InvalidWorldId",e[e.ContentTierIncompatible=3]="ContentTierIncompatible",e[e.ContentTierIncompatibleMemory=4]="ContentTierIncompatibleMemory",e[e.ContentTierIncompatibleRayTracing=5]="ContentTierIncompatibleRayTracing",e[e.PackDataWarning=6]="PackDataWarning",e[e.PackDependencyWarning=7]="PackDependencyWarning",e[e.PackSelectErrorNoStore=8]="PackSelectErrorNoStore",e[e.PackSelectErrorRequiredDependency=9]="PackSelectErrorRequiredDependency",e[e.NoPackAccess=10]="NoPackAccess",e[e.UnownedContent=11]="UnownedContent",e[e.NeedToDownloadPack=12]="NeedToDownloadPack",e[e.UnsupportedFileFormat=13]="UnsupportedFileFormat",e[e.IncompletePack=14]="IncompletePack",e[e.NoManifest=15]="NoManifest",e[e.MissingProperty=16]="MissingProperty",e[e.WrongTypeProperty=17]="WrongTypeProperty",e[e.EmptyProperty=18]="EmptyProperty",e[e.InvalidProperty=19]="InvalidProperty",e[e.MalformedPropertyUUID=20]="MalformedPropertyUUID",e[e.MalformedPropertyVERSION=21]="MalformedPropertyVERSION",e[e.DuplicateUUID=22]="DuplicateUUID",e[e.InvalidJSON=23]="InvalidJSON",e[e.MissingModules=24]="MissingModules",e[e.MultipleModules=25]="MultipleModules",e[e.UnsupportedFormatVersion=26]="UnsupportedFormatVersion",e[e.VersionTooHigh=27]="VersionTooHigh",e[e.VersionTooLow=28]="VersionTooLow",e[e.InitializationTimeout=29]="InitializationTimeout",e[e.UnexpectedError=30]="UnexpectedError"}(Du||(Du={})),function(e){e[e.HasPendingOrActiveImports=0]="HasPendingOrActiveImports",e[e.HasUnownedPacks=1]="HasUnownedPacks",e[e.RealmsPlusEnded=2]="RealmsPlusEnded",e[e.MissingDlcDependencies=3]="MissingDlcDependencies",e[e.MissingDlcWorldTemplate=4]="MissingDlcWorldTemplate",e[e.NoInternet=5]="NoInternet",e[e.HasPerformanceIssues=6]="HasPerformanceIssues",e[e.NotEnoughDiskSpace=7]="NotEnoughDiskSpace",e[e.WifiRequiredYetNotAccessible=8]="WifiRequiredYetNotAccessible",e[e.MissingRequiredWorldTemplateRequestUserApproval=9]="MissingRequiredWorldTemplateRequestUserApproval",e[e.InvalidPack=10]="InvalidPack",e[e.InvalidWorld=11]="InvalidWorld",e[e.InitializationTimeout=12]="InitializationTimeout",e[e.UnexpectedError=13]="UnexpectedError"}(Wu||(Wu={}));const Bu=(0,r.sharedFacet)("vanilla.worldPackages");let Uu,zu;!function(e){e[e.Ok=0]="Ok",e[e.WorldNotInLevelList=1]="WorldNotInLevelList",e[e.StartupAlreadyInProgress=2]="StartupAlreadyInProgress",e[e.GameServerStarterNotReady=3]="GameServerStarterNotReady",e[e.MissingDependencies=4]="MissingDependencies",e[e.DlcMissingContentKey=5]="DlcMissingContentKey",e[e.DlcPendingImports=6]="DlcPendingImports",e[e.HasUnownedPacks=7]="HasUnownedPacks",e[e.UnknownError=8]="UnknownError"}(Uu||(Uu={})),function(e){e[e.Ok=0]="Ok",e[e.IncorrectWorldId=1]="IncorrectWorldId",e[e.InsufficientDiskSpace=2]="InsufficientDiskSpace",e[e.UnknownError=3]="UnknownError"}(zu||(zu={}));const ju=(0,r.sharedFacet)("vanilla.worldStartup");let Hu;(0,r.sharedFacet)("vanilla.worldTemplateList"),function(e){e[e.Success=0]="Success",e[e.FailureUnknown=1]="FailureUnknown",e[e.FailureNoFile=2]="FailureNoFile",e[e.FailureZipError=3]="FailureZipError",e[e.FailurePremiumContent=4]="FailurePremiumContent",e[e.FailureEditionMismatch=5]="FailureEditionMismatch",e[e.FailureEditorMismatch=6]="FailureEditorMismatch",e[e.UnsupportedPlatform=7]="UnsupportedPlatform",e[e.AlreadyInProgress=8]="AlreadyInProgress",e[e.InterruptedByUser=9]="InterruptedByUser"}(Hu||(Hu={}));const Vu=(0,r.sharedFacet)("vanilla.worldTransfer"),Gu=(0,r.sharedFacet)("vanilla.featuredWorldTemplateList"),$u=(0,r.sharedFacet)("vanilla.ownedWorldTemplateList");let Ku,Xu,Yu;!function(e){e[e.Initialising=0]="Initialising",e[e.Downloading=1]="Downloading",e[e.Importing=2]="Importing",e[e.Success=3]="Success",e[e.Fail=4]="Fail"}(Ku||(Ku={})),function(e){e[e.UnknownFileType=0]="UnknownFileType",e[e.Duplicate=1]="Duplicate",e[e.MalformedZip=2]="MalformedZip",e[e.Default=3]="Default",e[e.Incompatible=4]="Incompatible",e[e.Cancelled=5]="Cancelled"}(Xu||(Xu={})),function(e){e[e.AlreadyDownloaded=0]="AlreadyDownloaded",e[e.DownloadAlreadyInProgress=1]="DownloadAlreadyInProgress",e[e.DownloadFailed=2]="DownloadFailed",e[e.ItemNotOwned=3]="ItemNotOwned",e[e.CancelledByUser=4]="CancelledByUser",e[e.InsufficientStorage=5]="InsufficientStorage"}(Yu||(Yu={}));const qu=(0,r.sharedFacet)("vanilla.worldTemplateOperations"),Qu=(0,r.sharedFacet)("vanilla.playerBanned");function Ju(){return(0,r.useFacetCallback)((e=>({button:t,screen:n,details:a={}})=>e.fireEventButtonPressed(function({button:e,screen:t}){return`${t}Screen_${e}Button_OreUI`}({button:t,screen:n}),a)),[],[(0,r.useSharedFacet)($s)])}function Zu(){return(0,r.useFacetCallback)((e=>({modal:t,screen:n,details:a={}})=>e.fireEventModalShown(function({modal:e,screen:t}){return`${t}Screen_${e}Modal_OreUI`}({modal:t,screen:n}),a)),[],[(0,r.useSharedFacet)($s)])}let ed;function td({guiScale:e,onGuiScaleApplied:t,accessibleGuiScale:n=!1,children:l}){const[o,i]=(0,r.useFacetState)(10),c=(0,r.useFacetWrap)(n);return(0,r.useFacetEffect)((e=>{i(2.5*e)}),[i],[e]),(0,r.useFacetEffect)(((e,n)=>{const a=document.getElementsByTagName("html")[0],r=document.body;a.style.fontSize=`${n}px`,r.style.setProperty("--baseFontSize",`${n}px`);const l=nd(e);r.style.setProperty("--base2Scale",`${l}px`),r.style.setProperty("--base2ScaleNeg",`-${l}px`);const o=ad(e);r.style.setProperty("--base1Scale",`${o}px`),r.style.setProperty("--base1ScaleNeg",`-${o}px`),t()}),[t],[e,o]),a.createElement(ld.Provider,{value:e},a.createElement(rd.Provider,{value:o},a.createElement(od.Provider,{value:c},l)))}!function(e){e[e.SCALING_25=1]="SCALING_25",e[e.SCALING_50=2]="SCALING_50",e[e.SCALING_75=3]="SCALING_75",e[e.SCALING_100=4]="SCALING_100",e[e.SCALING_125=5]="SCALING_125",e[e.SCALING_150=6]="SCALING_150",e[e.SCALING_175=7]="SCALING_175",e[e.SCALING_200=8]="SCALING_200"}(ed||(ed={}));const nd=e=>Math.max(Math.round(e/4*2),1),ad=e=>Math.max(Math.round(e/4),1),rd=(0,a.createContext)((0,r.createFacet)({initialValue:10})),ld=(0,a.createContext)((0,r.createFacet)({initialValue:4})),od=(0,a.createContext)((0,r.createFacet)({initialValue:!1})),id=e=>{const t=(0,r.useFacetUnwrap)((0,a.useContext)(rd));return e*(t===r.NO_VALUE?10:t)},cd=e=>(0,r.useFacetMap)(((e,t)=>e*t),[],[(0,r.useFacetWrap)(e),(0,a.useContext)(rd)]),sd=(e=70,t=128)=>{const n=id(e),r=id(t),[l,o]=(0,a.useState)("desktop");return(0,a.useEffect)((()=>{const e=()=>o((()=>{const e=window.innerWidth;return e<n?"narrow":e<r?"tablet":"desktop"})());return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[n,r]),l},ud=(e=99.9)=>{const t=id(e),n=(0,a.useCallback)((()=>window.innerWidth<=t),[t]),[r,l]=(0,a.useState)(n());return(0,a.useEffect)((()=>{const e=()=>l(n());return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[n]),r},dd=(e=99.9)=>{const t=cd(e),n=(0,r.useFacetCallback)((e=>()=>window.innerWidth<=e),[],[t],!1),[l,o]=(0,r.useFacetState)(n());return(0,a.useEffect)((()=>{const e=()=>o(n());return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[n,o]),l},md=e=>{const[t,n]=(0,r.useFacetState)(r.NO_VALUE);return pd(e,n),t},pd=(e,t,n=(0,r.createStaticFacet)(!1))=>{const a=(0,r.useFacetWrap)(n);(0,r.useFacetEffect)((n=>{const a=e.current;if(null!=a&&!n)return fd(a,t)}),[e,t],[a])},fd=(e,t)=>{let n=requestAnimationFrame((()=>{t(e.getBoundingClientRect())}));const a=new window.ResizeObserver((e=>{cancelAnimationFrame(n),n=requestAnimationFrame((()=>{t(e[0].contentRect)}))}));a.observe(e);const r=()=>{cancelAnimationFrame(n),n=requestAnimationFrame((()=>{t(e.getBoundingClientRect())}))};return window.addEventListener("resize",r),()=>{cancelAnimationFrame(n),a.disconnect(),window.removeEventListener("resize",r)}};let gd=0;const Ed=(0,a.createContext)(-1),hd=(0,r.createStaticFacet)(0),vd=(0,r.createStaticFacet)(!1),bd=({margin:e=hd,offset:t=hd,maxWidth:n=hd,children:l,TooltipComponent:o})=>{const i=(0,a.useMemo)((()=>gd++),[]),c=(0,a.useContext)(yd);return(0,r.useFacetEffect)(((e,t,n)=>(c.updateComponentDefinition(i,{margin:e,offset:t,maxWidth:n,TooltipComponent:o}),()=>{c.removeComponentDefinition(i)})),[i,o,c],[e,t,n]),a.createElement(Ed.Provider,{value:i},l)},yd=(0,a.createContext)({updateComponentDefinition:()=>{},removeComponentDefinition:()=>{},update:()=>{},remove:()=>{}}),Fd=({targetRef:e,visible:t,priority:n=vd,text:l})=>{const o=(0,a.useMemo)((()=>gd++),[]),i=(0,a.useContext)(Ed),c=(0,a.useContext)(yd);return(0,r.useFacetEffect)(((t,n,a)=>{const r=e.current;if(t&&null!=a&&""!=a&&r)return c.update(o,{text:a,priority:n,targetElement:r,componentId:i}),()=>{c.remove(o)}}),[e,c,o,i],[t,(0,r.useFacetWrap)(n),(0,r.useFacetWrap)(l)]),null},Sd=({children:e})=>{const t=(0,a.useMemo)((()=>new Map),[]),n=(0,a.useMemo)((()=>new Map),[]),[l,o]=(0,r.useFacetState)(null),[i,c]=(0,r.useFacetState)(""),[s,u]=(0,r.useFacetState)(null),d=(0,a.useRef)(null),m=(0,a.useRef)(null),p=(0,a.useMemo)((()=>{let e,a;const r=(t,r)=>{var l;n.has(r.componentId)&&(u(r.componentId),(e=>{clearTimeout(a),a=setTimeout((()=>o(e)),400)})(t),l=r.text,clearTimeout(e),e=setTimeout((()=>c(l)),200))};return()=>{for(const[e,n]of t.entries())if(n.priority)return void r(e,n);const n=t.entries().next().value;if(null==n)o(null),clearTimeout(a),clearTimeout(e);else{const[e,t]=n;r(e,t)}}}),[n,u,o,c,t]),f=(0,a.useMemo)((()=>({updateComponentDefinition(e,t){n.set(e,t),1===n.size&&u(e)},removeComponentDefinition(e){n.delete(e)},update:(e,n)=>{t.set(e,n),p()},remove:e=>{t.delete(e),p()}})),[n,u,t,p]);(0,r.useFacetEffect)((e=>{if(null==e)return;const a=t.get(e);if(null==a)return;const r=a.targetElement;if(null==r)return;const l=d.current,o=m.current;if(null==l||null==o)return;const i=n.get(a.componentId);if(null==i)return;let c;{const e=()=>{((e,t,n,a,r,l)=>{const o=e.getBoundingClientRect(),i=n.getBoundingClientRect(),c=Math.min(window.innerWidth-o.width-a,Math.max(a,i.x-o.width/2+i.width/2)),s=i.y-o.height-r,u=i.y+i.height+r,d=s>a?s:u;t.maxWidthPX=(l>0?l:window.innerWidth)-2*a,t.topPX=Math.round(d),t.leftPX=Math.round(c)})(l,o,r,i.margin,i.offset,i.maxWidth),c=requestAnimationFrame(e)};e(),o.opacity="1"}return()=>{o.opacity="0",cancelAnimationFrame(c),clearTimeout(void 0)}}),[n,t,d],[l]);const g=(0,a.useCallback)((e=>{null!=e&&(d.current=e,m.current=e.style,m.current.zIndex="10",m.current.opacity="0",m.current.position="absolute",p())}),[p]);return a.createElement(yd.Provider,{value:f},e,a.createElement(wl,{data:(0,r.useFacetMemo)((e=>{if(null==e)return r.NO_VALUE;const t=n.get(e);return null==t?r.NO_VALUE:t.TooltipComponent}),[n],[s])},(e=>a.createElement(e,{innerRef:g,text:i}))))},Cd="Noto Sans",Md="Noto Sans JP",wd="Noto Sans TC",kd="Noto Sans SC",Td="Noto Sans KR",Id="Noto Sans AR",Pd=["Noto Sans Mongolian","Noto Sans Syriac","Noto Sans TamilSupplement"];let xd;!function(e){e[e.VISUAL=0]="VISUAL",e[e.GRID=1]="GRID"}(xd||(xd={}));const Od=(0,r.createFacetContext)(xd.VISUAL),Ad=Od,Nd=Od.Provider;var Rd=n(33020),_d=n.n(Rd);function Ld(e,t,n,l){const o=(0,a.useContext)(Pe),i=(0,a.useMemo)((()=>o.current.generateId()),[o]);null!=l&&(l.current=i);const c=(0,r.useFacetWrap)(e),s=Se(),u=(0,a.useContext)(D),[d,m]=(0,r.useFacetState)(!1),p=(0,a.useCallback)(((e=W.Unknown)=>{s(i,!1,e)}),[s,i]);(0,r.useFacetEffect)((e=>{const a=t=>{e.onFocusChanged&&e.onFocusChanged(t),m(t)},r={type:$.ITEM,id:i,alias:e.alias,ref:n.current,disabled:e.disabled||!1,hidden:e.hidden||!1,scrollSpeedFactor:e.scrollIntoViewSpeedFactor,scrollAlign:e.scrollIntoViewAlign,scrollOffset:e.scrollIntoViewOffset,onFocus:()=>{a(!0)},onBlur:()=>{a(!1)},onRight:e.onRight,onLeft:e.onLeft,onUp:e.onUp,onDown:e.onDown};o.current.putNode(r,u[u.length-1]),o.current.putShortcut(i,j.A,{callback:t,inputLegend:e.inputLegend}),m(o.current.isFocused(i,e.alias))}),[m,o,u,i,t,n],[c]),(0,a.useEffect)((()=>{const e=o.current;return()=>e.removeNode(i)}),[o,i]);const f=(0,a.useMemo)((()=>_d()((()=>{null!=o.current.getClosestGrid(i)&&null!=o.current.getElement(i)&&o.current.updateGridNodeDimensions(i)}),500,{trailing:!0,leading:!1})),[o,i]),g=(0,a.useContext)(Ad),E=(0,r.useFacetMap)((e=>e===xd.VISUAL),[],[g]);return pd(n,f,E),(0,a.useLayoutEffect)((()=>{const e=n.current;if(null==e)return;const t=()=>{s(i)};return e.addEventListener("focusin",t),()=>{e.removeEventListener("focusin",t)}}),[n,i,o,s]),{isFocused:d,onFocus:p}}const Dd=(0,a.createContext)(null),Wd=()=>(0,a.useContext)(Dd),Bd=(Dd.Provider,(0,a.createContext)("root")),Ud=Bd.Provider,zd=()=>{const e=(0,a.useRef)(),t=(0,a.useContext)(Bd),{readById:n,narrationTree:r}=(0,a.useContext)(kl);return{narrateCurrentContext:(0,a.useCallback)(((a,l=!0,o,i)=>{Object.keys(r).length>0&&(e.current=setTimeout((()=>{n(t,a||void 0,l,o,i)}),200))}),[n,r,t]),preventNarrateCurrentContext:(0,a.useCallback)((()=>{e.current&&clearTimeout(e.current)}),[])}},jd=()=>{const e=(0,a.useRef)(),{readById:t}=(0,a.useContext)(kl);return{narrateById:(0,a.useCallback)(((n,a=!0,r,l,o)=>{e.current=setTimeout((()=>{t(n,r,a,l,o)}),200)}),[t]),preventNarrateById:(0,a.useCallback)((()=>{e.current&&clearTimeout(e.current)}),[])}},Hd=(0,a.createContext)(!0),Vd=Hd.Provider,Gd=(e,t)=>{const n=(0,a.useContext)(Bd),l=(0,a.useContext)(kl),o=(0,a.useMemo)((()=>l.generateId()),[l]),i=(0,a.useContext)(Hd),c=(0,a.useMemo)((()=>({parentNarrationId:n})),[n]),{narrateById:s,preventNarrateById:u}=jd(),d=(0,a.useMemo)((()=>{const t=e=>{const t=c.text;c.text=e,i&&null!=t&&t!==e&&l.previousAncestryRef.current.includes(o)&&s(o)};if((0,r.isFacet)(e))return e.observe(t);"string"==typeof e?t(e):c.getText=e}),[e,c,s,o,l,i]);return c.getSuffix=t,l.narrationTree[o]=c,(0,a.useEffect)((()=>(l.narrationTree[o]=c,()=>{delete l.narrationTree[o],null==d||d(),u()})),[d,u,c,l,o]),o},$d="pyOfV",Kd=(0,a.createContext)((0,r.createStaticFacet)({keyboard:{},gamepad:{}})),Xd=({interactivePrimitiveRef:e,tooltip:t,isFocusedFacet:n,isHoveredFacet:l,isPressedFacet:o,isLastInputKeyboard:i,isLastInputGamepad:c,isLastInputTouch:s})=>{const u=(0,r.useFacetMemo)(((e,t,n,a,r,l)=>a||r?e:l?n:t),[],[n,l,o,i,c,s]);return a.createElement(Fd,{targetRef:e,text:t,visible:u})};function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Yd.apply(this,arguments)}const qd=(0,a.createContext)((function(){})),Qd=150,Jd=150,Zd=Y.map((e=>`${e}`));function em(e){const{onHoverChanged:t,onFocusChanged:n,onPressChanged:l,onClick:o,onGamepadOrKeyboardSelect:i,onKeyDown:c,onMouseDown:s,onUp:u,onDown:d,onLeft:m,onRight:p,touchDetectionDelay:f=Jd,focusRefOverride:g,nodeIdRef:E}=e,h=(0,r.useFacetWrap)(e.autofocus),v=(0,r.useFacetWrap)(e.className),b=(0,r.useFacetWrap)(e["data-testid"]),y=(0,r.useFacetWrap)(e.classNameFocused),F=(0,r.useFacetWrap)(e.classNameHovered),S=(0,r.useFacetWrap)(e.classNamePressed),C=(0,r.useFacetWrap)(e.classNameDisabled),M=(0,r.useFacetWrap)(e.delayedClick),w=(0,r.useFacetWrap)(e.disabled),k=(0,r.useFacetWrap)(e.nonFocusable),T=(0,r.useFacetWrap)(e.hidden),I=(0,r.useFacetWrap)(e.disableScrollIntoView),P=(0,r.useFacetWrap)(e.gamepadAlias),x=(0,r.useFacetWrap)(e.gamepadIndex),O=(0,r.useFacetWrap)(e.focusGridIndex),A=(0,r.useFacetWrap)(e.inputLegend),N=(0,r.useFacetWrap)("narrationText"in e?e.narrationText:""),R=(0,r.useFacetWrap)(e.pressDuration),_=(0,r.useFacetWrap)(e.soundEffectFocused),L=(0,r.useFacetWrap)(e.soundEffectHovered),D=(0,r.useFacetWrap)(e.soundEffectPressed),B=Me(),U=(0,a.useContext)(qe).isLastInputMouse,z=(0,a.useContext)(qe).isLastInputTouch,j=(0,a.useContext)(qe).isLastInputGamepad,H=(0,a.useContext)(qe).isLastInputKeyboard,V=(0,r.useFacetRef)(H),G=(0,a.useRef)(null),$=e.innerRef||G,K=(0,a.useRef)({x:0,y:0}),X=Wd(),Y=ia(),q=(()=>{const e=(0,a.useRef)([]),t=(0,a.useCallback)((()=>{e.current.forEach(clearTimeout),e.current=[]}),[e]),n=(0,a.useCallback)((n=>{t();let a=0;n.forEach((t=>{"number"==typeof t?a+=t:e.current.push(setTimeout((()=>t()),a))}))}),[t]);return(0,a.useEffect)((()=>{const t=e.current;return()=>{t.forEach((e=>clearTimeout(e)))}}),[]),n})(),Q=ra(),J=We(),Z=(0,r.useFacetRef)(J),ee=(0,a.useContext)(Kd),te=(0,r.useFacetRef)(ee),ne=(0,a.useContext)(et),ae=(0,r.useFacetRef)(ne),{narrateCurrentContext:re,preventNarrateCurrentContext:le}=zd(),{narrateById:oe,preventNarrateById:ie}=jd(),[ce]=ye(),se=(0,r.useFacetRef)(ce),ue="getNarrationText"in e?e.getNarrationText:void 0,de=(0,a.useCallback)((()=>{const e=Z.current,t=te.current,n=ae.current,a=se.current;if(e===r.NO_VALUE||t===r.NO_VALUE||n===r.NO_VALUE||a===r.NO_VALUE)return"";let l="";return tm(e,((e,r)=>{var o;if(-1!==Zd.indexOf(e))return;if(null==r)return;const i=a[e],c=!0===V.current?t.keyboard[i[0]]:null===(o=t.gamepad[e])||void 0===o?void 0:o[n];null!=c&&(l+=`${c}: ${r} . `)})),l}),[Z,te,ae,se,V]),me=(0,r.useFacetMap)((e=>"string"==typeof e?e:""),[],[N]),pe=Gd(null!=ue?ue:me,de),fe=(0,r.useFacetMap)((e=>!1===e),[],[N]),ge=(0,r.useFacetCallback)((e=>()=>{e?re():oe(pe)}),[re,oe,pe],[fe]),[Ee,he]=(0,r.useFacetState)(!1),[ve,be]=(0,r.useFacetState)(!1);(0,r.useFacetEffect)((e=>{e||he(!1)}),[he],[U]);const Fe=(0,r.useFacetCallback)((e=>()=>{he(!1),be(!1),e||(null==t||t(!1),le(),ie())}),[ie,le,he,be,t],[w]),Se=(0,r.useFacetCallback)(((e,t)=>(n,a)=>{t||n&&null!=n.button&&n.button>0||(!a&&s&&s(n),be(!0),null!=e&&Q(e),null==l||l(!0))}),[Q,be,l,s],[D,w]),Ce=(0,r.useFacetCallback)((e=>(t,n)=>{e&&Se(t,n)}),[Se],[U]),we=(0,r.useFacetCallback)((e=>t=>{be(!1),e||t&&t.button>0||null==l||l(!1)}),[be,l],[w]),ke=(0,r.useFacetCallback)((e=>t=>{e&&we(t)}),[we],[U,w]),Te=(0,r.useFacetCallback)((e=>t=>{if(t.stopPropagation(),!(e||null==o||t.button>0))return o()}),[o],[w]),Ie=(0,r.useFacetCallback)(((e,t)=>n=>{e&&!t&&(K.current.x=n.touches[0].clientX,K.current.y=n.touches[0].clientY,q([f,()=>Se({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY})]),null==l||l(!0))}),[f,q,Se,l],[z,w]),Pe=(0,r.useFacetCallback)(((e,t)=>n=>{e&&!t&&(Math.abs(K.current.x-n.touches[0].clientX)>3||Math.abs(K.current.y-n.touches[0].clientY)>3)&&q([we])}),[q,we],[z,w]),xe=(0,r.useFacetCallback)(((e,t)=>()=>{e&&!t&&(q([we]),null==l||l(!1))}),[q,we,l],[z,w]),Oe=(0,r.useFacetCallback)(((e,t,n)=>a=>{n||null==o||(a.stopPropagation(),q(t?[Se,10,null!=e?e:Qd,we,o]:[Se,10,o,null!=e?e:Qd,we]))}),[Se,we,q,o],[R,M,w]),Ae=(0,r.useFacetCallback)(((e,t,n)=>()=>{if(n||null==o)return;const a=i||o,r=()=>Se(void 0,!0);q(t?[r,10,null!=e?e:Qd,we,a]:[r,10,a,null!=e?e:Qd,we])}),[Se,we,q,i,o],[R,M,w]),Ne=(0,a.useRef)(),Re=null!=E?E:Ne,{isFocused:_e,onFocus:Le}=Ld((0,r.useFacetMap)(((e,t,a,r,l,o,i,c,s)=>{var f;return{index:null!=e?e:0,focusGridIndex:null!==(f=null!=t?t:e)&&void 0!==f?f:0,alias:a,inputLegend:!1===r||""===r?void 0:r,disabled:l,hidden:o||i,autofocus:c,disableScrollIntoView:s,onFocusChanged:n,onUp:u,onDown:d,onLeft:m,onRight:p}}),[n,u,d,m,p],[x,O,P,A,w,T,k,h,I]),Ae,null!=(null==g?void 0:g.current)?g:$,Re);!function(e){const t=(0,a.useContext)(qd);(0,r.useFacetEffect)((e=>{if(e)return t()}),[t],[e])}((0,r.useFacetMap)(((e,t)=>!0!==e&&!0!==t),[],[w,T]));const De=(0,r.useFacetCallback)(((e,n,a,r,l,o,i,c,s)=>()=>{(e||n&&Y)&&(o||s||i&&c||(c||(he(!0),null==l||i||Q(l),(e||n)&&ge(),null==t||t(!0)),i||a||r||Le(W.PointerInput)))}),[Q,he,t,Le,ge,Y],[U,z,H,j,L,w,_e,Ee,T]),Be=(0,r.useFacetCallback)(((e,t)=>n=>!0===e?Te(n):!0===t?Oe(n):void 0),[Te,Oe],[U,z]),Ue=(0,r.useFacetMap)(((e,t)=>{if(!0===e)return t}),[],[_e,_]);(0,r.useFacetEffect)((e=>{null!=e&&Q(e)}),[Q],[Ue]),(0,r.useFacetEffect)(((e,t,n,a)=>{(t||n||a===W.FocusTreeMutation)&&(!0===e?ge():(le(),ie()))}),[ge,re,ie,le,n],[_e,j,H,B]);const ze=(0,r.useFacetMap)(((e,t,n,a,r,l,i,c,s,u,d)=>{const m=X?X.hovered:i,p=null!=o&&(X?"pressed"===X.pressState:c),f=s&&(u||d);return`C6mWt${null==e||""===e?"":` ${e}`}${m?` ${Ya.hovered}${null!=t?` ${t}`:""}`:""}${p?` ${Ya.pressed}${null!=n?` ${n}`:""}`:""}${(f||null!=X&&X.focused)&&null!=a?` ${Ya.focused}${null!=a?` ${a}`:""}`:""}${!0===l?" pyOfV"+(Ya.disabled!==$d?" "+Ya.disabled:""):""}${!0===l&&null!=r&&r!=$d?` ${r}`:""}`}),[X,o],[v,F,S,y,C,w,Ee,ve,_e,H,j]),je=null!=e.tooltip?a.createElement(Xd,{interactivePrimitiveRef:$,tooltip:e.tooltip,isFocusedFacet:_e,isHoveredFacet:Ee,isPressedFacet:ve,isLastInputKeyboard:H,isLastInputGamepad:j,isLastInputTouch:z}):null;return"span"===e.tag?a.createElement("fast-span",{ref:$,className:ze,style:e.style,"data-testid":b,onClick:Be,onTouchStart:Ie,onTouchMove:Pe,onTouchEnd:xe,onMouseDown:Ce,onMouseUp:ke,onMouseMove:De,onMouseLeave:Fe,onKeyDown:c},je,e.children):a.createElement("fast-div",{ref:$,className:ze,style:e.style,"data-testid":b,onClick:Be,onTouchStart:Ie,onTouchMove:Pe,onTouchEnd:xe,onMouseDown:Ce,onMouseUp:ke,onMouseMove:De,onMouseLeave:Fe,onKeyDown:c},je,e.children)}em.displayName="InteractivePrimitive",em.Maybe=e=>{let{isInteractive:t,children:n,onClick:l,inputLegend:o,innerRef:i,className:c,classNameDisabled:s,disabled:u,style:d}=e,m=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["isInteractive","children","onClick","inputLegend","innerRef","className","classNameDisabled","disabled","style"]);const p=(0,r.useFacetWrap)(u),f=(0,r.useFacetWrap)(c),g=(0,r.useFacetWrap)(s),E=(0,r.isFacet)(n)?a.createElement("fast-text",{text:n}):a.createElement(a.Fragment,null,n),h=(0,r.useFacetMap)(((e,t,n)=>Dr()(e,!0===t&&Ya.disabled!==$d?Ya.disabled:null,!0===t&&n!==$d?n:null,!0===t?$d:null)),[],[f,p,g]);return!0===(0,r.useFacetUnwrap)(t)?a.createElement(em,Yd({onClick:l,inputLegend:null!=o&&o,innerRef:i,className:f,classNameDisabled:g,disabled:p},m),E):a.createElement("fast-div",{ref:i,className:h,style:d},E)};const tm=(e,t)=>{for(const n in e)t(n,e[n])},nm="LkHYF",am=({children:e,innerRef:t,className:n})=>a.createElement("fast-div",{ref:t,className:Dr()(nm,"",n)},a.createElement("fast-text",{text:(0,r.useFacetWrap)(e)}));am.WithTooltip=({children:e,innerRef:t,className:n})=>{const l=(0,a.useRef)(null),[o,i]=(0,r.useFacetState)(!1),c=(0,a.useRef)(null),s=t||c,u=(0,r.useFacetWrap)(e);return(0,a.useEffect)((()=>{const e=s.current,t=l.current,n=()=>{if(e&&t){const n=t.offsetWidth>e.offsetWidth;i(n)}};let a;const r=()=>{a&&cancelAnimationFrame(a),a=requestAnimationFrame((()=>{a=requestAnimationFrame(n)}))};return r(),null==e||e.addEventListener("resize",r),()=>{null==e||e.removeEventListener("resize",r),a&&cancelAnimationFrame(a)}}),[i,s]),a.createElement(a.Fragment,null,a.createElement(em,{innerRef:s,className:Dr()(nm,"",n),inputLegend:!1,narrationText:e,disabled:(0,r.useFacetMap)((e=>!e),[],[o]),tooltip:(0,r.useFacetMap)(((e,t)=>e?t:void 0),[],[o,u])},a.createElement("fast-text",{text:u})),a.createElement(am,{innerRef:l,className:Dr()("xXzao",n)},e))};const rm={center:"IaGhJ",right:"XEoek",left:"W1NXQ",verticalCenter:"JEzgR",Typography:"OIwR8",header1:"jtuPO",header2:"ZSfsQ",header3:"jxr27",header4A:"B6E4l",header4B:"Iu9d0",header5A:"u3V3F",header5B:"Z9bmJ",sectionHeader:"kjlCa",subtitle1:"PyPJl",subtitle2:"gVtt_",body:"vNlW4",paragraphs:"NQiUU",accessibleGuiScale:"Pgstg",captionTiny:"UNxMi",captionShort:"_He_E",captionLong:"yhCRL",editorCaption:"UwZQy",editorHeader:"X2EMQ",primaryButton:"l6rf0",secondaryButton:"vWcLh",destructiveButton:"P1L1T",shadow:"MIuXl",fontWeightNormal:"RcOKE",fontWeightBold:"j4N5u",fontWeightBolder:"g8JjQ",fontWeightLighter:"uN1hk",fontWeightInitial:"qKtfZ",fontWeightInherit:"EDaTS",whiteSpaceNormal:"JbbH7",whiteSpaceNoWrap:"dI4g4",whiteSpacePre:"wbZka",whiteSpacePreWrap:"_FWvz",breakWord:"idIMi",indent:"BiAtx",listItemContainer:"A3Rtd",ellipsis:"uNITG"},lm={size1:"oX26Y",size2:"Mi2a1",size3:"saEP3",size4:"C0tfI",size5:"tzTww",size6:"D1MsS",size7:"V5RDf",size8:"UZcFe"};function om({size:e}){return a.createElement("div",{className:lm[`size${e}`]})}let im;om.displayName="Spacing",om.Facet=function({size:e}){return a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>lm[`size${e}`]),[],[e])})},function(e){e[e.REGULAR=0]="REGULAR",e[e.OBFUSCATED=1]="OBFUSCATED"}(im||(im={})),im.OBFUSCATED;const cm={"0":{foreground:"#000000",background:"#000000"},"1":{foreground:"#0000AA",background:"#00002A"},"2":{foreground:"#00AA00",background:"#002A00"},"3":{foreground:"#00AAAA",background:"#002A2A"},"4":{foreground:"#AA0000",background:"#2A0000"},"5":{foreground:"#AA00AA",background:"#2A002A"},"6":{foreground:"#FFAA00",background:"#402A00"},"7":{foreground:"#AAAAAA",background:"#2A2A2A"},"8":{foreground:"#555555",background:"#151515"},"9":{foreground:"#5555FF",background:"#15153F"},"a":{foreground:"#55FF55",background:"#153F15"},"b":{foreground:"#55FFFF",background:"#153F3F"},"c":{foreground:"#FF5555",background:"#3F1515"},"d":{foreground:"#FF55FF",background:"#3F153F"},"e":{foreground:"#FFFF55",background:"#3F3F15"},"f":{foreground:"#FFFFFF",background:"#3F3F3F"},"g":{foreground:"#DDD605",background:"#373501"},"h":{foreground:"#E3D4D1",background:"#383534"},"i":{foreground:"#CECACA",background:"#333232"},"j":{foreground:"#443A3B",background:"#110E0E"},"m":{foreground:"#971607",background:"#250501"},"n":{foreground:"#B4684D",background:"#2D1A13"},"p":{foreground:"#DEB12D",background:"#372C0B"},"q":{foreground:"#47A036",background:"#04280D"},"s":{foreground:"#2CBAA8",background:"#0B2E2A"},"t":{foreground:"#21497B",background:"#08121E"},"u":{foreground:"#9A5CC6",background:"#261731"}},sm=new RegExp("(l)|(o)","g");function um(){return um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},um.apply(this,arguments)}let dm;!function(e){e[e.Normal=0]="Normal",e[e.Bold=1]="Bold",e[e.Bolder=2]="Bolder",e[e.Lighter=3]="Lighter",e[e.Initial=4]="Initial",e[e.Inherit=5]="Inherit"}(dm||(dm={}));const mm={[dm.Normal]:[rm.fontWeightNormal],[dm.Bold]:[rm.fontWeightBold],[dm.Bolder]:[rm.fontWeightBolder],[dm.Lighter]:[rm.fontWeightLighter],[dm.Initial]:[rm.fontWeightInitial],[dm.Inherit]:[rm.fontWeightInherit]},pm={normal:[rm.whiteSpaceNormal],nowrap:[rm.whiteSpaceNoWrap],pre:[rm.whiteSpacePre],preWrap:[rm.whiteSpacePreWrap]};function fm({children:e,role:t="inherit",interactive:n,disableable:l,variant:o,align:i,verticalAlign:c="top",type:s,shadow:u,tag:d,fontWeight:m,shouldNarrate:p,whiteSpace:f,className:g,innerRef:E,overflowWrap:h,indent:v,overflowEllipsis:b,"data-narrate-after":y}){const F=(0,r.useFacetWrap)(i),S=(0,r.useFacetWrap)(u),C=(0,r.useFacetWrap)(s),M=(0,r.useFacetWrap)(c),w=(0,r.useFacetWrap)(m),k=(0,r.useFacetWrap)(f),T=(0,r.useFacetWrap)(g),I=(0,r.useFacetWrap)(t),P=(0,r.useFacetWrap)(o),x=(0,r.useFacetWrap)(n),O=(0,r.useFacetWrap)(l),A=(0,r.useFacetWrap)(h),N=(0,r.useFacetWrap)(v),R=(0,r.useFacetWrap)(b),_=(0,r.useFacetMap)(((e,t)=>{if(!0===e)return[Pa];const n=[Ca];return t&&n.push(ka),n}),[],[x,O]),L=(0,a.useContext)(od),D=Fr(),W=d||("paragraphs"===s?"p":"div"),B=(0,r.useFacetMap)(((e,t,n,a,r,l,o,i,c,s,u,d,m,p)=>{const f=n?rm[n]:void 0,g={[rm.center]:"center"===t,[rm.right]:"right"===t,[rm.left]:"left"===t,[rm.verticalCenter]:"center"===a},E=r?mm[r]:void 0,h=l?pm[l]:void 0,v={[rm.shadow]:e},b={[rm.breakWord]:"break-word"===c},y={[rm.indent]:d},F=s.map((e=>D[o].text[e])),S={[rm.accessibleGuiScale]:m},C={[rm.ellipsis]:p};return Dr()(rm.Typography,f,g,v,E,h,F,i,b,u,y,C,S)}),[D],[S,F,C,M,w,k,I,P,A,_,T,N,L,R]),U=null!=p?{"data-narrate":p,"data-narrate-after":y}:{};return(0,r.isFacet)(e)?"div"===W?a.createElement("fast-div",um({ref:E,className:B},U),a.createElement("fast-text",{text:e})):"p"===W?a.createElement("fast-p",um({ref:E,className:B},U),a.createElement("fast-text",{text:e})):a.createElement("fast-span",um({ref:E,className:B},U),a.createElement("fast-text",{text:e})):"div"===W?a.createElement("fast-div",um({ref:E,className:B},U),e):"p"===W?a.createElement("fast-p",um({ref:E,className:B},U),e):a.createElement("fast-span",um({ref:E,className:B},U),e)}const gm=({items:e,item:t,index:n})=>{const l=(0,r.useFacetMap)((e=>e.length-1!==n),[n],[e]);return a.createElement(a.Fragment,null,a.createElement(Em,{text:t}),a.createElement(r.Mount,{when:l},a.createElement(om,{size:2})))},Em=({text:e})=>a.createElement("div",{className:rm.listItemContainer},a.createElement(fm,{type:"body"},""),a.createElement(fm,{type:"paragraphs",indent:!0},e));fm.FontWeight=dm,fm.List=({items:e})=>{const t=(0,r.useFacetWrap)(e);return a.createElement(a.Fragment,null,a.createElement(r.Map,{array:t},((e,n)=>a.createElement(gm,{items:t,item:e,index:n}))))},fm.FormattingCodes=({children:e,type:t,shadow:n,align:l})=>{const o=(0,a.useRef)(null);return(0,r.useFacetEffect)((e=>{const t=o.current;if(null!=t)return t.setAttribute("cohinline",""),((e,t)=>{let n=!0,a=!1,r=!1,l=[0,null];const o=[],i=n=>{const[i,c]=l;let s=e.slice(i,n);if(a&&(s=(e=>e.replace(sm,""))(s)),0!==s.length)if(s=0!=r?((e,t,n)=>{let a="";for(let r=0;r<e.length;r++)r>=t&&r<t+2||(a+=r>=t&&r<n?".":e[r]);return a})(s,r-i,s.length):s,null!=c){const e=document.createElement("span");e.style.color=c.foreground,e.style.textShadow=`0.2rem 0.2rem 0rem ${c.background}`,e.appendChild(document.createTextNode(s)),t.appendChild(e),o.push(e)}else{const e=document.createTextNode(s);t.appendChild(e),o.push(e)}a=!1};for(let t=0;t<e.length;t++){const o=`${e[t]}${e[t+1]}`,c=cm[o];null!=c&&(i(t),t+=1,l=[t+1,c],n=!1),"k"===o&&(r=t,t+=1,n=!1),"r"===o&&(i(t),t+=1,l=[t+1,null],r=!1,n=!1),"l"!==o&&"o"!==o||(a=!0,n=!1)}if(n){const n=document.createTextNode(e);t.appendChild(n),o.push(n)}else i(e.length);return()=>{o.forEach((e=>{t.removeChild(e)}))}})(`${e}`,t)}),[],[(0,r.useFacetWrap)(e)]),a.createElement(fm,{type:t,shadow:n,align:l,innerRef:o,tag:"p"})};const hm=({text:e,innerRef:t})=>{const{background:n}=Fr("neutral100");return a.createElement("fast-div",{ref:t,className:"Dp4FW"},a.createElement("fast-div",{className:Dr()("MLouw",n.base)},a.createElement(fm,{type:"body"},a.createElement(am,null,e))),a.createElement("fast-div",{className:"PdWeX"}))};function vm({children:e,guiScale:t,onGuiScaleApplied:n=bm,screenAnimationEnabled:r,accessibleGuiScale:l,isRtl:o=!1,locale:i}){return function(e){(0,a.useEffect)((()=>{const t=document.getElementsByTagName("html")[0],n=document.querySelector('link[rel="stylesheet"]');if(null==n)return void console.error("No stylesheet link tag found, RTL is not applied");const a=n.getAttribute("href");if(null==a)return void console.error("Something wrong with style attribute, RTL is not applied");const r=a.substring(0,a.length-4).replace(".rtl","")+(e?".rtl":"")+".css";e?t.setAttribute("dir","rtl"):t.removeAttribute("dir"),n.setAttribute("href",r)}),[e])}(o),function(e){(0,a.useEffect)((()=>{const t=function(e){return e.startsWith("ja")?[Md,wd,kd,Td,Cd,...Pd]:"zh_TW"===e?[wd,kd,Md,Td,Cd,...Pd]:"zh_CN"===e?[kd,wd,Md,Td,Cd,...Pd]:e.startsWith("ko")?[Td,wd,kd,Md,Cd,...Pd]:e.startsWith("ar_")?[Id,Cd,Td,wd,kd,Md,...Pd]:[Cd,kd,wd,Md,Td,Id,...Pd]}(e);document.body.style.setProperty("--localeSpecificNotoSansFonts",t.join(","))}),[e])}(i),a.createElement(to,{value:r},a.createElement(td,{guiScale:t,onGuiScaleApplied:n,accessibleGuiScale:l},a.createElement(Lo,null,a.createElement(Sd,null,a.createElement(hm.Provider,null,e)))))}hm.Provider=({children:e})=>{const t=cd(1.6);return a.createElement(bd,{margin:t,TooltipComponent:hm},e)};const bm=()=>{},ym=(0,r.sharedFacet)("core.customScaling");function Fm(e){return Math.ceil(1.25*e)}const Sm={compat:{[He.DESKTOP_SCREEN_TYPE]:Xe.SCALE_100_PERCENT,[He.TV_SCREEN_TYPE]:Xe.SCALE_100_PERCENT,[He.HANDHELD_SCREEN_TYPE]:{[Ve.PHONE]:Xe.SCALE_100_PERCENT,[Ve.TABLET]:Xe.SCALE_100_PERCENT},[He.VR_SCREEN_TYPE]:Xe.SCALE_100_PERCENT},legacy:{[He.DESKTOP_SCREEN_TYPE]:Xe.SCALE_175_PERCENT,[He.TV_SCREEN_TYPE]:Xe.SCALE_175_PERCENT,[He.HANDHELD_SCREEN_TYPE]:{[Ve.PHONE]:Xe.SCALE_100_PERCENT,[Ve.TABLET]:Xe.SCALE_150_PERCENT},[He.VR_SCREEN_TYPE]:Xe.SCALE_100_PERCENT},default:{[He.DESKTOP_SCREEN_TYPE]:Xe.SCALE_125_PERCENT,[He.TV_SCREEN_TYPE]:Xe.SCALE_175_PERCENT,[He.HANDHELD_SCREEN_TYPE]:{[Ve.PHONE]:Xe.SCALE_100_PERCENT,[Ve.TABLET]:Xe.SCALE_100_PERCENT},[He.VR_SCREEN_TYPE]:Xe.SCALE_100_PERCENT},fixed:{[He.DESKTOP_SCREEN_TYPE]:Xe.SCALE_100_PERCENT,[He.TV_SCREEN_TYPE]:Xe.SCALE_100_PERCENT,[He.HANDHELD_SCREEN_TYPE]:{[Ve.PHONE]:Xe.SCALE_100_PERCENT,[Ve.TABLET]:Xe.SCALE_100_PERCENT},[He.VR_SCREEN_TYPE]:Xe.SCALE_100_PERCENT}},Cm=6.417322835;function Mm({children:e,scalingMode:t}){const n=(0,r.useSharedFacet)(il),l=(0,r.useSharedFacet)(ym),o=(0,r.useSharedFacet)(Hn),i=(0,r.useFacetMap)((e=>null!=e.scalingModeOverride&&e.scalingModeOverride&&e.scalingModeOverride.length>0?e.scalingModeOverride:t),[t],[l]),c=(0,r.useFacetMap)((e=>e.fixedGuiScaleModifier),[],[l]),s=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.guiAccessibilityScaling)&&void 0!==t&&t}),[],[l]),u=(0,r.useFacetMap)((()=>!0),[],[n,o,c,i,s]),d=(0,r.useFacetMap)((e=>e.screenAnimationEnabled),[],[o]);return a.createElement(r.Mount,{when:u},a.createElement(wm,{deviceInformationFacet:n,scalingMode:i,screenAnimationEnabled:d,fixedGuiScaleModifier:c,accessibleGuiScale:s},e))}function wm({scalingMode:e,children:t,deviceInformationFacet:n,screenAnimationEnabled:l,fixedGuiScaleModifier:o,accessibleGuiScale:i}){const c=function(e,t,n,l,o){const i=(0,r.useFacetMap)(((e,t,n)=>"fixed"==n?t:e.guiScaleModifier),[],[n,l,e]),c=(0,r.useFacetCallback)(((e,t,n,a,r)=>()=>function(e,t,n,a,r,l,o){if("fixed"===e)return function(e,t){const n=Xe.SCALE_100_PERCENT+e;return!0===t?Fm(n):n}(n,o);const i=Sm[e][t];return t===He.HANDHELD_SCREEN_TYPE?function(e,t,n,a,r,l,o){const i=a/Cm,c=t[r/i>1e3&&l/i>700?Ve.TABLET:Ve.PHONE],s=Math.round(i*c)+Math.round(i*n);return!0===o?Fm(s):s}(0,i,n,l,a,r,o):function(e,t,n,a,r,l){const o=a/1920,i=r/1080,c=Math.min(i,o),s=Math.round(c*t)+Math.round(c*n);return!0===l?Fm(s):s}(0,i,n,a,r,o)}(e,t,a,window.innerWidth,window.innerHeight,n.pixelsPerMillimeter,r)),[],[e,t,n,i,o]),[s,u]=(0,r.useFacetState)(c());return(0,a.useEffect)((()=>{const e=()=>u(c);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[c,u]),(0,r.useFacetEffect)((()=>{u(c)}),[u,c],[n,l,o]),s}(e,(0,a.useContext)(Ze),n,o,i),s=(0,a.useContext)(bl).locale,u=(0,a.useContext)(bl).isRtl,d=(0,a.useCallback)((()=>{$n.trigger("core:gui:resize-hack")}),[]);return a.createElement(vm,{guiScale:c,accessibleGuiScale:i,onGuiScaleApplied:d,screenAnimationEnabled:l,isRtl:u,locale:s},t)}const km=(0,a.createContext)(null),Tm=km.Provider;function Im({children:e}){const t={changedCB:(0,a.useCallback)((e=>Kn("core:keyboard:changed",(t=>{e({addedChars:t.addedChars+"",removedChars:t.removedChars+"",invalidChars:t.invalidChars+"",index:t.index+0})}))),[]),submittedCB:(0,a.useCallback)((e=>Kn("core:keyboard:submitted",e)),[]),dismissedCB:(0,a.useCallback)((e=>Kn("core:keyboard:dismissed",e)),[]),tabbedCB:(0,a.useCallback)((e=>Kn("core:keyboard:tabbed",e)),[])};return a.createElement(Tm,{value:t},e)}let Pm;!function(e){e.FIRST_MEANINGFUL_PAINT="core:telemetry:firstMeaningfulPaint",e.FIRST_CONTENTFUL_PAINT="core:telemetry:firstContentfulPaint"}(Pm||(Pm={}));const xm=()=>new Map;function Om({children:e,triggerEvent:t}){const n=(0,a.useMemo)(xm,[]),r=(0,a.useMemo)(xm,[]),l=(0,a.useRef)(!1),o=(0,a.useRef)(!1),i=(0,a.useMemo)((()=>{const e=()=>{0===n.size&&0===r.size&&l.current&&(t(Pm.FIRST_MEANINGFUL_PAINT),l.current=!1)},a=()=>{0===n.size&&o.current&&(t(Pm.FIRST_CONTENTFUL_PAINT),o.current=!1),e()};return{block:(e,t)=>{("contentful"===t?n:r).set(e,!0)},unblock:(t,l)=>{("contentful"===l?n:r).delete(t),"contentful"===l?a():e()},meaningfulPaint:()=>{l.current=!0,e()},contentfulPaint:()=>{o.current=!0,a()}}}),[t,n,r]);return a.createElement(Ur.Provider,{value:i},e)}function Am({children:e}){const t=(0,a.useMemo)((()=>$n.trigger.bind($n)),[]);return a.createElement(Om,{triggerEvent:t},e)}n(89925);const Nm=(0,r.createFacet)({initialValue:r.NO_VALUE}),Rm=(0,a.createContext)((()=>Nm)),_m=({driver:e,children:t})=>{const n=(0,a.useRef)(new Map),r=(0,a.useCallback)(((t,a)=>{const r=((e,t)=>{const n=((e,t)=>t.sort(((e,t)=>e>t?1:0)).reduce(((e,t)=>`${e}-${t}`),e))(e,t);return(e=>{let t=0;for(let n=0;n<e.length;++n)t=e.charCodeAt(n)+(t<<5)-t;return Math.abs(t)})(n)})(t,a),l=r.toString(),o=n.current.get(l);if(null!=o)return o;const i=e(t,a,r,(()=>{n.current.delete(l)}));return n.current.set(l,i),i}),[e]);return a.createElement(Rm.Provider,{value:r},t)},Lm=new Map,Dm=new Map,Wm=new Map;function Bm(e,t,n,a){var r;const l=Wm.get(e);if(null!=l)return t(l),()=>{};const o=r=>{"activate-facet-not-found"===r&&null!=n?(Wm.set(e,n),t(n)):a?a(r):(t=>{console.warn(`Error "${t}" while using facet ${e}`)})(r)},i=n=>{Dm.set(e,n),t(n)},c=null!==(r=Lm.get(e))&&void 0!==r?r:0,s=Dm.get(e);return $n.on(`facet:updated:${e}`,i),$n.on(`facet:error:${e}`,o),0===c?$n.trigger("facet:request",e,e,{}):null!=s&&t(s),Lm.set(e,c+1),()=>{var t;const n=null!==(t=Lm.get(e))&&void 0!==t?t:0;$n.off(`facet:updated:${e}`,i),$n.off(`facet:error:${e}`,o),1===n&&($n.trigger("facet:discard",e),Dm.delete(e)),n>0&&Lm.set(e,n-1)}}const Um=(e,t,n,a)=>(0,r.createFacet)({initialValue:r.NO_VALUE,startSubscription:r=>($n.on(`query:subscribed/${n}`,r),$n.on(`query:updated/${n}`,r),$n.trigger(`query:subscribe/${e}`,n,...t),()=>{$n.off(`query:subscribed/${n}`,r),$n.off(`query:updated/${n}`,r),$n.trigger("query:unsubscribe",n),a()})}),zm=({children:e})=>{const{t}=ec("ControllerSpecificButtonNarration"),n=(0,a.useMemo)((()=>({gamepad:{[j.A]:{[Ye.XBOX]:t(".Gamepad.A.XBOX"),[Ye.PS]:t(".Gamepad.A.PS"),[Ye.STEAM]:t(".Gamepad.A.STEAM"),[Ye.SWITCH]:t(".Gamepad.A.SWITCH"),[Ye.QUEST]:t(".Gamepad.A.QUEST")},[j.B]:{[Ye.XBOX]:t(".Gamepad.B.XBOX"),[Ye.PS]:t(".Gamepad.B.PS"),[Ye.STEAM]:t(".Gamepad.B.STEAM"),[Ye.SWITCH]:t(".Gamepad.B.SWITCH"),[Ye.QUEST]:t(".Gamepad.B.QUEST")},[j.X]:{[Ye.XBOX]:t(".Gamepad.X.XBOX"),[Ye.PS]:t(".Gamepad.X.PS"),[Ye.STEAM]:t(".Gamepad.X.STEAM"),[Ye.SWITCH]:t(".Gamepad.Y.SWITCH"),[Ye.QUEST]:t(".Gamepad.X.QUEST")},[j.Y]:{[Ye.XBOX]:t(".Gamepad.Y.XBOX"),[Ye.PS]:t(".Gamepad.Y.PS"),[Ye.STEAM]:t(".Gamepad.Y.STEAM"),[Ye.SWITCH]:t(".Gamepad.X.SWITCH"),[Ye.QUEST]:t(".Gamepad.Y.QUEST")},[j.START]:{[Ye.XBOX]:t(".Gamepad.START.XBOX"),[Ye.PS]:t(".Gamepad.START.PS"),[Ye.STEAM]:t(".Gamepad.START.STEAM"),[Ye.SWITCH]:t(".Gamepad.START.SWITCH"),[Ye.QUEST]:t(".Gamepad.START.QUEST")},[j.SELECT]:{[Ye.XBOX]:t(".Gamepad.SELECT.XBOX"),[Ye.PS]:t(".Gamepad.SELECT.PS"),[Ye.STEAM]:t(".Gamepad.SELECT.STEAM"),[Ye.SWITCH]:t(".Gamepad.SELECT.SWITCH"),[Ye.QUEST]:t(".Gamepad.SELECT.QUEST")},[j.XBOX]:{[Ye.XBOX]:t(".Gamepad.XBOX.XBOX"),[Ye.PS]:t(".Gamepad.XBOX.PS"),[Ye.STEAM]:t(".Gamepad.XBOX.STEAM"),[Ye.SWITCH]:t(".Gamepad.XBOX.SWITCH"),[Ye.QUEST]:t(".Gamepad.XBOX.QUEST")},[j.RIGHT_TRIGGER]:{[Ye.XBOX]:t(".Gamepad.RT.XBOX"),[Ye.PS]:t(".Gamepad.RT.PS"),[Ye.STEAM]:t(".Gamepad.RT.STEAM"),[Ye.SWITCH]:t(".Gamepad.RT.SWITCH"),[Ye.QUEST]:t(".Gamepad.RT.QUEST")},[j.LEFT_TRIGGER]:{[Ye.XBOX]:t(".Gamepad.LT.XBOX"),[Ye.PS]:t(".Gamepad.LT.PS"),[Ye.STEAM]:t(".Gamepad.LT.STEAM"),[Ye.SWITCH]:t(".Gamepad.LT.SWITCH"),[Ye.QUEST]:t(".Gamepad.LT.QUEST")},[j.LEFT_BUMPER]:{[Ye.XBOX]:t(".Gamepad.LB.XBOX"),[Ye.PS]:t(".Gamepad.LB.PS"),[Ye.STEAM]:t(".Gamepad.LB.STEAM"),[Ye.SWITCH]:t(".Gamepad.LB.SWITCH"),[Ye.QUEST]:t(".Gamepad.LB.QUEST")},[j.RIGHT_BUMPER]:{[Ye.XBOX]:t(".Gamepad.RB.XBOX"),[Ye.PS]:t(".Gamepad.RB.PS"),[Ye.STEAM]:t(".Gamepad.RB.STEAM"),[Ye.SWITCH]:t(".Gamepad.RB.SWITCH"),[Ye.QUEST]:t(".Gamepad.RB.QUEST")},[j.L3]:{[Ye.XBOX]:t(".Gamepad.L3.XBOX"),[Ye.PS]:t(".Gamepad.L3.PS"),[Ye.STEAM]:t(".Gamepad.L3.STEAM"),[Ye.SWITCH]:t(".Gamepad.L3.SWITCH"),[Ye.QUEST]:t(".Gamepad.L3.QUEST")},[j.R3]:{[Ye.XBOX]:t(".Gamepad.R3.XBOX"),[Ye.PS]:t(".Gamepad.R3.PS"),[Ye.STEAM]:t(".Gamepad.R3.STEAM"),[Ye.SWITCH]:t(".Gamepad.R3.SWITCH"),[Ye.QUEST]:t(".Gamepad.R3.QUEST")},[j.LEFT]:{[Ye.XBOX]:t(".Gamepad.LEFT.XBOX"),[Ye.PS]:t(".Gamepad.LEFT.PS"),[Ye.STEAM]:t(".Gamepad.LEFT.STEAM"),[Ye.SWITCH]:t(".Gamepad.LEFT.SWITCH"),[Ye.QUEST]:t(".Gamepad.LEFT.QUEST")},[j.RIGHT]:{[Ye.XBOX]:t(".Gamepad.RIGHT.XBOX"),[Ye.PS]:t(".Gamepad.RIGHT.PS"),[Ye.STEAM]:t(".Gamepad.RIGHT.STEAM"),[Ye.SWITCH]:t(".Gamepad.RIGHT.SWITCH"),[Ye.QUEST]:t(".Gamepad.RIGHT.QUEST")},[j.UP]:{[Ye.XBOX]:t(".Gamepad.UP.XBOX"),[Ye.PS]:t(".Gamepad.UP.PS"),[Ye.STEAM]:t(".Gamepad.UP.STEAM"),[Ye.SWITCH]:t(".Gamepad.UP.SWITCH"),[Ye.QUEST]:t(".Gamepad.UP.QUEST")},[j.DOWN]:{[Ye.XBOX]:t(".Gamepad.DOWN.XBOX"),[Ye.PS]:t(".Gamepad.DOWN.PS"),[Ye.STEAM]:t(".Gamepad.DOWN.STEAM"),[Ye.SWITCH]:t(".Gamepad.DOWN.SWITCH"),[Ye.QUEST]:t(".Gamepad.DOWN.QUEST")},[j.NEXT]:{[Ye.XBOX]:t(".Gamepad.NEXT.XBOX"),[Ye.PS]:t(".Gamepad.NEXT.PS"),[Ye.STEAM]:t(".Gamepad.NEXT.STEAM"),[Ye.SWITCH]:t(".Gamepad.NEXT.SWITCH"),[Ye.QUEST]:t(".Gamepad.NEXT.QUEST")},[j.PREV]:{[Ye.XBOX]:t(".Gamepad.PREV.XBOX"),[Ye.PS]:t(".Gamepad.PREV.PS"),[Ye.STEAM]:t(".Gamepad.PREV.STEAM"),[Ye.SWITCH]:t(".Gamepad.PREV.SWITCH"),[Ye.QUEST]:t(".Gamepad.PREV.QUEST")},[j.LEFT_ANALOG_LEFT]:{[Ye.XBOX]:t(".Gamepad.L_LEFT.XBOX"),[Ye.PS]:t(".Gamepad.L_LEFT.PS"),[Ye.STEAM]:t(".Gamepad.L_LEFT.STEAM"),[Ye.SWITCH]:t(".Gamepad.L_LEFT.SWITCH"),[Ye.QUEST]:t(".Gamepad.L_LEFT.QUEST")},[j.LEFT_ANALOG_RIGHT]:{[Ye.XBOX]:t(".Gamepad.L_RIGHT.XBOX"),[Ye.PS]:t(".Gamepad.L_RIGHT.PS"),[Ye.STEAM]:t(".Gamepad.L_RIGHT.STEAM"),[Ye.SWITCH]:t(".Gamepad.L_RIGHT.SWITCH"),[Ye.QUEST]:t(".Gamepad.L_RIGHT.QUEST")},[j.LEFT_ANALOG_UP]:{[Ye.XBOX]:t(".Gamepad.L_UP.XBOX"),[Ye.PS]:t(".Gamepad.L_UP.PS"),[Ye.STEAM]:t(".Gamepad.L_UP.STEAM"),[Ye.SWITCH]:t(".Gamepad.L_UP.SWITCH"),[Ye.QUEST]:t(".Gamepad.L_UP.QUEST")},[j.LEFT_ANALOG_DOWN]:{[Ye.XBOX]:t(".Gamepad.L_DOWN.XBOX"),[Ye.PS]:t(".Gamepad.L_DOWN.PS"),[Ye.STEAM]:t(".Gamepad.L_DOWN.STEAM"),[Ye.SWITCH]:t(".Gamepad.L_DOWN.SWITCH"),[Ye.QUEST]:t(".Gamepad.L_DOWN.QUEST")},[j.RIGHT_ANALOG_LEFT]:{[Ye.XBOX]:t(".Gamepad.R_LEFT.XBOX"),[Ye.PS]:t(".Gamepad.R_LEFT.PS"),[Ye.STEAM]:t(".Gamepad.R_LEFT.STEAM"),[Ye.SWITCH]:t(".Gamepad.R_LEFT.SWITCH"),[Ye.QUEST]:t(".Gamepad.R_LEFT.QUEST")},[j.RIGHT_ANALOG_RIGHT]:{[Ye.XBOX]:t(".Gamepad.R_RIGHT.XBOX"),[Ye.PS]:t(".Gamepad.R_RIGHT.PS"),[Ye.STEAM]:t(".Gamepad.R_RIGHT.STEAM"),[Ye.SWITCH]:t(".Gamepad.R_RIGHT.SWITCH"),[Ye.QUEST]:t(".Gamepad.R_RIGHT.QUEST")},[j.RIGHT_ANALOG_UP]:{[Ye.XBOX]:t(".Gamepad.R_UP.XBOX"),[Ye.PS]:t(".Gamepad.R_UP.PS"),[Ye.STEAM]:t(".Gamepad.R_UP.STEAM"),[Ye.SWITCH]:t(".Gamepad.R_UP.SWITCH"),[Ye.QUEST]:t(".Gamepad.R_UP.QUEST")},[j.RIGHT_ANALOG_DOWN]:{[Ye.XBOX]:t(".Gamepad.R_DOWN.XBOX"),[Ye.PS]:t(".Gamepad.R_DOWN.PS"),[Ye.STEAM]:t(".Gamepad.R_DOWN.STEAM"),[Ye.SWITCH]:t(".Gamepad.R_DOWN.SWITCH"),[Ye.QUEST]:t(".Gamepad.R_DOWN.QUEST")},[j.LEFT_HORIZONTAL_AXIS]:{[Ye.XBOX]:t(".Gamepad.LEFT_HORIZONTAL_AXIS.XBOX"),[Ye.PS]:t(".Gamepad.LEFT_HORIZONTAL_AXIS.PS"),[Ye.STEAM]:t(".Gamepad.LEFT_HORIZONTAL_AXIS.STEAM"),[Ye.SWITCH]:t(".Gamepad.LEFT_HORIZONTAL_AXIS.SWITCH"),[Ye.QUEST]:t(".Gamepad.LEFT_HORIZONTAL_AXIS.QUEST")},[j.LEFT_VERTICAL_AXIS]:{[Ye.XBOX]:t(".Gamepad.LEFT_VERTICAL_AXIS.XBOX"),[Ye.PS]:t(".Gamepad.LEFT_VERTICAL_AXIS.PS"),[Ye.STEAM]:t(".Gamepad.LEFT_VERTICAL_AXIS.STEAM"),[Ye.SWITCH]:t(".Gamepad.LEFT_VERTICAL_AXIS.SWITCH"),[Ye.QUEST]:t(".Gamepad.LEFT_VERTICAL_AXIS.QUEST")},[j.RIGHT_HORIZONTAL_AXIS]:{[Ye.XBOX]:t(".Gamepad.RIGHT_HORIZONTAL_AXIS.XBOX"),[Ye.PS]:t(".Gamepad.RIGHT_HORIZONTAL_AXIS.PS"),[Ye.STEAM]:t(".Gamepad.RIGHT_HORIZONTAL_AXIS.STEAM"),[Ye.SWITCH]:t(".Gamepad.RIGHT_HORIZONTAL_AXIS.SWITCH"),[Ye.QUEST]:t(".Gamepad.RIGHT_HORIZONTAL_AXIS.QUEST")},[j.RIGHT_VERTICAL_AXIS]:{[Ye.XBOX]:t(".Gamepad.RIGHT_VERTICAL_AXIS.XBOX"),[Ye.PS]:t(".Gamepad.RIGHT_VERTICAL_AXIS.PS"),[Ye.STEAM]:t(".Gamepad.RIGHT_VERTICAL_AXIS.STEAM"),[Ye.SWITCH]:t(".Gamepad.RIGHT_VERTICAL_AXIS.SWITCH"),[Ye.QUEST]:t(".Gamepad.RIGHT_VERTICAL_AXIS.QUEST")},[j.PSEUDO_BUTTON_1]:{[Ye.XBOX]:t(".Gamepad.PSEUDO_BUTTON_1.XBOX"),[Ye.PS]:t(".Gamepad.PSEUDO_BUTTON_1.PS"),[Ye.STEAM]:t(".Gamepad.PSEUDO_BUTTON_1.STEAM"),[Ye.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_1.SWITCH"),[Ye.QUEST]:t(".Gamepad.PSEUDO_BUTTON_1.QUEST")},[j.PSEUDO_BUTTON_2]:{[Ye.XBOX]:t(".Gamepad.PSEUDO_BUTTON_2.XBOX"),[Ye.PS]:t(".Gamepad.PSEUDO_BUTTON_2.PS"),[Ye.STEAM]:t(".Gamepad.PSEUDO_BUTTON_2.STEAM"),[Ye.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_2.SWITCH"),[Ye.QUEST]:t(".Gamepad.PSEUDO_BUTTON_2.QUEST")},[j.PSEUDO_BUTTON_3]:{[Ye.XBOX]:t(".Gamepad.PSEUDO_BUTTON_3.XBOX"),[Ye.PS]:t(".Gamepad.PSEUDO_BUTTON_3.PS"),[Ye.STEAM]:t(".Gamepad.PSEUDO_BUTTON_3.STEAM"),[Ye.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_3.SWITCH"),[Ye.QUEST]:t(".Gamepad.PSEUDO_BUTTON_3.QUEST")},[j.PSEUDO_BUTTON_4]:{[Ye.XBOX]:t(".Gamepad.PSEUDO_BUTTON_4.XBOX"),[Ye.PS]:t(".Gamepad.PSEUDO_BUTTON_4.PS"),[Ye.STEAM]:t(".Gamepad.PSEUDO_BUTTON_4.STEAM"),[Ye.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_4.SWITCH"),[Ye.QUEST]:t(".Gamepad.PSEUDO_BUTTON_4.QUEST")},[j.PSEUDO_BUTTON_5]:{[Ye.XBOX]:t(".Gamepad.PSEUDO_BUTTON_5.XBOX"),[Ye.PS]:t(".Gamepad.PSEUDO_BUTTON_5.PS"),[Ye.STEAM]:t(".Gamepad.PSEUDO_BUTTON_5.STEAM"),[Ye.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_5.SWITCH"),[Ye.QUEST]:t(".Gamepad.PSEUDO_BUTTON_5.QUEST")},[j.PSEUDO_BUTTON_6]:{[Ye.XBOX]:t(".Gamepad.PSEUDO_BUTTON_6.XBOX"),[Ye.PS]:t(".Gamepad.PSEUDO_BUTTON_6.PS"),[Ye.STEAM]:t(".Gamepad.PSEUDO_BUTTON_6.STEAM"),[Ye.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_6.SWITCH"),[Ye.QUEST]:t(".Gamepad.PSEUDO_BUTTON_6.QUEST")},[j.PSEUDO_BUTTON_7]:{[Ye.XBOX]:t(".Gamepad.PSEUDO_BUTTON_7.XBOX"),[Ye.PS]:t(".Gamepad.PSEUDO_BUTTON_7.PS"),[Ye.STEAM]:t(".Gamepad.PSEUDO_BUTTON_7.STEAM"),[Ye.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_7.SWITCH"),[Ye.QUEST]:t(".Gamepad.PSEUDO_BUTTON_7.QUEST")},[j.PSEUDO_BUTTON_8]:{[Ye.XBOX]:t(".Gamepad.PSEUDO_BUTTON_8.XBOX"),[Ye.PS]:t(".Gamepad.PSEUDO_BUTTON_8.PS"),[Ye.STEAM]:t(".Gamepad.PSEUDO_BUTTON_8.STEAM"),[Ye.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_8.SWITCH"),[Ye.QUEST]:t(".Gamepad.PSEUDO_BUTTON_8.QUEST")},[j.PSEUDO_BUTTON_9]:{[Ye.XBOX]:t(".Gamepad.PSEUDO_BUTTON_9.XBOX"),[Ye.PS]:t(".Gamepad.PSEUDO_BUTTON_9.PS"),[Ye.STEAM]:t(".Gamepad.PSEUDO_BUTTON_9.STEAM"),[Ye.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_9.SWITCH"),[Ye.QUEST]:t(".Gamepad.PSEUDO_BUTTON_9.QUEST")},[j.PSEUDO_BUTTON_10]:{[Ye.XBOX]:t(".Gamepad.PSEUDO_BUTTON_10.XBOX"),[Ye.PS]:t(".Gamepad.PSEUDO_BUTTON_10.PS"),[Ye.STEAM]:t(".Gamepad.PSEUDO_BUTTON_10.STEAM"),[Ye.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_10.SWITCH"),[Ye.QUEST]:t(".Gamepad.PSEUDO_BUTTON_10.QUEST")}},keyboard:{[pe.BACKSPACE]:t(".Keyboard.BACKSPACE"),[pe.TAB]:t(".Keyboard.TAB"),[pe.ENTER]:t(".Keyboard.ENTER"),[pe.SHIFT]:t(".Keyboard.SHIFT"),[pe.CTRL]:t(".Keyboard.CTRL"),[pe.ALT]:t(".Keyboard.ALT"),[pe.ESCAPE]:t(".Keyboard.ESCAPE"),[pe.SPACE]:t(".Keyboard.SPACE"),[pe.LEFT]:t(".Keyboard.LEFT"),[pe.UP]:t(".Keyboard.UP"),[pe.RIGHT]:t(".Keyboard.RIGHT"),[pe.DOWN]:t(".Keyboard.DOWN"),[pe.INSERT]:t(".Keyboard.INSERT"),[pe.DELETE]:t(".Keyboard.DELETE"),[pe.KEY_0]:t(".Keyboard.KEY_0"),[pe.KEY_1]:t(".Keyboard.KEY_1"),[pe.KEY_2]:t(".Keyboard.KEY_2"),[pe.KEY_3]:t(".Keyboard.KEY_3"),[pe.KEY_4]:t(".Keyboard.KEY_4"),[pe.KEY_5]:t(".Keyboard.KEY_5"),[pe.KEY_6]:t(".Keyboard.KEY_6"),[pe.KEY_7]:t(".Keyboard.KEY_7"),[pe.KEY_8]:t(".Keyboard.KEY_8"),[pe.KEY_9]:t(".Keyboard.KEY_9"),[pe.KEY_A]:t(".Keyboard.KEY_A"),[pe.KEY_B]:t(".Keyboard.KEY_B"),[pe.KEY_C]:t(".Keyboard.KEY_C"),[pe.KEY_D]:t(".Keyboard.KEY_D"),[pe.KEY_E]:t(".Keyboard.KEY_E"),[pe.KEY_F]:t(".Keyboard.KEY_F"),[pe.KEY_G]:t(".Keyboard.KEY_G"),[pe.KEY_H]:t(".Keyboard.KEY_H"),[pe.KEY_I]:t(".Keyboard.KEY_I"),[pe.KEY_J]:t(".Keyboard.KEY_J"),[pe.KEY_K]:t(".Keyboard.KEY_K"),[pe.KEY_L]:t(".Keyboard.KEY_L"),[pe.KEY_M]:t(".Keyboard.KEY_M"),[pe.KEY_N]:t(".Keyboard.KEY_N"),[pe.KEY_O]:t(".Keyboard.KEY_O"),[pe.KEY_P]:t(".Keyboard.KEY_P"),[pe.KEY_Q]:t(".Keyboard.KEY_Q"),[pe.KEY_R]:t(".Keyboard.KEY_R"),[pe.KEY_S]:t(".Keyboard.KEY_S"),[pe.KEY_T]:t(".Keyboard.KEY_T"),[pe.KEY_U]:t(".Keyboard.KEY_U"),[pe.KEY_V]:t(".Keyboard.KEY_V"),[pe.KEY_W]:t(".Keyboard.KEY_W"),[pe.KEY_X]:t(".Keyboard.KEY_X"),[pe.KEY_Y]:t(".Keyboard.KEY_Y"),[pe.KEY_Z]:t(".Keyboard.KEY_Z"),[pe.F1]:t(".Keyboard.F1"),[pe.F2]:t(".Keyboard.F2"),[pe.F3]:t(".Keyboard.F3"),[pe.F4]:t(".Keyboard.F4"),[pe.F5]:t(".Keyboard.F5"),[pe.F6]:t(".Keyboard.F6"),[pe.F7]:t(".Keyboard.F7"),[pe.F8]:t(".Keyboard.F8"),[pe.F9]:t(".Keyboard.F9"),[pe.F10]:t(".Keyboard.F10"),[pe.F11]:t(".Keyboard.F11"),[pe.F12]:t(".Keyboard.F12"),[pe.MOUSE_MOVEMENT]:t(".Keyboard.MOUSE_MOVEMENT"),[pe.MOUSE_BUTTON_LEFT]:t(".Keyboard.MOUSE_BUTTON_LEFT"),[pe.MOUSE_BUTTON_MIDDLE]:t(".Keyboard.MOUSE_BUTTON_MIDDLE"),[pe.MOUSE_BUTTON_RIGHT]:t(".Keyboard.MOUSE_BUTTON_RIGHT"),[pe.MOUSE_WHEEL]:t(".Keyboard.MOUSE_WHEEL"),[pe.BRACKET_OPEN]:t(".Keyboard.BRACKET_OPEN"),[pe.BRACKET_CLOSE]:t(".Keyboard.BRACKET_CLOSE"),[pe.PSEUDO_KEY_1]:t(".Keyboard.PSEUDO_KEY_1"),[pe.PSEUDO_KEY_2]:t(".Keyboard.PSEUDO_KEY_2"),[pe.PSEUDO_KEY_3]:t(".Keyboard.PSEUDO_KEY_3"),[pe.PSEUDO_KEY_4]:t(".Keyboard.PSEUDO_KEY_4")}})),[t]),l=(0,r.useFacetWrap)(n);return a.createElement(Kd.Provider,{value:l},e)},jm=(0,a.createContext)({showModal:()=>{},hideModal:()=>{},updateModal:()=>{}}),Hm={component:null,payload:null};function Vm({children:e,ModalContainerWrapper:t}){const n=(0,a.useRef)([]),[l,o]=(0,r.useFacetState)(Hm),i=(0,a.useCallback)((()=>{if(n.current.length<=0)o(Hm);else{const e=n.current[n.current.length-1];o({component:e.component,payload:e.payload})}}),[o]),c=(0,a.useMemo)((()=>({showModal:(e,t)=>{n.current.push({component:e,payload:t}),i()},updateModal:(e,t,a)=>{if(n.current.length<=0)return;const r=n.current.findIndex((({component:n,payload:a})=>n===e&&a===t));-1!==r&&(n.current[r]={component:e,payload:a},i())},hideModal:(e,t)=>{if(!(n.current.length<=0)){if(null!=e){const a=n.current.findIndex((({component:n,payload:a})=>n===e&&a===t));if(-1===a)return;n.current.splice(a,1)}else n.current.splice(n.current.length-1,1);i()}}})),[i]),s=null!=t?t:a.Fragment;return a.createElement(jm.Provider,{value:c},e,a.createElement(s,null,a.createElement(Gm,{modalAndPayload:l})))}function Gm({modalAndPayload:e}){const t=(0,r.useFacetUnwrap)(e);if(t===r.NO_VALUE)return null;const{component:n,payload:l}=t;return null==n?null:a.createElement(n,null!=l?l:{})}const $m=()=>(0,a.useContext)(jm).hideModal,Km=e=>({useShowModal:()=>{const t=(0,a.useContext)(jm);return(0,a.useCallback)(((...n)=>{t.showModal(e,n[0])}),[t])},useModal:(e=!1)=>{const[t,n]=(0,r.useFacetState)(e);return(0,a.useMemo)((()=>({isVisible:t,show:()=>n(!0),hide:()=>n(!1)})),[t,n])},Component:(...t)=>{const n=(0,a.useContext)(jm),r=(0,a.useRef)(t[0]);let l=!1;if("object"==typeof r.current)if("object"!=typeof t[0])l=!0;else for(const e in r.current)if(t[0][e]!=r.current[e]){l=!0;break}return(0,a.useEffect)((()=>{l&&n.updateModal(e,r.current,t[0])}),[n,l,t]),(0,a.useEffect)((()=>{const t=r.current;return n.showModal(e,t),()=>{n.hideModal(e,t)}}),[n]),null}});function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xm.apply(this,arguments)}function Ym(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const qm=({interactive:e=!0,role:t="inherit",className:n,withoutBorders:r,inset:l,hasTexture:o=!1})=>{const{outline:i}=Fr(t),c=o?void 0:e?i.interactive:i.base;return a.createElement("div",{className:Dr()("rJwNH",c,n,{VtrKN:r,VOb2S:l,eZvsl:o})})},Qm=e=>{let{disabled:t}=e,n=Ym(e,["disabled"]);const l=(0,r.useFacetUnwrap)(t);return l!==r.NO_VALUE&&l?null:a.createElement(qm,n)},Jm=e=>{let{className:t}=e,n=Ym(e,["className"]);const r=Dr()(t,"oD_sn");return null!=n.disabled?a.createElement(Qm,Xm({className:r},n)):a.createElement(qm,Xm({className:r},n))},Zm="c0Ycb",ep=({narrationText:e,inputLegend:t,disabled:n,onClick:l,children:o,focusGridIndex:i,gamepadAlias:c,role:s="inherit",soundEffectPressed:u,className:d,selected:m,testId:p})=>{const f=(0,r.useFacetWrap)(n),g=Fr(s),E=Cr(s),h=kr();return a.createElement(em,{narrationText:e,className:(0,r.useFacetMap)((e=>Dr()("xWRFN",g.background.interactive,g.text.interactive,d,{[h.selected]:e})),[d,g,h],[(0,r.useFacetWrap)(null!=m&&m)]),classNameFocused:Zm,classNameDisabled:"mlXLS",focusGridIndex:i,gamepadAlias:c,inputLegend:t,onClick:l,disabled:f,soundEffectPressed:null!=u?u:E.press,"data-testid":p},o,a.createElement(Jm,{inset:!0,role:s}))},tp="N3xq4";function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},np.apply(this,arguments)}function ap(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const rp=({thin:e,top:t=!0,bottom:n=!0,left:l=!0,right:o=!0,className:i,hide:c,semanticStyles:s})=>{const u=Dr()("lnUPb",s,i,{BsIjW:e});return a.createElement(a.Fragment,null,a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>Dr()(u,{IljPu:t,EMwFA:l,[tp]:e})),[u,t,l],[c])}),a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>Dr()(u,{NobZ4:n,eaerY:o,[tp]:e})),[u,n,o],[c])}))},lp=e=>{let{children:t}=e,n=ap(e,["children"]);return a.createElement(a.Fragment,null,a.createElement(rp,n),t)},op=e=>{let{disabled:t,children:n}=e,l=ap(e,["disabled","children"]);const o=(0,r.useFacetMap)((e=>!1===(null!=e&&e)),[],[(0,r.useFacetWrap)(null!=t&&t)]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:o},a.createElement(rp,l)),n)},ip=(0,r.createStaticFacet)(!1),cp=e=>{let{effect:t="specular",reversed:n,role:r="inherit",interactive:l=!0,hide:o=ip}=e,i=ap(e,["effect","reversed","role","interactive","hide"]);const{[t]:c}=Fr(r),s=wr(),u=Dr()(l?c.interactive:c.base,{[s.reversed]:n});return null!=i.disabled?a.createElement(op,np({semanticStyles:u,hide:o},i)):a.createElement(lp,np({semanticStyles:u,hide:o},i))},sp=(0,a.createContext)(!1),up=(sp.Provider,sp.Consumer,(0,r.createFacetContext)(void 0)),dp=(up.Provider,up.Consumer,(0,a.createContext)({delegationEvent:(0,r.createStaticFacet)(void 0)})),mp=()=>{const[e,t]=(0,r.useFacetState)({date:0,event:void 0}),n=()=>t({date:Date.now(),event:void 0});return n.first=()=>t({date:Date.now(),event:U.FIRST_CHILD}),n.memory=()=>t({date:Date.now(),event:U.MEMORY}),n.alias=e=>t({date:Date.now(),event:U.ALIAS,alias:e}),{delegationEventFacet:e,delegateFocus:n}},pp=dp.Provider,fp=({delegationEvent:e,children:t})=>a.createElement(pp,{value:{delegationEvent:e}},t);function gp(e,t){if("string"==typeof t)return t;const n=e.getElement(t);return null==n?t:"alias"in n&&null!==(a=n.alias)&&void 0!==a?a:n.id;var a}function Ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function hp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ep(Object(n),!0).forEach((function(t){vp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ep(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vp(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const bp="NO_LANDMARK_KEY",yp=(0,r.createStaticFacet)(void 0),Fp=({children:e,disabled:t,hidden:n,focusControlDisabled:l,alias:o,scrollAxis:i,scrollOptions:c,shouldBindFocus:s,containerRef:u,delegateFocusFromMemory:d,delegateFocusByAlias:m,landmarkKey:p,isGrid:f,gridCellWidth:g,gridCellHeight:E,gridColumns:h,gridOffsetVertical:v,gridOffsetHorizontal:b,gridRows:y,gridCellSizeAuto:F})=>{const S=(0,a.useContext)(Pe),C=(0,a.useMemo)((()=>S.current.generateId()),[S]),M=(0,r.useFacetWrap)(t),w=(0,r.useFacetWrap)(n),k=(0,r.useFacetMap)((e=>!0===e),[],[(0,r.useFacetWrap)(l)]),T=(0,r.useFacetWrap)(d),I=(0,r.useFacetWrap)(m),P=(0,r.useFacetWrap)(i),x=(0,r.useFacetWrap)(o),O=(0,r.useFacetWrap)(c),A=(0,r.useFacetWrap)(s),N=(0,r.useFacetWrap)(p),R=(0,r.useFacetWrap)(f),_=(0,r.useFacetMap)((e=>!0===e?xd.GRID:xd.VISUAL),[],[R]),L=(0,r.useFacetWrap)(g),j=(0,r.useFacetWrap)(E),K=(0,r.useFacetWrap)(h),X=(0,r.useFacetWrap)(y),Y=(0,r.useFacetWrap)(F),q=(0,r.useFacetWrap)(v),Q=(0,r.useFacetWrap)(b),J=(0,a.useContext)(sp),Z=(0,a.useContext)(D),ee=(0,a.useContext)(up),{delegationEventFacet:te}=(()=>{const{delegationEvent:e}=(0,a.useContext)(dp);return{delegationEventFacet:e}})(),ne=Z[Z.length-1],ae=(0,r.useFacetMap)(((e,t)=>{if(!t)return e}),[],[te,k]),re=(0,r.useFacetMap)((e=>null!=e),[],[ae]),le=Se(),ie=(0,a.useCallback)((e=>t=>{var n;const a=null!==(n=t.getAttribute(V))&&void 0!==n?n:t.getAttribute(H);if(null==a)return!1;const r=parseInt(a,10);return e===r||S.current.isAncestorOf(e,r)}),[S]),ce=(0,r.useFacetCallback)((()=>({delegateFocusByAlias:e,delegateFocusFromMemory:t,cachedDescendantElements:n,delegationOrigin:a})=>{var l,o;!0===k.get()&&console.warn("Asked a FocusControlDisabled Landmark to delegate, abort mission. (find out why)");const i=S.current.getEnabledBindingLandmarkDescendant(C);if(null!=i){const e=null==n?void 0:n.filter(ie(i.id)),t=i.getDelegatedFocus({cachedDescendantElements:e,delegationOrigin:a});if(null!=t&&t!==r.NO_VALUE)return t}const c=S.current.getElement(C),s=S.current.getDynasty(C),d=oe(c)?c:void 0;if(null!=d&&t){var m,p;const e=null!==(m=null==d?void 0:d.landmarkKey)&&void 0!==m?m:bp,t=null==d||null===(p=d.delegationMemoryStack)||void 0===p?void 0:p.get(e);if(null!=t){let e;for(let n=0;n<t.length;n++){const a=t[n],r=S.current.getElement(a);if(null!=r&&S.current.isFocusable(r.id)&&null!=s&&s.has(r.id)){e=r;break}}if(null!=e){const t=oe(e)?e:void 0;if(null==t)return{id:gp(S.current,e.id),reason:B.MemoryDelegation};{const e=null==n?void 0:n.filter(ie(t.id)),l=t.getDelegatedFocus({cachedDescendantElements:e,delegationOrigin:a});if(null!=l&&l!=r.NO_VALUE)return l}}}}if(oe(fe.current)&&("string"==typeof e||!0===e&&null!=fe.current.delegateFocusByAlias)){var f;const t="string"==typeof e?e:null!==(f=fe.current.delegateFocusByAlias)&&void 0!==f?f:"",l=S.current.getElement(t);if(null!=l&&null!=s&&s.has(l.id)&&S.current.isFocusable(l.id)){if(!oe(l))return{id:gp(S.current,l.id),reason:B.AliasDelegation};{const e=null==n?void 0:n.filter(ie(l.id)),t=l.getDelegatedFocus({cachedDescendantElements:e,delegationOrigin:a});if(null!=t&&t!==r.NO_VALUE)return t}}}const g=null==fe.current||!0===fe.current.hidden||!0===fe.current.disabled?void 0:C,E=null!=g?{id:gp(S.current,g),reason:B.DefaultDelegation}:void 0,h=null!=n?n:Array.from(null!==(l=null===(o=u.current)||void 0===o?void 0:o.querySelectorAll("[data-focusable-id], [data-landmark-id]"))&&void 0!==l?l:[]);if(0===h.length)return E;for(let e=0;e<h.length;e++){const t=h[e].getAttribute(H),n=h[e].getAttribute(V);if(null!=t){const e=parseInt(t,10);if(null==s||!s.has(e))continue;const n=S.current.getElement(e);if(!oe(n))continue;if(!S.current.isFocusable(e))continue;if(a!==z.Mutation&&!S.current.containerHasEnabledItems(e))continue;const l=ie(e),o=h.filter(l),i=n.getDelegatedFocus({cachedDescendantElements:o,delegationOrigin:a});if(i!=r.NO_VALUE&&null!=i)return i}else if(null!=n){const e=parseInt(n,10);if(null!=s&&s.has(e)&&S.current.isFocusable(e))return{id:gp(S.current,e),reason:B.FirstFoundDelegation}}}return E}),[u,ie,k,S,C],[]),se=(0,r.useFacetCallback)((e=>({cachedDescendantElements:t,delegationOrigin:n})=>{var a;return ce({delegateFocusFromMemory:e,delegateFocusByAlias:oe(fe.current)&&(null===(a=fe.current)||void 0===a?void 0:a.delegateFocusByAlias),cachedDescendantElements:t,delegationOrigin:n})}),[ce],[T]),ue=(0,a.useCallback)((e=>{var t;if(!oe(fe.current)||null==e||0===e.date)return;let n;switch(e.event){case U.FIRST_CHILD:n=ce({delegationOrigin:z.UserInput});break;case U.MEMORY:n=ce({delegateFocusFromMemory:!0,delegationOrigin:z.UserInput});break;case U.ALIAS:const a=null!==(t=e.alias)&&void 0!==t?t:fe.current.delegateFocusByAlias;n=ce({delegateFocusByAlias:a,delegationOrigin:z.UserInput});break;default:n=se({delegationOrigin:z.UserInput})}null!=n&&n!==r.NO_VALUE&&null!=n.id&&le(gp(S.current,n.id),!1,W.LandmarkController)}),[ce,se,le,S]);(0,r.useFacetEffect)((e=>{ue(e)}),[ue],[ae]);const de=(0,a.useCallback)(((e,t,n)=>{if(t===W.FocusTreeMutation&&n!==B.FocusableAliasMutation)return;const a=S.current.getElement(C),r=oe(a)?a:void 0;if(null!=(null==r?void 0:r.delegationMemoryStack)){var l;const t=null!==(l=null==r?void 0:r.landmarkKey)&&void 0!==l?l:bp,n=r.delegationMemoryStack.get(t)||[];if(null!=n){const a=n.indexOf(e);-1!==a&&n.splice(a,1),n.unshift(e),r.delegationMemoryStack.set(t,n)}}}),[S,C]),me=(0,r.useFacetCallback)((e=>t=>{t.origin===W.LandmarkController&&ue(e)}),[ue],[ae]),pe=(0,a.useRef)(),fe=(0,a.useRef)(void 0),ge=(0,a.useRef)(!1);(0,a.useMemo)((()=>{var e;if(Vr([M,w,k,P,x,O,A,I,T,N,R,L,j,K,X,q,Q,Y])===r.NO_VALUE&&!S.current.getElement(C)){const e={scrollAxis:void 0,type:$.LANDMARK,id:C,ref:u.current,alias:void 0,scrollIntoViewAlign:void 0,scrollIntoViewOffset:void 0,scrollIntoViewSpeedFactor:void 0,shouldScrollWithAnalog:void 0,disabled:!0,hidden:!0,focusControlDisabled:!0,isGrid:!1,onFocusableOfDynastyFocused:de,getDelegatedFocus:se,onDynastyUpdated:me,delegateFocusByAlias:void 0,landmarkKey:void 0,delegationMemoryStack:void 0};fe.current=e,S.current.putNode(e,ne)}null===(e=pe.current)||void 0===e||e.call(pe),pe.current=(0,r.multiObserve)(((e,t,n,a,r,l,o,i,c,s,d,m,p,f,g,E,h,v)=>{const b=S.current.getElement(C),y=hp(hp({scrollAxis:a,type:$.LANDMARK,id:C,ref:u.current,alias:r,scrollIntoViewAlign:null==l?void 0:l.scrollIntoViewAlign,scrollIntoViewOffset:null==l?void 0:l.scrollIntoViewOffset,scrollIntoViewSpeedFactor:null==l?void 0:l.scrollIntoViewSpeedFactor,shouldScrollWithAnalog:null==l?void 0:l.shouldScrollWithAnalog,disabled:!0===e,hidden:!0===t,focusControlDisabled:!0===n,isGrid:!0===d,gridCellWidth:m,gridCellHeight:p,gridColumns:f,gridRows:g,gridOffsetVertical:E,gridOffsetHorizontal:h,gridCellSizeAuto:v,onFocusableOfDynastyFocused:de,getDelegatedFocus:se,onDynastyUpdated:me},!J&&o?{shouldBindFocus:!0}:{}),{},{delegateFocusByAlias:i,landmarkKey:s,delegationMemoryStack:!0===c?oe(b)&&null!=b.delegationMemoryStack?b.delegationMemoryStack:new Map:void 0});fe.current=y,ge.current=null==u.current,S.current.putNode(y,ne)}),[M,w,k,P,x,O,A,I,T,N,R,L,j,K,X,q,Q,Y])}),[C,S,ne,de,u,se,J,M,w,k,P,x,O,A,I,T,N,me,R,L,j,K,X,q,Q,Y]);const Ee=(0,a.useMemo)((()=>_d()((()=>{null!=S.current.getClosestGrid(C)&&null!=S.current.getElement(C)&&S.current.updateGridNodeDimensions(C)}),500,{trailing:!0,leading:!1})),[S,C]),he=(0,r.useFacetMap)((e=>!0!==e),[],[R]);pd(u,Ee,he),(0,a.useEffect)((()=>()=>{var e;null===(e=pe.current)||void 0===e||e.call(pe)}),[]),(0,a.useEffect)((()=>{if(!ge.current)return;if(null==u.current||null==fe.current)return;const e=hp(hp({},fe.current),{},{ref:u.current});S.current.putNode(e,ne)}),[]),(0,r.useFacetEffect)((e=>{if(null==fe.current||fe.current.hidden||fe.current.disabled||null==e)return;const t=se({delegationOrigin:z.Mutation});null!=t&&t!==r.NO_VALUE&&null!=t.id&&le(t.id,!1)}),[se,le],[ee]),(0,a.useEffect)((()=>{const e=S.current;return()=>e.removeNode(C)}),[S,C]);const ve=[...Z,C],be=(0,a.useMemo)((()=>({children:e})=>a.createElement(D.Provider,{value:ve},a.createElement(Nd,{value:_},e))),ve);return(0,a.useEffect)((()=>{null!=window.__REACT_FACET_DEVTOOLS_GLOBAL_HOOK__&&null!=u.current&&(u.current.setAttribute(G,`${C}`),u.current.setAttribute(G,`${C}`))}),[C,u]),(0,r.useFacetEffect)((e=>{null!=window.Cypress&&null!=u.current&&(u.current.setAttribute("data-testid",`${e}`),u.current.setAttribute("data-focusable-alias",`${e}`))}),[u],[x]),a.createElement(Sp,{shouldResetDelegationEvent:re},a.createElement(be,null,e))},Sp=({shouldResetDelegationEvent:e,children:t})=>a.createElement(wl,{data:e},(e=>null==e?a.createElement(a.Fragment,null,t):a.createElement(fp,{delegationEvent:yp},t)));function Cp(e){return e.height/e.width*100+"%"}function Mp({className:e,src:t,imageRendering:n,height:l,width:o,aspectRatio:i,paddingTopPercentage:c,cover:s,isGrayscale:u=!1,isAnimated:d=!1}){const m=(0,r.useFacetWrap)(n),p=(0,r.useFacetWrap)(t),f=null!=i||null!=c,g=(0,r.useFacetWrap)(d),E=(0,r.useFacetMap)(((e,t,n)=>Dr()("hdGaD",e,{rW6em:f&&!n,AjtsC:t})),[f],[(0,r.useFacetWrap)(e),(0,r.useFacetWrap)(u),g]),h=(0,r.useFacetMap)((e=>null!=i?Cp(i):null!=e?`${e}%`:void 0),[i],[(0,r.useFacetWrap)(null!=c?c:void 0)]);return!0===s||f?a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:g},a.createElement(wp,{aspectRatio:i,paddingTop:h,src:p,className:E,imageRendering:m,height:l,width:o})),a.createElement(r.Mount,{when:g,condition:!1},a.createElement(kp,{paddingTop:h,src:p,className:E,imageRendering:m,height:l,width:o}))):a.createElement("fast-img",{src:p,className:E,style:{height:l,width:o,imageRendering:m,paddingTop:h}})}function wp({aspectRatio:e,className:t,src:n,imageRendering:l,width:o,height:i,paddingTop:c}){const[s,u]=(0,r.useFacetState)({width:1,height:1});(0,r.useFacetEffect)((e=>{const t=document.createElement("img");t.onload=()=>u({width:t.width,height:t.height}),t.src=e}),[u],[n]);const d=(0,r.useFacetMap)((t=>null==e||t.width/t.height<e.width/e.height?"100%":e.height/t.height*(t.width/e.width)*100+"%"),[e],[s]),m=(0,r.useFacetMap)((t=>null!=e&&t.width/t.height<e.width/e.height?e.width/t.width*(t.height/e.height)*100+"%":"100%"),[e],[s]);return a.createElement("fast-div",{className:t,style:{height:i,width:o,paddingTop:c}},a.createElement("fast-div",{className:"VD9WK"},a.createElement("fast-img",{src:n,style:{height:m,width:d,imageRendering:l}})))}function kp({className:e,src:t,imageRendering:n,width:l,height:o,paddingTop:i}){const c=(0,r.useFacetMap)((e=>`url(${e})`),[],[t]);return a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>Dr()("S4ZCQ",e)),[],[(0,r.useFacetWrap)(e)]),style:{width:l,height:o,paddingTop:i,backgroundImage:c,imageRendering:n}})}Mp.AspectRatio={"16:9":{width:16,height:9},"10:3":{width:10,height:3},"1:1":{width:1,height:1}},Mp.aspectRatioToPercentage=Cp;const Tp=n.p+"assets/arrowBackWhite-2eb91.png",Ip=(e,t)=>{const n=(0,r.useFacetWrap)(e),a=(0,r.useFacetWrap)(t),l=(0,r.useFacetMap)(((e,t)=>null==e&&null==t?r.NO_VALUE:[e,t].filter(Boolean).join(" ")),[],[n,a]);return l};function Pp(){return Pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Pp.apply(this,arguments)}const xp=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("LqcGo",t);return a.createElement(Mp,Pp({},n,{className:r,src:Tp,imageRendering:"pixelated"}))},Op=n.p+"assets/crossWhite-0f6ce.png";function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ap.apply(this,arguments)}const Np=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("ZbA1S",t);return a.createElement(Mp,Ap({},n,{className:r,src:Op,imageRendering:"pixelated"}))},Rp="pVXF4",_p={Back:{useLocalization:()=>ec("TitleBar.Buttons.Back"),Component:({onClick:e,gamepadAlias:t})=>{const{t:n}=_p.Back.useLocalization();return a.createElement(ep,{role:"neutral",inputLegend:n(".inputLegend"),narrationText:n(".narration"),onClick:e,gamepadAlias:t,className:Rp},a.createElement(xp,null))}},Close:{useLocalization:()=>ec("TitleBar.Buttons.Close"),Component:({onClick:e,gamepadAlias:t,narrationSuffix:n,narrationPrefix:l,testId:o})=>{const{t:i}=_p.Close.useLocalization(),c=(0,r.useFacetMap)(((e,t)=>[e,i(".narration"),t].filter((e=>e)).join(" . ")),[i],[(0,r.useFacetWrap)(null!=l?l:""),(0,r.useFacetWrap)(null!=n?n:"")]);return a.createElement(ep,{testId:o,role:"neutral",inputLegend:i(".inputLegend"),narrationText:c,onClick:e,gamepadAlias:t,className:Rp},a.createElement(Np,null))}}},Lp=({children:e,gamepadAlias:t,role:n="inherit",left:r,right:l})=>{const o=Fr(n),i=(0,a.useRef)(null);return a.createElement(Fp,{containerRef:i,alias:t},a.createElement("div",{ref:i,className:Dr()("GCH8w",o.background.base,o.text.base)},a.createElement(cp,{effect:"specular"}),a.createElement("div",{className:"wn8hX"},r),e,a.createElement("div",{className:"iTcsZ"},l)),a.createElement("div",{className:Dr()("d4HVC",o.shadow.base)}))};Lp.Buttons=_p;const Dp=(0,a.createContext)((0,r.createFacet)({initialValue:!1})),Wp=()=>(0,a.useContext)(Dp),Bp=()=>{},Up=({children:e,onChildFocusableMounted:t})=>a.createElement(qd.Provider,{value:t},e),zp=()=>{const e=(0,a.useContext)(qd),[t,n]=(0,r.useFacetState)(0);return{hasChildFocusable:(0,r.useFacetMap)((e=>e>0),[],[t]),numberOfChildFocusables:t,onChildFocusableMounted:(0,a.useCallback)((()=>(e(),n((e=>e===r.NO_VALUE?e:e+1)),()=>{n((e=>e===r.NO_VALUE?e:e-1))})),[e,n])}},jp=({children:e})=>a.createElement(qd.Provider,{value:Bp},e),Hp="unmounted",Vp="exited",Gp="entering",$p="entered",Kp="exiting",Xp=(0,r.createStaticFacet)(!1);function Yp({visible:e=Xp,alwaysMounted:t,inverse:n=Xp,appear:l,unmountOnExit:o=Xp,onStatusChange:i,timeout:c,children:s}){const u=(0,a.useRef)(null),d=(0,r.useFacetWrap)(e),m=(0,r.useFacetWrap)(n),p=(0,r.useFacetWrap)(!t&&o),[f,g]=(0,r.useFacetState)(r.NO_VALUE),E=(0,r.useFacetCallback)(((e,n)=>a=>{qp(u),g((o=>{if(a){if(o===r.NO_VALUE)return[l?Vp:$p,e];if(o[0]===Hp)return[Vp,e]}else{if(o===r.NO_VALUE)return[t?Vp:Hp,e];if(o[0]===Vp&&n)return[Hp,e]}return o}));const o=setTimeout((()=>{g((t=>{if(t===r.NO_VALUE)return r.NO_VALUE;const[l]=t;return a?l===$p?[$p,e]:[Gp,e]:l===Vp?[n?Hp:Vp,e]:l===Hp?[Hp,e]:[Kp,e]}))}),0);return()=>clearTimeout(o)}),[g,l,t],[m,p]);(0,r.useFacetEffect)((e=>{E(e)}),[E],[d]);const h=(0,r.useFacetMap)((e=>e[0]),[],[f]),v=(0,r.useFacetCallback)((e=>t=>{i&&i(t);const n=t===Gp,a=t===Kp,l=t===Vp;qp(u),n&&(u.current=setTimeout((()=>g((e=>e===r.NO_VALUE?r.NO_VALUE:[$p,e[1]]))),c+100)),a&&(u.current=setTimeout((()=>g((t=>t===r.NO_VALUE?r.NO_VALUE:[e?Hp:Vp,t[1]]))),c+100)),l&&e&&g((e=>e===r.NO_VALUE?r.NO_VALUE:[Hp,e[1]]))}),[c,g,i],[p]);return(0,r.useFacetEffect)((e=>{v(e)}),[v],[h]),(0,a.useEffect)((()=>()=>qp(u)),[]),a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>e!==Hp),[],[h])},s(f))}const qp=e=>{e.current&&(clearTimeout(e.current),e.current=null)},Qp="g1hpb",Jp="FvsJM",Zp="Dp68T";function ef(e,t,n,l,o,i=!1,c=0,s){const[u,d]=(0,r.useFacetState)(!1),[m,p]=(0,r.useFacetState)(!1),f=(0,r.useFacetWrap)(null==l||l),g=(0,a.useRef)(!0),E=nt(),h=id(4)+c,v=id(8),b=(0,a.useMemo)((()=>_d()((()=>d(!0)),500,{leading:!0,trailing:!1})),[d]),y=(0,a.useMemo)((()=>_d()((()=>d(!1)),500,{leading:!1,trailing:!0})),[d]);(0,a.useEffect)((()=>{let e=null;return e=setTimeout((()=>{if(!o||!o.current||i)return;if(!0!==E.get())return p(!1);const e=window.innerHeight-o.current.getBoundingClientRect().bottom-v<h;p(e)}),250),()=>{e&&window.clearTimeout(e)}}),[p,v,h,E,o,e,i]);const F=(0,a.useRef)(null),S=(0,a.useMemo)((()=>{let a=null,r=null,l=null,o=null,c=null,u=!0;return()=>{var d,p;const f=!0===m.get(),E=e.current,v=t.current,C=n.current;if(!E||!v||!C)return;const M=i?E.scrollLeft:E.scrollTop,w=i?window.innerWidth:window.innerHeight,k=i?E.scrollWidth:E.scrollHeight;if(u){const e=E.getBoundingClientRect();if(0!==e.width&&0!==e.height){const t=f?h:0,n=i?e.width:e.height,a=n-t,r=k-(i?e.width:e.height),c=Math.min(1,M/r),d=i?E.getBoundingClientRect().left-e.left:C.getBoundingClientRect().top-e.top,m=a/k*a-2*Math.max(d,0),p=40,g=16,b=12,y=Math.max(a>p+b?p:g,i?Math.min(.4*a-2*d,m):m);if(i)v.style.left=100*c+"%",v.style.widthPX=y,v.style.marginLeft=-y/2+"px",C.style.leftPX=y/2,C.style.rightPX=y/2;else{const e=c*(a-y-2*d);v.style.topPX=Math.max(0,e),v.style.heightPX=y,C.style.bottomPX=t}u=!1,s&&(l=n,o=k)}}if(f!==a&&(a=f,u=!0),M!==c&&(g.current?g.current=!1:(b(),y()),c=M,u=!0),w!==r&&(r=w,u=!0),s&&!g.current){let e=!1;const t=o!==k,n=E.getBoundingClientRect();if(!(n.width<=0||n.height<=0)){const t=i?n.width:n.height;l!==t&&(e=!0)}(t||e)&&(u=!0)}F.current=null===(d=(p=window).requestAnimationFrame)||void 0===d?void 0:d.call(p,S)}}),[b,y,i,h,m,e,t,n,s]);return(0,r.useFacetEffect)((e=>(e&&S(),()=>{var e,t;null!=F.current&&(null===(e=(t=window).cancelAnimationFrame)||void 0===e||e.call(t,F.current)),y.cancel(),b.cancel()})),[S,y,b,s],[f]),u}function tf(e,t=!1,n){const[l,o]=(0,r.useFacetState)(!1),i=(0,a.useRef)(!1),c=(0,a.useRef)(0),s=(0,a.useRef)(0),u=(0,a.useRef)(0);return(0,a.useEffect)((()=>{const a=()=>{const l=e.current;if(!l)return;const{scrollWidth:d,scrollHeight:m}=l;if(0===m)return;const{width:p,height:f}=l.getBoundingClientRect();if(n)return o(t?d>Math.ceil(p):m>Math.ceil(f));o((e=>{if(e===r.NO_VALUE)return r.NO_VALUE;const n=t?d:m,l=t?p:f,o=n>Math.ceil(l),g=t?window.innerWidth:window.innerHeight;return!e&&o&&(u.current=g,requestAnimationFrame(a)),e&&!i.current&&(c.current=n,s.current=f),i.current=e,!(!e||o||n!==c.current||l!==s.current||g!==u.current)||o}))};a();const l=setInterval(a,1e3);return()=>clearInterval(l)}),[n,t,e,o]),l}function nf({scrollingContainerRef:e,horizontal:t,stopCheckingForScroll:n,floating:l,stopTrackingScrollDimensions:o,checkForDynamicScrollArea:i,darkTheme:c,minimalTheme:s,safeZonePadding:u,backgroundRole:d="neutral60",className:m}){const{handlerRef:p,railRef:f}=rf(e,t),g=af(e,f,t),E=tf(e,t,l||o),h=(0,r.useFacetWrap)(null!=n&&n),v=(0,r.useFacetMap)(((e,t)=>e&&!t),[],[E,h]),{background:{base:b}}=Fr(d);lf(e,t,i),ef(e,p,f,v,void 0,t,u,i);const y=(0,r.useFacetMap)((e=>Dr()(m,{RQaBf:!t,YaopL:t,Sedu9:!e,p4kfP:l})),[t,l,m],[E]);return a.createElement("fast-div",{className:y,onClick:g},a.createElement("div",{className:Dr()("NneLp",{[Zp]:t,[Qp]:s,[Jp]:c})}),a.createElement("div",{className:Dr()("ZypnN",b,{[Qp]:s})}),a.createElement("div",{className:"z9vg4",ref:f},a.createElement("div",{className:"TCER1",ref:p},a.createElement("div",{className:"DiMcq"},a.createElement(cp,{role:"secondary"})),a.createElement("div",{className:"lPc7v"}))),a.createElement("div",{className:Dr()("JOhiN",{[Zp]:t,[Qp]:s,[Jp]:c})}))}const af=(e,t,n)=>(0,a.useCallback)((a=>{const r=e.current,l=t.current;if(!r||!l)return;const o=l.getBoundingClientRect(),i=r.getBoundingClientRect();if(n){const e=(a.clientX-o.left)/o.width;r.scrollLeft=e*(r.scrollWidth-i.width)}else{const e=(a.clientY-o.top)/o.height;r.scrollTop=e*(r.scrollHeight-i.height)}}),[e,t,n]),rf=(e,t=!1)=>{const n=(0,a.useRef)(null),r=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const a=n.current,l=e.current,o=r.current;if(!a||!l||!o)return;let i=!1,c=0;const s=e=>{i=!0;const n=a.getBoundingClientRect();c=t?e.clientX-n.left:e.clientY-n.top},u=()=>{i=!1,c=0},d=e=>{if(!i)return;const n=o.getBoundingClientRect(),r=a.getBoundingClientRect(),s=l.getBoundingClientRect(),u=t?(e.clientX-c-n.left)/(n.width-r.width):(e.clientY-c-n.top)/(n.height-r.height);t?l.scrollLeft=u*(l.scrollWidth-s.width):l.scrollTop=u*(l.scrollHeight-s.height)},m=e=>{e.preventDefault(),e.stopPropagation()};return document.addEventListener("mousemove",d),document.addEventListener("mouseup",u),a.addEventListener("mousedown",s),a.addEventListener("click",m),()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",u),a.removeEventListener("mousedown",s),a.removeEventListener("click",m)}}),[n,e,r,t]),{handlerRef:n,railRef:r}},lf=(e,t,n)=>{(0,a.useEffect)((()=>{const a=e.current;if(n&&!t&&a){const e=e=>{e.deltaY>0&&(a.scrollTop+=2)};return a.addEventListener("wheel",e),()=>a.removeEventListener("wheel",e)}}),[n,t,e])};function of({scrollingContainerRef:e,horizontal:t,stopCheckingForScroll:n,alwaysVisible:l,safeZonePadding:o}){const i=(0,a.useRef)(null),c=(0,a.useRef)(null),s=(0,a.useRef)(null),u=cf(e),d=(0,r.useFacetWrap)(null!=n&&n),m=tf(e,t),p=ef(e,i,c,(0,r.useFacetMap)(((e,t)=>e&&!t),[],[m,d]),s,t,o),f=Dr()({TvGJB:!t,_x_mp:t}),g=(0,r.useFacetMap)(((e,t,n)=>"ruYmw "+(n&&(t||e||l)?"KxkO9":"HF6tQ")),[l],[u,p,m]);return a.createElement("div",{className:f,ref:s},a.createElement("div",{className:"ZpO0p",ref:c},a.createElement("fast-div",{className:g,ref:i})))}const cf=e=>{const[t,n]=(0,r.useFacetState)(!1);return(0,a.useEffect)((()=>{var t;const a=()=>n(!0),r=()=>n(!1),l=null!==(t=null==e?void 0:e.current)&&void 0!==t?t:window;return l.addEventListener("touchstart",a),l.addEventListener("touchend",r),()=>{l.removeEventListener("touchstart",a),l.removeEventListener("touchend",r)}}),[e,n]),t};function sf({scrollingContainerRef:e,stopCheckingForScroll:t,alwaysVisible:n,horizontal:r=!1,floating:l,stopTrackingScrollDimensions:o,checkForDynamicScrollArea:i,darkTheme:c,minimalTheme:s,backgroundRole:u,className:d}){const m=Ul();return a.createElement(wl,{data:tt()},(p=>p?a.createElement(nf,{horizontal:r,scrollingContainerRef:e,stopCheckingForScroll:t,safeZonePadding:m.bottom,floating:l,stopTrackingScrollDimensions:o,checkForDynamicScrollArea:i,darkTheme:c,minimalTheme:s,backgroundRole:u,className:d}):a.createElement(of,{horizontal:r,scrollingContainerRef:e,stopCheckingForScroll:t,safeZonePadding:m.bottom,alwaysVisible:n})))}const uf="AHMiQ",df="e8JEP",mf="Atzkz",pf=n(81442);function ff(){return a.createElement(Mp,{src:pf,className:"WGMHw",imageRendering:"pixelated"})}const gf=({interruptible:e=!0,playInBackground:t=!1,profanityFilterContext:n={outOfGame:!0,inGame:!0},required:r=!1}={})=>{const l=(0,a.useRef)(),{readText:o}=(0,a.useContext)(kl);return{narrateText:(0,a.useCallback)((a=>{l.current=setTimeout((()=>{o(a,n,e,r,t)}),200)}),[o,n,e,r,t]),preventNarrateText:(0,a.useCallback)((()=>{l.current&&clearTimeout(l.current)}),[])}},Ef=({children:e,alwaysVisibleChildren:t,loading:n,renderTracker:l,focusGridIndex:o,scrollIntoViewAlign:i="center",scrollIntoViewSpeedFactor:c,horizontal:s=!1,innerRef:u,floating:d,stopTrackingScrollDimensions:m,checkForDynamicScrollArea:p,darkTheme:f,minimalTheme:g,padSpinnerVertically:E,spinnerBackgroundColor:h,disableScrolling:v,showSpinnerBorder:b,stopCheckingForScroll:y,emptyFocusableGamepadAlias:F,emptyFocusableNarrationText:S,defaultFocusedChildBehavior:C,gamepadAlias:M,delegateFocusByAlias:w,delegateFocusFromMemory:k,flexShrinkWrapper:T,scrollbarBackgroundRole:I,scrollbarClassName:P,focusControlDisabled:x,disabled:O,shouldScrollWithAnalog:A=!0,isGrid:N,gridCellWidth:R,gridCellHeight:_,gridColumns:L,gridRows:D,gridCellSizeAuto:W})=>{const B=(0,a.useRef)(null),U=u||B,[z,j]=(0,a.useState)(!1),H=(0,r.useFacetWrap)(n),V=tf(U,s,d||m),G=ia(),$=(0,r.useFacetWrap)(null!=v&&v),K=(0,r.useFacetMap)(((e,n)=>Dr()(s?"V2oRG":"i0p1V",e||n&&null!=t?"bnB8G":null,"E7WzW",s?df:uf)),[s,t],[$,H]),Y=k||"remember"===C,q=z&&!0===d,Q=(0,r.useFacetMap)((e=>Dr()("BDPxm",{[Zm]:e&&q})),[q],[ot()]),J=(0,a.useRef)(null),[Z,ee]=(0,r.useFacetState)(0);(0,r.useFacetEffect)((e=>{let t;const n=()=>{const a=J.current;if(null==a)return;const r=a.getBoundingClientRect(),l=s?r.width:r.height;ee(l),e&&(t=requestAnimationFrame(n))};return n(),()=>{cancelAnimationFrame(t)}}),[ee,J,s],[H]);const te=(0,r.useFacetMap)((e=>null==e||!e),[],[H]),ne=(0,a.useRef)(null),ae=(0,r.useFacetMap)((e=>O||!0===e),[O],[H]),re=(0,r.useFacetWrap)({scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,shouldScrollWithAnalog:A}),{hasChildFocusable:le,onChildFocusableMounted:oe}=zp(),ie=(0,r.useFacetMap)(((e,t)=>G&&!e||!e&&t),[G],[le,V]);return a.createElement(Up,{onChildFocusableMounted:oe},a.createElement(Dp.Provider,{value:le},a.createElement(Fp,{containerRef:ne,focusControlDisabled:x},a.createElement("div",{ref:ne,className:Dr()(s?"Figb7":"FoJAW",{yVYuQ:T})},a.createElement(hf,{focusGridIndex:o,hidden:te,renderTracker:l,padSpinnerVertically:E,spinnerBackgroundColor:h,showBorder:b,spinnerOffsetPosition:Z,horizontal:s}),a.createElement(r.Mount,{when:ie},a.createElement("fast-div",{className:Q},a.createElement(Jm,{inset:!0}))),a.createElement("fast-div",{className:K,ref:U,"data-testid":"scroll-view"},a.createElement(Fp,{disabled:ae,scrollOptions:re,delegateFocusFromMemory:Y,containerRef:U,scrollAxis:s?X.HORIZONTAL:X.VERTICAL,alias:M,delegateFocusByAlias:w,focusControlDisabled:x,isGrid:N,gridCellWidth:R,gridCellHeight:_,gridColumns:L,gridRows:D,gridCellSizeAuto:W},a.createElement("div",{ref:J},t),a.createElement("fast-div",{className:(0,r.useFacetMap)(((e,t)=>Dr()(s?"X3aZt":"HXyrL",s?df:uf,{ZaTbu:e,[mf]:t})),[s],[H,no()])},a.createElement(a.Fragment,null,e,a.createElement(r.Mount,{when:ie},a.createElement(Ff,{onFocusChanged:j,gamepadAlias:F,narrationText:S})))))),a.createElement(r.Mount,{when:te},a.createElement(sf,{stopTrackingScrollDimensions:m,checkForDynamicScrollArea:p,floating:d,horizontal:s,scrollingContainerRef:U,stopCheckingForScroll:y,alwaysVisible:z,darkTheme:f,minimalTheme:g,backgroundRole:I,className:P}))))))};function hf({hidden:e,renderTracker:t,spinnerBackgroundColor:n,padSpinnerVertically:l,showBorder:o=!0,focusGridIndex:i,spinnerOffsetPosition:c,horizontal:s}){const u=(0,r.useFacetMap)((e=>!1===e),[],[e]),[d,m]=(0,r.useFacetState)(!1),p=(0,a.useCallback)((e=>{t&&"unmounted"===e&&m(!0)}),[m,t]);return a.createElement(a.Fragment,null,a.createElement(Yp,{unmountOnExit:!0,visible:u,timeout:500,onStatusChange:p},(e=>a.createElement(bf,{status:e,focusGridIndex:i,padSpinnerVertically:l,showBorder:o,spinnerBackgroundColor:n,spinnerOffsetPosition:c,horizontal:s}))),a.createElement(r.Mount,{when:d},a.createElement(vf,{renderTracker:t})))}const vf=({renderTracker:e})=>a.createElement(a.Fragment,null,e?e(!0):null),bf=({focusGridIndex:e,padSpinnerVertically:t,showBorder:n,spinnerBackgroundColor:l,spinnerOffsetPosition:o,horizontal:i,status:c})=>{const{t:s}=ec("ScrollView"),{narrateText:u}=gf(),[d,m]=(0,r.useFacetState)(!1);(0,r.useFacetEffect)((e=>{let t;return e?t=setInterval(u.bind(null,s(".loadingState")),1e4):null!=t&&clearInterval(t),()=>null!=t&&clearInterval(t)}),[u,s,1e4],[d]);const p=(0,r.useFacetMap)((([e])=>"exiting"===e),[],[c]);return a.createElement(em,{focusGridIndex:e,narrationText:[s(".narrationScrollViewComponentType"),s(".loadingState")].join(" . "),className:(0,r.useFacetMap)(((e,a)=>Dr()("RpRQd",{THzjV:t,wzXR6:e,y2jxe:n,[mf]:!0===a})),[n,t],[p,no()]),classNameFocused:Zm,onFocusChanged:m,onHoverChanged:m,style:{backgroundColor:null!=l?l:"rgba(0, 0, 0, 0.4)",topPX:i?0:o,leftPX:i?o:0},inputLegend:!1,onClick:()=>{}},a.createElement(Jm,{inset:!0}),a.createElement(ff,null))},yf=()=>{},Ff=({onFocusChanged:e,gamepadAlias:t,narrationText:n=!1})=>a.createElement(jp,null,a.createElement(em,{"data-testid":"empty-focusable",className:"VS9gP",onClick:yf,onFocusChanged:e,inputLegend:!1,gamepadAlias:t,narrationText:n}));function Sf({options:e,onClick:t}){return function(e,t){const n=(0,r.useFacetWrap)(e),l=(0,a.useContext)(Pe),o=(0,a.useContext)(D);o.length;const i=o[o.length-1],c=n.get();c===r.NO_VALUE||c.disabled||l.current.putShortcut(i,c.button,{callback:t,inputLegend:c.inputLegend}),(0,r.useFacetEffect)((e=>{const n=o[o.length-1];if(!e.disabled){const a=l.current;return a.putShortcut(n,e.button,{callback:t,inputLegend:e.inputLegend}),()=>{a.removeShortcut(n,e.button)}}}),[t,l,o],[n])}(e,t),null}Ef.SiblingState=({callback:e})=>{const t=Wp();return(0,r.useFacetEffect)((t=>{e(t)}),[e],[t]),null},Ef.useHasScrollbar=tf;const Cf=Sf;function Mf({children:e}){return a.createElement(a.Fragment,null,e)}const wf=e=>{let{children:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["children"]);const l=(0,r.useFacetWrap)("text"in n?n.text:""),o="getText"in n?n.getText:void 0,i=Gd(null!=o?o:l);return a.createElement(Ud,{value:i},t)},kf="ZWBi0",Tf="OGKKM",If=n.p+"assets/checkGrey-a9d8c.png";function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Pf.apply(this,arguments)}const xf=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("TxvgM",t);return a.createElement(Mp,Pf({},n,{className:r,src:If,imageRendering:"pixelated"}))},Of=n.p+"assets/checkWhite-bcfbf.png";function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Af.apply(this,arguments)}const Nf=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("L75Cq",t);return a.createElement(Mp,Af({},n,{className:r,src:Of,imageRendering:"pixelated"}))};function Rf({value:e,disabled:t,gamepad:n,narrationText:l,onClick:o,soundEffectPressed:i,checkedRole:c="primary",uncheckedRole:s="neutral50",mountFocusBorder:u=!0}){const d=Fr(c),m=Fr(s),p=Cr("inherit"),f=(0,r.useFacetWrap)(e),g=(0,r.useFacetWrap)(t),E=(0,r.useFacetWrap)(u),h=(0,r.useFacetCallback)((e=>()=>null==o?void 0:o(!e)),[o],[f]),v=(0,r.useFacetMap)((e=>Dr()("bEWCp",e?[d.background.interactive,d.border.interactive]:[m.background.interactive,m.border.interactive])),[d,m],[f]),b=(0,r.useFacetMap)(((e,t)=>e||!t),[],[g,E]);return a.createElement(em.Maybe,{narrationText:l,isInteractive:"function"==typeof o,gamepadIndex:n.index,classNameFocused:Zm,classNameDisabled:"TSwOq",disabled:t,onClick:h,soundEffectPressed:null!=i?i:p.toggle},a.createElement("fast-div",{className:v},a.createElement(Jm,{disabled:b}),a.createElement(cp,{disabled:t}),a.createElement("fast-div",{style:{display:(0,r.useFacetMap)((e=>e?"flex":"none"),[],[f])},className:"BUigP"},a.createElement("fast-div",{style:{display:(0,r.useFacetMap)((e=>e?"flex":"none"),[],[g])}},a.createElement(xf,null)),a.createElement("fast-div",{style:{display:(0,r.useFacetMap)((e=>e?"none":"flex"),[],[g])}},a.createElement(Nf,null)))))}const _f=()=>{};function Lf({gamepad:e,onChange:t=_f,value:n,title:l,description:o,disabled:i,small:c=!1,hintNarration:s,soundEffectPressed:u,wrapperRole:d="neutral"}){const m=Fr(d),p=Cr(d),f=(0,r.useFacetWrap)(l),g=(0,r.useFacetWrap)(null!=o?o:""),E=(0,r.useFacetWrap)(n),h=(0,r.useFacetWrap)(i),v=(0,r.useFacetCallback)((e=>()=>t(!e)),[t],[E]),{t:b}=ec("Checkbox"),y=(0,r.useFacetMap)(((e,t,n,a)=>[b(".elementType"),t,n,b(e?".labelChecked":".labelUnChecked"),a].filter((e=>e)).join(" . ")),[b],[E,f,g,(0,r.useFacetWrap)(null!=s?s:"")]),F=(0,r.useFacetWrap)(Dr()("tIO8N",m.background.base,{sSJaW:c}));return a.createElement(Xa,{role:d},a.createElement(em,{className:F,inputLegend:b(".toggle"),gamepadIndex:e.index,onClick:v,disabled:h,narrationText:y,soundEffectPressed:null!=u?u:p.toggle,classNameFocused:Zm},a.createElement(cp,{role:d,effect:"bevel",left:!1,right:!1}),a.createElement(om,{size:2}),a.createElement("div",{className:"jw1g3"},a.createElement(Rf,{value:E,narrationText:!1,disabled:h,gamepad:e}),a.createElement("div",{className:Dr()("GSYTw")},a.createElement(fm,{type:"body",role:d,variant:(0,r.useFacetMap)((e=>e?"dimmer":void 0),[],[h])},f),Boolean(o)&&a.createElement("div",{className:Dr()("vEsZy")},a.createElement(fm,{type:"captionShort",role:d,variant:"dimmer"},g)))),a.createElement(om,{size:2})))}const Df=Sf,Wf=n.p+"assets/magnifyingGlass-52f96.png";function Bf(){return Bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bf.apply(this,arguments)}const Uf=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("uItO2",t);return a.createElement(Mp,Bf({},n,{className:r,src:Wf,imageRendering:"pixelated"}))},zf=(0,a.createContext)(null),jf=(zf.Provider,{textFieldWrapper:"ioknC",textField:"qkZ8X",textFieldWrapperShadow:"HlO_u",textFieldBrowserOnly:"QR3RV",textFieldType:"P9M7R",textFieldPlaceholder:"VOEoE",textFieldTextArea:"pYMFt",disabled:"ZcpC0",placeholderAdjustedWithIcon:"kmdON",textFieldContentWrapper:"jA1Z2",textFieldIcon:"Xx1UH",textFieldClearInteractive:"iCWmI"});let Hf;function Vf(e){const{gamepadAlias:t,value:n,disabled:l=!1,label:o,className:i,maxLength:c,narrationText:s,onBlur:u,onFocus:d,onHover:m,onChange:p,onSelectedChange:f,placeholder:g="",rows:E=1,disableBlurOnDeselect:h,onTab:v,isNumber:b,placeholderIcon:y,showClearOptionWhenValueExists:F,onClear:S,hasShadow:C=!0,role:M="neutral80"}=e,{t:w}=ec("BaseTextField"),[k,T]=(0,r.useFacetState)(!1),[I,P]=(0,r.useFacetState)(!1),x=(0,r.useFacetWrap)(n),O=(0,r.useFacetUnwrap)(l),{narrateText:A,preventNarrateText:N}=gf(),R=(0,r.useFacetWrap)(Wd()),_=(0,a.useContext)(zf),L=(0,r.useFacetWrap)(i),D=(0,r.useFacetMap)((e=>e?"number":"text"),[],[(0,r.useFacetWrap)(b)]),W=Fr(M),B=wr(),U=(0,a.useRef)(null),z=(0,a.useRef)(null),H=(0,a.useRef)(!1),V=(0,a.useRef)(!1);(0,r.useFacetEffect)(((e,t)=>{e&&!H.current?(H.current=!0,A(`${w(".selected")} . ${w(".hint",[`${t}`])}`)):e||(H.current=!1)}),[A,w],[k,(0,r.useFacetWrap)(null!=o?o:"")]);const G=(0,a.useContext)(km),$=(0,a.useCallback)((e=>{if(U.current&&document.activeElement===U.current){const t=Gf(U.current.value,null!=e?e:_,w);N(),null!=t&&A(t),document.activeElement===U.current&&p&&p(U.current.value,null!=e?e:_)}}),[p,_,A,w,N]);(0,r.useFacetEffect)((e=>{if(null==U.current)return;const t=U.current.value!==e,n=U.current.value.length>0&&0===e.length;(t||n)&&(U.current.value=e)}),[O],[x]);const K=(0,a.useCallback)((()=>{U.current&&document.activeElement===U.current&&v&&v()}),[v]),X=(0,a.useCallback)((e=>{P(e),f&&f(e),h||e||!U.current||U.current.blur()}),[P,f,h]),Y=(0,a.useCallback)((e=>{if(U.current){if(T(!1),null!=u){const e=(e="")=>{U.current&&(U.current.value=e,null!=p&&p(e,null!=_?_:{addedChars:"",removedChars:"",invalidChars:"",index:-1}))};u(U.current.value,e)}Boolean(e)?X(!0):X(!1)}}),[u,T,X,p,_]),q=(0,a.useCallback)((()=>{U.current&&document.activeElement===U.current&&(U.current.blur(),Y(!0))}),[Y]),Q=(0,a.useCallback)((()=>{U.current&&document.activeElement===U.current&&q()}),[q]);(0,a.useEffect)((()=>{if(!G)return;const e=[G.changedCB($),G.tabbedCB(K),G.submittedCB(Q),G.dismissedCB(q)];return()=>{e.forEach((e=>e()))}}),[G,$,q,K,Q]);const J=(0,a.useCallback)((()=>{U.current&&U.current.focus()}),[]),Z=(0,r.useFacetMap)(((e,t,n)=>{const a=t&&t.focused||e;return Dr()(jf.textField,jf.textFieldType,W.border.interactive,W.text.interactive,W.caret.base,n,{[jf.textFieldBrowserOnly]:!1,[jf.textFieldFocused]:a,[Ya.selected]:a,[jf.disabled]:O,[jf.textFieldTextArea]:E>1})}),[O,E,W],[k,R,L]),ee=(0,r.useFacetMap)(((e,t,n)=>Dr()({[Zm]:n&&n.focused||t&&!e})),[],[k,I,R]),te=(0,a.useCallback)((()=>{T(!0),d&&d(),X(!0)}),[d,T,X]),ne=(0,r.useFacetMap)((e=>({button:j.B,inputLegend:w(".deselect"),disabled:!e})),[w],[k]),ae=(0,r.useFacetMap)((e=>null!=e&&""!==e),[],[x]),re=(0,r.useFacetMap)(((e,t)=>null!=e&&""!==e||t?"none":"flex"),[],[x,k]),le=a.createElement("fast-div",{className:Dr()(jf.textFieldType,jf.textFieldPlaceholder,W.text.interactive,B.dimmest,{[jf.placeholderAdjustedWithIcon]:null!=y}),style:{display:re}},null!=y?a.createElement("div",{className:jf.textFieldContentWrapper},a.createElement("div",{className:jf.textFieldIcon},(Hf.MagnifyingGlass,a.createElement(Uf,null))),a.createElement(am,null,g)):a.createElement(am,null,g)),oe=E>1?a.createElement("fast-textarea",{ref:U,rows:E,className:Z,maxLength:c,onFocus:te,onBlur:()=>{!1===V.current&&Y(!1)}}):a.createElement("fast-input",{ref:U,type:D,className:Z,maxLength:c,onFocus:te,onBlur:()=>{!1===V.current&&Y(!1)}});return a.createElement(Fp,{containerRef:z,shouldBindFocus:k},a.createElement("div",{className:jf.textFieldWrapper,ref:z},a.createElement(Df,{options:ne,onClick:()=>{U.current&&document.activeElement===U.current&&(U.current.blur(),Y(!0))}}),O!==r.NO_VALUE&&O?a.createElement(em,{className:Dr()(jf.textFieldWrapper,W.background.interactive,{[jf.disabled]:O}),"data-testid":e["data-testid"],key:"disabled",narrationText:s,inputLegend:!1,disabled:!0,onFocusChanged:X,onClick:J,gamepadAlias:t},a.createElement("div",{className:Dr()(C?W.shadow.interactive:void 0,{[jf.textFieldWrapperShadow]:C})}),le,a.createElement("fast-div",{className:Z},a.createElement(am,null,x))):a.createElement(em,{key:"enabled",className:Dr()(jf.textFieldWrapper,W.background.base,W.background.disable),"data-testid":e["data-testid"],narrationText:s,inputLegend:w(".select"),onFocusChanged:X,classNameFocused:ee,onClick:J,gamepadAlias:t,onHoverChanged:m,onPressChanged:e=>{V.current=!!e}},a.createElement("div",{className:Dr()(C?W.shadow.interactive:void 0,{[jf.textFieldWrapperShadow]:C})}),le,oe,a.createElement(Jm,{role:M}),F&&a.createElement(r.Mount,{when:ae},a.createElement(em,{className:jf.textFieldClearInteractive,narrationText:!1,inputLegend:"",onClick:()=>null!=S&&S()},a.createElement(Np,null))))))}!function(e){e[e.MagnifyingGlass=0]="MagnifyingGlass"}(Hf||(Hf={}));const Gf=(e,t,n)=>{const a=t.addedChars.split("").join(" "),r=t.removedChars.split("").join(" "),l=t.invalidChars.split("").join(" "),o=""!==l?` ${l} ${n(".invalidNarration")}`:"",i=0!==e.length?` . . ${e}`:"";return""!==a?""!==r?`${r} ${n(".replacedNarration")} ${a}${o}${i}`:`${a} ${n(".addedNarration")}${o}${i}`:""!==r?`${r} ${n(".removedNarration")}${i}`:null};function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$f.apply(this,arguments)}function Kf(e){let{children:t,isTransparent:n,compact:l=!1,focusable:o=!1,narrationText:i=!1,inputLegend:c=!1,shouldDisplayFocus:s=!0,onClick:u,role:d="neutral",disabled:m,border:p=!1,indented:f=!1,"data-testid":g}=e,E=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["children","isTransparent","compact","focusable","narrationText","inputLegend","shouldDisplayFocus","onClick","role","disabled","border","indented","data-testid"]);const h=(0,r.useFacetWrap)(o),v=(0,r.useFacetWrap)(i),b=(0,r.useFacetWrap)(m),{background:y,border:F}=Fr(d),S=Mr("panel",d),C=null!=S.main.base,M=(0,r.useFacetWrap)(n),w=(0,r.useFacetMap)((e=>Dr()("S5pbx",{sA7YJ:e,ODvy4:l,WIs7t:p,TRSe8:f,[`${F.base}`]:p||f},y.base,S.main.base,S.main.hover)),[l,y,S,F,p,f],[M]),k=(0,r.useFacetMap)((e=>Dr()(e,Zm)),[],[w]),T=a.createElement(Xa,{role:d},!l&&!C&&!f&&a.createElement(cp,{interactive:!1,effect:"bevel",left:!1,right:!1}),!l&&a.createElement(om,{size:3}),t,!l&&a.createElement(om,{size:3})),I=(0,r.useFacetMap)(((e,t,n)=>null!=u&&!0!==n||!0===e&&null!=t),[u],[h,v,b]),P=(0,r.useFacetMap)((e=>!e),[],[(0,r.useFacetWrap)(s)]),x=(0,r.useFacetMap)((e=>0==e?"":e),[],[v]);return a.createElement(wf,{text:x},a.createElement(em.Maybe,$f({"data-testid":g,isInteractive:I,className:w,classNameFocused:k,narrationText:!1,inputLegend:c,onClick:null!=u?u:Xf},E),T,a.createElement(Jm,{className:"BVirH",interactive:!1,disabled:P,role:d})))}function Xf(){}function Yf({children:e,disabled:t,role:n="inherit",className:l}){const{text:o}=Fr(n),i=kr(),c=wr(),s=(0,r.useFacetWrap)(e),u=(0,r.useFacetWrap)(t),d=(0,r.useFacetWrap)(l),m=(0,r.useFacetMap)(((e,t)=>Dr()("jOjEv",o.base,{[i.disabled]:e,[c.dimmer]:e},t)),[i,o,c],[u,d]);return a.createElement("fast-span",{className:m},a.createElement("fast-text",{text:s}))}const qf=({children:e,disabled:t,role:n="inherit"})=>{const{text:l}=Fr(n),o=wr(),i=kr(),c=(0,r.useFacetWrap)(e),s=(0,r.useFacetWrap)(t),u=(0,r.useFacetMap)((e=>Dr()("kdCks",l.base,o.dimmer,{[i.disabled]:e})),[i,l,o],[s]);return a.createElement("fast-div",{className:u},a.createElement("fast-text",{text:c}))};function Qf({disabled:e,label:t,description:n,children:l,focusGridIndex:o,transparent:i,disabledNarrationText:c}){const s=ia(),u=(0,r.useFacetMap)((e=>e&&s),[s],[e]),d=(0,r.useFacetMap)(((e,t)=>e&&t?t:""),[],[e,(0,r.useFacetWrap)(null!=c?c:"")]);return a.createElement(Kf,{focusable:u,focusGridIndex:o,isTransparent:i,narrationText:d},a.createElement(Yf,{disabled:e},t),a.createElement(om,{size:1}),l,a.createElement(om,{size:1}),a.createElement(qf,{disabled:e},n))}const Jf={labelContainer:"dGKbF",container:"Mc7_w",focused:"f98RG",elevated:"LtoW3",elevatedAndPressed:"fYLl1",image:"f84oF",imageWithChildren:"sdLtc"},Zf={box:"dPeI6",elevated:"odwOe",elevatedAndPressed:"CU0K9",boxWrapper:"Wiv9U",horizontal:"VLFgJ",raised:"UeAjd",boxBorder:"mg_1B",shine:"y2p1X",shineText:"YXCLb",bottomOffset:"r4GGC",borderMargin:"e3Bep"};function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},eg.apply(this,arguments)}function tg(e){const t=(0,a.useRef)(e);t.current=e;const n=Dr()(Zf.box,Zf.boxBorder,null!=t.current.className?t.current.className:void 0),r=Dr()(Zm,null!=t.current.classNameFocused?t.current.classNameFocused:void 0),l=Dr()(null!=t.current.classNameHovered?t.current.classNameHovered:void 0),o=Dr()(null!=t.current.classNamePressed?t.current.classNamePressed:void 0);return a.createElement(em,eg({autofocus:t.current.autofocus,disabled:t.current.disabled,disableScrollIntoView:t.current.disableScrollIntoView,className:n,"data-testid":t.current["data-testid"],classNameFocused:r,classNameHovered:l,classNamePressed:o,classNameDisabled:t.current.classNameDisabled,delayedClick:t.current.delayedClick,gamepadAlias:t.current.gamepadAlias,gamepadIndex:t.current.gamepadIndex,focusGridIndex:t.current.focusGridIndex,inputLegend:t.current.inputLegend,innerRef:t.current.innerRef,onClick:t.current.onClick,onFocusChanged:t.current.onFocusChanged,onHoverChanged:t.current.onHoverChanged,onPressChanged:t.current.onPressChanged,soundEffectHovered:t.current.soundEffectHovered,soundEffectFocused:t.current.soundEffectFocused,soundEffectPressed:t.current.soundEffectPressed,pressDuration:t.current.pressDuration,tooltip:t.current.tooltip},"narrationText"in t.current?{narrationText:t.current.narrationText}:{getNarrationText:t.current.getNarrationText}),e.children)}const ng=({borderTexture:e,variant:t,isDisabledFacet:n})=>null!=e?a.createElement(qm,{className:e,withoutBorders:!0,hasTexture:!0,role:t}):a.createElement(Jm,{role:t,disabled:n});function ag(e){var t,n,l,o,i,c,s,u;const d=(0,a.useRef)(e);d.current=e;const m=(0,a.useRef)(null),p=null!==(t=d.current.classNameElevated)&&void 0!==t?t:Zf.elevated,{shadow:f,background:g,text:E,border:h}=Fr(d.current.variant),v=Cr(d.current.variant),b=Mr("pressable",d.current.variant),y=b.main.interactive,F=null!=y,S=b.border.interactive,C=Dr()({[null!==(n=d.current.classNameElevatedAndPressed)&&void 0!==n?n:Zf.elevatedAndPressed]:!0!==d.current.shouldNotDepressWhenPressed&&!1===F}),M=Dr()(Zf.boxWrapper,{[Zf.horizontal]:d.current.horizontal}),w=Dr()(E.interactive,y,{[p]:d.current.isElevated&&!1===F,[Zf.horizontal]:d.current.horizontal,[null!==(l=f.interactive)&&void 0!==l?l:""]:!1===F,[null!==(o=h.interactive)&&void 0!==o?o:""]:null==S,[Zf.borderMargin]:null!=S},d.current.containerClassName),k=Dr()(Zf.shine,Zf.shineBackground,Zf.shineText,d.current.className,F?void 0:g.interactive),T=Dr()(Zm,d.current.classNameFocused),I=ia(),P=(0,r.useFacetWrap)(e.disabled),x=(0,r.useFacetWrap)("narrationText"in e?e.narrationText:"function"==typeof e.getNarrationText),O=(0,r.useFacetMap)((e=>!1===e),[],[x]),A=(0,r.useFacetMap)(((e,t)=>!!e&&!t&&I),[I],[P,O]),N=d.current.focusStateOnElevatedFace?a.createElement("div",{className:Zf.bottomOffset},a.createElement(ng,{borderTexture:S,variant:d.current.variant})):a.createElement(ng,{borderTexture:S,variant:d.current.variant});return a.createElement(tg,eg({autofocus:d.current.autofocus,disabled:d.current.disabled,disableScrollIntoView:d.current.disableScrollIntoView,className:w,classNameFocused:T,classNameHovered:d.current.classNameHovered,"data-testid":d.current["data-testid"],classNamePressed:d.current.isElevated?C:void 0,delayedClick:d.current.delayedClick,gamepadAlias:d.current.gamepadAlias,gamepadIndex:d.current.gamepadIndex,focusGridIndex:d.current.focusGridIndex,innerRef:m,inputLegend:d.current.inputLegend,onClick:d.current.onClick,onFocusChanged:d.current.onFocusChanged,onHoverChanged:d.current.onHoverChanged,soundEffectHovered:null!==(i=d.current.soundEffectHovered)&&void 0!==i?i:v.hover,soundEffectFocused:null!==(c=d.current.soundEffectFocused)&&void 0!==c?c:v.focus,soundEffectPressed:null!==(s=d.current.soundEffectPressed)&&void 0!==s?s:v.press,pressDuration:d.current.pressDuration,tooltip:d.current.tooltip},"narrationText"in d.current?{narrationText:d.current.narrationText}:{getNarrationText:d.current.getNarrationText}),a.createElement(r.Mount,{when:A},a.createElement(em,eg({classNameFocused:Zm,className:M,inputLegend:!1,tooltip:d.current.tooltip},"narrationText"in d.current?{narrationText:d.current.narrationText}:{getNarrationText:d.current.getNarrationText}),N)),N,a.createElement("div",{className:k,style:null!=d.current.height?{height:`${d.current.height}rem`}:void 0},a.createElement(cp,eg({effect:d.current.reflection,disabled:F||d.current.disabled,role:d.current.variant},null!==(u=d.current.reflectionConfig)&&void 0!==u?u:{})),a.createElement("div",{className:Dr()(Zf.raised,Zf.shine)},e.children)))}function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rg.apply(this,arguments)}function lg(e){let{imageSource:t,icon:n}=e,l=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["imageSource","icon"]);const o=(0,r.useFacetWrap)(t),i=(0,r.useFacetWrap)(n);return a.createElement(a.Fragment,null,a.createElement(r.With,{data:o},(e=>a.createElement(Mp,rg({imageRendering:"pixelated"},l,{src:e})))),a.createElement(r.With,{data:i},(e=>{const t=(n=e,e=>{const t=(0,r.useFacetUnwrap)(n);return t===r.NO_VALUE?null:a.createElement(t,e)});var n;return a.createElement(t,l)})))}function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},og.apply(this,arguments)}const ig=()=>{},cg=(e,t=!1)=>{switch(e){case"primary":case"secondary":return"secondaryButton";case"destructive":return"destructiveButton";default:return t?"secondaryButton":"primaryButton"}},sg=(e="secondary")=>"hero"!==e?e:"primary",ug=e=>{const{children:t,variant:n="secondary",onClick:l=ig,narrationPrefix:o="",narrationSuffix:i="",disabled:c,soundEffectPressed:s,soundEffectHovered:u,soundEffectFocused:d,delayedClick:m,horizontal:p,isElevated:f=!0,autofocus:g,gamepadIndex:E=0,gamepadAlias:h,disableScrollIntoView:v,inputLegend:b,onFocusChanged:y,tooltip:F}=e,{t:S}=ec("Button"),C=(0,r.useFacetMap)(((e,t)=>`${e} . ${S(".button")} . ${t}`),[S],[(0,r.useFacetWrap)(o),(0,r.useFacetWrap)(i)]);return a.createElement(ag,{isElevated:f,delayedClick:m,narrationText:C,className:Jf.container,"data-testid":e["data-testid"],classNameHovered:Jf.hovered,classNameFocused:Jf.focused,classNamePressed:Jf.pressed,classNameElevated:Jf.elevated,classNameElevatedAndPressed:Jf.elevatedAndPressed,disabled:c,gamepadIndex:E,inputLegend:b,autofocus:g,gamepadAlias:h,disableScrollIntoView:v,onClick:l,soundEffectPressed:s,soundEffectHovered:u,soundEffectFocused:d,horizontal:p,variant:sg(n),onFocusChanged:y,tooltip:F},t)},dg=e=>{var t,n;const{children:r,buttonVariant:l="secondary",typeVariant:o,Icon:i,imgSrc:c,linebreak:s=!1,disabledTextOverride:u,role:d="inherit",hasShadow:m,disabled:p}=e,f=null!=r,g=Mr("button",d),E=null!=(null===(t=g.text)||void 0===t?void 0:t.interactive);return a.createElement("fast-div",{className:Jf.labelContainer},a.createElement(Xa,{role:d},a.createElement(lg,{icon:i,imageSource:c,className:f?Jf.imageWithChildren:Jf.image,disabled:p})),f&&a.createElement(fm,{align:s?"center":void 0,role:d,type:cg(l,E),variant:o,className:null===(n=g.text)||void 0===n?void 0:n.interactive,shadow:m,children:s?null!=u?u:r:a.createElement(am,null,null!=u?u:r),interactive:!0}))},mg=e=>{let{children:t,imgSrc:n,Icon:l,linebreak:o=!1,disabledTextOverride:i,disabled:c,variant:s="secondary",narrationPrefix:u}=e,d=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["children","imgSrc","Icon","linebreak","disabledTextOverride","disabled","variant","narrationPrefix"]);const m=(0,r.useFacetWrap)(c),p=(0,r.useFacetMap)((e=>"hero"===s&&!e),[s],[m]);return a.createElement(ug,og({disabled:c,variant:s,narrationPrefix:null!=u?u:t},d),a.createElement(dg,{buttonVariant:s,imgSrc:n,Icon:l,linebreak:o,disabledTextOverride:i,disabled:c,hasShadow:p,role:sg(s)},t))};let pg;!function(e){e[e.HORIZONTAL_SHAKE=0]="HORIZONTAL_SHAKE"}(pg||(pg={}));const fg={[pg.HORIZONTAL_SHAKE]:{className:"NFMf6",duration:200}};function gg(e=pg.HORIZONTAL_SHAKE){const[t,n]=(0,r.useFacetState)(""),l=(0,a.useRef)(),o=(0,a.useCallback)((()=>{const t=fg[e];n(t.className),l.current=setTimeout((()=>{n("")}),t.duration)}),[e,n]);return(0,a.useEffect)((()=>()=>clearTimeout(l.current)),[]),[o,t]}let Eg;!function(e){e[e.VALID=0]="VALID",e[e.INVALID=1]="INVALID"}(Eg||(Eg={}));const hg=(0,r.createStaticFacet)("");function vg(e,t,n,a,l,o,i=hg){return(0,r.useFacetMap)(((t,n,a,r,l)=>""!=r?r:[t,e(".narrationComponentType"),e(".disabled"),n||null!=o&&o||e(".empty"),a,l].filter((e=>null!=e)).join(" . ")),[e,o],[t,n,a,l,i])}function bg(e,t,n,a,l,o,i=hg){return(0,r.useFacetMap)(((t,n,a,r,l)=>""!=r?r:[t,e(".narrationComponentType"),n||null!=o&&o||e(".empty"),a,l].filter((e=>null!=e&&""!=e)).join(" . ")),[e,o],[t,n,a,l,i])}const yg=()=>{},Fg=()=>{};function Sg({gamepadAlias:e,value:t,disabled:n=!1,maxLength:l,onChange:o=Fg,onBlur:i,placeholder:c,description:s="",narrationOverride:u="",disabledNarrationOverride:d="",label:m,rows:p=1,focusGridIndex:f,disabledNarrationSuffix:g,isNumber:E,transparent:h,onKeyDown:v,onKeyUp:b,"data-testid":y}){const{t:F}=ec("TextField"),S=(0,r.useFacetWrap)(t),C=(0,r.useFacetWrap)(u),M=(0,r.useFacetWrap)(d),w=(0,r.useFacetWrap)(null!=g?g:""),k=(0,r.useFacetWrap)(s),T=(0,r.useFacetWrap)(m),I=(0,r.useFacetWrap)(n),P=(0,r.useFacetWrap)(h),[x,O]=gg(pg.HORIZONTAL_SHAKE),A=bg(F,T,S,k,C,c),N=vg(F,T,S,k,M,c,w),R=(0,a.useCallback)(((e,t)=>{null!=i&&i(e,t)===Eg.INVALID&&x()}),[i,x]);return a.createElement(Qf,{disabled:I,label:T,focusGridIndex:f,description:k,transparent:P,disabledNarrationText:N},a.createElement(Vf,{className:O,placeholder:c,disabled:n,label:T,gamepadAlias:e,maxLength:l,narrationText:A,value:t,onChange:o,rows:p,onBlur:R,isNumber:E,shouldBlurOnEnter:!0,shouldBlurOnEscape:!0,onKeyDown:v,onKeyUp:b,"data-testid":y}))}Sg.WithButton=function({gamepadAlias:e,value:t,disabled:n=!1,label:l,maxLength:o,onChange:i=yg,onBlur:c,placeholder:s,description:u="",narrationOverride:d="",disabledNarrationOverride:m="",rows:p=1,focusGridIndex:f,buttonNarrationHint:g,disabledNarrationSuffix:E,isNumber:h,textDisabled:v=!1,buttonText:b,buttonInputLegend:y="",buttonDisabled:F=!1,buttonOnClick:S=yg,soundEffectButtonPressed:C,buttonVariant:M="secondary",buttonDisabledNarrationHint:w="","data-testid":k}){const{t:T}=ec("TextField"),{t:I}=ec("TextFieldWithButton"),P=(0,r.useFacetWrap)(t),x=(0,r.useFacetWrap)(d),O=(0,r.useFacetWrap)(m),A=(0,r.useFacetWrap)(null!=E?E:""),N=(0,r.useFacetWrap)(l),R=(0,r.useFacetWrap)(n),_=(0,r.useFacetWrap)(u),L=(0,r.useFacetMap)((e=>`${e} . ${I(".navigationHint")}`),[I],[_]),D=(0,r.useFacetWrap)(v),W=(0,r.useFacetWrap)(F),B=(0,r.useFacetWrap)(w),U=(0,r.useFacetMap)(((e,t)=>e?t:""),[],[W,B]),[z,j]=gg(pg.HORIZONTAL_SHAKE),H=bg(T,N,P,L,x,s,U),V=vg(T,N,P,L,O,s,A),G=(0,a.useCallback)(((e,t)=>{null!=c&&c(e,t)===Eg.INVALID&&z()}),[c,z]);return a.createElement(Qf,{disabled:R,label:N,focusGridIndex:f,description:_,disabledNarrationText:V},a.createElement("div",{className:"L6uh_"},a.createElement("div",{className:"XpDm4"},a.createElement(Vf,{className:j,placeholder:s,disabled:(0,r.useFacetMap)(((e,t)=>e||t),[],[D,R]),label:N,gamepadAlias:e,maxLength:o,narrationText:H,value:t,onChange:i,onBlur:G,isNumber:h,rows:p,shouldBlurOnEnter:!0,shouldBlurOnEscape:!0,"data-testid":k})),a.createElement(om,{size:2}),a.createElement("div",{className:"JA_ZQ"},a.createElement(mg,{gamepadIndex:1,inputLegend:y,disabled:(0,r.useFacetMap)(((e,t)=>e||t),[],[W,R]),onClick:S,soundEffectPressed:C,narrationSuffix:g,variant:M},b))))},Sg.ValidationResult=Eg;const Cg="f6wZX";function Mg({percentage:e,tall:t=!1,fillColor:n="#2e6be5",fillColorThresholds:l,fillComplement:o=!1}){const i=(0,r.useFacetWrap)(e),c=(0,r.useFacetWrap)(t);(e<0||e>1)&&console.warn("Percentage needs to be a valid number from 0 to 1");const s=(0,a.useMemo)((()=>null!=l?Object.keys(l).map((e=>e)).sort(((e,t)=>e>t?1:-1)):void 0),[l]),u=(0,r.useFacetMap)(((e,t)=>{if(null==s||null==l)return e;if(0===s.length)return console.warn("Empty thresholds object passed to ProgressBar."),e;for(let e=s.length;e>=0;e--)if(t>=s[e])return l[s[e]];return e}),[l,s],[(0,r.useFacetWrap)(n),i]),d=(0,r.useFacetMap)((e=>"string"==typeof e?e:!0===e?"#ffb366":void 0),[],[(0,r.useFacetWrap)(o)]),m=!1===(0,r.useFacetUnwrap)(o);return a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>Dr()("q6zFV",{[Cg]:e})),[],[c]),style:{backgroundColor:d}},a.createElement(cp,{effect:"bevel",thin:!0,reversed:m}),a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>Dr()("oOBki",{[Cg]:e})),[],[c]),style:{width:(0,r.useFacetMap)((e=>`${Math.max(Math.min(Math.round(100*e),100),0)}%`),[],[i]),backgroundColor:u}},a.createElement(cp,{effect:"bevel",thin:!0,right:!1})))}const wg={InputLegend:"FGHxt",hidden:"mdtlU"},kg="liriy",Tg="VLERn",Ig="UoTWb",Pg="l5n3u",xg="xN6WQ",Og="eMLrL",Ag={[j.A]:Dr()(kg,"OHrZ8",Tg),[j.B]:Dr()(kg,"fg2E4",Tg),[j.X]:Dr()(kg,"iQyId",Tg),[j.Y]:Dr()(kg,"pxPk9",Tg),[j.START]:Dr()(kg,"oDCN0","eVmaS"),[j.LEFT_TRIGGER]:Dr()(kg,"WyyoK",Ig),[j.RIGHT_TRIGGER]:Dr()(kg,"aOFj8",Ig),[j.LEFT_BUMPER]:Dr()(kg,"GS50F",Pg),[j.RIGHT_BUMPER]:Dr()(kg,"mKs6r",Pg),[j.LEFT]:Dr()(kg,"pDhLW",xg),[j.RIGHT]:Dr()(kg,"wK3Xd",xg),[j.UP]:Dr()(kg,"nlvNB",xg),[j.DOWN]:Dr()(kg,"J9MtE",xg),[j.SELECT]:Dr()(kg,"QvCIw","RjcUU"),[j.L3]:Dr()(kg,"Fqdok",Og),[j.R3]:Dr()(kg,"yqVFC",Og),[j.LEFT_ANALOG_LEFT]:Dr()(kg,"v0Ce5",Og),[j.RIGHT_ANALOG_LEFT]:Dr()(kg,"i4uVO",Og),large:"aItg1",small:"vMjA2"},Ng="YQeSi",Rg="at3wP",_g="hjYMG",Lg="bSrtd",Dg="pdEm6",Wg="FkFaw",Bg={[j.A]:Dr()(Ng,"saRDS",Rg),[j.B]:Dr()(Ng,"fq1Wt",Rg),[j.X]:Dr()(Ng,"KeNau",Rg),[j.Y]:Dr()(Ng,"e7md4",Rg),[j.START]:Dr()(Ng,"kqt1L","TvAgE"),[j.LEFT_TRIGGER]:Dr()(Ng,"DckFK",Lg),[j.RIGHT_TRIGGER]:Dr()(Ng,"RYAZU",Lg),[j.LEFT_BUMPER]:Dr()(Ng,"U6swu",_g),[j.RIGHT_BUMPER]:Dr()(Ng,"G58dQ",_g),[j.LEFT]:Dr()(Ng,"huNm8",Dg),[j.RIGHT]:Dr()(Ng,"JHI_T",Dg),[j.UP]:Dr()(Ng,"dkG8m",Dg),[j.DOWN]:Dr()(Ng,"xESXG",Dg),[j.SELECT]:Dr()(Ng,"Ep0S5","TbNT7"),[j.L3]:Dr()(Ng,"Khy_Q",Wg),[j.R3]:Dr()(Ng,"W_0vF",Wg),[j.LEFT_ANALOG_LEFT]:Dr()(Ng,"JoHy1",Wg),[j.RIGHT_ANALOG_LEFT]:Dr()(Ng,"xI7dX",Wg),large:"OQ6xf",small:"VqfCS"},Ug="oYpoG",zg="rgQQy",jg="NHxos",Hg="bWa3v",Vg="bkeIb",Gg="EtpTm",$g={[j.A]:Dr()(Ug,"s5WBf",zg),[j.B]:Dr()(Ug,"Kv7uC",zg),[j.X]:Dr()(Ug,"kYWOu",zg),[j.Y]:Dr()(Ug,"WtpwV",zg),[j.START]:Dr()(Ug,"lACg4","M2OrT"),[j.LEFT_TRIGGER]:Dr()(Ug,"wxIDB",Hg),[j.RIGHT_TRIGGER]:Dr()(Ug,"X2Vmd",Hg),[j.LEFT_BUMPER]:Dr()(Ug,"tHBmF",jg),[j.RIGHT_BUMPER]:Dr()(Ug,"n1nsL",jg),[j.LEFT]:Dr()(Ug,"FOhDs",Vg),[j.RIGHT]:Dr()(Ug,"xALny",Vg),[j.UP]:Dr()(Ug,"h2Qqa",Vg),[j.DOWN]:Dr()(Ug,"f8TY5",Vg),[j.SELECT]:Dr()(Ug,"f2Ygw","M_q6y"),[j.L3]:Dr()(Ug,"qxa8S",Gg),[j.R3]:Dr()(Ug,"KhF5i",Gg),[j.LEFT_ANALOG_LEFT]:Dr()(Ug,"lEWFT",Gg),[j.RIGHT_ANALOG_LEFT]:Dr()(Ug,"GcMtB",Gg),large:"YG8U4",small:"z6TF3"},Kg="K_Ucb",Xg="MC54K",Yg="Yh8am",qg="f12Q1",Qg="chFOJ",Jg="ApnkV",Zg={[j.A]:Dr()(Kg,"qRaP6",Xg),[j.B]:Dr()(Kg,"AI6pj",Xg),[j.X]:Dr()(Kg,"_MHws",Xg),[j.Y]:Dr()(Kg,"B5rVg",Xg),[j.START]:Dr()(Kg,"sp3nW","lfQSn"),[j.LEFT_TRIGGER]:Dr()(Kg,"Vdaoj",qg),[j.RIGHT_TRIGGER]:Dr()(Kg,"_O7W7",qg),[j.LEFT_BUMPER]:Dr()(Kg,"oQWb_",Yg),[j.RIGHT_BUMPER]:Dr()(Kg,"u1YVo",Yg),[j.LEFT]:Dr()(Kg,"tkRUh",Qg),[j.RIGHT]:Dr()(Kg,"e3hRs",Qg),[j.UP]:Dr()(Kg,"znMgA",Qg),[j.DOWN]:Dr()(Kg,"Ghttt",Qg),[j.SELECT]:Dr()(Kg,"jyA7I","gnCaZ"),[j.L3]:Dr()(Kg,"ejTg5",Jg),[j.R3]:Dr()(Kg,"wIh1n",Jg),[j.LEFT_ANALOG_LEFT]:Dr()(Kg,"uxDU0",Jg),[j.RIGHT_ANALOG_LEFT]:Dr()(Kg,"RBEvC",Jg),large:"h7tik",small:"P1SbE"},eE="G7Zxr",tE="PITVu",nE="SRDuY",aE={[pe.TAB]:Dr()(eE,"w8Ue4",tE),[pe.ENTER]:Dr()(eE,"DaFVW",tE),[pe.SHIFT]:Dr()(eE,"PnyQi",tE),[pe.ESCAPE]:Dr()(eE,"Smnr0",tE),[pe.SPACE]:Dr()(eE,"s89WE",tE),[pe.CTRL]:Dr()(eE,"sWwMn",tE),[pe.F2]:Dr()(eE,"VoqlF",tE),[pe.BRACKET_OPEN]:Dr()(eE,"uSqYm"),[pe.BRACKET_CLOSE]:Dr()(eE,"ekxWu"),[pe.UP]:Dr()(eE,"b7nKj"),[pe.RIGHT]:Dr()(eE,"Lz1in"),[pe.DOWN]:Dr()(eE,"j_BNz"),[pe.LEFT]:Dr()(eE,"OE2P1"),[pe.KEY_0]:Dr()(eE,"TbhIT"),[pe.KEY_1]:Dr()(eE,"cuPgL"),[pe.KEY_2]:Dr()(eE,"e5wNF"),[pe.KEY_3]:Dr()(eE,"ppvtq"),[pe.KEY_4]:Dr()(eE,"Y81IB"),[pe.KEY_5]:Dr()(eE,"m3hWH"),[pe.KEY_6]:Dr()(eE,"_2osj"),[pe.KEY_7]:Dr()(eE,"GKXym"),[pe.KEY_8]:Dr()(eE,"czhOA"),[pe.KEY_9]:Dr()(eE,"qHgTt"),[pe.KEY_A]:Dr()(eE,"tBb_V"),[pe.KEY_C]:Dr()(eE,"tz71H"),[pe.KEY_D]:Dr()(eE,"VyL1w"),[pe.KEY_E]:Dr()(eE,"tpVOe"),[pe.KEY_F]:Dr()(eE,"q9B4F"),[pe.KEY_M]:Dr()(eE,"Drtqa"),[pe.KEY_Q]:Dr()(eE,"tafjE"),[pe.KEY_R]:Dr()(eE,"Zb3UU"),[pe.KEY_S]:Dr()(eE,"YOlJ6"),[pe.KEY_T]:Dr()(eE,"oMhZB"),[pe.KEY_V]:Dr()(eE,"iCLcl"),[pe.KEY_W]:Dr()(eE,"auvwE"),[pe.KEY_X]:Dr()(eE,"QxQ1Y"),[pe.KEY_Y]:Dr()(eE,"QrQyh"),[pe.KEY_Z]:Dr()(eE,"Hoaaj"),[pe.MOUSE_MOVEMENT]:Dr()(eE,"T27KG",nE),[pe.MOUSE_BUTTON_LEFT]:Dr()(eE,"JqJ5A",nE),[pe.MOUSE_BUTTON_MIDDLE]:Dr()(eE,"SWSY_",nE),[pe.MOUSE_BUTTON_RIGHT]:Dr()(eE,"P_s1j",nE),[pe.MOUSE_WHEEL]:Dr()(eE,"m3IeL",nE),[-2]:"Gnnm7",[-3]:"roch1"},rE=function({button:e,theme:t="light"}){const n=(0,a.useContext)(Qe),l=(0,r.useFacetWrap)(e),o=(0,r.useFacetMap)(((e,n)=>{const a=(r=n)===Ke.XBOX?Ag:r===Ke.PS4?Bg:r===Ke.PS5?$g:r===Ke.NX_HANDHELD||r===Ke.NX_TV?Zg:Ag;var r;return a[e]?Dr()(a[e],{[a.large]:"large"===t,[a.small]:"small"===t}):""}),[t],[l,n]);return a.createElement("fast-div",{className:o})},lE=({keyCode:e,theme:t="light"})=>{const n=(0,r.useFacetWrap)(e),l=(0,r.useFacetMap)((e=>null!=aE[e]?Dr()(aE[e],{[aE[-2]]:"large"===t,[aE[-3]]:"small"===t}):"bWVyX"),[t],[n]),o=(0,r.useFacetMap)((e=>null==aE[e]?String.fromCharCode(e):""),[],[n]);return a.createElement("fast-div",{className:l},a.createElement("fast-text",{text:o}))};function oE(e){const t=Mr("inputLegend","inherit"),{label:n,hidden:l=!1,onClick:o,onHoverChanged:i}=e,c=(0,r.useFacetMap)((e=>Dr()("r2rQH",t.inputHint.interactive,{Ob6kp:e})),[t],[(0,r.useFacetWrap)(l)]),s=a.createElement(a.Fragment,null,a.createElement("div",{className:"X7C6X"},"button"in e?a.createElement(rE,{button:e.button,theme:"light"}):a.createElement(lE,{keyCode:e.keyCode,theme:"light"})),a.createElement("div",{className:"lX5qc"}),a.createElement("fast-text",{text:n}));return o?a.createElement(em,{gamepadIndex:0,narrationText:n,inputLegend:n,onHoverChanged:i,onClick:o,className:c,classNameHovered:"LJ0gR",classNamePressed:"MMiKH",nonFocusable:!0},s):a.createElement("fast-div",{className:c},s)}function iE({shouldDisplayKeyboard:e,isClickable:t=!1,role:n="neutral100"}){const[l]=An();return a.createElement(Xa,{role:n},a.createElement(cE,{isClickable:t,visible:(0,r.useFacetMap)(((t,n)=>t&&!!e&&!n),[e],[at(),l])}),a.createElement(sE,{isClickable:t,visible:(0,r.useFacetMap)(((e,t)=>e&&!t),[],[nt(),l])}))}function cE({isClickable:e,visible:t}){const n=ke(),l=(0,r.useFacetMap)((({swapABButtons:e})=>e),[],[n]),o=(0,r.useFacetMap)((({swapXYButtons:e})=>e),[],[n]),i=We(),c=ze(),[s]=ye(),u=(0,r.useFacetUnwrap)(s),d=u===r.NO_VALUE?Ee:u;return a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>e?wg.InputLegend:wg.hidden),[],[t])},a.createElement(iE.Wrapper,{left:a.createElement(oE,{keyCode:(0,r.useFacetMap)((e=>d[e?j.A:j.B][0]),[d],[l]),label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.B])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.B):void 0,hidden:(0,r.useFacetMap)((e=>null!=e[j.B]),[],[i])}),right:a.createElement(a.Fragment,null,a.createElement(oE,{keyCode:d[j.LEFT][0],label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.LEFT])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.LEFT):void 0,hidden:(0,r.useFacetMap)((e=>null!=e[j.LEFT]),[],[i])}),a.createElement(oE,{keyCode:d[j.RIGHT][0],label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.RIGHT])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.RIGHT):void 0,hidden:(0,r.useFacetMap)((e=>null!=e[j.RIGHT]),[],[i])}),a.createElement(oE,{keyCode:d[j.UP][0],label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.UP])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.UP):void 0,hidden:(0,r.useFacetMap)((e=>null!=e[j.UP]),[],[i])}),a.createElement(oE,{keyCode:d[j.DOWN][0],label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.DOWN])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.DOWN):void 0,hidden:(0,r.useFacetMap)((e=>null!=e[j.DOWN]),[],[i])}),a.createElement(oE,{keyCode:(0,r.useFacetMap)((e=>d[e?j.Y:j.X][0]),[d],[o]),label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.X])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.X):void 0,hidden:(0,r.useFacetMap)((e=>null!=e[j.X]),[],[i])}),a.createElement(oE,{keyCode:(0,r.useFacetMap)((e=>d[e?j.X:j.Y][0]),[d],[o]),label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.Y])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.Y):void 0,hidden:(0,r.useFacetMap)((e=>null!=e[j.Y]),[],[i])}),a.createElement(oE,{keyCode:d[j.START][0],label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.START])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.START):void 0,hidden:(0,r.useFacetMap)((e=>null!=e[j.START]),[],[i])}),a.createElement(oE,{keyCode:(0,r.useFacetMap)((e=>d[e?j.B:j.A][0]),[d],[l]),label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.A])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.A):void 0,hidden:(0,r.useFacetMap)((e=>null!=e[j.A]),[],[i])}))}))}function sE({isClickable:e,visible:t}){const n=ke(),l=(0,r.useFacetMap)((({swapABButtons:e})=>e),[],[n]),o=(0,r.useFacetMap)((({swapXYButtons:e})=>e),[],[n]),i=We(),c=ze();return a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>e?wg.InputLegend:wg.hidden),[],[t])},a.createElement(iE.Wrapper,{left:a.createElement(oE,{button:(0,r.useFacetMap)((e=>e?j.A:j.B),[],[l]),label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.B])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.A):void 0,hidden:(0,r.useFacetMap)((e=>null==e[j.B]),[],[i])}),right:a.createElement(a.Fragment,null,a.createElement(oE,{button:j.LEFT,label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.LEFT])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.LEFT):void 0,hidden:(0,r.useFacetMap)((e=>null==e[j.LEFT]),[],[i])}),a.createElement(oE,{button:j.LEFT_TRIGGER,label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.LEFT_TRIGGER])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.LEFT_TRIGGER):void 0,hidden:(0,r.useFacetMap)((e=>null==e[j.LEFT_TRIGGER]),[],[i])}),a.createElement(oE,{button:j.RIGHT_TRIGGER,label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.RIGHT_TRIGGER])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.RIGHT_TRIGGER):void 0,hidden:(0,r.useFacetMap)((e=>null==e[j.RIGHT_TRIGGER]),[],[i])}),a.createElement(oE,{button:j.RIGHT,label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.RIGHT])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.RIGHT):void 0,hidden:(0,r.useFacetMap)((e=>null==e[j.RIGHT]),[],[i])}),a.createElement(oE,{button:j.UP,label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.UP])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.UP):void 0,hidden:(0,r.useFacetMap)((e=>null==e[j.UP]),[],[i])}),a.createElement(oE,{button:j.DOWN,label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.DOWN])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.DOWN):void 0,hidden:(0,r.useFacetMap)((e=>null==e[j.DOWN]),[],[i])}),a.createElement(oE,{button:(0,r.useFacetMap)((e=>e?j.Y:j.X),[],[o]),label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.X])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.X):void 0,hidden:(0,r.useFacetMap)((e=>null==e[j.X]),[],[i])}),a.createElement(oE,{button:(0,r.useFacetMap)((e=>e?j.X:j.Y),[],[o]),label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.Y])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.Y):void 0,hidden:(0,r.useFacetMap)((e=>null==e[j.Y]),[],[i])}),a.createElement(oE,{button:(0,r.useFacetMap)((e=>e?j.B:j.A),[],[l]),label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.A])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.A):void 0,hidden:(0,r.useFacetMap)((e=>null==e[j.A]),[],[i])}),a.createElement(oE,{button:j.START,label:(0,r.useFacetMap)((e=>{var t;return null!==(t=e[j.START])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.START):void 0,hidden:(0,r.useFacetMap)((e=>null==e[j.START]),[],[i])}))}))}function uE(){return uE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},uE.apply(this,arguments)}iE.displayName="InputLegend",iE.Wrapper=function({safeZone:e,left:t,right:n,role:r="inherit"}){const l=Fr(r),o=Mr("inputLegend",r).sideContainer,i=null!=o.interactive,c=Ul(),s=e||c;return a.createElement("div",{className:Dr()("_iCp3",l.text.base),style:{height:`calc(4rem + ${s.bottom}px)`}},a.createElement("div",{className:Dr()("Lh0_R",i?void 0:l.background.base)}),a.createElement(cp,{role:r,effect:"specular",thin:!0,left:!1,right:!1,bottom:!1}),a.createElement("div",{className:"HvYsi",style:{height:"4rem",paddingRight:s.right+"px",paddingLeft:s.left+"px"}},null!=t?a.createElement("div",{className:Dr()("gB3x9",o.interactive)},t):null,null!=n?a.createElement("div",{className:Dr()("Gehqy",o.interactive)},n):null))},iE.Space=function({extraSpace:e,addSafeZone:t=!0}){const n=(0,r.useFacetMap)((e=>Dr()(wg.wrapper,{[wg.hidden]:!e})),[],[nt()]),l=Ul(),o=(0,r.useFacetWrap)(t),i=(0,r.useFacetMap)((e=>e?`calc(4rem + ${l.bottom}px)`:"4rem"),[l],[o]);return a.createElement("fast-div",{className:n},a.createElement("fast-div",{style:{height:i}}),e)},iE.InputHint=oE,iE.Icon=({button:e})=>{const t=at(),n=(0,r.useFacetUnwrap)(t),l=function(e){const t=(0,r.useFacetWrap)(e),n=We(),a=at(),[l]=ye(),o=ke(),i=(0,r.useFacetMap)(((e,t,n,a,{swapABButtons:r,swapXYButtons:l})=>{var o,i;const c=a;let s=e;r&&(s===j.A?s=j.B:s===j.B&&(s=j.A)),l&&(s===j.Y?s=j.X:s===j.X&&(s=j.Y));const u=n?c[s][0]:s;return{keyCode:null!=u?u:"",keyCodeGamepad:null!==(o=s)&&void 0!==o?o:"",keyCodeKeyboard:null!==(i=c[s][0])&&void 0!==i?i:"",inputLegend:t[e],isAvailable:e in t}}),[],[t,n,a,l,o]);return i}(e),o=(0,r.useFacetMap)((e=>e.keyCodeGamepad),[],[l]),i=(0,r.useFacetMap)((e=>e.keyCodeKeyboard),[],[l]),c=(0,r.useFacetMap)((e=>e.isAvailable),[],[l]);return!1===(0,r.useFacetUnwrap)(c)?null:!0===n?a.createElement(lE,{keyCode:i}):a.createElement(rE,{button:o})};const dE=e=>{e.stopPropagation()},mE=()=>{},pE=(0,a.createContext)({isModalVisible:(0,r.createFacet)({initialValue:!1}),onMount:()=>mE});function fE(e){const{onMount:t}=(0,a.useContext)(pE);(0,a.useEffect)((()=>t(e)),[t,e])}const gE=(0,a.createContext)({getId:()=>0,set:()=>{}}),EE=(0,a.createContext)((0,r.createFacet)({initialValue:""})),hE=(0,a.createContext)((0,r.createFacet)({initialValue:""}));function vE({children:e,defaultFocusAlias:t,overlay:n=!0,onOverlayClick:l,role:o="neutral",modalTypeNarrationHint:i}){const{t:c}=ec("Modal"),s=(0,a.useRef)(0),[u,d]=(0,r.useFacetState)([]),m=Fr(o),[p,f]=(0,r.useFacetState)(""),g=(0,r.useFacetMap)((e=>e.filter((e=>e.length>0)).slice(1).join(" . ")),[],[u]);(0,r.useFacetEffect)((e=>{const t=e.filter((e=>e.length>0)),n=[t[0],c(".narrationModalComponentType"),i,...t.slice(1)].filter(Boolean).join(" . ");f(n)}),[i,f,c],[u]);const E=(0,a.useRef)(null),h=(0,r.useFacetMemo)((e=>e[0]),[],[u]);fE();const v=n?vE.Overlay:a.Fragment,b=n?{onClick:l}:{};return a.createElement(Xa,{role:o},a.createElement(v,b,a.createElement(EE.Provider,{value:h},a.createElement(hE.Provider,{value:g},a.createElement(gE.Provider,{value:(0,a.useMemo)((()=>({getId:()=>s.current++,set:(e,t)=>d((n=>n===r.NO_VALUE?[]:(n[e]=!1===t?"":t,n)))})),[d])},a.createElement(wf,{text:p},a.createElement("div",{ref:E,className:Dr()("icsZi",m.border.base),onClick:dE},a.createElement(Fp,{containerRef:E,shouldBindFocus:!0,delegateFocusByAlias:t,delegateFocusFromMemory:!0},e))))))))}const bE=(e,t=0)=>{const n=(0,a.useContext)(gE),[l,o]=(0,r.useFacetState)(r.NO_VALUE);(0,a.useEffect)((()=>{l.get()==r.NO_VALUE&&o(n.getId())}),[l,o,n]);const i=(0,a.useRef)();(0,r.useFacetEffect)(((e,a)=>{(null==i.current||Date.now()-i.current>t)&&(n.set(e,a),i.current=Date.now())}),[n,t],[l,(0,r.useFacetWrap)(e)])};let yE;!function(e){e.Ordered="ordered",e.Unordered="unordered"}(yE||(yE={}));const FE=({items:e,gamepadIndex:t,listType:n})=>{const l=(0,r.useFacetWrap)(e);return a.createElement(CE,{gamepadIndex:t},a.createElement(r.Map,{array:l},((e,t)=>a.createElement(SE,{items:l,item:e,index:t,listType:n}))))},SE=({items:e,item:t,index:n,listType:l=yE.Unordered})=>{const o=(0,r.useFacetMap)((e=>e.length-1!==n),[n],[e]);return a.createElement(a.Fragment,null,a.createElement(ME,{gamepadIndex:n,text:t,listType:l}),a.createElement(r.Mount,{when:o},a.createElement(om,{size:2})))},CE=({children:e,gamepadIndex:t})=>!0===(0,r.useFacetUnwrap)(Wp())?a.createElement(Mf,{options:{index:t}},e):a.createElement(a.Fragment,null,e),ME=({gamepadIndex:e,text:t,listType:n})=>{const l=n===yE.Unordered?"":`${e+1}.`,o=(0,r.useFacetMap)((e=>`${l} ${e}`),[l],[t]),i=Wp(),c=n===yE.Unordered?t:o;return bE(c),a.createElement(em.Maybe,{isInteractive:i,gamepadIndex:e,narrationText:c,className:"kxZXz"},a.createElement(fm,{type:"captionLong",align:"left",indent:!0},o))};var wE;vE.Header=({children:e,onBack:t,onClose:n,titlebarGamepadAlias:l,closeButtonNarrationSuffix:o,hideCloseButton:i,role:c="neutral"})=>{var s,u;bE(e);const d=Lp.Buttons.Close.useLocalization().t(".inputLegend"),m=Lp.Buttons.Back.useLocalization().t(".inputLegend");i=(0,r.useFacetWrap)(null!==(s=i)&&void 0!==s&&s);const p=(0,r.useFacetMap)((e=>e?"yLSeP":""),[],[i]),f=(0,r.useFacetMap)((e=>({button:j.B,inputLegend:null!=t?m:d,disabled:!0===e||null==n})),[t,n,d,m],[i]),g=(0,r.useFacetMap)((e=>!e&&d),[d],[i]);return a.createElement(a.Fragment,null,a.createElement(Cf,{options:f,onClick:null!==(u=null!=t?t:n)&&void 0!==u?u:mE}),a.createElement(Lp,{role:c,gamepadAlias:l,left:t&&a.createElement(Lp.Buttons.Back.Component,{onClick:t}),right:n&&a.createElement("fast-div",{className:p},a.createElement(Lp.Buttons.Close.Component,{onClick:n,inputLegend:g,narrationSuffix:o,testId:"closeModalTestId"}))},a.createElement(fm,{type:"body"},a.createElement(am,null,e))))},vE.Text=({image:e,children:t,gamepadIndex:n,narrationText:l,center:o=!1})=>{const i=Wp(),c=(0,r.useFacetWrap)(o);bE(l);const s=(0,r.useFacetMap)((e=>Dr()("qXm9P",{[kf]:e})),[],[c]),u=(0,r.useFacetMap)((e=>e?"center":"left"),[],[c]);return a.createElement(em.Maybe,{isInteractive:i,gamepadIndex:n,narrationText:l,className:s,classNameFocused:Zm},a.createElement(Jm,{inset:!0}),null==e?null:a.createElement(a.Fragment,null,e,a.createElement(om,{size:4})),a.createElement("span",{className:"BPMWS"},a.createElement(fm,{type:"captionLong",align:u},t)))},vE.Paragraphs=({children:e,narrationText:t,spaceBetweenParagraphs:n=5,gamepadIndex:r,center:l})=>{const o=Wp();bE(t);const i=e.filter(Boolean);return a.createElement(em.Maybe,{isInteractive:o,gamepadIndex:r,narrationText:t,className:"MHiRD",classNameFocused:Zm},a.createElement(Jm,{inset:!0}),i.map(((e,t)=>a.createElement(a.Fragment,{key:t},a.createElement("div",{className:Dr()("yHUQ1",{[kf]:l})},e),null!=n&&t<i.length-1&&a.createElement(om,{size:n})))))},vE.List=FE,vE.OrderedList=({items:e,gamepadIndex:t})=>a.createElement(FE,{items:e,gamepadIndex:t,listType:yE.Ordered}),vE.Content=({children:e,gamepadAlias:t,scrollable:n=!0,role:r="neutral80",scrollbarBackgroundRole:l,scrollbarClassName:o,className:i})=>{const c=(0,a.useContext)(EE),s=(0,a.useContext)(hE),[u,d]=(0,a.useState)(!1),m=Fr(r);return a.createElement(wf,{text:c},a.createElement("div",{className:Dr()(m.background.base,m.text.base,i,{GHU0b:n})},n?a.createElement(Ef,{gamepadIndex:-1,floating:!0,emptyFocusableGamepadAlias:t,emptyFocusableNarrationText:u?"":s,scrollbarBackgroundRole:l,scrollbarClassName:o,focusControlDisabled:!0},e,a.createElement(Ef.SiblingState,{callback:d})):e))},vE.Buttons=({children:e,horizontal:t=!1,role:n="inherit",header:r})=>{const l=Fr(n);return a.createElement(Gr,null,r,a.createElement("div",{className:Dr()("kc2Fb",l.background.base,{IVSIi:t})},a.createElement(cp,{effect:"bevel",left:!1,right:!1}),e))},vE.Overlay=({onClick:e,children:t,role:n="inherit"})=>{const r=Fr(n);return a.createElement("div",{className:Dr()("VT1Tw",r.overlay.base),onClick:e},a.createElement("div",{className:"UvzEX"},t,a.createElement(iE.Space,null)))},vE.Progress=function({percentage:e}){const{t}=ec("Modal"),n=(0,r.useFacetWrap)(e),l=(0,r.useFacetMap)((e=>t(".progressPercentage",[`${Math.round(100*e)}`])),[t],[n]);return bE(l,2e3),a.createElement("div",{className:Tf},a.createElement(Mg,{percentage:n}),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionLong",align:"center"},l))},vE.InformativeProgress=function({percentage:e,label:t,narrationText:n}){const l=(0,r.useFacetWrap)(e),o=(0,r.useFacetWrap)(null!=t?t:""),i=(0,r.useFacetWrap)(null!=n?n:"");return bE(i,2e3),a.createElement("div",{className:Tf},a.createElement(Mg,{percentage:l}),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionLong",align:"right"},o))},vE.Spinner=()=>a.createElement("div",{className:"YkW5u"},a.createElement(ff,null)),vE.Checkbox=e=>{var t;return a.createElement(Lf,uE({},e,{gamepad:{index:null!==(t=e.gamepadIndex)&&void 0!==t?t:0},small:!0}))},vE.TextField=e=>a.createElement(Sg,uE({},e,{transparent:!0})),vE.FocusManager=function({children:e}){const[t,n]=(0,r.useFacetState)(!1),l=(0,a.useMemo)((()=>({isModalVisible:t,onMount:()=>(n(!0),()=>{n(!1)})})),[t,n]);return a.createElement(pE.Provider,{value:l},e)},vE.useIsAnyModalVisible=function(){return(0,a.useContext)(pE).isModalVisible},vE.useOnModalMount=fE,function(e){e[e.Undefined=0]="Undefined",e[e.Mouse=1]="Mouse",e[e.Touch=2]="Touch",e[e.GamePad=3]="GamePad",e[e.MotionController=4]="MotionController",e[e.Count=5]="Count"}(wE||(wE={})),new Map([[wE.Mouse,Ge.MOUSE],[wE.Touch,Ge.TOUCH],[wE.GamePad,Ge.GAMEPAD],[wE.MotionController,Ge.MOTION]]);var kE=n(78136);const TE=({textures:e,chunkSize:t=5})=>{const[n,l]=(0,r.useFacetState)("");return(0,a.useEffect)((()=>{const n=(0,kE.chunk)(e,t);let a;return function e(){n.length&&(l((e=>{var t;return(e!==r.NO_VALUE&&e.length>0?e+", ":"")+(null===(t=n.shift())||void 0===t?void 0:t.join(", "))})),a=window.requestAnimationFrame(e))}(),()=>{window.cancelAnimationFrame(a),l("")}}),[e,t,l]),a.createElement("fast-div",{id:"preload-textures",style:{width:0,height:0,backgroundImage:n}})},IE="#d0d1d4";var PE=n(42255);const xE=e=>1===e.length?[e[0],e[0],e[0],e[0]]:2===e.length?[e[0],e[1],e[0],e[1]]:3===e.length?[e[0],e[1],e[2],e[1]]:4===e.length?[e[0],e[1],e[2],e[3]]:(console.warn(`Failed to parse shorthand: ${JSON.stringify(e)}`),[0,0,0,0]),OE=({src:e,slice:t,scale:n=1,outset:a=[0],width:r})=>{const l=xE(t),o=r?xE(r):l,i=xE(a),c=e=>0===e?0:e/n/10+"rem";return{borderImageSource:`url("${e}")`,borderImageSlice:`${l.join(" ")} fill`,borderTopWidth:c(o[0]),borderRightWidth:c(o[1]),borderBottomWidth:c(o[2]),borderLeftWidth:c(o[3]),borderImageWidth:l.map(c).join(" "),borderImageOutset:i.map(c).join(" ")}},AE=e=>`--${(0,PE.camelCase)(e)}`,NE=(e,t)=>`${AE(e)}: ${t};`,RE=(e,t=[])=>{var n;const a=null===(n=(0,PE.last)(t))||void 0===n?void 0:n.startsWith("_"),r="$modes"===(0,PE.last)(t),l=t=>Object.entries(e).reduce(((e,[n,a])=>(0,PE.merge)(e,RE(a,[...t,n]))),{});if(a)return l(t.slice(0,-1));if(r){const n=t.slice(0,-1);return Object.entries(e).reduce(((e,[t,a])=>(e[t]=(0,PE.merge)(e[t],RE(a,n)),e)),{})}return(0,PE.isPlainObject)(e)||(0,PE.isArray)(e)?l(t):{[t.join(".")]:e}},_E=e=>"string"==typeof e&&null!=e.match(/url\(["']?(.+\.png)["']?\)/),LE=n.p+"assets/pressable_neutral_default-e45d4.png",DE=n.p+"assets/pressable_neutral_hovered-230f9.png",WE=n.p+"assets/pressable_neutral_focused-c5a2e.png",BE=n.p+"assets/pressable_neutral_pressed-aad8b.png",UE=n.p+"assets/pressable_elevated_neutral_default-48cdf.png",zE=n.p+"assets/pressable_elevated_neutral_hovered-dcbd8.png",jE=n.p+"assets/pressable_elevated_neutral_focused-b28fc.png",HE=n.p+"assets/pressable_primary_default-c4a5a.png",VE=n.p+"assets/pressable_primary_hovered-1c8d9.png",GE=n.p+"assets/pressable_primary_focused-84b11.png",$E=n.p+"assets/pressable_primary_pressed-13b0f.png",KE=n.p+"assets/pressable_elevated_primary_default-7a6e2.png",XE=n.p+"assets/pressable_elevated_primary_hovered-bcb21.png",YE=n.p+"assets/pressable_elevated_primary_focused-cc7df.png",qE=n.p+"assets/pressable_secondary_default-cc642.png",QE=n.p+"assets/pressable_secondary_hovered-a18c1.png",JE=n.p+"assets/pressable_secondary_focused-93236.png",ZE=n.p+"assets/pressable_secondary_pressed-87bba.png",eh=n.p+"assets/pressable_elevated_secondary_default-0aacf.png",th=n.p+"assets/pressable_elevated_secondary_hovered-75897.png",nh=n.p+"assets/pressable_elevated_secondary_focused-05d59.png",ah=n.p+"assets/pressable_destructive_default-afc23.png",rh=n.p+"assets/pressable_destructive_hovered-13953.png",lh=n.p+"assets/pressable_destructive_focused-3f550.png",oh=n.p+"assets/pressable_destructive_pressed-d5d49.png",ih=n.p+"assets/pressable_elevated_destructive_default-a5fb3.png",ch=n.p+"assets/pressable_elevated_destructive_hovered-63736.png",sh=n.p+"assets/pressable_elevated_destructive_focused-cfa49.png",uh=n.p+"assets/pressable_disabled-3555c.png",dh=n.p+"assets/pressable_elevated_disabled-af338.png",mh=n.p+"assets/realms_pressable_default-583a8.png",ph=n.p+"assets/realms_pressable_hovered-e4363.png",fh=n.p+"assets/realms_pressable_focused-33636.png",gh=n.p+"assets/realms_pressable_pressed-9c193.png",Eh=n.p+"assets/realms_pressable_elevated_default-a49f3.png",hh=n.p+"assets/realms_pressable_elevated_hovered-03f68.png",vh=n.p+"assets/realms_pressable_elevated_focused-07d5d.png",bh=OE({src:uh,slice:[1,1,1,1],scale:.5}),yh=OE({src:dh,slice:[1,1,3,1],scale:.5}),Fh={neutral:{default:OE({src:LE,slice:[2,2],scale:.5}),hovered:OE({src:DE,slice:[2,2],scale:.5}),focused:OE({src:WE,slice:[3,3],outset:[1],scale:.5}),pressed:OE({src:BE,slice:[2,2],scale:.5}),disabled:bh},primary:{default:OE({src:HE,slice:[2,2],scale:.5}),hovered:OE({src:VE,slice:[2,2],scale:.5}),focused:OE({src:GE,slice:[3,3],outset:[1],scale:.5}),pressed:OE({src:$E,slice:[2,2],scale:.5}),disabled:bh,$modes:{realms:{default:OE({src:mh,slice:[2,2],scale:.5}),hovered:OE({src:ph,slice:[2,2],scale:.5}),focused:OE({src:fh,slice:[3,3],outset:[1],scale:.5}),pressed:OE({src:gh,slice:[2,2],scale:.5}),disabled:bh}}},secondary:{default:OE({src:qE,slice:[2,2],scale:.5}),hovered:OE({src:QE,slice:[2,2],scale:.5}),focused:OE({src:JE,slice:[3,3],outset:[1],scale:.5}),pressed:OE({src:ZE,slice:[2,2],scale:.5}),disabled:bh},destructive:{default:OE({src:ah,slice:[2,2],scale:.5}),hovered:OE({src:rh,slice:[2,2],scale:.5}),focused:OE({src:lh,slice:[3,3],outset:[1],scale:.5}),pressed:OE({src:oh,slice:[2,2],scale:.5}),disabled:bh},elevated:{neutral:{default:OE({src:UE,slice:[2,2,4,2],scale:.5}),hovered:OE({src:zE,slice:[2,2,4,2],scale:.5}),focused:OE({src:jE,slice:[3,3,5,3],outset:[1],scale:.5}),pressed:OE({src:BE,slice:[2,2],scale:.5}),disabled:yh},primary:{default:OE({src:KE,slice:[2,2,4,2],scale:.5}),hovered:OE({src:XE,slice:[2,2,4,2],scale:.5}),focused:OE({src:YE,slice:[3,3,5,3],outset:[1],scale:.5}),pressed:OE({src:$E,slice:[2,2],scale:.5}),disabled:yh,$modes:{realms:{default:OE({src:Eh,slice:[2,2,4,2],scale:.5}),hovered:OE({src:hh,slice:[2,2,4,2],scale:.5}),focused:OE({src:vh,slice:[3,3,5,3],outset:[1],scale:.5}),pressed:OE({src:gh,slice:[2,2],scale:.5}),disabled:yh}}},secondary:{default:OE({src:eh,slice:[2,2,4,2],scale:.5}),hovered:OE({src:th,slice:[2,2,4,2],scale:.5}),focused:OE({src:nh,slice:[3,3,5,3],outset:[1],scale:.5}),pressed:OE({src:ZE,slice:[2,2],scale:.5}),disabled:yh},destructive:{default:OE({src:ih,slice:[2,2,4,2],scale:.5}),hovered:OE({src:ch,slice:[2,2,4,2],scale:.5}),focused:OE({src:sh,slice:[3,3,5,3],outset:[1],scale:.5}),pressed:OE({src:oh,slice:[2,2],scale:.5}),disabled:yh}}},Sh=n.p+"assets/detailed-card-7c80a.png",Ch=n.p+"assets/detailed-card-action_default-1eacd.png",Mh=n.p+"assets/detailed-card-action_hovered-987e7.png",wh=n.p+"assets/detailed-card-action_focused-6b947.png",kh=n.p+"assets/detailed-card-action_pressed-375ee.png",Th=n.p+"assets/detailed-card-action_pressed_focused-a905f.png",Ih=n.p+"assets/detailed-card-action_disabled-8dd88.png",Ph=n.p+"assets/detailed-card-action_disabled_focused-b335a.png",xh=n.p+"assets/detailed-card-additional-action_default-bb254.png",Oh=n.p+"assets/detailed-card-additional-action_hovered-c2eac.png",Ah=n.p+"assets/detailed-card-additional-action_focused-b079a.png",Nh=n.p+"assets/detailed-card-additional-action_pressed-cc4a7.png",Rh=n.p+"assets/detailed-card-additional-action_pressed_focused-df9f9.png";function _h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Lh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_h(Object(n),!0).forEach((function(t){Dh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dh(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Wh=Lh(Lh({},OE({src:Sh,slice:[0,1,2,1],outset:[0,1,1,0],scale:.5,width:[0,0,1,0]})),{},{action:{default:OE({src:Ch,slice:[1,2,2,1],outset:[0,1,0,0],width:[1,1,2,1],scale:.5}),hovered:OE({src:Mh,slice:[1,2,2,1],outset:[0,1,0,0],width:[1,1,2,1],scale:.5}),focused:OE({src:wh,slice:[2,2,4,2],outset:[1,1,2,1],scale:.5,width:[1,1,2,1]}),pressed:Lh(Lh({},OE({src:kh,slice:[3,2,0,1],outset:[0,1,0,0],scale:.5,width:[3,1,0,1]})),{},{focused:OE({src:Th,slice:[2,2,2,2],outset:[0,1,2,1],scale:.5,width:[3,1,0,1]})}),disabled:Lh(Lh({},OE({src:Ih,slice:[1,2,0,1],outset:[0,1,0,0],scale:.5,width:[1,1,2,1]})),{},{focused:OE({src:Ph,slice:[2,2,2,2],outset:[1,1,2,1],scale:.5,width:[1,1,2,1]})})},additionalAction:{default:OE({src:xh,slice:[1,2,2,1],outset:[0,1,0,0],width:[1,1,2,1],scale:.5}),hovered:OE({src:Oh,slice:[1,2,2,1],outset:[0,1,0,0],width:[1,1,2,1],scale:.5}),focused:OE({src:Ah,slice:[3,2,4,2],outset:[2,1,2,1],scale:.5,width:[1,1,2,1]}),pressed:Lh(Lh({},OE({src:Nh,slice:[3,2,0,1],outset:[0,1,0,0],width:[3,1,0,1],scale:.5})),{},{focused:OE({src:Rh,slice:[3,2,2,2],outset:[1,1,2,1],width:[3,1,0,1],scale:.5})})}}),Bh=n.p+"assets/listItem_action_hovered-25f28.png",Uh=n.p+"assets/listItem_action_focused-cbd1f.png",zh=n.p+"assets/listItem_action_pressed-e222d.png",jh=n.p+"assets/listItem_action_default-98ec9.png",Hh=n.p+"assets/listItem_action_disabled-e34c7.png",Vh=n.p+"assets/listItem_action_disabled_focused-866c5.png",Gh=n.p+"assets/listItem_action_pressed_focused-37eef.png",$h=n.p+"assets/listItem_disabled_default-3c13f.png",Kh=n.p+"assets/listItem_disabled_focused-58778.png",Xh={base:{default:OE({src:$h,slice:[1],outset:[0],scale:.5}),focused:OE({src:Kh,slice:[2],outset:[1],scale:.5,width:[1]})},action:{default:OE({src:jh,slice:[1],outset:[0],scale:.5}),hovered:OE({src:Bh,slice:[1],outset:[0],scale:.5}),pressed:OE({src:zh,slice:[1],outset:[0],scale:.5}),focused:OE({src:Uh,slice:[3],outset:[2,2,2,2],scale:.5,width:[1,1,1,1]}),pressedFocused:OE({src:Gh,slice:[3],outset:[2,2,2,2],scale:.5,width:[1,1,1,1]}),disabled:OE({src:Hh,slice:[0],outset:[0],width:[1],scale:.5}),disabledFocused:OE({src:Vh,slice:[2],outset:[2,2,2,2],width:[0],scale:.5})},additionalAction:{default:OE({src:jh,slice:[1],outset:[0],scale:.5}),hovered:OE({src:Bh,slice:[1],outset:[0],scale:.5}),pressed:OE({src:zh,slice:[1],outset:[0],scale:.5}),focused:OE({src:Uh,slice:[3],outset:[2,2,2,2],scale:.5,width:[1,1,1,1]}),pressedFocused:OE({src:Gh,slice:[3],outset:[2,2,2,2],scale:.5,width:[1,1,1,1]})}},Yh=n.p+"assets/tabBar_neutral_default-40e26.png",qh=n.p+"assets/tabBar_neutral_hovered-b73d7.png",Qh=n.p+"assets/tabBar_neutral_pressed-9d14d.png",Jh=n.p+"assets/tabBar_neutral_default_focused-812a9.png",Zh=n.p+"assets/tabBar_neutral_pressed_focused-c0501.png";function ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function tv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(n),!0).forEach((function(t){nv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ev(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nv(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const av={neutral:{default:OE({src:Yh,slice:[2,2,4,2],scale:.5}),hovered:OE({src:qh,slice:[2,2,4,2],scale:.5}),focused:OE({src:Jh,slice:[3,3,5,3],outset:[1,1,1,1],width:[3,2,5,2],scale:.5}),pressed:tv(tv({},OE({src:Qh,slice:[2,2],scale:.5})),{},{focused:OE({src:Zh,slice:[3,3,3,3],outset:[1,1,1,1],width:[3,2,3,2],scale:.5})})}},rv=n.p+"assets/bubble_action_default-bbef2.png",lv={base:{default:OE({src:rv,slice:[4],outset:[0],scale:.5})},action:{default:OE({src:rv,slice:[4],outset:[0],scale:.5})}},ov=RE({colors:{primary:"#3c8527",secondary:IE,destructive:"#ca3636",text:"#ffffff",muted:[IE,"#b1b2b5"],disabled:IE,$modes:{realms:{primary:"#7345E5"}}},fonts:{heading:"Minecraft Ten v2",subHeading:"Minecraft Five v2",ui:"Minecraft Seven v2",body:"Noto Sans"},fontSizes:[10,14,16,20,24,32,48,64],lineHeights:[20,24,28,40,60,80],letterSpacings:[4,8],space:[4,8,12,16,20,24,32,64],_components:{pressable:Fh,detailedCard:Wh,listItem:Xh,tabBar:av,bubble:lv}}),[iv,cv]=(e=>{const t=[],n=Object.entries(e).reduce(((e,[n,a])=>{var r;if((0,PE.isPlainObject)(a)){var l;const r=`.${n}`;return e.set(r,[...null!==(l=e.get(r))&&void 0!==l?l:[],...Object.entries(a).map((([e,n])=>(_E(n)&&t.push(n),NE(e,n))))]),e}_E(a)&&t.push(a);const o=":root";return e.set(o,[...null!==(r=e.get(o))&&void 0!==r?r:[],NE(n,a)]),e}),new Map);let a="";for(const[e,t]of n)a+=`${e} {\n  ${t.join("\n  ")}\n}\n`;return[a,t]})(ov);function sv({children:e,defaultRoute:t,errorComponent:n,dismissTimeout:l,scalingMode:o="default",keyboardGamepadMap:i=Ee,semanticCollection:c,deviceInformationOptions:s={},shouldUseNarrationQueueSystem:u=!1,wrapperComponent:d=a.Fragment}){const m=d,p=a.Fragment,f=(0,a.useCallback)((()=>{$n.trigger("core:routing:not-found")}),[]);return a.createElement(cr,null,a.createElement(sr,{collection:c},a.createElement(r.SharedFacetDriverProvider,{value:Bm},a.createElement(_m,{driver:Um},a.createElement(Cl,null,a.createElement(zm,null,a.createElement(cl,s,a.createElement(Zl,null,a.createElement(Jl,null,a.createElement(gl,null,a.createElement(Wl,null,a.createElement(Mm,{scalingMode:o},a.createElement(sl,{errorComponent:n,dismissTimeout:l},a.createElement(Im,null,a.createElement(xr,{keyboardGamepadMap:i},a.createElement(Rl,{shouldUseQueueSystem:u},a.createElement(vE.FocusManager,null,a.createElement(Am,null,a.createElement(Vm,null,a.createElement(p,null,a.createElement(m,null,a.createElement(T,{onNotFound:f},[...a.Children.toArray(e),a.createElement(M,{from:"/",to:t,key:"default-redirect"})]))),a.createElement(TE,{textures:cv}))))))))))))))))))))}(e=>{Object.entries(e).reduce(((e,[t,n])=>((0,PE.isPlainObject)(n)||(e[AE(t)]=n),e)),{})})(ov),(0,r.sharedFacet)("core.social"),(0,r.facet)("core.user"),(0,r.sharedFacet)("test.vector");var uv=n(51637),dv=n.n(uv),mv=n(95799),pv=n.n(mv),fv=n(12821),gv=n.n(fv),Ev=n(35140),hv=n.n(Ev);function vv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function bv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vv(Object(n),!0).forEach((function(t){yv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yv(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Fv=bv(bv({},dv()),pv());function Sv({errorMessage:e,onDismiss:t}){const{t:n}=ec("ErrorModal"),r=n(".title"),l=n(".goBack"),o=n(".goingBack"),i=null!=e&&""!==e?e:o,c=`${r} . ${i}`,s=i!==o;return a.createElement(vE,null,a.createElement(vE.Header,null,r),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:c},i)),s&&a.createElement(vE.Buttons,null,a.createElement(mg,{variant:"primary",onClick:t,gamepadIndex:0,autofocus:!0,inputLegend:l},l)))}bv(bv(bv({},Fv),gv()),hv());function Cv({visible:e,unmountOnExit:t,alwaysMounted:n,contentComponent:l,inverse:o}){const i=no();return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:i},a.createElement(Yp,{alwaysMounted:n,visible:e,inverse:o,appear:!0,unmountOnExit:t,timeout:400},(e=>a.createElement(Mv,{status:e,contentComponent:l})))),a.createElement(r.Mount,{when:i,condition:!1},a.createElement(Kr,{contentComponent:l,visible:e,unmountOnExit:t})))}const Mv=({status:e,contentComponent:t})=>{const n=(0,a.useMemo)((()=>a.memo(t)),[t]),l=(0,r.useFacetMap)((([e])=>"entered"===e||"entering"===e),[],[e]),o=(0,r.useFacetMap)((e=>!e),[],[l]),i=(0,r.useFacetMap)((([e])=>"entered"===e),[],[e]),c=(0,r.useFacetMap)((([e])=>"entered"!==e),[],[e]);return a.createElement(x,{value:l},a.createElement(Gr,{disabled:o},a.createElement("fast-div",{className:(0,r.useFacetMap)((([e,t])=>Dr()("C84xm",{kEh2T:!t,k0msz:t,JDSRH:"entered"===e,DSGNH:"entering"===e,uv_vE:"exiting"===e,_rSgg:"exited"===e})),[],[e])},a.createElement(wv,{paused:c},a.createElement(Hr,{type:"contentful",renderingCompleted:i}),a.createElement(n,null)))))},wv=({paused:e,children:t})=>{const n=(0,r.useFacetUnwrap)(e);return a.createElement(r.PauseMountProvider,{paused:n===r.NO_VALUE||n},t)},kv=({text:e,interruptible:t=!0})=>{const n=Gd(e),{narrateById:a}=jd();return(0,r.useFacetEffect)((()=>{a(n,t)}),[a,n,t],[(0,r.useFacetWrap)(e)]),null};function Tv(e){return-1!=(0,a.useContext)(ml).indexOf(e)}function Iv({onClick:e,innerRef:t,children:n,role:r="neutral50"}){const l=Fr(r),o=Dr()("mneRL",l.overlay.base);return null!=n?a.createElement("div",{onClick:e,className:o,ref:t},n):a.createElement("div",{onClick:e,className:o,ref:t})}function Pv({left:e,center:t,right:n,safeZone:r,innerRef:l,role:o="neutral20",showDropShadow:i=!0}){const c=Fr(o);return a.createElement(Xa,{role:o},a.createElement("div",{className:Dr()("KfhFh",c.background.base)},a.createElement("div",{style:{paddingTop:r&&r.top+"px",paddingRight:r&&r.right+"px",paddingLeft:r&&r.left+"px"}},a.createElement("div",{ref:l,className:"xCDda"},a.createElement("div",{className:"C0sd8"},e),a.createElement("div",{className:"S9tQ7"},t),a.createElement("div",{className:"m2lNR"},n)),a.createElement(cp,{top:!1,right:!1,left:!1,role:o})),a.createElement("div",{className:Dr()("V4fHo",c.shadow.base)}),i&&a.createElement("div",{className:Dr()("twp35")},a.createElement(cp,{effect:"bevel",role:o,top:!1,right:!1,left:!1}))))}const xv=n.p+"assets/arrowBack-b77b1.png",Ov=n.p+"assets/arrowBackDisabled-df022.png";function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Av.apply(this,arguments)}const Nv=e=>{let{className:t,disabled:n}=e,l=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className","disabled"]);const o=(0,r.useFacetWrap)(null!=n&&n),i=Ip("eFuO6",t);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:o},a.createElement(Mp,Av({},l,{className:i,src:Ov,imageRendering:"pixelated"}))),a.createElement(r.Mount,{when:o,condition:!1},a.createElement(Mp,Av({},l,{className:i,src:xv,imageRendering:"pixelated"}))))};function Rv({onClick:e,disabled:t,role:n="inherit",hint:r="",light:l=!1}){const{t:o}=ec("BackButton"),i=Cr(n);return a.createElement(ep,{narrationText:[o(".narrationGoBack"),o(".narrationComponentType"),r].join(" . "),gamepadIndex:0,inputLegend:o(".back"),onClick:e,disabled:t,soundEffectPressed:i.press,role:n,testId:"navigation-bar-layout-back-button"},l?a.createElement(xp,null):a.createElement(Nv,null))}const _v=n.p+"assets/filter-93196.png",Lv=n.p+"assets/hamburger-e678c.png",Dv=n.p+"assets/debug-icon-1cb52.png",Wv=n.p+"assets/Delete_Neutral20-71e3b.png",Bv="eknQ4";function Uv({children:e,collapsed:t=!1,floating:n=!1,onDismiss:r,align:l="left"}){const o=(0,a.useRef)(null),i=(0,a.useCallback)((e=>{e.stopPropagation()}),[]),c=a.createElement("div",{ref:o,onClick:i,className:Dr()({[Bv]:t,G1xD7:"left"===l,deJBY:"right"===l,sJUSR:"left"===l,d5YO7:"right"===l})},a.createElement(Ef,null,e));return n?a.createElement(a.Fragment,null,a.createElement("div",{className:Dr()({b8Law:"right"===l,efBI4:"left"===l,[Bv]:t})},c),!t&&a.createElement(Iv,{onClick:r})):c}const zv=n.p+"assets/navbar-friends-icon-1-47df6.png",jv=n.p+"assets/navbar-friends-icon-2-09dfc.png",Hv=n.p+"assets/navbar-friends-icon-3-bbd38.png",Vv=Math.floor(10*Math.random()),Gv=1===Vv?Hv:2===Vv?jv:zv;function $v({children:e,collapsedLeftSidebar:t=!0,collapsedRightSidebar:n=!0,onToggleCollapsedLeftSidebar:l=Kv,onToggleCollapsedRightSidebar:o=Kv,innerRef:i,left:c,center:s,right:u,leftSidebar:d,rightSidebar:m,onBackButton:p,backButtonHint:f,backButtonDisabled:g,footer:E,narrationText:h,navigationBarRole:v,navigationBarShowDropShadow:b=!0,delegateByAlias:y,delegateFocusFromMemory:F,gamepadAlias:S,defaultFocusedChildBehavior:C,shouldNotDelegateToContent:M=!1}){const w=(0,r.useFacetMap)((e=>null!=e?e:""),[],[(0,r.useFacetWrap)(h)]),k=Ul(),T=ud(),I=(0,a.useRef)(null),P=(0,a.useRef)(null),x=(0,a.useRef)(null),O=(0,a.useRef)(null),A=F||"remember"===C,{t:N}=ec("BackButton");return a.createElement(wf,{text:w},a.createElement(Fp,{containerRef:i||x,delegateFocusFromMemory:!0,delegateFocusByAlias:M?void 0:S},p&&a.createElement(Sf,{onClick:p,options:{button:j.B,inputLegend:N(".back")}}),a.createElement("div",{ref:i||x,className:"JAtEp"},a.createElement(Fp,{containerRef:P,delegateFocusFromMemory:!0},a.createElement(Pv,{innerRef:P,left:a.createElement(a.Fragment,null,p&&a.createElement($v.BackButton,{disabled:g,hint:f,onClick:p}),c,T&&null!=d&&a.createElement($v.MenuButton,{selected:!t,onClick:l,gamepadIndex:0})),center:s,right:a.createElement(a.Fragment,null,u,null!=m&&a.createElement(a.Fragment,null,a.createElement($v.MenuButton,{type:"filter",selected:!n,onClick:o,gamepadIndex:1}),a.createElement(om,{size:3}))),safeZone:k,role:v,showDropShadow:b})),a.createElement(Fp,{containerRef:I,delegateFocusByAlias:y,delegateFocusFromMemory:A,alias:S},a.createElement("div",{ref:I,className:"jCHoJ"},a.createElement("div",{className:"LH19k",style:{left:k.left+"px",right:k.right+"px",bottom:k.bottom+"px"}},null!=d&&a.createElement(Gr,{disabled:t&&T},a.createElement(Uv,{align:"left",onDismiss:l,floating:T,collapsed:T&&t},d)),a.createElement(Gr,{disabled:!t&&T&&Boolean(d)},e),null!=m&&a.createElement(Gr,{disabled:n},a.createElement(Uv,{align:"right",onDismiss:o,floating:T,collapsed:n},m))))),null!=E?a.createElement(Fp,{containerRef:O},E):null)))}$v.displayName="NavigationBarLayout",$v.BackButton=function({onClick:e,disabled:t,showEmptySpaceWhenGamepad:n=!1,role:l="inherit",hint:o="",light:i=!1}){const c=(0,a.useContext)(qe).isPointerSupported,s=nt(),u=(0,r.useFacetMap)(((e,t)=>e||!t),[],[c,s]),d=(0,r.useFacetMap)((e=>n&&!e),[n],[u]),{t:m}=ec("BackButton"),p=(0,r.useFacetMap)((e=>({button:j.B,inputLegend:m(".back"),disabled:e})),[m],[vE.useIsAnyModalVisible()]);return a.createElement(a.Fragment,null,a.createElement(Cf,{options:p,onClick:e}),a.createElement(r.Mount,{when:u},a.createElement(Rv,{onClick:e,disabled:t,role:l,hint:o,light:i})),a.createElement(r.Mount,{when:d},a.createElement("div",{className:"QZTxX"})))},$v.MenuButton=function(e){const{onClick:t,selected:n,disabled:r,focusGridIndex:l,type:o="hamburger",role:i="inherit",narrationText:c}=e,{t:s}=ec("NavigationBarLayout.MenuButton");return a.createElement(a.Fragment,null,"hamburger"===o&&a.createElement(Cf,{options:{button:j.START,inputLegend:s(".inputLegend")},onClick:t}),a.createElement(ep,{disabled:r,focusGridIndex:l,inputLegend:s(".inputLegend"),narrationText:null!=c?c:s(".narration"),onClick:t,role:i,selected:n,testId:e["data-testid"]},a.createElement(Mp,{className:"w6_7m",imageRendering:"pixelated",src:"filter"===o?_v:Lv})))},$v.DeleteButton=function({onClick:e,disabled:t,focusGridIndex:n,role:r="inherit",narrationText:l}){const{t:o}=ec("NavigationBarLayout.DeleteButton");return a.createElement(ep,{disabled:t,focusGridIndex:n,inputLegend:o(".inputLegend"),narrationText:null!=l?l:o(".narration"),onClick:e,role:r},a.createElement(Mp,{className:"BnqN5",imageRendering:"pixelated",src:Wv}))},$v.FriendsButton=function({onClick:e,disabled:t,focusGridIndex:n,role:l="inherit",friendsOnline:o,displayAmountOfOnlineFriends:i,testId:c}){const{t:s}=ec("NavigationBarLayout.FriendsButton"),u=Tv(Ii.SocialDrawer);return a.createElement(ep,{className:"r5Ne9",disabled:t,focusGridIndex:n,inputLegend:s(".inputLegend"),narrationText:s(".narration"),onClick:e,role:l,testId:c},a.createElement("div",{className:"s2NCr"},a.createElement(Mp,{className:"GNMZ6",src:Gv,imageRendering:"pixelated"}),a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(fm,{type:"body"},s(u?".social":".friends"),a.createElement(r.Mount,{when:i},a.createElement(a.Fragment,null,a.createElement(om,{size:1}),"(",a.createElement("fast-text",{text:o}),")"))))))},$v.DebugButton=function({onClick:e,selected:t,disabled:n,focusGridIndex:r,role:l="inherit",narrationText:o}){const{t:i}=ec("NavigationBarLayout.DebugButton");return a.createElement(a.Fragment,null,a.createElement(ep,{disabled:n,focusGridIndex:r,inputLegend:i(".inputLegend"),narrationText:null!=o?o:i(".narration"),onClick:e,role:l,selected:t},a.createElement(Mp,{className:"QQfwv",imageRendering:"pixelated",src:Dv})))},$v.Divider=function(){return a.createElement("div",{className:"JP2CP"},a.createElement(cp,{effect:"bevel",right:!1,top:!1,bottom:!1,reversed:!0}),a.createElement(cp,{effect:"specular",left:!1,top:!1,bottom:!1,reversed:!0}))};const Kv=()=>{},Xv={grid:"ntKoM",fullScreen:"zoAa3",fullScreenRow:"kM0Ch",fullScreenColumn:"UxM7T",gridGutters:"ff9nb",gridTablet:"U7wpy",gridNarrow:"QkM5F",row:"RdcBM",rowFullHeight:"RLVUP",centerContentVertically:"hMR_2",column:"HC8D1",size0:"QfUEI",size1:"Utxph",size2:"Dg54A",size3:"MMNOr",size4:"vkrmB",size5:"Vg8dV",size6:"prur7",size7:"PbjpE",size8:"KbazU",size9:"M3EqJ",size10:"sjbd3",size11:"Pp_FL",size12:"tylz3",sizeNarrow0:"ms6DS",sizeNarrow1:"JOyPB",sizeNarrow2:"LG4ow",sizeNarrow3:"jyNdx",sizeNarrow4:"fgAuI",sizeNarrow5:"lGz_T",sizeNarrow6:"drXOL",sizeNarrow7:"VDLgd",sizeNarrow8:"A06Gv"};function Yv({children:e,narrowBreakpointWidth:t,noGutters:n=!1,centerContentVertically:r,maxWidth:l=qv,nonFullScreen:o=!1}){const i=sd(t);return a.createElement("div",{className:Dr()(Xv.grid,{[Xv.gridNarrow]:"narrow"===i,[Xv.gridTablet]:"tablet"===i,[Xv.gridGutters]:"desktop"===i||!n,[Xv.centerContentVertically]:r,[Xv.fullScreen]:!o})},a.createElement(Qv.Provider,{value:l},e))}const qv=128,Qv=(0,a.createContext)(qv);Yv.displayName="Grid",Yv.Column=e=>{const{wideSize:t,narrowSize:n,innerRef:r,ignoreFullScreenGrid:l}=e,o=Dr()(Xv[`size${t}`],Xv[`sizeNarrow${n}`]),i=Dr()(Xv.column,o,{[Xv.fullScreenColumn]:!l});return a.createElement("div",{ref:r,className:i},e.children)},Yv.Row=function(e){const{children:t,fullHeight:n,className:l,innerRef:o,ignoreFullScreenGrid:i}=e,c=(0,r.useFacetMap)((e=>Dr()(Xv.row,e,{[Xv.rowFullHeight]:n,[Xv.fullScreenRow]:!i})),[n,i],[(0,r.useFacetWrap)(null!=l?l:"")]),s=(0,a.useContext)(Qv);return a.createElement("fast-div",{ref:o,className:c,style:{maxWidth:`${s}rem`}},t)};const Jv=e=>{let t="";const n=e.length;for(let a=0;a<n;a++){const n=e[a];null!=n.before&&(t+=" . "+n.before),null!=n.text&&(t+=" . "+n.text),null!=n.as&&(t+=" . "+n.as),null!=n.after&&(t+=" . "+n.after)}return t.slice(3)},Zv=e=>{const t=e.querySelectorAll("[data-narrate]"),n=t.length,a=[];for(let e=0;e<n;e++){const n=t[e],r=n.getAttribute("data-narrate"),l=n.getAttribute("data-narrate-as"),o=n.getAttribute("data-narrate-after"),i=n.getAttribute("data-narrate-before"),c={};if(null!=r&&""!==r)c.text=r;else{const e=n.textContent;null!=e&&(c.text=e)}null!=o&&""!==o&&(c.after=o),null!=l&&""!==l&&(c.as=l),null!=i&&""!==i&&(c.before=i),a.push(c)}return a},eb=a.createContext((0,r.createStaticFacet)(null));function tb({children:e,customButtonWrapperWidth:t}){const{numberOfChildFocusables:n,onChildFocusableMounted:l}=zp();return a.createElement(Up,{onChildFocusableMounted:l},a.createElement(eb.Provider,{value:n},a.createElement(om,{size:2}),a.createElement("fast-div",{style:null!=t?{maxWidth:`${t}rem`}:{},className:(0,r.useFacetMap)((e=>1===e?"PIvFb":2===e?"JJ32W":"WDNdm"),[],[n])},e)))}function nb(){return a.createElement(om,{size:3})}function ab({children:e,onClick:t,inputLegend:n,gamepadAlias:l,variant:o="secondary",imgSrc:i,buttonTestId:c,Icon:s}){const{t:u}=ec("EmptyStateMessage"),d=(0,r.useFacetMap)((e=>null!=e?e:u(".buttonSelectInputLegend")),[u],[(0,r.useFacetWrap)(n)]),m=(()=>{const e=a.useContext(eb);if(null==e)throw new Error("useNumberOfSiblings must be used within a NumberOfSiblings.Provider.\nThis error can occur if you are trying to use EmptyStateMessage.Button outside of EmptyStateMessage.ButtonWrapper.");return(0,r.useFacetMap)((e=>null!=e?e:0),[],[e])})(),p=sd(),f=(0,r.useFacetMap)((e=>e<=2||e>2&&!("narrow"===p)),[p],[m]),g=(0,r.useFacetMap)((e=>e>1),[],[m]),E=(0,r.useFacetUnwrap)(g),h=(0,r.useFacetUnwrap)(f);return a.createElement(mg,{linebreak:!0===h,horizontal:!0===E,delayedClick:!0,variant:o,onClick:t,inputLegend:d,gamepadAlias:l,imgSrc:i,Icon:s,"data-testid":c},e)}function rb({gamepadAlias:e,children:t,borderless:n=!1,role:l="neutral80"}){const o=Fr(l),i=Dr()("dST3K",o.background.base,o.border.base,{iBeh_:n}),{hasChildFocusable:c,onChildFocusableMounted:s}=zp(),u=(0,a.useRef)(null),d=(0,a.useCallback)((()=>null==u.current?"":Jv(Zv(u.current))),[]),[m,p]=(0,r.useFacetState)(!1);return(0,a.useEffect)((()=>{const e=setTimeout((()=>{p(!0)}),20);return()=>clearTimeout(e)}),[p]),a.createElement(wf,{getText:d},a.createElement(em.Maybe,{isInteractive:(0,r.useFacetMap)(((e,t)=>!e&&t),[],[c,m]),className:i,classNameFocused:Zm,narrationText:!1,innerRef:u,gamepadAlias:e},a.createElement(Up,{onChildFocusableMounted:s},a.createElement(Jm,{inset:!0}),t)))}function lb({children:e,role:t="neutral80"}){const{t:n}=ec("EmptyStateMessage");return a.createElement(fm,{type:"secondaryButton",role:t,align:"center",shouldNarrate:!0,"data-narrate-after":n(".narrationTextBlock")},e)}function ob({imgSrc:e,hideSpacingAroundImage:t=!1,imgClass:n}){return a.createElement(a.Fragment,null,!t&&a.createElement(om,{size:4}),a.createElement(Mp,{imageRendering:"pixelated",src:e,className:n}),!t&&a.createElement(om,{size:4}))}function ib({children:e,role:t="neutral80"}){return a.createElement(fm,{type:"captionShort",role:t,variant:"dimmest",align:"center",shouldNarrate:!0},e)}function cb({title:e,text:t,imgSrc:n,imgClass:l,buttons:o,borderless:i=!1,gamepadAlias:c,role:s="neutral80",hideSpacingAroundImage:u=!1,customButtonWrapperWidth:d}){const m=(0,r.useFacetWrap)(e),p=(0,r.useFacetMap)((e=>null!=e?e:""),[],[m]),f=(0,r.useFacetWrap)(n),g=(0,r.useFacetMap)((e=>null!=e?e:""),[],[f]),E=(0,r.useFacetWrap)(t),h=(0,r.useFacetMap)((e=>null!=e?e:""),[],[E]),v=(0,r.useFacetWrap)(o),b=(0,r.useFacetMap)((e=>null!=e?e:[]),[],[v]),y=(0,r.useFacetMap)(((e,t,n,a)=>({hasTitle:null!=e,hasImage:null!=t,hasText:null!=n,hasButton:null!=a&&a.length>0})),[],[m,f,E,v]);return a.createElement(wl,{data:y},(e=>a.createElement(rb,{gamepadAlias:c,borderless:i},a.createElement(a.Fragment,null,e.hasTitle&&a.createElement(lb,{role:s},p),e.hasImage&&a.createElement(ob,{imgSrc:g,hideSpacingAroundImage:u,imgClass:l}),e.hasText&&a.createElement(ib,{role:s},h),e.hasButton&&a.createElement(tb,{customButtonWrapperWidth:d},a.createElement(r.Map,{array:b,children:sb}))))))}function sb(e,t,n){const l=(0,r.useFacetMap)((e=>e.text),[],[e]),o=(0,r.useFacetCallback)((e=>e.onClick),[],[e]),i=(0,r.useFacetMap)((e=>e.inputLegend),[],[e]),c=(0,r.useFacetMap)((e=>e.gamepadAlias),[],[e]),s=(0,r.useFacetMap)((e=>e.narrationSuffix),[],[e]),u=(0,r.useFacetUnwrap)((0,r.useFacetMap)((e=>e.variant),[],[e])),d=(0,r.useFacetMap)((e=>e.imgSrc),[],[e]),m=(0,r.useFacetUnwrap)((0,r.useFacetMap)((e=>e.buttonTestId),[],[e]));return a.createElement(a.Fragment,null,a.createElement(ab,{children:l,onClick:o,inputLegend:i,gamepadAlias:c,narrationSuffix:s,variant:u===r.NO_VALUE?void 0:u,imgSrc:d,buttonTestId:m===r.NO_VALUE?void 0:m}),t<n-1&&a.createElement(nb,null))}cb.Wrapper=rb,cb.Title=lb,cb.Image=ob,cb.Text=ib,cb.ButtonsWrapper=tb,cb.Button=ab,cb.ButtonSpacer=nb;const ub=(e,t)=>Math.round(e*t),db="gGws2",mb=n.p+"assets/locked-b7e1e.png",pb=n.p+"assets/checkIcon-bcfbf.png";function fb({children:e,variant:t,date:n}){const{f:r}=ec("Window"),l="completed"===t?"success":"neutral60",o=Fr(l);return a.createElement("div",{className:Dr()("P3s5b",o.background.base)},a.createElement(cp,{effect:"specular"}),a.createElement(Mp,{imageRendering:"pixelated",className:Dr()({kLdrM:"locked"===t,X2i3D:"completed"===t}),src:"locked"===t?mb:pb}),a.createElement(fm,{type:"captionShort",role:l},e),"completed"===t&&null!=n&&a.createElement("div",{className:"PoM_H"},a.createElement(fm,{type:"captionShort",role:l},r.formatDate(n))))}function gb({children:e,variant:t="locked",title:n,date:r,loading:l}){const o=Fr("neutral80");return l?a.createElement("div",{className:Dr()("dDMcJ",o.border.base)},a.createElement(Eb,{className:o.overlay.base})):a.createElement("div",{className:Dr()("xHU3n",o.background.base,o.border.base)},a.createElement(fb,{date:r,variant:t},n),e)}const Eb=({className:e})=>a.createElement("div",{className:Dr()("xzfzB",e)},a.createElement(ff,null)),hb="VTr_m";function vb({children:e,role:t="neutral100"}){return a.createElement(Xa,{role:t},a.createElement("div",{className:"hy23n"},e))}vb.Pair=function({label:e,value:t,icon:n}){const r=Fr("inherit");return a.createElement("div",{className:Dr()(hb,r.background.base)},a.createElement(fm,{type:"captionShort",variant:"dimmer"},e),a.createElement(fm,{type:"captionShort",variant:"dimmer"},n,t))},vb.Progress=function({label:e,value:t,total:n}){const{t:r}=ec("DescriptionList"),l=Fr("inherit");return a.createElement("div",{className:Dr()("ptFWK",l.background.base)},a.createElement("div",{className:Dr()(hb)},a.createElement(fm,{type:"captionShort",variant:"dimmer"},null!=e?e:r(".progressLabel")),a.createElement(fm,{type:"captionShort",variant:"dimmer"},t,"/",n)),a.createElement("div",{className:"I0mfv"},a.createElement(Mg,{tall:!0,percentage:t/n}),a.createElement(om,{size:2})))},vb.displayName="DescriptionList";const bb=n.p+"assets/gamerscore_icon-53b10.png",yb=n.p+"assets/greyframe-dd39b.png",Fb=n.p+"assets/unlockedBorder-2f13b.png",Sb=n.p+"assets/placeholder-30ebc.png";function Cb({title:e,description:t="",image:n,gamerscore:r=0,progress:l=0,autofocus:o=!1,progressTarget:i=0,isLocked:c,dateUnlocked:s=0,loading:u,completedOnAnotherPlatform:d,gamepadIndex:m}){const{t:p}=ec("AchievementDetails"),f=ia();return a.createElement(em,{inputLegend:!1,className:"",classNameHovered:"",classNameFocused:Zm,classNamePressed:"",disabled:!f,autofocus:f&&o,gamepadIndex:m,narrationText:!1,onClick:()=>{}},a.createElement(Jm,{withoutBorders:!0,disabled:!f}),a.createElement(gb,{loading:u,title:p(c?".locked":".completed"),variant:c?"locked":"completed",date:s},a.createElement(Xa,{role:"neutral"},a.createElement("div",{className:"u0nXh"},a.createElement(cp,{effect:"specular"}),a.createElement(om,{size:5}),a.createElement("div",{className:Dr()("tpf1b",{VllWJ:c})},a.createElement(Mp,{className:Dr()(db,"ArUtM"),imageRendering:"pixelated",src:c?yb:Fb}),a.createElement(Mp,{className:Dr()(db),imageRendering:"pixelated",src:null!=n?n:Sb}),!c&&a.createElement("div",{className:"wfhhN"})),a.createElement(om,{size:2}),a.createElement("div",{className:"oPk5q"},a.createElement(fm,{type:"header5B"},e),a.createElement(om,{size:1}),a.createElement(fm,{type:"paragraphs",variant:"dimmer"},t)),a.createElement(om,{size:5}))),a.createElement(vb,null,a.createElement(vb.Pair,{label:p(".gamerscore"),value:`${r}`,icon:a.createElement(Mp,{className:"ZwLAX",imageRendering:"pixelated",src:bb})}),d&&a.createElement(vb.Pair,{label:p(".anotherPlatform"),value:p(".yes")}),l&&0!==l&&1!==l?a.createElement(vb.Progress,{value:ub(l,i),total:i}):null)))}const Mb=n.p+"assets/rewardUnlockedFrame-34e1b.png",wb=n.p+"assets/rewardLockedFrame-2d590.png",kb=n.p+"assets/unlockedIconGrey-2939d.png",Tb=n.p+"assets/lockedIconGrey-c2c6d.png";function Ib({image:e,title:t,isOwned:n,onClickView:r,role:l="neutral80",imageRole:o="neutral100"}){const{t:i}=ec("AchievementReward"),c=Fr(l),s=Fr(o),u=[i(n?".narration.rewardUnlocked":".narration.rewardLocked"),t].join(" . ");return a.createElement(Xa,{role:l},a.createElement(wf,{text:u},a.createElement("div",{className:Dr()("JLHbC",c.background.base,c.border.base)},a.createElement(cp,{effect:"specular"}),a.createElement("div",{className:"B_Fir"},a.createElement("div",{className:"Hir35"},a.createElement("div",{className:"JoBNl"},a.createElement(fm,{type:"captionShort",variant:"dimmer"},a.createElement(am,null,i(".reward"))),n?a.createElement(Mp,{src:kb,imageRendering:"pixelated",className:"DS3tl"}):a.createElement(Mp,{src:Tb,imageRendering:"pixelated",className:"MWbGE"})),a.createElement(fm,{type:"body",align:"center"},t)),a.createElement("div",{className:"kKntP"},a.createElement(Mp,{src:e,imageRendering:"pixelated",className:Dr()("NpbvR",s.background.base,{k52pM:!n})}),a.createElement(Mp,{src:n?Mb:wb,imageRendering:"pixelated",className:n?"E1SVO":"lXhLV"})),a.createElement("div",{className:"nMvu_"},a.createElement(mg,{delayedClick:!0,onClick:r,gamepadIndex:0,gamepadAlias:"reward-button",inputLegend:i(".viewReward"),variant:"secondary"},i(".viewReward")))))))}const Pb=n.p+"assets/arrowDownWhite-55034.png";function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xb.apply(this,arguments)}const Ob=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("pJwQj",t);return a.createElement(Mp,xb({},n,{className:r,src:Pb,imageRendering:"pixelated"}))},Ab=n.p+"assets/arrowUpWhite-2c2b7.png";function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Nb.apply(this,arguments)}const Rb=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("P9OiC",t);return a.createElement(Mp,Nb({},n,{className:r,src:Ab,imageRendering:"pixelated"}))},_b="0.0001px";function Lb(e){const t=(0,a.useRef)(null),n=(0,r.useFacetWrap)(e),[l,o]=(0,r.useFacetState)(_b),[i,c]=(0,r.useFacetState)("hidden");return(0,r.useFacetEffect)((e=>{if(t.current){if(o(`${t.current.scrollHeight}px`),e){const e=setTimeout((()=>{o("auto"),c("visible")}),225);return()=>{clearTimeout(e)}}e||requestAnimationFrame((()=>{o(_b),c("hidden")}))}}),[c,o],[n]),[{height:l,overflow:i},t]}const Db=({wide:e,narrow:t,width:n})=>{let a;return 8===e&&(6===t||5===t)&&n>=220&&n<=260?a=102:(console.warn("useImageBreakpoint() is being used for an unhandled scenario. You should add a case for this, or you might not need to use getImageBreakpoint() at all."),a=70),ud(a)},Wb=({wide:e,narrow:t,width:n})=>{let a;return 8===e&&(6===t||5===t)&&n>=220&&n<=260?a=102:(console.warn("useImageBreakpoint() is being used for an unhandled scenario. You should add a case for this, or you might not need to use getImageBreakpoint() at all."),a=70),dd(a)};function Bb(e,t){const[n,a]=(0,r.useFacetState)(!1);return(0,r.useFacetEffect)((e=>{if(e)return;const n=setTimeout((()=>{a(!0)}),t);return()=>{clearTimeout(n)}}),[t,a],[e]),n}const Ub={BaseSwitch:"BwIu0",toggle:"UDTIi",imageOn:"t3n2v",disabled:"jKxMu",imageOff:"gH7Oo",toggleContainerBorder:"WdJDx",toggleBase:"CYzyY",toggleBaseItem:"Vp3RH",toggleTop:"Kjcp3",toggleTopInner:"ThIXq",toggleTopTop:"fKWNS",toggleIcon:"YE1XG",toggleTopBottomBevel:"dmAJO",toggleTopOn:"u7VD_",toggleTopOff:"xDElg",toggleTopOnAnimated:"VQrjU",toggleTopOffAnimated:"jbAPS","switch-toggle-top-animation-on":"hlihB","switch-toggle-top-animation-off":"z84D_",offText:"Odxay",onText:"FXZX_",toggleLabel:"U_dOL"},zb=n.p+"assets/onImage-b40d0.png";function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},jb.apply(this,arguments)}const Hb=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("HCyoe",t);return a.createElement(Mp,jb({},n,{className:r,src:zb,imageRendering:"pixelated"}))},Vb=n.p+"assets/offImage-cc909.png";function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gb.apply(this,arguments)}const $b=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("rHSix",t);return a.createElement(Mp,Gb({},n,{className:r,src:Vb,imageRendering:"pixelated"}))},Kb=(e,t)=>Dr()(Ub.toggleTop,{[t?Ub.toggleTopOnAnimated:Ub.toggleTopOn]:e,[t?Ub.toggleTopOffAnimated:Ub.toggleTopOff]:!e});function Xb({onChange:e,gamepad:t,value:n,disabled:l=!1,onFocusChanged:o,showOnOffText:i=!1,shouldAnimateRef:c,soundEffectHovered:s,soundEffectFocused:u,soundEffectPressed:d,offNarrationText:m,onNarrationText:p,disabledNarrationSuffix:f,onRole:g="primary",offRole:E="neutral50",thumbRole:h="secondary",imgSrc:v}){var b;const{t:y}=ec("BaseSwitch"),F=Fr("inherit"),S=Fr(h),C=Fr(g),M=Fr(E),w=Cr("inherit"),{narrateText:k}=gf(),T=(0,a.useRef)(!1),I=null!=c?c:T,P=(0,a.useRef)(null),x=(0,r.useFacetWrap)(n),O=(0,r.useFacetMap)((()=>!0),[],[x]);(0,r.useFacetEffect)((e=>{var t;P.current&&(P.current.className=Kb(e,null!==(t=I.current)&&void 0!==t&&t))}),[I],[x]);const A=(0,r.useFacetCallback)(((e,t,n)=>()=>{P.current&&(P.current.className=Kb(e,!1),k(e?[y(".on"),null!=n?n:""].join(" . "):[y(".off"),null!=t?t:""].join(" . "))),I.current=!1}),[k,y,I],[x,(0,r.useFacetWrap)(m),(0,r.useFacetWrap)(p)]),N=(0,r.useFacetCallback)((t=>()=>{I.current=!0,null==e||e(!t)}),[e,I],[x]),R=(0,a.useCallback)((e=>{if(!P.current&&e){const t=(0,r.isFacet)(n)?n.get():n;e.className=Kb(t,I.current)}P.current&&P.current.removeEventListener("animationend",A),e&&e.addEventListener("animationend",A),P.current=e}),[A,n,I]),_=(0,r.useFacetMap)(((e,t)=>[y(".elementType"),!0===t?y(".narrationDisabled"):"",y(e?".on":".off"),t&&null!=f?f:""].join(" . ")),[y,f],[x,(0,r.useFacetWrap)(l)]);return a.createElement(r.Mount,{when:O},a.createElement(em.Maybe,{isInteractive:null!=e,className:Ub.BaseSwitch,narrationText:_,inputLegend:y(".toggle"),gamepadIndex:null!==(b=null==t?void 0:t.index)&&void 0!==b?b:0,soundEffectHovered:null!=s?s:w.hover,soundEffectFocused:null!=u?u:w.focus,soundEffectPressed:null!=d?d:w.toggle,classNameHovered:Ub.hovered,classNameFocused:Dr()(Ub.focused,Zm),classNamePressed:Ub.pressed,classNameDisabled:Ub.disabled,disabled:l,onFocusChanged:o,onClick:N},a.createElement("fast-div",{className:Ub.offText,style:{opacity:(0,r.useFacetMap)((e=>e?.6:1),[],[x]),display:i?"flex":"none"}},a.createElement("span",{className:Dr()(Ub.toggleLabel,F.text.base,F.text.disable)},y(".off"))),a.createElement("div",{className:Dr()(Ub.toggle,M.border.base,M.border.disable)},a.createElement("div",{className:Ub.toggleContainerBorder}),a.createElement("fast-div",{className:Ub.toggleBase},a.createElement("div",{className:Dr()(Ub.toggleBaseItem,Ub.toggleBaseItemOn,C.background.base,C.background.disable)},a.createElement("div",{className:Ub.imageOn},a.createElement(Hb,null)),a.createElement(cp,{interactive:!1,right:!1,role:"primary",disabled:l})),a.createElement("div",{className:Dr()(Ub.toggleBaseItem,Ub.toggleBaseItemOff,M.background.base,M.background.disable)},a.createElement("div",{className:Ub.imageOff},a.createElement($b,null)),a.createElement(cp,{interactive:!1,left:!1,role:"neutral50",disabled:l}))),a.createElement("div",{ref:R,className:Ub.toggleTop},a.createElement("fast-div",{className:Dr()(Ub.toggleTopInner,S.border.base,S.border.disable,S.background.interactive)},a.createElement(Jm,{role:"secondary",disabled:l}),a.createElement("div",{className:Dr()(Ub.toggleTopTop)},a.createElement(lg,{imageSource:v,className:Ub.toggleIcon}),a.createElement(cp,{role:"secondary",disabled:l})),a.createElement("div",{className:Dr()(Ub.toggleTopBottomBevel,S.shadow.base,S.shadow.disable)})))),a.createElement("fast-div",{className:Ub.onText,style:{opacity:(0,r.useFacetMap)((e=>e?1:.6),[],[x]),display:i?"flex":"none"}},a.createElement("span",{className:Dr()(Ub.toggleLabel,F.text.base,F.text.disable)},y(".on")))))}const Yb=()=>{};function qb({onChange:e=Yb,value:t,title:n,description:l,disabled:o=!1,showOnOffText:i=!1,soundEffectHovered:c,soundEffectFocused:s,soundEffectPressed:u,offNarrationText:d,onNarrationText:m,disabledNarrationSuffix:p,narrationSuffix:f,wrapperRole:g="neutral",onRole:E,offRole:h,thumbRole:v,imgSrc:b,"data-testid":y}){const{t:F}=ec("Switch"),S=Cr(g),C=(0,a.useRef)(!1),M=(0,r.useFacetWrap)(t),w=(0,r.useFacetWrap)(o),k=(0,r.useFacetWrap)(n),T=(0,r.useFacetWrap)(l),I=(0,r.useFacetMap)((()=>!0),[],[M]),P=(0,r.useFacetCallback)(((t,n)=>()=>{n||(C.current=!0,e(!t))}),[e],[M,w]),x=(0,r.useFacetRef)(M),O=(0,r.useFacetRef)(w),A=(0,r.useFacetCallback)(((e,t,n)=>()=>{if(x.current===r.NO_VALUE||O.current===r.NO_VALUE)return"";const a=x.current,l=O.current;return[e,F(".elementType"),!0===l?F(".narrationDisabled"):"",F(a?".on":".off"),null!=t?t:"",n,l&&null!=p?p:""].filter((e=>e)).join(" . ")}),[x,O,p,F],[k,T,(0,r.useFacetWrap)(null!=f?f:"")]),N=(0,r.useFacetMap)(((e,t)=>""!==e||null!=t&&""!==t?"_8UmaI":""),[],[k,T]),R=ia(),_=(0,r.useFacetMap)((e=>null!=e?e:""),[],[T]),L=(0,r.useFacetMap)((e=>null!=e&&e.length>0),[],[k]),D=(0,r.useFacetMap)((e=>e.length>0),[],[_]),W=(0,r.useFacetMap)((e=>!0===e&&R),[R],[w]),B=(0,r.useFacetMap)((e=>!e&&F(".toggle")),[F],[w]),U=(0,r.useFacetMap)(((e,t)=>e?void 0:null!=t?t:S.hover),[S.hover],[w,(0,r.useFacetWrap)(c)]),z=(0,r.useFacetMap)((e=>null!=e?e:S.focus),[S.focus],[(0,r.useFacetWrap)(s)]),j=(0,r.useFacetMap)(((e,t)=>e?void 0:null!=t?t:S.toggle),[S.toggle],[w,(0,r.useFacetWrap)(u)]);return a.createElement(r.Mount,{when:I},a.createElement(wf,{getText:A},a.createElement(Kf,{role:g,disabled:w,onClick:P,focusable:W,shouldDisplayFocus:W,inputLegend:B,soundEffectHovered:U,soundEffectFocused:z,soundEffectPressed:j,narrationText:"","data-testid":y},a.createElement("div",{className:"BMKqH"},a.createElement("fast-div",{className:N},a.createElement(r.Mount,{when:L},a.createElement(Yf,{disabled:o},k)),a.createElement(r.Mount,{when:D},a.createElement(qf,null,_))),a.createElement(Xb,{value:M,disabled:w,showOnOffText:i,shouldAnimateRef:C,disabledNarrationSuffix:p,onNarrationText:m,offNarrationText:d,onRole:E,offRole:h,thumbRole:v,imgSrc:b})))))}function Qb({expandedFacet:e,testId:t,children:n}){const[l,o]=Lb(e),i=(0,r.useFacetMap)((e=>"seQTk "+(e?"CODai":"")),[],[e]),c=(0,r.useFacetMap)((e=>!e),[],[e]);return a.createElement(Gr,{disabled:c},a.createElement("fast-div",{className:i,style:l,"data-testid":t},a.createElement("div",{ref:o},n)))}function Jb({onChange:e,label:t,count:n,narrationHint:l,alwaysShowHint:o,onExpandNarrationHint:i,gamepadAlias:c,collapsible:s,testId:u,expandedFacet:d,setExpanded:m}){const{t:p}=ec("Accordion"),{narrateText:f}=gf(),g=(0,r.useFacetMap)((e=>p(e?".closeInputLegend":".openInputLegend")),[p],[d]),E=(0,r.useFacetMap)((e=>`(${e})`),[],[null!=n?n:ty]),h=(0,r.useFacetWrap)(l),v=(0,r.useFacetWrap)(t),b=(0,r.useFacetMap)(((e,t,n,a)=>[null!=t?p(".narrationCountLabel",[a,`${t>100?"100+":t}`]):a,p(".narrationComponentType"),p(e?".stateExpanded":".stateCollapsed"),e&&!o?null:n].join(" . ")),[p,o],[d,null!=n?n:ny,h,v]),y=(0,r.useFacetWrap)(s),F=(0,r.useFacetMap)(((e,t)=>e?t?"arrow-up-white":"arrow-down-white":"no-arrow"),[],[y,d]),S=(0,r.useFacetCallback)(((t,n)=>()=>{if(n){const n=t?p(".stateCollapsed"):[p(".stateExpanded"),i].join(" . ");f(n),m(!t),e&&e(!t)}}),[f,p,i,m,e],[d,y]);return a.createElement("div",{className:"UYMMT","data-testid":u},a.createElement(ag,{inputLegend:g,narrationText:b,onClick:S,variant:"neutral80",reflection:"bevel",gamepadAlias:c,"data-testid":"accordion-pressable"},a.createElement("div",{className:"ejFWw"},a.createElement("div",{className:"uMvs1"},a.createElement("fast-text",{text:t}),a.createElement(om,{size:2}),null!=n&&a.createElement("div",{className:"UMdAT"},a.createElement("fast-text",{text:E}))),a.createElement(wl,{data:F},(e=>{switch(e){case"arrow-down-white":return a.createElement(Ob,null);case"arrow-up-white":return a.createElement(Rb,null);default:return null}})))))}function Zb(e){const{onChange:t,title:n,value:l,description:o,disabled:i=!1,offNarrationText:c,onNarrationText:s,narrationSuffix:u,disabledNarrationSuffix:d,onExpandNarrationHint:m,testId:p,children:f}=e,{t:g}=ec("SwitchAccordion"),E=(0,r.useFacetMap)(((e,t)=>[e,""!=t?t:null,g(".stateExpanded")].join(" . ")),[g],[(0,r.useFacetWrap)(null!=s?s:""),(0,r.useFacetWrap)(null!=m?m:"")]),h=(0,r.useFacetMap)((e=>[e,g(".stateCollapsed")].join(" . ")),[g],[(0,r.useFacetWrap)(null!=c?c:"")]),v=(0,r.useFacetCallback)(((e,n)=>()=>{!n&&t&&t(!e)}),[t],[l,(0,r.useFacetWrap)(i)]);return a.createElement(a.Fragment,null,a.createElement(qb,{narrationSuffix:(0,r.useFacetWrap)(null!=u?u:""),disabledNarrationSuffix:d,disabled:true,title:n,description:o,onChange:v,value:l,"data-testid":p,onNarrationText:E,offNarrationText:h}),a.createElement(Qb,{expandedFacet:l,testId:"switch-accordion-content"},f))}function ey(e){const{onChange:t,label:n,count:l,children:o,narrationHint:i,alwaysShowHint:c=!1,onExpandNarrationHint:s,expandedDefaultState:u=!1,gamepadAlias:d,collapsible:m=!0,testId:p}=e,[f,g]=(0,r.useFacetState)(u);return a.createElement(a.Fragment,null,a.createElement(Jb,{onChange:t,label:n,count:l,narrationHint:i,alwaysShowHint:c,onExpandNarrationHint:s,gamepadAlias:d,collapsible:m,testId:p,expandedFacet:f,setExpanded:g}),a.createElement(Qb,{expandedFacet:f,testId:"accordion-content"},o))}const ty=(0,r.createFacet)({initialValue:0}),ny=(0,r.createFacet)({initialValue:null}),ay=Km((({title:e,onClose:t})=>{const{t:n}=ec("ProgressSpinnerModal"),r=null!=e?e:n(".title"),l=ia(),o="progress-spinner-modal-content",i="progress-spinner-modal-close";return a.createElement(vE,{defaultFocusAlias:l?o:i},a.createElement(vE.Header,{titlebarGamepadAlias:i,onClose:t},r),a.createElement(vE.Content,{gamepadAlias:o},a.createElement(vE.Spinner,null)))})),ry=Km((({onClose:e})=>{const{t}=ec("ProfanityWarningModalRoute");return a.createElement(vE,{defaultFocusAlias:"profanity-warning-modal-button"},a.createElement(vE.Header,{onClose:e},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:t(".body"),center:!0},t(".body"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,inputLegend:t(".close"),variant:"primary",delayedClick:!0,onClick:e,gamepadAlias:"profanity-warning-modal-button"},t(".close"))))}));function ly({type:e,renderingCompleted:t}){const n=zr(),a=Br(),l=(0,r.useFacetWrap)(t);return(0,r.useFacetEffect)(((t,a)=>{if(!a||!t)return;const r=requestAnimationFrame((()=>{"contentful"===e?n.contentfulPaint():n.meaningfulPaint()}));return()=>{cancelAnimationFrame(r)}}),[n,e],[a,l]),null}function oy({component:e,tab:t}){const n=p(),l=(0,r.useFacetMap)((e=>e.tab===t),[t],[f()]),o=(0,r.useFacetMap)(((e,t)=>t&&e),[],[n,l]),i=(0,r.useFacetMap)((e=>!e),[],[o]),c=(0,a.useRef)(!1),s=(0,r.useFacetMemo)((e=>(c.current=c.current||e,c.current)),[],[o]);return a.createElement(r.Mount,{when:s},a.createElement(x,{value:l},a.createElement(Gr,{disabled:i},a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>Dr()("Vlec9",{Bi5Vi:!e})),[],[l])},a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(e,null)))))}function iy({Component:e,route:t,wideSize:n,narrowSize:r}){const l=(0,a.useRef)(null),o=(12-n)/2,i=(8-r)/2,c=(0,a.useCallback)((()=>a.createElement(Yv.Row,{innerRef:l,fullHeight:!0,className:"QHAih"},a.createElement(Yv.Column,{wideSize:o,narrowSize:i}),a.createElement(Yv.Column,{wideSize:n,narrowSize:r},a.createElement(e,null)),a.createElement(Yv.Column,{wideSize:o,narrowSize:i}))),[e,i,r,o,n]);return a.createElement(oy,{tab:t,component:c})}function cy({children:e,role:t,icon:n,align:l="top"}){const o=Fr(),i=(0,r.useFacetMap)((e=>Dr()("c3aSY",o[e].background.base,o[e].text.base)),[o],[(0,r.useFacetWrap)(t)]),c=(0,r.useFacetWrap)(n),s=(0,r.useFacetMap)((e=>Boolean(e)),[],[c]);return a.createElement("div",{className:Dr()("j_y1K",{YBe3o:"top"===l,kfqkp:"center"===l,eh7z2:"bottom"===l})},a.createElement(r.Mount,{when:s},a.createElement("fast-div",{className:i},a.createElement("span",{className:"hvSuA"},n),a.createElement(fm,{type:"body",role:t,overflowEllipsis:!0},e))),a.createElement(r.Mount,{when:s,condition:!1},a.createElement(fm,{className:i,type:"body",role:t,overflowEllipsis:!0},e)))}function sy({tags:e,className:t,fixedHeight:n}){return a.createElement("div",{style:{height:`${n}rem`},className:Dr()("Ot0y6",t)},a.createElement(r.Map,{array:e},(e=>a.createElement(uy,{tag:e}))))}function uy({tag:e}){const t=(0,r.useFacetMap)((e=>e.role),[],[e]),n=(0,r.useFacetMap)((e=>e.label),[],[e]);return a.createElement(cy,{role:t},n)}const dy=(e,t)=>e.isProfanityInString(t),my=e=>{const t=ry.useModal(),n=t.show;return[(0,r.useFacetCallback)((t=>(a,r)=>dy(t,a)?(e&&r(""),n(),Eg.INVALID):Eg.VALID),[e,n],[(0,r.useSharedFacet)(Dc)]),t]};function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},py.apply(this,arguments)}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fy.apply(this,arguments)}const gy=e=>{let{onBlur:t,filterProfanity:n=!1,clearOnProfanity:l=!0}=e,o=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["onBlur","filterProfanity","clearOnProfanity"]);const[i,c]=my(l),s=(0,a.useCallback)(((e,a)=>null!=t?t(e,a,dy):n?i(e,a):void 0),[t,i,n]);return a.createElement(a.Fragment,null,a.createElement(Sg,fy({},o,{onBlur:s})),a.createElement(r.Mount,{when:c.isVisible},a.createElement(ry.Component,{onClose:c.hide})))};gy.WithButton=e=>{let{onBlur:t,filterProfanity:n=!1,clearOnProfanity:l=!0,buttonVariant:o="secondary"}=e,i=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["onBlur","filterProfanity","clearOnProfanity","buttonVariant"]);const[c,s]=my(l),u=(0,a.useCallback)(((e,a)=>null!=t?t(e,a,dy):n?c(e,a):void 0),[t,c,n]);return a.createElement(a.Fragment,null,a.createElement(Sg.WithButton,py({},i,{onBlur:u,buttonVariant:o})),a.createElement(r.Mount,{when:s.isVisible},a.createElement(ry.Component,{onClose:s.hide})))};const Ey=({isLocked:e,progress:t,progressTarget:n},a)=>{const r=ub(t,n),l=Math.round(100*t);return e&&t>0&&t<1?[a(".narration.progress"),a(".narration.percentage",[`${r}`,`${n}`]),`${l}%`]:[]},hy=()=>{const{t:e,f:t}=ec("AchievementDetailsRoute"),n=Yr(),l=qr(),o=Tv(Ho),i=(0,r.useFacetUnwrap)((0,r.useSharedFacet)(Qo(l.id))),c=!(i===r.NO_VALUE||!i.isLoaded),s=i===r.NO_VALUE?void 0:i.achievement,u=Bb((0,r.useSharedFacet)(qo),1e4),d=Bb((0,r.useSharedFacet)(qo),1500),m=(0,r.useFacetUnwrap)(u),p=(0,r.useFacetUnwrap)(d),f=(0,a.useRef)(null),g=c&&!s;(0,a.useEffect)((()=>{g&&n.goBack()}),[g,n]);const E=Boolean(o&&s&&null!=s.rewardName&&s.rewardImage),h=null!=s?[s.isLocked?e(".narration.locked"):e(".narration.completed"),s.dateUnlocked>0?t.formatDate(s.dateUnlocked):"",s.name,s.description,...0!==s.gamerScore?[e(".narration.gamerscore"),`${s.gamerScore}`]:[],...Ey(s,e)].join(" . "):"";if(i===r.NO_VALUE)return null;const v=o&&s&&s.hasReward&&s.isRewardOwned&&s.isLocked;return a.createElement(Iv,null,a.createElement(wf,{text:e(".narration.title")},p!==r.NO_VALUE&&p&&(m===r.NO_VALUE||!m)&&a.createElement(kv,{text:e(".narration.loadingMessage")}),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:c}),a.createElement($v,{onBackButton:n.goBack,center:a.createElement(fm,{type:"header5A"},e(".title")),delegateFocusFromMemory:!0,gamepadAlias:"achievements-details-layout-content",delegateByAlias:"achievements-details-wrapper",shouldNotDelegateToContent:!E},m!==r.NO_VALUE&&m?a.createElement(Yv,null,a.createElement(Yv.Row,{gamepadIndex:0},a.createElement(Yv.Column,{wideSize:2,narrowSize:1}),a.createElement(Yv.Column,{gamepadIndex:0,wideSize:8,narrowSize:6},a.createElement(om,{size:2}),a.createElement(cb,{gamepadAlias:"ach-details-empty-state",gamepadIndex:0,text:e(".errorMessage")})))):a.createElement(wf,{text:h},a.createElement(Yv,null,a.createElement(Fp,{containerRef:f,delegateFocusFromMemory:!0,alias:"achievements-details-wrapper",delegateFocusByAlias:"reward-wrapper"},a.createElement(Yv.Row,{innerRef:f,gamepadIndex:0},(!E||!c)&&a.createElement(Yv.Column,{wideSize:2,narrowSize:1}),a.createElement(Yv.Column,{gamepadIndex:0,wideSize:8,narrowSize:E&&c?5:6},a.createElement(Ef,{gamepadIndex:0,focusableIfScrollable:!0},a.createElement(om,{size:2}),s?a.createElement(Cb,{loading:!1,title:s.name,image:s.image,description:s.description,progress:s.progress,progressTarget:s.progressTarget,isLocked:s.isLocked,dateUnlocked:s.dateUnlocked,gamerscore:s.gamerScore,gamepadIndex:0,completedOnAnotherPlatform:!!v}):a.createElement(Cb,{gamepadIndex:0,loading:!0}),a.createElement(om,{size:2}),a.createElement(iE.Space,null))),E&&s&&null!=s.rewardName&&null!=s.rewardImage&&a.createElement(Yv.Column,{gamepadIndex:1,wideSize:4,narrowSize:3},a.createElement(Ef,{gamepadAlias:"reward-wrapper",delegateFocusByAlias:"reward-button",gamepadIndex:0,loading:!c},a.createElement(om,{size:2}),a.createElement(Ib,{title:s.rewardName,onClickView:()=>{n.push(`/persona?itemId=${s.rewardId}`)},isOwned:ai(s),image:s.rewardImage}),a.createElement(om,{size:2}),a.createElement(iE.Space,null))))))))))},vy=n.p+"assets/all_achievements_unlocked-145c0.png",by=n.p+"assets/no_achievements_unlocked-343d7.png",yy=n.p+"assets/error-message-9e281.png",Fy=n.p+"assets/unavailable-on-preview-2120e.png",Sy=(0,a.createContext)((()=>{}));function Cy({children:e}){const[t,n]=(0,r.useFacetState)(!1);return a.createElement(Sy.Provider,{value:n},e,a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>e?"hVSP2":""),[],[t])}))}const My=(0,a.createContext)(null),wy=()=>(0,a.useContext)(My),ky=(0,a.createContext)(null),Ty=(0,a.createContext)(null),Iy=(0,a.createContext)(null);function Py({children:e}){const t=tt(),n=(0,a.useMemo)((()=>(0,r.createFacet)({initialValue:{}})),[]),l=(0,a.useMemo)((()=>(0,r.createFacet)({initialValue:{}})),[]),o=(0,r.useFacetMap)((e=>null!=xy(e)),[],[n]),i=(0,a.useContext)(Sy);(0,r.useFacetEffect)(i,[i],[o]);const c=(0,r.useFacetCallback)(((e,t)=>a=>{const o=xy(e);null!=o&&"gamepad"==o.dragging&&(n.setWithCallback((e=>{const n="up"===a?-1:"down"===a?1:0,r=o.gamepadHoverIndex+n,l=function(e,t){if(null==e)return null;for(const n in e){const a=e[n];if(a.index===t)return a}}(t,o.index);for(const e in t){const n=t[e];if(n.index===r){var i;const e=null===(i=n.ref.current)||void 0===i?void 0:i.getBoundingClientRect();if(null==o.startX||null==o.startY){var c;const e=null==l||null===(c=l.ref.current)||void 0===c?void 0:c.getBoundingClientRect();var s,u;null!=e&&(o.startX=null!==(s=e.left)&&void 0!==s?s:0,o.startY=null!==(u=e.top)&&void 0!==u?u:0)}if(null==e)break;const t=r===o.index;o.gamepadHoverIndex=r,o.transform=t?"translate(0, 0)":`translate(${e.left-o.startX+o.gamepadDragXOffsetPx}px, ${e.top-o.startY+o.gamepadDragYOffsetPx}px)`;break}}return e})),l.setWithCallback((e=>{if(e!=r.NO_VALUE)for(const t in e){const n=e[t],a=o.index<n.index&&o.gamepadHoverIndex>=n.index,r=o.index>n.index&&o.gamepadHoverIndex<=n.index;n.displacement=a?-1:r?1:0,n.hovering=o.gamepadHoverIndex===n.index}return e})))}),[n,l],[n,l]),s=(0,r.useFacetCallback)(((e,t,a)=>o=>{const i=xy(e);if(!a&&null==o.touches)return;const{clientX:c,clientY:s}=a?o:o.touches[0],u=function(e,t,n){if(null==n)return null;let a=null,r=null;for(const l in n){const o=n[l];if(null==o.centerX||null==o.centerY)continue;const i=Math.hypot(e-o.centerX,t-o.centerY);(null==r||i<r)&&(r=i,a=o)}return a}(c,s,t);null!=i&&(n.setWithCallback((e=>{if(null!=i.startX&&null!=i.startY){var t;const e="y"===i.pointerAxisLock?0:c-i.startX,n="x"===i.pointerAxisLock?0:s-i.startY;i.transform=`translate(${e}px, ${n}px)`,i.pointerHoverIndex=null!==(t=null==u?void 0:u.index)&&void 0!==t?t:i.index,i.pointerHoverIndex!==(null==i?void 0:i.index)&&(i.hasDraggedPointerBeyondStartArea=!0)}return e})),l.setWithCallback((e=>{if(null!=u&&e!=r.NO_VALUE){for(const t in e){const n=e[t],a=i.index<n.index&&u.index>=n.index,r=i.index>n.index&&u.index<=n.index;n.displacement=a?-1:r?1:0,n.hovering=!1}u.hovering=!0}return e})))}),[n,l],[n,l,t]);(0,a.useEffect)((()=>{const e=()=>{let e;window.removeEventListener("mousemove",s),window.removeEventListener("touchmove",s),n.setWithCallback((t=>{if(t!=r.NO_VALUE)for(const n in t){const a=t[n];0!=a.dragging&&(e=a.data),a.hasDraggedPointerBeyondStartArea=!1,a.dragging=!1,a.transform="",a.zIndex="",a.startX=null,a.startY=null}return t})),l.setWithCallback((t=>{if(t!=r.NO_VALUE)for(const n in t){const a=t[n];!0===a.hovering&&a.onDrop(e,a.data),a.displacement=null,a.hovering=!1}return t}))};return window.addEventListener("mouseup",e),window.addEventListener("touchend",e),()=>{window.removeEventListener("mouseup",e),window.removeEventListener("touchend",e)}}),[s,n,l]);const u=(0,a.useContext)(Je),d=(0,a.useMemo)((()=>({addDraggable:e=>{null!=e.id&&n.setWithCallback((t=>{var n,a;return t!=r.NO_VALUE&&(t[e.id]={id:e.id,gamepadHoverIndex:e.index,pointerHoverIndex:e.index,hasDraggedPointerBeyondStartArea:!1,ref:e.ref,data:e.data,index:e.index,dragging:!1,transform:"",zIndex:"",startX:null,startY:null,pointerAxisLock:e.pointerAxisLock,gamepadDragXOffsetPx:null!==(n=e.gamepadDragXOffsetPx)&&void 0!==n?n:0,gamepadDragYOffsetPx:null!==(a=e.gamepadDragYOffsetPx)&&void 0!==a?a:0}),t}))},removeDraggable:e=>{e&&n.setWithCallback((t=>(t!=r.NO_VALUE&&delete t[e],t)))},addDroppable:e=>{null!=e.id&&function e(t){var n;const a=null===(n=t.ref.current)||void 0===n?void 0:n.getBoundingClientRect();null==a||0===a.width&&0===a.height?requestAnimationFrame((()=>e(t))):requestAnimationFrame((()=>{l.setWithCallback((e=>(null==a||e==r.NO_VALUE||(e[t.id]={data:t.data,index:t.index,hovering:!1,centerX:a.left+a.width/2,centerY:a.top+a.height/2,left:a.left,top:a.top,displacement:null,ref:t.ref,onDrop:t.onDrop}),e)))}))}(e)},removeDroppable:e=>{l.setWithCallback((t=>(t!=r.NO_VALUE&&delete t[e],t)))},pointerDragStart:(e,t,a)=>{window.addEventListener("mousemove",s),window.addEventListener("touchmove",s),l.setWithCallback((t=>{if(t!=r.NO_VALUE){var n;null!=(null===(n=t[e])||void 0===n?void 0:n.hovering)&&(t[e].hovering=!0);for(const e in t){var a;if(null==t)break;const n=t[e],r=null===(a=n.ref.current)||void 0===a?void 0:a.getBoundingClientRect();null!=r&&(n.centerX=r.left+r.width/2,n.centerY=r.top+r.height/2,n.left=r.left,n.top=r.top,n.displacement=0)}}return t})),n.setWithCallback((n=>{if(n!=r.NO_VALUE){n[e].dragging="pointer";const r=n[e].ref.current,l=null==r?void 0:r.getBoundingClientRect();if(null==l)return n;const o=n[e].pointerAxisLock,i="y"===o?0:t-l.left,c="x"===o?0:a-l.top,s=c>l.height||i>l.width;n[e].transform=s?`translate(${i}px, ${c}px)`:"translate(0, 0)",n[e].zIndex=4,n[e].startX=s?t-i:t,n[e].startY=s?a-c:a}return n}))},focusDragStop:()=>{const e=n.get();if(e!=r.NO_VALUE){const t=xy(e);"gamepad"===(null==t?void 0:t.dragging)&&d.focusDragToggle(t.id)}},focusDragToggle:e=>{n.setWithCallback((t=>{if(t!=r.NO_VALUE){const n=t[e];0!=n.dragging?(window.removeEventListener("mousemove",d.focusDragStop),window.removeEventListener("touchstart",d.focusDragStop),n.dragging=!1,n.zIndex="",n.transform="",n.gamepadHoverIndex=n.index,l.setWithCallback((e=>{if(e!=r.NO_VALUE)for(const t in e){const a=e[t];!0===a.hovering&&a.onDrop(n.data,a.data),a.displacement=null,a.hovering=!1}return e}))):(u.get()===$e.ARVR_None&&(window.addEventListener("mousemove",d.focusDragStop),window.addEventListener("touchstart",d.focusDragStop)),n.dragging="gamepad",n.zIndex=4,l.setWithCallback((t=>{if(t!=r.NO_VALUE){var n;null!=(null===(n=t[e])||void 0===n?void 0:n.hovering)&&(t[e].hovering=!0);for(const e in t)t[e].displacement=0}return t})))}return t}))},focusDragMove:c})),[s,c,n,l,u]);return a.createElement(My.Provider,{value:d},a.createElement(Iy.Provider,{value:l},a.createElement(Ty.Provider,{value:n},a.createElement(ky.Provider,{value:o},e))))}function xy(e){for(const t in e)if(!1!==e[t].dragging)return e[t]}const Oy=()=>(0,a.useContext)(ky),Ay="Fb8kl";function Ny({role:e="destructiveTint",children:t,overflowCount:n=99}){const l=Fr(e),o=null!=t,i=Dr()(l.border.base,l.background.base,l.text.base,o?"Fp9K8":Ay),c=(0,r.useFacetMap)((e=>e>n&&0!=n?`+${n}`:`${e}`),[n],[(0,r.useFacetWrap)(null!=t?t:0)]);return o?a.createElement("div",{className:i},a.createElement("div",{className:"RlfkW"},a.createElement(fm,{type:"body",role:e,align:"center"},c))):a.createElement("div",{className:i},a.createElement("div",{className:Ay}))}const Ry="Asqnc";function _y({tabs:e,gamepadAliasNamespace:t,value:n,onChange:l,narrationTitle:o,enableGamepadShortcuts:i,onTabHoveredSoundEffect:c,onTabPressedSoundEffect:s,isCondensed:u=!1,role:d="neutral",badgeRole:m}){const{t:p}=ec("TabBar"),f=(0,a.useRef)(null),g=(0,r.useFacetWrap)(null!=i&&i),E=(0,r.useFacetWrap)(e),h=(0,r.useFacetMap)((e=>e.length),[],[E]),v=(0,r.useFacetWrap)(n),b=(0,r.useFacetMap)((e=>`${p(".narrationGroup",[e])}`),[p],[(0,r.useFacetWrap)(o)]),y=Cr(d),F=ra(),S=(0,r.useFacetCallback)(((e,t)=>(n,a)=>{if(t===n)return;const r=null!=e?e:y.toggle;null!=r&&F(r),l(n,a)}),[l,y.toggle,F],[(0,r.useFacetWrap)(s),v]);return a.createElement(wf,{text:b},a.createElement("div",{className:"uAM9I"},a.createElement(Fp,{containerRef:f,alias:"play-screen-tab-bar-wrapper",delegateFocusFromMemory:!0},a.createElement("div",{ref:f,className:"skOQQ"},a.createElement(r.Map,{array:E},((e,n)=>a.createElement(Dy,{gamepadAliasNamespace:t,key:`tab_${n}`,index:n,length:h,tab:e,selectedTab:v,onChange:S,onTabHoveredSoundEffect:c,isCondensed:u,badgeRole:m}))))),a.createElement(r.Mount,{when:g},a.createElement(Ly,{value:v,onChange:S,tabs:E}))))}const Ly=function({value:e,tabs:t,onChange:n}){var l;const o=rt(),i=(0,r.useFacetWrap)(null!==(l=Oy())&&void 0!==l&&l),c=(0,r.useFacetCallback)((e=>t=>e[t].value),[],[t]),s=(0,r.useFacetCallback)((e=>t=>e.findIndex((({value:e})=>e===t))),[],[t]),u=(0,r.useFacetMap)((e=>s(e)),[s],[e]),d=(0,r.useFacetCallback)((e=>()=>{const t=e-1;if(t>-1){const e=c(t);e!==r.NO_VALUE&&n(e,!0)}}),[c,n],[u]),m=(0,r.useFacetCallback)(((e,t)=>()=>{const a=t+1;if(a<e.length){const e=c(a);e!==r.NO_VALUE&&n(e,!0)}}),[c,n],[t,u]),p=vE.useIsAnyModalVisible(),f=(0,r.useFacetMap)(((e,t)=>({button:j.LEFT_BUMPER,disabled:e||t})),[],[p,i]),g=(0,r.useFacetMap)(((e,t)=>({button:j.RIGHT_BUMPER,disabled:e||t})),[],[p,i]);return a.createElement(r.Mount,{when:o},a.createElement(a.Fragment,null,a.createElement(Sf,{options:f,onClick:d}),a.createElement(Sf,{options:g,onClick:m}),a.createElement("div",{className:"kNiYk"},a.createElement(iE.Icon,{button:j.LEFT_BUMPER})),a.createElement("div",{className:"QmvqS"},a.createElement(iE.Icon,{button:j.RIGHT_BUMPER}))))};function Dy({gamepadAliasNamespace:e,selectedTab:t,onChange:n,index:l,length:o,tab:i,onTabHoveredSoundEffect:c,onTabPressedSoundEffect:s,isCondensed:u=!1,role:d="neutral",badgeRole:m}){const{t:p}=ec("TabBar"),{narrateText:f}=gf(),g=Fr(d),E=kr(),h=(0,r.useFacetMap)((e=>{var t;return null!==(t=e["data-testid"])&&void 0!==t?t:`tab-${e.value}`}),[],[i]),v=(0,r.useFacetMap)(((e,t)=>e===t.value),[],[t,i]),b=(0,r.useFacetMap)((e=>!e),[],[v]),y=(0,r.useFacetMap)(((e,t,n)=>[e.label,p(".narrationComponentType"),p(".selectedTab",[`${l+1}`,`${n}`]),p("."+(t?"selected":"notSelected")),e.hint].filter((e=>e)).join(" . ")),[l,p],[i,v,o]),F=(0,r.useFacetMap)((e=>Dr()("vaqPZ",g.background.interactive,g.border.base,{zgD8j:u,[E.pressed]:e,[Ry]:e})),[u,E,g],[v]),S=(0,r.useFacetCallback)((e=>()=>{f(p(".selected")),n(e.value,!1)}),[f,n,p],[i]),C=(0,r.useFacetMap)((t=>Wy(e,t.value)),[e],[i]),M=(0,r.useFacetMap)((e=>!e&&p(".open")),[p],[v]),w=(0,r.useFacetUnwrap)((0,r.useFacetMap)(((e,t)=>e.icons&&a.createElement(a.Fragment,null,e.icons[t?"selected":"unselected"],a.createElement(om,{size:2}))),[],[i,v])),k=(0,r.useFacetMap)((e=>null!=e.badge),[],[i]),T=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.badge)&&void 0!==t?t:0}),[],[i]),I=(0,r.useFacetMap)((e=>Dr()("vQ853",e?"SQhfM":null)),[],[k]),P=(0,r.useFacetMap)((e=>e.label),[],[i]);return a.createElement(em,{className:F,classNameFocused:Dr()("Fd_3e",Zm),classNamePressed:Ry,onClick:S,gamepadAlias:C,gamepadIndex:l,inputLegend:M,soundEffectHovered:c,soundEffectPressed:s,narrationText:y,"data-testid":h},a.createElement(Jm,{role:d}),a.createElement("div",{className:"d2Oi5"},a.createElement(cp,{role:d}),a.createElement("div",{className:"nYWhJ",style:{}},a.createElement("fast-div",{className:I},a.createElement(fm,{type:"body",role:d,verticalAlign:"center",disableable:v,interactive:b},w!==r.NO_VALUE&&null!=w&&w,a.createElement(am,null,P)),a.createElement(r.Mount,{when:k},a.createElement("div",{className:"Mnd0y"},a.createElement(om,{size:2}),a.createElement(Ny,{role:m},T)))))),a.createElement("div",{className:Dr()("y6Sow",g.shadow.base)}),a.createElement(r.Mount,{when:v},a.createElement("div",{className:Dr()("osEZN",g.icon.base)})))}function Wy(e,t){return`tab-bar-${e}-${t}`}_y.getFocusAlias=Wy;var By=n(66139),Uy=n.n(By);function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zy.apply(this,arguments)}const jy={0:"",1:"d2TEJ",2:"Gj9RM",3:"E1oWY",4:"YWsa7",5:"dXAvF",6:"A1EfM",7:"CGJv2",8:"nKDxU"},Hy={0:"",1:"KiCac",2:"xBfaL",3:"hekEJ",4:"cz2PX",5:"tLZ7Y",6:"aosJR",7:"OzmV0",8:"ywdmp"},Vy={0:0,1:.4,2:.8,3:1.2,4:1.6,5:2,6:2.4,7:3.2,8:6.4};function Gy(e){var t,n,l;const o=cd(e.rowSizeRem),i=cd(null!==(t=Vy[null!==(n=e.spacingSize)&&void 0!==n?n:0])&&void 0!==t?t:0),c=(0,r.useFacetMap)(((e,t)=>e+t),[],[o,i]),s=cd(null!==(l=e.headerSizeRem)&&void 0!==l?l:0);return a.createElement(Xy,zy({},e,{containerRef:(0,a.useRef)(null),firstRowRef:(0,a.useRef)(null),headerRef:(0,a.useRef)(null),headerSize:s,firstRowSize:c,containerSize:(0,r.useFacetWrap)(e.containerSizePixels),forceRowHeight:!0}))}function $y(e){const[t,n]=(0,r.useFacetState)(0),l=(0,a.useRef)(null),o=(0,a.useCallback)((({height:e})=>n(e)),[n]);pd(l,o);const[i,c]=(0,r.useFacetState)(0),s=(0,a.useRef)(null),u=(0,a.useCallback)((({height:e})=>c(e)),[c]);pd(s,u);const[d,m]=(0,r.useFacetState)(0),p=(0,a.useRef)(null),f=(0,a.useCallback)((({height:e})=>m(e)),[m]);return pd(p,f),a.createElement(Xy,zy({},e,{containerRef:l,containerSize:t,firstRowRef:s,firstRowSize:i,headerRef:p,headerSize:d}))}const Ky=(0,r.createStaticFacet)(0);function Xy(e){const{loading:t,renderItem:n,data:l,columnCount:o,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,overflowCount:s,equalityCheck:u,footer:d,spacingSize:m=0,emptyMessage:p,containerSize:f,headerSize:g,firstRowSize:E,containerRef:h,headerRef:v,firstRowRef:b,header:y,__initialRowOffsetPX:F=Ky,gamepadAlias:S,padSpinnerVertically:C,renderTracker:M,delegateFocusFromMemory:w,forceRowHeight:k,isGrid:T,gridCellWidth:I,gridCellHeight:P,gridColumns:x,gridRows:O,gridCellSizeAuto:A,scrollbarBackgroundRole:N}=e,[R,_]=(0,a.useState)(1),[L,D]=(0,r.useFacetState)(0),W=(0,r.useFacetMap)((e=>Math.ceil(e.length/o)),[o],[l]),B=(0,r.useFacetMap)((e=>e.length),[],[l]),U=(0,r.useFacetMap)((e=>e<=0),[],[B]),z=(0,r.useFacetMap)(((e,t,n)=>Math.ceil(e.length/o)*t+n),[o],[l,E,F]);return(0,r.useFacetEffect)(((e,t,n)=>{if(0===e||0===t)return;const a=Math.round(e/t)+2*s;_(n<a?n+2*s:a)}),[s],[f,E,W]),(0,r.useFacetLayoutEffect)(((e,t,n,a)=>{const r=h.current;if(null==r)return;let l,o;const i=()=>{const c=Math.max(0,Math.min(r.scrollTop,a-r.offsetHeight));c!==l&&(D(Math.round((c-t+n)/e)-s),l=c),o=requestAnimationFrame(i)};return i(),()=>{cancelAnimationFrame(o)}}),[D,s,h],[E,g,F,z]),a.createElement(Yy,{gamepadAlias:S,scrollRef:h,loading:t,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,delegateFocusFromMemory:w,padSpinnerVertically:C,renderTracker:M,isGrid:T,gridCellWidth:I,gridCellHeight:P,gridColumns:x,gridRows:O,gridCellSizeAuto:A,scrollbarBackgroundRole:N},null!=y?a.createElement("div",{ref:v},y):null,a.createElement(wl,{data:U},(e=>e?a.createElement(a.Fragment,null,p):a.createElement("fast-div",{className:`${Hy[m]} _QBY6`,style:{heightPX:z},"data-testid":"glv-container"},Uy()((e=>a.createElement(Jy,{key:e,data:l,dataLength:B,startRowIndex:L,relativeRowIndex:e,rowCount:W,columnCount:o,renderItem:n,rowHeight:E,visibleCount:R,equalityCheck:u,innerRef:0===e?b:void 0,headerSize:g,spacingSize:m,rowOffset:F,forceRowHeight:k})),R)))),d)}function Yy({children:e,delegateFocusFromMemory:t=!0,focusGridIndex:n,gamepadAlias:l,loading:o,padSpinnerVertically:i,renderTracker:c,scrollIntoViewAlign:s,scrollIntoViewSpeedFactor:u,scrollRef:d,showSpinnerBorder:m,spinnerBackgroundColor:p,isGrid:f,gridCellWidth:g,gridCellHeight:E,gridColumns:h,gridRows:v,gridCellSizeAuto:b,scrollbarBackgroundRole:y}){const F=(0,r.useIsDeferring)(),S=(0,r.useIsPaused)(),C=(0,r.useFacetMap)(((e,t)=>t||e||S),[S],[F,(0,r.useFacetWrap)(null!=o&&o)]);return a.createElement(Ef,{delegateFocusFromMemory:t,focusGridIndex:n,gamepadAlias:l,innerRef:d,loading:C,padSpinnerVertically:i,renderTracker:c,showSpinnerBorder:m,spinnerBackgroundColor:p,scrollIntoViewAlign:s,scrollIntoViewSpeedFactor:u,shouldScrollWithAnalog:!1,isGrid:f,gridCellWidth:g,gridCellHeight:E,gridColumns:h,gridRows:v,gridCellSizeAuto:b,scrollbarBackgroundRole:y},e)}const qy=3;function Qy(e){const t=(0,r.useFacetWrap)(e.data),{columnCount:n,overflowCount:l=qy}=e,o=n<=0?1:n,i=l<0?0:l;return function(e){return null!=e.rowSizeRem}(e)?a.createElement(Gy,zy({},e,{columnCount:o,overflowCount:i,data:t})):a.createElement($y,zy({},e,{columnCount:o,overflowCount:i,data:t}))}function Jy({data:e,dataLength:t,startRowIndex:n,relativeRowIndex:l,rowCount:o,columnCount:i,renderItem:c,rowHeight:s,visibleCount:u,equalityCheck:d,innerRef:m,spacingSize:p,rowOffset:f,forceRowHeight:g}){const E=(0,r.useFacetMemo)(((e,t)=>{const n=Math.floor((e+(u-1-l))/u)*u+l;return n<t&&n>=0?n:void 0}),[l,u],[n,o]),h=(0,r.useFacetMap)(((e,t,n)=>null==e?0:0==e?e*t:e*t+n),[],[E,s,f]),v=(0,r.useFacetMap)(((e,t,n)=>g?0===n?t+e:t:void 0),[g],[f,s,E]),b=(0,r.useFacetMap)((e=>null==e),[],[E]),y=(0,r.useFacetMap)((e=>e?"none":"flex"),[],[b]);return a.createElement(Gr,{disabled:b,hidden:b},a.createElement("fast-div",{className:Dr()("wKbAE",jy[p]),style:{topPX:h,display:y,heightPX:v},ref:m},Uy()((n=>a.createElement(Zy,{dataLength:t,key:n,data:e,rowIndex:E,columnIndex:n,columnCount:i,equalityCheck:d,renderItem:c,spacingSize:p})),i)))}function Zy({data:e,dataLength:t,rowIndex:n,columnIndex:l,columnCount:o,renderItem:i,equalityCheck:c,spacingSize:s}){const u=(0,r.useFacetMap)((e=>null==e?r.NO_VALUE:e*o+l),[l,o],[n]),d=(0,r.useFacetMemo)(((e,t)=>null!=t[e]?t[e]:r.NO_VALUE),[],[u,e],c),m=(0,r.useFacetMap)(((e,t)=>null==e?r.NO_VALUE:null==t[e*o+l]),[l,o],[n,e]),p=(0,r.useFacetMap)((e=>null==e?r.NO_VALUE:e),[],[n]);return a.createElement(a.Fragment,null,i({item:d,index:u,rowIndex:p,columnIndex:l,isHidden:m,listLength:t}),l<o-1&&s>0?a.createElement(om,{size:s}):null)}const eF=({label:e="",role:t="neutral"})=>{const n=(0,r.useFacetWrap)(t),l=Fr();return a.createElement("fast-div",{className:"YimiS"},a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>Dr()("uydZW",l[e].background.base,l[e].border.base,l[e].text.base)),[l],[n])},a.createElement(fm,{type:"captionShort",role:t},a.createElement("fast-text",{text:e}))),a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>Dr()("ZXwO7",l[e].background.base,l[e].border.base)),[l],[n])}))};function tF({data:e,renderItem:t,containerSizePixels:n,rowSizeInRem:l,gamepadAlias:o,loading:i,footer:c,padSpinnerVertically:s,delegateFocusFromMemory:u,renderTracker:d,isGrid:m,gridItemHeight:p,gridItemWidth:f}){const g=(0,r.useFacetWrap)(e),E=(0,r.useFacetMap)((e=>{const t=[];for(let n=0;n<e.length;n++){const{data:a,narrationSuffix:r,narrationTitle:l}=e[n];e[n].data.length<=0||t.push({isHeader:!0,narrationSuffix:r,narrationTitle:l,role:e[n].role,sectionIndex:n,sectionLength:a.length,numberOfSections:e.length,sectionTitle:e[n].title},...a.map(((t,o)=>({isHeader:!1,data:t,localIndex:o,narrationSuffix:r,narrationTitle:l,sectionIndex:n,sectionLength:a.length,numberOfSections:e.length,sectionTitle:e[n].title}))))}return t}),[],[g]),h=cd(-(l-aF));return a.createElement(Vd,{value:!1},a.createElement(Qy,{renderTracker:d,loading:i,gamepadAlias:o,footer:c,rowSizeRem:l,padSpinnerVertically:s,containerSizePixels:n,data:E,columnCount:1,__initialRowOffsetPX:h,renderItem:({item:e,index:n})=>a.createElement(nF,{itemData:e,index:n,renderItem:t}),delegateFocusFromMemory:u,isGrid:m,gridCellHeight:p,gridCellWidth:f}))}function nF({itemData:e,renderItem:t}){const{t:n}=ec("SectionList"),l=(0,r.useFacetMemo)((e=>e.isHeader),[],[e]),o=(0,r.useFacetMemo)((e=>e.isHeader?"none":"flex"),[],[e]);return a.createElement(wf,{getText:(0,r.useFacetCallback)((e=>()=>{var t,a;return[n(".groupNarration",[null!==(t=e.narrationTitle)&&void 0!==t?t:e.sectionTitle,(e.sectionIndex+1).toString(),e.numberOfSections.toString()]),null!==(a=e.narrationSuffix)&&void 0!==a?a:""].filter(Boolean).join(" . ")}),[n],[e])},a.createElement(Gr,{disabled:l,hidden:l},a.createElement(rF,{role:(0,r.useFacetMap)((e=>e.isHeader?e.role:r.NO_VALUE),[],[e]),title:(0,r.useFacetMap)((e=>e.isHeader?e.sectionTitle:r.NO_VALUE),[],[e]),show:l}),a.createElement("fast-div",{style:{display:o,flex:1}},a.createElement(a.Fragment,null,t(e)))))}const aF=4.4;function rF({title:e,show:t,role:n}){const l=(0,r.useFacetMap)((e=>e?"flex":"none"),[],[t]);return a.createElement("fast-div",{style:{display:l,flex:1,justifyContent:"flex-end",flexDirection:"column"}},a.createElement(eF,{label:e,role:n}))}const lF=n.p+"assets/0-Achievement-Book-4892e.png",oF=n.p+"assets/25-Achievement-Book-9e9a7.png",iF=n.p+"assets/50-Achievement-Book-cb611.png",cF=n.p+"assets/75-Achievement-Book-5bb74.png",sF=n.p+"assets/100-Achievement-Book-c11e5.png",uF=n.p+"assets/100-Achievement-sprite-0ed43.png";function dF({children:e,role:t="neutral80"}){const n=Fr(t);return a.createElement(Xa,{role:t},a.createElement("div",{className:Dr()("i2Nr0",n.background.base,n.border.base)},e))}dF.Data=function({value:e,label:t,icon:n}){const r=Fr("inherit");return a.createElement("div",{className:Dr()("dIbWH",r.background.base)},a.createElement(om,{size:2}),n,a.createElement(om,{size:1}),a.createElement("div",{className:"VHEDr"},a.createElement(fm,{type:"captionShort",variant:"dimmest"},t),a.createElement(fm,{type:"captionShort"},e)))},dF.Divider=function(){const e=Fr("inherit");return a.createElement("div",{className:Dr()("juifw",e.shadow.base)})};const mF=({status:e})=>a.createElement("fast-div",{className:(0,r.useFacetMap)((([e])=>Dr()("NQGrD",{ejkbA:"exited"===e||"exiting"===e||"unmounted"===e})),[],[e])},a.createElement(ff,null));dF.displayName="Summary",dF.SummarySpinner=({hidden:e})=>a.createElement(Yp,{visible:!e,timeout:500},(e=>a.createElement(mF,{status:e})));function pF(e){let{startFrame:t=0}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["startFrame"]);const l=(0,r.useFacetWrap)(n.className),o=(0,r.useFacetMap)(((e="")=>`c9joz ${e}`),[],[l]),i=(0,r.useFacetWrap)(n.disabled),c=(0,r.useFacetWrap)(n.paused),s=(0,r.useFacetMap)((e=>e?"none":"flex"),[],[i]),u=(0,r.useFacetMap)((e=>e?"paused":"running"),[],[c]),d=(0,r.useFacetWrap)(t),m=n.duration||500,p=(0,r.useFacetMap)((e=>{var t,a;return m/n.frames*(t=e,0,a=n.frames,Math.min(Math.max(t,0),a))*-1+"ms"}),[m,n.frames],[d]);return a.createElement("fast-div",{className:o,style:{display:s,backgroundImage:`url(${n.src})`,animationPlayState:u,animationName:"ghQXH",animationDirection:n.animationDirection||"normal",animationTimingFunction:`steps(${n.frames})`,animationIterationCount:"number"==typeof n.repeat?n.repeat.toString():"infinite",animationDuration:`${m}ms`,animationDelay:p,imageRendering:n.imageRendering,width:`calc(${10*n.width/(n.frames+1)} * var(--base1Scale))`,height:`calc(${10*n.height} * var(--base1Scale))`,backgroundSize:`calc(${10*n.width} * var(--base1Scale)) calc(${10*n.height} * var(--base1Scale))`}})}const fF="__VISUAL_REGRESSION_TEST_ICON_STYLE_CACHE__",gF=(e,t)=>{if("true"!==process.env.VISUAL_REGRESSION_TEST)throw new Error("useStyleTagInjection was run outside of a visual regression test, this should never happen!");(0,a.useEffect)((()=>{var n;if(null==document.getElementById(fF)){const e=document.createElement("style");e.setAttribute("id",fF),e.setAttribute("type","text/css"),document.body.appendChild(e)}const a=document.getElementById(fF);!1===(null==a||null===(n=a.textContent)||void 0===n?void 0:n.includes(e))&&(null==a||a.appendChild(document.createTextNode(`.${e} {${(e=>Object.entries(e).map((([e,t])=>`${e}:${t}`)).join(";"))(t)}}`)))}),[e,t])};function EF(){return EF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},EF.apply(this,arguments)}function hF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function vF(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bF(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const yF="undefined"!=typeof process&&"true"===process.env.VISUAL_REGRESSION_TEST,FF=(e,t,n,a)=>{let r=0;if("number"==typeof e)r=e;else if(t)r=a.default[n];else{var l,o;r=null!==(l=null===(o=a.canvas)||void 0===o?void 0:o[n])&&void 0!==l?l:a.default[n]}return yF?r/10+"rem":`calc(${r} * var(--base1Scale))`},SF=({displayName:e,src:t,width:n,height:l,scale:o=1,canvasWidth:i,canvasHeight:c})=>{const s=`url('${t}')`,u=(({sourceWidth:e,sourceHeight:t,sourceScale:n,canvasWidth:a=0,canvasHeight:r=0})=>{const l=1/n;return{canvas:a&&r?{maskSize:[e/a,t/r].map((e=>`${Math.floor(100*e)}%`)).join(" "),width:a*l,height:r*l}:null,default:{maskSize:"100% 100%",width:e*l,height:t*l}}})({sourceWidth:n,sourceHeight:l,sourceScale:o,canvasWidth:i,canvasHeight:c}),d=`${e}_default`,m=`${e}_canvas`;return t=>{let{role:n="inherit",variant:l,color:o,className:i,style:c,width:p,height:f,disabled:g,trimCanvas:E}=t,h=bF(t,["role","variant","color","className","style","width","height","disabled","trimCanvas"]);yF&&(gF(d,{"-webkit-mask-image":s,"-webkit-mask-size":u.default.maskSize}),u.canvas&&gF(`${e}_canvas`,{"-webkit-mask-image":s,"-webkit-mask-size":u.canvas.maskSize}));const v=Fr(n),b=kr(),y=(0,r.useFacetWrap)(i),F=(0,r.useFacetWrap)(o),S=(0,r.useFacetWrap)(p),C=(0,r.useFacetWrap)(f),M=(0,r.useFacetWrap)(g),w=(0,r.useFacetWrap)(E),k=(0,r.useFacetWrap)(l),T=(0,r.useFacetMap)((e=>yF?e||!u.canvas?d:m:null),[],[w]),I=(0,r.useFacetMap)(((e,t,n,a,r)=>{var l,o,i,c;return Dr()("sFyiW",{[null!==(l=null===(o=v.icon)||void 0===o?void 0:o.base)&&void 0!==l?l:""]:!Boolean(t),[null!==(i=null===(c=v.icon)||void 0===c?void 0:c.disable)&&void 0!==i?i:""]:n,[b.disabled]:n},a,e,r)}),[v,b],[y,F,M,k,T]),P=(0,r.useFacetMap)(((e,t)=>FF(e,t,"width",u)),[],[S,w]),x=(0,r.useFacetMap)(((e,t)=>FF(e,t,"height",u)),[],[C,w]),O=(0,r.useFacetMap)((e=>e||!u.canvas?u.default.maskSize:u.canvas.maskSize),[],[w]),A=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hF(Object(n),!0).forEach((function(t){vF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:P,height:x,WebkitMaskImage:s,maskImage:s,WebkitMaskSize:O,maskSize:O,backgroundColor:F},c);return a.createElement("fast-div",EF({},h,{className:I,style:A}))}},CF=(e,...t)=>{const n=t.reduce(((e,t)=>{let{type:n}=t,a=bF(t,["type"]);return e[n]=SF(a),e}),{default:SF(e)}),a=e=>{var t;let{type:a="default"}=e,r=bF(e,["type"]);return null!==(t=n[a](r))&&void 0!==t?t:null};return a.displayName=e.displayName,a.alternates=t.reduce(((e,{type:t})=>(null!=t&&e.push(t),e)),[]),a},MF={displayName:"IconAccessibility",src:n.p+"assets/accessibility@0.5x.icon-dad71.png",width:9,height:10,scale:.5},wF={displayName:"IconAchievementBottle",src:n.p+"assets/achievement-bottle.icon-4eb8c.png",width:32,height:32,scale:1},kF={displayName:"IconAchievements",src:n.p+"assets/achievements@0.5x.icon-5e205.png",width:12,height:12,scale:.5},TF={displayName:"IconAddBehaviourPack",src:n.p+"assets/add-behaviour-pack@0.5x.icon-996e9.png",width:11,height:12,scale:.5},IF={displayName:"IconAddImage",src:n.p+"assets/add-image@0.5x.icon-9f40d.png",width:12,height:12,scale:.5},PF={displayName:"IconAddOns",src:n.p+"assets/add-ons@0.5x.icon-8520e.png",width:12,height:12,scale:.5},xF={displayName:"IconAddOnsSmall",src:n.p+"assets/add-ons_small@0.5x.icon-2ecb1.png",width:8,height:8,scale:.5},OF={displayName:"IconAddPlayer",src:n.p+"assets/add-player@0.5x.icon-2f437.png",width:12,height:12,scale:.5},AF={displayName:"IconAddResourcePack",src:n.p+"assets/add-resource-pack@0.5x.icon-5ae96.png",width:11,height:12,scale:.5},NF={displayName:"IconAlbum",src:n.p+"assets/album@0.5x.icon-8eb06.png",width:12,height:12,scale:.5},RF={displayName:"IconApple",src:n.p+"assets/apple@0.5x.icon-f78b1.png",width:11,height:12,scale:.5},_F={displayName:"IconArrowDown",src:n.p+"assets/arrow-down@0.5x.icon-94262.png",width:9,height:12,scale:.5},LF={displayName:"IconArrowLeft",src:n.p+"assets/arrow-left@0.5x.icon-7b87c.png",width:12,height:9,scale:.5},DF={displayName:"IconArrowRight",src:n.p+"assets/arrow-right@0.5x.icon-14b53.png",width:12,height:9,scale:.5},WF={displayName:"IconArrowUp",src:n.p+"assets/arrow-up@0.5x.icon-887cf.png",width:9,height:12,scale:.5},BF={displayName:"IconBackup",src:n.p+"assets/backup@0.5x.icon-d2862.png",width:10,height:10,scale:.5},UF={displayName:"IconBell",src:n.p+"assets/bell@0.5x.icon-259b0.png",width:10,height:11,scale:.5},zF={displayName:"IconBlock",src:n.p+"assets/block@0.5x.icon-5d2f0.png",width:12,height:12,scale:.5},jF={displayName:"IconBlockSmall",src:n.p+"assets/block_small@0.5x.icon-a5647.png",width:8,height:8,scale:.5},HF={displayName:"IconBoots",src:n.p+"assets/boots@0.5x.icon-55206.png",width:11,height:10,scale:.5},VF={displayName:"IconBrush",src:n.p+"assets/brush@0.5x.icon-c1e1b.png",width:12,height:12,scale:.5},GF={displayName:"IconBrushSmall",src:n.p+"assets/brush_small@0.5x.icon-42a96.png",width:8,height:8,scale:.5},$F={displayName:"IconCheckmark",src:n.p+"assets/checkmark@0.5x.icon-6995d.png",width:8,height:6,scale:.5},KF={displayName:"IconCheckmarkSmall",src:n.p+"assets/checkmark_small@0.5x.icon-6995d.png",width:8,height:6,scale:.5},XF={displayName:"IconChevronDown",src:n.p+"assets/chevron-down@0.5x.icon-24a8c.png",width:7,height:4,scale:.5},YF={displayName:"IconChevronLeft",src:n.p+"assets/chevron-left@0.5x.icon-1db2f.png",width:4,height:7,scale:.5},qF={displayName:"IconChevronRight",src:n.p+"assets/chevron-right@0.5x.icon-207ca.png",width:4,height:7,scale:.5},QF={displayName:"IconChevronUp",src:n.p+"assets/chevron-up@0.5x.icon-9b9c9.png",width:7,height:4,scale:.5},JF={displayName:"IconClosedCaptions",src:n.p+"assets/closed-captions@0.5x.icon-515db.png",width:11,height:10,scale:.5},ZF={displayName:"IconClothes",src:n.p+"assets/clothes@0.5x.icon-75344.png",width:12,height:12,scale:.5},eS={displayName:"IconClothesSmall",src:n.p+"assets/clothes_small@0.5x.icon-b6e63.png",width:8,height:8,scale:.5},tS={displayName:"IconCloud",src:n.p+"assets/cloud@0.5x.icon-80e23.png",width:10,height:10,scale:.5},nS={displayName:"IconComment",src:n.p+"assets/comment@0.5x.icon-2df01.png",width:10,height:10,scale:.5},aS={displayName:"IconCross",src:n.p+"assets/cross@0.5x.icon-2be36.png",width:7,height:7,scale:.5},rS={displayName:"IconCrossbow",src:n.p+"assets/crossbow@0.5x.icon-13ccf.png",width:11,height:11,scale:.5},lS={displayName:"IconDamage",src:n.p+"assets/damage@0.5x.icon-a1c2d.png",width:9,height:9,scale:.5},oS={displayName:"IconDefault",src:n.p+"assets/default@0.5x.icon-8ce15.png",width:6,height:6,scale:.5},iS={displayName:"IconDelete",src:n.p+"assets/delete@0.5x.icon-e2052.png",width:8,height:12,scale:.5},cS={displayName:"IconDocsPage",src:n.p+"assets/docs-page@0.5x.icon-10dc2.png",width:10,height:12,scale:.5},sS={displayName:"IconDocsSection",src:n.p+"assets/docs-section@0.5x.icon-6aed8.png",width:8,height:8,scale:.5},uS={displayName:"IconDownload",src:n.p+"assets/download@0.5x.icon-80549.png",width:9,height:10,scale:.5},dS={displayName:"IconDragAndDrop",src:n.p+"assets/drag-and-drop@0.5x.icon-c9c33.png",width:3,height:5,scale:.5},mS={displayName:"IconDuplicate",src:n.p+"assets/duplicate@0.5x.icon-ec780.png",width:11,height:11,scale:.5},pS={displayName:"IconEditImage",src:n.p+"assets/edit-image@0.5x.icon-d65de.png",width:12,height:12,scale:.5},fS={displayName:"IconEdit",src:n.p+"assets/edit@0.5x.icon-cc7f2.png",width:12,height:12,scale:.5},gS={displayName:"IconElytra",src:n.p+"assets/elytra@0.5x.icon-88c4d.png",width:12,height:10,scale:.5},ES={displayName:"IconEmerald",src:n.p+"assets/emerald@0.5x.icon-02510.png",width:10,height:12,scale:.5},hS={displayName:"IconEmote",src:n.p+"assets/emote@0.5x.icon-ada40.png",width:12,height:12,scale:.5},vS={displayName:"IconEmoteSmall",src:n.p+"assets/emote_small@0.5x.icon-f21ff.png",width:9,height:10,scale:.5},bS={displayName:"IconEnter",src:n.p+"assets/enter@0.5x.icon-c0739.png",width:11,height:11,scale:.5},yS={displayName:"IconExitFullscreen",src:n.p+"assets/exit-fullscreen@0.5x.icon-80d2b.png",width:10,height:10,scale:.5},FS={displayName:"IconExit",src:n.p+"assets/exit@0.5x.icon-2af38.png",width:11,height:11,scale:.5},SS={displayName:"IconExport",src:n.p+"assets/export@0.5x.icon-64be4.png",width:9,height:10,scale:.5},CS={displayName:"IconExternalLink",src:n.p+"assets/external-link@0.5x.icon-2b6ce.png",width:12,height:12,scale:.5},MS={displayName:"IconFilter",src:n.p+"assets/filter@0.5x.icon-f7d15.png",width:12,height:12,scale:.5},wS={displayName:"IconFollowers",src:n.p+"assets/followers@0.5x.icon-4da56.png",width:12,height:12,scale:.5},kS={displayName:"IconFriends",src:n.p+"assets/friends@0.5x.icon-23e24.png",width:12,height:12,scale:.5},TS={displayName:"IconFriendsSmall",src:n.p+"assets/friends_small@0.5x.icon-cff7a.png",width:10,height:10,scale:.5},IS={displayName:"IconFullscreen",src:n.p+"assets/fullscreen@0.5x.icon-bf488.png",width:12,height:12,scale:.5},PS={displayName:"IconGamerscore",src:n.p+"assets/gamerscore@0.5x.icon-fa65b.png",width:12,height:12,scale:.5},xS={displayName:"IconGamerscoreSmall",src:n.p+"assets/gamerscore_small@0.5x.icon-8aeec.png",width:7,height:7,scale:.5},OS={displayName:"IconGrid",src:n.p+"assets/grid@0.5x.icon-8ce15.png",width:6,height:6,scale:.5},AS={displayName:"IconHanger",src:n.p+"assets/hanger@0.5x.icon-f9744.png",width:12,height:12,scale:.5},NS={displayName:"IconHangerSmall",src:n.p+"assets/hanger_small@0.5x.icon-d2f74.png",width:8,height:8,scale:.5},RS={displayName:"IconHardcoreHeart",src:n.p+"assets/hardcore-heart@0.5x.icon-22f52.png",width:9,height:9,scale:.5},_S={displayName:"IconHardcoreHeartSmall",src:n.p+"assets/hardcore-heart_small@0.5x.icon-22f52.png",width:9,height:9,scale:.5},LS={displayName:"IconHeartActive",src:n.p+"assets/heart-active@0.5x.icon-8f7e9.png",width:9,height:9,scale:.5},DS={displayName:"IconHeart",src:n.p+"assets/heart@0.5x.icon-42e2e.png",width:9,height:9,scale:.5},WS={displayName:"IconHourglass",src:n.p+"assets/hourglass@0.5x.icon-684a3.png",width:8,height:12,scale:.5},BS={displayName:"IconImage",src:n.p+"assets/image@0.5x.icon-9a2b8.png",width:10,height:10,scale:.5},US={displayName:"IconInformation",src:n.p+"assets/information@0.5x.icon-93cdb.png",width:10,height:10,scale:.5},zS={displayName:"IconInvite",src:n.p+"assets/invite@0.5x.icon-70339.png",width:12,height:12,scale:.5},jS={displayName:"IconLanHidden",src:n.p+"assets/lan-hidden@0.5x.icon-7ddac.png",width:12,height:12,scale:.5},HS={displayName:"IconLan",src:n.p+"assets/lan@0.5x.icon-8c937.png",width:12,height:12,scale:.5},VS={displayName:"IconList",src:n.p+"assets/list@0.5x.icon-42da7.png",width:8,height:7,scale:.5},GS={displayName:"IconLockLocked",src:n.p+"assets/lock-locked@0.5x.icon-ab340.png",width:8,height:8,scale:.5},$S={displayName:"IconLockLockedSmall",src:n.p+"assets/lock-locked_small@0.5x.icon-ab340.png",width:8,height:8,scale:.5},KS={displayName:"IconLockUnlocked",src:n.p+"assets/lock-unlocked@0.5x.icon-d7d57.png",width:12,height:8,scale:.5},XS={displayName:"IconMashupPack",src:n.p+"assets/mashup-pack@0.5x.icon-49be2.png",width:12,height:12,scale:.5},YS={displayName:"IconMashupPackSmall",src:n.p+"assets/mashup-pack_small@0.5x.icon-8a0d4.png",width:8,height:8,scale:.5},qS={displayName:"IconMember",src:n.p+"assets/member@0.5x.icon-99c62.png",width:12,height:12,scale:.5},QS={displayName:"IconMenu",src:n.p+"assets/menu@0.5x.icon-e2970.png",width:8,height:7,scale:.5},JS={displayName:"IconMinus",src:n.p+"assets/minus@0.5x.icon-8db5e.png",width:8,height:1,scale:.5},ZS={displayName:"IconMissingImage1",src:n.p+"assets/missing-image-1@0.5x.icon-ac82f.png",width:12,height:12,scale:.5},eC={displayName:"IconMissingImage",src:n.p+"assets/missing-image@0.5x.icon-b099d.png",width:12,height:12,scale:.5},tC={displayName:"IconMute",src:n.p+"assets/mute@0.5x.icon-59187.png",width:11,height:10,scale:.5},nC={displayName:"IconNewsFeed",src:n.p+"assets/news-feed@0.5x.icon-c8582.png",width:12,height:12,scale:.5},aC={displayName:"IconOperator",src:n.p+"assets/operator@0.5x.icon-23882.png",width:12,height:12,scale:.5},rC={displayName:"IconOptions",src:n.p+"assets/options@0.5x.icon-a0a39.png",width:2,height:8,scale:.5},lC={displayName:"IconParty",src:n.p+"assets/party@0.5x.icon-13ea5.png",width:12,height:11,scale:.5},oC={displayName:"IconPause",src:n.p+"assets/pause@0.5x.icon-1d45c.png",width:6,height:8,scale:.5},iC={displayName:"IconPermissionCustom",src:n.p+"assets/permission-custom@0.5x.icon-bdf0f.png",width:12,height:12,scale:.5},cC={displayName:"IconPermissionMember",src:n.p+"assets/permission-member@0.5x.icon-92816.png",width:12,height:12,scale:.5},sC={displayName:"IconPermissionOperator",src:n.p+"assets/permission-operator@0.5x.icon-98eb7.png",width:12,height:12,scale:.5},uC={displayName:"IconPermissionVisitor",src:n.p+"assets/permission-visitor@0.5x.icon-73d73.png",width:12,height:11,scale:.5},dC={displayName:"IconPickaxe",src:n.p+"assets/pickaxe@0.5x.icon-4a49f.png",width:12,height:12,scale:.5},mC={displayName:"IconPlay",src:n.p+"assets/play@0.5x.icon-d17d9.png",width:7,height:12,scale:.5},pC={displayName:"IconPlayer",src:n.p+"assets/player@0.5x.icon-7c34a.png",width:12,height:12,scale:.5},fC={displayName:"IconPlayerOnline",src:n.p+"assets/player_online@0.5x.icon-08d41.png",width:12,height:12,scale:.5},gC={displayName:"IconPlus",src:n.p+"assets/plus@1x.icon-25470.png",width:24,height:24,scale:1},EC={displayName:"IconPotionBottle",src:n.p+"assets/potion-bottle@0.5x.icon-09313.png",width:10,height:12,scale:.5},hC={displayName:"IconPrint",src:n.p+"assets/print@0.5x.icon-ec26e.png",width:12,height:10,scale:.5},vC={displayName:"IconQrCode",src:n.p+"assets/qr-code@0.5x.icon-ff09e.png",width:11,height:11,scale:.5},bC={displayName:"IconQuestionMark",src:n.p+"assets/question-mark@0.5x.icon-eeecb.png",width:7,height:10,scale:.5},yC={displayName:"IconQuestionMarkSmall",src:n.p+"assets/question-mark_small@0.5x.icon-46695.png",width:5,height:7,scale:.5},FC={displayName:"IconRate",src:n.p+"assets/rate@0.5x.icon-5d1fa.png",width:10,height:9,scale:.5},SC={displayName:"IconRealmsStoriesUnread",src:n.p+"assets/realms-stories-unread@0.5x.icon-8ee6b.png",width:12,height:12,scale:.5},CC={displayName:"IconRealmsStories",src:n.p+"assets/realms-stories@0.5x.icon-035cb.png",width:12,height:12,scale:.5},MC={displayName:"IconRemoveBehaviourPack",src:n.p+"assets/remove-behaviour-pack@0.5x.icon-f9d3c.png",width:11,height:11,scale:.5},wC={displayName:"IconRemovePlayer",src:n.p+"assets/remove-player@0.5x.icon-bfc0f.png",width:12,height:12,scale:.5},kC={displayName:"IconRemoveResourcePack",src:n.p+"assets/remove-resource-pack@0.5x.icon-55782.png",width:11,height:11,scale:.5},TC={displayName:"IconReset",src:n.p+"assets/reset@0.5x.icon-5fa66.png",width:12,height:12,scale:.5},IC={displayName:"IconRottenFlesh",src:n.p+"assets/rotten-flesh@0.5x.icon-1a4aa.png",width:11,height:10,scale:.5},PC={displayName:"IconSave",src:n.p+"assets/save@0.5x.icon-96183.png",width:10,height:10,scale:.5},xC={displayName:"IconSearch",src:n.p+"assets/search@0.5x.icon-2c4a2.png",width:12,height:12,scale:.5},OC={displayName:"IconSettings",src:n.p+"assets/settings@0.5x.icon-a8b15.png",width:10,height:9,scale:.5},AC={displayName:"IconShareAndroid",src:n.p+"assets/share-android@0.5x.icon-33252.png",width:6,height:10,scale:.5},NC={displayName:"IconShareGeneric",src:n.p+"assets/share-generic@0.5x.icon-a522d.png",width:12,height:12,scale:.5},RC={displayName:"IconShareIos",src:n.p+"assets/share-ios@0.5x.icon-077f8.png",width:10,height:12,scale:.5},_C={displayName:"IconSleep",src:n.p+"assets/sleep@0.5x.icon-ec9f2.png",width:12,height:12,scale:.5},LC={displayName:"IconSwitchOff",src:n.p+"assets/switch-off@0.5x.icon-75a1c.png",width:6,height:6,scale:.5},DC={displayName:"IconSwitchOn",src:n.p+"assets/switch-on@0.5x.icon-55509.png",width:1,height:6,scale:.5},WC={displayName:"IconSword",src:n.p+"assets/sword@0.5x.icon-5515e.png",width:12,height:12,scale:.5},BC={displayName:"IconThumbsDown",src:n.p+"assets/thumbs-down@0.5x.icon-961ba.png",width:11,height:11,scale:.5},UC={displayName:"IconThumbsUp",src:n.p+"assets/thumbs-up@0.5x.icon-a6921.png",width:11,height:11,scale:.5},zC={displayName:"IconTime",src:n.p+"assets/time@0.5x.icon-3c593.png",width:12,height:12,scale:.5},jC={displayName:"IconTimer",src:n.p+"assets/timer@0.5x.icon-7123b.png",width:10,height:12,scale:.5},HC={displayName:"IconTimeSmall",src:n.p+"assets/time_small@0.5x.icon-ae6c3.png",width:8,height:8,scale:.5},VC={displayName:"IconVisitor",src:n.p+"assets/visitor@0.5x.icon-82f30.png",width:12,height:11,scale:.5},GC={displayName:"IconVolume",src:n.p+"assets/volume@0.5x.icon-aad7d.png",width:12,height:10,scale:.5},$C={displayName:"IconWarning",src:n.p+"assets/warning@0.5x.icon-78dc7.png",width:9,height:10,scale:.5},KC={displayName:"IconWarningSmall",src:n.p+"assets/warning_small@0.5x.icon-78dc7.png",width:9,height:10,scale:.5},XC={displayName:"IconWorld",src:n.p+"assets/world@0.5x.icon-9c803.png",width:12,height:12,scale:.5},YC={displayName:"IconWorldSmall",src:n.p+"assets/world_small@0.5x.icon-b7a84.png",width:8,height:8,scale:.5},qC={displayName:"IconXpOrb",src:n.p+"assets/xp-orb@0.5x.icon-e9036.png",width:10,height:10,scale:.5};function QC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function JC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QC(Object(n),!0).forEach((function(t){ZC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZC(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const eM=12,tM=10,nM={Accessibility:CF(JC(JC({},MF),{},{canvasWidth:eM,canvasHeight:eM})),Achievements:CF(JC(JC({},kF),{},{canvasWidth:eM,canvasHeight:eM})),AchievementsBottle:CF(wF),AddBehaviourPack:CF(JC(JC({},TF),{},{canvasWidth:eM,canvasHeight:eM})),AddImage:CF(JC(JC({},IF),{},{canvasWidth:eM,canvasHeight:eM})),AddOns:CF(JC(JC({},PF),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},xF),{},{canvasWidth:tM,canvasHeight:tM})),AddPlayer:CF(JC(JC({},OF),{},{canvasWidth:eM,canvasHeight:eM})),AddResourcePack:CF(JC(JC({},AF),{},{canvasWidth:eM,canvasHeight:eM})),Album:CF(JC(JC({},NF),{},{canvasWidth:eM,canvasHeight:eM})),Apple:CF(JC(JC({},RF),{},{canvasWidth:eM,canvasHeight:eM})),ArrowDown:CF(JC(JC({},_F),{},{canvasWidth:eM,canvasHeight:eM})),ArrowLeft:CF(JC(JC({},LF),{},{canvasWidth:eM,canvasHeight:eM})),ArrowRight:CF(JC(JC({},DF),{},{canvasWidth:eM,canvasHeight:eM})),ArrowUp:CF(JC(JC({},WF),{},{canvasWidth:eM,canvasHeight:eM})),Backup:CF(JC(JC({},BF),{},{canvasWidth:eM,canvasHeight:eM})),Bell:CF(JC(JC({},UF),{},{canvasWidth:eM,canvasHeight:eM})),Block:CF(JC(JC({},zF),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},jF),{},{canvasWidth:tM,canvasHeight:tM})),Boots:CF(JC(JC({},HF),{},{canvasWidth:eM,canvasHeight:eM})),Brush:CF(JC(JC({},VF),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},GF),{},{canvasWidth:tM,canvasHeight:tM})),Checkmark:CF(JC(JC({},$F),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},KF),{},{canvasWidth:tM,canvasHeight:tM})),ChevronDown:CF(JC(JC({},XF),{},{canvasWidth:eM,canvasHeight:eM})),ChevronLeft:CF(JC(JC({},YF),{},{canvasWidth:eM,canvasHeight:eM})),ChevronRight:CF(JC(JC({},qF),{},{canvasWidth:eM,canvasHeight:eM})),ChevronUp:CF(JC(JC({},QF),{},{canvasWidth:eM,canvasHeight:eM})),Cross:CF(JC(JC({},aS),{},{canvasWidth:eM,canvasHeight:eM})),ClosedCaptions:CF(JC(JC({},JF),{},{canvasWidth:eM,canvasHeight:eM})),Clothes:CF(JC(JC({},ZF),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},eS),{},{canvasWidth:tM,canvasHeight:tM})),Cloud:CF(JC(JC({},tS),{},{canvasWidth:eM,canvasHeight:eM})),Comment:CF(JC(JC({},nS),{},{canvasWidth:eM,canvasHeight:eM})),Crossbow:CF(JC(JC({},rS),{},{canvasWidth:eM,canvasHeight:eM})),Damage:CF(JC(JC({},lS),{},{canvasWidth:eM,canvasHeight:eM})),Default:CF(JC(JC({},oS),{},{canvasWidth:eM,canvasHeight:eM})),Delete:CF(JC(JC({},iS),{},{canvasWidth:eM,canvasHeight:eM})),DocsPage:CF(JC(JC({},cS),{},{canvasWidth:eM,canvasHeight:eM})),DocsSection:CF(JC(JC({},sS),{},{canvasWidth:eM,canvasHeight:eM})),Download:CF(JC(JC({},uS),{},{canvasWidth:eM,canvasHeight:eM})),DragAndDrop:CF(JC(JC({},dS),{},{canvasWidth:eM,canvasHeight:eM})),Duplicate:CF(JC(JC({},mS),{},{canvasWidth:eM,canvasHeight:eM})),Edit:CF(JC(JC({},fS),{},{canvasWidth:eM,canvasHeight:eM})),EditImage:CF(JC(JC({},pS),{},{canvasWidth:eM,canvasHeight:eM})),Elytra:CF(JC(JC({},gS),{},{canvasWidth:eM,canvasHeight:eM})),Emerald:CF(JC(JC({},ES),{},{canvasWidth:eM,canvasHeight:eM})),Emote:CF(JC(JC({},hS),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},vS),{},{canvasWidth:tM,canvasHeight:tM})),Enter:CF(JC(JC({},bS),{},{canvasWidth:eM,canvasHeight:eM})),Exit:CF(JC(JC({},FS),{},{canvasWidth:eM,canvasHeight:eM})),ExitFullscreen:CF(JC(JC({},yS),{},{canvasWidth:eM,canvasHeight:eM})),Export:CF(JC(JC({},SS),{},{canvasWidth:eM,canvasHeight:eM})),ExternalLink:CF(JC(JC({},CS),{},{canvasWidth:eM,canvasHeight:eM})),Filter:CF(JC(JC({},MS),{},{canvasWidth:eM,canvasHeight:eM})),Followers:CF(JC(JC({},wS),{},{canvasWidth:eM,canvasHeight:eM})),Friends:CF(JC(JC({},kS),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},TS),{},{canvasWidth:tM,canvasHeight:tM})),Fullscreen:CF(JC(JC({},IS),{},{canvasWidth:eM,canvasHeight:eM})),Gamerscore:CF(JC(JC({},PS),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},xS),{},{canvasWidth:tM,canvasHeight:tM})),Grid:CF(JC(JC({},OS),{},{canvasWidth:eM,canvasHeight:eM})),Hanger:CF(JC(JC({},AS),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},NS),{},{canvasWidth:tM,canvasHeight:tM})),HardcoreHeart:CF(JC(JC({},RS),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},_S),{},{canvasWidth:tM,canvasHeight:tM})),Heart:CF(JC(JC({},DS),{},{canvasWidth:eM,canvasHeight:eM})),HeartActive:CF(JC(JC({},LS),{},{canvasWidth:eM,canvasHeight:eM})),Hourglass:CF(JC(JC({},WS),{},{canvasWidth:eM,canvasHeight:eM})),Image:CF(JC(JC({},BS),{},{canvasWidth:eM,canvasHeight:eM})),Information:CF(JC(JC({},US),{},{canvasWidth:eM,canvasHeight:eM})),Invite:CF(JC(JC({},zS),{},{canvasWidth:eM,canvasHeight:eM})),Lan:CF(JC(JC({},HS),{},{canvasWidth:eM,canvasHeight:eM})),LanHidden:CF(JC(JC({},jS),{},{canvasWidth:eM,canvasHeight:eM})),List:CF(JC(JC({},VS),{},{canvasWidth:eM,canvasHeight:eM})),Locked:CF(JC(JC({},GS),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},$S),{},{canvasWidth:tM,canvasHeight:tM})),Unlocked:CF(JC(JC({},KS),{},{canvasWidth:eM,canvasHeight:eM})),MashupPack:CF(JC(JC({},XS),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},YS),{},{canvasWidth:tM,canvasHeight:tM})),Member:CF(JC(JC({},qS),{},{canvasWidth:eM,canvasHeight:eM})),Menu:CF(JC(JC({},QS),{},{canvasWidth:eM,canvasHeight:eM})),Minus:CF(JC(JC({},JS),{},{canvasWidth:eM,canvasHeight:eM})),MissingImage:CF(JC(JC({},eC),{},{canvasWidth:eM,canvasHeight:eM})),MissingImage1:CF(JC(JC({},ZS),{},{canvasWidth:eM,canvasHeight:eM})),Mute:CF(JC(JC({},tC),{},{canvasWidth:eM,canvasHeight:eM})),NewsFeed:CF(JC(JC({},nC),{},{canvasWidth:eM,canvasHeight:eM})),Operator:CF(JC(JC({},aC),{},{canvasWidth:eM,canvasHeight:eM})),Options:CF(JC(JC({},rC),{},{canvasWidth:eM,canvasHeight:eM})),Party:CF(JC(JC({},lC),{},{canvasWidth:eM,canvasHeight:eM})),Pause:CF(JC(JC({},oC),{},{canvasWidth:eM,canvasHeight:eM})),PermissionCustom:CF(JC(JC({},iC),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},iC),{},{canvasWidth:tM,canvasHeight:tM})),PermissionMemberIcon:CF(JC(JC({},cC),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},cC),{},{canvasWidth:tM,canvasHeight:tM})),PermissionOperator:CF(JC(JC({},sC),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},sC),{},{canvasWidth:tM,canvasHeight:tM})),PermissionVisitor:CF(JC(JC({},uC),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},uC),{},{canvasWidth:tM,canvasHeight:tM})),Pickaxe:CF(JC(JC({},dC),{},{canvasWidth:eM,canvasHeight:eM})),Play:CF(JC(JC({},mC),{},{canvasWidth:eM,canvasHeight:eM})),Player:CF(JC(JC({},pC),{},{canvasWidth:eM,canvasHeight:eM})),PlayerOnline:CF(JC(JC({},fC),{},{canvasWidth:eM,canvasHeight:eM})),Plus:CF(JC(JC({},gC),{},{canvasWidth:eM,canvasHeight:eM})),PotionBottle:CF(JC(JC({},EC),{},{canvasWidth:eM,canvasHeight:eM})),Print:CF(JC(JC({},hC),{},{canvasWidth:eM,canvasHeight:eM})),QrCode:CF(JC(JC({},vC),{},{canvasWidth:eM,canvasHeight:eM})),QuestionMark:CF(JC(JC({},bC),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},yC),{},{canvasWidth:tM,canvasHeight:tM})),Rate:CF(JC(JC({},FC),{},{canvasWidth:eM,canvasHeight:eM})),RealmsStories:CF(JC(JC({},CC),{},{canvasWidth:eM,canvasHeight:eM})),RealmsStoriesUnread:CF(JC(JC({},SC),{},{canvasWidth:eM,canvasHeight:eM})),RemoveBehaviourPack:CF(JC(JC({},MC),{},{canvasWidth:eM,canvasHeight:eM})),RemovePlayer:CF(JC(JC({},wC),{},{canvasWidth:eM,canvasHeight:eM})),RemoveResourcePack:CF(JC(JC({},kC),{},{canvasWidth:eM,canvasHeight:eM})),Reset:CF(JC(JC({},TC),{},{canvasWidth:eM,canvasHeight:eM})),RottenFlesh:CF(JC(JC({},IC),{},{canvasWidth:eM,canvasHeight:eM})),Save:CF(JC(JC({},PC),{},{canvasWidth:eM,canvasHeight:eM})),Search:CF(JC(JC({},xC),{},{canvasWidth:eM,canvasHeight:eM})),Settings:CF(JC(JC({},OC),{},{canvasWidth:eM,canvasHeight:eM})),ShareAndroid:CF(JC(JC({},AC),{},{canvasWidth:eM,canvasHeight:eM})),ShareGeneric:CF(JC(JC({},NC),{},{canvasWidth:eM,canvasHeight:eM})),ShareIos:CF(JC(JC({},RC),{},{canvasWidth:eM,canvasHeight:eM})),Sleep:CF(JC(JC({},_C),{},{canvasWidth:eM,canvasHeight:eM})),SwitchOff:CF(JC(JC({},LC),{},{canvasWidth:eM,canvasHeight:eM})),SwitchOn:CF(JC(JC({},DC),{},{canvasWidth:eM,canvasHeight:eM})),Sword:CF(JC(JC({},WC),{},{canvasWidth:eM,canvasHeight:eM})),ThumbsDown:CF(JC(JC({},BC),{},{canvasWidth:eM,canvasHeight:eM})),ThumbsUp:CF(JC(JC({},UC),{},{canvasWidth:eM,canvasHeight:eM})),Time:CF(JC(JC({},zC),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},HC),{},{canvasWidth:tM,canvasHeight:tM})),Timer:CF(JC(JC({},jC),{},{canvasWidth:eM,canvasHeight:eM})),Visitor:CF(JC(JC({},VC),{},{canvasWidth:eM,canvasHeight:eM})),Volume:CF(JC(JC({},GC),{},{canvasWidth:eM,canvasHeight:eM})),Warning:CF(JC(JC({},$C),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},KC),{},{canvasWidth:tM,canvasHeight:tM})),World:CF(JC(JC({},XC),{},{canvasWidth:eM,canvasHeight:eM}),JC(JC({type:"small"},YC),{},{canvasWidth:tM,canvasHeight:tM})),XpOrb:CF(JC(JC({},qC),{},{canvasWidth:eM,canvasHeight:eM}))};function aM(e){const t=100*e;return 0===e?lF:t<50&&t>0?oF:t>=50&&t<=75?iF:t>75&&t<100?cF:100===t?sF:lF}function rM({inProgress:e,achievementsUnlocked:t,achievementsTotal:n,rewardsUnlocked:l,rewardsTotal:o,gamerScore:i,gamerScoreTotal:c,hoursPlayed:s,gamepadIndex:u}){const{t:d}=ec("AchievementsSummary"),m=null!=o&&o>0,p=null!=l&&l>0,f=`${i}/${c}`,g=0===n?0:t/n,E=function(e){const t=100*e;return t>98?Math.floor(t):Math.ceil(t)}(g),h=ia(),v=[d(".narratorTextBlock"),d(".narratorSummary"),d(".narratorIndex",["1","4"]),d(".narratorPercentage",[`${E}`]),d(".narratorCompletedAchievements",[`${t}`,`${n}`]),d(".narratorInProgress",[`${e}`]),p&&m?d(".narratorCompletedRewards",[`${l}`,`${o}`]):"",d(".narratorGamerscore",[`${i}`,`${c}`]),d(".narratorTimePlayed",[`${s}`])],b=(0,r.useFacetMap)((e=>!e.screenAnimationEnabled),[],[(0,r.useSharedFacet)(Hn)]),y=(0,r.useFacetMap)((e=>!e&&100===E),[E],[b]);return a.createElement(em,{inputLegend:!1,className:"",autofocus:!0,classNameHovered:"",classNameFocused:Zm,classNamePressed:"",disabled:!h,gamepadIndex:u,narrationText:v.join(" . "),onClick:()=>{}},a.createElement(Jm,{withoutBorders:!0,disabled:!h}),a.createElement(dF,null,a.createElement("div",{className:"POu4S"},a.createElement(cp,{effect:"specular"}),a.createElement("div",{className:"zMNWB"},a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>!e&&100===E),[E],[b])},a.createElement(pF,{src:uF,width:196.8,height:4.8,frames:40,className:"Z7E7J",repeat:"infinite",imageRendering:"pixelated",duration:2600,disabled:b})),a.createElement(r.Mount,{when:y,condition:!1},a.createElement(Mp,{imageRendering:"pixelated",src:aM(g),className:"ibnbl"})),a.createElement(fm,{type:"header2",shadow:!0},E),a.createElement(fm,{type:"header3",shadow:!0},a.createElement("div",{className:"oobZ8"},"%"))),a.createElement("div",{className:"JVJBe"},a.createElement(fm,{type:"captionShort"},d(".percentage",[`${t}`,`${n}`])))),a.createElement(dF.Divider,null),a.createElement(dF.Data,{icon:a.createElement(nM.Hourglass,{role:"neutral",variant:"dimmest"}),label:d(".progress"),value:e}),a.createElement(dF.Divider,null),m&&a.createElement(a.Fragment,null,a.createElement(dF.Data,{icon:a.createElement(nM.Hanger,{role:"neutral",variant:"dimmest"}),label:d(".rewards"),value:`${null!=l?l:0}/${o}`}),a.createElement(dF.Divider,null)),a.createElement(dF.Data,{icon:a.createElement(nM.Gamerscore,{role:"neutral",variant:"dimmest"}),label:d(".gamerscore"),value:f}),a.createElement(dF.Divider,null),a.createElement(dF.Data,{icon:a.createElement(nM.Time,{role:"neutral",variant:"dimmest"}),label:d(".time"),value:d(".hoursPlayed",[`${s}`])})))}rM.displayName="AchievementsSummary",rM.Loading=function({loading:e}){return a.createElement(dF,null,a.createElement("div",{className:"XrAdK"},a.createElement(dF.SummarySpinner,{hidden:!e})))};const lM=(0,a.createContext)(!1),oM=()=>(0,a.useContext)(lM);function iM({onClick:e,shortcut:t,inputLegend:n}){const l=(0,r.useFacetWrap)(n);return a.createElement(Df,{options:(0,r.useFacetMap)((e=>({button:t,inputLegend:e})),[t],[l]),onClick:e})}function cM({children:e}){return a.createElement("div",{className:"Mmtqs"},e)}const sM="KFyBZ",uM="zfW8v",dM="CGp5V",mM="Gqi8v",pM="WdNXT";function fM({children:e,direction:t="column",align:n="end",hide:l}){return a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>Dr()(pM,{[sM]:"row"===t,[mM]:"column"===t,[uM]:"start"===n,[dM]:"center"===n,SSMjh:e})),[n,t],[(0,r.useFacetWrap)(l)])},e)}function gM({children:e,direction:t="column",align:n="end",hide:r}){return null!=r?a.createElement(fM,{children:e,direction:t,align:n,hide:r}):a.createElement("div",{className:Dr()(pM,{[sM]:"row"===t,[mM]:"column"===t,[uM]:"start"===n,[dM]:"center"===n})},e)}const EM=n.p+"assets/pingGreen-7f77c.png";function hM(){return hM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},hM.apply(this,arguments)}const vM=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("vIYKZ",t);return a.createElement(Mp,hM({},n,{className:r,src:EM,imageRendering:"pixelated"}))},bM=n.p+"assets/pingRed-9496c.png";function yM(){return yM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},yM.apply(this,arguments)}const FM=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("pllJg",t);return a.createElement(Mp,yM({},n,{className:r,src:bM,imageRendering:"pixelated"}))},SM=n.p+"assets/pingYellow-62e78.png";function CM(){return CM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},CM.apply(this,arguments)}const MM=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("nQe8p",t);return a.createElement(Mp,CM({},n,{className:r,src:SM,imageRendering:"pixelated"}))};function wM({iconType:e,typographyType:t,role:n="inherit",text:r}){const l=(e=>{switch(e){case"green":return a.createElement(vM,null);case"red":return a.createElement(FM,null);case"yellow":return a.createElement(MM,null)}})(e);return a.createElement("div",{className:"mUN2d"},a.createElement(fm,{type:t,role:n,variant:"dimmer"},r),l)}const kM={listItem:"YtiPa",tall:"sPd5G",small:"FA0TJ"};function TM({tall:e=!1,small:t=!1,children:n,isFocusable:l=!1,narrationText:o,gamepadAlias:i,focusGridIndex:c,innerRef:s,role:u="neutral80",disableDeferredMount:d=!1,testId:m}){const p=Fr(u),f=(0,r.useFacetWrap)(null!=o&&o);return a.createElement(lM.Provider,{value:e},a.createElement(Xa,{role:u},a.createElement(em.Maybe,{"data-testid":m,isInteractive:l,gamepadAlias:i,className:Dr()(kM.listItem,p.border.base,p.text.base,p.background.base,{[kM.tall]:e,[kM.small]:t,[kM.inert]:l}),innerRef:s,classNameFocused:Zm,focusGridIndex:c,inputLegend:!1,narrationText:f},d?a.createElement(a.Fragment,null,a.createElement(a.Fragment,null,l&&a.createElement(Jm,null),n)):a.createElement(r.DeferredMount,null,a.createElement(a.Fragment,null,l&&a.createElement(Jm,null),n)))))}TM.Action=function({autofocus:e,children:t,onClick:n,inputLegend:l,narrationText:o,gamepadAlias:i,soundEffectPressed:c,onFocusChanged:s,onHoverChanged:u,gamepadIndex:d=0,role:m="neutral",disabled:p,className:f,testId:g}){const E=(0,r.useFacetMap)((e=>!0===e),[],[(0,r.useFacetWrap)(p)]),h=(0,r.useFacetWrap)(c),v=(0,r.useFacetWrap)(l),b=Cr(m),y=Fr(m),F=(0,r.useFacetMap)(((e,t)=>!t&&e),[],[v,E]),S=(0,r.useFacetMap)((e=>{var t;return Dr()("XJnhR",{[null!==(t=y.background.interactive)&&void 0!==t?t:""]:!e},y.text.base,{_UAdw:e},f)}),[y,f],[E]),C=(0,r.useFacetMap)(((e,t)=>t?void 0:null!=e?e:b.press),[b],[h,E]),M=(0,r.useFacetCallback)((e=>()=>{e||n()}),[n],[E]);return a.createElement(Xa,{role:m},a.createElement(em,{"data-testid":g,autofocus:e,gamepadAlias:i,className:S,classNameFocused:Zm,gamepadIndex:d,inputLegend:F,narrationText:o,onClick:M,onFocusChanged:s,onHoverChanged:u,soundEffectPressed:C},a.createElement(Jm,null),a.createElement(cp,{effect:"bevel",hide:E}),t))},TM.AdditionalAction=function({children:e,onClick:t,onGamepadClick:n,onUp:l,onDown:o,onLeft:i,onRight:c,onMouseDown:s,shortcut:u,inputLegend:d,narrationText:m,gamepadAlias:p,hidden:f=!1,fitContent:g=!1,extraWide:E=!1,gamepadIndex:h=0,innerRef:v,touchDetectionDelay:b,soundEffectPressed:y,role:F="neutral",isSelected:S=!1,testId:C}){const M=(0,r.useFacetWrap)(f),w=oM(),k=Fr(F),T=Cr(F),I=kr();return a.createElement(r.Mount,{when:M,condition:!1},a.createElement(Xa,{role:F},null!=u&&a.createElement(iM,{onClick:t,shortcut:u,inputLegend:d}),a.createElement(em,{className:Dr()("TxpPs",k.background.interactive,{zNQoR:g,hxjUN:w,CE24O:E,[I.selected]:S}),touchDetectionDelay:b,soundEffectPressed:null!=y?y:T.press,classNameFocused:Zm,gamepadIndex:h,gamepadAlias:p,inputLegend:d,onClick:t,onGamepadOrKeyboardSelect:n,onUp:l,onDown:o,onLeft:i,onRight:c,onMouseDown:s,narrationText:m,innerRef:v,"data-testid":C},a.createElement(Jm,null),a.createElement(cp,{effect:"bevel"}),e)))},TM.Main=cM,TM.Cell=gM,TM.Icon=wM;const IM="MV1Om",PM=n.p+"assets/locked-b7e1e.png",xM=n.p+"assets/gamerscore_icon-53b10.png",OM=n.p+"assets/greyframe-dd39b.png",AM=n.p+"assets/unlockedFrame-f9ecc.png",NM=n.p+"assets/placeholder-30ebc.png",RM=n.p+"assets/placeholderReward-5e651.png";function _M({item:e,gamepadAlias:t,onClick:n,index:r,listLength:l,disabled:o}){return a.createElement(TM,{gamepadIndex:r},a.createElement(LM,{item:e,gamepadAlias:t,onClick:n,index:r,listLength:l,disabled:o}))}const LM=({autofocus:e,item:t,gamepadAlias:n,onClick:l,index:o,listLength:i,disabled:c})=>{const{t:s}=ec("AchievementListItem"),u=Tv(Ho);return a.createElement(TM.Action,{narrationText:(0,r.useFacetMap)(((e,t,n)=>[e.name,s(".siblingNarration",[`${t+1}`,`${n}`]),0!==e.progress&&e.progress>0&&e.progress<1?s(".percentageNarration",[`${Math.round(100*e.progress)}`]):"",s(".gamerscoreNarration",[`${e.gamerScore}`]),u&&e.hasReward?e.isLocked?s(".rewardLockedNarration"):s(".rewardUnlockedNarration"):"",e.description].join(" . ")),[s,u],[t,(0,r.useFacetWrap)(o),i]),inputLegend:s(".view"),onClick:l,gamepadAlias:n,autofocus:e,disabled:c},a.createElement(TM.Cell,{direction:"row"},a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>Dr()(IM,{qFTvx:e.isLocked})),[],[t])},a.createElement(Mp,{className:"lSNBc",imageRendering:"pixelated",src:(0,r.useFacetMap)((e=>e.isLocked?OM:AM),[],[t])}),a.createElement(Mp,{className:IM,imageRendering:"pixelated",src:(0,r.useFacetMap)((e=>{var t;return null!==(t=e.image)&&void 0!==t?t:NM}),[],[t])}))),a.createElement(TM.Main,null,a.createElement(fm,{type:"body"},a.createElement(am,null,(0,r.useFacetMap)((e=>e.name),[],[t]))),a.createElement(fm,{type:"captionShort",variant:"dimmer"},a.createElement(am,null,(0,r.useFacetMap)((e=>e.description),[],[t]))),a.createElement(DM,{when:(0,r.useFacetMap)((e=>!!e.progress&&1!==e.progress),[],[t])},a.createElement(om,{size:1}),a.createElement(Mg,{percentage:(0,r.useFacetMap)((e=>e.progress),[],[t])}))),a.createElement(TM.Cell,{direction:"row",hide:(0,r.useFacetMap)((e=>!e.gamerScore),[],[t])},a.createElement("div",{className:"RVpjY"},a.createElement(Mp,{className:"jlC0g",src:xM,imageRendering:"pixelated"}),a.createElement(fm,{type:"captionShort",variant:"dimmer"},(0,r.useFacetMap)((e=>e.gamerScore),[],[t]))),a.createElement(om,{size:2})),a.createElement(TM.Cell,{direction:"row",hide:(0,r.useFacetMap)((e=>!(u&&!0===e.hasReward)),[u],[t])},a.createElement("div",{className:"mvmus"},a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>e.isLocked?"sBnB_":"gpB2x"),[],[t])},a.createElement(DM,{when:(0,r.useFacetMap)((e=>e.isLocked),[],[t]),className:"DKLU9"},a.createElement(Mp,{className:"dE8mc",imageRendering:"pixelated",src:PM}),a.createElement("div",{className:"fllL7"})),a.createElement(Mp,{className:"Zv3qD",src:(0,r.useFacetMap)((e=>{var t;return null!==(t=e.rewardImage)&&void 0!==t?t:RM}),[],[t])})))))};function DM({when:e,children:t,className:n}){return a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>Dr()(n,e?null:"QbY63")),[n],[e])},t)}const WM=()=>{const e=(0,a.useRef)(null),t=(0,a.useRef)(null),n=(0,a.useRef)(null),{t:l}=ec("Achievements"),o=m(),i=Bb((0,r.useSharedFacet)(qo),1e4),c=Bb((0,r.useSharedFacet)(qo),1500),s=(0,r.useFacetMap)(((e,t,n,a)=>e?"not-available":t&&!a?"loading-failed":n&&!a?"loading-slow":"achievements"),[],[(0,r.useSharedFacet)(pi),i,c,(0,r.useSharedFacet)(qo)]),u=Wb({wide:8,narrow:6,width:260}),d=(0,r.useFacetMap)((e=>e?"W_2Qp":"MjOqT"),[],[u]),p=(0,r.useFacetMap)((e=>e?"CcA3z":"Ic3F7"),[],[u]);return a.createElement(Iv,{innerRef:e},a.createElement(wf,{text:l(".narration.title")},a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>"loading-slow"===e),[],[s])},a.createElement(kv,{text:l(".narration.loadingMessage")})),a.createElement($v,{onBackButton:o.goBack,center:a.createElement(fm,{type:"header5A"},l(".title")),delegateFocusFromMemory:!0,gamepadAlias:"achievements-layout-content",delegateByAlias:"achievments-wrapper"},a.createElement(Yv,null,a.createElement(Fp,{containerRef:t,alias:"achievments-wrapper",delegateFocusFromMemory:!0,delegateFocusByAlias:"achievements-content-wrapper"},a.createElement(Yv.Row,{innerRef:t,gamepadIndex:0,fullHeight:!0},a.createElement(wl,{data:s},(e=>{switch(e){case"not-available":return a.createElement(a.Fragment,null,a.createElement(Yv.Column,{wideSize:2,narrowSize:1}),a.createElement(Yv.Column,{gamepadIndex:0,wideSize:8,narrowSize:6},a.createElement(om,{size:6}),a.createElement(cb,{imgClass:d,autofocus:!0,gamepadAlias:"ach-not-available-empty-state",imgSrc:Fy,gamepadIndex:0,title:l(".notAvailableMessageTitle"),text:l(".notAvailableMessage")}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0})));case"loading-failed":return a.createElement(a.Fragment,null,a.createElement(Yv.Column,{wideSize:2,narrowSize:1}),a.createElement(Yv.Column,{gamepadIndex:0,wideSize:8,narrowSize:6},a.createElement(om,{size:6}),a.createElement(cb,{imgClass:p,autofocus:!0,gamepadAlias:"ach-load-error-empty-state",imgSrc:yy,gamepadIndex:0,title:l(".errorMessageTitle"),text:l(".errorMessage")}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0})));default:return a.createElement(a.Fragment,null,a.createElement(Yv.Column,{wideSize:3,narrowSize:3},a.createElement(om,{size:2}),a.createElement(KM,null)),a.createElement(Yv.Column,{wideSize:9,narrowSize:5},a.createElement(om,{size:2}),a.createElement(BM,null),a.createElement(Fp,{alias:"achievements-content-wrapper",containerRef:n},a.createElement("div",{style:{flex:"1"},ref:n},a.createElement(oy,{tab:void 0,component:jM}),a.createElement(oy,{tab:"locked",component:HM}),a.createElement(oy,{tab:"completed",component:VM})))))}}))))))))},BM=()=>{const{t:e}=ec("Achievements"),t=m(),n=f(),l=(0,r.useFacetMap)((e=>e.tab?e.tab:"all"),[],[n]),o=[{label:e(".all"),value:"all"},{label:e(".locked"),value:"locked"},{label:e(".completed"),value:"completed"}];return a.createElement(_y,{gamepadAliasNamespace:"achievement-screen",gamepadIndex:0,value:l,onChange:e=>{t.replace(`/achievements/${"all"!==e?e:""}`)},tabs:o,enableGamepadShortcuts:!0,narrationTitle:e(".narration.title")})},UM=(0,a.createContext)(null),zM=()=>(0,a.useContext)(UM),jM=()=>{const{t:e}=ec("Achievements"),t=e(".narration.tab",[e(".all"),"2","4"])+" . "+e(".narration.selected");return a.createElement(GM,{narration:t,alias:"all-tab-wrapper",contentAlias:"all-tab-content",data:(0,r.useFacetMap)((t=>[{role:"informativeTint",title:e(".inProgress"),data:t.inProgress},{role:"secondary",title:e(".locked"),data:t.locked},{role:"successTint",title:e(".completed"),data:t.completed}]),[e],[(0,r.useSharedFacet)(Ko)])})},HM=()=>{const{t:e}=ec("Achievements"),t=e(".narration.tab",[e(".locked"),"3","4"])+" . "+e(".narration.selected"),n=dd(),l=(0,r.useSharedFacet)(Xo),o=a.createElement(cb,{imgClass:(0,r.useFacetMap)((e=>e?"YY6At":"kCPta"),[],[n]),autofocus:!0,gamepadAlias:"ach-locked-empty-state",imgSrc:(0,r.useFacetMap)((e=>0===e.length?vy:void 0),[],[l]),gamepadIndex:0,title:e(".lockedEmptyTitle"),text:e(".lockedEmptyText")});return a.createElement($M,{narration:t,alias:"locked-tab-wrapper",contentAlias:"locked-tab-content",emptyMessage:o,data:l})},VM=()=>{const{t:e}=ec("Achievements"),t=e(".narration.tab",[e(".completed"),"4","4"])+" . "+e(".narration.selected"),n=dd(),l=(0,r.useSharedFacet)(Yo),o=a.createElement(cb,{imgClass:(0,r.useFacetMap)((e=>e?"SSG0M":"tK4XR"),[],[n]),autofocus:!0,gamepadAlias:"ach-completed-empty-state",imgSrc:(0,r.useFacetMap)((e=>0===e.length?by:void 0),[],[l]),gamepadIndex:0,title:e(".completedEmptyTitle"),text:e(".completedEmptyText")});return a.createElement($M,{narration:t,alias:"completed-tab-wrapper",contentAlias:"completed-tab-content",emptyMessage:o,data:l})},GM=({narration:e,data:t,alias:n,contentAlias:l})=>{const o=(0,a.useRef)(null),[i,c]=(0,r.useFacetState)(0),s=(0,a.useCallback)((({height:e})=>c(e)),[c]);pd(o,s);const u=zM();return a.createElement(wf,{text:e},a.createElement(Fp,{containerRef:o,alias:n,delegateFocusByAlias:l},a.createElement("div",{style:{flex:"1"},ref:o},a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(tF,{rowSizeInRem:7,gamepadAlias:l,loading:(0,r.useFacetMap)((e=>!e),[],[(0,r.useSharedFacet)(qo)]),containerSizePixels:null!=u?u:i,data:t,footer:a.createElement(a.Fragment,null,a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:1})}),a.createElement(om,{size:1})),renderItem:e=>a.createElement(XM,{item:e}),renderTracker:e=>a.createElement(ly,{type:"meaningful",renderingCompleted:e}),padSpinnerVertically:!0,delegateFocusFromMemory:!0}))))},$M=({narration:e,data:t,alias:n,contentAlias:l,emptyMessage:o})=>{const i=(0,a.useRef)(null),[c,s]=(0,r.useFacetState)(0),u=(0,a.useCallback)((({height:e})=>s(e)),[s]);pd(i,u);const d=zM();return a.createElement(wf,{text:e},a.createElement(Fp,{containerRef:i,alias:n,delegateFocusByAlias:l},a.createElement("div",{style:{flex:"1"},ref:i},a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(Qy,{rowSizeRem:7,headerSizeRem:.8,header:a.createElement(om,{size:2}),containerSizePixels:null!=d?d:c,columnCount:1,loading:(0,r.useFacetMap)((e=>!e),[],[(0,r.useSharedFacet)(qo)]),gamepadAlias:l,emptyMessage:o,data:t,footer:a.createElement(a.Fragment,null,a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:1})}),a.createElement(om,{size:1})),renderItem:({item:e,index:t,listLength:n})=>a.createElement(YM,{item:e,index:t,listLength:n}),renderTracker:e=>a.createElement(ly,{type:"meaningful",renderingCompleted:e}),padSpinnerVertically:!0,delegateFocusFromMemory:!0}))))},KM=()=>{const e=(0,r.useFacetUnwrap)(Jo()),t=Tv(Ho);return e===r.NO_VALUE?null:e.loaded?a.createElement(rM,{gamepadIndex:0,inProgress:e.inProgressCount,achievementsUnlocked:e.unlocked,achievementsTotal:e.total,rewardsTotal:t?e.rewardsTotal:0,rewardsUnlocked:t?e.rewardsUnlocked:void 0,gamerScore:e.gamerScore,gamerScoreTotal:e.maxGamerScore,hoursPlayed:e.hoursPlayed}):a.createElement(rM.Loading,{loading:!e.loaded})},XM=({item:e})=>{const t=m(),n=(0,r.useFacetMap)((e=>e.isHeader?r.NO_VALUE:e),[],[e]),l=(0,r.useFacetMap)((e=>e.data),[],[n]),o=(0,r.useFacetMap)((e=>e.localIndex),[],[n]),i=(0,r.useFacetMap)((e=>e.sectionLength),[],[n]);return a.createElement(_M,{item:l,onClick:(0,r.useFacetCallback)((e=>()=>{t.push(`/achievement-detail/${e.id}`)}),[t],[l]),index:o,listLength:i})},YM=({item:e,index:t,listLength:n})=>{const l=m();return a.createElement(_M,{item:e,onClick:(0,r.useFacetCallback)((e=>()=>{l.push(`/achievement-detail/${e.id}`)}),[l],[e]),index:t,listLength:n})};let qM,QM,JM;!function(e){e[e.Build=0]="Build",e[e.Mine=1]="Mine",e[e.DoorsAndSwitches=2]="DoorsAndSwitches",e[e.OpenContainers=3]="OpenContainers",e[e.AttackPlayers=4]="AttackPlayers",e[e.AttackMobs=5]="AttackMobs",e[e.OperatorCommands=6]="OperatorCommands",e[e.Teleport=7]="Teleport"}(qM||(qM={})),function(e){e[e.InvalidPlayerId=0]="InvalidPlayerId",e[e.SelectedPlayerLeftWorld=1]="SelectedPlayerLeftWorld",e[e.SelectedPlayerPermissionsChanged=2]="SelectedPlayerPermissionsChanged",e[e.OperatorCommandsPermissionRevoked=3]="OperatorCommandsPermissionRevoked",e[e.KickCommandFailed=4]="KickCommandFailed",e[e.OK=5]="OK"}(QM||(QM={})),function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.Idle=2]="Idle"}(JM||(JM={}));const ZM=(0,r.sharedFacet)("vanilla.playerPermissions");let ew,tw,nw;!function(e){e[e.Visitor=0]="Visitor",e[e.Member=1]="Member",e[e.Operator=2]="Operator",e[e.Custom=3]="Custom"}(ew||(ew={})),function(e){e[e.LAN=0]="LAN",e[e.PLATFORM=1]="PLATFORM",e[e.XBOX_LIVE=2]="XBOX_LIVE"}(tw||(tw={})),function(e){e[e.GOOGLE=1]="GOOGLE",e[e.IOS=2]="IOS",e[e.OSX=3]="OSX",e[e.AMAZON=4]="AMAZON",e[e.GEARVR_DEPRECATED=5]="GEARVR_DEPRECATED",e[e.UWP=7]="UWP",e[e.WIN32=8]="WIN32",e[e.DEDICATED=9]="DEDICATED",e[e.TVOS_DEPRECATED=10]="TVOS_DEPRECATED",e[e.SONY=11]="SONY",e[e.NX=12]="NX",e[e.XBOX=13]="XBOX",e[e.WINDOWSPHONE_DEPRECATED=14]="WINDOWSPHONE_DEPRECATED",e[e.LINUX=15]="LINUX",e[e.UNKNOWN=-1]="UNKNOWN"}(nw||(nw={}));const aw=(0,r.sharedFacet)("vanilla.worldPlayersList"),rw=(0,r.sharedFacet)("vanilla.levelInfo"),lw=()=>{};function ow({autoplay:e,eventName:t,delay:n=0,disabled:l=!1,cancellable:o=!1}){const i=(0,r.useFacetWrap)(e),c=(0,r.useFacetWrap)(o),s=(0,r.useFacetWrap)(l),u=(0,r.useFacetWrap)(n),d=(0,r.useFacetWrap)(t),m=na(),p=(0,a.useRef)(lw),f=(0,a.useRef)(!1);return(0,r.useFacetLayoutEffect)(((e,t,n,a,r)=>{const l=!1===n&&e&&r!==aa;if(f.current)return l&&(p.current=m(r,null!=t?t:0)),()=>{a&&(p.current(),p.current=lw)};f.current=!0}),[m],[i,u,s,c,d]),null}var iw;!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Top=2]="Top",e[e.Bottom=3]="Bottom"}(iw||(iw={}));const cw={[iw.Top]:"QB5Kg",[iw.Left]:"oz9Hz",[iw.Right]:"JXIjK",[iw.Bottom]:"KMoQ1"};function sw({anchor:e=iw.Right,children:t,drawerContent:n,isOpen:l,role:o="inherit",onOverlayClick:i,disableAnimation:c}){const s=(0,r.useFacetWrap)(null!=l&&l),u=Fr(o),d=(0,r.useFacetWrap)(null!=c&&c),m=Ul();return a.createElement(a.Fragment,null,t,a.createElement("fast-div",{className:"_2ofy"},a.createElement("fast-div",{onClick:i,className:(0,r.useFacetMap)(((e,t)=>Dr()("oNyMv",u.overlay.base,{s4MUE:e,OC8iA:t})),[u],[s,d])}),a.createElement("fast-div",{style:{top:e===iw.Bottom?"":m.top+"px",bottom:e===iw.Top?"":m.bottom+"px",right:e===iw.Left?"":m.right+"px",left:e===iw.Right?"":m.left+"px"},className:(0,r.useFacetMap)(((t,n)=>Dr()("sV4l2",cw[e],{FSf9q:t,qBZdW:!t,IqDTi:n})),[e],[s,d])},n)),a.createElement(ow,{eventName:"ui.drawer_open",autoplay:s}),a.createElement(ow,{eventName:"ui.drawer_close",autoplay:(0,r.useFacetMap)((e=>!e),[],[s])}))}sw.Anchor=iw;const uw=(0,r.sharedFacet)("vanilla.party");let dw;function mw(e,t){const n=[];for(let a=0;a<e.length;a++)t(e[a],a,e)&&n.push(e[a]);return n}function pw({header:e,renderItem:t,renderSectionHeader:n,data:l,focusGridIndex:o,itemSeparator:i,sectionSeparator:c,loading:s=!1,footer:u,renderTracker:d,padSpinnerVertically:m,gamepadAlias:p,spinnerBackgroundColor:f,showSpinnerBorder:g,delegateFocusFromMemory:E=!0,scrollRef:h,delegateFocusByAlias:v,sectionsWrapper:b=fw}){const y=(0,r.useIsPaused)(),F=(0,r.useFacetWrap)(l),S=(0,r.useFacetMemo)((e=>mw(e,(e=>null!=e.emptyStateMessage||e.data.length>0))),[],[F]);return a.createElement(r.DeferredMountProvider,null,a.createElement(Ew,{scrollRef:h,delegateFocusFromMemory:E,loading:s,focusGridIndex:o,renderTracker:d,padSpinnerVertically:m,gamepadAlias:p,spinnerBackgroundColor:f,showSpinnerBorder:g,delegateFocusByAlias:v},null!=e&&a.createElement(a.Fragment,null,e,i),!1===y&&a.createElement(b,null,a.createElement(r.Map,{array:S},((r,l)=>a.createElement(gw,{headerPresent:null!=e,section:r,sectionIndex:l,sections:S,renderSectionHeader:n,renderItem:t,sectionSeparator:c})))),u))}function fw({children:e}){return a.createElement(a.Fragment,null,e)}function gw({headerPresent:e,section:t,sectionIndex:n,sections:l,renderSectionHeader:o,renderItem:i,sectionSeparator:c,itemSeparator:s}){const u=(0,r.useFacetMap)((e=>e.data),[],[t]),d=(0,r.useFacetMap)((e=>e.data.length),[],[t]),m=(0,r.useFacetMap)((e=>e.title),[],[t]),p=(0,r.useFacetMap)((e=>e.role),[],[t]),f=(0,r.useFacetMap)((e=>0==e.data.length||null==e.data),[],[t]),g=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.emptyStateMessage)&&void 0!==t?t:""}),[],[t]),E=o(m,p),{t:h}=ec("SectionList"),v=e?n+1:n,b=(0,r.useFacetMap)((e=>{var t,a;const r=e[n];return[h(".groupNarration",[null!==(t=r.narrationTitle)&&void 0!==t?t:r.title,`${n+1}`,`${e.length}`]),null!==(a=r.narrationSuffix)&&void 0!==a?a:""].join(" . ")}),[n,h],[l,t]);return a.createElement(Mf,{options:{index:v},key:v},a.createElement(wf,{text:b},n>0&&c,E,s,a.createElement(r.Mount,{when:f},a.createElement(cb,{gamepadIndex:0,text:g})),a.createElement(r.Map,{array:u},((e,t)=>a.createElement(a.Fragment,null,t>0&&s,i({itemFacet:e,index:t,sectionIndex:v,listLengthFacet:d}))))))}function Ew({loading:e,children:t,renderTracker:n,padSpinnerVertically:l,focusGridIndex:o,gamepadAlias:i,spinnerBackgroundColor:c,showSpinnerBorder:s,delegateFocusFromMemory:u=!0,scrollRef:d,delegateFocusByAlias:m}){const p=(0,r.useIsDeferring)(),f=(0,r.useIsPaused)(),g=(0,r.useFacetMap)(((e,t)=>t||e||f),[f],[p,(0,r.useFacetWrap)(null!=e&&e)]);return a.createElement(Ef,{innerRef:d,loading:g,focusGridIndex:o,renderTracker:n,padSpinnerVertically:l,gamepadAlias:i,delegateFocusFromMemory:u,spinnerBackgroundColor:c,showSpinnerBorder:s,delegateFocusByAlias:m},t)}!function(e){e[e.InviteOnly=0]="InviteOnly",e[e.Open=1]="Open"}(dw||(dw={}));const hw="oARq7";function vw({tall:e=!1,small:t=!1,children:n,isFocusable:l=!1,narrationText:o,gamepadAlias:i,focusGridIndex:c,innerRef:s,disableDeferredMount:u=!1,testId:d}){const m=(0,r.useFacetWrap)(null!=o&&o);return a.createElement(lM.Provider,{value:e},a.createElement(em.Maybe,{isInteractive:l,gamepadAlias:i,className:Dr()("xx2ne",{TMIem:e,z4lpS:t}),innerRef:s,classNameFocused:"mwYMs",focusGridIndex:c,inputLegend:!1,narrationText:m,"data-testid":d},u?a.createElement(a.Fragment,null,a.createElement(a.Fragment,null,n)):a.createElement(r.DeferredMount,null,a.createElement(a.Fragment,null,n))))}vw.Action=function({autofocus:e,children:t,onClick:n,inputLegend:l,narrationText:o,gamepadAlias:i,soundEffectPressed:c,onFocusChanged:s,onHoverChanged:u,gamepadIndex:d=0,role:m="neutral",disabled:p,className:f,testId:g}){const E=(0,r.useFacetMap)((e=>!0===e),[],[(0,r.useFacetWrap)(p)]),h=(0,r.useFacetWrap)(c),v=(0,r.useFacetWrap)(l),b=Cr(m),y=Fr(m),F=(0,r.useFacetMap)(((e,t)=>!t&&e),[],[v,E]),S=(0,r.useFacetMap)((e=>Dr()("Srsnc",y.text.base,{[hw]:e},f)),[y,f],[E]),C=(0,r.useFacetMap)(((e,t)=>t?void 0:null!=e?e:b.press),[b],[h,E]),M=(0,r.useFacetCallback)((e=>()=>{e||n()}),[n],[E]);return a.createElement(Xa,{role:m},a.createElement(em,{autofocus:e,gamepadAlias:i,className:S,classNameHovered:"uZ4Jk",classNameFocused:"K6m8n",classNamePressed:"f7Wn5",classNameDisabled:hw,gamepadIndex:d,inputLegend:F,narrationText:o,onClick:M,onFocusChanged:s,onHoverChanged:u,soundEffectPressed:C,"data-testid":g},t))},vw.AdditionalAction=function({children:e,onClick:t,onGamepadClick:n,onUp:l,onDown:o,onLeft:i,onRight:c,onMouseDown:s,shortcut:u,inputLegend:d,narrationText:m,gamepadAlias:p,hidden:f=!1,fitContent:g=!1,extraWide:E=!1,innerRef:h,touchDetectionDelay:v,soundEffectPressed:b,role:y="neutral",testId:F}){const S=(0,r.useFacetWrap)(f),C=oM(),M=Cr(y);return a.createElement(r.Mount,{when:S,condition:!1},a.createElement(Xa,{role:y},null!=u&&a.createElement(iM,{onClick:t,shortcut:u,inputLegend:d}),a.createElement(em,{className:Dr()("sdhSv",{ub7fM:g,A9EUw:C,nZWtI:E}),classNameHovered:"MaRsn",classNamePressed:"ZQArf",classNameFocused:"eXGIQ",touchDetectionDelay:v,soundEffectPressed:null!=b?b:M.press,gamepadAlias:p,inputLegend:d,onClick:t,onGamepadOrKeyboardSelect:n,onUp:l,onDown:o,onLeft:i,onRight:c,onMouseDown:s,narrationText:m,innerRef:h,"data-testid":F},e)))},vw.Main=cM,vw.Cell=gM,vw.Icon=wM;const bw=n.p+"assets/online-badge-e3691.png";function yw(){return a.createElement(Mp,{src:bw,className:"EJqsr",imageRendering:"pixelated"})}const Fw=n.p+"assets/no-player-profile-d13a7.png",Sw=n.p+"assets/online-badge-e3691.png",Cw=n.p+"assets/away-badge-9843a.png",Mw=n.p+"assets/away-favorite-badge-de33a.png",ww=n.p+"assets/online-favorite-badge-6f372.png",kw="M54mY",Tw="CocEq",Iw="wbPpe";function Pw({status:e}){return a.createElement(wl,{data:e},(e=>a.createElement(a.Fragment,null,a.createElement(Mp,{src:ww,className:Dr()(Tw,kw,{[Iw]:"onlineFavorite"===e}),imageRendering:"pixelated"}),a.createElement(Mp,{src:Sw,className:Dr()(Tw,"hlapm",{[Iw]:"online"===e}),imageRendering:"pixelated"}),a.createElement(Mp,{src:Cw,className:Dr()(Tw,kw,{[Iw]:"away"===e}),imageRendering:"pixelated"}),a.createElement(Mp,{src:Mw,className:Dr()(Tw,kw,{[Iw]:"awayFavorite"===e}),imageRendering:"pixelated"}))))}const xw={small:2.4,medium:3.2,large:5.2};function Ow({status:e="online",src:t="",variant:n="medium",grayscaleAvatar:l=!1,usePersonaPicRendering:o="if-enabled",shouldShowNewStatus:i=!1}){const c=(0,r.useFacetWrap)(e),s=(0,r.useFacetWrap)(t),u=(0,r.useFacetMap)((e=>""===e||null==e),[],[s]),d=(0,r.useFacetWrap)(n),m=(0,r.useFacetMap)(((e,t)=>e?Fw:t),[],[u,s]),p=(0,r.useFacetWrap)(l),f=Tv(Ii.UsePersonaProfileImages),g=(0,r.useFacetMap)(((e,t)=>t?"pixelated":"if-enabled"===e?f?"pixelated":void 0:!0===e?"pixelated":void 0),[f],[(0,r.useFacetWrap)(o),u]),E=Fr(),h=(0,r.useFacetMap)((e=>Dr()("hYQ3Q",{acBo_:"online"===e||"away",W7VPS:"offline"===e})),[],[c]),v=(0,r.useFacetMap)(((e,t)=>Dr()("qA9dD",{B8iqy:e&&"offline"===t})),[],[p,c]);return a.createElement("fast-div",{className:Dr()("FZHBQ",E.neutral.border.base),style:{width:(0,r.useFacetMap)((e=>`${xw[e]}rem`),[],[d]),height:(0,r.useFacetMap)((e=>`${xw[e]}rem`),[],[d])}},a.createElement(Mp,{src:m,className:v,imageRendering:g}),a.createElement("fast-div",{className:h},i?a.createElement(Pw,{status:c}):a.createElement(yw,null)))}Ow.VARIANT_SIZES=xw;const Aw=n.p+"assets/play-63100.png",Nw="oaPTd",Rw=({className:e})=>{const t=null!=e?`oaPTd ${e}`:Nw;return a.createElement(Mp,{className:t,src:Aw,imageRendering:"pixelated"})},_w=n.p+"assets/delete-dc012.png";function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Lw.apply(this,arguments)}const Dw=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("l54Li",t);return a.createElement(Mp,Lw({},n,{className:r,src:_w,imageRendering:"pixelated"}))},Ww=n.p+"assets/IconAddPlayerWhite-c25a0.png";function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bw.apply(this,arguments)}const Uw=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("dnhHa",t);return a.createElement(Mp,Bw({},n,{className:r,src:Ww,imageRendering:"pixelated"}))},zw=n.p+"assets/IconPartyInviteWhite-07ee5.png";function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},jw.apply(this,arguments)}const Hw=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("cJTTp",t);return a.createElement(Mp,jw({},n,{className:r,src:zw,imageRendering:"pixelated"}))},Vw="B5Uxw",Gw=()=>{const e=(0,r.useSharedFacet)($s);return(0,r.useFacetCallback)((e=>(t,n={},a,r)=>{const l={};Object.keys(n).forEach((e=>{const{value:t,privacyTag:a}=n[e],r={__Type:"EventProperty",value:t,privacyTag:a};l[e]=r}));const o={};return a&&Object.keys(a).forEach((e=>{const{value:t,aggregationType:n}=a[e],r={__Type:"EventMeasurement",value:t,aggregationType:n};o[e]=r})),e.fireEvent(t,l,0===Object.keys(o).length?void 0:o,r)}),[],[e])},$w=()=>{const e=Gw();return(0,a.useCallback)((t=>{e("ButtonPressed",{ButtonName:{value:"Profile",privacyTag:Vs.CustomerContent},entryPoint:{value:t,privacyTag:Vs.CustomerContent}},{Count:{value:1,aggregationType:Gs.Increment}},!0)}),[e])},Kw=n.p+"assets/psn_logo-ea3e6.png",Xw=e=>e===Ke.PS4||e===Ke.PS5,Yw=e=>e===Ke.XBOX,qw=e=>e===Ke.NX_HANDHELD||e===Ke.NX_TV,Qw=e=>Yw(e)||qw(e)||Xw(e),Jw=e=>e===Ke.WIN32||e===Ke.UWP,Zw=(e,t)=>Jw(e)&&t===$e.ARVR_None,ek=e=>e===Ke.GOOGLE||e===Ke.IOS||e===Ke.MACOS||e===Ke.UWP||e===Ke.WIN32||e===Ke.XBOX,tk=((0,r.sharedFacet)("vanilla.gameplay.activeLevelHardcoreMode"),(0,r.sharedFacet)("vanilla.gameplay.immediateRespawn"),(0,r.sharedFacet)("vanilla.gameplay.leaveGame"));function nk(){return(0,r.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(fu.XboxLive_Parental)),[],[(0,r.useSharedFacet)(hu)])}function ak(){return(0,r.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(fu.XboxLive)),[],[(0,r.useSharedFacet)(hu)])}function rk(){return(0,r.useFacetMap)(((e,t)=>(qw(t.platform)||Xw(t.platform))&&t.isOnline&&!e.hasPremiumNetworkAccess),[],[(0,r.useSharedFacet)(hu),(0,r.useSharedFacet)(il)])}function lk(){const e=ak(),t=nk(),n=rk();return(0,r.useFacetMap)(((e,t,n)=>e||t||n),[],[e,t,n])}function ok(){const e=ak(),t=nk();return(0,r.useFacetMap)(((e,t)=>e||t),[],[e,t])}(0,r.sharedFacet)("vanilla.gameplay.playerDeathInfo"),(0,r.sharedFacet)("vanilla.gameplay.playerRespawn");const ik=()=>{};let ck;function sk(){}function uk(e,t,n){const r=(0,a.useRef)(!1),l=(0,a.useRef)(!1),o=(0,a.useRef)(sk),i=(0,Ml.useFacetCallback)(e,[e,...t],[...n]),c=(0,a.useCallback)((async(...e)=>{if(r.current)return;const t=e=>{const{promise:t,cancel:n}=(e=>{let t=ik;const n=new Promise((e=>{t=e})),a=e.get();if(a!==Ml.NO_VALUE)return t(a),{promise:n,cancel:ik};const r=e.observe(t);return{promise:n.then((e=>(r(),e))),cancel:r}})(function(e,t,n){return(0,Ml.mapFacetsLightweight)(e,(e=>e==ck.RUNNING?Ml.NO_VALUE:e),void 0)}([e]));return o.current=n,t};return(async(...e)=>{if(l.current)return;r.current=!0;const n=i(...e);if(n!==Ml.NO_VALUE){for(const e of n)if(await t(e)!=ck.DONE)break;r.current=!1}})(...e)}),[i]);return(0,a.useEffect)((()=>()=>{l.current=!0,o.current()}),[]),c}function dk(e){const t=mk(e),n=(0,r.useSharedFacet)(tk),a=(0,r.useSharedFacet)(Gi);return(0,r.useFacetCallback)(((e,n,a)=>()=>{a.isInGame?n.leaveGameThenJoinFriendsWorld(e):t()}),[t],[e,n,a])}function mk(e){const t=(0,r.useSharedFacet)(cc),n=(0,r.useFacetMap)((e=>e.joinFriendServerState),[],[t]),a=uk((e=>function*(t){e.joinFriendServer(t),yield n,e.clearJoinFriendServerTaskState()}),[n],[t]);return(0,r.useFacetCallback)((e=>()=>{a(e)}),[a],[e])}function pk(){return(0,r.useFacetMap)(((e,t)=>!t.isInGame&&e.onlyCellularAvailable&&e.showCellularDataFee),[],[(0,r.useSharedFacet)(il),(0,r.useSharedFacet)(Gi)])}function fk(e){const t=(0,r.useSharedFacet)(hu),n=lk();return(0,r.useFacetMap)(((e,t,n)=>null!=e.playingOnServerId&&""!==e.playingOnServerId&&!(!0===e.isInSameGame)&&t.userPermissions.multiplayer.allowed&&!n),[],[e,t,n])}function gk(e,t){return(0,r.useFacetCallback)(((n,a)=>()=>{n.isInGame?n.isInMultiplayerSession&&n.isHosting?e.endHostingMultiplayerSessionModal.show():e.leaveWorldThenJoinModal.show():a?e.mobileDataModal.show():t()}),[e,t],[(0,r.useSharedFacet)(Gi),pk()])}!function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.DONE=2]="DONE",e[e.CANCELLED=3]="CANCELLED",e[e.FAILED=4]="FAILED"}(ck||(ck={}));const Ek="backButton",hk=Km((({joinWorld:e,onClose:t})=>{const{t:n}=ec("LeaveWorldThenJoinModal");return a.createElement(vE,{defaultFocusAlias:Ek},a.createElement(vE.Header,{onClose:t},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Paragraphs,{narrationText:`${n(".message_p1")}. ${n(".message_p2")}`,spaceBetweenParagraphs:5},a.createElement(fm,{type:"captionLong"},n(".message_p1")),a.createElement(fm,{type:"captionLong"},n(".message_p2")))),a.createElement(vE.Buttons,null,a.createElement(mg,{delayedClick:!0,onClick:e,autofocus:!0,gamepadAlias:Ek,inputLegend:n(".confirmation"),variant:"primary","data-testid":"join-world"},n(".confirmation")),a.createElement(om,{size:1}),a.createElement(mg,{delayedClick:!0,inputLegend:n(".cancel"),variant:"secondary",onClick:t},n(".cancel"))))})),vk=Km((({joinServer:e,onClose:t})=>{const{t:n}=ec("MobileDataBlockedModal"),r=m(),l="backButton";return a.createElement(vE,{defaultFocusAlias:l},a.createElement(vE.Header,{onClose:t},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Paragraphs,{narrationText:`${n(".onlyWifi")}. ${n(".costWarning")}`,spaceBetweenParagraphs:5,gamepadIndex:0},a.createElement(fm,{type:"captionLong"},n(".onlyWifi")),a.createElement(fm,{type:"captionLong"},n(".costWarning")))),a.createElement(vE.Buttons,null,a.createElement(mg,{delayedClick:!0,onClick:()=>{t(),r.push("/settings/general")},autofocus:!0,gamepadAlias:l,inputLegend:n(".changeSettings"),variant:"primary"},n(".changeSettings")),a.createElement(om,{size:1}),a.createElement(mg,{delayedClick:!0,inputLegend:n(".playOnceWithData"),variant:"secondary",onClick:()=>{e(),t()},"data-testid":"play-once-with-data"},n(".playOnceWithData"))))})),bk=Km((({onClose:e,onContinue:t})=>{const{t:n}=ec("EndHostingMultiplayerSessionModal");return a.createElement(vE,null,a.createElement(vE.Header,{onClose:e},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:n(".text")},n(".text"))),a.createElement(vE.Buttons,null,a.createElement(mg,{inputLegend:n(".continue"),variant:"primary",onClick:t,delayedClick:!0},n(".continue")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:n(".cancel"),variant:"secondary",onClick:e},n(".cancel"))))}));function yk(){return{mobileDataModal:vk.useModal(),leaveWorldThenJoinModal:hk.useModal(),endHostingMultiplayerSessionModal:bk.useModal()}}function Fk({modals:e,joinCallback:t}){const n=pk(),l=(0,r.useFacetCallback)((n=>()=>{e.endHostingMultiplayerSessionModal.hide(),e.leaveWorldThenJoinModal.hide(),n?e.mobileDataModal.show():t()}),[e,t],[n]),o=(0,r.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0,t()}),[t],[(0,r.useSharedFacet)(pc)]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:e.mobileDataModal.isVisible},a.createElement(vk.Component,{onClose:e.mobileDataModal.hide,joinServer:o})),a.createElement(r.Mount,{when:e.leaveWorldThenJoinModal.isVisible},a.createElement(hk.Component,{onClose:e.leaveWorldThenJoinModal.hide,joinWorld:l})),a.createElement(r.Mount,{when:e.endHostingMultiplayerSessionModal.isVisible},a.createElement(bk.Component,{onClose:e.endHostingMultiplayerSessionModal.hide,onContinue:l})))}function Sk(e,t){const{t:n}=tc(t),a=Tv(Ii.NewFriendsDrawer);return(0,r.useFacetMap)((({variant:e,presence:t,platform:r,presenceMessage:l,favoriteStatus:o,isInSameGame:i,isFriendOfFriend:c})=>{if("sent-request"===e)return{avatar:"offline",status:n(".pending")};if("received-request"===e)return{avatar:"offline",status:n(".receivedRequest")};if(a)switch(t){case Pc.Offline:return{status:n(".offline"),avatar:"offline"};case Pc.Online:return c?null!=r?{status:n(`.friendOfFriendPlaying.${r}`),avatar:"online"}:{status:n(".friendOfFriendPlaying"),avatar:"online"}:i?{status:n(".playingInSameWorld"),avatar:o===Tc.FAVORITE?"onlineFavorite":"online"}:null!=r?{status:n(`.online.${r}`),avatar:"online"}:{status:""!==l?l:n(".online"),avatar:o===Tc.FAVORITE?"onlineFavorite":"online"};case Pc.Away:return c?null!=r?{status:n(`.friendOfFriendPlaying.${r}`),avatar:"away"}:{status:n(".friendOfFriendPlaying"),avatar:"away"}:{status:n(".away"),avatar:o===Tc.FAVORITE?"awayFavorite":"away"}}else switch(t){case Pc.Online:case Pc.Away:return c?null!=r?{status:n(`.friendOfFriendPlaying.${r}`),avatar:"online"}:{status:n(".friendOfFriendPlaying"),avatar:"online"}:null!=r?{status:n(`.online.${r}`),avatar:"online"}:{status:n(".online"),avatar:"online"};case Pc.Offline:return{status:n(".offline"),avatar:"offline"}}return{status:"",avatar:"offline"}}),[n,a],[e])}function Ck({item:e,index:t,listLength:n,onAdditionalActionClick:l,onMainActionClick:o,disabled:i,gamepadAlias:c,profileEntryPoint:s,grayscaleAvatarWhenOffline:u=!1,screenAnalyticsId:d="",testId:m,enablePSNLogo:p=!1}){const{t:f}=ec("PlayerListItem"),{t:g}=ec("PlayerListItem.narration"),E=(0,r.useFacetMap)((e=>e.xuid),[],[e]),h=(0,r.useFacetMap)((e=>e.gamerTag),[],[e]),v=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.gamerIcon)&&void 0!==t?t:""}),[],[e]),b=(0,r.useFacetMap)((e=>e.playingOnServerId),[],[e]),y=$w(),F=(0,r.useFacetWrap)(s),S=(0,r.useSharedFacet)(hu),C=(0,r.useFacetCallback)(((e,t)=>()=>{y(t),null==o||o(e)}),[y,o],[e,F]),M=Sk(e,"PlayerListItem"),w=(0,r.useFacetMap)((({status:e})=>""!==e),[],[M]),k=(0,r.useFacetMap)((({variant:e})=>{switch(e){case"added-not-mutual":return"added-status";case"added-mutual":return"friends-status";case"party-sent-invite":return"party-sent-invite"}return"none"}),[],[e]),T=(0,r.useFacetWrap)(i),I=(0,r.useFacetMap)((({variant:e},t)=>"sent-request"===e||"received-request"===e||null!=t&&t),[],[e,T]),P=fk(e),x=(0,r.useFacetMap)((({variant:e},t,n)=>{switch(e){case"player":if(n)return"join";break;case"sent-request":return"delete-request";case"received-request":return"accept-reject-request";case"add-friend":if(t.userPermissions.addFriends.allowed)return"add-friend";break;case"party-invite":return"party-invite";case"party-options":return"party-options";case"party-drawer-sent-invite":return"party-drawer-sent-invite";case"party-joinable":return"party-joinable";case"party-received-invite":return"party-received-invite"}return"none"}),[],[e,S,P]),O=(0,r.useFacetMap)((({variant:e},n,a,r,l,{status:o})=>{const i=[];let c=o,s="";switch(e){case"sent-request":c=g(".sentRequest");break;case"received-request":c=g(".receivedRequest");break;case"added-mutual":s=g(".addedMutual");break;case"added-not-mutual":s=g(".addedNotMutual")}return i.push(n,c,g(l?".listItemRole":".buttonRole"),g(".itemOrderContext",[`${t+1}`,`${a}`])),l||i.push(s,g(".playerProfileHint")),"none"!==r&&i.push(g(".additionalActionsHint")),"party-sent-invite"===e&&i.push(g(".playerInvited")),i.join(" . ")}),[t,g],[e,h,n,x,I,M]),A=Se(),N=(0,r.useFacetCallback)((e=>()=>{l&&l(),A(e)}),[A,l],[(0,r.useFacetWrap)(c)]),R=(0,r.useFacetMap)((e=>e.location),[],[e]),_=(0,r.useFacetMap)(((e,t,n,a)=>!!e&&(!n.isLoggedInWithMicrosoftAccount&&Xw(a.platform)||"playstation"===t.platform)),[],[(0,r.useFacetWrap)(p),e,(0,r.useSharedFacet)(hu),(0,r.useSharedFacet)(il)]);return a.createElement(vw,{testId:m},a.createElement(vw.Action,{narrationText:O,inputLegend:f(".viewProfile"),onClick:C,gamepadAlias:c,disabled:I,testId:null!=m?`${m}-main-action`:void 0},a.createElement(vw.Cell,{direction:"row"},a.createElement(Ow,{variant:"large",src:v,status:(0,r.useFacetMap)((({avatar:e})=>e),[],[M]),grayscaleAvatar:(0,r.useFacetMap)((({avatar:e},t)=>"offline"===e&&t),[],[M,(0,r.useFacetWrap)(u)]),shouldShowNewStatus:!0})),a.createElement(r.Mount,{when:_},a.createElement(vw.Cell,{align:"center"},a.createElement(Mp,{src:Kw,className:"FKnWZ",width:"2.2rem",height:"2.2rem"}))),a.createElement(vw.Main,null,a.createElement(fm,{type:"body",overflowEllipsis:!0},h),a.createElement(r.Mount,{when:w},a.createElement(fm,{type:"captionShort",variant:"dimmer"},(0,r.useFacetMap)((({status:e})=>e),[],[M])))),a.createElement(wl,{data:k},(e=>{switch(e){case"added-status":return a.createElement(Nk,{text:f(".added"),Icon:Nf});case"friends-status":return a.createElement(Nk,{text:f(".friends"),Icon:Nf});case"party-sent-invite":return a.createElement(Nk,{text:f(".invited"),Icon:Nf});default:return null}}))),a.createElement(wl,{data:x},(e=>{switch(e){case"none":return null;case"join":return a.createElement(Mk,{playingOnServerId:b,onClickAdditionalAction:N,screenAnalyticsId:d});case"delete-request":return a.createElement(wk,{onClickAdditionalAction:N});case"accept-reject-request":return a.createElement(kk,{playerId:E,onClickAdditionalAction:N});case"party-received-invite":return a.createElement(Ak,{playerId:E,onClickAdditionalAction:N});case"add-friend":return a.createElement(Tk,{playerId:E,onClickAdditionalAction:N,location:R,index:t,listLength:n});case"party-invite":return a.createElement(Ik,{onClickAdditionalAction:N,gamerTag:h,playerId:E});case"party-options":return a.createElement(Pk,{onClickAdditionalAction:N});case"party-drawer-sent-invite":return a.createElement(xk,{onClickAdditionalAction:N});case"party-joinable":return a.createElement(Ok,{onClickAdditionalAction:N})}})))}function Mk({playingOnServerId:e,onClickAdditionalAction:t,screenAnalyticsId:n}){const{t:l}=ec("PlayerListItem"),{t:o}=ec("PlayerListItem.narration"),i=Ju(),c=(0,r.useFacetMap)((e=>null!=e?e:""),[],[e]),s=yk(),u=dk(c),d=gk(s,u),m=(0,a.useCallback)((()=>{i({screen:n,button:"Join"}),d(),t&&t()}),[d,t,i,n]);return a.createElement(a.Fragment,null,a.createElement(Fk,{modals:s,joinCallback:u}),a.createElement(vw.AdditionalAction,{narrationText:[o(".joinFriend"),o(".buttonRole")].join(" . "),inputLegend:l(".select"),onClick:m,testId:"player-list-item-join-button"},a.createElement(Rw,{className:Vw}),a.createElement(fm,{type:"captionShort",overflowEllipsis:!0,className:"lD5qr"},l(".join"))))}function wk({onClickAdditionalAction:e}){const{t}=ec("PlayerListItem"),{t:n}=ec("PlayerListItem.narration"),r=(0,a.useCallback)((()=>{e&&e()}),[e]);return a.createElement(vw.AdditionalAction,{inputLegend:t(".select"),onClick:r,narrationText:[n(".delete"),n(".buttonRole")].join(" . ")},a.createElement(vw.Cell,{align:"center"},a.createElement(Dw,{className:Vw}),a.createElement(fm,{align:"center",type:"captionTiny"},t(".delete"))))}function kk({playerId:e,onClickAdditionalAction:t}){const{t:n}=ec("PlayerListItem"),l=(0,r.useSharedFacet)(Ai),o=(0,r.useFacetCallback)(((e,n)=>()=>{e.acceptRequest(n),t&&t()}),[t],[l,e]),i=(0,r.useFacetCallback)(((e,n)=>()=>{e.rejectRequest(n),t&&t()}),[t],[l,e]);return a.createElement(a.Fragment,null,a.createElement(vw.AdditionalAction,{inputLegend:n(".select"),onClick:o,narrationText:[n(".accept"),n(".buttonSiblings",["1","2"])].join(" . "),testId:"player-list-item-accept-button"},a.createElement(vw.Cell,{align:"center"},a.createElement(Nf,{className:Vw}),a.createElement(fm,{align:"center",type:"captionTiny"},n(".accept")))),a.createElement(vw.AdditionalAction,{inputLegend:n(".select"),onClick:i,narrationText:[n(".reject"),n(".buttonSiblings",["2","2"])].join(" . "),testId:"player-list-item-reject-button"},a.createElement(vw.Cell,{align:"center"},a.createElement(Np,{className:Vw}),a.createElement(fm,{align:"center",type:"captionTiny"},n(".reject")))))}function Tk({playerId:e,onClickAdditionalAction:t,location:n,index:l,listLength:o}){const{t:i}=ec("PlayerListItem"),{t:c}=ec("PlayerListItem.narration"),s=(0,r.useFacetCallback)(((e,n,a)=>()=>{null!=a&&n.addFriend(e,a),t&&t()}),[t],[e,(0,r.useSharedFacet)(_c),n]),u=(0,r.useFacetMap)(((e,t)=>{const n=[i(".addButtonText"),c(".buttonRole")];return t===Rc.ADDFRIENDS_SEARCH&&n.push(i(".narrationItemOrderContext",[`${l+1}`,`${e}`])),n.join(" . ")}),[l,c,i],[o,n]);return a.createElement(vw.AdditionalAction,{inputLegend:i(".addButtonInputLegend"),onClick:s,narrationText:u,testId:"player-list-item-add-button"},a.createElement(vw.Cell,{align:"center"},a.createElement(Uw,{className:Vw}),a.createElement(fm,{align:"center",type:"captionShort",overflowEllipsis:!0},i(".addButtonText"))))}function Ik({playerId:e,gamerTag:t,onClickAdditionalAction:n}){const{t:l}=ec("PlayerListItem"),{t:o}=ec("PlayerListItem.narration"),i=(0,r.useFacetCallback)(((e,t)=>()=>{t.invitePlayer(e),n&&n()}),[n],[e,(0,r.useSharedFacet)(uw)]),c=(0,r.useFacetMap)((e=>[o(".inviteButtonText",[e]),o(".buttonRole")].join(" . ")),[o],[t]);return a.createElement(vw.AdditionalAction,{inputLegend:l(".inviteButtonInputLegend"),onClick:i,narrationText:c,testId:"player-list-item-invite-button"},a.createElement(vw.Cell,{align:"center"},a.createElement(Hw,{className:Vw}),a.createElement(fm,{align:"center",type:"captionShort",overflowEllipsis:!0},l(".inviteButtonText"))))}function Pk({onClickAdditionalAction:e}){const{t}=ec("PlayerListItem"),{t:n}=ec("PlayerListItem.narration"),r=(0,a.useCallback)((()=>{e&&e()}),[e]);return a.createElement(vw.AdditionalAction,{inputLegend:t(".inviteButtonInputLegend"),onClick:r,narrationText:[t(".cancelButtonText"),n(".buttonRole")].join(" . "),testId:"player-list-item-invite-button"},a.createElement(vw.Cell,{align:"center"},a.createElement(nM.Options,null)))}function xk({onClickAdditionalAction:e}){const{t}=ec("PlayerListItem"),{t:n}=ec("PlayerListItem.narration"),r=(0,a.useCallback)((()=>{e&&e()}),[e]);return a.createElement(vw.AdditionalAction,{inputLegend:t(".inviteButtonInputLegend"),onClick:r,narrationText:[t(".cancelButtonText"),n(".buttonRole")].join(" . "),testId:"player-list-item-invite-button"},a.createElement(vw.Cell,{align:"center"},a.createElement(Np,{className:Vw}),a.createElement(fm,{align:"center",type:"captionShort",overflowEllipsis:!0},t(".cancelButtonText"))))}function Ok({onClickAdditionalAction:e}){const{t}=ec("PlayerListItem"),{t:n}=ec("PlayerListItem.narration"),r=(0,a.useCallback)((()=>{e&&e()}),[e]);return a.createElement(vw.AdditionalAction,{inputLegend:t(".inviteButtonInputLegend"),onClick:r,narrationText:[t(".cancelButtonText"),n(".buttonRole")].join(" . "),testId:"player-list-item-invite-button"},a.createElement(vw.Cell,{align:"center"},a.createElement(nM.Party,null),a.createElement(fm,{align:"center",type:"captionShort",overflowEllipsis:!0},t(".join"))))}function Ak({playerId:e,onClickAdditionalAction:t}){const{t:n}=ec("PlayerListItem"),l=(0,r.useFacetCallback)((e=>()=>{console.log(e),t&&t()}),[t],[e]),o=(0,r.useFacetCallback)((e=>()=>{console.log(e),t&&t()}),[t],[e]);return a.createElement(a.Fragment,null,a.createElement(vw.AdditionalAction,{inputLegend:n(".select"),onClick:o,narrationText:[n(".reject"),n(".buttonSiblings",["1","2"])].join(" . "),testId:"player-list-item-reject-button"},a.createElement(vw.Cell,{align:"center"},a.createElement(Np,{className:Vw}),a.createElement(fm,{align:"center",type:"captionTiny"},n(".ignore")))),a.createElement(vw.AdditionalAction,{inputLegend:n(".select"),onClick:l,narrationText:[n(".accept"),n(".buttonSiblings",["2","2"])].join(" . "),testId:"player-list-item-accept-button"},a.createElement(vw.Cell,{align:"center"},a.createElement(Nf,{className:Vw}),a.createElement(fm,{align:"center",type:"captionTiny"},n(".accept")))))}function Nk({Icon:e,text:t}){return a.createElement(vw.Cell,{direction:"row"},a.createElement(e,{className:"eL7_E"}),a.createElement(fm,{variant:"dimmer",type:"captionShort",className:"Xz2Nl"},t))}function Rk(e,t,n){let a=null==e?0:e.length;if(!a)return[];(t=null==t?0:t)<0&&(t=-t>a?0:a+t),(n=(n=null==n?a:n)>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;let r=-1;const l=new Array(a);for(;++r<a;)l[r]=e[r+t];return l}let _k,Lk;!function(e){e[e.Unknown=0]="Unknown",e[e.NotPlayed=1]="NotPlayed",e[e.HasPlayed=2]="HasPlayed"}(_k||(_k={})),function(e){e[e.Unavailable=0]="Unavailable",e[e.Loading=1]="Loading",e[e.Ready=2]="Ready",e[e.Error=3]="Error"}(Lk||(Lk={}));const Dk=(0,r.sharedFacet)("vanilla.friendsListFacet");function Wk(e){return Rk(e,0).sort(Bk)}function Bk(e,t){return null==e.playingOnServerId&&null!=t.playingOnServerId?1:null!=e.playingOnServerId&&null==t.playingOnServerId?-1:0}function Uk(e){return Rk(e,0).sort(zk)}function zk(e,t){const n=null!=e.playingOnServerId,a=null!=t.playingOnServerId;return n&&!a?-1:!n&&a?1:function(e,t){return e.favoriteStatus===Tc.FAVORITE&&t.favoriteStatus!==Tc.FAVORITE?-1:t.favoriteStatus===Tc.FAVORITE&&e.favoriteStatus!==Tc.FAVORITE?1:e.presence===Pc.Online&&t.presence===Pc.Away?-1:t.presence===Pc.Online&&e.presence===Pc.Away?1:0}(e,t)}function jk(){return(0,r.useFacetMap)((e=>Xw(e.platform)||qw(e.platform)),[],[(0,r.useSharedFacet)(il)])}function Hk({ownerId:e,platformId:t}){const n=(0,r.useFacetWrap)(null!=e?e:""),a=(0,r.useFacetWrap)(null!=t?t:""),l=(0,r.useFacetCallback)((e=>(t,n)=>{e.subscribeToProfile(t,n)}),[],[(0,r.useSharedFacet)(Oc)]);(0,r.useFacetEffect)(((e,t)=>{(e||t)&&l(e,t)}),[l],[n,a]);const o=(0,r.useFacetMap)(((e,t)=>({xuid:e,platformId:t})),[],[n,a]),i=Vk(o),c=(0,r.useFacetMap)((e=>(null==e?void 0:e.state.xblState)===Ic.Loaded||(null==e?void 0:e.state.platformState)===Ic.Loaded),[],[i]),s=(0,r.useFacetMap)((e=>{return null==(t=null==e?void 0:e.data)?"":""!==t.xblProfilePic?t.xblProfilePic:null!==(n=t.platformProfilePic)&&void 0!==n?n:"";var t,n}),[],[i]);return{ownerDetails:i,isLoaded:c,profileName:(0,r.useFacetMap)((e=>{return null==(t=null==e?void 0:e.data)?"":""!==t.xblName?t.xblName:null!==(n=t.platformName)&&void 0!==n?n:"";var t,n}),[],[i]),avatarSource:s}}function Vk(e){return(0,r.useFacetMap)(((e,t)=>{const{xuid:n,platformId:a}=t;return""===n&&""===a?e.playerProfiles.find((e=>""===e.data.platformId&&""===e.data.xuid))||null:""!=a?e.playerProfiles.find((e=>e.data.platformId===a))||null:e.playerProfiles.find((e=>e.data.xuid===n))||null}),[],[(0,r.useSharedFacet)(Oc),e])}function Gk(){const e=(0,r.useSharedFacet)(Oc),t=(0,r.useSharedFacet)(hu);return(0,r.useFacetMap)(((e,t)=>t.isLoggedInWithMicrosoftAccount?e.playerProfiles.find((e=>e.data.xuid===t.currentXuid))||null:e.playerProfiles.find((e=>e.data.platformId===t.currentPlatformId))||null),[],[e,t])}function $k(e){return(0,r.useFacetMap)(((e,t)=>t.map((t=>{const{xuid:n,platformId:a}=t;return""===n&&""===a?e.playerProfiles.find((e=>""===e.data.platformId&&""===e.data.xuid))||null:""!==a?e.playerProfiles.find((e=>e.data.platformId===a))||null:e.playerProfiles.find((e=>e.data.xuid===n))||null}))),[],[(0,r.useSharedFacet)(Oc),e])}const Kk=(0,r.createFacet)({initialValue:{friendOfFriendWorlds:[]}});function Xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Yk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xk(Object(n),!0).forEach((function(t){qk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qk(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qk(e=!1){const t=function(e){const t=(0,r.useSharedFacet)(Oi),n=(0,r.useFacetMap)((e=>e.friendOfFriendWorlds.map((({ownerId:e,joinId:t})=>({xuid:e,platformId:e,joinId:t})))),[],[e?t:Kk]),a=(0,r.useFacetCallback)((e=>t=>e.subscribeToProfile(t,t)),[],[(0,r.useSharedFacet)(Oc)]);return(0,r.useFacetEffect)((e=>e.forEach((e=>a(e.xuid)))),[a],[n]),(0,r.useFacetMap)(((e,t)=>e.filter((e=>null!=e)).map((e=>e.data)).map((e=>t=>{var n;return{isFriendOfFriend:!0,xuid:t.xuid,gamerTag:t.xblName||t.platformName,gamerIcon:t.xblProfilePic||t.platformProfilePic,isCurrentlyPlaying:!0,titleHistory:_k.HasPlayed,favoriteStatus:Tc.UNKNOWN,presenceMessage:"",presence:Pc.Online,titleName:t.titleName,playingOnServerId:null===(n=e.find((e=>e.xuid==t.xuid)))||void 0===n?void 0:n.joinId}})(t))),[],[$k(n),n])}(e),n=(0,r.useFacetMap)(((e,t)=>Yk(Yk({},e),{},{friendsOfFriends:t})),[],[(0,r.useSharedFacet)(Dk),t]),a=(0,r.useFacetMap)(((e,t,n)=>function(e,t,n){return function(...e){const t=[];return e.forEach((e=>e.forEach((e=>t.push(e))))),t}(t.isLoggedInWithMicrosoftAccount&&null!=e.xblFriends?e.xblFriends:[],n&&null!=e.platformFriends?e.platformFriends:[],e.friendsOfFriends)}(e,n,t)),[],[n,jk(),(0,r.useSharedFacet)(hu)]);return{friends:a,friendsOnline:(0,r.useFacetMap)((e=>e.filter((e=>(e.presence===Pc.Online||e.presence===Pc.Away)&&e.titleHistory==_k.HasPlayed))),[],[a]),friendsOffline:(0,r.useFacetMap)((e=>e.filter((e=>e.presence===Pc.Offline&&e.titleHistory==_k.HasPlayed))),[],[a]),isLoading:(0,r.useFacetMap)((e=>e.xblLoadingState==Lk.Loading||e.platformLoadingState==Lk.Loading),[],[n]),isReady:(0,r.useFacetMap)((e=>e.xblLoadingState===Lk.Ready||e.platformLoadingState==Lk.Ready),[],[n]),isUnavailable:(0,r.useFacetMap)((e=>e.xblLoadingState===Lk.Unavailable||e.platformLoadingState==Lk.Unavailable),[],[n])}}const Jk={dropdownItem:"moJUx",show:"xHktl",hide:"iKBVs",image:"i1lO6",imageDisabled:"e5iy2"};function Zk({item:e,onClick:t,isSelectable:n=!0,isSelected:l,soundEffectPressed:o,soundEffectHovered:i,role:c="inherit",onFocusChanged:s,disabled:u,gamepadIndex:d,itemTypeNarration:m,testId:p}){const{t:f}=ec("DropdownItem"),g=(0,r.useFacetWrap)(e),E=(0,r.useFacetWrap)(l),h=(0,r.useFacetWrap)(n),v=(0,r.useFacetWrap)(u),b=(0,r.useFacetMap)((e=>e.gamepadAlias),[],[g]),y=(0,r.useFacetMap)((e=>e.label),[],[g]),F=(0,r.useFacetMap)((e=>e.imageSource),[],[g]),S=(0,r.useFacetMap)((e=>e.Icon),[],[g]),C=(0,r.useFacetWrap)(null!=m?m:""),{background:M,text:w,border:k}=Fr(c),T=kr(),I=wr(),P=(0,r.useFacetMap)(((e,t,n,a,r)=>{var l;const o=[null!=e.narrationText?e.narrationText:e.label,""!==r&&null!=r?r:f(".elementType"),e.enumeration];return t&&o.push(f(n?".selected":".unselected")),o.push(null!==(l=e.description)&&void 0!==l?l:"",a?f(".disabled"):""),o.filter(Boolean).join(" . ")}),[f],[g,h,E,v,C]),x=(0,r.useFacetMap)(((e,t)=>Dr()(Jk.dropdownItem,M.interactive,k.interactive,I.dimmest,{[T.selected]:e,[T.disabled]:t})),[M.interactive,k.interactive,T.selected,I.dimmest,T.disabled],[E,v]),O=(0,r.useFacetMap)((e=>e?Jk.show:Jk.hide),[],[E]),A=(0,r.useFacetMap)((e=>Dr()(Jk.image,{[Jk.imageDisabled]:e})),[],[v]),N=(0,r.useFacetCallback)((e=>e?()=>null:t),[t],[v]);return a.createElement(em,{className:x,classNameFocused:Dr()(Jk.dropdownFocusedItem,Zm),classNameHovered:Jk.dropdownItemHover,gamepadIndex:d,gamepadAlias:b,narrationText:P,inputLegend:f(".select"),onClick:N,soundEffectPressed:o,soundEffectHovered:i,onFocusChanged:s,"data-testid":p},a.createElement(Jm,{role:c}),a.createElement(lg,{imageSource:F,icon:S,className:A}),a.createElement(am,{className:w.interactive},y),a.createElement(r.Mount,{when:h},a.createElement("fast-div",{className:O},a.createElement(Nf,null))))}const eT=({item:e,onChange:t,currentValue:n,isSelectable:l=!0,soundEffectPressed:o,soundEffectHovered:i,onFocusChanged:c,disabled:s,gamepadIndex:u,itemTypeNarration:d,testId:m})=>{const p=(0,r.useFacetCallback)((e=>()=>{t(e.value)}),[t],[e]),f=(0,r.useFacetWrap)(s),g=(0,r.useFacetMap)((e=>e?-1:u+1),[u],[f]),E=(0,r.useFacetWrap)(n),h=(0,r.useFacetWrap)(l);return a.createElement(Zk,{item:e,isSelected:(0,r.useFacetMap)(((e,t)=>e.isSelected||e.value===t),[],[e,E]),isSelectable:h,gamepadIndex:g,onClick:p,soundEffectPressed:o,soundEffectHovered:i,onFocusChanged:c,disabled:f,itemTypeNarration:d,testId:m})};function tT(){return tT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tT.apply(this,arguments)}function nT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function aT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nT(Object(n),!0).forEach((function(t){rT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rT(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lT({title:e,isOpen:t,items:n,onClose:l,onItemSelect:o,itemTypeNarration:i,closeButtonNarrationSuffix:c,focusOnSelectedItem:s=!1}){const{t:u}=ec("ModalMenu"),d=(0,r.useFacetWrap)(t),m=(0,r.useFacetWrap)(n),p=Fr("neutral50"),f=(0,a.useRef)(null),[g,E]=function(e){const[t,n]=(0,r.useFacetState)(""),a=cd(4.8);return[t,(0,r.useFacetCallback)((t=>()=>{var a;const r=null==e?void 0:e.current,l=null==e||null===(a=e.current)||void 0===a?void 0:a.parentElement;if(!r||!l)return;const o=r.getBoundingClientRect().height,i=l.getBoundingClientRect().height;if(i<o){const e=Math.floor(i/t)*t-t/2;n(`${e}px`)}}),[e,n],[a])]}(f);pd(f,E);const h=(0,r.useFacetMemo)((e=>e.map(((t,n)=>{var a;return aT(aT({},t),{},{enumeration:null!==(a=t.enumeration)&&void 0!==a?a:u(".enumeration",[`${n+1}`,`${e.length}`]),gamepadAlias:null!=t.gamepadAlias?`${t.gamepadAlias}-${n}`:`modal-menu-${n}`})}))),[u],[m]),v=(0,r.useFacetMemo)((e=>{var t,n;if(s)return null!==(t=null===(n=e.find((e=>e.isSelected)))||void 0===n?void 0:n.gamepadAlias)&&void 0!==t?t:""}),[s],[h]);return a.createElement(r.Mount,{when:d},a.createElement(vE,{defaultFocusAlias:v,onOverlayClick:l,modalTypeNarrationHint:u(".modalTypeHint")},a.createElement(vE.Header,{onClose:l,closeButtonNarrationSuffix:c},e),a.createElement(vE.Content,{role:"neutral100",scrollbarBackgroundRole:"neutral80",scrollbarClassName:"c0ycF",className:"iXek1"},a.createElement("fast-div",{ref:f,className:"wZqdF",style:{maxHeight:g}},a.createElement(Xa,{role:"neutral60"},a.createElement(r.Map,{array:h},((e,t)=>a.createElement(oT,{key:t,item:e,gamepadIndex:t,onChange:o,itemTypeNarration:null!=i?i:u(".elementType")}))),a.createElement("div",{className:Dr()("NrdmD",p.background.base)}))))))}const oT=e=>{let{item:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["item"]);const l=Cr("neutral"),o=(0,r.useFacetWrap)(t),i=(0,r.useFacetMap)((({disabled:e})=>!!e),[],[o]);return a.createElement(r.DeferredMount,null,a.createElement(eT,tT({},n,{item:o,currentValue:-1,isSelectable:(0,r.useFacetMap)((e=>!0===e.isSelectable),[],[o]),soundEffectPressed:l.press,soundEffectHovered:l.hover,disabled:i,testId:(0,r.useFacetMap)((e=>e.testId),[],[o])})))};let iT;!function(e){e[e.AddFriend=0]="AddFriend",e[e.SendMessage=1]="SendMessage",e[e.Mute=2]="Mute",e[e.PromoteToLeader=3]="PromoteToLeader",e[e.RemoveFromParty=4]="RemoveFromParty"}(iT||(iT={}));const cT=Km((({onClose:e,title:t,menuPlayer:n})=>{const l=(0,r.useFacetWrap)(t),o=(0,r.useFacetWrap)(!1),i=(0,r.useSharedFacet)(_c),c=function(e){const{t}=ec("PartyTab.PlayerOptionsMenu");return(0,r.useFacetMap)((e=>{const n=[];return e&&n.push({label:t(".promoteToLeader"),value:iT.PromoteToLeader,gamepadAlias:"party-player-menu-options-promote",enumeration:t(".optionsEnumeration",["1","5"])},{label:t(".removeFromParty"),value:iT.RemoveFromParty,gamepadAlias:"party-player-menu-options-remove",enumeration:t(".optionsEnumeration",["2","5"])}),n.push({label:t(".addFriend"),value:iT.AddFriend,gamepadAlias:"party-player-menu-options-add",enumeration:t(".optionsEnumeration",[(n.length+1).toString(),(n.length+3).toString()])},{label:t(".sendMessage"),value:iT.SendMessage,gamepadAlias:"party-player-menu-options-message",enumeration:t(".optionsEnumeration",[(n.length+2).toString(),(n.length+3).toString()])},{label:t(".mute"),value:iT.Mute,gamepadAlias:"party-player-menu-options-mute",enumeration:t(".optionsEnumeration",[(n.length+3).toString(),(n.length+3).toString()])}),n}),[t],[e])}(o),s=(0,r.useFacetCallback)(((t,n)=>a=>{if(e(),null!=t)switch(a){case iT.AddFriend:n.addFriend(t.xuid,Rc.SOCIALDRAWER_OPENPARTY);break;case iT.Mute:n.mute(t.xuid);break;case iT.PromoteToLeader:console.log(`promote to leader ${null==t?void 0:t.gamerTag}`);break;case iT.RemoveFromParty:console.log(`remove from party ${null==t?void 0:t.gamerTag}`);break;case iT.SendMessage:console.log(`send message ${null==t?void 0:t.gamerTag}`)}}),[e],[n,i]);return a.createElement(lT,{isOpen:!0,title:l,items:c,onClose:e,onItemSelect:s})}));function sT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function uT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sT(Object(n),!0).forEach((function(t){dT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dT(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mT({role:e="neutral80"}){const{t}=ec("PartyTab"),n=Fr(e),l=(0,r.useSharedFacet)(uw),o=(0,r.useFacetMap)((e=>e.partyPrivacy),[],[l]),{friends:i,friendsOnline:c,friendsOffline:s}=Qk(),u=["party-member","invited","received-invites"],d=(0,r.useFacetMap)(((e,n,a,r)=>[{role:"informative",title:r===dw.InviteOnly?t(".inviteOnlyParty"):t(".openParty"),data:e.slice(0,3).map(((e,t)=>uT(uT({},e),{},{variant:0===t?"self":"party-options"})))},{role:"informative",title:t(".invited"),data:n.slice(0,3).map((e=>uT(uT({},e),{},{variant:"party-drawer-sent-invite"})))},{role:"noticeTint",title:t(".receivedInvites"),data:a.slice(0,3).map((e=>uT(uT({},e),{},{variant:"party-received-invite"})))},{role:"noticeTint",title:t(".joinableParties"),data:a.slice(0,3).map((e=>uT(uT({},e),{},{variant:"party-joinable"})))}]),[t],[i,c,s,o]),m=cT.useModal(),[p,f]=(0,r.useFacetState)(null),[g,E]=(0,r.useFacetState)(""),h=(0,r.useFacetCallback)((e=>n=>{m.show();const a=e[0].data[n];f(a),E(t(".optionsForPlayer",[a.gamerTag]))}),[m,f,E,t],[d]);return a.createElement(a.Fragment,null,a.createElement("div",{className:Dr()("QYuTF",n.background.base,n.border.base)},a.createElement("div",{className:"rbixx"},a.createElement(pw,{gamepadAlias:"party-tab-list",data:d,sectionSeparator:a.createElement(om,{size:2}),renderSectionHeader:(e,t)=>a.createElement(eF,{role:t,label:e}),renderItem:({itemFacet:e,index:t,listLengthFacet:n,sectionIndex:r})=>a.createElement(Ck,{profileEntryPoint:xc.SocialDrawer_PartyTab,gamepadAlias:`${u[r]}-${t}`,item:e,index:t,listLength:n,testId:`party-list-${r}-item-${t}`,onAdditionalActionClick:0===r?()=>h(t):void 0})}))),a.createElement(r.Mount,{when:m.isVisible},a.createElement(cT.Component,{onClose:m.hide,menuPlayer:p,title:g})))}const pT=n.p+"assets/icon-settings-37025.png";function fT(){return fT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fT.apply(this,arguments)}const gT=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("hBf62",t);return a.createElement(Mp,fT({},n,{className:r,src:pT,imageRendering:"pixelated"}))};function ET(){return ET=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ET.apply(this,arguments)}function hT(e){let{children:t,className:n,variant:r="neutral",isElevated:l=!1}=e,o=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["children","className","variant","isElevated"]);return a.createElement(ag,ET({variant:r},o,{containerClassName:Dr()("oVNTE",n),className:"bYpjn",reflection:l?void 0:"bevel",isElevated:l}),a.createElement(Xa,{role:r},t))}const vT="hMjux";function bT({closeDrawer:e}){const{t}=ec("SocialDrawerHeader"),n=m(),l=(0,r.useFacetCallback)(((e,t)=>()=>{t.isLoggedInWithMicrosoftAccount||!Xw(e.platform)&&!qw(e.platform)?n.push("/add-friend"):n.push("/sign-in-add-friend")}),[n],[(0,r.useSharedFacet)(il),(0,r.useSharedFacet)(hu)]);return a.createElement("div",{className:"tMCn1"},a.createElement(Vf,{value:"",narrationText:t(".narration.search"),onFocus:l,placeholder:t(".searchForPeople"),placeholderIcon:Hf.MagnifyingGlass}),a.createElement(om,{size:2}),a.createElement("div",{className:vT},a.createElement(hT,{height:4.4,narrationText:t(".narration.socialSettings"),inputLegend:t(".socialSettings")},a.createElement(gT,null))),a.createElement(om,{size:2}),a.createElement("div",{className:vT},a.createElement(hT,{height:4.4,narrationText:t(".narration.close"),onClick:e,inputLegend:t(".close")},a.createElement(Np,null))))}function yT({role:e="inherit",reversed:t=!0}){const n=Fr(e),r=wr();return a.createElement("fast-div",{className:"Fk8ro"},a.createElement("fast-div",{className:Dr()("TPz7W",n.bevel.base,t?r.reversed:void 0)}))}function FT({title:e,roleNarrationOverride:t,description:n,buttons:l,stackedButtons:o=!1,border:i=!1}){const c=(0,r.useFacetMap)(((e,t,n)=>[e,t,n].filter((e=>e)).join(" . ")),[],[(0,r.useFacetWrap)(e),(0,r.useFacetWrap)(null!=t?t:""),(0,r.useFacetWrap)(null!=n?n:"")]);return a.createElement(Kf,{border:i,narrationText:c},null!=e&&a.createElement(Yf,null,e),null!=n&&a.createElement(qf,null,n),null!=l&&a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement("div",{className:o?"YPysf":"KIftG"},l)))}FT.ButtonSpacing=function(){return a.createElement(om,{size:2})};function ST({tab:e,stackedButtons:t=!1}){const{t:n}=ec("PlayScreen"),l=CT(e),o=wT(e),i=(0,r.useFacetMap)((e=>e.isDevBuild||e.isAnyBeta),[],[(0,r.useSharedFacet)(di)]);return a.createElement(r.Mount,{when:i},a.createElement(FT,{border:!0,stackedButtons:t,title:n(".designPreviewTitle"),description:n(".designPreviewDescription"),buttons:a.createElement(a.Fragment,null,a.createElement(mg,{inputLegend:`${n(".designPreviewInputLegend")}`,horizontal:!t,onClick:l,Icon:nM.ExternalLink,gamepadIndex:0},n(".feedbackButton")),a.createElement(FT.ButtonSpacing,null),a.createElement(mg,{inputLegend:`${n(".designPreviewInputLegend")}`,horizontal:!t,onClick:o,gamepadIndex:1},n(".optOutButton")))}))}function CT(e){const t=(0,r.useSharedFacet)(yu),n=Ju();return(0,r.useFacetCallback)((t=>()=>{n({button:"Feedback",screen:"Play"}),t.openLink(function(e){switch(e){case"friends":return bu.FriendsDrawerFeedbackPage;case"servers":return bu.ServersTabFeedbackPage;case"realms":return bu.RealmsTabFeedbackPage;case"template":return bu.StartFromTemplateFeedbackPage;default:return bu.PlayScreenFeedbackPage}}(e))}),[n,e],[t])}function MT({tab:e,borderless:t=!1,transparent:n=!1}){const{t:l}=ec("PlayScreen"),o=CT(e),i=`${l(".designPreviewShortDescription")}`,{background:c,border:s}=Fr("neutral"),u=Mr("panel","neutral"),d=Dr()("UfghS",!t&&"PgFzj",s.base,!n&&c.base,u.main.base),m=(0,r.useFacetMap)((e=>e.isDevBuild||e.isAnyBeta),[],[(0,r.useSharedFacet)(di)]);return a.createElement(r.Mount,{when:m},a.createElement(wf,{text:i},"friends"===e&&a.createElement(om,{size:3}),a.createElement("div",{className:d},a.createElement(om,{size:2}),a.createElement(mg,{inputLegend:`${l(".designPreviewInputLegend")}`,onClick:o,Icon:nM.ExternalLink,gamepadIndex:0},l(".feedbackButton")),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionShort",role:"neutral",variant:"dimmest",align:"center"},l(".designPreviewShortDescription")),a.createElement(om,{size:2}))))}function wT(e){const t=m(),n=(0,r.useSharedFacet)(Us),a=Ju();return(0,r.useFacetCallback)((n=>()=>{a({button:"OptOut",screen:"Play"}),n.selectTechStackForScreen(Ws.PlayScreen,Bs.JsonUI),t.replace("/play/"+e)}),[t,e,a],[n])}function kT({screenAnalyticsId:e}){const t=m(),{t:n}=ec("AddFriendsButton"),l=Ju(),o=Tv(Ii.NewFriendsDrawer),i=(0,r.useFacetCallback)(((n,a)=>()=>{a.isLoggedInWithMicrosoftAccount||!Xw(n.platform)&&!qw(n.platform)?(l({button:"SearchForPlayers",screen:e}),t.push("/add-friend")):t.push("/sign-in-add-friend")}),[l,t,e],[(0,r.useSharedFacet)(il),(0,r.useSharedFacet)(hu)]);return a.createElement("div",{className:"m4W_o"},a.createElement(mg,{variant:o?"secondary":"primary",onClick:i,Icon:o?nM.Search:void 0,gamepadIndex:0,inputLegend:n(".searchForFriends"),"data-testid":"friends-drawer-add-friends-button"},n(".searchForFriends")))}const TT=n.p+"assets/no-friends-empty-state-4846a.png";function IT({screenAnalyticsId:e}){const{t}=ec("EmptyFriendList");return a.createElement(wf,{text:t(".noFriendsCaption")},a.createElement(MT,{tab:"friends"}),a.createElement(om,{size:2}),a.createElement("div",{className:"ehTn3"},a.createElement(fm,{type:"body",align:"center"},t(".noFriendsCaption")),a.createElement(om,{size:4}),a.createElement(Mp,{imageRendering:"pixelated",src:TT,className:"urKKV"}),a.createElement(om,{size:4}),a.createElement(kT,{screenAnalyticsId:e})))}const PT=n.p+"assets/arrowForward-03da5.png",xT=n.p+"assets/arrowForwardDisabled-779d8.png";function OT(){return OT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},OT.apply(this,arguments)}const AT=e=>{let{className:t,disabled:n}=e,l=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className","disabled"]);const o=(0,r.useFacetWrap)(null!=n&&n),i=Ip("eEBDH",t);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:o},a.createElement(Mp,OT({},l,{className:i,src:xT,imageRendering:"pixelated"}))),a.createElement(r.Mount,{when:o,condition:!1},a.createElement(Mp,OT({},l,{className:i,src:PT,imageRendering:"pixelated"}))))};const NT="...",RT=({index:e,totalPages:t,currentPage:n,onChange:l,role:o="neutral"})=>{const i=Cr(o),c=Fr(o),{t:s}=ec("Pagination"),u=(0,r.useFacetMap)(((t,n)=>((e,t,n)=>{const a=String(n+1);if(0===n)return a;if(6===n)return String(e);if(e<=7)return a;if(t>=4&&1===n)return NT;if(t<=e-3){if(5===n)return NT;if(Array.from({length:e-6},((e,t)=>t+4)).includes(t))switch(n){case 2:return String(t+4-5);case 3:return String(t+4-4);case 4:return String(t+4-3)}return a}return String(n+(e-6))})(n,t,e)),[e],[n,t]),d=(0,r.useFacetMap)(((e,t)=>e===String(t)),[],[u,n]),m=(0,r.useFacetCallback)(((t,n,a,r)=>()=>{n||l(t!==NT||1!==e?t!==NT||5!==e?Number(t):Math.min(a+5,r):Math.max(a-5,1))}),[e,l],[u,d,n,t]),p=(0,r.useFacetMap)(((t,n,a,r)=>t===NT&&1===e?s(".skipPrevious",[String(Math.max(a-5,0))]):t===NT&&5===e?s(".skipNext",[String(Math.min(a+5,r)),String(r)]):[s(".index",[t,String(r),s(n?".selected":".unselected")])].join(" . ")),[e,s],[u,d,n,t]),f=(0,r.useFacetMap)((e=>Dr()(c.background.base,c.text.base,c.border.base,e?"uvCnl":[c.background.hover,c.background.press,c.text.hover,c.text.press,c.border.hover,c.border.press])),[c],[d]),g=(0,r.useFacetMap)((e=>!1===e?i.press:void 0),[i],[d]),E=(0,r.useFacetMap)((e=>!1===e?i.hover:void 0),[i],[d]),h=(0,r.useFacetMap)((e=>!1===e?i.focus:void 0),[i],[d]);return a.createElement(em,{narrationText:p,"data-testid":`pagination-index-${e}`,gamepadIndex:e+1,inputLegend:s(".currentPage",[`${e+1}`]),onClick:m,classNameFocused:Zm,className:f,soundEffectPressed:g,soundEffectHovered:E,soundEffectFocused:h},a.createElement(Jm,null),a.createElement(r.Mount,{condition:!1,when:d},a.createElement(cp,{effect:"bevel"})),a.createElement("div",{className:"fBAuV"},a.createElement(r.Mount,{when:d},a.createElement("fast-div",{className:Dr()("UNmNG",c.icon.base)})),a.createElement(fm,{type:"body"},u)))},_T=e=>{let{direction:t,narrationText:n,disabled:l,inputLegend:o,onClick:i,gamepadIndex:c,disabledNarration:s}=e,u=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["direction","narrationText","disabled","inputLegend","onClick","gamepadIndex","disabledNarration"]);const d=(0,r.useFacetMap)(((e,t,n)=>e?n:t),[],[l,n,s]);return a.createElement("div",{className:"XM_PG"},a.createElement(ag,{height:4,isElevated:!0,narrationText:d,variant:"secondary","data-testid":u["data-testid"],disabled:l,inputLegend:o,onClick:i,gamepadIndex:c},a.createElement("div",{className:"zHOXo"},"next"===t?a.createElement(AT,{disabled:l,className:"AYHNu"}):a.createElement(Nv,{className:"KCWC4",disabled:l}))))},LT=({onChange:e,totalPages:t=1,currentPage:n=1,role:l="neutral",counterStyle:o="indices-list",unlockMaxWidth:i=!1,prevNarrationSuffix:c="",nextNarrationSuffix:s="",narrateTotalOnChange:u=!1,narrateContextOnChange:d=!1,triggerShortcuts:m=!1,middleSpacingsSize:p=4})=>{const f=(0,r.useFacetWrap)(o),g=(0,r.useFacetWrap)(n),E=(0,r.useFacetWrap)(t),h=Fr(l),v=tt(),b=(0,a.useContext)(qe).isPointerInputTouch,{narrateText:y}=gf({interruptible:!1}),{narrateCurrentContext:F}=zd(),S=sd(),C=(0,r.useFacetWrap)(i),M=(0,r.useFacetWrap)(c),w=(0,r.useFacetWrap)(s),k=(0,r.useFacetWrap)(u),T=(0,r.useFacetWrap)(d),{t:I}=ec("Pagination"),P=(0,a.useRef)(null),x=(0,r.useFacetMap)((e=>Array.from({length:Math.min(e,7)},((e,t)=>t))),[],[E]),O=(0,r.useFacetCallback)(((t,n,a,r)=>()=>{if(t>0){const l=Math.max(t-1,0);e(l);const o=a?I(".nowOnPageOf",[String(l),String(n)]):I(".nowOnPage",[String(l)]),i=l>1?I(".previousPage",[String(l-1)]):I(".previousPageDisabled");y(o),r&&F(void 0,!1),y(i)}}),[F,y,e,I],[g,E,k,T]),A=(0,r.useFacetCallback)(((t,n,a,r)=>()=>{if(t<n){const l=Math.min(t+1,n);e(l);const o=a?I(".nowOnPageOf",[String(l),String(n)]):I(".nowOnPage",[String(l)]),i=l>1?I(".nextPage",[String(l+1)]):I(".nextPageDisabled");y(o),r&&F(void 0,!1),y(i)}}),[F,y,e,I],[g,E,k,T]),N=(0,r.useFacetMap)(((e,t)=>e||t?`${I(".context")} . ${I(".contextHintMouse")}`:`${I(".context")} . ${I(".contextHintGamepad")}`),[I],[v,b]),R=(0,r.useFacetMap)(((e,t)=>{const n=I(".previousPage",[""+(e-1)]);return t.length>0?[n,t].join(" . "):n}),[I],[g,M]),_=(0,r.useFacetMap)(((e,t)=>{const n=I(".nextPage",[`${e+1}`]);return t.length>0?[n,t].join(" . "):n}),[I],[g,w]),L=(0,r.useFacetMap)(((e,t)=>I(".indexCounter",[`${e}`,`${t}`])),[I],[g,E]),D=(0,r.useFacetMap)((e=>e?Dr()("OGL9O"):""),[],[C]),W=(0,r.useFacetWrap)(m),B=(0,r.useFacetMap)((e=>1===e),[],[g]),U=(0,r.useFacetMap)(((e,t)=>e===t),[],[g,E]),z=(0,r.useFacetMap)((e=>({button:j.LEFT_TRIGGER,inputLegend:I(".previousPageInputLegend"),disabled:e})),[I],[B]),H=(0,r.useFacetMap)((e=>({button:j.RIGHT_TRIGGER,inputLegend:I(".nextPageInputLegend"),disabled:e})),[I],[U]);return a.createElement(r.Mount,{when:(0,r.useFacetMap)(((e,t)=>e>1||"hide-counter"===t),[],[E,f])},a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:W},a.createElement(a.Fragment,null,a.createElement(Sf,{options:z,onClick:O}),a.createElement(Sf,{options:H,onClick:A}))),a.createElement(wf,{text:N},a.createElement("fast-div",{className:D,ref:P},a.createElement("div",{className:"EH7DY"},a.createElement(_T,{direction:"previous",disabled:B,disabledNarration:(0,r.useFacetWrap)(I(".previousPageDisabled")),inputLegend:(0,r.useFacetWrap)(I(".previousPageInputLegend")),narrationText:R,onClick:O,"data-testid":"pagination-button-left",gamepadIndex:0}),a.createElement(om,{size:p}),a.createElement(wl,{data:f},(t=>{switch(t){case"indices-list":return a.createElement(a.Fragment,null,a.createElement("div",{className:"lQDP_"},a.createElement("div",{className:"A_Lrf"},a.createElement("div",{className:"hqAey"},a.createElement(r.Map,{array:x},((t,n)=>a.createElement(RT,{role:l,currentPage:g,totalPages:E,index:n,onChange:e})))))));case"index-counter":case"index-counter-no-border":return a.createElement(a.Fragment,null,"narrow"!==S&&a.createElement(fm,{className:Dr()("JRfbL","index-counter-no-border"===t?[]:["cy0Fh",h.background.base,h.border.base]),align:"center",verticalAlign:"center",type:"body"},a.createElement("fast-text",{text:L})));default:return a.createElement(a.Fragment,null)}})),a.createElement(om,{size:p}),a.createElement(_T,{direction:"next",disabled:U,disabledNarration:(0,r.useFacetWrap)(I(".nextPageDisabled")),inputLegend:(0,r.useFacetWrap)(I(".nextPageInputLegend")),narrationText:_,onClick:A,"data-testid":"pagination-button-right",gamepadIndex:(0,r.useFacetMap)((e=>e+2),[],[E])}))))))},DT=(0,a.createContext)({linkCount:0,setLinkCount:()=>{}}),WT=DT.Provider;function BT({children:e,gamepadIndex:t,disabled:n,onClick:l,withUnderlinePolyfill:o,soundEffectPressed:i,inputLegend:c,focusRefOverride:s,narrationText:u,narrationSuffix:d,__testAlias:m,role:p="inherit","data-testid":f}){const{t:g}=ec("Link"),E=Fr(p),h=Sr(p),v=Cr(p),b=(0,r.useFacetMap)(((e,t,n)=>{const a=[null!=e?e:n,g(".narrationComponentType")];return null!=t&&a.push(t),a.join(" . ")}),[g],[(0,r.useFacetWrap)(u),(0,r.useFacetWrap)(d),(0,r.useFacetWrap)(e)]),y=h.text.regular.default,F=(0,a.useMemo)((()=>({textDecorationColor:y})),[y]);return a.createElement(em,{tag:"span",className:Dr()("iTfr1",E.highlight.hover,E.text.base,{UEzHB:!1,zaq0M:o,_d1Tg:o&&!1}),gamepadAlias:m,classNameFocused:Dr()(Zm,"vLdsX"),gamepadIndex:t,focusRefOverride:s,inputLegend:null!=c?c:g(".open"),narrationText:b,onClick:l,disabled:n,soundEffectPressed:null!=i?i:v.click,style:F,"data-testid":f},a.createElement(Jm,{role:p,disabled:n,withoutBorders:!0}),(0,r.isFacet)(e)?a.createElement("fast-text",{text:e}):e,o&&a.createElement("div",{className:Dr()("BeCTv"),style:{borderBottomColor:y}}))}const UT=n.p+"assets/cross-c49fd.png";function zT(){return zT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zT.apply(this,arguments)}const jT=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("oxTd5",t);return a.createElement(Mp,zT({},n,{className:r,src:UT,imageRendering:"pixelated"}))};function HT(e){const{role:t="inherit",onClick:n}=e,{t:r}=ec("TitleBar.Buttons.Close");return a.createElement(ep,{role:t,onClick:n,className:"Rms1Z",inputLegend:r(".inputLegend"),narrationText:r(".narration"),testId:e["data-testid"]},"noticeTint"===t?a.createElement(jT,null):a.createElement(Np,null))}HT.displayName="BannerCloseButton";function VT({children:e}){return a.createElement("div",{className:"MdKNQ"},e)}function GT(e){const{children:t,role:n,icon:l,gamepadIndex:o,__testAlias:i,onClose:c}=e,s=(0,a.useRef)(null),u=(0,a.useRef)(null),d=ia(),[m,p]=(0,a.useState)(0),f=((e,t)=>a.Children.toArray(e).length>1)(t),g=Fr(n),{t:E}=ec("Banner"),h=(0,a.useMemo)((()=>!!c||m>0),[c,m]),v=(0,r.useFacetWrap)(d&&!h),b=h?"3.2rem":"2.8rem",y=((e,t)=>{const[n,a]=(0,r.useFacetState)("default");return pd(e,(({height:e})=>{a(e>t?"spacious":"default")})),n})(u,id(parseFloat(b))),F=(0,r.useFacetMap)((e=>Dr()("geCU1",g.background.base,g.text.base,{Use2w:f||"spacious"===e})),[g,f],[y]),S=Dr()("QTWPi",{p4K3_:!!c,oQqwW:!!l,NtDiV:!!l&&!c,TP3b7:!l&&!!c}),C=()=>{let e="";return s.current&&(e=Jv(Zv(s.current))),h?e:`${e} . ${E(".narrationComponentTypeTextBox")}`},M=(0,a.useMemo)((()=>{const e={linkCount:m,setLinkCount:p};return c&&(e.linkNarrationSuffix=E(".closeButtonNarrationHint",[E(".narrationComponentTypeTextBox")])),e}),[c,E,m,p]);return a.createElement(Xa,{role:n},a.createElement(Fp,{containerRef:s},a.createElement(WT,{value:M},a.createElement("fast-div",{ref:s,className:F},a.createElement($T,{when:v,gamepadIndex:null!=o?o:0,__testAlias:i,getNarrationText:C}),a.createElement(wf,{getText:C},l&&a.createElement(VT,null,l),a.createElement("fast-div",{ref:u,className:S,style:{minHeight:b}},t),c&&a.createElement(HT,{role:n,onClick:c,"data-testid":e["close-button-test-id"]}))))))}VT.displayName="BannerIcon",GT.displayName="Banner",GT.Text=function({children:e,align:t}){return a.createElement(fm,{type:"body",role:"inherit",align:t,shouldNarrate:!0},e)},GT.Link=({children:e,onClick:t,soundEffectPressed:n,gamepadIndex:r,__testAlias:l,narrationSuffix:o,"data-testId":i,disableSpacingTop:c=!1})=>{const s=Cr("inherit"),{linkNarrationSuffix:u,setLinkCount:d}=(0,a.useContext)(DT),m=[o,u].filter(Boolean).join(" . ")||void 0;(0,a.useEffect)((()=>(d((e=>e+1)),()=>{d((e=>e-1))})),[d]);const p=Dr()({a4ohW:!c});return a.createElement(fm,{type:"body",role:"inherit",className:p},a.createElement(BT,{soundEffectPressed:null!=n?n:s.click,withUnderlinePolyfill:!0,onClick:t,gamepadIndex:null!=r?r:0,__testAlias:l,narrationSuffix:m,"data-testid":i},e))};const $T=({when:e,gamepadIndex:t,getNarrationText:n,__testAlias:l})=>{const o=Cr("inherit");return a.createElement(r.Mount,{when:e},a.createElement(em,{className:"IXYkO",classNameFocused:Zm,gamepadIndex:null!=t?t:0,gamepadAlias:l,inputLegend:!1,soundEffectPressed:o.click,getNarrationText:n},a.createElement(Jm,{inset:!0})))};function KT({screenAnalyticsId:e}){const{t}=tc("FriendsDrawer"),n=Ju(),l=m(),o=(0,r.useSharedFacet)(yu),i=(0,r.useSharedFacet)(hu),c=(0,r.useSharedFacet)(il),s=Tv(Ii.NewFriendsDrawer),u=rk(),d=(0,r.useFacetCallback)(((e,t,n)=>()=>{Yw(n.platform)?t.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(bu.ParentPermissionHelpPage)}),[],[o,i,c]),p=(0,r.useFacetCallback)(((e,t,n,a)=>()=>{t?n.showPremiumNetworkUpsellModal():Yw(a.platform)?n.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(bu.TroubleshootingMultiplayerDisabled)}),[],[o,u,i,c]),f=(0,a.useCallback)((()=>{n({screen:e,button:"SignIn"}),l.replace("/sign-in?signInSource=FriendsDrawer_NotLoggedInBanner_OreUI")}),[n,l,e]),g=(0,r.useFacetMap)(((e,t,n)=>!Xw(t.platform)||e.isLoggedInWithMicrosoftAccount||e.hasPremiumNetworkAccess?!qw(t.platform)||e.isLoggedInWithMicrosoftAccount||e.hasPremiumNetworkAccess?Xw(t.platform)&&!e.isLoggedInWithMicrosoftAccount&&e.hasPremiumNetworkAccess?"msa-guest-with-premium-playstation":qw(t.platform)&&!e.isLoggedInWithMicrosoftAccount&&e.hasPremiumNetworkAccess?"msa-guest-with-premium-nintendo":e.userPermissions.multiplayer.denyReasons.includes(fu.XboxLive)||n?"multiplayer":e.userPermissions.multiplayer.denyReasons.includes(fu.XboxLive_Parental)?"multiplayer-parental":void 0:"msa-guest-nintendo":"msa-guest-playstation"),[],[(0,r.useSharedFacet)(hu),(0,r.useSharedFacet)(il),u]),E=(0,r.useFacetMap)((e=>null!=e&&!s),[s],[g]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:E},a.createElement(om,{size:2})),a.createElement(wl,{data:g},(e=>{switch(e){case"multiplayer":return a.createElement(GT,{role:"noticeTint"},a.createElement(GT.Text,null,t(".multiplayerBanner.text")),a.createElement(GT.Link,{"data-testId":"multiplayer-troubleshooting-link",onClick:p},t(".multiplayerBanner.learnMore")));case"multiplayer-parental":return a.createElement(GT,{role:"noticeTint"},a.createElement(GT.Text,null,t(".multiplayerBanner.textParental")),a.createElement(GT.Link,{onClick:d,"data-testId":"multiplayer-parental-permission-help-link"},t(".multiplayerBanner.learnMore")));case"msa-guest-playstation":return a.createElement(GT,{role:"noticeTint"},a.createElement(GT.Text,null,t(".msaGuestPlaystationBanner")),a.createElement(GT.Link,{onClick:f,"data-testId":"login-link"},t(".bannerLogInMicrosoft")));case"msa-guest-nintendo":return a.createElement(GT,{role:"noticeTint"},a.createElement(GT.Text,null,t(".msaGuestNintendoBanner")),a.createElement(GT.Link,{onClick:f,"data-testId":"login-link"},t(".bannerLogInMicrosoft")));case"msa-guest-with-premium-playstation":case"msa-guest-with-premium-nintendo":return a.createElement(GT,{role:"noticeTint"},a.createElement(GT.Text,null,t(".msaGuestPremiumBanner")),a.createElement(GT.Link,{onClick:f,"data-testId":"login-link"},t(".bannerLogInMicrosoft")));default:return null}})))}const XT="J8yAl",YT="iyO0W";function qT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function QT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qT(Object(n),!0).forEach((function(t){JT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JT(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ZT=(0,r.createStaticFacet)([]);function eI({loading:e,drawerOpen:t,friendsOnline:n,friendsOffline:l=ZT,incomingRequests:o=ZT,outgoingRequests:i=ZT,profileEntryPoint:c,spinnerBackgroundColor:s,showSpinnerBorder:u,screenAnalyticsId:d,onItemClick:m}){const{t:p}=ec("FriendList"),f=Tv(Ii.NewFriendsDrawer),g=(0,r.useSharedFacet)(il),E=(0,r.useFacetMap)((e=>e.activeMultiplayerServiceIds.includes(ol.AdHoc)),[],[g]),h=(0,r.useFacetMap)((e=>Xw(e.platform)?"playstation":qw(e.platform)?"switch":void 0),[],[g]),v=(0,r.useFacetMap)(((e,t)=>e&&!t.isLoggedInWithMicrosoftAccount?"title":e&&t.isLoggedInWithMicrosoftAccount?"list-item":"none"),[],[jk(),(0,r.useSharedFacet)(hu)]),b=(0,a.useRef)(null),{delegationEventFacet:y,delegateFocus:F}=mp(),S=(0,a.useCallback)((()=>{b.current&&(b.current.scrollTop=0,F.first())}),[b,F]),{currentPage:C,totalPages:M,currentOnlineFriendsData:w,currentOfflineFriendsData:k,changeFriendsPage:T,reset:I}=function({friendsPerPage:e,friendsOnline:t,friendsOffline:n,onPagination:l}){const[o,i]=(0,r.useFacetState)(1),c=(0,r.useFacetMap)(((t,n)=>Math.ceil((t.length+n.length)/e)),[e],[t,n]),s=(0,r.useFacetMemo)(((t,n,a)=>{const r=[...Wk(t),...n];return function({currentPage:e,friendsPerPage:t,friends:n}){const a=(e-1)*t,r=a+t;return n.slice(a,r)}({currentPage:a,friendsPerPage:e,friends:r})}),[e],[t,n,o]),u=(0,r.useFacetMap)((e=>e.filter((e=>e.presence===Pc.Online||e.presence===Pc.Away))),[],[s]),d=(0,r.useFacetMap)((e=>e.filter((e=>e.presence===Pc.Offline||e.presence===Pc.Unknown))),[],[s]),m=(0,r.useFacetCallback)((e=>t=>{e!==t&&(i(t),l())}),[i,l],[o]),p=(0,a.useCallback)((()=>i(1)),[i]);return(0,r.useFacetEffect)(((e,t)=>{if(e>0&&e<t){i(e);const t=setTimeout(l,30);return()=>clearTimeout(t)}}),[l,i],[c,o]),{currentPage:o,totalPages:c,currentOnlineFriendsData:u,currentOfflineFriendsData:d,changeFriendsPage:m,reset:p}}({friendsPerPage:15,friendsOnline:n,friendsOffline:l,onPagination:S}),P=(0,r.useFacetMemo)(((e,t,n,a,r,l,o)=>{let i=new Set;var c;"list-item"===r&&(i=new Set((null!==(c=o.platformFriends)&&void 0!==c?c:[]).map((e=>e.xuid))));const s=function({friendsOnline:e,friendsOffline:t,incomingRequests:n,outgoingRequests:a},r,l){return{firstSection:Uk(e).map((e=>rI(e,"player",r.has(e.xuid)?l:void 0))),secondSection:t.map((e=>rI(e,"player",r.has(e.xuid)?l:void 0))),requests:[...n.map((e=>rI(e,"received-request"))),...a.map((e=>rI(e,"sent-request")))]}}({friendsOnline:e,friendsOffline:t,incomingRequests:n,outgoingRequests:a},i,l);return s}),[],[w,k,o,i,v,h,(0,r.useSharedFacet)(Dk)]),x=Se();(0,r.useFacetLayoutEffect)(((e,t)=>{e||t||!b.current?e&&!t&&b.current&&(I(),x("own-profile")):b.current.scrollTop=0}),[b,I,F,x],[t,e]);const O=Gk(),A=(0,r.useFacetMap)(((e,t)=>null!=e&&!t),[],[O,e]),N=(0,r.useFacetMap)((e=>{var t,n,a,r,l,o,i,c;return""!==(null==e?void 0:e.data.xuid)?{xuid:null!==(t=null==e?void 0:e.data.xuid)&&void 0!==t?t:"",gamerTag:null!==(n=null==e?void 0:e.data.xblName)&&void 0!==n?n:"",gamerIcon:null!==(a=null==e?void 0:e.data.xblProfilePic)&&void 0!==a?a:"",variant:"self",favoriteStatus:Tc.NOT_FAVORITE,presence:Pc.Online,presenceMessage:"Online",titleName:null!==(r=null==e?void 0:e.data.titleName)&&void 0!==r?r:""}:{xuid:"",platformId:null!==(l=null==e?void 0:e.data.platformId)&&void 0!==l?l:"",gamerTag:null!==(o=null==e?void 0:e.data.platformName)&&void 0!==o?o:"",gamerIcon:null!==(i=null==e?void 0:e.data.platformProfilePic)&&void 0!==i?i:"",variant:"self",favoriteStatus:Tc.NOT_FAVORITE,presence:Pc.Online,presenceMessage:"Online",titleName:null!==(c=null==e?void 0:e.data.titleName)&&void 0!==c?c:""}}),[],[O]),R=(0,a.useRef)(null),_=(0,r.useFacetMap)((e=>e>1),[],[M]),L=(0,r.useFacetMemo)(((e,t,n,a,r,l,o,i)=>[QT({role:"successTint",title:p("title"===t&&n?`.online.${n}`:".online",[`${l.length}`]),narrationTitle:p("title"===t&&n?`.narration.online.${n}`:".narration.online"),narrationSuffix:p(1!=l.length?".onlineFriendsNumberMultiple":".onlineFriendsNumberSingular",[`${l.length}`]),data:e.firstSection},1===a?{emptyStateMessage:p(".noOnlineFriends")}:{}),{role:"neutral",title:p(".pending",[`${e.requests.length}`]),narrationTitle:p(".pendingFriends"),narrationSuffix:p(1!=e.requests.length?".pendingFriendsNumberMultiple":".pendingFriendsNumberSingular",[`${e.requests.length}`]),data:e.requests},QT({role:"secondary",title:p("title"===t&&n?`.offline.${n}`:".offline",[`${o.length}`]),narrationTitle:p("title"===t&&n?`.narration.offline.${n}`:".narration.offline"),narrationSuffix:p(1!=o.length?".offlineFriendsNumberMultiple":".offlineFriendsNumberSingular",[`${o.length}`]),data:e.secondSection},a!==r||i?{}:{emptyStateMessage:p(".noOfflineFriends")})]),[p],[P,v,h,C,M,n,l,E]);return a.createElement(wl,{data:E},(n=>n?a.createElement(pw,{scrollRef:b,delegateFocusByAlias:"own-profile",header:a.createElement(aI,{isFriendsDrawerSecondIteration:f,profileEntryPoint:c,screenAnalyticsId:d,shouldRenderOwnProfile:A,ownProfilePlayerItem:N,onItemClick:m}),loading:e,data:L,renderSectionHeader:(e,t)=>a.createElement("div",{className:XT},a.createElement(eF,{role:t,label:e})),renderItem:e=>a.createElement(Ck,{item:e.itemFacet,listLength:e.listLengthFacet,index:e.index,gamepadAlias:`friend-list-item-${e.sectionIndex}-${e.index}`,profileEntryPoint:c,screenAnalyticsId:d,onMainActionClick:m,testId:"friend-list-friend-profile",grayscaleAvatarWhenOffline:!0,enablePSNLogo:!0}),spinnerBackgroundColor:s,showSpinnerBorder:u}):a.createElement(pw,{scrollRef:b,delegateFocusByAlias:"own-profile",header:a.createElement(nI,{isFriendsDrawerSecondIteration:f,profileEntryPoint:c,screenAnalyticsId:d,shouldRenderOwnProfile:A,ownProfilePlayerItem:N,onItemClick:m}),footer:a.createElement(tI,{isFriendsDrawerSecondIteration:f,shouldShowPagination:_,screenAnalyticsId:d,currentPage:C,totalPages:M,changeFriendsPage:T}),loading:e,data:L,sectionsWrapper:({children:e})=>a.createElement(fp,{delegationEvent:y},a.createElement(Fp,{containerRef:R,delegateFocusFromMemory:t},a.createElement("div",{ref:R,className:"y4EeF"},e))),renderSectionHeader:(e,t)=>a.createElement("div",{className:XT},a.createElement(eF,{role:t,label:e})),renderItem:e=>a.createElement(Ck,{item:e.itemFacet,listLength:e.listLengthFacet,index:e.index,gamepadAlias:`friend-list-item-${e.sectionIndex}-${e.index}`,profileEntryPoint:c,screenAnalyticsId:d,onMainActionClick:m,testId:"friend-list-friend-profile",grayscaleAvatarWhenOffline:!0,enablePSNLogo:!0}),spinnerBackgroundColor:s,showSpinnerBorder:u})))}function tI({isFriendsDrawerSecondIteration:e,screenAnalyticsId:t,shouldShowPagination:n,totalPages:l,currentPage:o,changeFriendsPage:i}){return a.createElement(a.Fragment,null,e?a.createElement(a.Fragment,null,a.createElement(om,{size:3}),a.createElement("div",{className:"cS_UH"},a.createElement(yT,null)),a.createElement(om,{size:3}),a.createElement(kT,{screenAnalyticsId:t}),a.createElement(r.Mount,{when:n},a.createElement(a.Fragment,null,a.createElement(om,{size:3}),a.createElement(LT,{totalPages:l,currentPage:o,onChange:i}),a.createElement(om,{size:3})))):a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:n},a.createElement(a.Fragment,null,a.createElement(om,{size:3}),a.createElement(LT,{totalPages:l,currentPage:o,onChange:i}),a.createElement(om,{size:3})))),a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:1})}))}function nI({isFriendsDrawerSecondIteration:e,shouldRenderOwnProfile:t,ownProfilePlayerItem:n,profileEntryPoint:l,screenAnalyticsId:o,onItemClick:i}){const{t:c}=ec("FriendList");return a.createElement(a.Fragment,null,e?a.createElement(MT,{tab:"friends"}):a.createElement(a.Fragment,null,a.createElement(KT,{screenAnalyticsId:o}),a.createElement(MT,{tab:"friends"}),a.createElement(r.Mount,{when:t},a.createElement(a.Fragment,null,a.createElement(om,{size:3}),a.createElement("div",{className:YT},a.createElement(eF,{role:"informativeTint",label:c(".you")}),a.createElement(Ck,{item:n,listLength:(0,r.createStaticFacet)(1),index:0,gamepadAlias:"own-profile",profileEntryPoint:l,screenAnalyticsId:o,onMainActionClick:i,testId:"friend-list-own-profile"})))),a.createElement(om,{size:3}),a.createElement(kT,{screenAnalyticsId:o})))}function aI({isFriendsDrawerSecondIteration:e,shouldRenderOwnProfile:t,ownProfilePlayerItem:n,profileEntryPoint:l,screenAnalyticsId:o,onItemClick:i}){const{t:c}=ec("FriendList");return a.createElement(a.Fragment,null,e?a.createElement(r.DeferredMount,null,a.createElement(MT,{tab:"friends"})):a.createElement(a.Fragment,null,a.createElement(MT,{tab:"friends"}),a.createElement(r.Mount,{when:t},a.createElement(a.Fragment,null,a.createElement(om,{size:3}),a.createElement("div",{className:YT},a.createElement(eF,{role:"informativeTint",label:c(".you")}),a.createElement(Ck,{item:n,listLength:(0,r.createStaticFacet)(1),index:0,gamepadAlias:"own-profile",profileEntryPoint:l,screenAnalyticsId:o,onMainActionClick:i,testId:"friend-list-own-profile"}))))))}function rI(e,t,n){return{gamerIcon:e.gamerIcon,gamerTag:e.gamerTag,isInSameGame:e.isInSameGame,playingOnServerId:e.playingOnServerId,xuid:e.xuid,platformId:e.platformId,variant:t,platform:n,presence:e.presence,favoriteStatus:e.favoriteStatus,presenceMessage:e.presenceMessage,titleName:e.titleName}}const lI=n.p+"assets/sign-in-prompts-friends-01fb9.png",oI=n.p+"assets/sign-in-prompts-servers-animated-0c355.gif";function iI({gifSrc:e,imageSrc:t,className:n,aspectRatio:l,disableAnimation:o=!1}){const i=null!=l,c=(0,r.useFacetMap)(((e,t)=>!e&&t.screenAnimationEnabled),[],[(0,r.useFacetWrap)(o),(0,r.useSharedFacet)(Hn)]),s=(0,r.useFacetMap)(((e,t,n)=>e?t:n),[],[c,(0,r.useFacetWrap)(e),(0,r.useFacetWrap)(t)]);return i?a.createElement(Mp,{src:s,className:n,imageRendering:"pixelated",isAnimated:c,aspectRatio:l}):a.createElement(Mp,{src:s,className:n,imageRendering:"pixelated",isAnimated:c})}function cI(){const{t:e}=ec("FriendsDrawer.notLoggedInMessage"),t=e(".title"),n=e(".text"),r=e(".button"),l=`${t} . ${n}`,o=m(),i=Ju(),c=(0,a.useCallback)((()=>{i({button:"SignIn",screen:"FriensdDrawer"}),o.replace("/sign-in?signInSource=SignInOnFriendsDrawer_OreUI")}),[i,o]);return a.createElement("div",{className:"_yXcs"},a.createElement(wf,{text:l},a.createElement(fm,{type:"secondaryButton",role:"neutral80",align:"center"},t),a.createElement(iI,{gifSrc:oI,imageSrc:lI,className:"ah_HL"}),a.createElement(fm,{type:"captionShort",role:"neutral80",variant:"dimmest",align:"center"},n),a.createElement(om,{size:2}),a.createElement("div",{className:"i6j1G"},a.createElement(mg,{variant:"primary",onClick:c,inputLegend:e(".inputLegend"),autofocus:!0,"data-testid":"sign-in-button"},r))))}function sI(){const e=m();return(0,r.useFacetCallback)(((t,n)=>()=>{const a=n.arvrPlatform===$e.ARVR_Rift;n.platform!==Ke.WIN32||a?t.purchaseGame(qs.FullGame):e.push("/win10-trial-conversion")}),[e],[(0,r.useSharedFacet)(Qs),(0,r.useSharedFacet)(il)])}const uI=n.p+"assets/trial-mode-art-40744.png",dI=n.p+"assets/external-link-white-0e493.png";function mI(){return mI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mI.apply(this,arguments)}const pI=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("DrrdO",t);return a.createElement(Mp,mI({},n,{className:r,src:dI,imageRendering:"pixelated"}))};pI.imgSrc=dI;let fI;!function(e){e.CREATE="create",e.EDIT="edit",e.EDIT_REALM="edit-realm"}(fI||(fI={}));const gI=a.createContext(fI.CREATE);let EI;function hI({context:e}){const{t}=ec("TrialModeMessage"),n=Ju(),r=sI(),l=(0,a.useContext)(gI),o=e===EI.FRIENDS_DRAWER,i=e===EI.REALMS||e===EI.SERVERS,c=(0,a.useCallback)((()=>{n({button:"BuyMinecraft",screen:SI(e,l),details:{tab:e}}),r()}),[n,r,e,l]);return a.createElement(Ef,{floating:!0,flexShrinkWrapper:!0},i&&a.createElement(om,{size:2}),a.createElement(cb,{borderless:o,title:bI(e,t),text:yI(e,t),imgSrc:uI,imgClass:FI(e),buttons:[{text:t(".buyMinecraftButton"),onClick:c,variant:"primary",imgSrc:pI.imgSrc,buttonTestId:"empty-state-buy-minecraft-button"}]}),a.createElement(om,{size:3}),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))}function vI({context:e}){return a.createElement("div",{className:"RT2lF"},a.createElement(om,{size:4}),a.createElement(hI,{context:e}),a.createElement(om,{size:4}))}function bI(e,t){switch(e){case EI.REALMS:case EI.SERVERS:case EI.FRIENDS_DRAWER:case EI.MULTIPLAYER_TAB:return t(".title");case EI.ADVANCED_TAB:return t(".advancedTabTitle");case EI.CHEATS_TAB:return t(".cheatsTabTitle");case EI.RESOURCE_PACKS_TAB:return t(".resourcePacksTabTitle");case EI.BEHAVIOR_PACKS_TAB:return t(".behaviorPacksTabTitle");case EI.EXPERIMENTS_TAB:return t(".experimentsTabTitle");default:return"Translation missing"}}function yI(e,t){switch(e){case EI.REALMS:return t(".realmsMessage");case EI.SERVERS:return t(".serversMessage");case EI.FRIENDS_DRAWER:return t(".friendsDrawerMessage");case EI.ADVANCED_TAB:return t(".advancedTabMessage");case EI.MULTIPLAYER_TAB:return t(".multiplayerTabMessage");case EI.CHEATS_TAB:return t(".cheatsTabMessage");case EI.RESOURCE_PACKS_TAB:return t(".resourcePacksTabMessage");case EI.BEHAVIOR_PACKS_TAB:return t(".behaviorPacksTabMessage");case EI.EXPERIMENTS_TAB:return t(".experimentsTabMessage");default:return"Translation missing"}}function FI(e){const t=Wb({wide:8,narrow:6,width:256});return(0,r.useFacetMap)((t=>e===EI.FRIENDS_DRAWER||t?"YXrdO":"IbV0D"),[e],[t])}function SI(e,t){switch(e){case EI.ADVANCED_TAB:case EI.BEHAVIOR_PACKS_TAB:case EI.CHEATS_TAB:case EI.EXPERIMENTS_TAB:case EI.MULTIPLAYER_TAB:case EI.RESOURCE_PACKS_TAB:return t===fI.CREATE?"CreateNewWorld":"EditWorld";case EI.FRIENDS_DRAWER:case EI.REALMS:case EI.SERVERS:return"PlayScreen"}}!function(e){e.REALMS="RealmsTab",e.FRIENDS_DRAWER="FriendsDrawer",e.SERVERS="ServersTab",e.ADVANCED_TAB="AdvancedTab",e.MULTIPLAYER_TAB="MultiplayerTab",e.CHEATS_TAB="CheatsTab",e.RESOURCE_PACKS_TAB="ResourcePacksTab",e.BEHAVIOR_PACKS_TAB="BehaviorPacksTab",e.EXPERIMENTS_TAB="ExperimentsTab"}(EI||(EI={}));const CI=n.p+"assets/no-internet-art-53f29.png";function MI({title:e,text:t,buttons:n,borderless:l,disableResize:o}){const{t:i}=ec("PlayScreen.noInternetMessage"),c=Wb({wide:8,narrow:6,width:256}),s=(0,r.useFacetMap)((e=>e||Boolean(o)?"gu_EE":"dxFd2"),[o],[c]);return a.createElement(a.Fragment,null,a.createElement(cb,{borderless:l,title:Boolean(e)?e:i(".title"),text:t,imgSrc:CI,imgClass:s,buttons:n}),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))}const wI=e=>{const t=new Date(e).getTime();return!isNaN(t)&&null!=e&&"Indefinite"!==e};function kI(){const{t:e}=ec("BannedOrSuspendedMessage"),{t}=ec("BannedOrSuspendedReason"),n=(0,r.useSharedFacet)(hu),a=(0,r.useFacetMap)((e=>e.banReason),[],[n]),l=(0,r.useFacetMap)((e=>wI(e.banExpiration)),[],[n]),o=(0,r.useFacetMap)((e=>e?".SuspendedMessage":".BannedMessage"),[],[l]),i=(0,r.useFacetMap)((e=>t(".reasonForBan")+" "+t(`.${""!=e?e:"xbox.report.policyViolation"}`)),[t],[a]),c=(0,r.useFacetMap)((t=>e(`${t}.title`)),[e],[o]),s=(0,r.useFacetMap)((t=>e(`${t}.bodyFirstParagraph`)),[e],[o]),u=(0,r.useFacetMap)((t=>e(`${t}.bodySecondParagraph`)),[e],[o]),d=(0,r.useFacetMap)(((e,t,n,a)=>[e,t,n,a].join(" . ")),[],[c,i,s,u]);return{narrationText:d,title:c,helpButtonCopy:(0,r.useFacetMap)((t=>e(`${t}.helpButton`)),[e],[o]),reasonCopy:i,bodyFirstParagraph:s,bodySecondParagraph:u}}function TI(){return(0,r.useFacetMap)((e=>e.isBanned),[],[(0,r.useSharedFacet)(hu)])}function II(){return(0,r.useFacetMap)((e=>wI(e.banExpiration)),[],[(0,r.useSharedFacet)(hu)])}const PI={banner:"zbKYM",bannerNarrow:"gk5FM",title:"oX0qO",wrapper:"Wl01l",content:"wLfot",borderless:"z1PkI",buttonContainer:"aQ3LQ"},xI=n.p+"assets/IconClock-999dc.png";function OI(){return OI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},OI.apply(this,arguments)}const AI=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("wjioV",t);return a.createElement(Mp,OI({},n,{className:r,src:xI,imageRendering:"pixelated"}))};function NI(e){const t=(new Date).getTime(),n=new Date(e).getTime()-t;return{days:Math.floor(n/864e5),hours:Math.floor(n%864e5/36e5),minutes:Math.floor(n%36e5/6e4)}}function RI(e){const t=NI(e);return{days:`${t.days}`,hours:`${t.hours}`,minutes:`${t.minutes}`}}function _I({banExpiration:e}){const[t,n]=(0,r.useFacetState)({days:"0",hours:"0",minutes:"0"}),{t:l}=ec("PlayScreen.SuspendedMessage"),o=(0,r.useFacetMap)((e=>l(".timer",[e.days,e.hours,e.minutes])),[l],[t]);return(0,r.useFacetEffect)((e=>{n(RI(e));const t=setInterval((()=>{n(RI(e))}),6e4);return()=>clearInterval(t)}),[n],[e]),a.createElement(fm,{type:"body"},a.createElement(AI,null),a.createElement(om,{size:1}),a.createElement("fast-text",{text:o}))}function LI({usedInDrawer:e=!1,narrationText:t,title:n,reasonCopy:l,bodyFirstParagraph:o,bodySecondParagraph:i,helpButtonCopy:c,banExpiration:s}){const u=Fr("neutral80"),d=Dr()(PI.wrapper,u.background.base,u.border.base,{[PI.borderless]:e}),m=(0,r.useFacetMap)((e=>wI(e)),[],[s]),p=(0,r.useFacetMap)((e=>""!==e),[],[(0,r.useFacetWrap)(null!=l?l:"")]),f=(0,r.useFacetCallback)((e=>()=>{e.openLink(bu.BannedHelpPage)}),[],[(0,r.useSharedFacet)(yu)]),g=dd(),E=(0,r.useFacetMap)(((t,n)=>Dr()(PI.banner,{[PI.bannerNarrow]:e||t,[PI.friendsDrawerStacked]:n&&e})),[e],[g,m]);return a.createElement(wl,{data:m},(e=>a.createElement("div",{className:d},a.createElement(wf,{text:t},a.createElement(GT,{role:"noticeTint"},a.createElement("fast-div",{className:E},a.createElement(GT.Text,null,n),e&&a.createElement(_I,{banExpiration:s}))),a.createElement("div",{className:PI.content},a.createElement(r.Mount,{when:p},a.createElement(a.Fragment,null,a.createElement("div",{className:PI.title},a.createElement(fm,{type:"captionShort",variant:"dimmest",align:"left"},l)),a.createElement(om,{size:3}))),a.createElement(fm,{type:"captionShort",variant:"dimmest",align:"left"},o),a.createElement(om,{size:3}),a.createElement(fm,{type:"captionShort",variant:"dimmest",align:"left"},i),a.createElement(om,{size:2}),a.createElement("div",{className:PI.buttonContainer},a.createElement(mg,{"data-testid":"help-button-"+(e?"suspended":"banned"),autofocus:!0,inputLegend:c,variant:"secondary",Icon:nM.ExternalLink,onClick:f},c)))),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))))}function DI({usedInDrawer:e=!1}){const{narrationText:t,title:n,reasonCopy:l,bodyFirstParagraph:o,bodySecondParagraph:i,helpButtonCopy:c}=kI(),s=(0,r.useSharedFacet)(hu),u=(0,r.useFacetMap)((e=>e.banExpiration),[],[s]);return a.createElement(LI,{usedInDrawer:e,narrationText:t,title:n,reasonCopy:l,bodyFirstParagraph:o,bodySecondParagraph:i,helpButtonCopy:c,banExpiration:u})}DI.InTab=function(){return a.createElement(Ef,{floating:!0},a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{wideSize:10,narrowSize:8},a.createElement(om,{size:2}),a.createElement(DI,null)),a.createElement(Yv.Column,{wideSize:1,narrowSize:0})))};const WI=n.p+"assets/signed-out-art-e090c.png",BI=Km((({onClose:e})=>{const{t}=ec("NoInternetModal"),n="pop-up-modal-sign-in-to-platform-no-internet-error-modal",r=t(".text"),l=t(".button");return a.createElement(vE,{defaultFocusAlias:n},a.createElement(vE.Header,{onClose:e},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:r,center:!0},r),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:n,inputLegend:l,onClick:e},l))))})),UI=Km((({onClose:e})=>{const{t}=ec("GenericErrorMessageModal"),n="pop-up-modal-sign-in-to-platform-generic-error-modal",r=t(".text");return a.createElement(vE,{defaultFocusAlias:n},a.createElement(vE.Header,{onClose:e},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:r,center:!0},r)),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:n,inputLegend:t(".closeButton"),onClick:e},t(".closeButton"))))}));const zI=function(){const e=(0,r.useSharedFacet)(hu),t=UI.useModal(),n=BI.useModal(),l=(0,r.useFacetMap)((e=>e.signInPlatformNetworkTaskResult),[],[e]),o=(0,r.useFacetMap)((e=>e===gu.NotConnected),[],[l]),i=(0,r.useFacetMap)((e=>e===gu.ConnectionFailed),[],[l]),c=(0,r.useFacetCallback)((e=>()=>{e.resetSignInPlatformNetwork(),n.hide()}),[n],[e]),s=(0,r.useFacetCallback)((e=>()=>{e.resetSignInPlatformNetwork(),t.hide()}),[t],[e]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:i},a.createElement(UI.Component,{onClose:s})),a.createElement(r.Mount,{when:o},a.createElement(BI.Component,{onClose:c})))},jI=function({buttonText:e}){const t=function(){const e=(0,r.useSharedFacet)(hu);return(0,r.useFacetCallback)((e=>()=>{e.signInToPlatformNetwork(!0)}),[],[e])}();return a.createElement(a.Fragment,null,a.createElement(cb.ButtonSpacer,null),a.createElement(cb.Button,{Icon:nM.ExternalLink,onClick:t,buttonTestId:"log-in-to-network-button"},e))};let HI;function VI({context:e,borderless:t=!1}){const{t:n}=ec("PlayScreen.GuestAccountMessage"),l=Wb({wide:8,narrow:6,width:256}),o=(0,r.useFacetMap)((e=>e||t?"dkRGb":"wWDEg"),[t],[l]),i=e===HI.Playstation?n(".playstation.text"):n(".nintendo.text"),c=e===HI.Playstation?n(".playstation.button"):n(".nintendo.button");return a.createElement(a.Fragment,null,a.createElement(cb.Wrapper,{borderless:t},a.createElement(cb.Image,{imgClass:o,imgSrc:WI}),a.createElement(cb.Text,null,i),a.createElement(cb.ButtonsWrapper,{customButtonWrapperWidth:42},a.createElement(jI,{buttonText:c}))),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}),a.createElement(zI,null))}function GI(e,t){return`/profile${null!=t?`/${t}`:""}?xuid=${e}`}function $I(e,t){return`/profile${null!=t?`/${t}`:""}?platformId=${e}`}function KI(e,t){return S(`/profile/${e}`,t)}function XI(){const e=m(),t=g();return(0,r.useFacetCallback)((t=>({xuid:n,platformId:a})=>{(t.startsWith("/profile")?e.replace:e.push)(null!=a&&a.length>0?$I(a,"overview"):GI(null!=n?n:"","overview"))}),[e],[t])}!function(e){e[e.Playstation=0]="Playstation",e[e.Nintendo=1]="Nintendo"}(HI||(HI={}));const YI=n.p+"assets/error-9e281.png";function qI({tab:e,borderless:t}){const{t:n}=ec("PlayScreen"),r=Db({wide:8,narrow:6,width:256});return a.createElement(a.Fragment,null,a.createElement(cb,{borderless:t,gamepadIndex:0,title:n(".errorOnLoadingTitle",[e]),text:n(".errorOnLoadingText"),imgSrc:YI,imgClass:r||t?"bDjLL":"e3ng1"}),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))}const QI=n.p+"assets/online-safety-child-8fad2.png",JI=n.p+"assets/online-safety-adult-dc71d.png",ZI=n.p+"assets/external-link-b22bb.png";function eP(){return eP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},eP.apply(this,arguments)}const tP=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("avoET",t);return a.createElement(Mp,eP({},n,{className:r,src:ZI,imageRendering:"pixelated"}))};function nP({isParental:e=!1,borderless:t}){const{t:n}=ec("FriendsDrawer.AddFriendsOnlineSafety"),l=Db({wide:8,narrow:6,width:256});return a.createElement(a.Fragment,null,a.createElement(cb,{borderless:t,gamepadIndex:0,title:n(".title"),text:n(e?".textParental":".text"),imgSrc:e?QI:JI,imgClass:l||t?"VcH3h":"ifjeb",buttons:[{text:n(".helpButton"),variant:"secondary",imgSrc:tP.imgSrc,onClick:(0,r.useFacetCallback)((e=>()=>{e.openLink(bu.ParentPermissionHelpPage)}),[],[(0,r.useSharedFacet)(yu)])}]}),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))}tP.imgSrc=ZI;const aP=n.p+"assets/under-construction-art-cropped-cd6d3.png",rP="Mzron",lP="tbuE2";function oP(){const{t:e}=ec("FriendsDrawer"),t=wT("friends");return a.createElement(a.Fragment,null,a.createElement(cb,{borderless:!0,imgSrc:aP,imgClass:"q1bVH",title:e(".emptyStateTitle"),text:e(".emptyStateBody"),buttons:[{text:e(".emptyStateButtonLabel"),inputLegend:e(".emptyStateButtonInputLegend"),onClick:t}]}))}function iP({closeButtonAlias:e,closeFriendsDrawer:t,isDrawerOpen:n,screenAnalyticsId:l,role:o="neutral80",closeDrawerOnProfileClick:i=!0,socialDrawer:c=!1}){const{t:s}=ec("FriendsDrawer"),u=Fr(o),d=(0,r.useSharedFacet)(hu),m=(0,r.useSharedFacet)(il),p=(0,r.useSharedFacet)(Dk),f=g(),E=(0,r.useFacetMap)((e=>!e),[],[n]),h=Tv(Ii.NewFriendsDrawer),v=(0,r.useFacetWrap)([]),b=(0,r.useFacetWrap)([]),y=(0,r.useFacetCallback)((e=>()=>{e.userControlledUpdateGameList()}),[],[(0,r.useSharedFacet)(Dk)]);(0,r.useFacetEffect)(((e,t)=>{e&&qw(t.platform)&&y()}),[y],[n,(0,r.useSharedFacet)(il)]);const{friendsOnline:F,friendsOffline:S,isLoading:C,isReady:M,isUnavailable:w}=Qk(!0),k=(0,r.useFacetMap)(((e,t,n,a,r)=>r&&0===e.length&&0===t.length&&0===n.length&&0===a.length),[],[v,b,F,S,M]),T=Bb(M,1e4),I=Tv(Ii.FriendsDrawer),P=Tv(Ii.FriendsDrawerOnMultipleScreens),x=(0,r.useFacetMap)((e=>e.activeMultiplayerServiceIds.includes(ol.AdHoc)),[],[m]),O=(0,r.useFacetMap)(((e,t,n,a,r,l,o,i)=>I?i?"add-hoc-mode":t.isOnline?l?"trial-mode":Xw(t.platform)||qw(t.platform)||e.isLoggedInWithMicrosoftAccount?!e.isSignedInPlatformNetwork&&qw(t.platform)?"platform-guest-nintendo":!e.isSignedInPlatformNetwork&&Xw(t.platform)?"platform-guest-playstation":e.isLoggedInWithMicrosoftAccount||!qw(t.platform)||n||o?e.isLoggedInWithMicrosoftAccount||!Xw(t.platform)||n||o?e.hasPremiumNetworkAccess||!qw(t.platform)||n?e.hasPremiumNetworkAccess||!Xw(t.platform)||n?!e.hasPremiumNetworkAccess&&e.isLoggedInWithMicrosoftAccount&&t.platform===Ke.XBOX?"no-online-subscription-xbox":e.isBanned?"banned":n&&e.userPermissions.addFriends.denyReasons.includes(fu.XboxLive_Parental)?"add-friends-parental-online-safety":n&&e.userPermissions.addFriends.denyReasons.includes(fu.XboxLive)?"add-friends-online-safety":n?"empty-friends-list":a.xblLoadingState==Lk.Error||a.platformLoadingState==Lk.Error||1==r?"error-on-loading":"friends-list":"no-online-subscription-playstation":"no-online-subscription-nintendo":"msa-guest-playstation":"msa-guest-nintendo":"login-prompt":"offline":"under-construction"),[I],[d,m,k,p,T,(0,r.useSharedFacet)(vu),w,x]),A=function(){const e=Tv(Ii.FriendsDrawer);return(0,r.useFacetMap)(((t,n)=>{if(!e)return!0;if(!Xw(n.platform)&&!qw(n.platform)&&!t.isLoggedInWithMicrosoftAccount)return!0;if(qw(n.platform)||Xw(n.platform)){if(!t.isSignedInPlatformNetwork)return!0;if(!t.hasPremiumNetworkAccess)return!0}return!!t.isBanned||!t.userPermissions.addFriends.allowed||!!t.isTrialAccount}),[e],[(0,r.useSharedFacet)(hu),(0,r.useSharedFacet)(il)])}(),N=(0,r.useFacetMap)(((e,t)=>[s(".friendsDrawerName"),t?"":s(".numberOfFriends",[`${e.length}`])].join(" . ")),[s],[F,A]),R=(0,r.useFacetMap)(((e,t)=>"friends-list"!=e?s(".title"):s(".titleWithAmount",[`${t.length}`])),[s],[O,F]),_=XI(),L=(0,r.useFacetCallback)((e=>n=>{if(P&&i){const n=!e.startsWith("/profile");t(n)}_({xuid:n.xuid,platformId:n.platformId})}),[t,_,P,i],[f]),D=(0,a.useRef)(null),W=a.createElement("div",{ref:D,className:Dr()("RdiuF",c?"LaZXg":"OW9C4",u.background.base,u.border.base)},a.createElement(Sf,{onClick:t,options:{button:j.B,inputLegend:s(".backButton")}}),a.createElement(wf,{text:N},!c&&a.createElement(Lp,{right:a.createElement(Lp.Buttons.Close.Component,{gamepadAlias:e,narrationSuffix:s(".closeButtonNarrationHint"),onClick:t})},a.createElement(fm,{type:"body"},a.createElement(am,null,R))),a.createElement(wl,{data:O},(e=>{switch(e){case"empty-friends-list":return a.createElement("div",{className:rP},a.createElement(Ef,{flexShrinkWrapper:!0},a.createElement(IT,{screenAnalyticsId:l})));case"platform-guest-playstation":return a.createElement("div",{className:rP},a.createElement(Ef,{flexShrinkWrapper:!0},a.createElement(VI,{context:HI.Playstation,borderless:!0})));case"platform-guest-nintendo":return a.createElement("div",{className:rP},a.createElement(Ef,{flexShrinkWrapper:!0},a.createElement(VI,{context:HI.Nintendo,borderless:!0})));case"msa-guest-nintendo":case"msa-guest-playstation":case"no-online-subscription-playstation":case"no-online-subscription-nintendo":case"no-online-subscription-xbox":case"friends-list":return a.createElement(a.Fragment,null,h&&a.createElement(uP,{loading:C,profileEntryPoint:xc.FriendsDrawer,screenAnalyticsId:l,onProfileItemClick:L}),a.createElement("div",{className:lP},a.createElement(eI,{drawerOpen:n,loading:C,friendsOnline:F,friendsOffline:S,incomingRequests:v,outgoingRequests:b,profileEntryPoint:xc.FriendsDrawer,spinnerBackgroundColor:"transparent",showSpinnerBorder:!1,screenAnalyticsId:l,onItemClick:L})));case"add-hoc-mode":return a.createElement(a.Fragment,null,h&&a.createElement(uP,{loading:C,profileEntryPoint:xc.FriendsDrawer,screenAnalyticsId:l,onProfileItemClick:L,showBanner:!1}),a.createElement("div",{className:lP},a.createElement(eI,{drawerOpen:n,loading:C,friendsOnline:F,profileEntryPoint:xc.FriendsDrawer,spinnerBackgroundColor:"transparent",showSpinnerBorder:!1,screenAnalyticsId:l})));case"add-friends-online-safety":return a.createElement("div",{className:rP},a.createElement(Ef,{flexShrinkWrapper:!0},a.createElement(nP,{borderless:!0})));case"add-friends-parental-online-safety":return a.createElement("div",{className:rP},a.createElement(Ef,{flexShrinkWrapper:!0},a.createElement(nP,{isParental:!0,borderless:!0})));case"banned":return a.createElement("div",{className:"XbL6G"},a.createElement(Ef,{flexShrinkWrapper:!0},a.createElement(DI,{usedInDrawer:!0})));case"offline":return a.createElement("div",{className:rP},a.createElement(Ef,{flexShrinkWrapper:!0},a.createElement(MI,{text:s(".noInternetMessage"),borderless:!0,disableResize:!0})));case"error-on-loading":return a.createElement("div",{className:rP},a.createElement(Ef,{flexShrinkWrapper:!0},a.createElement(qI,{tab:s(".title"),borderless:!0})));case"trial-mode":return a.createElement("div",{className:rP},a.createElement(hI,{context:EI.FRIENDS_DRAWER}));case"login-prompt":return a.createElement("div",{className:rP},a.createElement(Ef,{flexShrinkWrapper:!0},a.createElement(cI,null)));default:return a.createElement("div",{className:rP},a.createElement(Ef,{flexShrinkWrapper:!0},a.createElement(oP,null)))}}))));return c?W:a.createElement(Fp,{containerRef:D,disabled:E,shouldBindFocus:!0,delegateFocusFromMemory:!0},W,a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))}function cP({children:e,screenAnalyticsId:t,role:n="neutral80",closeDrawerOnProfileClick:l}){const o=Ju(),{friends:i}=Qk(),[c,s]=(0,r.useFacetState)(!1),[u,d]=(0,r.useFacetState)(!1),m=(0,a.useCallback)((()=>{d(!1),s((e=>e===r.NO_VALUE?e:!e))}),[s,d]),p=(0,a.useCallback)(((e=!1)=>{d(e),s(!1)}),[s,d]),f=(0,a.useCallback)(((e=!1)=>{d(e),s(!0)}),[s,d]),g=(0,r.useFacetMap)(((e,t)=>!e.screenAnimationEnabled||t),[],[(0,r.useSharedFacet)(Hn),u]),E=(0,r.useFacetCallback)((e=>()=>{o({button:"FriendsShortcut",screen:t,details:{friendsCount:`${e.length}`}}),m()}),[m,t,o],[i]),h=(0,a.useCallback)((()=>p()),[p]);return a.createElement(sw,{anchor:sw.Anchor.Right,drawerContent:a.createElement(iP,{closeFriendsDrawer:p,isDrawerOpen:c,closeButtonAlias:"friends-close-btn",role:n,screenAnalyticsId:t,closeDrawerOnProfileClick:l}),isOpen:c,onOverlayClick:h,disableAnimation:g},e({toggleFriendsDrawer:m,openFriendsDrawer:f,closeFriendsDrawer:p,isFriendsDrawerOpen:c}),a.createElement(sP,{onClick:E}))}function sP({onClick:e}){return a.createElement(Sf,{onClick:e,options:(0,r.useFacetMap)((e=>({button:j.Y,disabled:e})),[],[nt()])})}function uP({loading:e,profileEntryPoint:t,screenAnalyticsId:n,onProfileItemClick:l,showBanner:o=!0}){const i=Gk(),{t:c}=ec("FriendsDrawer"),s=(0,r.useFacetMap)(((e,t)=>null!=e&&!t),[],[i,e]),u=(0,r.useFacetMap)((e=>{var t,n,a,r,l,o;return""!==(null==e?void 0:e.data.xuid)?{xuid:null!==(t=null==e?void 0:e.data.xuid)&&void 0!==t?t:"",gamerTag:`${null==e?void 0:e.data.xblName} (${c(".you")})`,gamerIcon:null!==(n=null==e?void 0:e.data.xblProfilePic)&&void 0!==n?n:"",variant:"self",favoriteStatus:Tc.UNKNOWN,presenceMessage:"Online",presence:Pc.Online,titleName:null!==(a=null==e?void 0:e.data.titleName)&&void 0!==a?a:""}:{xuid:"",platformId:null!==(r=null==e?void 0:e.data.platformId)&&void 0!==r?r:"",gamerTag:`${null==e?void 0:e.data.platformName} (${c(".you")})`,gamerIcon:null!==(l=null==e?void 0:e.data.platformProfilePic)&&void 0!==l?l:"",variant:"self",favoriteStatus:Tc.UNKNOWN,presenceMessage:"Online",presence:Pc.Online,titleName:null!==(o=null==e?void 0:e.data.titleName)&&void 0!==o?o:""}}),[c],[i]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:(0,r.useFacetWrap)(null==o||o)},a.createElement(KT,{screenAnalyticsId:n})),a.createElement(r.Mount,{when:s},a.createElement(a.Fragment,null,a.createElement("div",{className:"jLRXF"},a.createElement(Ck,{item:u,listLength:(0,r.createStaticFacet)(1),index:0,gamepadAlias:"own-profile",profileEntryPoint:t,screenAnalyticsId:n,onMainActionClick:l,testId:"own-profile"})),a.createElement(yT,null))))}let dP;function mP({children:e,screenAnalyticsId:t,role:n="neutral",closeDrawerOnProfileClick:l,initialTab:o=dP.People}){const{t:i}=ec("SocialDrawer"),c=Ju(),{friends:s,friendsOnline:u}=Qk(),d=Fr(n),m=(0,r.useFacetWrap)(o),[p,f]=(0,r.useFacetState)(dP.People);(0,r.useFacetEffect)((e=>f(e)),[f],[m]);const g=(0,r.useFacetMap)((e=>[{label:i(".peopleTabButtonLabel",[e.length.toString()]),value:dP.People},{label:i(".partyTabButtonLabel"),value:dP.Party}]),[i],[u]),E=(0,r.useFacetMap)((e=>e===dP.People),[],[p]),[h,v]=(0,r.useFacetState)(!1),b=(0,r.useFacetMap)((e=>!e),[],[h]),[y,F]=(0,r.useFacetState)(!1),S=(0,a.useCallback)((()=>{F(!1),v((e=>e===r.NO_VALUE?e:!e))}),[v,F]),C=(0,a.useCallback)(((e=!1)=>{F(e),v(!1)}),[v,F]),M=(0,a.useCallback)(((e=!1)=>{F(e),v(!0)}),[v,F]),w=(0,r.useFacetMap)(((e,t)=>!e.screenAnimationEnabled||t),[],[(0,r.useSharedFacet)(Hn),y]),k=(0,r.useFacetCallback)((e=>()=>{c({button:"FriendsShortcut",screen:t,details:{friendsCount:`${e.length}`}}),S()}),[S,t,c],[s]),T=(0,a.useCallback)((()=>C()),[C]),I=(0,a.useRef)(null);return a.createElement(sw,{anchor:sw.Anchor.Right,drawerContent:a.createElement("div",{ref:I,className:Dr()("gjmHJ",d.background.base,d.border.base)},a.createElement(Fp,{containerRef:I,disabled:b,shouldBindFocus:!0,delegateFocusFromMemory:!0},a.createElement(bT,{closeDrawer:C}),a.createElement(om,{size:2}),a.createElement(_y,{gamepadAliasNamespace:"social-drawer-tabs",value:p,onChange:f,tabs:g,narrationTitle:i(".narration.title"),enableGamepadShortcuts:!0}),a.createElement(wl,{data:E},(e=>e?a.createElement(iP,{closeFriendsDrawer:C,isDrawerOpen:h,closeButtonAlias:"social-drawer-close-btn",screenAnalyticsId:t,closeDrawerOnProfileClick:l,socialDrawer:!0}):a.createElement(mT,null))))),isOpen:h,onOverlayClick:T,disableAnimation:w},e({toggleFriendsDrawer:S,openFriendsDrawer:M,closeFriendsDrawer:C,isFriendsDrawerOpen:h}),a.createElement(pP,{onClick:k}))}function pP({onClick:e}){return a.createElement(Sf,{onClick:e,options:(0,r.useFacetMap)((e=>({button:j.Y,disabled:e})),[],[nt()])})}function fP(){const e=Tv(Ii.FriendsDrawer);return(0,r.useFacetMap)(((t,n)=>{if(!e)return!0;if(!Xw(n.platform)&&!qw(n.platform)&&!t.isLoggedInWithMicrosoftAccount)return!0;if(qw(n.platform)||Xw(n.platform)){if(!t.isSignedInPlatformNetwork)return!0;if(!t.hasPremiumNetworkAccess)return!0}return!!t.isBanned||!t.userPermissions.addFriends.allowed||!!t.isTrialAccount}),[e],[(0,r.useSharedFacet)(hu),(0,r.useSharedFacet)(il)])}function gP(){return gP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},gP.apply(this,arguments)}function EP(e){var t;return e.shouldSkipLandmarkInVisual?a.createElement(Gr,{disabled:e.disabled},e.children):null==e.containerRef?a.createElement(Gr,e,e.children):a.createElement(Fp,gP({},e,{delegateFocusFromMemory:e.delegateFocusFromMemory||"remember"===e.defaultFocusedChildBehavior,delegateFocusByAlias:null!==(t=e.delegateFocusByAlias)&&void 0!==t?t:e.defaultFocusedChildAlias}))}!function(e){e[e.People=0]="People",e[e.Party=1]="Party"}(dP||(dP={}));Km((({onClose:e})=>{const t="CreateTestWorldInfoModal-close-btn";return a.createElement(vE,{defaultFocusAlias:t,onOverlayClick:e},a.createElement(vE.Header,{onClose:e},"Create Test World"),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:!1},"This button applies the following settings on the Create New World screen:"),a.createElement(vE.List,{gamepadIndex:1,items:(0,r.useFacetWrap)(["Game Mode: Creative","Flat World: true","Cheats Enabled: true","Daylight cycle: Always Day","Mob spawning: false","Weather: false","Keep Inventory: true"])}),a.createElement(vE.Text,{gamepadIndex:0,narrationText:!1},"Any other settings which don't conflict with the above will remain unchanged.")),a.createElement(vE.Buttons,null,a.createElement(mg,{onClick:e,inputLegend:"Back",gamepadAlias:t},"Back")))}));const hP=Km((({onClose:e})=>{const t=(0,r.useSharedFacet)(Ci),n="DebugImportWorldInfoModal-close-btn",l=(0,r.useFacetMap)((e=>`Import all worlds present in "${e.importPath}", to support debugging specific worlds on platforms without an official import feature.`),[],[t]);return a.createElement(vE,{defaultFocusAlias:n,onOverlayClick:e},a.createElement(vE.Header,{onClose:e},"Import Worlds"),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:!1},l)),a.createElement(vE.Buttons,null,a.createElement(mg,{onClick:e,inputLegend:"Back",gamepadAlias:n},"Back")))})),vP=Km((()=>{const e=(0,r.useSharedFacet)(Ci),t=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.importProgress)&&void 0!==t?t:0}),[],[e]);return a.createElement(vE,null,a.createElement(vE.Header,null,"Debug importing worlds"),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:!1,center:!0},"Importing"),a.createElement(vE.Progress,{percentage:t})))})),bP=Km((()=>{const e=(0,r.useSharedFacet)(Ci),t=(0,r.useFacetCallback)((e=>()=>{e.clearResult()}),[],[e]),n=(0,r.useFacetMap)((e=>{var t;return"Error: "+function(e){switch(e){case Hu.Success:return"WorldTransferResult.Success";case Hu.FailureUnknown:return"WorldTransferResult.FailureUnknown";case Hu.FailureNoFile:return"WorldTransferResult.FailureNoFile";case Hu.FailureZipError:return"WorldTransferResult.FailureZipError";case Hu.FailurePremiumContent:return"WorldTransferResult.FailurePremiumContent";case Hu.FailureEditionMismatch:return"WorldTransferResult.FailureEditionMismatch";case Hu.FailureEditorMismatch:return"WorldTransferResult.FailureEditorMismatch";case Hu.UnsupportedPlatform:return"WorldTransferResult.UnsupportedPlatform";case Hu.AlreadyInProgress:return"WorldTransferResult.AlreadyInProgress";case Hu.InterruptedByUser:return"WorldTransferResult.InterruptedByUser"}}(null!==(t=e.importResult)&&void 0!==t?t:Hu.FailureUnknown)}),[],[e]);return a.createElement(vE,null,a.createElement(vE.Header,null,"Debug import error"),a.createElement(vE.Content,null,a.createElement(vE.Paragraphs,{narrationText:!1},a.createElement(fm,{type:"captionLong",align:"center"},"There was an issue debug importing worlds."),a.createElement(fm,{type:"captionLong",align:"center"},n))),a.createElement(vE.Buttons,null,a.createElement(mg,{variant:"secondary",inputLegend:"Close",onClick:t},"Close")))}));function yP(){const e=(0,r.useSharedFacet)(Ci);return(0,r.useFacetMap)((e=>e.importIsSupported),[],[e])}function FP(){const e=hP.useModal(),t=(0,r.useSharedFacet)(Ci),n=(0,r.useFacetCallback)((e=>()=>{e.debugImportWorlds()}),[],[t]),l=(0,r.useFacetMap)((e=>!e),[],[yP()]),o=(0,r.useFacetMap)((e=>e.importInProgress&&e.importProgress>0),[],[t]),i=(0,r.useFacetMap)((e=>null!=e.importResult&&e.importResult!=Hu.Success),[],[t]);return a.createElement(a.Fragment,null,a.createElement(mg,{onClick:n,inputLegend:"Import Worlds",disabled:l},"Import Worlds"),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionShort",align:"center",verticalAlign:"center"},a.createElement(BT,{onClick:e.show,gamepadIndex:1,withUnderlinePolyfill:!0},"What does this do?")),a.createElement(r.Mount,{when:e.isVisible},a.createElement(hP.Component,{onClose:e.hide})),a.createElement(r.Mount,{when:o},a.createElement(vP.Component,null)),a.createElement(r.Mount,{when:i},a.createElement(bP.Component,null)))}FP.useIsSupported=yP;const SP=(0,r.createStaticFacet)(!1),CP=()=>{},MP={isDebugDrawerOpen:SP,closeDebugDrawer:CP,openDebugDrawer:CP,toggleDebugDrawer:CP},wP=e=>a.createElement(a.Fragment,null,e.children(MP)),kP=({condition:e,children:t,options:n})=>(Tv(Ii.DebugDrawer),a.createElement(wP,{children:t}));function TP(e){const t=(0,r.useFacetMap)(((e,t)=>e||t),[],[e.isDebugDrawerOpen,e.isFriendsDrawerOpen]);return a.createElement(a.Fragment,null,e.children({isAnyDrawerOpen:t}))}const IP={isFriendsDrawerOpen:SP,closeFriendsDrawer:CP,openFriendsDrawer:CP,toggleFriendsDrawer:CP},PP=e=>a.createElement(a.Fragment,null,e.children(IP)),xP=({condition:e,screenAnalyticsId:t,children:n})=>{const l=!0===(0,r.useFacetUnwrap)(e),o=Tv(Ii.SocialDrawer);return l?o?a.createElement(mP,{children:n,screenAnalyticsId:t}):a.createElement(cP,{children:n,screenAnalyticsId:t}):a.createElement(PP,{children:n,screenAnalyticsId:t})},OP=({onClick:e,screenAnalyticsId:t})=>{const n=Ju(),{friendsOnline:l,friends:o}=Qk(!0),i=(0,r.useFacetMap)((e=>e.length),[],[l]),c=Tv(Ii.SocialDrawer),s=(0,r.useFacetCallback)((a=>()=>{n({button:c?"Social":"Friends",screen:t,details:{friendsCount:`${a.length}`}}),e()}),[t,n,e,c],[o]),u=Tv(Ii.FriendsDrawer),d=(0,r.useFacetMap)((e=>u&&!c&&!e),[u,c],[fP()]);return a.createElement($v.FriendsButton,{friendsOnline:i,onClick:s,displayAmountOfOnlineFriends:d,testId:"vanilla-screen-layout-friends-button"})};function AP({disableBackButton:e,children:t,debugDrawer:n,delegateByAlias:l,friendsDrawer:o,gamepadAlias:i,onBack:c,navbarRight:s,title:u,screenAnalyticsId:d}){const{t:p}=ec("VanillaScreenLayout"),f=m(),g=Tv(Ii.DebugDrawer),E=null!=n&&n.length>0&&g,h=(0,r.useFacetWrap)(null!=o&&o),v=(0,r.useFacetWrap)(null!=e&&e),b=(0,r.useFacetMap)((e=>p(".narration.title",[e])),[p],[(0,r.useFacetWrap)(u)]),y=(0,r.useFacetCallback)((e=>()=>{e||(!1!==c&&null!=c?c():f.goBack())}),[c,f],[v]);return a.createElement(r.DeferredMountProvider,null,a.createElement(Iv,null,a.createElement(kP,{condition:E,options:n},(({toggleDebugDrawer:e,isDebugDrawerOpen:n})=>a.createElement(xP,{condition:h,screenAnalyticsId:d},(({toggleFriendsDrawer:e,isFriendsDrawerOpen:o})=>a.createElement(wf,{text:b},a.createElement($v,{onBackButton:!1===c?void 0:y,center:a.createElement(fm,{type:"header5A"},u),right:a.createElement(a.Fragment,null,null,a.createElement(r.Mount,{when:h},a.createElement(a.Fragment,null,a.createElement($v.Divider,null),a.createElement(OP,{onClick:e,screenAnalyticsId:d}))),s),delegateFocusFromMemory:!0,gamepadAlias:i,delegateByAlias:l},a.createElement(TP,{isDebugDrawerOpen:n,isFriendsDrawerOpen:o},t)))))))))}const NP=(0,a.createContext)(!1);function RP({children:e,spacingAroundSideMenu:t,footer:n,focusGridIndex:l,loading:o,scrollViewRef:i,role:c="neutral80",gamepadAlias:s,delegateFocusByAlias:u,adaptToNarrowScreens:d=!0,hideInputLegendSpace:m=!1,fullHeight:p=!1,narrationPrefix:f="",narrationRole:g="",narrationSuffix:E=""}){const h=(0,a.useRef)(null),v=sd(),{t:b}=ec("SideMenu"),y=Fr(c),F=(0,r.useFacetMap)(((e,t,n)=>[e,""===t?b(".narrationRoleMenu"):t,n].filter((e=>e)).join(" . ")),[b],[(0,r.useFacetWrap)(null!=f?f:""),(0,r.useFacetWrap)(null!=g?g:""),(0,r.useFacetWrap)(null!=E?E:"")]),S="narrow"===v&&d;return a.createElement(Xa,{role:c},a.createElement(wf,{text:F},a.createElement(Ef,{alwaysVisibleChildren:a.createElement(a.Fragment,null,null==t&&"desktop"===v&&a.createElement(om,{size:2}),t),focusGridIndex:l,floating:"desktop"!==v,delegateFocusFromMemory:!0,loading:o,spinnerBackgroundColor:"#313233",innerRef:i,gamepadAlias:s,delegateFocusByAlias:u},a.createElement("div",{ref:h,className:Dr()("ktO0j",y.background.base,y.border.base,{JppWl:p})},a.createElement(om,{size:S?2:4}),a.createElement(NP.Provider,{value:S},e),null!=n&&a.createElement(fm,{type:"captionShort",variant:"dimmer"},a.createElement("div",{className:"H9jOa"},n)),a.createElement(om,{size:4})),m?null:a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:1})}),t)))}RP.ItemMain=function({children:e}){return a.createElement("div",{className:"_ooLj"},e)},RP.ItemCell=function({children:e,margin:t="end"}){return a.createElement("div",{className:Dr()("Wfm8X",{HwQXE:"end"===t,OdjWP:"start"===t})},e)},RP.Divider=function({label:e,role:t="inherit"}){return a.createElement(a.Fragment,null,a.createElement(fm,{role:t,type:"captionShort",variant:"dimmer"},a.createElement("div",{className:"OlLk0"},e)),a.createElement(yT,{role:t}))};const _P=(0,r.createFacet)({initialValue:0}),LP=(0,a.createContext)(_P),DP=(0,a.createContext)(0);RP.displayName="SideMenu",RP.ItemList=function({items:e,renderItem:t,initialGamepadIndex:n=0}){return a.createElement(LP.Provider,{value:(0,r.useFacetMap)((e=>e.length),[],[e])},a.createElement(r.Map,{array:e},((e,r)=>a.createElement(DP.Provider,{value:r},t({item:e,index:r,gamepadIndex:r+n,focusGridIndex:r+n})))))},RP.ListItem=function({onSelect:e,children:t,selected:n,value:l,focusGridIndex:o,narrationText:i,narrationSuffix:c,inputLegend:s,soundEffectPressed:u,role:d="inherit",hasSubtitle:m,testId:p}){const{t:f}=ec("SideMenu.ListItem"),{narrateText:g}=gf(),E=(0,a.useContext)(DP),h=(0,a.useContext)(LP),v=Fr(d),b=Cr(d),y=kr(),F=(0,r.useFacetMap)((e=>f(".narrationIndex",[`${E+1}`,`${e}`])),[f,E],[h]),S=(0,r.useFacetMap)(((e,t,n,a)=>t?`${e} . ${f(".narrationRoleMenuItem")} . ${n} . ${a} . ${f(".narrationSelected")}`.replace(" .  . "," . "):`${e} . ${f(".narrationRoleMenuItem")} . ${n} . ${a} . ${f(".narrationUnselected")}`.replace(" .  . "," . ")),[f],[i,n,F,(0,r.useFacetWrap)(null!=c?c:"")]),C=(0,r.useFacetMap)(((e,t)=>t?void 0:null!=e?e:b.toggle),[b.toggle],[(0,r.useFacetWrap)(u),n]),M=(0,a.useContext)(NP);return a.createElement(Xa,{role:d},a.createElement(em,{className:(0,r.useFacetMap)((e=>{const t=!m&&v.bevel.interactive,n=e?[v.background.select,v.bevel.select]:t;return Dr()(m?"YhkZz":"iWrTh",n,{qaKqk:e,[y.selected]:e,r9DpB:M})}),[v,y,M,m],[n]),classNameFocused:Dr()(Zm,"B2m9T"),classNameHovered:(0,r.useFacetMap)((e=>{const t=e?[v.background.select,v.bevel.select]:[v.background.interactive,v.bevel.interactive];return Dr()([t,"rtKPV"])}),[v],[n]),onClick:(0,r.useFacetCallback)((t=>()=>{g(f(".narrationSelected")),e(t)}),[f,g,e],[l]),focusGridIndex:o,inputLegend:(0,r.useFacetMap)((e=>!e&&s),[s],[n]),soundEffectPressed:C,narrationText:S,"data-testid":p},a.createElement(Jm,{className:"pwcli"}),a.createElement("div",{className:"SzTdK"},a.createElement(om,{size:2}),a.createElement("div",{className:"Pl2Kx"},t),a.createElement(om,{size:2}))))},RP.Item=function({children:e}){const t=(0,a.useContext)(NP);return a.createElement("div",{className:Dr()("vPqz2",{a31PC:t})},e)};const WP=n.p+"assets/no-player-profile-d13a7.png",BP=()=>{const e=(0,r.useSharedFacet)(ZM),t=(0,r.useSharedFacet)(aw),n=Gw();return(0,r.useFacetCallback)(((e,t)=>()=>{if(!t.isLocalPlayerHosting&&!e.canEditPermissions)return;const a=e.playerPermissionList.reduce(((e,t)=>(e[`PlayerPermission${qM[t.abilityIndex]}`]={value:t.isEnabled,privacyTag:Vs.CustomerContent},e)),{});n("PlayerPermissionsSaved",a)}),[n],[e,t])},UP=n.p+"assets/psn_logo-ea3e6.png";function zP({connectionType:e,image:t,inputLegend:n,label:l,onSelect:o,selected:i,subtitle:c,subtitleIcon:s,value:u,platform:d}){const m=(0,r.useFacetMap)((e=>Boolean(e)),[],[t]),p=(0,r.useFacetMap)(((e,t)=>[e,t].filter((e=>null!=e&&""!==e)).join(" . ")),[],[l,c]),f=(0,r.useFacetMap)(((e,t,n)=>n===tw.PLATFORM&&Xw(e.platform)&&t===nw.SONY),[],[(0,r.useSharedFacet)(il),d,e]);return a.createElement(RP.ListItem,{narrationText:p,selected:i,value:u,onSelect:o,inputLegend:n,hasSubtitle:!0},a.createElement(r.Mount,{when:m},a.createElement(r.DeferredMount,null,a.createElement(RP.ItemCell,null,a.createElement(Ow,{src:t,variant:"large"})))),a.createElement(r.Mount,{when:f},a.createElement(r.DeferredMount,null,a.createElement(RP.ItemCell,null,a.createElement(Mp,{src:UP,className:"lD6jO",width:"2.2rem",height:"2.2rem"})))),a.createElement(RP.ItemMain,null,a.createElement(fm,{overflowEllipsis:!0,type:"body"},l),a.createElement("div",{className:Dr()("rHGlm","Wgwci")},a.createElement(lg,{icon:s}),a.createElement(fm,{type:"captionShort",variant:"dimmer",role:"neutral",className:"q2z5j",overflowEllipsis:!0},c))))}const jP="neutral",HP="dimmest",VP=e=>{switch(e){case ew.Custom:return()=>a.createElement(nM.PermissionCustom,{role:jP,variant:HP});case ew.Member:return()=>a.createElement(nM.PermissionMemberIcon,{role:jP,variant:HP});case ew.Operator:return()=>a.createElement(nM.PermissionOperator,{role:jP,variant:HP});case ew.Visitor:default:return()=>a.createElement(nM.PermissionVisitor,{role:jP,variant:HP})}};function GP({item:e}){const{t}=ec("PlayerPermissionsRoute.SideMenu"),n=m(),l=f(),o=(0,r.useSharedFacet)(ZM),i=BP(),c=(0,r.useFacetMap)((e=>e.connectionType),[],[e]),s=(0,r.useFacetMap)((e=>e.platform),[],[e]),u=(0,r.useFacetMap)((e=>e.label),[],[e]),d=(0,r.useFacetMap)((e=>e.value),[],[e]),p=(0,r.useFacetMap)((e=>e.role),[],[e]),g=(0,r.useFacetMap)((e=>e.icon),[],[e]),E=(0,r.useFacetMap)((e=>""===e.image?WP:e.image),[],[e]),h=(0,r.useFacetMap)(((e,t)=>e.playerId===t),[],[l,d]),v=(0,r.useFacetCallback)(((e,t,a)=>()=>{a.clearErrorFlag(QM.InvalidPlayerId),t||(n.replace(`/player-permissions/${e}`),i())}),[n,i],[d,h,o]);return a.createElement(zP,{label:u,value:d,image:E,subtitle:p,subtitleIcon:g,selected:h,inputLegend:t(".menuRole"),onSelect:v,connectionType:c,platform:s})}function $P(){const{t:e}=ec("PlayerPermissionsRoute.SideMenu"),t=(0,r.useSharedFacet)(aw),n=(0,a.useCallback)((t=>{switch(t){case ew.Custom:return e(".role.custom");case ew.Member:return e(".role.member");case ew.Operator:return e(".role.operator");case ew.Visitor:default:return e(".role.visitor")}}),[e]),l=(0,r.useFacetMemo)((e=>e.players.map(((e,t)=>({label:e.name,value:e.id,role:n(e.permissionLevel),image:e.profileImage,isHosting:e.isHosting,icon:VP(e.permissionLevel),connectionType:e.connectionType,platform:e.platform,index:t})))),[n],[t]);return a.createElement(RP,{role:"neutral80",hideInputLegendSpace:!0,narrationRole:e(".menuRole"),delegateFocusByAlias:"remember",spacingAroundSideMenu:a.createElement(a.Fragment,null)},a.createElement(RP.ItemList,{items:l,renderItem:GP}))}const KP="nUoyP",XP="DLmmU",YP="hV7S1",qP="vWkm_";function QP({gamepadIndex:e,gamepadAlias:t,children:n,Icon:l,disabled:o,selected:i,onClick:c,extraSpeechProps:{index:s,groupSize:u,description:d},onFocusChanged:m,wrapText:p,soundEffectPressed:f,onRole:g="primary",offRole:E="secondary"}){const{t:h}=ec("Toggle"),v=Fr(g),b=Fr(E),y=i?g:E,F=[n,h(".narrationOptionType"),h(".count",[`${s+1}`,`${u}`]),h(i?".narrationSelected":".narrationUnselected"),null!=d?d:""].join(" . "),S=Dr()("jxTxF",{[XP]:i,[qP]:o}),C=Dr()(KP,[i?[v.background.base,v.background.disable]:b.background.interactive],[i?[v.text.base,v.text.disable]:b.text.interactive],{[qP]:o});return a.createElement(em,{narrationText:F,className:Dr()(S,b.border.base,b.border.disable),classNameFocused:Dr()("lHZ6b",Zm),classNamePressed:XP,soundEffectPressed:f,gamepadIndex:e,gamepadAlias:t,inputLegend:h(".select"),onClick:c,onFocusChanged:m,disabled:o},a.createElement(Xa,{role:y},a.createElement(Jm,{role:y,disabled:o}),a.createElement("div",{className:C},a.createElement(cp,{role:y,interactive:!1===i,disabled:o}),a.createElement("div",{className:"gcCW_"},p?a.createElement(fm,{type:"body",role:y,align:p?"center":void 0,disableable:i,interactive:!i},a.createElement(lg,{icon:l,disabled:o}),(0,r.isFacet)(n)?a.createElement("fast-text",{text:n}):n):a.createElement(fm,{type:"body",role:y,align:p?"center":void 0,disableable:i,interactive:!i},a.createElement(lg,{icon:l,disabled:o,className:"fAOeL"}),a.createElement(am,{className:"b73Js"},n))),a.createElement("div",{className:Dr()([i?[v.icon.base,v.icon.disable]:void 0],{L83HZ:i,[qP]:o})}))),a.createElement("div",{className:Dr()(YP,b.shadow.interactive,{[qP]:o})}))}function JP(){return a.createElement("div",{className:"xBetY"},a.createElement("div",{className:KP}),a.createElement("div",{className:YP}))}var ZP=n(49836),ex=n.n(ZP),tx=n(94551),nx=n.n(tx);function ax(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function rx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ax(Object(n),!0).forEach((function(t){lx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ax(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lx(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ox({children:e,disabled:t,footer:n,menuRole:l="secondary",itemRole:o="neutral60",style:i={}}){const c=Fr(l),s=Fr(o),u=wr(),d=(0,a.useRef)(null),m=(0,r.useFacetWrap)(t),p=(0,r.useFacetMap)((e=>({index:1,disabled:e,bounded:!0})),[],[m]);return a.createElement(Fp,{containerRef:d,disabled:m,shouldBindFocus:!0},a.createElement(Mf,{options:p,scrollRef:d},a.createElement("fast-div",{ref:d,className:"P6OkY",style:rx(rx({},i),{marginTop:"var(--base1Scale)"})},a.createElement(Ef,{gamepadIndex:0},a.createElement("div",{className:Dr()("QnpjG",c.border.base)},a.createElement("div",{className:Dr()("juKSB",s.border.base,u.dimmest)},a.createElement(Xa,{role:o},e)))),n)))}function ix(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function cx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ix(Object(n),!0).forEach((function(t){sx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ix(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sx(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ux=(0,r.createFacet)({initialValue:""});function dx({options:e,value:t,onChange:n,isOpen:l,onClick:o,onOpenClose:i,dropdownRef:c,disabled:s,onFocusChanged:u,onHoverChanged:d,placeholder:m,footer:p,gamepadAlias:f,soundEffectPressed:g,soundEffectItemHovered:E,narrationText:h,shouldOnlyHandleBackButtonPressWhenDropdownIsOpen:v=!0,isElevated:b=!0,hideDownArrow:y=!1,menuRole:F="secondary",itemRole:S="neutral60",dropdownMenuStyle:C,dropdownMenuPortalRef:M,onBackButtonPressProps:w,matchButtonHeight:k=!1}){const{narrateText:T}=gf(),I=(0,r.useFacetWrap)(l),P=(0,r.useFacetWrap)(s),[x,O]=(0,r.useFacetState)(!1),[A,N]=(0,r.useFacetState)(!1),[R,_]=(0,r.useFacetState)(!1),L=(0,r.useFacetWrap)(m);(0,r.useFacetEffect)((e=>{null!=e&&O(e)}),[O],[I]);const D=(0,a.useRef)(null),W=M||c||D;(0,r.useFacetEffect)((e=>i&&i(e)),[i],[x]);const{t:B}=ec("BaseDropdown"),U=(0,r.useFacetWrap)(e),z=(0,r.useFacetWrap)(t),H=(0,r.useFacetMap)(((e,t)=>nx()(ex()("value",t))(e)),[],[U,z]);!function(e,t,n=!0){const a=(0,r.useFacetWrap)(n);(0,r.useFacetEffect)((n=>{if(!n)return;const a=n=>{e.current&&e.current.contains(n.target)||t()};return document.addEventListener("click",a,!0),()=>{document.removeEventListener("click",a,!0)}}),[e,t],[a])}(W,(()=>{O(!1),J(!1),setTimeout((()=>T(B(".stateCollapsed"))),0)}),x);const V=tt(),G=id(4.8),$=id(30),K=(0,r.useFacetMap)(((e,t,n,a)=>{const r=e.length*G>$;return Dr()({aapQp:t,T7HZM:a,XU54Z:r,oc_D2:null==n})}),[G,$],[U,x,H,V]),X=(0,r.useFacetMap)((e=>Dr()("wIbxA",{aYIFN:e})),[],[x]),Y=(0,a.useMemo)((()=>"unique-identifier"+Bo++),[]),q=null!=f?f:`dd-bevel-${Y}`,Q=Se(),J=(0,a.useCallback)((e=>{if(e){const e=null!=f?`${f}-0`:`dd-bevel-${Y}-0`;("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:fx)((()=>{Q(e)}))}else Q(q)}),[f,Y,Q,q]),Z=(0,r.useFacetCallback)((e=>()=>{e&&(O(!1),J(!1),setTimeout((()=>T(B(".stateCollapsed"))),0)),w&&w(e)}),[w,O,J,T,B],[x]),ee=(0,r.useFacetCallback)((e=>()=>{const t=!e;O(t),o&&o(t),J(t)}),[O,o,J],[x]),te=(0,r.useFacetCallback)((e=>t=>{n(t),ee();const a=nx()(ex()("value",t))(e);setTimeout((()=>T([B(".selected"),null==a?void 0:a.narrationSuffix].join(" . "))),0)}),[n,ee,T,B],[U]),ne=(0,r.useFacetMap)(((e,t,n)=>(e||!v)&&(t||n)),[v],[x,A,R]),ae=(0,r.useFacetMemo)((e=>e.map(((t,n)=>cx(cx({},t),{},{enumeration:B(".enumeration",[`${n+1}`,`${e.length}`]),gamepadAlias:null!=f?`${f}-${n}`:`dd-bevel-${Y}-${n}`})))),[B,f,Y],[U]),re=Cr("neutral"),le=(0,r.useFacetMap)(((e,t)=>Dr()("pJOrD",{Sqcr9:!e||!0===t})),[],[x,P]),oe=(0,r.useFacetMap)(((e,t)=>!e||!0===t),[],[x,P]),ie=(0,r.useFacetMap)((e=>e?B(".stateExpanded"):""),[B],[x]),ce=(0,r.useFacetMap)((e=>({button:j.B,disabled:!e,inputLegend:B(".close")})),[B],[ne]);return a.createElement(wf,{text:null!=h?h:ux},a.createElement("fast-div",{ref:W,className:X},a.createElement("fast-div",{className:K},a.createElement(ag,{reflection:"specular",variant:F,narrationText:!1,onClick:ee,gamepadIndex:0,inputLegend:B(".open"),onFocusChanged:e=>{N(e),null==u||u(e)},onHoverChanged:e=>{null==d||d(e)},shouldNotDepressWhenPressed:!0,height:k?4:4.2,isElevated:b,disabled:P,soundEffectPressed:null!=g?g:re.press,gamepadAlias:q},a.createElement(mx,{hideDownArrow:y},(0,r.useFacetMap)(((e,t)=>e?e.label:null!=t?`${t}...`:""),[],[H,L])))),M?a.createElement(px,{when:x,content:a.createElement(wf,{text:ie},a.createElement("fast-div",{className:le},a.createElement(ox,{disabled:oe,footer:p,menuRole:F,itemRole:S,style:C},a.createElement(r.Map,{array:ae},((e,t)=>a.createElement(r.DeferredMount,null,a.createElement(eT,{item:e,gamepadIndex:t,onChange:te,key:t,currentValue:z,soundEffectPressed:null!=g?g:re.press,soundEffectHovered:null!=E?E:re.hover,onFocusChanged:_,disabled:oe})))),a.createElement(Df,{options:ce,onClick:Z})))),containerRef:M}):a.createElement(wf,{text:ie},a.createElement("fast-div",{className:le},a.createElement(ox,{disabled:oe,footer:p,menuRole:F,itemRole:S,style:C},a.createElement(r.Map,{array:ae},((e,t)=>a.createElement(r.DeferredMount,null,a.createElement(eT,{item:e,gamepadIndex:t,onChange:te,key:t,currentValue:z,soundEffectPressed:null!=g?g:re.press,soundEffectHovered:null!=E?E:re.hover,onFocusChanged:_,disabled:oe})))),a.createElement(Df,{options:ce,onClick:Z}))))))}const mx=({children:e,hideDownArrow:t,menuRole:n="secondary",selectedIcon:r,selectedImage:l,disabled:o})=>{const i=Fr(n);return a.createElement("fast-div",{className:Dr()("HLVOE",i.text.interactive)},a.createElement(lg,{icon:r}),l,a.createElement(am,null,e),!t&&a.createElement("div",{className:"IiS3P"},a.createElement(nM.ChevronDown,{role:n,disabled:o})))};dx.ToggleInnerWrapper=mx;const px=e=>!0===(0,r.useFacetUnwrap)(e.when)&&e.containerRef.current?a.createElement(a.Fragment,null,(0,r.createPortal)(e.content,e.containerRef.current)):null,fx=e=>e();function gx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ex(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gx(Object(n),!0).forEach((function(t){hx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hx(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vx({title:e,options:t,value:n,onItemSelect:l,placeholderText:o,buttonRole:i="secondary",dropdownOptionRoleHint:c,dropdownEnumeration:s,dropdownNarrationSuffix:u,itemTypeNarration:d,hideDownArrow:m=!1,buttonTestId:p,closeButtonNarrationSuffix:f,matchButtonHeight:g=!1,gamepadAlias:E,focusOnSelectedItem:h=!1,disabled:v=!1,disabledNarrationSuffix:b,selectedIcon:y,selectedImage:F,role:S="secondary"}){const{t:C}=ec("ModalMenuDropdown"),M=(0,r.useFacetWrap)(n),w=(0,r.useFacetWrap)(null!=o?o:C(".dropdown.placeholder")),k=(0,r.useFacetWrap)(c),T=(0,r.useFacetWrap)(s),I=(0,r.useFacetWrap)(u),P=(0,r.useFacetWrap)(v),x=(0,r.useFacetWrap)(t),O=(0,r.useFacetMap)(((e,t)=>e.find((e=>e.value===t))),[],[x,M]),A=(0,r.useFacetMemo)(((e,t)=>null!=(null==t?void 0:t.isSelected)&&null!=t.isSelectable?e:e.map((e=>Ex(Ex({},e),{},{isSelectable:!1!==e.isSelectable,isSelected:e.value===(null==t?void 0:t.value)})))),[],[x,O]),N=(0,r.useFacetMap)(((e,t)=>{var n;return null!==(n=null==e?void 0:e.label)&&void 0!==n?n:t}),[],[O,w]),R=(0,r.useFacetMap)(((e,t,n)=>[e,C(".dropdown.role"),n?C(".narrationDisabled"):"",t,C(".dropdown.collapsed")].filter(Boolean).join(" . ")),[C],[k,T,P]),_=(0,r.useFacetMemo)(((e,t,n,a)=>{let r;var l;return r=null!=e?null!==(l=e.narrationText)&&void 0!==l?l:e.label:t,[r,C(".dropdown.label.role"),C(".dropdown.label.selected"),n,a?b:""].filter(Boolean).join(" . ")}),[C,b],[O,w,I,P]),L=bx.useModal();return a.createElement(a.Fragment,null,a.createElement(wf,{text:R},a.createElement(Xa,{role:S},a.createElement(ag,{reflection:"specular",variant:i,narrationText:_,onClick:L.show,inputLegend:C(".dropdown.inputLegend"),height:g?4:4.2,isElevated:!0,"data-testid":p,disabled:P,gamepadAlias:E},a.createElement(dx.ToggleInnerWrapper,{disabled:P,hideDownArrow:m,selectedIcon:y,selectedImage:F},N)))),a.createElement(r.Mount,{when:L.isVisible},a.createElement(bx.Component,{title:e,items:A,isOpen:L.isVisible,onClose:L.hide,onItemSelect:e=>{l(e),L.hide()},itemTypeNarration:d,closeButtonNarrationSuffix:f,focusOnSelectedItem:h})))}const bx=Km((e=>a.createElement(lT,e)));function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},yx.apply(this,arguments)}function Fx(e){let{title:t,description:n,customSelectionDescription:l,options:o,value:i,disabled:c,indented:s,wrapperRole:u}=e,d=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["title","description","customSelectionDescription","options","value","disabled","indented","wrapperRole"]);const m=(0,r.useFacetWrap)(o),p=(0,r.useFacetWrap)(i),f=(0,r.useFacetMap)(((e,t)=>e.find((e=>e.value===t))),[],[m,p]),g=(0,r.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.description)&&void 0!==t?t:""}),[],[f]),E=(0,r.useFacetMap)((e=>null==l&&Boolean(e)),[l],[g]),h=[t,n].filter(Boolean).join(" . ");return a.createElement(Kf,{indented:s,narrationText:h,disabled:c,role:u},a.createElement(Yf,{disabled:c},t),null!=n&&a.createElement(qf,{disabled:c},n),a.createElement(om,{size:2}),a.createElement(vx,yx({title:t,options:m,value:i,disabled:c,dropdownNarrationSuffix:g},d)),null!=l&&l,a.createElement(r.Mount,{when:E},a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(qf,{disabled:c},g))))}let Sx=0;const Cx=()=>{};function Mx({options:e,title:t,description:n,onChange:l=Cx,disabled:o=!1,value:i,wrapToggleText:c,onMountComplete:s,soundEffectPressed:u,disabledNarrationSuffix:d,lockToToggles:m=!1}){const p=Cr("neutral"),f=(0,a.useRef)(null),g=(0,r.useFacetWrap)(e),E=((e,t)=>{const[n,a]=(0,r.useFacetState)("unknown"),l=(0,r.useFacetCallback)((e=>t=>{a(t.width<e?"smaller":"bigger")}),[a],[cd(t)]);return pd(e,l),n})(f,(0,r.useFacetMap)((e=>15*e.length),[],[g])),h=(0,r.useFacetMap)((e=>"smaller"===e&&!m),[m],[E]),v=(0,r.useFacetMap)((e=>"unknown"===e),[],[E]);return(0,r.useFacetEffect)((e=>{e||null==s||s()}),[s],[v]),a.createElement("div",{ref:f},a.createElement(r.Mount,{when:h},a.createElement(Fx,{title:t,description:n,options:g,value:i,focusOnSelectedItem:!0,onItemSelect:l,disabled:o,disabledNarrationSuffix:d})),a.createElement(r.Mount,{when:h,condition:!1},a.createElement(wx,{disabledNarrationSuffix:d,options:e,title:t,description:n,onChange:l,disabled:o,value:i,wrapToggleText:c,soundEffectPressed:null!=u?u:p.toggle,skeleton:v})))}function wx({options:e,title:t,description:n,onChange:l=Cx,disabled:o=!1,value:i,wrapToggleText:c,soundEffectPressed:s,disabledNarrationSuffix:u,skeleton:d}){var m,p;const f=(0,r.useFacetUnwrap)(e),g=(0,r.useFacetUnwrap)(i),E=(0,r.useFacetUnwrap)(o),h=(0,a.useRef)("MCT-"+Sx++),{narrateText:v}=gf(),{t:b}=ec("Toggle"),y=ia();if(f===r.NO_VALUE||g===r.NO_VALUE||E===r.NO_VALUE)return null;const F=f.findIndex((e=>e.value===g)),S=null===(m=f.find((e=>e.value===g&&e.description)))||void 0===m?void 0:m.description,C=E&&y?[null!=t?t:"",b(".narrationComponentType"),b(".narrationDisabled"),null===(p=f[F])||void 0===p?void 0:p.label,b(".narrationOptionType"),b(".narrationSelected"),null!=S?S:"",null!=u?u:""].join(" . "):"";return a.createElement(Kf,{focusable:E&&y,narrationText:C},null!=t&&a.createElement(Yf,{disabled:E},t),null!=n?a.createElement(qf,null,n):null,a.createElement(om,{size:1}),a.createElement("div",{className:"RJ8Px"},a.createElement(r.Mount,{when:d,condition:!1},a.createElement(wf,{text:`${null!=t?t:""} ${b(".narrationComponentType")}`},f.map(((e,t)=>a.createElement(QP,{key:t,Icon:e.Icon,onClick:()=>{const e=f[t];v([b(".narrationSelected"),e.narrationSuffix].join(" . ")),function(e){f!==r.NO_VALUE&&l(f[e].value)}(t)},selected:F===t,gamepadIndex:t,gamepadAlias:`${h.current}.${t}`,extraSpeechProps:{index:t,groupSize:f.length,description:e.description},disabled:E,wrapText:c,soundEffectPressed:F===t?void 0:s},e.label))))),a.createElement(r.Mount,{when:d},a.createElement(JP,null))),null!=S&&a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(qf,null,S)))}Mx.displayName="Toggles",Mx.Toggle=QP;const kx=Km((({enableCheats:e,onChange:t,onCloseModal:n})=>{const{t:r}=ec("PlayerPermissionsRoute.EnableCheatsModal"),l=(0,a.useCallback)((()=>{t(),n()}),[n,t]),o=(0,a.useCallback)((()=>{e(),t(),n()}),[e,t,n]);return a.createElement(vE,null,a.createElement(vE.Header,{onClose:n},r(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:r(".description")},r(".description"))),a.createElement(vE.Buttons,null,a.createElement(mg,{inputLegend:r(".inputLegend"),variant:"primary",onClick:o},r(".enableCheatsButton")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:r(".inputLegend"),variant:"secondary",onClick:l},r(".cheatsDisabledButton"))))})),Tx=Km((({playerName:e,onKickPlayer:t,onCloseModal:n})=>{const{t:l}=ec("PlayerPermissionsRoute.KickPlayerModal"),o=(0,r.useFacetMap)((e=>l(".description",[e])),[l],[e]),i=(0,r.useFacetMap)((e=>l(".kickButton",[e])),[l],[e]);return a.createElement(vE,null,a.createElement(vE.Header,{onClose:n},l(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:o},o)),a.createElement(vE.Buttons,null,a.createElement(mg,{inputLegend:l(".inputLegend"),variant:"destructive",onClick:t},i),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:l(".inputLegend"),variant:"secondary",onClick:n},l(".backButton"))))})),Ix=Km((({onCloseModal:e})=>{const{t}=ec("PlayerPermissionsRoute.OperatorRevokedErrorModal");return a.createElement(vE,null,a.createElement(vE.Header,{onClose:e},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:t(".description")},t(".description"))),a.createElement(vE.Buttons,null,a.createElement(mg,{inputLegend:t(".inputLegend"),variant:"secondary",onClick:e},t(".closeButton"))))})),Px=Km((({playerName:e,onCloseModal:t})=>{const{t:n}=ec("PlayerPermissionsRoute.PlayerLeftErrorModal"),l=(0,r.useFacetMap)((e=>n(".description",[e])),[n],[e]);return a.createElement(vE,null,a.createElement(vE.Header,{onClose:t},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:l},l)),a.createElement(vE.Buttons,null,a.createElement(mg,{inputLegend:n(".inputLegend"),variant:"secondary",onClick:t},n(".closeButton"))))}));function xx(e){switch(e){case qM.Build:return".build";case qM.Mine:return".mine";case qM.DoorsAndSwitches:return".doorsAndSwitches";case qM.OpenContainers:return".openContainers";case qM.AttackPlayers:return".attackPlayers";case qM.AttackMobs:return".attackMobs";case qM.OperatorCommands:return".operatorCommands";case qM.Teleport:default:return".teleport"}}const Ox=Km((({onRoleChange:e,onPlayerPermissionChange:t,onCloseModal:n})=>{const{t:r}=ec("PlayerPermissionsRoute.RemoveOperatorLevelModal"),l=(0,a.useCallback)((()=>{e&&e(),t&&t()}),[e,t]);return a.createElement(vE,null,a.createElement(vE.Header,{onClose:n},r(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:r(".description")},r(".description"))),a.createElement(vE.Buttons,null,a.createElement(mg,{inputLegend:r(".inputLegend"),variant:"primary",onClick:l},r(".removeOperatorLevelButton")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:r(".inputLegend"),variant:"secondary",onClick:n},r(".backButton"))))})),Ax=n.p+"assets/generic-error-7df27.png",Nx="ZDyoX";function Rx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rx(Object(n),!0).forEach((function(t){Lx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lx(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Dx=(e,t)=>{switch(e){case ew.Custom:return()=>a.createElement(nM.PermissionCustom,{disabled:t,className:Nx});case ew.Member:return()=>a.createElement(nM.PermissionMemberIcon,{disabled:t,className:Nx});case ew.Operator:return()=>a.createElement(nM.PermissionOperator,{disabled:t,className:Nx});case ew.Visitor:default:return()=>a.createElement(nM.PermissionVisitor,{disabled:t,className:Nx})}};function Wx(){const{t:e}=ec("PlayerPermissionsRoute.Details"),t=ec("PlayerPermissionsRoute.role").t,n=m(),l=sd(),o=p(),i=Tx.useModal(),c=Ox.useModal(),s=kx.useModal(),u=Ix.useModal(),d=Px.useModal(),g=f(),E=vE.useIsAnyModalVisible(),h=Fr("neutral80"),[v,b]=(0,r.useFacetState)(ew.Visitor),[y,F]=(0,r.useFacetState)(""),[S,C]=(0,r.useFacetState)(!1),M=(0,r.useSharedFacet)(ZM),w=(0,r.useSharedFacet)(aw),k=(0,r.useSharedFacet)(uc),T=(0,a.useMemo)((()=>[{label:t(".visitor"),description:e(".roleDropdown.description.visitor"),value:ew.Visitor,Icon:Dx(ew.Visitor,!1),enumeration:e(".optionEnumeration",["1","4"])},{label:t(".member"),description:e(".roleDropdown.description.member"),value:ew.Member,Icon:Dx(ew.Member,!1),enumeration:e(".optionEnumeration",["2","4"])},{label:t(".operator"),description:e(".roleDropdown.description.operator"),value:ew.Operator,Icon:Dx(ew.Operator,!1),enumeration:e(".optionEnumeration",["3","4"])},{label:t(".custom"),description:e(".roleDropdown.description.custom"),value:ew.Custom,Icon:Dx(ew.Custom,!1),enumeration:e(".optionEnumeration",["4","4"])}]),[t,e]),I=(0,r.useFacetMap)((e=>!Boolean(e.canEditPermissions)),[],[M]),P=(0,r.useFacetMap)((e=>e.playerId),[],[g]),x=(0,r.useFacetMap)((e=>e.playerPermissionLevel),[],[M]),O=(0,r.useFacetMemo)((e=>T.map((t=>_x(_x({},t),{},{Icon:Dx(t.value,e)})))),[T],[I]),A=(0,r.useFacetMap)((e=>e.playerPermissionList),[],[M]),N=(0,r.useFacetMemo)(((e,t)=>Dx(e,t)),[],[x,I]),R=(0,r.useFacetMemo)((e=>[Dx(ew.Custom,e),Dx(ew.Member,e),Dx(ew.Operator,e),Dx(ew.Visitor,e)]),[],[I]),_=(0,r.useFacetMemo)(((e,t)=>{var n;return null===(n=e.players.find((e=>e.id===t)))||void 0===n?void 0:n.isHosting}),[],[w,P]),L=(0,r.useFacetMap)((e=>e.isLocalPlayerHosting),[],[w]),D=(0,r.useFacetMap)((e=>e.canKickPlayer),[],[M]),W=(0,r.useFacetMap)(((e,t)=>!Boolean(e)&&t),[],[_,D]),B=(0,r.useFacetMemo)(((e,t)=>{var n;return String(null===(n=e.players.find((e=>e.id===t)))||void 0===n?void 0:n.name)}),[],[w,P]),U=(0,r.useFacetMap)((e=>e.isWorldTemplateOptionsLocked),[],[M]),z=(0,r.useFacetMemo)((t=>{switch(t){case ew.Visitor:return e(".roleDropdown.description.visitor");case ew.Member:return e(".roleDropdown.description.member");case ew.Operator:return e(".roleDropdown.description.operator");case ew.Custom:return e(".roleDropdown.description.custom")}}),[e],[x]),j=(0,r.useFacetMap)((t=>e(".kickButton",[String(t)])),[e],[B]),H=(0,r.useFacetMap)((e=>e.localPlayerID),[],[w]),V=(0,r.useFacetMap)((e=>e.playerIdInvalidFlag),[],[M]),G=(0,r.useFacetMap)((e=>e.selectedPlayerLeftFlag),[],[M]),$=(0,r.useFacetMap)((e=>e.selectedPlayerPermissionsChangedFlag),[],[M]),K=(0,r.useFacetMap)((e=>e.operatorCommandsRevokedFlag),[],[M]),X=(0,r.useFacetMap)((e=>e.kickCommandState===JM.Error),[],[M]),Y=(0,r.useFacetMap)((e=>e.kickCommandState===JM.Success),[],[M]),q=(0,r.useFacetMap)(((e,t)=>e&&!1===t),[],[V,G]),Q=(0,r.useFacetCallback)(((e,t)=>n=>{b(n),e.setPlayerPermissionLevel(t,n)}),[b],[M,P]),J=(0,r.useFacetCallback)(((e,t)=>n=>e===ew.Operator?(b(n),void c.show()):n!==ew.Operator||t.areCheatsEnabled?void Q(n):(b(n),void s.show())),[b,Q,c,s],[x,M]),Z=(0,r.useFacetCallback)(((e,t,n)=>()=>{Q(e),t&&c.hide(),n&&s.hide()}),[Q,c,s],[v,c.isVisible,s.isVisible]),ee=(0,r.useFacetCallback)(((e,t)=>(n,a)=>e.setPlayerPermission(t,n,!a)),[],[M,P]),te=(0,r.useFacetCallback)((e=>t=>e.loadPlayerPermissions(t)),[],[M]),ne=(0,r.useFacetCallback)((e=>()=>e.enableCheats()),[],[M]),ae=(0,a.useCallback)((()=>{n.push("/game-settings"),C(!0)}),[n,C]),re=(0,r.useFacetCallback)(((e,t,a,r)=>()=>{e.kickPlayer(t),r||n.replace(`/player-permissions/${a}`),i.hide()}),[i,n],[M,P,H,G]),le=(0,r.useFacetCallback)((e=>()=>{e.clearErrorFlag(QM.OperatorCommandsPermissionRevoked)}),[],[M]),oe=(0,r.useFacetCallback)(((e,t)=>()=>{e.clearErrorFlag(QM.SelectedPlayerLeftWorld),n.replace(`/player-permissions/${t}`)}),[,n],[M,H,G]),ie=(0,r.useFacetCallback)((e=>t=>e.clearErrorFlag(t)),[],[M]);return(0,r.useFacetEffect)((e=>{te(e)}),[te],[P]),(0,r.useFacetEffect)((e=>{"undefined"!==e&&F(e)}),[F],[B]),(0,r.useFacetEffect)(((t,n,a,r,l,o,i)=>{o||(t&&d.show(),n&&(l.queueSnackbar(e(".notification.selectedPlayerPermissionsChangedFlag")),ie(QM.SelectedPlayerPermissionsChanged)),a&&u.show(),r&&(l.queueSnackbar(e(".notification.kickCommandFailedFlag")),ie(QM.KickCommandFailed)),i&&(l.queueSnackbar(e(".notification.kickCommandSuccess")),ie(QM.KickCommandFailed)))}),[u,d,e,ie],[G,$,K,X,k,E,Y]),(0,r.useFacetEffect)(((e,t)=>{e||d.hide(),t||u.hide()}),[d,u],[G,K]),(0,r.useFacetEffect)(((e,t)=>{!e&&t&&C(!1)}),[C],[o,S]),a.createElement(wl,{data:q},(t=>t?a.createElement(cb,{text:e(".playerIdInvalidFlag"),imgSrc:Ax,imgClass:"xuBtV"}):a.createElement(Ef,null,a.createElement("div",{className:Dr()("Qgqi4",h.border.base)},a.createElement(r.Mount,{when:U},a.createElement(Kf,null,a.createElement(GT,{role:"informative"},a.createElement(GT.Text,null,e(".SettingsLockedBanner.text")),a.createElement(r.Mount,{when:L},a.createElement(GT.Link,{onClick:ae,"data-testId":"settings-locked-link"},e(".SettingsLockedBanner.link")))))),"desktop"===l?a.createElement(Mx,{title:e(".roleDropdown.title"),options:O,value:x,disabled:I,onChange:J}):a.createElement(Kf,null,a.createElement(fm,{type:"body"},e(".roleDropdown.title")),a.createElement(om,{size:2}),a.createElement(vx,{title:e(".roleDropdown.title"),options:T,value:x,disabled:I,onItemSelect:J,buttonTestId:"player-permission-role-dropdown-button",matchButtonHeight:!0,selectedIcon:N}),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionShort",variant:"dimmer"},z)),a.createElement(r.Map,{array:A},(e=>a.createElement(Bx,{item:e,isDisabled:I,selectedRole:x,onPlayerPermissionChange:ee}))),a.createElement(r.Mount,{when:W},a.createElement(Kf,null,a.createElement("div",{className:"QQ4sB"},a.createElement(mg,{inputLegend:e(".kickButton.inputLegend"),horizontal:!0,variant:"destructive",onClick:i.show},j)))),a.createElement("div",{className:"D9oGX"},a.createElement(r.Map,{array:R},(e=>a.createElement(lg,{icon:e}))))),a.createElement(om,{size:2}),a.createElement(r.Mount,{when:i.isVisible},a.createElement(Tx.Component,{playerName:y,onCloseModal:i.hide,onKickPlayer:re})),a.createElement(r.Mount,{when:c.isVisible},a.createElement(Ox.Component,{onRoleChange:Z,onCloseModal:c.hide})),a.createElement(r.Mount,{when:s.isVisible},a.createElement(kx.Component,{enableCheats:ne,onChange:Z,onCloseModal:s.hide})),a.createElement(r.Mount,{when:d.isVisible},a.createElement(Px.Component,{playerName:y,onCloseModal:oe})),a.createElement(r.Mount,{when:u.isVisible},a.createElement(Ix.Component,{onCloseModal:le})),a.createElement(r.Mount,{when:S},a.createElement(ay.Component,{title:e(".loading")})),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))))}function Bx({item:e,isDisabled:t,selectedRole:n,onPlayerPermissionChange:l}){const{t:o}=ec("PlayerPermissionsRoute.Details"),i=Ox.useModal(),c=kx.useModal(),s=(0,r.useSharedFacet)(ZM),u=(0,r.useFacetMap)((e=>e.abilityIndex),[],[e]),d=(0,r.useFacetMap)((e=>e.isEnabled),[],[e]),m=(0,r.useFacetMemo)((e=>o(`.ability${xx(e)}`)),[o],[u]),p=(0,r.useFacetMemo)((e=>o(`.ability.description${xx(e)}`)),[o],[u]),f=(0,r.useFacetCallback)(((e,t,n,a)=>()=>{e!==ew.Operator?t!==qM.OperatorCommands||a.areCheatsEnabled||n?l(t,n):c.show():i.show()}),[l,i,c],[n,u,d,s]),g=(0,r.useFacetCallback)(((e,t,n,a)=>()=>{l(e,t),n&&i.hide(),a&&c.hide()}),[l,i,c],[u,d,i.isVisible,c.isVisible]),E=(0,r.useFacetCallback)((e=>()=>e.enableCheats()),[],[s]);return a.createElement(a.Fragment,null,a.createElement(qb,{title:m,description:p,disabled:t,value:d,onChange:f}),a.createElement(r.Mount,{when:i.isVisible},a.createElement(Ox.Component,{onPlayerPermissionChange:g,onCloseModal:i.hide})),a.createElement(r.Mount,{when:c.isVisible},a.createElement(kx.Component,{enableCheats:E,onChange:g,onCloseModal:c.hide})))}function Ux(){const{t:e}=ec("PlayerPermissionsRoute"),t=m(),n=(0,r.useSharedFacet)(ZM),l=(0,r.useSharedFacet)(rw),o=BP(),i=(0,r.useFacetMap)((t=>e(".title",[t.worldName])),[e],[l]),c=(0,r.useFacetMap)((e=>!e.isInitialized),[],[l]),s=(0,r.useFacetCallback)((e=>()=>{o(),e.requestSavePermissions(),t.goBack()}),[t,o],[n]);return a.createElement(a.Fragment,null,a.createElement(AP,{gamepadAlias:"player-permissions-route",title:i,screenAnalyticsId:"PlayerPermissions",onBack:s},(()=>a.createElement(Yv,null,a.createElement(om,{size:2}),a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:4,narrowSize:3},a.createElement($P,null)),a.createElement(Yv.Column,{wideSize:8,narrowSize:5},a.createElement(Wx,null))),a.createElement(iE.Space,null)))),a.createElement(r.Mount,{when:c},a.createElement(ay.Component,null)),a.createElement(ly,{type:"contentful",renderingCompleted:!0}))}const zx=()=>{const e=Yr(),t=(0,r.useSharedFacet)(pc),n=(0,r.useFacetUnwrap)(t),l=(0,a.useRef)(),{t:o}=ec("RenderDistanceWarningRoute"),i=ia(),c=(0,r.useFacetCallback)((t=>()=>{t.renderDistance=t.defaultRenderDistance,t.showRenderDistanceWarningModal=!1,e.goBack()}),[e],[t]),s=(0,r.useFacetCallback)((t=>()=>{t.showRenderDistanceWarningModal=!1,e.goBack()}),[e],[t]);if(n==r.NO_VALUE)return null;null==l.current&&(l.current=n.renderDistance);const u=[o(".useRecommendedSettingsButton"),o(n.defaultRenderDistance>1?".chunksPluralCaption":".chunksSingularCaption",[`${n.defaultRenderDistance}`])].join(" "),d=l.current>1?".chunksPluralCaption":".chunksSingularCaption",m=[o(".useCurrentSettingsButton"),o(d,[`${l.current}`])].join(" ");return a.createElement(wf,{text:`${o(".title")}. ${o(".body1")}. ${o(".body2")}`},a.createElement(vE,null,a.createElement(vE.Header,null,o(".title")),a.createElement(vE.Content,{focusableIfScrollable:!i},a.createElement(vE.Paragraphs,{narrationText:`${o(".body1")}. ${o(".body2")}`,spaceBetweenParagraphs:5,gamepadIndex:0},a.createElement(fm,{type:"captionLong"},o(".body1")),a.createElement(fm,{type:"captionLong"},o(".body2")))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,autofocus:!0,inputLegend:o(".confirmInputLegend"),variant:"primary",onClick:c},u),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:1,inputLegend:o(".confirmInputLegend"),variant:"secondary",onClick:s},m))))};function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},jx.apply(this,arguments)}function Hx(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const Vx={Root:e=>{let{children:t,title:n,role:l="neutral80",className:o,disableBackButton:i=!0,centerContentVertically:c=!0}=e,s=Hx(e,["children","title","role","className","disableBackButton","centerContentVertically"]);const u=Fr(l),d=(0,r.useFacetMap)((e=>Dr()("k9CX5",u.background.base,u.border.base,u.text.base,e)),[u],[(0,r.useFacetWrap)(o)]);return a.createElement(AP,jx({title:n,disableBackButton:i},s),(({})=>a.createElement(Xa,{role:l},a.createElement(Yv,{centerContentVertically:c},a.createElement(om,{size:2}),a.createElement(Yv.Row,{gamepadIndex:0},a.createElement(Yv.Column,{gamepadIndex:1,wideSize:12,narrowSize:8},a.createElement("fast-div",{className:d},t))),a.createElement(om,{size:2}),a.createElement(iE.Space,null)))))},Body:e=>{let{className:t}=e,n=Hx(e,["className"]);return a.createElement("fast-div",jx({className:Dr()("gOWPB",t)},n))},Footer:({children:e,role:t="inherit",align:n,className:l})=>{const o=Fr(t),i=(0,r.useFacetMap)((e=>Dr()("WGK2I",o.background.base,o.border.base,o.text.base,e)),[o],[(0,r.useFacetWrap)(l)]);return a.createElement("fast-div",{className:i},a.createElement("fast-div",{className:Dr()("sgTeP",o.specular.base,{Hany9:"center"===n})},e))}},Gx="mvxXP",$x=n.p+"assets/capeIncentive-f3fad.png",Kx="CapeIncentiveReceivedTransientRoute";function Xx(){const e=(0,r.useSharedFacet)(ys),t=m(),{t:n}=ec("CapeIncentiveReceivedTransientRoute"),l=Ju(),o=(0,r.useFacetCallback)((e=>()=>{l({screen:Kx,button:"GoToDressingRoom"});const n=e.isPlayFabPreproductionEnvironment?"9adff32f-6a17-45bd-81fd-e0a975f737bd":"99ea16b5-87fa-4bf1-b84d-1a97af77e23d";t.replace(`/persona?itemId=${n}`)}),[t,l],[e]);return a.createElement(Vx.Root,{gamepadAlias:"cape-incentive-received-transient-route",title:n(".title"),screenAnalyticsId:Kx,className:"QRuI_",disableBackButton:!1},a.createElement(Vx.Body,null,a.createElement(Yv,null,a.createElement(Yv.Row,{className:"LJaI6"},a.createElement(fm,{type:"body"},n(".title"))),a.createElement(om,{size:6}),a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:6,narrowSize:4},a.createElement("div",{className:Dr()(Gx,"wp5pp")},a.createElement(Mp,{className:"Howqe",src:$x}))),a.createElement(Yv.Column,{wideSize:6,narrowSize:4},a.createElement("div",{className:Gx},a.createElement(fm,{type:"captionLong",shouldNarrate:!0},n(".text1")),a.createElement(om,{size:4}),a.createElement(fm,{type:"captionLong",shouldNarrate:!0},n(".text2"))))))),a.createElement(Vx.Footer,null,a.createElement(mg,{horizontal:!0,inputLegend:n(".dressingRoomButton"),onClick:o,"data-testid":"dressing-room-button",narrationSuffix:n(".buttonEnumeration",["1","2"])},n(".dressingRoomButton")),a.createElement(om,{size:3}),a.createElement(mg,{horizontal:!0,onClick:()=>{l({screen:Kx,button:"Continue"}),t.goBack()},inputLegend:n(".continueButton"),variant:"primary","data-testid":"continue-button",narrationSuffix:n(".buttonEnumeration",["2","2"])},n(".continueButton"))))}const Yx="O1z7a";function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qx.apply(this,arguments)}const Qx=(e,t,n,r)=>e.map(((l,o,i)=>{let{children:c}=l,s=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(l,["children"]);return a.createElement(a.Fragment,{key:o},a.createElement(mg,qx({gamepadIndex:t?i.length-o:o},s,{horizontal:t,narrationSuffix:n?[r(".buttonEnumeration",[`${o+1}`,`${e.length}`]),s.narrationSuffix].filter(Boolean).join(" . "):s.narrationSuffix}),c),o!==i.length-1&&a.createElement(om,{size:2}))})),Jx=({title:e,narrationSuffix:t,sectionRole:n="neutral80",buttonsRole:r="neutral",leftContent:l,rightContent:o,buttons:i,shouldEnumerateButtons:c,delegateFocusByAlias:s,onGoBack:u})=>{const d=(0,a.useRef)(null),m=Ul(),p=Fr(n),f=Fr(r),g="narrow"===sd(93),{t:E}=ec("HeroMessage"),h=(0,a.useRef)(null),v=[e,t].filter(Boolean).join(" . ");return a.createElement(wf,{text:v},a.createElement(Fp,{containerRef:h,delegateFocusByAlias:s,delegateFocusFromMemory:!0},a.createElement("div",{ref:h,className:"ql95r",style:{marginLeft:m.left+"px",marginRight:m.right+"px",marginTop:m.top+"px",marginBottom:g?0:m.bottom+"px"}},a.createElement("div",{className:"YqX3E"},a.createElement(Yv,{narrowBreakpointWidth:53},a.createElement(Yv.Row,{gamepadIndex:0},a.createElement(Yv.Column,{gamepadIndex:1,wideSize:g?6:7,narrowSize:3},a.createElement("div",{className:Dr()(Yx,"uJ4VV",p.background.base,p.border.base)},a.createElement(fm,{type:g?"header5A":"header3",align:"center"},e),a.createElement("fast-div",{className:"iZMwc"},l))),a.createElement(Yv.Column,{gamepadIndex:2,wideSize:g?6:5,narrowSize:5},a.createElement("div",{className:Dr()("DURQC",p.background.base)},a.createElement(wf,{getText:()=>d.current?[Jv(Zv(d.current))].filter(Boolean).join(" . "):""},a.createElement("div",{className:Dr()("rUQta",Yx,p.border.base),ref:d},o),!g&&a.createElement("div",{className:Dr()("YZFU6",Yx,f.background.base,f.border.base)},Qx(i,!1,c,E))))))))),g&&a.createElement("div",{className:Dr()("sbwOK",f.background.base)},a.createElement(cp,{effect:"bevel",left:!1,right:!1}),a.createElement("div",{className:"N9mIh",style:{paddingLeft:m.left+"px",paddingRight:m.right+"px",paddingBottom:m.bottom+"px"}},Qx(i,!0,c,E)),a.createElement(iE.Space,{addSafeZone:!1}))),!g&&a.createElement(iE.Space,null),u&&a.createElement(Cf,{onClick:u,options:{button:j.B,inputLegend:Lp.Buttons.Back.useLocalization().t(".inputLegend")}}))};Jx.Content=({children:e})=>a.createElement(Ef,{gamepadIndex:-1},a.createElement("div",{className:"Bp0Op"},e));const Zx=n.p+"assets/Sign-in_Cape-35b02.png",eO=n.p+"assets/Sign-in_Cape_Animated-0041a.gif",tO=n.p+"assets/advanced-icon-1b6c5.png",nO=n.p+"assets/experimental-features-icon-dca93.png",aO=n.p+"assets/cheats-icon-33f13.png",rO=n.p+"assets/debug-icon-1cb52.png",lO=n.p+"assets/general-icon-8ce31.png",oO=n.p+"assets/resource-packs-icon-e08f7.png",iO=n.p+"assets/multiplayer-icon-d7d04.png",cO=n.p+"assets/behaviour-packs-icon-2f4af.png",sO=n.p+"assets/icon-highlight-spritesheet-87ec6.png",uO=({iconSrc:e,selected:t,border:n=!1,variant:l="small"})=>{const o=Fr("neutral"),i=(0,r.useFacetMap)((e=>!e),[],[(0,r.useFacetWrap)(null!=t&&t)]),c="large"==l;return a.createElement("div",{className:c?"w3iOH":"N3UCJ"},a.createElement(Mp,{aspectRatio:Mp.AspectRatio["1:1"],src:e,className:Dr()("f2nZb",{qUO41:c}),imageRendering:"pixelated"}),n&&a.createElement("div",{className:Dr()(o.border.base,"Taoxo",{LVMpO:c})}),a.createElement("div",{className:"EvXg5"},a.createElement(pF,{disabled:i,src:sO,frames:8,duration:500,width:c?36:21.6,height:c?4:2.4,repeat:1,imageRendering:"pixelated"})))},dO=n.p+"assets/hardcore-heart-4e8a8.png",mO=n.p+"assets/hardcore-heart-dead-78091.png",pO=n.p+"assets/hardcore-heart-animation-acc5d.png";function fO({animate:e,dead:t,className:n,startFrame:l}){const o=(0,r.useFacetWrap)(t),i=(0,r.useFacetMap)((e=>Dr()("NUwUL",e)),[],[(0,r.useFacetWrap)(n)]),c=(0,r.useFacetMap)(((e,t)=>!(null!=e&&e)||null!=t&&t),[],[(0,r.useFacetWrap)(e),o]),s=(0,r.useFacetMap)((e=>null!=e?e:0),[],[(0,r.useFacetWrap)(l)]),u=(0,r.useFacetMap)((e=>null!=e&&e?mO:dO),[],[o]);return a.createElement(a.Fragment,null,a.createElement(Mp,{src:u,className:i,imageRendering:"pixelated"}),a.createElement(pF,{key:"hardcore-heart",src:pO,disabled:c,className:i,frames:14,duration:2240,width:30,height:2,imageRendering:"pixelated",startFrame:s}))}const gO=n.p+"assets/hardcore-smoke-animation-fdeab.png";function EO(e,t){switch(e){case fI.CREATE:return"create-new-world";case fI.EDIT:return`edit-world/${t}`;case fI.EDIT_REALM:return`edit-realm-world/${t}`}}(0,a.createContext)({});const hO="main-button",vO="secondary-button";function bO({worldPreviewImage:e,showSpinner:t,worldPacks:n,isHardcoreMode:l,playerHasDied:o,sideMenuButtons:i,onEditThumbnail:c}){const s=(0,a.useContext)(gI)===fI.CREATE,u=(0,r.useSharedFacet)(il),d=(0,a.useRef)(null),m=(0,a.useCallback)((()=>{d.current&&(d.current.scrollHeight?d.current.scrollTop=0:requestAnimationFrame(m))}),[]);(0,r.useFacetEffect)(m,[m],[e]);const p=(0,r.useFacetMap)((e=>Qw(e.platform)&&(e.isStorageLow||e.isStorageFull)),[],[u]),f=(0,r.useFacetUnwrap)(p),g=f!==r.NO_VALUE&&f?vO:hO;return a.createElement(a.Fragment,null,a.createElement(RP,{loading:t,scrollViewRef:d,delegateFocusByAlias:g,gamepadAlias:"cnw-side-menu"},a.createElement(RP.Item,null,a.createElement(MO,{isHardcoreMode:l,playerHasDied:o,isCreateWorld:s,worldPreviewImage:e,onEditThumbnail:c})),a.createElement(om,{size:2}),i,a.createElement(om,{size:2}),a.createElement(yO,{worldPacks:n})))}const yO=({worldPacks:e})=>{const t=(0,r.useFacetMap)((e=>{const t=[{label:".generalTabLabel",image:lO,value:"general"}];return t.push({label:".advancedTabLabel",image:tO,value:"advanced"},{label:".multiplayerTabLabel",image:iO,value:"multiplayer"}),t.push({label:".cheatsTabLabel",image:aO,value:"cheats"}),t.push({label:".resourcePacksTabLabel",image:oO,value:"resource-packs"},{label:".behaviorPacksTabLabel",image:cO,value:"behavior-packs"}),t.push({label:".experimentalFeaturesTabLabel",image:nO,value:"experimental"}),t.push({label:".debugTabLabel",image:rO,value:"debug"}),t}),[],[(0,r.useSharedFacet)(mi)]);return a.createElement(RP.ItemList,{items:t,renderItem:t=>a.createElement(SO,{item:t.item,worldPacks:e})})},FO=(e,t,n)=>`/${e}/${t}/${n?"available":"active"}`,SO=({item:e,worldPacks:t})=>{const{t:n}=tc("CreateNewWorldSideMenu"),l=m(),o=(0,r.useFacetMap)((e=>e.label.includes(".debugTabLabel")?"Debug":n(e.label)),[n],[e]),i=f(),c=(0,r.useFacetMap)(((e,t)=>t.tab===e.value),[],[e,i]),s=(0,a.useContext)(gI),u=(0,r.useFacetMap)((e=>e.activeTexturePacks),[],[t]),d=(0,r.useFacetMap)((e=>e.activeBehaviorPacks),[],[t]);return a.createElement(RP.ListItem,{narrationText:o,onSelect:(0,r.useFacetCallback)(((e,t,n,a)=>()=>{var r;if(e.value===t.tab)return;const o=EO(s,null!==(r=t.id)&&void 0!==r?r:"");"resource-packs"===e.value?l.replace(FO(o,e.value,0===n.length)):"behavior-packs"===e.value?l.replace(FO(o,e.value,0===a.length)):l.replace(`/${o}/${e.value}`)}),[l,s],[e,i,u,d]),value:(0,r.useFacetMap)((e=>e.value),[],[e]),selected:c,inputLegend:n(".inputLegendSelect")},a.createElement(RP.ItemCell,null,a.createElement(uO,{iconSrc:(0,r.useFacetMap)((e=>e.image),[],[e]),selected:c})),a.createElement(RP.ItemMain,null,a.createElement(fm,{type:"body"},o)))};function CO({onEditThumbnail:e}){const{t}=tc("EditWorld");return a.createElement("div",{className:"M_Sas"},a.createElement(hT,{inputLegend:t(".editThumbnailButton"),narrationText:t(".editThumbnailButton"),onClick:e,"data-testid":"edit-thumbnail-button"},a.createElement(nM.EditImage,null)))}function MO({isHardcoreMode:e,playerHasDied:t,worldPreviewImage:n,isCreateWorld:l,onEditThumbnail:o}){const i=Tv(Ii.ScreenshotsGallery),[c,s]=(0,a.useState)(!1),u=Fr("neutral80"),d=no(),m=(0,r.useFacetMap)(((e,t,n)=>Dr()(u.border.base,"eRldN",{Fs2QM:e,dgfTQ:t&&l,V2KVp:n})),[u,l],[e,d,t]);(0,r.useFacetEffect)((e=>s((t=>!(!l||!e)||t))),[l],[e]);const p=(0,r.useFacetMap)((e=>e?"hardcore-smoke-on":"hardcore-smoke-off"),[],[e]),f=(0,r.useFacetMap)((e=>!l&&i&&o&&!e),[l,o,i],[(0,r.useSharedFacet)(vu)]);return a.createElement(a.Fragment,null,a.createElement(Mp,{src:n,aspectRatio:Mp.AspectRatio["16:9"],className:m}),a.createElement(r.Mount,{when:f},a.createElement(CO,{onEditThumbnail:o})),a.createElement(r.Mount,{when:e},a.createElement(fO,{animate:!0,dead:t,className:"KdiH7"})),c&&a.createElement(wl,{data:p},(e=>a.createElement(pF,{key:e,src:gO,className:"onv8P",frames:10,duration:1e3,repeat:1,width:24.2,height:3.9,imageRendering:"pixelated"}))))}bO.SideMenuList=yO,bO.AdvancedIcon=tO,bO.ExperimentalFeaturesIcon=nO,bO.CheatsIcon=aO,bO.DebugIcon=rO,bO.GeneralIcon=lO,bO.ResourcePacksIcon=oO,bO.MultiplayerIcon=iO,bO.BehaviourPacksIcon=cO,bO.SideMenuItem=SO;function wO({title:e,description:t,role:n="neutral"}){const r=Fr(n);return a.createElement("div",{className:Dr()(r.background.base)},a.createElement(om,{size:6}),a.createElement(fm,{type:"sectionHeader",role:n},a.createElement(om,{size:6}),a.createElement("fast-text",{text:e})),null!=t&&a.createElement("div",{className:"Ddo87"},a.createElement(fm,{type:"captionShort",variant:"dimmer",role:n},a.createElement("fast-text",{text:t}))),a.createElement(om,{size:1}))}function kO({children:e}){return a.createElement(a.Fragment,null,e)}function TO({children:e,role:t="neutral"}){const n=Fr(t);return a.createElement("div",{className:Dr()(n.background.base,n.text.base)},e)}const IO="achievements-primary-button",PO="achievements-secondary-button",xO=Km((({onConfirm:e,onClose:t,reasons:n,isEditWorld:l=!1})=>{const{t:o}=ec("AchievementDisabledModal"),i=(0,r.useFacetWrap)(null!=e),c=(0,r.useFacetMap)((e=>l?o(".firstParagraphEW"):e.length>1?o(".firstParagraph"):o(".firstParagraph.singleReason")),[o,l],[n]),s=o(l?".confirmButtonEW":".confirmButton"),u=(0,r.useFacetMap)((e=>o(e?".goBackButton":".closeButton")),[o],[i]),d=(0,a.useCallback)((()=>{t(),e&&e()}),[t,e]);return a.createElement(vE,{onOverlayClick:t,defaultFocusAlias:null!=e?IO:PO},a.createElement(vE.Header,{onClose:t},o(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:c},c),a.createElement(vE.Text,{narrationText:o(".secondParagraph")},o(".secondParagraph")),a.createElement(vE.List,{items:n}),a.createElement(om,{size:4})),a.createElement(vE.Buttons,null,a.createElement(r.Mount,{when:i},a.createElement(a.Fragment,null,a.createElement(mg,{gamepadAlias:IO,"data-testid":"achievements-disabled-modal-button",inputLegend:s,variant:"primary",onClick:d},s),a.createElement(om,{size:1}))),a.createElement(mg,{gamepadAlias:PO,inputLegend:u,variant:"secondary",onClick:t,"data-testid":"achievements-disabled-close-button"},u)))})),OO="addon-stacking-modal-confirm",AO=Km((({activatePackModal:e,onAccept:t,onCancel:n})=>{const{t:l}=ec("EditWorld.addonStackingWarningModal"),[o,i]=(0,r.useFacetState)(!1),c=(0,r.useSharedFacet)(sc),s=(0,r.useFacetCallback)(((e,n)=>()=>{n&&(e.doNotShowAddonStackingWarning=!0),t()}),[t],[c,o]);return a.createElement(vE,{onOverlayClick:n,defaultFocusAlias:OO},a.createElement(vE.Header,{onClose:n},l(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:l(".description"),center:!0},l(".description"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:OO,gamepadIndex:0,inputLegend:l(e?".cancelButton":".confirmButton"),onClick:n,variant:"primary"},l(e?".cancelButton":".confirmButton")),e&&a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:1,inputLegend:l(".confirmButton"),onClick:s},l(".confirmButton")),a.createElement(vE.Checkbox,{onChange:i,title:l(".doNotShow"),value:o}))))})),NO="behavior-packs-modal-confirm",RO=Km((({packId:e,type:t,onAccept:n,hideModal:r})=>{const{t:l}=ec("CreateNewWorld.behaviorPacksRemoveModal"),o="deactivate"==t;return a.createElement(vE,{onOverlayClick:r,defaultFocusAlias:NO},a.createElement(vE.Header,{onClose:r},l(o?".deactivateTitle":".activateTitle")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:l(o?".messageDeactivate":".messageActivate"),center:!0},l(o?".messageDeactivate":".messageActivate"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:NO,gamepadIndex:0,inputLegend:l(o?".copyContinueLabel":".dontAddPackLabel"),onClick:o?()=>{n(e,!0),r()}:r,variant:"primary"},l(o?".copyContinueLabel":".dontAddPackLabel")),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:1,inputLegend:l(o?".continueLabel":".addPackLabel"),onClick:()=>{n(e,!1),r()}},l(o?".continueLabel":".addPackLabel"))))})),_O="content-key-error-modal-back",LO=Km((()=>{const{t:e}=ec("CreateNewWorld.resourcePacks"),t=(0,r.useSharedFacet)(ju),n=(0,r.useFacetMap)((t=>{const n=t.brokenPacksToStart.map((e=>e.name)),a=n.map((e=>`"${e}"`)),r=n.length>1;return e(r?".contentKeyErrorBodyMultiple":".contentKeyErrorBody",[a.join(", ")])}),[e],[t]),l=(0,r.useFacetCallback)((e=>()=>e.clearStartLocalWorldResult()),[],[t]);return a.createElement(vE,{onOverlayClick:l,defaultFocusAlias:_O},a.createElement(vE.Header,{onClose:l},e(".contentKeyErrorTitle")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:n,gamepadIndex:0,center:!0},n)),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:_O,variant:"secondary",inputLegend:e("PlatformLockedModal.closeInputLegend"),onClick:l},e("PlatformLockedModal.closeInputLegend"))))})),DO="create-on-realms-error-back",WO=Km((()=>{const{t:e}=ec("CreateNewWorld"),t=(0,r.useSharedFacet)(bi),n=(0,r.useFacetCallback)((e=>()=>{e.clearErrors()}),[],[t]),l=(0,r.useFacetMap)((t=>{switch(t.createOnRealmsError){case hi.UNASSIGNED_DEV_VERSION:return{title:e(".createOnRealmsError.unassignedDevVersion.title"),message:e(".createOnRealmsError.unassignedDevVersion.message"),message2:e(".createOnRealmsError.unassignedDevVersion.message2")};case hi.MEMBER_OF_TOO_MANY_REALMS:return{title:e(".createOnRealmsError.memberOfTooManyRealms.title"),message:e(".createOnRealmsError.memberOfTooManyRealms.message"),message2:""};case hi.CANNOT_CONNECT_TO_REALM:return{title:e(".createOnRealmsError.cannotConnectToRealm.title"),message:e(".createOnRealmsError.cannotConnectToRealm.message"),message2:""};case hi.CROSS_PLATFORM_RESTRICTED:return{title:e(".createOnRealmsError.crossPlatformRestricted.title"),message:e(".createOnRealmsError.crossPlatformRestricted.message"),message2:e(".createOnRealmsError.crossPlatformRestricted.message2")};case hi.UNKNOWN:default:return{title:e(".createOnRealmsError.unknown.title"),message:e(".createOnRealmsError.unknown.message"),message2:""}}}),[e],[t]),o=(0,r.useFacetMap)((e=>e.title),[],[l]),i=(0,r.useFacetMap)((e=>e.message),[],[l]),c=(0,r.useFacetMap)((e=>e.message2),[],[l]),s=(0,r.useFacetMap)((e=>""!=e.message2),[],[l]);return a.createElement(vE,{defaultFocusAlias:DO},a.createElement(vE.Header,{onClose:n},o),a.createElement(vE.Content,null,a.createElement(r.Mount,{when:s,condition:!1},a.createElement(vE.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),a.createElement(r.Mount,{when:s,condition:!0},a.createElement(vE.Paragraphs,{narrationText:`${i}. ${c}`,spaceBetweenParagraphs:5,gamepadIndex:0},a.createElement(fm,{type:"captionLong",align:"center"},i),a.createElement(fm,{type:"captionLong",align:"center"},c)))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:DO,inputLegend:e(".createOnRealmsError.close"),variant:"secondary",onClick:n},e(".createOnRealmsError.close"))))})),BO="create-world-error-back",UO=Km((function(){const{t:e}=ec("CreateNewWorld"),t=(0,r.useSharedFacet)(bi),n=(0,r.useFacetCallback)((e=>()=>{e.clearErrors()}),[],[t]),l=(0,r.useFacetMap)((e=>e.createWorldError),[],[t]),o=(0,r.useFacetMap)((t=>{switch(t){case vi.NOT_ENOUGH_STORAGE:return{title:e(".createWorldError.notEnoughStorage.title"),message:e(".createWorldError.notEnoughStorage.message")};case vi.MISSING_CONTENT_KEY:default:return{title:e(".resourcePacks.contentKeyErrorTitle"),message:e(".resourcePacks.contentKeyErrorBodyNoName")}}}),[e],[l]),i=(0,r.useFacetMap)((e=>e.title),[],[o]),c=(0,r.useFacetMap)((e=>e.message),[],[o]);return a.createElement(vE,{defaultFocusAlias:BO},a.createElement(vE.Header,{onClose:n},i),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:c,center:!0},c)),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:BO,inputLegend:e(".createWorldError.close"),variant:"secondary",onClick:n},e(".createWorldError.close"))))})),zO=n.p+"assets/hardcore-heart-white-6b381.png";function jO({worldId:e,screen:t,button:n,telemetryLocation:a}){const l=(0,r.useSharedFacet)(cc),o=Ju(),i=(0,r.useFacetMap)((e=>e.joinRealmTaskState),[],[l]),c=uk((e=>function*(t){e.joinRealmWorld(t,a),yield i,e.clearJoinRealmTaskState()}),[i,a],[l]);return(0,r.useFacetCallback)((e=>()=>{o({screen:t,button:n,details:{realmId:e}}),c(e)}),[c,o,t,n],[e])}const HO="hardcore-mode-world-warning-modal-play",VO=Km((({onCancel:e,onSubmit:t})=>{const{t:n}=ec("CreateNewWorld.hardcoreModeWorldModal"),[l,o]=(0,r.useFacetState)(!1),i=(0,r.useSharedFacet)(sc),c=(0,r.useFacetCallback)(((n,a)=>()=>{a&&(n.doNotShowHardcoreModeWarning=!0),t(),e()}),[e,t],[i,l]);return a.createElement(vE,{defaultFocusAlias:HO},a.createElement(vE.Header,{onClose:e},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:n(".body")},n(".body")),a.createElement(om,{size:2}),a.createElement(vE.OrderedList,{items:(0,r.useFacetWrap)([n(".bodyListItem1"),n(".bodyListItem2"),n(".bodyListItem3")]),gamepadIndex:1}),a.createElement(om,{size:6})),a.createElement(vE.Buttons,{header:a.createElement(vE.Checkbox,{value:l,onChange:o,title:n(".doNotShowAgain")})},a.createElement(mg,{gamepadAlias:HO,inputLegend:n(".createWorld"),variant:"primary",delayedClick:!0,onClick:c,imgSrc:zO},n(".createWorld")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:n(".goBack"),variant:"secondary",delayedClick:!0,onClick:e},n(".goBack"))))}));function GO(){const e=m(),t=p(),n=VO.useModal(!0),l=f(),o=jO({worldId:(0,r.useFacetMap)((e=>{var t;return null!==(t=e.realmId)&&void 0!==t?t:""}),[],[l]),screen:"HardcoreModeWorldWarningModal",button:"PlayNow",telemetryLocation:ic.PlayScreen}),i=(0,r.useFacetMap)(((e,t)=>e&&t),[],[t,n.isVisible]),c=(0,a.useCallback)((()=>{e.goBack()}),[e]),s=(0,a.useCallback)((()=>{e.goBack(),o()}),[e,o]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:i},a.createElement(VO.Component,{onSubmit:s,onCancel:c})))}Km((({title:e,description:t})=>a.createElement(vE,null,a.createElement(vE.Header,null,e),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:t,gamepadIndex:0,center:!0},t)))));const $O="leaving-cnw-for-marketplace-modal-cancel",KO=Km((({onAccept:e})=>{const{t}=ec("CreateNewWorld.leavingCNWForMarketplaceModal"),n=$m();return a.createElement(vE.Overlay,{onClick:n},a.createElement(vE,{defaultFocusAlias:$O},a.createElement(vE.Header,{onClose:n},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:t(".message"),gamepadIndex:0,center:!0},t(".message"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,gamepadAlias:$O,inputLegend:t(".cancel"),variant:"secondary",onClick:n},t(".cancel")),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:1,inputLegend:t(".continue"),variant:"primary",onClick:()=>{e(),n()}},t(".continue")))))})),XO="lyc-modal-continue",YO=Km((({onLeave:e})=>{const{t}=ec("CreateNewWorld.loseYourChangesModal"),n=$m();return a.createElement(vE,{defaultFocusAlias:XO},a.createElement(vE.Header,{onClose:n},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:t(".message"),gamepadIndex:0,center:!0},t(".message"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,gamepadAlias:XO,inputLegend:t(".continueInputLegend"),variant:"secondary",onClick:n},t(".continueButton")),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:1,inputLegend:t(".leaveInputLegend"),variant:"destructive",onClick:()=>{n(),e()}},t(".leaveButton"))))})),qO="mpl-modal-go-back",QO=Km((({multiplayerData:e,activePacks:t,onDeactivatePack:n})=>{const{t:l}=ec("CreateNewWorld.multiplayerPlatformLockedModal"),o=$m(),i=(0,r.useFacetMap)((e=>mw(e,(e=>e.isPlatformLocked))),[],[t]),c=(0,r.useFacetMap)((e=>e.length>1?l(".titlePlural"):l(".titleSingular")),[l],[i]),s=(0,r.useFacetMap)((e=>{var t,n;return e.length>1?l(".messagePlural",[Rk(e,1).map((e=>e.name)).join(", "),null===(t=e[0])||void 0===t?void 0:t.name]):l(".messageSingular",[null===(n=e[0])||void 0===n?void 0:n.name])}),[l],[i]),u=(0,r.useFacetMap)((e=>e.length>1?l(".removeButtonPlural"):l(".removeButtonSingular")),[l],[i]),d=(0,r.useFacetCallback)(((e,t)=>()=>{o(),n&&t.forEach((e=>n(e.id,_u.Resource))),e.multiplayerGame=!0}),[o,n],[e,i]);return a.createElement(vE,{defaultFocusAlias:qO},a.createElement(vE.Header,{onClose:o},c),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:s,gamepadIndex:0},s)),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,inputLegend:l(".removeInputLegend"),variant:"primary",onClick:d},u),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:1,gamepadAlias:qO,inputLegend:l(".closeInputLegend"),variant:"secondary",onClick:o},l(".goBackButton"))))})),JO="stay-button-alias",ZO=Km((({optOutCallback:e,closeModal:t})=>{const{t:n}=ec("CreateNewWorld.optBackModal");return a.createElement(vE,{onOverlayClick:t,defaultFocusAlias:JO},a.createElement(vE.Header,{onClose:t},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:n(".message"),center:!0},n(".message"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:JO,inputLegend:n(".stayInputLegend"),variant:"primary",onClick:t},n(".stayButton")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:n(".goBackInputLegend"),variant:"secondary",onClick:()=>{t(),e()}},n(".goBackButton"))))})),eA="rpl-modal-go-back",tA=Km((({packId:e,onAccept:t})=>{const{t:n}=ec("CreateNewWorld.resourcePacksDependencyWarningModal"),r=n(".body"),l=n(".activatePackButton"),o=$m();return a.createElement(vE,{onOverlayClick:o,defaultFocusAlias:eA},a.createElement(vE.Header,{onClose:o},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:r,gamepadIndex:0,center:!0},r)),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,gamepadAlias:eA,inputLegend:n(".closeInputLegend"),variant:"primary",onClick:o},n(".goBackButton")),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:1,inputLegend:l,onClick:()=>{o(),t(e)}},l)))})),nA="rpdl-modal-accept",aA=Km((({packId:e,packName:t,packSize:n,supportsSizeQuery:l,availableSize:o,onAccept:i})=>{const{t:c}=ec("CreateNewWorld.packDownloadModal"),s=(0,r.useFacetMap)((e=>c(".confirmationBodyActivate",[e])),[c],[t]),u=c(".confirmationBodyPackSize",[n]),d=(0,r.useFacetMap)((e=>c(".confirmationBodyAvailableSize",[e])),[c],[o]),m=$m(),p=(0,r.useFacetCallback)((t=>()=>{i(e,t),m()}),[i,m,e],[t]);return a.createElement(vE,{defaultFocusAlias:nA},a.createElement(vE.Header,{onClose:m},c(".confirmationTitle")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:s},s),a.createElement(vE.Paragraphs,{narrationText:`${u}. ${d}`,spaceBetweenParagraphs:1,gamepadIndex:1},a.createElement(fm,{type:"captionLong"},u),a.createElement(r.Mount,{when:l},a.createElement(fm,{type:"captionLong"},d)))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:nA,gamepadIndex:0,inputLegend:c(".confirmationDownloadAndActivateButton"),onClick:p,variant:"primary"},c(".confirmationDownloadAndActivateButton")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:c(".confirmationCancelButton"),onClick:m,gamepadIndex:1},c(".confirmationCancelButton"))))})),rA="rpdl-modal-accept",lA=(Km((({worldId:e,packIds:t,packNames:n,packSizes:l,availableSize:o,onAccept:i})=>{const{t:c}=ec("CreateNewWorld.packDownloadModal"),s=n.map((e=>`"${e}"`)),u=t.length>1,d=c(u?".confirmationBodyMultiple":".confirmationBody",[s.join(", ")]),m=c(".confirmationBodyPackSize",[l]),p=(0,r.useFacetMap)((e=>c(".confirmationBodyAvailableSize",[e])),[c],[o]),f=$m(),g=(0,a.useCallback)((()=>{i(e,t),f()}),[i,f,e,t]);return a.createElement(vE,{defaultFocusAlias:rA},a.createElement(vE.Header,{onClose:f},c(".confirmationTitleAlt")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:d},d),a.createElement(vE.Paragraphs,{narrationText:`${m} . ${p}`,spaceBetweenParagraphs:1,gamepadIndex:1},a.createElement(fm,{type:"captionLong"},m),a.createElement(fm,{type:"captionLong"},p))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:rA,gamepadIndex:0,inputLegend:c(".confirmationDownloadButton"),onClick:g,variant:"primary"},c(".confirmationDownloadButton")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:c(".confirmationCancelButton"),onClick:f,gamepadIndex:1},c(".confirmationCancelButton"))))})),"rpdl-modal-cancel"),oA=Km((()=>{const{t:e}=ec("CreateNewWorld.resourcePacks"),t=(0,r.useSharedFacet)(Bu),n=(0,r.useFacetMap)((e=>e.packDownloadError),[],[t]),l=(0,r.useFacetMap)((e=>e.packDownloadErrorData.storageSpaceNeeded),[],[t]),o=(0,r.useFacetMap)((e=>e.packDownloadErrorData.packTitles),[],[t]),i=(0,r.useFacetCallback)((e=>()=>{e.cancelPackDownload(),e.getPackSizesReset()}),[],[t]),c=(0,r.useFacetMap)((t=>t===Wu.MissingDlcWorldTemplate?e(".downloadWorldTemplateNoInternetTitle"):t===Wu.NoInternet?e(".downloadNoInternetTitle"):t===Wu.InitializationTimeout?e(".initializationTimeoutTitle"):t===Wu.HasPerformanceIssues?e(".errorIncompatibleDeviceTitle"):t===Wu.NotEnoughDiskSpace?e(".errorNotEnoughDiskSpaceTitle"):e(".errorUnknownTitle")),[e],[n]),s=(0,r.useFacetMap)(((t,n,a)=>t===Wu.MissingDlcWorldTemplate?e(".downloadWorldTemplateNoInternetMsg"):t===Wu.NoInternet?e(".connectionFailedBody"):t===Wu.InitializationTimeout?e(".initializationTimeoutBody"):t===Wu.HasPerformanceIssues?e(".errorIncompatibleDeviceBody"):t===Wu.NotEnoughDiskSpace?e(".errorNotEnoughDiskSpaceBody",[n,a.length>0?a[0]:""]):e(".errorUnknownBody")),[e],[n,l,o]),u=(0,r.useFacetMap)((t=>t===Wu.InitializationTimeout?e(".initializationTimeoutButton"):e(".goBackButton")),[e],[n]),d=(0,r.useFacetMap)((t=>t===Wu.MissingDlcWorldTemplate?e(".downloadWorldTemplateMsgRemovePacks"):""),[e],[n]),m=(0,r.useFacetUnwrap)(n)===Wu.MissingDlcWorldTemplate;return a.createElement(vE,{defaultFocusAlias:lA},a.createElement(vE.Header,{onClose:i},c),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:s,center:!m},s),m&&a.createElement(vE.Text,{gamepadIndex:1,narrationText:d,center:!0},d)),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:lA,inputLegend:u,onClick:i},u)))})),iA="rpdl-modal-close",cA="rpdl-modal-content",sA=Km((({title:e,percentage:t,isImportingPack:n,onCancel:l=(()=>{})})=>{const{t:o}=ec("CreateNewWorld.packDownloadModal"),i=(0,r.useFacetMap)((e=>o(e?".importingProgressLabel":".downloadingProgressLabel")),[o],[n]),c=ia(),s=Se();return(0,r.useFacetEffect)((e=>{e&&c&&s(cA)}),[s,c],[n]),a.createElement(vE,{defaultFocusAlias:iA},a.createElement(vE.Header,{onClose:l,titlebarGamepadAlias:iA,hideCloseButton:n},e),a.createElement(vE.Content,{gamepadAlias:cA},a.createElement(vE.Text,{gamepadIndex:0,narrationText:i,center:!0},i),a.createElement(vE.Progress,{percentage:t})))})),uA="rpdl-modal-cancel",dA=Km((({errorCode:e})=>{const{t}=ec("CreateNewWorld.resourcePacks"),n=$m(),r=e===Du.NoManifest||e===Du.MissingProperty||e===Du.WrongTypeProperty||e===Du.EmptyProperty||e===Du.InvalidProperty||e===Du.InvalidJSON||e===Du.MalformedPropertyUUID||e===Du.MalformedPropertyVERSION||e===Du.DuplicateUUID||e===Du.MissingModules||e===Du.MultipleModules||e===Du.UnsupportedFormatVersion,l=e===Du.ContentTierIncompatible?t(".errorIncompatibleDeviceTitle"):e===Du.ContentTierIncompatibleMemory?t(".errorIncompatibleMemoryTitle"):e===Du.ContentTierIncompatibleRayTracing?t(".errorIncompatibleRayTracingTitle"):e===Du.PackSelectErrorNoStore?t(".errorNoStoreTitle"):e===Du.PackSelectErrorRequiredDependency?t(".errorRequiredDependencyTitle"):e===Du.NoPackAccess?t(".errorFileAccessTitle"):e===Du.VersionTooHigh||e===Du.VersionTooLow?t(".errorIncompatibleVersionTitle"):e===Du.IncompletePack?t(".errorIncompleteTitle"):e===Du.UnsupportedFileFormat?t(".errorUnsupportedFormatTitle"):e===Du.InitializationTimeout?t(".errorInitializationTimeoutTitle"):t(r?".errorReadingTitle":".errorUnknownTitle"),o=e===Du.ContentTierIncompatible?t(".errorIncompatibleDeviceBody"):e===Du.ContentTierIncompatibleMemory?t(".errorIncompatibleMemoryBody"):e===Du.ContentTierIncompatibleRayTracing?t(".errorIncompatibleRayTracingBody"):e===Du.PackSelectErrorNoStore?t(".errorNoStoreBody"):e===Du.PackSelectErrorRequiredDependency?t(".errorRequiredDependencyBody"):e===Du.NoPackAccess?t(".errorFileAccessBody"):e===Du.VersionTooHigh?t(".errorIncompatibleVersionHighBody"):e===Du.VersionTooLow?t(".errorIncompatibleVersionLowBody"):e===Du.IncompletePack?t(".errorIncompleteBody"):e===Du.UnsupportedFileFormat?t(".errorUnsupportedFormatBody"):e===Du.InitializationTimeout?t(".errorInitializationTimeoutBody"):t(r?".errorReadingBody":".errorUnknownBody"),i=e===Du.InitializationTimeout?t(".errorInitializationTimeoutButton"):t(".goBackButton");return a.createElement(vE,{defaultFocusAlias:uA},a.createElement(vE.Header,{onClose:n},l),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:o},o)),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:uA,inputLegend:i,onClick:n},i)))})),mA="rpl-modal-go-back",pA=Km((({multiplayerData:e,packId:t,packName:n,packSize:l,packType:o,onActivatePack:i})=>{const{t:c}=ec("CreateNewWorld.resourcePacksPlatformLockedModal"),s=(0,r.useFacetMap)((e=>c(".body",[e])),[c],[n]),u=$m();return a.createElement(vE,{onOverlayClick:u,defaultFocusAlias:mA},a.createElement(vE.Header,{onClose:u},c(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:s,gamepadIndex:0,center:!0},s)),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,inputLegend:c(".removeInputLegend"),variant:"primary",onClick:()=>{e.multiplayerGame=!1,i(t,o,n,l),u()}},c(".turnOffMultiplayerAndApplyPackButton")),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:1,gamepadAlias:mA,inputLegend:c(".closeInputLegend"),variant:"secondary",onClick:u},c(".goBackButton"))))})),fA="create-world-platform-guest-modal",gA=Km((({onClose:e,mode:t})=>{const{t:n}=ec("CreateNewWorld"),l=function(e){const{t}=ec("CreateNewWorld"),n=m(),a=Ju();return(0,r.useFacetMap)((e=>"nintendoGuestCreateWorld"===e?{message:t(".signInPromptWorldOnRealmModal.platformGuestCreate.nintendo.message")}:"nintendoGuestEditWorld"===e?{message:t(".signInPromptWorldOnRealmModal.platformGuestEdit.nintendo.message")}:"playstationGuestCreateWorld"===e?{message:t(".signInPromptWorldOnRealmModal.platformGuestCreate.playStation.message")}:"playstationGuestEditWorld"===e?{message:t(".signInPromptWorldOnRealmModal.platformGuestEdit.playStation.message")}:"msaGuestEditWorld"===e?{onSignIn:()=>{a({screen:"EditWorld",button:"SignIn"}),n.replace("/sign-in?signInSource=EditWorld_PlayOnRealm_SignInPrompt_OreUI")},message:t(".signInPromptWorldOnRealmModal.msaGuestEditWorld.message")}:{onSignIn:()=>{a({screen:"CreateNewWorld",button:"SignIn"}),n.replace("/sign-in?signInSource=CreateNewWorld_CreateOnRealm_SignInPrompt_OreUI")},message:t(".signInPromptWorldOnRealmModal.msaGuestCreateWorld.message")}),[t,n,a],[e])}((0,r.useFacetMap)(((e,n)=>Xw(e.platform)&&!n.isSignedInPlatformNetwork?t!==fI.CREATE?"playstationGuestEditWorld":"playstationGuestCreateWorld":qw(e.platform)&&!n.isSignedInPlatformNetwork?t!==fI.CREATE?"nintendoGuestEditWorld":"nintendoGuestCreateWorld":t!==fI.CREATE?"msaGuestEditWorld":"msaGuestCreateWorld"),[t],[(0,r.useSharedFacet)(il),(0,r.useSharedFacet)(hu)]));return a.createElement(wl,{data:l},(t=>a.createElement(vE,{defaultFocusAlias:fA},a.createElement(vE.Header,{onClose:e},n(".signInPromptWorldOnRealmModal.title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{center:!0,gamepadIndex:0,narrationText:t.message},t.message)),a.createElement(vE.Buttons,null,t.onSignIn&&a.createElement(a.Fragment,null,a.createElement(mg,{"data-testid":"sign-in-prompt",inputLegend:n(".signInPromptWorldOnRealmModal.signIn"),variant:"primary",onClick:t.onSignIn},n(".signInPromptWorldOnRealmModal.signIn")),a.createElement(om,{size:1})),a.createElement(mg,{"data-testid":"cancel",gamepadAlias:fA,inputLegend:n(".signInPromptWorldOnRealmModal.cancel"),variant:"secondary",onClick:e},n(".signInPromptWorldOnRealmModal.cancel"))))))})),EA=Km((({onUnlockTemplateSettings:e,mainButtonAlias:t})=>{const{t:n}=ec("CreateNewWorld"),r=Se(),l=$m(),o="pop-up-modal-keepSettings";return a.createElement(vE,{defaultFocusAlias:o},a.createElement(vE.Header,{onClose:l},n(".unlockSettingsModal.title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:n(".unlockSettingsModal.message"),gamepadIndex:0,center:!0},n(".unlockSettingsModal.message"))),a.createElement(vE.Buttons,null,a.createElement(kO,{options:{index:1}},a.createElement(Mf,{options:{index:0}},a.createElement(mg,{gamepadAlias:o,inputLegend:n(".unlockSettingsModal.keepSettings"),variant:"primary",onClick:l},n(".unlockSettingsModal.keepSettings")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:n(".unlockSettingsModal.unlock"),onClick:()=>{e(),l(),null!=t&&r(t)},gamepadAlias:"pop-up-modal-unlockSettings"},n(".unlockSettingsModal.unlock"))))),a.createElement(Cf,{options:{button:j.B,inputLegend:n(".unlockSettingsModal.keepSettings")},onClick:l}))})),hA=Km((({onClose:e})=>{const{t}=tc("PacksLoadingModal");return a.createElement(vE,null,a.createElement(vE.Header,{onClose:e},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Spinner,null)))})),vA=n.p+"assets/trial-mode-art-40744.png",bA="buy-minecraft-button",yA=Km((({onClose:e,worldSettingsMode:t})=>{const{t:n}=ec("TrialModeModal"),r=t===fI.CREATE?"CreateNewWorld":"EditWorld",l=sI(),o=Ju(),i=n(".firstParagraph"),c=n(".secondParagraph"),s=n(".thirdParagraph"),u=(0,a.useCallback)((()=>{o({button:"BuyMinecraft",screen:`ReadMoreTrialMode_${r}`}),l()}),[o,l,r]);return a.createElement(vE,{onOverlayClick:e,defaultFocusAlias:bA},a.createElement(vE.Header,{onClose:e},n(".title")),a.createElement(vE.Content,null,a.createElement(Mp,{src:vA,imageRendering:"pixelated",className:"xIcrr"}),a.createElement(vE.Paragraphs,{narrationText:`${i} . ${c} . ${s}`,spaceBetweenParagraphs:4},a.createElement(fm,{type:"captionLong"},i),a.createElement(fm,{type:"captionLong"},c),a.createElement(fm,{type:"captionLong"},s))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:bA,inputLegend:n(".buyMinecraft"),variant:"primary",onClick:u,"data-testid":"trial-mode-modal-buy-minecraft",Icon:nM.ExternalLink},n(".buyMinecraft"))))})),FA="Yvw24",SA="achievements-permanently-disabled-back",CA=Km((({onClose:e})=>{const{t}=ec("AchievementPermanentlyDisabledModal"),n=t(".description"),r=t(".reasonText"),l=[t(".creative"),t(".flat"),t(".cheats"),t(".permissions"),t(".experiments"),t(".trial"),t(".pack"),t(".template")];return a.createElement(vE,{onOverlayClick:e,defaultFocusAlias:SA},a.createElement(vE.Header,{onClose:e},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:n},n),a.createElement(vE.Text,{narrationText:r},r),a.createElement(vE.List,{items:l}),a.createElement(om,{size:4})),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:SA,inputLegend:t(".close"),variant:"secondary",onClick:e},t(".close"))))})),MA=n.p+"assets/settings-icon-af819.png",wA=[".bytes",".kilobytes",".megabytes",".gigabytes",".terabytes",".petabytes"];function kA({role:e="neutral80",labelFull:t,labelLow:n}){const{t:l}=ec("StorageIndicator"),o=(0,r.useSharedFacet)(il),i=Yr(),c=(0,r.useFacetMap)((({storageUsed:e,storageSize:t})=>t<=0?1:e/t),[],[o]),s=function(){const{t:e}=ec("StorageIndicator");return(0,a.useCallback)((t=>function(e,t){if(e<=0)return t(wA[0],["0"]);const n=Math.floor(Math.log(e)/Math.log(1024)),a=parseFloat((e/Math.pow(1024,n)).toFixed(2)).toString(),r=Math.max(0,Math.min(n,wA.length-1));return t(wA[r],[a])}(t,e)),[e])}(),u=(0,r.useFacetMap)((({storageSize:e,storageUsed:t})=>l(".storageSpace",[s(Math.max(0,t)),s(Math.max(0,e))])),[l,s],[o]),d=(0,r.useFacetMap)((({isStorageFull:e,storageSize:t,storageUsed:n})=>e||t<=0||n>=t),[],[o]),m=(0,r.useFacetMap)((e=>e?t:n),[t,n],[d]),p=Fr(e),f=Sr("success"),g=Sr("notice"),E=Sr("noticeTint"),h=Sr("destructive"),v=(0,r.useFacetMap)((({isStorageLow:e},t)=>{var n,a,r;return t?null!==(n=h.background.default)&&void 0!==n?n:"var(--red50)":e?null!==(a=g.background.default)&&void 0!==a?a:"var(--orange20)":null!==(r=f.background.default)&&void 0!==r?r:"var(--green50)"}),[f,g,h],[o,d]);return a.createElement(Xa,{role:e},a.createElement("div",{className:Dr()("Aoire",p.border.base,p.background.base)},a.createElement("div",{className:"uttTs"},a.createElement(nM.Warning,{color:E.background.default})),a.createElement("div",{className:"ZqGHY"},a.createElement("div",{className:Dr()("Zgc6A",p.border.base)},a.createElement(fm,{type:"secondaryButton"},m),a.createElement(om,{size:2}),a.createElement(Mg,{percentage:c,fillColor:v}),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionShort"},u)),a.createElement(ep,{className:Dr()("Rmgfq",p.bevel.base),inputLegend:l(".storage"),narrationText:l(".storage"),onClick:()=>{i.push("/settings/storage")},role:e},a.createElement(Mp,{src:MA,className:"VCZ7p",imageRendering:"pixelated"}),a.createElement(om,{size:1}),a.createElement(fm,{type:"captionTiny",align:"center"},l(".storage"))))))}const TA=(0,r.sharedFacet)("vanilla.worldRealmEditorCommands");let IA;!function(e){e[e.Unknown=0]="Unknown",e[e.Idle=1]="Idle",e[e.Fetching=2]="Fetching",e[e.FetchError=3]="FetchError",e[e.FetchSuccess=4]="FetchSuccess",e[e.Posting=5]="Posting",e[e.PostError=6]="PostError",e[e.PostSuccess=7]="PostSuccess"}(IA||(IA={}));const PA=(0,r.sharedFacet)("vanilla.worldRealmEditorQueries"),xA=(0,r.sharedFacet)("vanilla.realmBackupsCommands");let OA;!function(e){e[e.Unknown=0]="Unknown",e[e.Idle=1]="Idle",e[e.Fetching=2]="Fetching",e[e.DownloadChecking=3]="DownloadChecking",e[e.DownloadError=4]="DownloadError"}(OA||(OA={}));const AA=(0,r.sharedFacet)("vanilla.realmBackupsQueries");function NA(){const e=function(e){switch(e){case fI.CREATE:return bi;case fI.EDIT:return ku;case fI.EDIT_REALM:return PA}}((0,a.useContext)(gI)),t=(0,r.useSharedFacet)(e);return(0,r.useFacetMap)((e=>{if("worldData"in e)return e.worldData;if("realmWorldData"in e)return e.realmWorldData;throw new Error("The facet has no world data")}),[],[t])}let RA;!function(e){e.GENERAL_TAB="generalTab",e.ADVANCED_TAB="advancedTab",e.CHEATS_TAB="cheatsTab"}(RA||(RA={}));const _A=({achievementsDisabledMessages:e,isEditorWorld:t})=>{const{t:n}=ec("Notifications"),l=(0,a.useContext)(gI)!==fI.CREATE,o=(0,r.useSharedFacet)(vu),i=NA(),c=(0,r.useFacetMap)((e=>e.achievementsDisabled),[],[i]),s=xO.useModal(),u=CA.useModal(),d=(0,r.useFacetMap)((e=>e.achievementsPermanentlyDisabled),[],[i]),m=(0,r.useFacetMap)(((e,t,n,a)=>(e||a)&&!t&&!n),[],[c,t,o,d]),p=(0,r.useFacetCallback)((e=>()=>{e?u.show():s.show()}),[s,u],[d]);return a.createElement(r.Mount,{when:m},a.createElement(a.Fragment,null,a.createElement(Kf,{compact:!0},a.createElement("div",{className:FA},a.createElement(GT,{role:"neutral100",icon:a.createElement(nM.AchievementsBottle,{height:24,width:24,role:"neutral",variant:"dimmest"})},a.createElement(GT.Text,null,n(".achievementsDisabled")),a.createElement(GT.Link,{"data-testId":"achievement-disabled-read-more",onClick:p},n(".readMoreLink"))))),a.createElement(r.Mount,{when:s.isVisible},a.createElement(xO.Component,{onClose:s.hide,reasons:e,isEditWorld:l})),a.createElement(r.Mount,{when:u.isVisible},a.createElement(CA.Component,{onClose:u.hide}))))},LA=({addonStackingWarningEnabled:e,isEditorWorld:t})=>{const{t:n}=ec("Notifications"),l=(0,a.useContext)(gI)===fI.EDIT,o=Zu(),i=(0,r.useFacetWrap)(null!=e&&e),c=(0,r.useFacetMap)(((e,t)=>e&&!t),[],[i,t]),s=AO.useModal(),u=(0,a.useCallback)((()=>{o({modal:"AddonStackingWarningModal",screen:l?"EditWorld":"CreateNewWorld"}),s.show()}),[o,l,s]);return a.createElement(r.Mount,{when:c},a.createElement(a.Fragment,null,a.createElement(Kf,{compact:!0},a.createElement("div",{className:FA},a.createElement(GT,{role:"noticeTint",gamepadIndex:0},a.createElement(om,{size:2}),a.createElement(GT.Text,null,n(".addonStacking")),a.createElement(GT.Link,{"data-testId":"addon-stacking-warning-link",onClick:u,gamepadIndex:0},n(".addonStackingLink"))))),a.createElement(r.Mount,{when:s.isVisible},a.createElement(AO.Component,{onAccept:s.hide,onCancel:s.hide}))))},DA=({})=>{const{t:e}=ec("Notifications"),t=m(),n=(0,a.useContext)(gI),l=n!==fI.CREATE,o=yA.useModal(),i=Zu(),c=Tv(Ii.NewTrialModeFlow),s=(0,r.useSharedFacet)(vu),u=(0,r.useFacetCallback)((e=>()=>{var n,a;c?(i({modal:"ReadMoreTrialMode",screen:l?"EditWorld":"CreateNewWorld"}),o.show()):t.push(`/tabbed-upsell?tab=${n=e.tab,null!==(a={general:Zs.MINECRAFT,"resource-packs":Zs.PACKS,cheats:Zs.MINECRAFT,experimental:Zs.MINECRAFT,multiplayer:Zs.MULTIPLAYER,advanced:Zs.SEEDS,"behavior-packs":Zs.PACKS}[n])&&void 0!==a?a:Zs.MINECRAFT}`)}),[c,i,l,o,t],[f()]);return a.createElement(r.Mount,{when:s},a.createElement(a.Fragment,null,a.createElement(Kf,{compact:!0},a.createElement("div",{className:FA},a.createElement(GT,{role:"informative",gamepadIndex:1,icon:a.createElement(nM.Locked,{width:24,height:24})},a.createElement(GT.Text,null,e(".inTrialMode")),a.createElement(GT.Link,{onClick:u,gamepadIndex:0,"data-testId":"trial-mode-read-more"},e(".readMoreLink"))))),a.createElement(r.Mount,{when:o.isVisible},a.createElement(yA.Component,{worldSettingsMode:n,onClose:o.hide}))))},WA=({multiplayerWarningState:e})=>{const{t}=ec("Notifications"),n=m(),l=(0,r.useFacetMap)((e=>e.platform),[],[(0,r.useSharedFacet)(il)]),o=(0,r.useFacetMap)((n=>e?function(e,t,n){if(e===Yi.CHECK_INTERNET_CONNECTION)return n(".multiplayerWarnings.checkInternetConnection");if(e===Yi.LOCAL_MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY)return n(".multiplayerWarnings.nintendoLocalMultiplayerPrivilegesBlockedThirdParty");if(e===Yi.MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY){if(Xw(t))return n(".multiplayerWarnings.playstationMultiplayerPrivilegesBlockedThirdParty");if(qw(t))return n(".multiplayerWarnings.nintendoMultiplayerPrivilegesBlockedThirdParty")}return e===Yi.MULTIPLAYER_PRIVILEGES_BLOCKED?n(".multiplayerWarnings.multiplayerPrivilegesBlocked"):e===Yi.MULTIPLAYER_PRIVILEGES_BLOCKED_ON_CONSOLE?n(".multiplayerWarnings.multiplayerPrivilegesBlockedOnConsole"):e===Yi.CROSS_PLATFORM_DISABLED?n(".multiplayerWarnings.playstationCrossPlatformDisabled"):e===Yi.NON_MULTIPLAYER_SKIN_EQUIPPED?n(".multiplayerWarnings.nonMultiplayerSkinEquipped"):""}(e,n,t):""),[t,e],[l]),i=(0,r.useFacetMap)((e=>e.length>0),[],[o]),c=(0,r.useFacetMap)((()=>e===Yi.NON_MULTIPLAYER_SKIN_EQUIPPED),[e],[]);return a.createElement(r.Mount,{when:i},a.createElement(Kf,{compact:!0},a.createElement("div",{className:FA},a.createElement(GT,{role:"informative",gamepadIndex:2},a.createElement(GT.Text,null,o),a.createElement(r.Mount,{when:c},a.createElement(GT.Link,{onClick:()=>n.push("/persona"),gamepadIndex:3,"data-testId":"multiplayer-warning-change-skin"},t(".changeSkinLink")))))))},BA=({experimentsWarningEnabled:e})=>{const{t}=ec("Notifications"),n=NA(),l=(0,r.useFacetMap)((e=>e.isLockedTemplate),[],[n]),o=(0,r.useFacetMap)((t=>!t&&!!e),[e],[l]);return a.createElement(r.Mount,{when:o},a.createElement(Kf,{compact:!0},a.createElement("div",{className:FA},a.createElement(GT,{role:"informative",gamepadIndex:4},a.createElement(GT.Text,null,t(".experimentsWarning.informationMessage"))))))},UA=({onUnlockTemplateSettings:e})=>{const{t}=ec("Notifications"),n=NA(),l=(0,r.useFacetMap)((e=>e.isLockedTemplate),[],[n]),o=EA.useShowModal();return a.createElement(r.Mount,{when:l},a.createElement(Kf,{compact:!0},a.createElement("div",{className:FA},a.createElement(GT,{role:"informative",gamepadIndex:5},a.createElement(GT.Text,null,t(".unlockSettingsMessage")),a.createElement(GT.Link,{gamepadIndex:1,onClick:()=>{o({onUnlockTemplateSettings:e,mainButtonAlias:hO})},"data-testId":"unlock-template-settings-link"},t(".unlockSettingsLink"))))))},zA=({})=>{const e=(0,a.useContext)(gI),{t}=ec("StorageIndicator"),n=(0,r.useFacetMap)((e=>Qw(e.platform)&&(e.isStorageLow||e.isStorageFull)),[],[(0,r.useSharedFacet)(il)]);return a.createElement(r.Mount,{when:n},a.createElement("div",{className:"LcsP1"},a.createElement(kA,{labelFull:e===fI.CREATE?t(".storageLabelFullCreateWorld"):t(".storageLabelFullEnterWorld"),labelLow:e===fI.CREATE?t(".storageLabelAlmostFullCreateWorld"):t(".storageLabelAlmostFullEnterWorld")})))},jA=({hardcoreModeMessageTab:e})=>{const{t}=ec("Notifications"),n=(0,r.useFacetMap)((e=>e?t(function(e){switch(e){case RA.ADVANCED_TAB:return".hardcoreMode.advancedTab";case RA.CHEATS_TAB:return".hardcoreMode.cheatsTab";default:return".hardcoreMode.generalTab"}}(e)):""),[t],[(0,r.useFacetWrap)(e)]),l=(0,r.useFacetMap)((e=>!!e),[],[n]);return a.createElement(r.Mount,{when:l},a.createElement(Kf,{compact:!0},a.createElement("div",{className:FA},a.createElement(GT,{role:"informative",gamepadIndex:7},a.createElement(GT.Text,null,n)))))},HA=()=>{const e=(0,r.useFacetMap)((e=>e.isBanned),[],[(0,r.useSharedFacet)(hu)]);return a.createElement(r.Mount,{when:e},a.createElement(Kf,{compact:!0},a.createElement("div",{className:FA},a.createElement(DI,null))))},VA=({children:e})=>a.createElement("div",{className:"X_H1K"},e),GA=({achievementsDisabledMessages:e,multiplayerWarningState:t,experimentsWarningEnabled:n,onUnlockTemplateSettings:r,isEditorWorld:l,hardcoreModeMessageTab:o,addonStackingWarningEnabled:i=!1})=>a.createElement(VA,null,a.createElement(_A,{isEditorWorld:l,achievementsDisabledMessages:e}),a.createElement(LA,{addonStackingWarningEnabled:i,isEditorWorld:l}),a.createElement(DA,null),a.createElement(WA,{multiplayerWarningState:t}),a.createElement(BA,{experimentsWarningEnabled:n}),a.createElement(UA,{onUnlockTemplateSettings:r}),a.createElement(zA,null),a.createElement(jA,{hardcoreModeMessageTab:o}),a.createElement(HA,null));GA.Wrapper=VA,GA.Achievement=_A,GA.AddonStackingWarning=LA,GA.Trial=DA,GA.MultiplayerWarning=WA,GA.ShowExperiment=BA,GA.LockedTemplate=UA,GA.StorageLow=zA,GA.Hardcore=jA;const $A=GA,KA=(0,a.createContext)((0,r.createFacet)({initialValue:!1}));function XA(){let e=null;return function(t){if(!e)return e=t,!1;if(t.length!==e.length)return e=t,!1;for(const n of t)if(!e.includes(n))return e=t,!1;return!0}}function YA(){const{t:e}=ec("AchievementDisabledModal"),t=(0,r.useSharedFacet)(vu),n=NA(),l=function(){const e=function(e){switch(e){case fI.CREATE:return As;case fI.EDIT:default:return Bu}}((0,a.useContext)(gI)),t=(0,r.useSharedFacet)(e);return(0,r.useFacetMap)((e=>"worldPacksData"in e?e.worldPacksData:e),[],[t])}(),o=(0,r.useFacetMap)((e=>e.activeBehaviorPacks.length>0),[],[l]),i=(0,r.useFacetMemo)(((t,n,a)=>{const r=[],l=t.general,o=t.advanced,i=t.cheats,c=t.multiplayer,s=t.betaFeatures.some((e=>e.isEnabled));return l.gameMode===eu.CREATIVE&&r.push(e(".creativeMode")),o.useFlatWorld&&r.push(e(".flatWorld")),i.cheatsEnabled&&r.push(e(".cheatsEnabled")),c.playerPermissions===Xi.OPERATOR&&r.push(e(".operator")),s&&r.push(e(".experiments")),a&&r.push(e(".trial")),n&&r.push(e(".behaviorPacks")),t.isUsingTemplate&&r.push(e(".template")),r}),[e],[n,o,t],XA);return i}function qA({children:e,multiplayerWarningState:t,experimentsWarningEnabled:n,nestedRoutes:l,narrationText:o,onUnlockTemplateSettings:i,isEditorWorld:c,hardcoreModeMessageTab:s,addonStackingWarningEnabled:u}){var d;const m=sd(),p=null!==(d=Oy())&&void 0!==d&&d,f=Br(),g=(0,a.useMemo)((()=>({clearRememberCache:e=>{}})),[]),E=(0,r.useFacetMap)((e=>!e),[],[f]),h=(0,a.useRef)(null),v=YA(),b=(0,a.useRef)();(0,r.useFacetLayoutEffect)((e=>{e||null==b.current||null==g||g.clearRememberCache(b.current),h.current&&(h.current.scrollTop=0)}),[g],[f]);const y=(0,r.useIsPaused)(),F=(0,r.useFacetMap)(((e,t)=>e||t||y),[y],[(0,a.useContext)(KA),(0,r.useIsDeferring)()]),S=l?Hr:ly,C=(0,r.useFacetUnwrap)(no()),{t:M}=ec("CreateNewWorld"),w=`${M(".tabContainerNarrationSuffix")}. ${o}`;return a.createElement(wf,{text:w},a.createElement(S,{type:"contentful",renderingCompleted:!0}),a.createElement(Ef,{gamepadIndex:0,floating:"desktop"!==m,loading:F,disableScrolling:p,innerRef:h,defaultFocusedChildBehavior:"remember",stopCheckingForScroll:E,renderTracker:e=>a.createElement(S,{renderingCompleted:e,type:"meaningful"}),spinnerBackgroundColor:!0===C?void 0:"#48494A",nodeIdRef:b},"desktop"===m&&a.createElement(om,{size:2}),y?null:a.createElement(TO,{gamepadIndex:0},a.createElement("div",{className:"desktop"===m?"KdIrj":""},a.createElement(r.DeferredMount,null,a.createElement(kO,{options:{index:0}},a.createElement(Mf,{options:{index:0}},a.createElement($A,{achievementsDisabledMessages:v,multiplayerWarningState:t,experimentsWarningEnabled:n,onUnlockTemplateSettings:i,isEditorWorld:c,hardcoreModeMessageTab:s,addonStackingWarningEnabled:u})))),a.createElement(kO,{options:{index:1}},a.createElement(EP,{shouldSkipLandmarkInVisual:!0},e)))),a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:1})})))}const QA=Km((()=>{const{t:e}=ec("EditWorld.exportingWorldModal");return a.createElement(vE,null,a.createElement(vE.Header,null,e(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:e(".content"),gamepadIndex:0},e(".content"))))}));function JA(){const e=(0,r.useSharedFacet)(ku),t=(0,r.useFacetMap)((e=>e.worldData),[],[e]);return{generalData:(0,r.useFacetMap)((e=>e.general),[],[t]),multiplayerData:(0,r.useFacetMap)((e=>e.multiplayer),[],[t]),worldData:t}}function ZA(){const e=f();return(0,r.useFacetMap)((e=>decodeURIComponent(e.id)),[],[e])}const eN=Km((()=>{const{generalData:e}=JA(),t=(0,r.useFacetMap)((e=>e.worldName),[],[e]),{t:n}=ec("CreateNewWorld.duplicateWorld"),l=(0,r.useFacetMap)((e=>n(".header",[e])),[n],[t]);return a.createElement(vE,null,a.createElement(vE.Header,null,l),a.createElement(vE.Content,null,a.createElement(vE.Spinner,null)))})),tN=Km((({clearPlayerData:e,closeModal:t})=>{const{t:n}=ec("EditWorld.clearPlayerDataModal"),r=(0,a.useCallback)((()=>{null!=e&&e(xu.IncludeLocalUser),t()}),[e,t]),l=(0,a.useCallback)((()=>{null!=e&&e(xu.SkipLocalUser),t()}),[e,t]);return a.createElement(vE,{onOverlayClick:t},a.createElement(vE.Header,{onClose:t},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:n(".descriptionOne"),center:!0},n(".descriptionOne")),a.createElement(vE.Text,{gamepadIndex:1,narrationText:n(".descriptionTwo"),center:!0},n(".descriptionTwo"))),a.createElement(vE.Buttons,null,a.createElement(mg,{inputLegend:n(".allButton"),onClick:r},n(".allButton")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:n(".keepButton"),onClick:l},n(".keepButton"))))})),nN="lyc-modal-continue",aN=Km((({deleteWorld:e,closeModal:t})=>{const{t:n}=ec("CreateNewWorld.deleteWorldModal");return a.createElement(vE,{onOverlayClick:t,defaultFocusAlias:nN},a.createElement(vE.Header,{onClose:t},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:n(".message"),gamepadIndex:0},n(".message"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,gamepadAlias:nN,inputLegend:n(".continueInputLegend"),variant:"secondary",onClick:t},n(".continueButton")),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:1,inputLegend:n(".deleteInputLegend"),variant:"destructive",onClick:e},n(".deleteButton"))))})),rN="lyc-modal-continue",lN=Km((()=>{const e=Yr(),{t}=ec("CreateNewWorld.editWorldErrorModal"),n=(0,r.useSharedFacet)(ku),l=(0,r.useSharedFacet)(Ru),o=(0,r.useFacetMap)((e=>e.loadWorldError),[],[n]),i=(0,r.useFacetMap)(((e,t)=>t.duplicateWorldError||e.saveLocalWorldError),[],[n,l]),c=(0,r.useFacetMap)(((e,t)=>null!=e||null!=t),[],[o,i]),s=(0,r.useFacetMap)(((e,t,n)=>{if(!n)return null;switch(e){case Cu.IncorrectWorldId:case Cu.UnexpectedError:return"unexpected"}switch(t){case wu.IncorrectWorldId:case wu.UnableToCreateWorldDirectoryPath:return"unexpected";case wu.InsufficientDiskSpace:return"storage"}}),[],[o,i,c]),u=(0,r.useFacetMap)((e=>t("storage"===e?".storageError.title":".unexpectedError.title")),[t],[s]),d=(0,r.useFacetMap)((e=>t("storage"===e?".storageError.description":".unexpectedError.description")),[t],[s]),m=(0,r.useFacetCallback)(((t,n,a)=>()=>{null!=a?e.goBack():null!=n.duplicateWorldError?n.clearDuplicateWorldTaskState():null!=t.saveLocalWorldError&&t.clearSaveLocalWorldTaskState()}),[e],[n,l,o]);return a.createElement(vE,{onOverlayClick:m,defaultFocusAlias:rN},a.createElement(vE.Header,{onClose:m},u),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:d,gamepadIndex:0,center:!0},d)),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,gamepadAlias:rN,inputLegend:t(".closeButton"),variant:"secondary",onClick:m},t(".closeButton"))))})),oN=Km((()=>{const{t:e}=ec("CreateNewWorld.savingWorldModal");return a.createElement(vE,null,a.createElement(vE.Header,null,e(".header")),a.createElement(vE.Content,null,a.createElement(vE.Spinner,null)))})),iN=Km((()=>{const e=(0,r.useSharedFacet)(Ru),{t}=ec("CreateNewWorld.general"),n=(0,r.useFacetMap)((e=>e.makeWorldInfiniteProgress),[],[e]);return a.createElement(vE,null,a.createElement(vE.Header,null,t(".makingInfiniteWorldProgressModal")),a.createElement(vE.Content,null,a.createElement(vE.Progress,{percentage:n})))}));let cN;!function(e){e.DaylightCycleChanged="daylight_cycle_changed",e.CheatsChanged="cheats_changed",e.DifficultyChanged="difficulty_changed",e.GameModeChanged="game_mode_changed",e.MultiplayerChanged="multiplayer_changed"}(cN||(cN={}));const sN="lu82f",uN=n.p+"assets/hardcore-heart-engraved-75556.png";function dN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function mN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dN(Object(n),!0).forEach((function(t){pN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pN(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const fN=({worldSummary:e,isEditorWorld:t,onUnlockTemplateSettings:n,onMakeWorldInfinite:l,onDuplicateWorld:o,onDeleteWorld:i,onExportWorld:c,worldData:s})=>{const{t:u}=ec("CreateNewWorld.general"),d=(0,r.useFacetMap)((e=>e.advanced.generatorType),[],[s]),m=(0,r.useFacetMap)((e=>e.general),[],[s]),p=(0,r.useFacetMap)((e=>e.isLockedTemplate),[],[s]),f=(0,r.useFacetMap)((e=>e.isHardcore),[],[m]),g=(0,r.useFacetMap)((e=>e.isUsingTemplate),[],[s]),E=(0,a.useContext)(gI)!==fI.CREATE,h=(0,r.useSharedFacet)(hu),v=YA(),b=(0,r.useFacetMap)((e=>E&&e===Mu.Legacy),[E],[d]),y=(0,r.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(fu.XboxLive)),[],[h]),F=(0,r.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(fu.XboxLive_Parental)),[],[h]),S=(0,r.useFacetCallback)(((e,t,n)=>()=>{Yw(t.platform)?n.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(bu.ParentPermissionHelpPage)}),[],[(0,r.useSharedFacet)(yu),(0,r.useSharedFacet)(il),h]),C=(0,r.useFacetMap)((e=>!e),[],[t]);return a.createElement(EN,{isEditorWorld:t,isHardcoreMode:f,onUnlockTemplateSettings:n},a.createElement(r.Mount,{when:y},a.createElement("div",{className:sN},a.createElement(Kf,{compact:!0},a.createElement(GT,{role:"noticeTint",gamepadIndex:7},a.createElement(GT.Text,null,u(".multiplayerPermissionBanner.text")),a.createElement(GT.Link,{gamepadIndex:1,onClick:S},u(".multiplayerPermissionBanner.link")))))),a.createElement(r.Mount,{when:F},a.createElement("div",{className:sN},a.createElement(Kf,{compact:!0},a.createElement(GT,{role:"noticeTint",gamepadIndex:7},a.createElement(GT.Text,null,u(".multiplayerPermissionBanner.textParental")),a.createElement(GT.Link,{gamepadIndex:1,onClick:S},u(".multiplayerPermissionBanner.link")))))),a.createElement(gN,{isLockedTemplate:p,achievementsDisabledMessages:v,isEditorWorld:t,isHardcoreMode:f,generalData:m,isUsingTemplate:g}),a.createElement(r.Mount,{when:C},a.createElement(r.DeferredMount,null,a.createElement(hN,{isLockedTemplate:p,generalData:m}))),a.createElement(r.Mount,{when:b},a.createElement(r.DeferredMount,null,a.createElement(Kf,null,a.createElement(Yf,null,u(".makeInfiniteHeader")),a.createElement(om,{size:1}),a.createElement("div",{style:{flexDirection:"row"}},a.createElement(mg,{variant:"secondary",onClick:l,inputLegend:u(".makeInfiniteButton"),autofocus:!0,horizontal:!0},u(".makeInfiniteButton"))),a.createElement(om,{size:1}),a.createElement(qf,null,u(".makeInfiniteDescription"))))),E&&null!=e&&a.createElement(r.DeferredMount,null,a.createElement(yN,{worldData:s,worldSummary:e,achievementsDisabledMessages:v,onDuplicateWorld:o,onDeleteWorld:i,onExportWorld:c})))},gN=({isLockedTemplate:e,achievementsDisabledMessages:t,isEditorWorld:n,isHardcoreMode:l,generalData:o,isUsingTemplate:i})=>{const{t:c}=ec("CreateNewWorld.general"),s=1==(0,r.useFacetUnwrap)(n)?".editor":"",u=(0,r.useFacetMap)((e=>e.worldName),[],[o]),d=(0,r.useFacetCallback)((e=>t=>e.worldName=t),[],[o]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:n},a.createElement(r.DeferredMount,null,a.createElement(wO,{title:c(".projectHeader")}))),a.createElement(r.DeferredMount,null,a.createElement(gy,{label:c(`${s}.worldNameTitle`),gamepadIndex:1,placeholder:c(`${s}.worldNamePlaceholder`),maxLength:30,value:u,onChange:d,filterProfanity:!0,disabled:e})),a.createElement(r.Mount,{when:n},a.createElement(r.DeferredMount,null,a.createElement(wO,{title:c(".exportSettingsHeader"),description:c(".exportSettingsDescription")}))),a.createElement(r.DeferredMountWithCallback,null,a.createElement(bN,{isLockedTemplate:e,generalData:o,isUsingTemplate:i,achievementsDisabledMessages:t,isHardcoreMode:l})),a.createElement(r.DeferredMountWithCallback,null,a.createElement(vN,{isLockedTemplate:e,generalData:o,isHardcoreMode:l})))},EN=({isEditorWorld:e,isHardcoreMode:t,onUnlockTemplateSettings:n,children:l})=>{const{t:o}=ec("CreateNewWorldSideMenu"),i=(0,a.useContext)(gI)!==fI.CREATE,c=!0===(0,r.useFacetUnwrap)(t)&&i?RA.GENERAL_TAB:void 0;return a.createElement(r.DeferredMountProvider,null,a.createElement(qA,{narrationText:o(".generalTabLabel"),onUnlockTemplateSettings:n,isEditorWorld:e,hardcoreModeMessageTab:c},l))};function hN({generalData:e,isLockedTemplate:t}){const{t:n}=ec("CreateNewWorld.general"),l=ra(),o=(0,a.useContext)(gI)===fI.CREATE,i=(0,r.useSharedFacet)(vu),c=(0,r.useFacetMap)(((e,t,n)=>n||t||!o||e.gameMode!==eu.SURVIVAL&&e.gameMode!==eu.ADVENTURE),[o],[e,t,i]);return a.createElement(qb,{title:n(".hardcoreModeTitle"),soundEffectPressed:"ui.hardcore_toggle_press",disabled:c,description:n(".hardcoreModeDescription"),value:(0,r.useFacetMap)((e=>e.isHardcore),[],[e]),onChange:(0,r.useFacetCallback)((e=>t=>{e.isHardcore=t,l(t?"ui.hardcore_enable":"ui.hardcore_disable")}),[l],[e]),gamepad:{index:4},imgSrc:uN,"data-testid":"hardcore-mode-toggle"})}function vN({generalData:e,isLockedTemplate:t,isHardcoreMode:n}){const{t:l}=ec("CreateNewWorld.general"),o=(0,r.useNotifyMountComplete)(),i=(0,a.useContext)(gI)!==fI.CREATE,c=(0,r.useSharedFacet)($s);return a.createElement(Mx,{onMountComplete:o,title:l(".difficultyTitle"),disabled:(0,r.useFacetMap)(((e,t)=>e||t),[],[n,t]),options:[{label:l(".difficultyPeacefulLabel"),description:l(".difficultyPeacefulDescription"),value:$i.PEACEFUL},{label:l(".difficultyEasyLabel"),description:l(".difficultyEasyDescription"),value:$i.EASY},{label:l(".difficultyNormalLabel"),description:l(".difficultyNormalDescription"),value:$i.NORMAL},{label:l(".difficultyHardLabel"),description:l(".difficultyHardDescription"),value:$i.HARD}],value:(0,r.useFacetMap)(((e,t)=>t?$i.HARD:e.difficulty),[],[e,n]),onChange:(0,r.useFacetCallback)(((e,t)=>n=>{i&&t.trackOptionChanged(cN.DifficultyChanged,e.difficulty,n),e.difficulty=n}),[i],[e,c])})}function bN({generalData:e,isLockedTemplate:t,isUsingTemplate:n,achievementsDisabledMessages:l,isHardcoreMode:o}){const{t:i}=ec("CreateNewWorld.general"),{t:c}=ec("CreateNewWorld.all"),s=(0,r.useSharedFacet)(vu),u=(0,a.useContext)(gI)!==fI.CREATE,d=(0,r.useSharedFacet)($s),m=(0,r.useFacetMap)(((e,t,n)=>e||t||n),[],[t,s,o]),p=(0,r.useFacetMap)(((e,t)=>{const n=[mN({label:i(".gameModeSurvivalLabel"),description:i(".gameModeSurvivalDescription"),value:eu.SURVIVAL},1===e.length?{narrationSuffix:c(".narrationSuffixEnablesAchievements")}:{}),{label:i(".gameModeCreativeLabel"),description:i(".gameModeCreativeDescription"),value:eu.CREATIVE,narrationSuffix:c(".narrationSuffixDisablesAchievements")}];return(true)&&n.push(mN({label:i(".gameModeAdventureLabel"),description:i(t?".gameModeAdventureTemplateDescription":".gameModeAdventureDescription"),value:eu.ADVENTURE},1===e.length?{narrationSuffix:c(".narrationSuffixEnablesAchievements")}:{})),n}),[i,c,u],[l,n]),f=(0,r.useNotifyMountComplete)();return a.createElement(Mx,{title:i(".gameModeTitle"),disabled:m,options:p,onMountComplete:f,value:(0,r.useFacetMap)((e=>e.gameMode),[],[e]),onChange:(0,r.useFacetCallback)(((e,t)=>n=>{const a=e.gameMode;e.gameMode=n,u&&t.trackOptionChanged(cN.GameModeChanged,a,n)}),[u],[e,d])})}function yN({worldData:e,worldSummary:t,achievementsDisabledMessages:n,onDuplicateWorld:l,onDeleteWorld:o,onExportWorld:i}){const{t:c}=ec("CreateNewWorld.general"),s=(0,a.useContext)(gI)!==fI.CREATE,u=xO.useModal(),d=Tv(Ii.NewTrialModeFlow),m=(0,r.useFacetMap)((e=>d&&e),[d],[(0,r.useSharedFacet)(vu)]),p=(0,r.useFacetMap)((e=>{var t,n;const a=null!==(t=null==e?void 0:e.fileSize)&&void 0!==t?t:"-",r=null!==(n=null==e?void 0:e.lastSaved)&&void 0!==n?n:"-";return c(".fileDetails",[a,r])}),[c],[t]),f=(0,r.useFacetMap)((e=>[c(".fileManagementTitle"),c(".fileManagement.narrationComponentTypeSectionHeader"),e].join(" . ")),[c],[p]),g=aN.useShowModal(),E=$m(),h=(0,a.useCallback)((()=>{null!=o&&(o(),E())}),[o,E]),v=(0,r.useFacetCallback)((e=>()=>{!e.achievementsPermanentlyDisabled&&e.achievementsDisabled?u.show():l&&l()}),[u,l],[e]),b=(0,r.useSharedFacet)(il),y=(0,r.useFacetMap)((e=>Jw(e.platform)),[],[b]);return a.createElement(wf,{text:f},a.createElement(kO,{options:{index:5}},a.createElement(Kf,{compact:!0},a.createElement(om,{size:3}),a.createElement(Yf,null,c(".fileManagementTitle")),a.createElement(om,{size:1}),a.createElement("div",{style:{flexDirection:"row"}},a.createElement(mg,{variant:"secondary",gamepadIndex:0,onClick:v,inputLegend:c(".fileManagementDuplicateWorldLabel"),autofocus:!0,horizontal:!0,disabled:m},c(".fileManagementDuplicateWorldLabel")),a.createElement(FT.ButtonSpacing,null),a.createElement(mg,{variant:"destructive",gamepadIndex:1,onClick:()=>g({deleteWorld:h,closeModal:E}),inputLegend:c(".fileManagementDeleteWorldLabel"),autofocus:!0,horizontal:!0,disabled:m},c(".fileManagementDeleteWorldLabel"))),a.createElement(r.Mount,{when:true},a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement("div",{style:{flexDirection:"row"}},a.createElement(mg,{variant:"secondary",gamepadIndex:2,onClick:i,inputLegend:c(".fileManagementExportWorldLabel"),autofocus:!0,horizontal:!0,disabled:m},c(".fileManagementExportWorldLabel"))))),a.createElement(om,{size:1}),a.createElement(qf,null,p),a.createElement(om,{size:3})),a.createElement(r.Mount,{when:u.isVisible},a.createElement(xO.Component,{onClose:u.hide,onConfirm:l,reasons:n,isEditWorld:s}))))}fN.Wrapper=EN,fN.DefaultFields=gN;const FN=fN,SN=({onUnlockTemplateSettings:e,isEditorWorld:t,worldData:n})=>{const{t:l}=tc("CreateNewWorld.cheats"),o=Tv(Ii.NewTrialModeFlow),i=(0,r.useSharedFacet)(vu),c=(0,r.useFacetMap)((e=>e.cheats),[],[n]),s=(0,r.useFacetMap)((e=>e.isLockedTemplate),[],[n]),u=(0,r.useFacetMap)((e=>e.achievementsDisabled),[],[n]),d=(0,r.useFacetMap)((e=>e.general.isHardcore),[],[n]),m=(0,r.useFacetMap)((e=>e.achievementsPermanentlyDisabled),[],[n]),p=YA(),f=(0,r.useFacetMap)(((e,t,n)=>!e.cheatsEnabled||t||n),[],[c,s,d]),g=(0,r.useFacetMap)((e=>e&&o),[o],[i]);return a.createElement(wl,{data:g},(n=>a.createElement(a.Fragment,null,n?a.createElement(vI,{context:EI.CHEATS_TAB}):a.createElement(MN,{isLockedTemplate:s,achievementsDisabled:u,achievementsPermanentlyDisabled:m,onUnlockTemplateSettings:e,isEditorWorld:t,isHardcoreMode:d},a.createElement(r.DeferredMount,null,a.createElement(TN,{cheatsData:c,isLockedTemplate:s,achievementsDisabledMessages:p,isHardcoreMode:d})),a.createElement(wf,{text:[l(".settingsTitle"),l(".narrationComponentTypeSectionHeader")].join(" . ")},a.createElement(r.DeferredMount,null,a.createElement(xN,null)),a.createElement(r.DeferredMountWithCallback,null,a.createElement(kN,{cheatsData:c,disabled:f,isHardcoreMode:d})),a.createElement(CN,{cheatsData:c,disabled:f,isHardcoreMode:d}),a.createElement(r.DeferredMount,null,a.createElement(PN,{cheatsData:c,disabled:f,isHardcoreMode:d})),a.createElement(r.DeferredMount,null,a.createElement(IN,{cheatsData:c,disabled:f,isHardcoreMode:d})),a.createElement(r.DeferredMount,null,a.createElement(wN,{cheatsData:c,gamepadIndex:CN.length+2,disabled:f,isHardcoreMode:d})))))))},CN=({cheatsData:e,isHardcoreMode:t,disabled:n})=>{const{t:l}=tc("CreateNewWorld.cheats"),o=[{title:l(".inventoryTitle"),description:l(".inventoryDescription"),value:(0,r.useFacetMap)(((e,t)=>!t&&e.keepInventory),[],[e,t]),onChange:(0,r.useFacetCallback)((e=>t=>{e.keepInventory=t}),[],[e])},{title:l(".mobSpawningTitle"),description:l(".mobSpawningDescription"),value:(0,r.useFacetMap)(((e,t)=>!!t||e.mobSpawning),[],[e,t]),onChange:(0,r.useFacetCallback)((e=>t=>{e.mobSpawning=t}),[],[e])},{title:l(".mobGriefingTitle"),description:l(".mobGriefingDescription"),value:(0,r.useFacetMap)(((e,t)=>!!t||e.mobGriefing),[],[e,t]),onChange:(0,r.useFacetCallback)((e=>t=>{e.mobGriefing=t}),[],[e])},{title:l(".entitiesDropLootTitle"),description:l(".entitiesDropLootDescription"),value:(0,r.useFacetMap)(((e,t)=>!!t||e.entitiesDropLoot),[],[e,t]),onChange:(0,r.useFacetCallback)((e=>t=>{e.entitiesDropLoot=t}),[],[e])},{title:l(".weatherTitle"),description:l(".weatherDescription"),value:(0,r.useFacetMap)(((e,t)=>!!t||e.weather),[],[e,t]),onChange:(0,r.useFacetCallback)((e=>t=>{e.weather=t}),[],[e])}];return a.createElement(a.Fragment,null,o.map(((e,t)=>a.createElement(r.DeferredMount,{key:e.title},a.createElement(qb,{disabledNarrationSuffix:l(".settingDisabledHint"),title:e.title,description:e.description,gamepad:{index:t+2},disabled:n,value:e.value,onChange:e.onChange})))))},MN=({isEditorWorld:e,isHardcoreMode:t,onUnlockTemplateSettings:n,children:l})=>{const{t:o}=tc("CreateNewWorldSideMenu"),i=!0===(0,r.useFacetUnwrap)(t)?RA.CHEATS_TAB:void 0;return a.createElement(r.DeferredMountProvider,null,a.createElement(qA,{narrationText:o(".cheatsTabLabel"),onUnlockTemplateSettings:n,isEditorWorld:e,hardcoreModeMessageTab:i},l))};function wN({cheatsData:e,gamepadIndex:t,disabled:n,isHardcoreMode:l}){const{t:o}=tc("CreateNewWorld.cheats"),{t:i}=tc("CreateNewWorld.cheats.narration"),c=(0,r.useFacetMap)(((e,t)=>t?1..toString():e.tickSpeed.toString()),[],[e,(0,r.useFacetWrap)(null!=l&&l)]),{narrateText:s}=gf({interruptible:!1}),u=(0,r.useFacetCallback)((e=>t=>{e.tickSpeed=t}),[],[e]),d=(0,a.useCallback)(((e,t)=>{const n=e.match(/^[0-9]*$/g),a=parseInt(e)<=4096;return 0!==e.length&&n?a?Sg.ValidationResult.VALID:(s(i(".tickSpeedNotWithinRange")),t(4096..toString()),Sg.ValidationResult.INVALID):(s(i(".tickSpeedInvalidValue")),t(1..toString()),Sg.ValidationResult.INVALID)}),[s,i]);return a.createElement(gy.WithButton,{disabledNarrationSuffix:o(".settingDisabledHint"),buttonInputLegend:o(".tickSpeedReset"),buttonText:o(".tickSpeedReset"),disabled:n,buttonOnClick:()=>u(1..toString()),gamepadIndex:t,label:o(".tickSpeedLabel"),description:o(".tickSpeedDescription"),maxLength:4,value:c,onChange:u,onBlur:d,buttonNarrationHint:o(".narrationTickSpeedButtonNarrationHint"),isNumber:!0})}function kN({cheatsData:e,disabled:t,isHardcoreMode:n}){const{t:l}=tc("CreateNewWorld.cheats"),o=(0,a.useContext)(gI)!==fI.CREATE,i=(0,r.useSharedFacet)($s),c=(0,r.useFacetCallback)(((e,t)=>n=>{o&&t.trackOptionChanged(cN.DaylightCycleChanged,e.daylightCycle,n),e.daylightCycle=n}),[o],[e,i]),s=(0,r.useFacetMap)(((e,t)=>t?qi.NORMAL:e.daylightCycle),[],[e,(0,r.useFacetWrap)(null!=n&&n)]),u=[{label:l(".daylightCycleNormalLabel"),description:l(".daylightCycleNormalDescription"),value:qi.NORMAL},{label:l(".daylightCycleAlwaysDayLabel"),description:l(".daylightCycleAlwaysDayDescription"),value:qi.ALWAYS_DAY}];return o&&u.push({label:l(".daylightCycleLockTimeLabel"),description:l(".daylightCycleLockTimeDescription"),value:qi.LOCK_TIME}),a.createElement(Mx,{disabledNarrationSuffix:l(".settingDisabledHint"),onMountComplete:(0,r.useNotifyMountComplete)(),title:l(".daylightCycleTitle"),disabled:t,options:u,value:s,onChange:c})}function TN({cheatsData:e,isLockedTemplate:t,achievementsDisabledMessages:n,isHardcoreMode:l}){const{t:o}=tc("CreateNewWorld.cheats"),{t:i}=tc("CreateNewWorld.all"),c=(0,a.useContext)(gI)!==fI.CREATE,s=(0,r.useSharedFacet)($s),u=(0,r.useFacetMap)(((e,t,n)=>e||t||n),[],[t,(0,r.useSharedFacet)(vu),l]),d=(0,r.useFacetCallback)(((e,t)=>n=>{c&&t.trackOptionChanged(cN.CheatsChanged,Number(e.cheatsEnabled),Number(n)),e.cheatsEnabled=n}),[c],[e,s]),m=(0,r.useFacetMap)(((e,t)=>!t&&e.cheatsEnabled),[],[e,l]);return a.createElement(qb,{title:o(".title"),description:o(".description"),disabled:u,value:m,onChange:d,onNarrationText:i(".narrationSuffixDisablesAchievements")+" . "+i(".narrationSuffixSettingsAvailable"),offNarrationText:(0,r.useFacetMap)((e=>0===e.length?i(".narrationSuffixEnablesAchievements"):void 0),[i],[n])})}function IN({cheatsData:e,disabled:t,isHardcoreMode:n}){const{t:l}=tc("CreateNewWorld.cheats"),o=(0,r.useFacetCallback)((e=>t=>{e.educationEdition=t}),[],[e]),i=(0,r.useFacetMap)(((e,t)=>!t&&e.educationEdition),[],[e,n]);return a.createElement(qb,{disabledNarrationSuffix:l(".settingDisabledHint"),title:l(".educationTitle"),description:l(".educationDescription"),disabled:t,value:i,onChange:o})}function PN({cheatsData:e,disabled:t,isHardcoreMode:n}){const{t:l}=tc("CreateNewWorld.cheats"),o=(0,r.useFacetCallback)((e=>t=>{e.commandBlocks=t}),[],[e]),i=(0,r.useFacetMap)(((e,t)=>!!t||e.commandBlocks),[],[e,n]);return a.createElement(qb,{disabledNarrationSuffix:l(".settingDisabledHint"),title:l(".commandBlocksTitle"),description:l(".commandBlocksDescription"),disabled:t,value:i,onChange:o})}function xN(){const{t:e}=tc("CreateNewWorld.cheats");return a.createElement(wO,{title:e(".settingsTitle")})}SN.Wrapper=MN,SN.DefaultFields=CN;const ON=SN,AN=n.p+"assets/under-construction-art-cropped-cd6d3.png";function NN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function RN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NN(Object(n),!0).forEach((function(t){_N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _N(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LN(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DN({experimentalFeature:e,gamepadIndex:t,disabled:n,achievementsDisabledMessages:l,areAllTogglesDisabled:o}){const{gt:i}=function(){const{translate:e,formatDate:t}=(0,a.useContext)(bl);return(0,a.useMemo)((()=>({f:{formatDate:t},gt:(t,n)=>{var a;return null!==(a=e(t,n))&&void 0!==a?a:t}})),[e,t])}(),{t:c}=ec("CreateNewWorld.all"),s=(0,r.useFacetMap)((e=>e.id),[],[e]),u=(0,r.useFacetUnwrap)(s),d=(0,r.useFacetMap)((e=>e.title),[],[e]),m=(0,r.useFacetUnwrap)(d),p=(0,r.useFacetMap)((e=>e.description),[],[e]),f=(0,r.useFacetUnwrap)(p),g=(0,r.useFacetMap)((e=>e.isEnabled),[],[e]),E=(0,r.useFacetMap)(((e,t)=>e||t.isTogglePermanentlyDisabled),[],[(0,r.useFacetWrap)(n),e]),h=(0,r.useFacetCallback)(((e,t)=>n=>{n&&t?yi.set({userTriedToActivateToggle:!0,doSetToggleValue:()=>e.isEnabled=n,userHasAcceptedBetaFeatures:!1}):e.isEnabled=n}),[],[e,o]),v=c(".narrationSuffixDisablesAchievements"),b=(0,r.useFacetMap)((e=>0===e.length?c(".narrationSuffixEnablesAchievements"):void 0),[c],[l]);return null!=u?a.createElement(qb,{title:m!==r.NO_VALUE?i(m):"",description:f!==r.NO_VALUE?i(f):"",gamepad:{index:t},value:g,disabled:E,onChange:h,onNarrationText:v,offNarrationText:b}):null}function WN({item:e,index:t,achievementsDisabledMessages:n,areAllTogglesDisabled:l}){const{t:o}=ec("CreateNewWorld.experimentalFeatures"),i=(0,r.useFacetMap)((({description:e,numOfSections:n,title:a})=>{const r=n>1?o(".sectionEnumeration",[`${t+1}`,`${n}`]):null;return[a,o(".narrationComponentTypeSectionHeader"),r,e].filter((e=>e)).join(" . ")}),[o,t],[e]),c=(0,r.useFacetMap)((({title:e})=>e),[],[e]),s=(0,r.useFacetMap)((({description:e})=>e),[],[e]),u=(0,r.useFacetMap)((({disabled:e})=>e),[],[e]),d=(0,r.useFacetMap)((({features:e})=>e),[],[e]);return a.createElement(wf,{text:i},a.createElement(Mf,{options:{index:t}},a.createElement(r.DeferredMount,null,a.createElement(wO,{title:c,description:s})),a.createElement(r.Map,{array:d},((e,t)=>a.createElement(r.DeferredMount,null,a.createElement(DN,{experimentalFeature:e,gamepadIndex:t,disabled:u,achievementsDisabledMessages:n,areAllTogglesDisabled:l}))))))}const BN=[{title:".gameplayTitle",description:".gameplayDescription",featuresFilter:e=>e.category===Qi.GAMEPLAY},{title:".graphicsTitle",description:".graphicsDescription",featuresFilter:e=>e.category===Qi.GRAPHICS},{title:".addOnCreatorsTitle",description:".addOnCreatorsDescription",featuresFilter:e=>e.category===Qi.ADD_ON_CREATORS},{title:".internalTestsTitle",description:".internalTestsDescription",featuresFilter:e=>e.category===Qi.INTERNAL_TESTS}],UN=()=>{const{t:e}=ec("CreateNewWorld.experimentalFeatures"),t=Wb({wide:8,narrow:6,width:260}),n=(0,r.useFacetMap)((e=>e?"wCV2c":"Y7XKP"),[],[t]);return a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(Ef,{gamepadIndex:0,floating:!0},a.createElement(cb,{gamepadIndex:0,title:e(".underConstruction.title"),imgSrc:AN,imgClass:n})))};function zN({worldData:e,onUnlockTemplateSettings:t,isEditorWorld:n}){const l=(0,a.useContext)(gI)!==fI.CREATE,{t:o}=ec("CreateNewWorld.experimentalFeatures"),{t:i}=ec("CreateNewWorldSideMenu"),c=(0,r.useFacetMap)((e=>e.betaFeatures),[],[e]),s=(0,r.useFacetMap)((e=>e.isLockedTemplate),[],[e]),u=YA(),d=Tv(Ii.NewTrialModeFlow),m=(0,r.useSharedFacet)(vu),p=(0,r.useFacetMemo)(((e,t,n)=>BN.map((t=>{let{featuresFilter:n}=t;return RN(RN({},LN(t,["featuresFilter"])),{},{features:mw(e,n)})})).filter((({features:e})=>e.length>0)).map(((e,a,{length:r})=>{let{title:l,description:i}=e;return RN(RN({},LN(e,["title","description"])),{},{description:o(i),disabled:t||n,numOfSections:r,title:o(l)})}))),[o],[c,s,m]),f=(0,r.useFacetMap)((e=>e.every((e=>!e.isEnabled))),[],[c]),g=(0,r.useFacetMap)((e=>e&&d?"trial-mode":"tab-details"),[l,d],[m]);return a.createElement(r.DeferredMountProvider,null,a.createElement(wl,{data:g},(e=>{switch(e){case"trial-mode":return a.createElement(vI,{context:EI.EXPERIMENTS_TAB});case"under-construction":return a.createElement(UN,null);default:return a.createElement(qA,{experimentsWarningEnabled:!0,narrationText:i(".experimentalFeaturesTabLabel"),onUnlockTemplateSettings:t,isEditorWorld:n},a.createElement(r.Map,{array:p},((e,t)=>a.createElement(WN,{item:e,index:t,achievementsDisabledMessages:u,areAllTogglesDisabled:f}))))}})))}const jN="cnw-bfw-cancel";function HN({experimentsData:e}){const{t}=ec("CreateNewWorld.experimentalFeatures"),n=(0,r.useFacetUnwrap)(yi),l=n!==r.NO_VALUE&&n.userTriedToActivateToggle,o=(0,r.useFacetMap)((e=>e.every((e=>!e.isEnabled))),[],[e]),i=(0,r.useFacetMap)((e=>l&&e),[l],[o]),c=()=>{yi.set({userTriedToActivateToggle:!1,doSetToggleValue:()=>{},userHasAcceptedBetaFeatures:!1})},s=n!==r.NO_VALUE?n.doSetToggleValue:()=>{},u=t(".activateExperimentsConfirmationDescriptionPart1"),d=t(".activateExperimentsConfirmationDescriptionPart2");return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:i},a.createElement(vE,{defaultFocusAlias:jN},a.createElement(vE.Header,{onClose:c},t(".activateExperimentsConfirmationTitle")),a.createElement(vE.Content,null,a.createElement(vE.Paragraphs,{narrationText:`${u} ${d}`,spaceBetweenParagraphs:5,gamepadIndex:0},a.createElement(fm,{type:"captionLong"},u),a.createElement(fm,{type:"captionLong"},d))),a.createElement(vE.Buttons,null,a.createElement(mg,{variant:"primary",gamepadIndex:0,gamepadAlias:jN,inputLegend:t(".activateExperimentsConfirmationCancelInputLegend"),onClick:c},t(".activateExperimentsConfirmationCancel")),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:1,inputLegend:t(".activateExperimentsConfirmationConfirmInputLegend"),onClick:()=>{s(),yi.set({userTriedToActivateToggle:!1,doSetToggleValue:()=>{},userHasAcceptedBetaFeatures:!0})}},t(".activateExperimentsConfirm"))))))}const VN="vanilla.editor.generatorTypeDropdown";let GN,$N;var KN,XN,YN,qN,QN,JN,ZN,eR,tR,nR,aR,rR,lR,oR,iR,cR,sR,uR,dR,mR,pR,fR,gR,ER,hR,vR,bR,yR,FR,SR,CR,MR,wR;let kR;var TR,IR,PR;let xR,OR,AR,NR,RR,_R,LR,DR,WR,BR,UR,zR;!function(e){e.ToolPane="Editor.Drawer.ToolPane",e.Logging="Editor.Drawer.Log",e.GlobalPane="Editor.Drawer.GlobalPane",e.StructureDetailPane="Editor.Drawer.StructureDetailPane"}(GN||(GN={})),function(e){e.WelcomePanel="EditorUI.WelcomePanel"}($N||($N={})),(PR=KN||(KN={})).NoArgsAction="NoArgsAction",PR.MouseRayCastAction="MouseRayCastAction",PR.StatefulAction="StatefulAction",PR.ContinuousAction="ContinuousAction",function(e){e[e.Consume=0]="Consume",e[e.Passthrough=1]="Passthrough",e[e.Disabled=2]="Disabled"}(XN||(XN={})),(IR=YN||(YN={}))[IR.Unused=0]="Unused",IR[IR.None=1]="None",IR[IR.Alt=2]="Alt",IR[IR.Control=4]="Control",IR[IR.Shift=8]="Shift",IR[IR.Any=15]="Any",function(e){e[e.Press=1]="Press",e[e.Release=2]="Release"}(qN||(qN={})),function(e){e[e.Button=1]="Button",e[e.Wheel=2]="Wheel",e[e.Drag=3]="Drag"}(QN||(QN={})),function(e){e[e.LeftButton=1]="LeftButton",e[e.MiddleButton=2]="MiddleButton",e[e.RightButton=3]="RightButton",e[e.Wheel=4]="Wheel"}(JN||(JN={})),function(e){e[e.ButtonDown=1]="ButtonDown",e[e.ButtonUp=2]="ButtonUp",e[e.WheelIn=3]="WheelIn",e[e.WheelOut=4]="WheelOut",e[e.DragStart=5]="DragStart",e[e.Drag=6]="Drag",e[e.DragEnd=7]="DragEnd"}(ZN||(ZN={})),function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESCAPE=27]="ESCAPE",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.KEY_0=48]="KEY_0",e[e.KEY_1=49]="KEY_1",e[e.KEY_2=50]="KEY_2",e[e.KEY_3=51]="KEY_3",e[e.KEY_4=52]="KEY_4",e[e.KEY_5=53]="KEY_5",e[e.KEY_6=54]="KEY_6",e[e.KEY_7=55]="KEY_7",e[e.KEY_8=56]="KEY_8",e[e.KEY_9=57]="KEY_9",e[e.KEY_A=65]="KEY_A",e[e.KEY_B=66]="KEY_B",e[e.KEY_C=67]="KEY_C",e[e.KEY_D=68]="KEY_D",e[e.KEY_E=69]="KEY_E",e[e.KEY_F=70]="KEY_F",e[e.KEY_G=71]="KEY_G",e[e.KEY_H=72]="KEY_H",e[e.KEY_I=73]="KEY_I",e[e.KEY_J=74]="KEY_J",e[e.KEY_K=75]="KEY_K",e[e.KEY_L=76]="KEY_L",e[e.KEY_M=77]="KEY_M",e[e.KEY_N=78]="KEY_N",e[e.KEY_O=79]="KEY_O",e[e.KEY_P=80]="KEY_P",e[e.KEY_Q=81]="KEY_Q",e[e.KEY_R=82]="KEY_R",e[e.KEY_S=83]="KEY_S",e[e.KEY_T=84]="KEY_T",e[e.KEY_U=85]="KEY_U",e[e.KEY_V=86]="KEY_V",e[e.KEY_W=87]="KEY_W",e[e.KEY_X=88]="KEY_X",e[e.KEY_Y=89]="KEY_Y",e[e.KEY_Z=90]="KEY_Z",e[e.NUMPAD_0=96]="NUMPAD_0",e[e.NUMPAD_1=97]="NUMPAD_1",e[e.NUMPAD_2=98]="NUMPAD_2",e[e.NUMPAD_3=99]="NUMPAD_3",e[e.NUMPAD_4=100]="NUMPAD_4",e[e.NUMPAD_5=101]="NUMPAD_5",e[e.NUMPAD_6=102]="NUMPAD_6",e[e.NUMPAD_7=103]="NUMPAD_7",e[e.NUMPAD_8=104]="NUMPAD_8",e[e.NUMPAD_9=105]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=106]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=107]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=108]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=109]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=110]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=111]="NUMPAD_DIVIDE",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.BACK_QUOTE=192]="BACK_QUOTE",e[e.BRACKET_OPEN=219]="BRACKET_OPEN",e[e.BACK_SLASH=220]="BACK_SLASH",e[e.BRACKET_CLOSE=221]="BRACKET_CLOSE",e[e.QUOTE=222]="QUOTE"}(eR||(eR={})),function(e){e[e.ActionExecute=1]="ActionExecute"}(tR||(tR={})),function(e){e[e.PropertyPaneVisibilityChanged=3]="PropertyPaneVisibilityChanged",e[e.PropertyPaneCollapsedStateChanged=4]="PropertyPaneCollapsedStateChanged",e[e.UpdateObservableValue=5]="UpdateObservableValue",e[e.PropertyItemClicked=6]="PropertyItemClicked",e[e.PropertyItemContainerOperation=7]="PropertyItemContainerOperation"}(nR||(nR={})),function(e){e[e.OnInitialize=1]="OnInitialize"}(aR||(aR={})),function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(rR||(rR={})),function(e){e.Undo="editor:actionBarItem:undo",e.Redo="editor:actionBarItem:redo",e.Export="editor:actionBarItem:export",e.Locate="editor:actionBarItem:locate",e.Playtest="editor:actionBarItem:playtest",e.Settings="editor:actionBarItem:settings",e.Realms="editor:actionBarItem:realms",e.Fill="editor:actionBarItem:fill"}(lR||(lR={})),function(e){e.Selection="editor:modalTool:selection",e.BrushPaint="editor:modalTool:brushPainter"}(oR||(oR={})),(TR=iR||(iR={}))[TR.Create=0]="Create",TR[TR.Update=1]="Update",TR[TR.Destroy=2]="Destroy",TR[TR.Custom=3]="Custom",TR[TR.Passthrough=4]="Passthrough",function(e){e.ServerActionEvents="Editor::ServerActionEvents",e.ServerUXEvents="Editor::ServerUXEvents"}(cR||(cR={})),function(e){e.ClientActionEvents="Editor::ClientActionEvents",e.ClientUXEvents="Editor::ClientUXEvents",e.ClientLifecycleEvents="Editor::ClientLifecycle"}(sR||(sR={})),function(e){e[e.Register=1]="Register",e[e.Unregister=2]="Unregister",e[e.UpdateEnablement=3]="UpdateEnablement"}(uR||(uR={})),function(e){e[e.UpdatePropertyPane=1]="UpdatePropertyPane",e[e.DestroyPropertyPane=2]="DestroyPropertyPane",e[e.UpdateMenu=3]="UpdateMenu",e[e.DestroyMenu=4]="DestroyMenu",e[e.UpdateStatusBarItem=5]="UpdateStatusBarItem",e[e.DestroyStatusBarItem=6]="DestroyStatusBarItem",e[e.UpdateModalToolOption=7]="UpdateModalToolOption",e[e.DestroyModalToolOption=8]="DestroyModalToolOption",e[e.BindActionToControl=11]="BindActionToControl",e[e.RemoveActionBindingFromControl=12]="RemoveActionBindingFromControl",e[e.UpdatePropertyItem=13]="UpdatePropertyItem",e[e.DestroyPropertyItem=14]="DestroyPropertyItem",e[e.OnNavigateFromEditor=15]="OnNavigateFromEditor",e[e.UpdateControlDemoVisibility_deprecated=16]="UpdateControlDemoVisibility_deprecated",e[e.UpdateWelcomePanelVisibility_deprecated=17]="UpdateWelcomePanelVisibility_deprecated",e[e.UpdateClientPanelVisibility=18]="UpdateClientPanelVisibility",e[e.ActivateTutorial=19]="ActivateTutorial"}(dR||(dR={})),function(e){e[e.Right=0]="Right",e[e.Left=1]="Left"}(mR||(mR={})),function(e){e.BlockList="editorUI:BlockList",e.BlockTable="editorUI:BlockTable",e.Boolean="editorUI:Boolean",e.Button="editorUI:Button",e.ButtonPane="editorUI:ButtonPane",e.ColorPicker="editorUI:ColorPicker",e.ComboBox="editorUI:ComboBox",e.DataTable="editorUI:DataTable",e.Divider="editorUI:Divider",e.Dropdown="editorUI:Dropdown",e.Image="editorUI:Image",e.Link="editorUI:Link",e.Number="editorUI:Number",e.ProgressIndicator="editorUI:ProgressIndicator",e.String="editorUI:String",e.SubPane="editorUI:SubPane",e.Text="editorUI:Text",e.ToggleGroup="editorUI:ToggleGroup",e.Vector3="editorUI:Vector3"}(pR||(pR={})),function(e){e[e.InputField=0]="InputField",e[e.InputFieldAndSlider=1]="InputFieldAndSlider"}(fR||(fR={})),function(e){e[e.Primary=0]="Primary",e[e.Secondary=1]="Secondary",e[e.Confirmation=2]="Confirmation",e[e.Destructive=3]="Destructive"}(gR||(gR={})),function(e){e[e.Spinner=0]="Spinner",e[e.ProgressBar=1]="ProgressBar"}(ER||(ER={})),function(e){e[e.Custom=0]="Custom",e[e.Block=1]="Block",e[e.Entity=2]="Entity"}(hR||(hR={})),function(e){e.Deselect="deselect",e.Replace="replace"}(vR||(vR={})),function(e){e[e.Default=0]="Default",e[e.Inline=1]="Inline",e[e.Expanded=2]="Expanded"}(bR||(bR={})),function(e){e[e.Checkbox=0]="Checkbox",e[e.ToggleSwitch=1]="ToggleSwitch"}(yR||(yR={})),function(e){e[e.Default=0]="Default",e[e.Block=1]="Block",e[e.Icon=2]="Icon"}(FR||(FR={})),function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(SR||(SR={})),function(e){e[e.Root=1]="Root",e[e.Sub=2]="Sub",e[e.ModalOverlay=3]="ModalOverlay",e[e.ModalControl=4]="ModalControl",e[e.Button=5]="Button"}(CR||(CR={})),function(e){e[e.Documentation=1]="Documentation",e[e.Feedback=2]="Feedback",e[e.PauseScreen=3]="PauseScreen"}(MR||(MR={})),function(e){e[e.ControlPanel=1]="ControlPanel",e[e.WelcomePanel=2]="WelcomePanel",e[e.LogPanel=3]="LogPanel"}(wR||(wR={})),function(e){e.ToggleMode="event.toggleMode",e.OpenConsole="event.openConsole",e.Hotbar1="event.hotbar1",e.Hotbar2="event.hotbar2",e.Hotbar3="event.hotbar3",e.Hotbar4="event.hotbar4",e.Hotbar5="event.hotbar5",e.Hotbar6="event.hotbar6",e.Hotbar7="event.hotbar7",e.Hotbar8="event.hotbar8",e.Hotbar9="event.hotbar9",e.MoveForward="event.moveForward.begin",e.MoveBackward="event.moveBackward.begin",e.MoveLeft="event.moveLeft.begin",e.MoveRight="event.moveRight.begin",e.MoveUp="event.moveUp.begin",e.MoveDown="event.moveDown.begin"}(kR||(kR={})),eR.UNDEFINED,YN.Unused,function(e){e[e.Info=0]="Info",e[e.Warning=1]="Warning",e[e.Error=2]="Error",e[e.Debug=3]="Debug"}(xR||(xR={})),function(e){e[e.None=0]="None",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=4]="Error",e[e.Debug=8]="Debug",e[e.All=-1]="All"}(OR||(OR={})),function(e){e[e.Player=0]="Player",e[e.Global=1]="Global"}(AR||(AR={})),function(e){e.GLOBAL_EDITOR="global.editor",e.GLOBAL_TOOLMODE="global.toolMode",e.LOCAL_TOOLMODE_VIEWPORT="local.toolMode.viewport"}(NR||(NR={})),function(e){e[e.Width=30]="Width"}(RR||(RR={})),function(e){e[e.Disabled=0]="Disabled",e[e.Tool=1]="Tool",e[e.Crosshair=2]="Crosshair"}(_R||(_R={})),function(e){e[e.None=0]="None",e[e.Rectangle=1]="Rectangle",e[e.Square=2]="Square"}(LR||(LR={})),function(e){e[e.None=0]="None",e[e.Create=1]="Create",e[e.Move=2]="Move",e[e.Resize=3]="Resize",e[e.Rotate=4]="Rotate",e[e.Stroke=5]="Stroke",e[e.Count=6]="Count"}(DR||(DR={})),function(e){e.Dark="minecraft:editor:theme:dark",e.Light="minecraft:editor:theme:light",e.Redstone="minecraft:editor:theme:redstone",e.HighContrast="minecraft:editor:theme:high_contrast"}(WR||(WR={})),function(e){e[e.Top=0]="Top",e[e.TopStart=1]="TopStart",e[e.TopEnd=2]="TopEnd",e[e.RightStart=3]="RightStart",e[e.Right=4]="Right",e[e.RightEnd=5]="RightEnd",e[e.Bottom=6]="Bottom",e[e.BottomStart=7]="BottomStart",e[e.BottomEnd=8]="BottomEnd",e[e.LeftStart=9]="LeftStart",e[e.Left=10]="Left",e[e.LeftEnd=11]="LeftEnd"}(BR||(BR={})),function(e){e.Core="Core",e.Experimental="Experimental",e.Extension="Extension"}(UR||(UR={})),function(e){e.Reload="editor:actionItem:reload",e.CrosshairMode="editor:actionItem:crosshairMode",e.TriggerError="editor:actionItem:triggerError",e.KeyboardSettings="editor:actionItem:keyboardSettings",e.StructurePanel="editor:actionBarItem:structurePanel",e.AttachDebugger="editor:actionBarItem:attachDebugger",e.HotbarsPanel="editor:actionBarItem:manageHotbars",e.BlockTablePanel="editor:actionBarItem:blockTablePanel"}(zR||(zR={}));const jR=(0,r.sharedFacet)("vanilla.editor");let HR;(0,r.sharedSelector)((e=>e.editorMode),[jR]),(0,r.sharedSelector)((e=>e.editorMode==_R.Tool),[jR]),(0,r.sharedSelector)((e=>e.canShowModeShortcutToast),[jR]),function(e){e[e.Simple=0]="Simple",e[e.Probability=1]="Probability"}(HR||(HR={}));const VR=(0,r.sharedFacet)("vanilla.editorBlockPalette");(0,r.sharedSelector)((e=>e.paletteList),[VR]),(0,r.sharedSelector)((e=>e.activePaletteSelectedItemIndex),[VR]),(0,r.sharedSelector)((e=>e.activePalette),[VR]);const GR=(0,r.sharedFacet)("vanilla.editorInputBinding");(0,r.sharedSelector)((e=>{const t={};for(const n in e.keyBindings){const a=e.keyBindings[n];if(null!=a){!(n in t)&&(t[n]={});const e=t[n];for(const t in a){const n=a[t];n.key!==eR.UNDEFINED&&(!(n.key in e)&&(e[n.key]=[]),e[n.key].push({event:null!=n.actionId?n.actionId:t,modifier:n.modifier,inputType:n.inputType,bindingId:t}))}}}return t}),[GR]),(0,r.sharedSelector)((e=>{const t={};for(const n in e.mouseBindings){const a=e.mouseBindings[n];if(null!=a){!(n in t)&&(t[n]={});const e=t[n];for(const r in a){const l=a[r];!(l.actionType in e)&&(e[l.actionType]=[]),t[n][l.actionType].push(r)}}}return t}),[GR]),(0,r.sharedSelector)((e=>e.keyBindings),[GR]);const $R=(0,r.sharedFacet)("vanilla.editorInputState"),KR=((0,r.sharedSelector)((e=>e.isViewportFocused),[$R]),(0,r.sharedSelector)((e=>e.keyBindingStates),[$R]),(0,r.sharedFacet)("vanilla.editorLogging")),XR=((0,r.sharedSelector)((e=>e.messageList),[KR]),(0,r.sharedSelector)((e=>e.tagList),[KR]),(0,r.sharedSelector)((e=>e.logLevelFilter),[KR]),(0,r.sharedSelector)((e=>e.tagFilter),[KR]),(0,r.sharedFacet)("vanilla.editorProjectConstants"));function YR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qR(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,r.sharedSelector)((e=>e.blockInfoMap),[XR]),(0,r.sharedSelector)((e=>e.blockNameList),[XR]),(0,r.sharedSelector)((e=>e.atlasInfo),[XR]);const QR=(0,r.sharedFacet)("vanilla.editorScripting");let JR;(0,r.sharedSelector)((e=>({dispatch:(t,n,a,r)=>{e.dispatchDataStoreEvent(t,n,a,null!=r?function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YR(Object(n),!0).forEach((function(t){qR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({__Type:"DataStorePayloadDescription"},e)}(r):r)}})),[QR]),function(e){e.TitleBarBackground="TitleBarBackground",e.PanelBackground="PanelBackground",e.HeaderBackground="HeaderBackground",e.PanelBorder="PanelBorder",e.ElementBorder="ElementBorder",e.PrimaryActive="PrimaryActive",e.PrimaryDefault="PrimaryDefault",e.PrimaryMute="PrimaryMute",e.PrimaryDisable="PrimaryDisable",e.PrimaryBackground1="PrimaryBackground1",e.PrimaryBackground2="PrimaryBackground2",e.PrimaryBackground3="PrimaryBackground3",e.PrimaryBackground4="PrimaryBackground4",e.SecondaryActive="SecondaryActive",e.SecondaryDefault="SecondaryDefault",e.SecondaryMute="SecondaryMute",e.SecondaryDisable="SecondaryDisable",e.SecondaryBackground1="SecondaryBackground1",e.SecondaryBackground2="SecondaryBackground2",e.SecondaryBackground3="SecondaryBackground3",e.DropDown1="DropDown1",e.DropDown2="DropDown2",e.DropDown3="DropDown3",e.ScrollBar="ScrollBar",e.FocusOutline="FocusOutline",e.FocusErrorOutline="FocusErrorOutline",e.Warning="Warning",e.Error="Error",e.HotbarOutline="HotbarOutline",e.ViewportOutline="ViewportOutline",e.DisableBackground="DisableBackground",e.DisableOutline="DisableOutline",e.DisableText="DisableText",e.DisableFill="DisableFill",e.Coordinate1="Coordinate1",e.Coordinate2="Coordinate2",e.Coordinate3="Coordinate3",e.ConfirmFill="ConfirmFill",e.Confirm1="Confirm1",e.Confirm2="Confirm2",e.Confirm3="Confirm3",e.DestroyFill="DestroyFill",e.Destroy1="Destroy1",e.Destroy2="Destroy2",e.Destroy3="Destroy3",e.InfoFill="InfoFill",e.Info1="Info1",e.Info2="Info2",e.Info3="Info3",e.Caret="Caret"}(JR||(JR={}));const ZR=(0,r.sharedFacet)("vanilla.editorSettings",{fontZoom:125,currentThemeId:WR.Dark,themesMap:{},isEditorMode:!1,selectedTool:"",selectedOperator:DR.Create,addNewTheme:()=>{},updateThemeColor:()=>{},deleteTheme:()=>{},getKey:()=>"",setKey:()=>{},setKeys:()=>{},hasKey:()=>!1});(0,r.sharedSelector)((e=>e.isEditorMode),[ZR]),(0,r.sharedSelector)((e=>e.selectedTool),[ZR]),(0,r.sharedSelector)((e=>e.fontZoom),[ZR]),(0,r.sharedFacet)("vanilla.editorStructure");const e_=(0,r.sharedFacet)("vanilla.editorTutorial");let t_,n_;function a_({description:e,gamepadIndex:t=0,onChange:n,wrapperRef:l,onFocusChanged:o,placeholder:i,label:c,options:s,value:u,disabled:d,disabledNarrationSuffix:m,soundEffectPressed:p,gamepadAlias:f}){const g=(0,r.useFacetWrap)(u),E=(0,r.useFacetWrap)(d),h=(0,r.useFacetWrap)(t);return a.createElement(Mf,{options:(0,r.useFacetMap)((e=>({index:e})),[],[h])},a.createElement(r_,{options:s,value:g,disabled:E,disabledNarrationSuffix:m,label:c,description:e,placeholder:i,onChange:n,wrapperRef:l,onFocusChanged:o,soundEffectPressed:p,gamepadAlias:f}))}function r_({options:e,label:t,description:n,placeholder:l,value:o,onChange:i,wrapperRef:c,disabled:s,disabledNarrationSuffix:u,onFocusChanged:d,soundEffectPressed:m,gamepadAlias:p,menuRole:f="secondary",itemRole:g="neutral60"}){const{t:E}=ec("Dropdown"),h=ia(),v=(0,r.useFacetWrap)(e),b=(0,r.useFacetMap)(((e,t)=>e.find((e=>e.value===t))),[],[v,o]),y=(0,r.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.label)&&void 0!==t?t:""}),[],[b]),F=(0,r.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.description)&&void 0!==t?t:""}),[],[b]),S=(0,r.useFacetMap)((e=>Boolean(e)),[],[F]),C=(0,a.useRef)(null),[M,w,k]=function(e,t,n){const a=id(4.8),l=id(30),o=(0,r.useFacetMap)((e=>e.length),[],[(0,r.useFacetWrap)(e)]),[i,c]=(0,r.useFacetState)(""),[s,u]=(0,r.useFacetState)("");return[{height:i},{height:s},e=>{var i;const s=null==n?void 0:n.current,d=null==n||null===(i=n.current)||void 0===i?void 0:i.parentElement,m=t.current,p=o.get();if(m&&p!==r.NO_VALUE)if(s&&d){const t=s.getBoundingClientRect().height,n=m.offsetTop,r=p*a,o=12,i=Math.min(Math.max(t,n+r+o),l+n+o),u=d.scrollHeight<s.offsetTop+i;c(e&&u?`${i}px`:"")}else{const t=m.getBoundingClientRect();if(0===t.height)return;const n=window.innerHeight-t.top;u(n<l&&e?`${n}px`:"")}}]}(e,C,c),T=(0,r.useFacetMap)(((e,t)=>[e,E(".toggleElementType"),E(".selected"),t,u].join(" . ")),[E,u],[y,F]),I=(0,r.useFacetWrap)(null!=s&&s),P=(0,r.useFacetMap)((e=>h&&!0===e),[h],[I]),x=(0,r.useFacetMap)(((e,n)=>[t,E(".narrationComponentType"),n?E(".narrationDisabled"):"",E(".stateCollapsed"),n?e:""].join(" . ")),[E,t],[T,I]);return a.createElement(wf,{text:x},a.createElement(Kf,{style:M,focusable:P,narrationText:""},a.createElement(Yf,{disabled:s},t),null!=n&&a.createElement(qf,null,n),a.createElement(om,{size:1}),a.createElement(dx,{narrationText:T,options:e,value:o,onChange:i,disabled:s,placeholder:l,onFocusChanged:d,footer:a.createElement(iE.Space,null),soundEffectPressed:m,onOpenClose:k,dropdownRef:C,gamepadAlias:p,menuRole:f,itemRole:g,dropdownMenuStyle:w}),a.createElement(r.Mount,{when:S},a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(qf,{disabled:s},F)))))}(0,r.sharedSelector)((e=>e.currentStageId),[e_]),(0,r.sharedSelector)((e=>e.isTutorialActive),[e_]),(0,r.sharedSelector)((e=>e.isTutorialStarted),[e_]),function(e){e.Idle="tutorial.idle",e.Start="tutorial.start",e.End="tutorial.end",e.Movement="tutorial.movement",e.Hotbar="tutorial.hotbar",e.Selection_Activate="tutorial.selectionActivate",e.Selection_Create="tutorial.selectionCreate",e.Selection_Fill="tutorial.selectionFill",e.Selection_Info="tutorial.selectionInfo",e.Brush_Activate="tutorial.brushActivate",e.Brush_Add="tutorial.brushAdd",e.Brush_Delete="tutorial.brushDelete"}(t_||(t_={})),function(e){e.Movement_Forward="movement.forward",e.Movement_Backward="movement.backward",e.Movement_Left="movement.left",e.Movement_Right="movement.right",e.Movement_Up="movement.up",e.Movement_Down="movement.down",e.Selection_Create_End="selectionCreate.end",e.Selection_Fill_Executed="selectionFill.executed",e.Brush_Paint_Add_End="brushAdd.end",e.Brush_Paint_Delete_End="brushDelete.end"}(n_||(n_={}));function l_(e,t,n,a,r){const l=o_(e,n),o=Math.round(l/100*(a.length-1)),i=Math.max(Math.min(o,a.length-1),0);i!==t&&r(a[i])}function o_(e,t){const n=(e-t.left)/t.width*100;return Math.min(Math.max(n,0),100)}function i_([e,t],n){const a=null!=n?n:1,r=Math.floor((t-e)/a);return Uy()((t=>t*a+e),r+1)}function c_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c_(Object(n),!0).forEach((function(t){u_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u_(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d_=()=>{};function m_({gamepad:e,label:t,onChange:n,value:l,disabled:o=!1,onFocusChanged:i=d_,onHoverAudioEvent:c,onHoverExitAudioEvent:s,range:u=[0,100],showSteps:d=!1,unit:m="",thumbRole:p,trackRole:f,trackOverlayRole:g,step:E}){const h=(0,r.useFacetWrap)(o),v=(0,r.useFacetWrap)(t),b=(0,r.useFacetWrap)(u),y=(0,r.useFacetWrap)(d),F=(0,r.useFacetWrap)(m),S=(0,r.useFacetWrap)(l),C=(0,r.useFacetWrap)(E),{t:M}=ec("BaseSlider"),w=(0,r.useFacetMap)(((e,t)=>[M(".minValueIs"),e[0].toString(),...null!=t?[t]:[],M(".maxValueIs"),e[1].toString(),...null!=t?[t]:[]].join(" . ")),[M],[b,F]),k=(0,r.useFacetMap)(i_,[],[b,C]),T=(0,r.useFacetMap)(((e,t)=>e.reduce(((n,a,r)=>Math.abs(a-t)<Math.abs(e[n]-t)?r:n),0)),[],[k,S]);return a.createElement(wf,{text:w},a.createElement(p_,{label:v,showSteps:y,onFocusChanged:i,disabled:h,onHoverAudioEvent:c,onHoverExitAudioEvent:s,gamepad:e,selectedValueIndex:T,values:k,onChange:n,unit:F,thumbRole:p,trackRole:f,trackOverlayRole:g}))}const p_=({gamepad:e,label:t,onChange:n,selectedValueIndex:l,values:o,disabled:i,onFocusChanged:c=d_,onHoverAudioEvent:s,onHoverExitAudioEvent:u,showSteps:d,unit:m,thumbRole:p="secondary",trackRole:f="neutral50",trackOverlayRole:g="primary"})=>{const{t:E}=ec("BaseSlider"),h=ra(),[v,b]=(0,r.useFacetState)(!1),{narrateText:y,preventNarrateText:F}=gf(),{narrateById:S,preventNarrateById:C}=jd(),M=(0,a.useCallback)(((e,t,n,a)=>[n?E(".currentValue"):"",e,t,null!=a?a:""].join(" . ")),[E]),w=(0,r.useFacetCallback)(((e,t,n)=>()=>M(n[t],e,!0)),[M],[m,l,o]),k=Gd(w),T=(0,r.useFacetCallback)(((e,t)=>n=>{F(),setTimeout((()=>y(M(n,e,!1,t))),0)}),[M,y,F],[m,t]),I=(0,r.useFacetUnwrap)(l),P=I!=r.NO_VALUE?I:0,x=(0,r.useFacetUnwrap)(o),O=x!=r.NO_VALUE?x:[],A=(0,r.useFacetUnwrap)(i),N=A!=r.NO_VALUE&&A,R=(0,r.useFacetCallback)((e=>t=>{e||(n(t),T(t))}),[n,T],[i]),{trackClick:_,sliderRef:L,trackOverlayRef:D,thumbRef:B,onDrag:U,isDragging:z}=function(e,t,n,r){const[l,o]=(0,a.useState)(!1),i=(0,a.useRef)(null),c=(0,a.useRef)(null),s=(0,a.useRef)(null),u=(0,a.useRef)(e);u.current=e;const d=(0,a.useRef)(t);d.current=t;const m=(0,a.useRef)(n);m.current=n;const p=(0,a.useRef)(null),f=(0,a.useCallback)((e=>e.preventDefault()),[]),g=(0,a.useCallback)(((e,t)=>{if(l&&i.current&&p.current&&c.current&&"number"==typeof u.current){e.stopPropagation(),l_(t,u.current,p.current,m.current,d.current);const n=o_(t,p.current);i.current.style.clipPath=`inset(0 ${100-n}% 0 0)`,c.current.style.left=`${n}%`}}),[l,d,u,p,m]),E=(0,a.useCallback)((e=>{g(e,e.clientX)}),[g]),h=(0,a.useCallback)((e=>{g(e,e.touches[0].clientX)}),[g]),v=(0,a.useCallback)((()=>o(!1)),[o]),b=(0,a.useCallback)((()=>o(!1)),[o]),y=(0,a.useCallback)((()=>{r||o(!0),s.current&&(p.current=s.current.getBoundingClientRect())}),[r]);return(0,a.useLayoutEffect)((()=>{const e=()=>{window.removeEventListener("mousemove",E),window.removeEventListener("touchmove",h),window.removeEventListener("mouseup",v),window.removeEventListener("touchend",b)};return l?(window.addEventListener("mousemove",E),window.addEventListener("touchmove",h),window.addEventListener("mouseup",v),window.addEventListener("touchend",b)):e(),e}),[l,v,E,f,h,b]),(0,a.useLayoutEffect)((()=>{if(!l&&i.current&&c.current){const t=Math.max(Math.min(e,n.length-1),0)/(n.length-1)*100;i.current.style.clipPath=`inset(0 ${100-t}% 0 0)`,c.current.style.left=`${t}%`}}),[l,e,n,c,i]),{trackClick:a=>{a.stopPropagation(),s.current&&"number"==typeof e&&l_(a.clientX,e,s.current.getBoundingClientRect(),n,t)},sliderRef:s,trackOverlayRef:i,thumbRef:c,onDrag:y,isDragging:l}}(P,R,O,N),j=(0,r.useFacetCallback)(((e,t,a)=>()=>{if(a||e===t.length-1)return!1;const r=e+1;return setTimeout((()=>T(t[r])),0),n(t[r]),!0}),[T,n],[l,o,i]),H=(0,r.useFacetCallback)(((e,t,a)=>()=>{if(a||0===e)return!1;const r=e-1;return setTimeout((()=>T(t[r])),0),n(t[r]),!0}),[T,n],[l,o,i]),{isFocused:V,onFocus:G}=Ld(s_(s_({},e),{},{onFocusChanged:c,onRight:()=>{const e=j();return e!=r.NO_VALUE&&e},onLeft:()=>{const e=H();return e!=r.NO_VALUE&&e}}),d_,L);(0,r.useFacetEffect)((e=>{e?setTimeout((()=>S(k)),0):C()}),[k,S,C],[V]);const $=Fr(g),K=Fr(f),X=Fr(p),Y=kr(),q=Cr(p),Q=(0,r.useFacetCallback)((e=>()=>{if(e)return;b(!0);const t=null!=s?s:q.hover;null!=t&&h(t),G(W.PointerInput)}),[b,s,h,G,q],[i]),J=(0,a.useCallback)((()=>{b(!1);const e=null!=u?u:q.hoverExit;null!=e&&h(e)}),[u,h,b,q]),Z=(0,r.useFacetMap)((e=>Dr()("xLfkT",X.background.interactive,{[Y.hovered]:z||e})),[z,Y.hovered,X.background.interactive],[v]),ee=(0,r.useFacetMap)((e=>Dr()("kgOja",{[Y.disabled]:e})),[Y.disabled],[i]),te=Wd();return a.createElement("fast-div",{className:ee,ref:L},a.createElement("div",{className:Dr()("VY9jR",K.border.interactive,K.background.interactive),onClick:_},a.createElement(cp,{role:f}),a.createElement(f_,{values:O,show:d,onClick:_,stepClassName:K.border.interactive})),a.createElement("div",{className:Dr()("a8As_",$.border.interactive,$.background.interactive),ref:D,onClick:_},a.createElement(cp,{role:g}),a.createElement(f_,{values:O,show:d,onClick:_,stepClassName:$.border.interactive})),a.createElement("fast-div",{ref:B,className:(0,r.useFacetMap)((e=>Dr()("WCtWo",X.border.interactive,{[Zm]:(null==te?void 0:te.focused)||e})),[X,null==te?void 0:te.focused],[V]),onMouseEnter:Q,onMouseLeave:J,onMouseDown:U,onTouchStart:U},a.createElement(Jm,{role:p}),a.createElement("fast-div",{className:Z},a.createElement(cp,{role:p})),a.createElement("div",{className:Dr()("jsqh0",X.shadow.interactive)})))},f_=({values:e,show:t,onClick:n,stepClassName:l})=>a.createElement(r.Mount,{when:t},a.createElement("div",{className:"nFV_I",onClick:n},e.map(((e,t,n)=>t>=1&&t<n.length-1?a.createElement("div",{key:e,className:Dr()("lFMrn","R7fdm",l)}):null)),a.createElement("div",{className:"RcUud"}))),g_=()=>{};function E_({onChange:e,value:t,disabled:n=!1,gamepadIndex:l=0,showSteps:o=!1,unit:i="",title:c="",description:s="",range:u=[0,100],onFocusChanged:d=g_,wrapperRole:m="neutral",thumbRole:p,trackRole:f,trackOverlayRole:g,valueText:E="",indented:h}){const v=(0,r.useFacetWrap)(t),b=(0,r.useFacetWrap)(o),y=(0,r.useFacetWrap)(i),F=(0,r.useFacetWrap)(c),S=(0,r.useFacetWrap)(s),C=(0,r.useFacetWrap)(n),M=(0,r.useFacetWrap)(u),w=(0,r.useFacetWrap)(E),{t:k}=ec("Slider"),T=(0,r.useFacetMap)(((e,t,n)=>{const a=[e];return n&&a.push(k(".disabled")),a.push(t,k(".narrationComponentType")),a.join(" . ")}),[k],[F,S,C]),I=(0,r.useFacetMap)(((e,t,n)=>""!=n?n:`${e}${null!=t?t:""}`),[],[v,y,w]);return a.createElement(wf,{text:T},a.createElement(Kf,{indented:h,disabled:C,role:m},a.createElement("div",{className:"yxs7_"},a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>Boolean(e)),[],[F])},a.createElement(Yf,{disabled:C},F)),a.createElement(Yf,{className:"uA3Bt",disabled:C},I)),a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>Boolean(e)),[],[S])},a.createElement(qf,null,S)),a.createElement(om,{size:2}),a.createElement(m_,{value:v,showSteps:b,unit:y,range:M,gamepad:{index:l},label:F,onChange:e,onFocusChanged:d,disabled:C,thumbRole:p,trackRole:f,trackOverlayRole:g})))}const h_="yFmUE",v_=n.p+"assets/barrier-083db.png",b_=n.p+"assets/bedrock-20795.png",y_=n.p+"assets/cobblestone-f476f.png",F_=n.p+"assets/deepslate-1a9f4.png",S_=n.p+"assets/dirt-4f003.png",C_=n.p+"assets/grass_block-bff0d.png",M_=n.p+"assets/gravel-1c4f4.png",w_=n.p+"assets/sand-fbe2d.png",k_=n.p+"assets/sandstone-7af0b.png",T_=n.p+"assets/snow-5e79a.png",I_=n.p+"assets/stone-b1cbd.png",P_=n.p+"assets/water_block-d2be9.png";function x_({preset:e}){const{t}=tc("FlatWorld"),{t:n}=tc("FlatWorld.narration"),l=(0,r.useFacetMap)((e=>e.layers),[],[e]),o=Fr("neutral60"),i=(0,r.useFacetMap)(((e,a)=>{const r=[t(".description")];return e.forEach(((e,t)=>r.push([n(".layer",[`${t+1}`]),n(".material"),a.blockDisplayName[e.material],n(".height"),e.height].join(" . ")))),r.join(" . ")}),[n,t],[l,(0,r.useSharedFacet)(fi)]);return a.createElement(a.Fragment,null,a.createElement(om,{size:3}),a.createElement(fm,{type:"captionShort",role:"inherit",variant:"dimmer",overflowEllipsis:!0},t(".description")),a.createElement(om,{size:2}),a.createElement(em.Maybe,{classNameFocused:Zm,isInteractive:!0,narrationText:i},a.createElement(Jm,null),a.createElement(eF,{role:"neutral",label:t(".layers")}),a.createElement("div",{className:Dr()("QAro7",o.border.base)},a.createElement("div",{className:h_},a.createElement(fm,{type:"captionShort",variant:"dimmer",role:"inherit",overflowEllipsis:!0},t(".material")),a.createElement(fm,{type:"captionShort",variant:"dimmer",role:"inherit",overflowEllipsis:!0},t(".height"))),a.createElement(om,{size:3}),a.createElement(r.Map,{array:l},((e,t,n)=>a.createElement(a.Fragment,null,a.createElement(O_,{layer:e}),t+1!=n&&a.createElement(om,{size:2})))))),a.createElement(A_,null))}function O_({layer:e}){const t=(0,r.useFacetMap)(((e,t)=>t.blockDisplayName[e.material]),[],[e,(0,r.useSharedFacet)(fi)]),n=(0,r.useFacetMap)((e=>e.height),[],[e]),l=(0,r.useFacetMap)((e=>function(e){switch(e){case"minecraft:bedrock":return b_;case"minecraft:cobblestone":return y_;case"minecraft:deepslate":return F_;case"minecraft:dirt":return S_;case"minecraft:grass_block":return C_;case"minecraft:gravel":return M_;case"minecraft:sand":return w_;case"minecraft:sandstone":return k_;case"minecraft:snow":return T_;case"minecraft:stone":return I_;case"minecraft:water":return P_;default:return v_}}(e.material)),[],[e]);return a.createElement("div",{className:"qemue"},a.createElement(Mp,{className:"x0zaO",src:l}),a.createElement(om,{size:2}),a.createElement("div",{className:h_},a.createElement(fm,{type:"captionShort",role:"inherit",overflowEllipsis:!0},t),a.createElement(fm,{type:"captionShort",role:"inherit",overflowEllipsis:!0},n)))}function A_(){const{t:e}=tc("FlatWorld"),t=`${e(".designPreviewShortDescription")}`,n=(0,r.useFacetMap)((e=>e.isDevBuild||e.isAnyBeta),[],[(0,r.useSharedFacet)(di)]),l=Ju(),o=(0,r.useFacetCallback)((e=>()=>{l({button:"FlatWorldFeedback",screen:"CreateNewWorld"}),e.openLink(bu.FlatWorldFeedbackPage)}),[l],[(0,r.useSharedFacet)(yu)]);return a.createElement(r.Mount,{when:n},a.createElement(wf,{text:t},a.createElement("div",{className:"yuvN4"},a.createElement(mg,{inputLegend:`${e(".designPreviewInputLegend")}`,onClick:o,Icon:nM.ExternalLink},e(".feedbackButton")),a.createElement(fm,{type:"captionShort",role:"neutral",variant:"dimmest",align:"center"},e(".designPreviewShortDescription")))))}const N_=["ClassicFlat","TunnelersDream","WaterWorld","Overworld","SnowyKingdom","BottomlessPit","Desert","RedstoneReady"],R_={ClassicFlat:".preset.classicFlat",TunnelersDream:".preset.tunnelersDream",WaterWorld:".preset.waterWorld",Overworld:".preset.overworld",SnowyKingdom:".preset.snowyKingdom",BottomlessPit:".preset.bottomlessPit",Desert:".preset.desert",RedstoneReady:".preset.redstoneReady"};function __({value:e,preset:t,onValueChanged:n,onPresetChanged:l,disabled:o,hideAccordion:i,achievementsDisabledMessages:c}){const{t:s}=tc("CreateNewWorld.advanced"),{t:u}=tc("CreateNewWorld.all"),{t:d}=tc("FlatWorld.narration"),{t:m}=tc("FlatWorld"),p=(0,a.useContext)(gI)!==fI.CREATE,f=(0,r.useFacetMap)((e=>null!=e?e:"ClassicFlat"),[],[t]),g=N_.map(((e,t)=>({label:m(R_[e]),value:t}))),E=e,h=(0,r.useFacetMap)((e=>d(p?e?".dropdownHintEditWorldOn":".dropdownHintEditWorldOff":".dropdownHint")),[d,p],[E]),v=(0,r.useFacetMap)((e=>N_.indexOf(e)),[],[f]),b=(0,r.useFacetMap)(((e,t)=>e.presets[t]),[],[(0,r.useSharedFacet)(Pi),f]),y=(0,r.useFacetMap)((e=>d(p?e?".switchHintOnEditWorld":".switchHintOffEditWorld":e?".switchHintOn":".switchHintOff")),[d,p],[E]),F=(0,r.useFacetMap)((e=>0===e.length?u(".narrationSuffixEnablesAchievements"):void 0),[u],[c]),S=(0,r.useFacetWrap)(u(".narrationSuffixDisablesAchievements")),C=(0,r.useFacetWrap)(s(".expandHintNarration"));return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:i},a.createElement(qb,{onChange:n,value:e,title:s(".useFlatWorldTitle"),description:s(".useFlatWorldDescription"),disabled:o,offNarrationText:F,onNarrationText:S,narrationSuffix:y})),a.createElement(r.Mount,{when:i,condition:!1},a.createElement(Zb,{title:s(".useFlatWorldTitle"),description:s(".useFlatWorldDescription"),value:e,onChange:n,disabled:o,narrationSuffix:y,offNarrationText:F,onNarrationText:S,onExpandNarrationHint:C},a.createElement(Fx,{title:m(".title"),customSelectionDescription:a.createElement(x_,{preset:b}),options:g,value:v,onItemSelect:e=>l(N_[e]),disabled:o,wrapperRole:"neutral80",indented:!0,dropdownNarrationSuffix:h}))))}const L_=n.p+"assets/preset-ClassicFlat-2d260.jpeg",D_=n.p+"assets/preset-Desert-29f1e.jpeg",W_=n.p+"assets/preset-Overworld-100a4.jpeg",B_=n.p+"assets/preset-SnowyKingdom-95b10.jpeg",U_={ClassicFlat:L_,TunnelersDream:n.p+"assets/preset-TunnelersDream-3e705.jpeg",WaterWorld:n.p+"assets/preset-WaterWorld-d22e6.jpeg",Overworld:W_,SnowyKingdom:B_,BottomlessPit:L_,Desert:D_,RedstoneReady:D_},z_=({isEditorWorld:e,onSeedValueChange:t,isSeedChangeLocked:n,worldData:l,onUnlockTemplateSettings:o,onWorldPreviewPathChange:i})=>{const{t:c}=tc("CreateNewWorld.advanced"),s=(0,a.useContext)(gI)!==fI.CREATE,u=(0,r.useFacetMap)((e=>e.advanced),[],[l]),d=(0,r.useFacetMap)((e=>e.isLockedTemplate),[],[l]),m=(0,r.useFacetMap)((e=>e.isUsingTemplate),[],[l]),p=(0,r.useFacetMap)((e=>e.achievementsDisabled),[],[l]),f=(0,r.useFacetMap)((e=>e.general.isHardcore),[],[l]),g=(0,r.useFacetMap)((e=>e.achievementsPermanentlyDisabled),[],[l]),E=YA(),h=Tv(VN),v=Tv(Ii.NewTrialModeFlow),b=(0,r.useSharedFacet)(vu),y={value:(0,r.useFacetMap)((e=>e.generatorType),[],[u]),onChange:(0,r.useFacetCallback)((e=>t=>{e.generatorType=t}),[],[u])},F=(0,r.useFacetMap)((e=>e&&v),[v],[b]);return a.createElement(wl,{data:F},(l=>a.createElement(a.Fragment,null,l?a.createElement(vI,{context:EI.ADVANCED_TAB}):a.createElement(V_,{isLockedTemplate:d,achievementsDisabled:p,achievementsPermanentlyDisabled:g,onUnlockTemplateSettings:o,isEditorWorld:e,isHardcoreMode:f},a.createElement(r.Mount,{when:e},a.createElement(r.DeferredMount,null,a.createElement(wO,{title:c(".projectHeader"),description:c(".projectDescription")}))),true?a.createElement(r.Mount,{when:true},a.createElement(r.DeferredMount,null,a.createElement(a_,{label:c(".generatorTypeLabel"),options:[{value:Mu.Overworld,label:c(".vanillaWorldGeneratorLabel"),description:c(".vanillaWorldGeneratorDescription")},{value:Mu.Flat,label:c(".flatWorldGeneratorLabel"),description:c(".flatWorldGeneratorDescription")},{value:Mu.Void,label:c(".voidWorldGeneratorLabel"),description:c(".voidWorldGeneratorDescription")},{value:Mu.Legacy,label:c(".legacyWorldGeneratorLabel"),description:c(".legacyWorldGeneratorDescription")}],value:y.value,onChange:y.onChange}))):null,a.createElement(j_,{advancedData:u,isEditorWorld:e,onSeedValueChange:t,isSeedChangeLocked:n,showSeedTemplates:!0}),a.createElement(H_,{advancedData:u,isUsingTemplate:m,isLockedTemplate:d,achievementsDisabledMessages:E,isEditorWorld:e,isHardcoreMode:f,onWorldPreviewPathChange:i})))))},j_=({advancedData:e,isEditorWorld:t,onSeedValueChange:n,isSeedChangeLocked:l,showSeedTemplates:o})=>{const{t:i}=tc("CreateNewWorld.advanced"),{t:c}=tc("CreateNewWorld.all"),s=(0,a.useContext)(gI)!==fI.CREATE,u=Tv(VN),d=Yr(),m=(0,r.useSharedFacet)(gi),p=(0,r.useSharedFacet)(uc),f=(0,r.useFacetMap)((e=>e.worldSeed),[],[e]),g=(0,r.useFacetMap)((e=>e.isClipboardCopySupported),[],[m]),E=(0,r.useFacetCallback)(((e,t,n)=>()=>{t.copyToClipboard(e),n.queueSnackbar(i(".copyToClipboard"))}),[i],[f,m,p]),h=s?E:()=>d.push("/create-new-world/seed-templates"),v=s?"":i(".worldSeedPlaceholder"),b=i(s?".worldSeedCopyButton":".worldSeedButton"),y=(0,r.useFacetMap)(((e,t,n)=>t||n&&u&&!s&&e.generatorType!=Mu.Overworld),[u,s],[e,l,t]);return o?a.createElement(r.DeferredMount,null,a.createElement(wl,{data:g},(e=>s&&!e?a.createElement(gy,{disabled:s,label:i(".worldSeedLabel"),description:i(".worldSeedDescription"),maxLength:32,value:f,onChange:n,placeholder:i(".worldSeedPlaceholder"),disabledNarrationSuffix:c(".narrationSuffixTemplateLocked"),"data-testid":"world-seed-text-field"}):a.createElement(gy.WithButton,{buttonInputLegend:b,buttonText:b,buttonOnClick:h,textDisabled:s,disabled:y,label:i(".worldSeedLabel"),description:i(".worldSeedDescription"),maxLength:32,value:f,onChange:n,placeholder:v,buttonNarrationHint:i(".narrationTemplatesButtonNarrationHint"),disabledNarrationSuffix:c(".narrationSuffixTemplateLocked"),"data-testid":"world-seed-with-button"})))):a.createElement(r.DeferredMount,null,a.createElement(gy,{disabled:y,label:i(".worldSeedLabel"),description:i(".worldSeedDescription"),maxLength:32,value:f,onChange:n,placeholder:i(".worldSeedPlaceholder"),disabledNarrationSuffix:c(".narrationSuffixTemplateLocked")}))},H_=({advancedData:e,isUsingTemplate:t,isLockedTemplate:n,achievementsDisabledMessages:l,isEditorWorld:o,isHardcoreMode:i,onWorldPreviewPathChange:c=(()=>{})})=>{const{t:s}=tc("CreateNewWorld.advanced"),u=(0,a.useContext)(gI)!==fI.CREATE,d=(0,r.useSharedFacet)(vu),m=Tv("vanilla.settings.unlockRecipes"),p=Tv(VN),f=(0,r.useFacetMap)((e=>!p||p&&!e),[p],[o]),g=(0,r.useFacetMap)(((e,t)=>e||t),[],[t,d]),E=(0,r.useFacetMap)(((e,t)=>e||t||u),[u],[t,d]),h=(0,r.useFacetMap)((({simulationDistanceOptions:e})=>e.length<=1),[],[(0,r.useSharedFacet)(Hs)]),v=(0,r.useFacetMap)(((e,t)=>e||t),[],[i,E]),b=(0,r.useFacetMap)(((e,t)=>e||u||t),[u],[t,i]),y=(0,r.useFacetWrap)(!0),F=[{title:s(".startWithMapTitle"),description:s(".startWithMapDescription"),value:(0,r.useFacetMap)(((e,t)=>!t&&e.startWithMap),[],[e,i]),onChange:(0,r.useFacetCallback)((e=>t=>{e.startWithMap=t}),[],[e]),disabled:b,visible:y},{title:s(".bonusChestTitle"),description:s(".bonusChestDescription"),value:(0,r.useFacetMap)(((e,t)=>!t&&e.bonusChest),[],[e,i]),onChange:(0,r.useFacetCallback)((e=>t=>{e.bonusChest=t}),[],[e]),disabled:v,visible:y}],S={title:s(".recipesUnlockTitle"),description:s(".recipesUnlockDescription"),value:(0,r.useFacetMap)((e=>e.recipesUnlock),[],[e]),onChange:(0,r.useFacetCallback)((e=>t=>{e.recipesUnlock=t}),[],[e]),disabled:d,onNarrationText:s(".recipesUnlockDescription"),visible:y},C=[{title:s(".showCoordinatesTitle"),description:s(".showCoordinatesDescription"),value:(0,r.useFacetMap)((e=>e.showCoordinates),[],[e]),onChange:(0,r.useFacetCallback)((e=>t=>{e.showCoordinates=t}),[],[e]),disabled:d,onNarrationText:s(".showCoordinatesDescription")},{title:s(".showDaysPlayedTitle"),description:s(".showDaysPlayedDescription"),value:(0,r.useFacetMap)((e=>e.showDaysPlayed),[],[e]),onChange:(0,r.useFacetCallback)((e=>t=>{e.showDaysPlayed=t}),[],[e]),disabled:d,onNarrationText:s(".showCoordinatesDescription")},...m?[S]:[],{title:s(".firesSpreadsTitle"),description:s(".firesSpreadsDescription"),value:(0,r.useFacetMap)((e=>e.firesSpreads),[],[e]),onChange:(0,r.useFacetCallback)((e=>t=>{e.firesSpreads=t}),[],[e]),disabled:d,onNarrationText:s(".firesSpreadsDescription")},{title:s(".tntExplodesTitle"),description:s(".tntExplodesDescription"),value:(0,r.useFacetMap)((e=>e.tntExplodes),[],[e]),onChange:(0,r.useFacetCallback)((e=>t=>{e.tntExplodes=t}),[],[e]),disabled:d,onNarrationText:s(".tntExplodesDescription")},{title:s(".mobLootTitle"),description:s(".mobLootDescription"),value:(0,r.useFacetMap)((e=>e.mobLoot),[],[e]),onChange:(0,r.useFacetCallback)((e=>t=>{e.mobLoot=t}),[],[e]),disabled:d,onNarrationText:s(".mobLootDescription")},{title:s(".naturalRegenerationTitle"),description:s(".naturalRegenerationDescription"),value:(0,r.useFacetMap)((e=>e.naturalRegeneration),[],[e]),onChange:(0,r.useFacetCallback)((e=>t=>{e.naturalRegeneration=t}),[],[e]),disabled:d,onNarrationText:s(".naturalRegenerationDescription")},{title:s(".tileDropsTitle"),description:s(".tileDropsDescription"),value:(0,r.useFacetMap)((e=>e.tileDrops),[],[e]),onChange:(0,r.useFacetCallback)((e=>t=>{e.tileDrops=t}),[],[e]),disabled:d,onNarrationText:s(".tileDropsDescription")}],M=(0,r.useFacetMap)(((e,t)=>e||t),[],[h,n]);return a.createElement(a.Fragment,null,a.createElement(r.DeferredMount,null,a.createElement(r.Mount,{when:f},a.createElement(__,{value:(0,r.useFacetMap)((e=>e.useFlatWorld),[],[e]),preset:(0,r.useFacetMap)((e=>e.flatWorldPreset),[],[e]),onValueChanged:(0,r.useFacetCallback)((e=>t=>{e.useFlatWorld=t,t&&e.flatWorldPreset?c(U_[e.flatWorldPreset]):c("")}),[c],[e]),onPresetChanged:(0,r.useFacetCallback)((e=>t=>{e.flatWorldPreset=t,e.useFlatWorld?c(U_[t]):c("")}),[c],[e]),disabled:E,hideAccordion:(0,r.useFacetMap)((e=>null==e.flatWorldPreset),[],[e]),achievementsDisabledMessages:l}))),u?a.createElement(a.Fragment,null):F.map((e=>{var t;return a.createElement(r.DeferredMount,{key:e.title},a.createElement(r.Mount,{when:e.visible},a.createElement(qb,{title:e.title,disabled:null!==(t=e.disabled)&&void 0!==t?t:n,description:e.description,onChange:e.onChange,value:e.value})))})),a.createElement(r.Mount,{when:o},a.createElement(r.DeferredMount,null,a.createElement(wO,{title:s(".exportSettingsHeader"),description:s(".exportSettingsDescription")}))),C.map((e=>{var t;return a.createElement(r.DeferredMount,{key:e.title},a.createElement(qb,{title:e.title,disabled:null!==(t=e.disabled)&&void 0!==t?t:n,description:e.description,onChange:e.onChange,value:e.value}))})),a.createElement(r.DeferredMount,null,a.createElement(K_,{advancedData:e,isTrialAccount:d})),a.createElement(r.DeferredMount,null,a.createElement($_,{label:s(".respawnRadiusLabel"),disabled:g,description:s(".respawnRadiusDescription"),placeholder:s(".respawnRadiusPlaceholder"),isLockedTemplate:n,isTrialAccount:d,advancedData:e})),a.createElement(r.DeferredMountWithCallback,null,a.createElement(G_,{title:s(".simulationDistanceTitle"),disabled:M,advancedData:e})),u?F.map((e=>{var t;return a.createElement(r.DeferredMount,{key:e.title},a.createElement(qb,{title:e.title,disabled:null!==(t=e.disabled)&&void 0!==t?t:n,description:e.description,onChange:e.onChange,value:e.value}))})):a.createElement(a.Fragment,null))},V_=({onUnlockTemplateSettings:e,isEditorWorld:t,isHardcoreMode:n,children:l})=>{const{t:o}=tc("CreateNewWorldSideMenu"),i=(0,a.useContext)(gI)!==fI.CREATE,c=!0!==(0,r.useFacetUnwrap)(n)||i?void 0:RA.ADVANCED_TAB;return a.createElement(r.DeferredMountProvider,null,a.createElement(qA,{narrationText:o(".advancedTabLabel"),onUnlockTemplateSettings:e,isEditorWorld:t,hardcoreModeMessageTab:c},l))};function G_({title:e,disabled:t,advancedData:n}){const{t:l}=tc("CreateNewWorld.advanced"),o=(0,a.useCallback)(((e,t)=>({label:l(".simulationDistanceOption",[`${e}`]),value:e,description:l(t,[""+16*e,`${e}`])})),[l]),i=(0,r.useFacetMap)((({simulationDistanceOptions:e})=>{const t=e.length>1,n=t?".simulationDistanceDescription":".simulationDistanceDescriptionOnlyOne";return(t?e:[4,6,8]).map((e=>o(e,n)))}),[o],[(0,r.useSharedFacet)(Hs)]),c=(0,r.useFacetCallback)((e=>t=>{e.simulationDistance=t}),[],[n]);return a.createElement(Mx,{onMountComplete:(0,r.useNotifyMountComplete)(),title:e,options:i,value:(0,r.useFacetMap)((e=>e.simulationDistance),[],[n]),onChange:c,disabled:t,wrapToggleText:!0})}function $_({label:e,description:t,placeholder:n,disabled:l,isLockedTemplate:o,isTrialAccount:i,advancedData:c}){const s=(0,r.useFacetMap)((e=>e.immediateRespawn),[],[c]),u=(0,r.useFacetMap)((e=>e.respawnBlocksExplode),[],[c]),d=(0,r.useFacetMap)((e=>e.respawnRadius.toString()),[],[c]),{t:m}=tc("CreateNewWorld.all"),{t:p}=tc("CreateNewWorld.advanced.narration"),{t:f}=tc("CreateNewWorld.advanced"),{narrateText:g}=gf({interruptible:!1}),E=(0,r.useFacetCallback)((e=>t=>{e.immediateRespawn=t}),[],[c]),h=(0,r.useFacetCallback)((e=>t=>{e.respawnBlocksExplode=t}),[],[c]),v=(0,r.useFacetCallback)((e=>t=>{e.respawnRadius=t}),[],[c]),b=(0,a.useCallback)(((e,t)=>{const n=e.match(/^[0-9]*$/g),a=parseInt(e)<=128;return 0!==e.length&&n?a?Sg.ValidationResult.VALID:(g(p(".respawnRadiusNotWithinRange")),t(128..toString()),Sg.ValidationResult.INVALID):(g(p(".respawnRadiusInvalidValue")),t(10..toString()),Sg.ValidationResult.INVALID)}),[g,p]);return a.createElement(a.Fragment,null,a.createElement(qb,{title:f(".immediateRespawnTitle"),disabled:null!=l?l:o,description:f(".immediateRespawnDescription"),onChange:E,value:s,onNarrationText:f(".immediateRespawnDescription")}),a.createElement(qb,{title:f(".respawnBlocksExplodeTitle"),disabled:i,description:f(".respawnBlocksExplodeDescription"),onChange:h,value:u,onNarrationText:f(".respawnBlocksExplodeDescription")}),a.createElement(gy,{label:e,description:t,maxLength:8,value:d,disabled:l,onChange:v,onBlur:b,placeholder:n,disabledNarrationSuffix:m(".narrationSuffixTemplateLocked"),isNumber:!0}))}function K_({advancedData:e,isTrialAccount:t}){const{t:n}=tc("CreateNewWorld.advanced"),{t:l}=tc("CreateNewWorld.advanced.sleepSlider"),o=(0,r.useFacetMap)((e=>e.sleepSkipNight),[],[e]),i=(0,r.useFacetCallback)((e=>t=>{e.sleepSkipNight=t}),[],[e]),c=(0,r.useFacetMap)((e=>!Boolean(e.sleepSkipNight)),[],[e]),s=(0,r.useFacetMap)((e=>e.sleepSkipNightPercent<100?e.sleepSkipNightPercent:100),[],[e]),u=(0,r.useFacetCallback)((e=>t=>{t<=100&&(e.sleepSkipNightPercent=t)}),[],[e]),d=(0,r.useFacetMap)((e=>e.sleepSkipNightPercent>100?l(".disabled"):100===e.sleepSkipNightPercent?l(".all",[`(${e.sleepSkipNightPercent}%)`]):50===e.sleepSkipNightPercent?l(".half",[`(${e.sleepSkipNightPercent}%)`]):e.sleepSkipNightPercent>50?l(".most",[`(${e.sleepSkipNightPercent}%)`]):0===e.sleepSkipNightPercent?l(".one"):e.sleepSkipNightPercent>0?l(".some",[`(${e.sleepSkipNightPercent}%)`]):""),[l],[e]);return a.createElement(a.Fragment,null,a.createElement(qb,{title:n(".sleepToSkipNightTitle"),disabled:t,description:n(".sleepToSkipNightDescription"),onChange:i,value:o,onNarrationText:n(".sleepToSkipNightDescription")}),a.createElement(E_,{title:n(".sleepToSkipNightPercentTitle"),disabled:c,description:n(".sleepToSkipNightPercentDescription"),onChange:u,value:s,valueText:d}))}z_.Wrapper=V_,z_.DefaultFields=H_,z_.WorldSeedField=j_;const X_=z_,Y_=n.p+"assets/steve-island-d0eb3.png";var q_;!function(e){e.NintendoPromotion="nintendo-promotion",e.EditRealm="edit-realm",e.PlayStationSignInMessage="PlayStation-sign-in-message",e.NintendoSignInMessage="Nintendo-sign-in-message",e.TrialMode="trial-mode",e.Default="default"}(q_||(q_={}));const Q_=({worldPacks:e,worldData:t,onDeactivatePack:n,onUnlockTemplateSettings:l,isEditorWorld:o})=>{const{t:i}=tc("CreateNewWorld.multiplayer"),{t:c}=tc("CreateNewWorld.all"),s=(0,a.useContext)(gI),u=s!==fI.CREATE,d=Tv(Ii.NewTrialModeFlow),m=(0,r.useSharedFacet)(hu),p=(0,r.useSharedFacet)(vu),f=(0,r.useSharedFacet)($s),g=(0,r.useSharedFacet)(il),E=YA(),h=(0,r.useFacetMap)((e=>e.platform),[],[(0,r.useSharedFacet)(il)]),v=(0,r.useFacetMap)((e=>e.multiplayer),[],[t]),b=(0,r.useFacetMap)((e=>Xw(e)||qw(e)),[],[h]),y=(0,r.useFacetMap)(((e,t,n)=>Xw(t)&&!e.hasPremiumNetworkAccess&&n.isOnline&&e.isSignedInPlatformNetwork),[],[m,h,g]),F=(0,r.useFacetMap)((e=>!qw(e)),[],[h]),S=(0,r.useFacetMap)(((e,t,n)=>!n&&(!e.multiplayerSupported||t.isTrialAccount||e.generalWarningState===Yi.NON_MULTIPLAYER_SKIN_EQUIPPED||e.generalWarningState===Yi.MULTIPLAYER_PRIVILEGES_BLOCKED)),[],[v,m,y]),C=(0,r.useFacetMap)(((e,t,n)=>n||!e.multiplayerGame||t),[],[v,S,y]),M=(0,r.useFacetMap)(((e,t)=>qw(t)&&!e.hasPremiumNetworkAccess),[],[m,h]),w=(0,r.useFacetMap)(((e,t)=>Xw(t)&&!e.isSignedInPlatformNetwork),[],[m,h]),k=(0,r.useFacetMap)(((e,t)=>qw(t)&&!e.isSignedInPlatformNetwork),[],[m,h]),T=(0,r.useFacetMap)(((e,t)=>t&&!e.isLoggedInWithMicrosoftAccount),[],[m,b]),I=(0,r.useFacetMap)(((e,t)=>e.generalWarningState===Yi.CHECK_INTERNET_CONNECTION||t),[],[v,C]),P=(0,r.useFacetMap)((e=>!e),[],[T]),x=(0,r.useFacetMap)((e=>e.platformPlayerAccessSupported),[],[v]),O=(0,r.useFacetMap)((e=>e.activeTexturePacks),[],[e]),A=QO.useShowModal(),N=(0,r.useFacetCallback)(((e,t,a,r,l)=>o=>{if(!r)return o?void(!function(e,t){for(let t=0;t<e.length;t++)if(e[t].isPlatformLocked)return!0;return!1}(t)?(u&&a.trackOptionChanged(cN.MultiplayerChanged,Number(e.multiplayerGame),Number(o)),e.multiplayerGame=o):A({multiplayerData:v,activePacks:O,onDeactivatePack:n})):(u&&a.trackOptionChanged(cN.MultiplayerChanged,Number(e.multiplayerGame),Number(o)),e.multiplayerGame=o);l.showPremiumNetworkUpsellModal()}),[A,n,v,u,O],[v,O,f,y,(0,r.useSharedFacet)(hu)]),R=(0,r.useFacetMap)(((e,t)=>e.playerPermissions===Xi.OPERATOR&&1===t.length?[i(".narrationMultiplayerAdditionalSettingsDisabled"),c(".narrationSuffixEnablesAchievements")].join(" . "):i(".narrationMultiplayerAdditionalSettingsDisabled")),[i,c],[v,E]),_=(0,r.useFacetMap)((e=>e.generalWarningState),[],[v]),L=(0,r.useFacetMap)(((e,t,n)=>!n&&e.multiplayerGame&&!t),[],[v,S,y]),D=(0,r.useFacetMap)((e=>e.friendlyFire),[],[v]),W=(0,r.useFacetMap)((e=>e&&d),[d],[p]),B=(0,r.useFacetMap)(((e,t,n,a)=>n?q_.NintendoSignInMessage:a?q_.PlayStationSignInMessage:e?q_.NintendoPromotion:s===fI.EDIT_REALM?q_.EditRealm:t?q_.TrialMode:q_.Default),[s],[M,W,k,w]),U=(0,r.useFacetCallback)((e=>t=>{e.friendlyFire=t}),[],[v]),z=(0,r.useFacetUnwrap)(_),j=z===r.NO_VALUE?void 0:z;return a.createElement(r.DeferredMountProvider,null,a.createElement(wl,{data:B},(e=>{switch(e){case q_.NintendoSignInMessage:return a.createElement(J_,{multiplayerWarningState:j,onUnlockTemplateSettings:l,isEditorWorld:o},a.createElement(yT,null),a.createElement(VI,{borderless:!0,context:HI.Nintendo}));case q_.PlayStationSignInMessage:return a.createElement(J_,{multiplayerWarningState:j,onUnlockTemplateSettings:l,isEditorWorld:o},a.createElement(yT,null),a.createElement(VI,{borderless:!0,context:HI.Playstation}));case q_.NintendoPromotion:return a.createElement(J_,{multiplayerWarningState:j,onUnlockTemplateSettings:l,isEditorWorld:o},a.createElement(lL,null));case q_.TrialMode:return a.createElement(vI,{context:EI.MULTIPLAYER_TAB});case q_.EditRealm:return a.createElement(J_,{multiplayerWarningState:j,onUnlockTemplateSettings:l,isEditorWorld:o},a.createElement(eL,{multiplayerDisabled:C,friendlyFire:D,handleFriendlyFire:U}),a.createElement(iL,null));case q_.Default:return a.createElement(J_,{multiplayerWarningState:j,onUnlockTemplateSettings:l,isEditorWorld:o},a.createElement(r.DeferredMount,null,a.createElement(qb,{"data-testid":"multiplayer-state-switch",key:i(".multiplayerGameTitle"),title:i(".multiplayerGameTitle"),description:i(".multiplayerGameDescription"),onNarrationText:i(".narrationMultiplayerAdditionalSettingsEnabled"),offNarrationText:R,value:L,disabled:S,onChange:N})),a.createElement(wf,{text:[i(".settingsTitle"),i(".narrationComponentTypeSectionHeader")].join(" . ")},a.createElement(r.DeferredMount,null,a.createElement(wO,{title:i(".settingsTitle")})),a.createElement(r.Mount,{when:x},a.createElement(r.DeferredMountWithCallback,null,a.createElement(tL,{platform:h,multiplayer:v,disabled:C}))),a.createElement(r.Mount,{when:T},a.createElement(r.DeferredMount,null,a.createElement(oL,{gamepadIndex:2,disabled:I}))),a.createElement(r.Mount,{when:P},a.createElement(r.DeferredMountWithCallback,null,a.createElement(nL,{disabled:C,multiplayer:v}))),a.createElement("div",{className:"rDY93"},a.createElement(nM.Visitor,null),a.createElement(nM.Member,null),a.createElement(nM.Operator,null),a.createElement(nM.Visitor,{disabled:!0}),a.createElement(nM.Member,{disabled:!0}),a.createElement(nM.Operator,{disabled:!0})),a.createElement(Z_,{multiplayerData:v,multiplayerDisabled:C,achievementsDisabledMessages:E}),a.createElement(r.Mount,{when:F},a.createElement(rL,{multiplayerData:v,disabled:C})),a.createElement(eL,{multiplayerDisabled:C,friendlyFire:D,handleFriendlyFire:U})))}})))},J_=({multiplayerWarningState:e,onUnlockTemplateSettings:t,isEditorWorld:n,children:l})=>{const{t:o}=tc("CreateNewWorldSideMenu");return a.createElement(r.DeferredMountProvider,null,a.createElement(qA,{isEditorWorld:n,multiplayerWarningState:e,narrationText:o(".multiplayerTabLabel"),onUnlockTemplateSettings:t},l))},Z_=({multiplayerData:e,multiplayerDisabled:t,achievementsDisabledMessages:n})=>a.createElement(r.DeferredMountWithCallback,null,a.createElement(aL,{multiplayer:e,disabled:t,achievementsDisabledMessages:n})),eL=({multiplayerDisabled:e,friendlyFire:t,handleFriendlyFire:n})=>{const{t:l}=tc("CreateNewWorld.multiplayer");return a.createElement(r.DeferredMount,null,a.createElement(qb,{key:l(".friendlyFireTitle"),title:l(".friendlyFireTitle"),description:l(".friendlyFireDescription"),disabledNarrationSuffix:l(".multiplayerSettingsDisabledNarrationHint"),disabled:e,value:t,onChange:n}))};function tL({platform:e,multiplayer:t,disabled:n}){const{t:l}=tc("CreateNewWorld.multiplayer"),o=(0,r.useFacetMap)(((e,t)=>!e.platformPlayerAccessEnabled||!e.multiplayerGame||t),[],[t,n]),i=(0,r.useFacetMemo)(((e,t)=>function(e,t,n){const a=[];return e.platformPlayerInviteAccessSupported&&!qw(t)&&a.push({label:n(".playerAccessInvitedLabel"),value:Ki.INVITED,description:qw(t)?n(".nintendoPlayerAccessInvitedDescription"):Xw(t)?n(".playstationPlayerAccessInvitedDescription"):n(".playerAccessInvitedDescription")}),a.push({label:n(".playerAccessFriendsLabel"),value:Ki.FRIENDS,description:qw(t)?n(".nintendoPlayerAccessFriendsDescription"):Xw(t)?n(".playstationPlayerAccessFriendsDescription"):n(".playerAccessFriendsDescription")}),a.push({label:n(".playerAccessFriendsOfFriendsLabel"),value:Ki.FRIENDS_OF_FRIENDS,description:qw(t)?n(".nintendoPlayerAccessFriendsOfFriendsDescription"):Xw(t)?n(".playstationPlayerAccessFriendsOfFriendsDescription"):n(".playerAccessFriendsOfFriendsDescription")}),a}(e,t,l)),[l],[t,e]),c=(0,r.useFacetUnwrap)((0,r.useFacetMemo)((e=>qw(e)?l(".nintendoPlayerAccessTitle"):Xw(e)?l(".playstationPlayerAccessTitle"):l(".playerAccessTitle")),[l],[e]));return a.createElement(Mx,{onMountComplete:(0,r.useNotifyMountComplete)(),title:c===r.NO_VALUE?l(".playerAccessTitle"):c,disabled:o,wrapToggleText:!0,options:i,value:(0,r.useFacetMap)((e=>e.platformPlayerAccess),[],[t]),onChange:(0,r.useFacetCallback)((e=>t=>{e.platformPlayerAccess=t}),[],[t])})}function nL({disabled:e,multiplayer:t}){const{t:n}=tc("CreateNewWorld.multiplayer"),l=(0,r.useFacetMap)((e=>e.platformPlayerAccessSupported),[],[t]),o=(0,r.useFacetUnwrap)((0,r.useFacetMemo)((e=>n(e?".microsoftPlayerAccessTitle":".playerAccessTitle")),[n],[l]));return a.createElement(Mx,{disabledNarrationSuffix:n(".multiplayerSettingsDisabledNarrationHint"),onMountComplete:(0,r.useNotifyMountComplete)(),title:o!==r.NO_VALUE?o:n(".playerAccessTitle"),disabled:e,wrapToggleText:!0,options:[{label:n(".playerAccessInvitedLabel"),value:Ki.INVITED,description:n(".playerAccessInvitedDescription")},{label:n(".playerAccessFriendsLabel"),value:Ki.FRIENDS,description:n(".playerAccessFriendsDescription")},{label:n(".playerAccessFriendsOfFriendsLabel"),value:Ki.FRIENDS_OF_FRIENDS,description:n(".playerAccessFriendsOfFriendsDescription")}],value:(0,r.useFacetMap)((e=>e.playerAccess),[],[t]),onChange:(0,r.useFacetCallback)((e=>t=>{e.playerAccess=t}),[],[t])})}function aL({multiplayer:e,disabled:t,achievementsDisabledMessages:n}){const{t:l}=tc("CreateNewWorld.multiplayer"),{t:o}=tc("CreateNewWorld.all"),i=(0,r.useFacetMap)(((e,t)=>[{label:l(".playerPermissionsVisitorLabel"),value:Xi.VISITOR,description:l(".playerPermissionsVisitorDescription"),Icon:nM.Visitor,narrationSuffix:e.playerPermissions===Xi.OPERATOR&&1===t.length?o(".narrationSuffixEnablesAchievements"):void 0},{label:l(".playerPermissionsMemberLabel"),value:Xi.MEMBER,description:l(".playerPermissionsMemberDescription"),Icon:nM.Member,narrationSuffix:e.playerPermissions===Xi.OPERATOR&&1===t.length?o(".narrationSuffixEnablesAchievements"):void 0},{label:l(".playerPermissionsOperatorLabel"),value:Xi.OPERATOR,description:l(".playerPermissionsOperatorDescription"),Icon:nM.Operator,narrationSuffix:o(".narrationSuffixDisablesAchievements")}]),[l,o],[e,n]);return a.createElement(Mx,{disabledNarrationSuffix:l(".multiplayerSettingsDisabledNarrationHint"),onMountComplete:(0,r.useNotifyMountComplete)(),title:l(".playerPermissionsTitle"),disabled:t,options:i,value:(0,r.useFacetMap)((e=>e.playerPermissions),[],[e]),onChange:(0,r.useFacetCallback)((e=>t=>{e.playerPermissions=t}),[],[e])})}function rL({multiplayerData:e,disabled:t}){const{t:n}=tc("CreateNewWorld.multiplayer"),l=(0,r.useFacetMap)((e=>e.visibleToLanPlayers),[],[e]),o=(0,r.useFacetCallback)((e=>t=>{e.visibleToLanPlayers=t}),[],[e]);return a.createElement(qb,{key:n(".visibleToLanPlayersTitle"),title:n(".visibleToLanPlayersTitle"),description:n(".visibleToLanPlayersDescription"),disabledNarrationSuffix:n(".multiplayerSettingsDisabledNarrationHint"),disabled:t,value:l,onChange:o})}function lL(){const{t:e}=tc("CreateNewWorld.multiplayer");return a.createElement(cb,{borderless:!0,gamepadIndex:0,title:e(".nintendoSubscriptionPromotionTitle"),text:e(".nintendoSubscriptionPromotionBody"),imgSrc:Y_,imgClass:"BHnbR",buttons:[{text:e(".nintendoSubscriptionPromotionButtonLabel"),onClick:(0,r.useFacetCallback)((e=>()=>e.showPremiumNetworkUpsellModal()),[],[(0,r.useSharedFacet)(hu)]),inputLegend:e(".nintendoSubscriptionPromotionButtonLabel")}]})}function oL({gamepadIndex:e,disabled:t}){const{t:n}=tc("CreateNewWorld.multiplayer"),r=m();return a.createElement(Kf,null,a.createElement(Yf,null,n(".microsoftSignInButtonTitle")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:n(".microsoftSignInButtonLabel"),onClick:()=>r.push("/sign-in?signInSource=MultiplayerTab_OreUI"),gamepadIndex:e,disabled:t},n(".microsoftSignInButtonLabel")))}function iL(){const{t:e}=tc("MultiplayerTab.PlayerAccessPanel"),t=m(),n=ZA(),l=(0,r.useFacetCallback)((e=>()=>{t.push(`/settings/members/${e}`)}),[t],[n]);return a.createElement(Kf,{compact:!0},a.createElement(om,{size:4}),a.createElement(Yf,null,e(".title")),a.createElement(om,{size:2}),a.createElement(mg,{variant:"secondary",inputLegend:e(".manageMembersLegend"),onClick:l},e(".manageMembersButton")),a.createElement(om,{size:4}))}Q_.Wrapper=J_,Q_.PlayerPermissionsSection=Z_,Q_.FriendlyFireSwitch=eL;const cL=Q_;function sL({text:e}){return a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(fm,{type:"captionShort",variant:"dimmer"},e))}function uL(){return uL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},uL.apply(this,arguments)}function dL(e){var t;return e.shouldSkipLandmarkInVisual?a.createElement(Gr,{disabled:e.disabled},e.children):null==e.containerRef?a.createElement(Gr,e,e.children):a.createElement(Fp,uL({},e,{delegateFocusFromMemory:e.delegateFocusFromMemory||"remember"===e.defaultFocusedChildBehavior,delegateFocusByAlias:null!==(t=e.delegateFocusByAlias)&&void 0!==t?t:e.defaultFocusedChildAlias}))}const mL=n.p+"assets/draggable-icon-cb81f.png",pL=n.p+"assets/arrow-down-f9b6c.png",fL=n.p+"assets/remove-icon-5a112.png",gL=n.p+"assets/settings-icon-af819.png",EL=n.p+"assets/add-icon-675d0.png",hL=n.p+"assets/warning-icon-e02fb.png",vL=n.p+"assets/missing-pack-icon-010c8.png",bL={packImage:"jkWPs",border:"IyJVt",draggableIcon:"yh9nh",expandArrowIcon:"ZVibx",flipped:"s7QSb",settingsIcon:"RvsYq",removeIcon:"jrqnD",addIcon:"v5aeN",expandableWrapper:"KpUwY",expanded:"ZFmh4",expandableContent:"S0c54",expandableContentWrapper:"cDMTw",expandableContentDescription:"emj3l",expandableContentLinksWrapper:"H2ovu",disabledPackImage:"qCfGN"};function yL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function FL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yL(Object(n),!0).forEach((function(t){SL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SL(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CL(){const e={active:0,available:0,realms:0};return t=>Object.keys(e).reduce(((n,a)=>{var r,l,o;const i=null!==(r=null===(l=t[a])||void 0===l||null===(o=l.resourcePacks)||void 0===o?void 0:o.length)&&void 0!==r?r:0,c=e[a]===i;return e[a]=i,n?c:n}),!0)}function ML(){const e=(0,a.useRef)(!0),{narrateText:t}=gf({interruptible:!1}),{t:n}=ec("CreateNewWorld.resourcePacks");return(0,a.useCallback)((a=>{e.current&&"activate"===a?(t(n(".activateNarrationFirstPack")),e.current=!1):t(n(`.${a}Narration`))}),[t,n])}function wL(e,t,n,l,o,i){const c=Se(),s=ia(),u=(0,a.useRef)(null),d=(0,a.useRef)(null),m=(0,a.useRef)(null),p=(0,a.useRef)(null),f=pA.useShowModal(),g=ML(),E=ML(),h=(0,a.useCallback)(((t,n,a)=>{u.current=t,d.current=n,m.current=a,p.current="remove",i(t,e)}),[e,i]),v=(0,r.useFacetCallback)((t=>(n,a,r,l,i,c)=>{u.current=n,d.current=i,m.current=c,p.current="activate",l&&t.multiplayerGame?f({multiplayerData:t,packId:n,packType:e,packName:a,packSize:r,onActivatePack:o}):o(n,e,a,r)}),[f,e,o],[l]),b=(0,r.useFacetMemo)((n=>Object.keys(t).reduce(((a,r)=>{const l=t[r],o=`${r}${e===_u.Behavior?"BehaviorPacks":"TexturePacks"}`,i=n[o];return FL(FL({},a),{},{[r]:{gamepadAliases:l,resourcePacks:i}})}),{})),[t,e],[n],CL);return(0,r.useFacetEffect)((t=>{if(null==u.current||null==d.current||null==m.current||null==p.current)return;e===_u.Resource&&E(p.current),e===_u.Behavior&&g(p.current);const n=t[m.current];if(0===n.resourcePacks.length){const e=s?n.gamepadAliases.emptyStateMessageAlias:n.gamepadAliases.tabsAlias;return void c(e)}const a=null!=n.resourcePacks[d.current]?d.current:d.current-1,r=n.resourcePacks[a].id,l=kL(p.current,r);c(l)}),[c,s,e,E,g],[b]),{deactivatePack:h,activatePack:v}}function kL(e,t){return`${e}-${t}`}const TL=(0,a.createContext)(null);function IL(e){return(0,r.useFacetMap)((e=>null!=e?e:{id:"-1",contentId:"-1",name:"-1",creator:"-1",description:"-1",size:"-1",image:void 0,isMarketplaceItem:!1,isPlatformLocked:!1,hasSettings:!1}),[],[e])}function PL(e){return e}function xL(){return xL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xL.apply(this,arguments)}const OL="_GLOBAL_MINECRAFT_TEXTURE_PACK_";function AL({pack:e,gamepadIndex:t,index:n,draggable:l,removable:o,activatable:i,canShowSettingsButton:c=!1,expandedPackId:s,containerListLength:u,outerRole:d="neutral",innerRole:m="neutral80",onDragStart:p=LL,onDrop:f=LL,onExpand:g=LL,onRemove:E=LL,onActivate:h=LL,onClickPackSettings:v=LL,onClickMoreDetails:b=LL,showTechnicalDetailsLink:y=!1}){const{t:F}=ec("PackListItem"),S=Yr(),C=lt(),M=(0,r.useSharedFacet)($s),w=(0,r.useFacetWrap)(l||!1),k=(0,r.useFacetWrap)(null!=o&&o),T=(0,r.useFacetWrap)(null!=i&&i),I=IL(e),P=(0,r.useFacetUnwrap)((0,r.useFacetMap)((e=>e.id),[],[I])),x=(0,r.useFacetMap)((e=>e.name),[],[I]),O=(0,r.useFacetMap)((e=>e.size),[],[I]),A=(0,r.useFacetMap)((e=>e.description),[],[I]),N=(0,r.useFacetMap)((e=>e.isPlatformLocked),[],[I]),R=(0,r.useFacetRef)(N,!1),_=(0,r.useFacetMap)((e=>{switch(e.error){case Du.PackDependencyWarning:return F(".errorPackMissingDependencies");case Du.ContentTierIncompatible:return F(".errorPackNotCompatible");case Du.ContentTierIncompatibleMemory:return F(".errorPackNotCompatibleMemory");case Du.ContentTierIncompatibleRayTracing:return F(".errorPackNotCompatibleRayTracing");case Du.NoPackAccess:return F(".errorPackAccess");case Du.UnsupportedFileFormat:return F(".errorPackUnsupportedFormat");case Du.NoManifest:case Du.MissingProperty:case Du.WrongTypeProperty:case Du.EmptyProperty:case Du.InvalidProperty:case Du.MalformedPropertyUUID:case Du.MalformedPropertyVERSION:case Du.DuplicateUUID:case Du.InvalidJSON:case Du.MissingModules:case Du.MultipleModules:case Du.UnsupportedFormatVersion:return F(".errorPackReading");case Du.VersionTooHigh:case Du.VersionTooLow:return F(".errorPackIncompatibleVersion");case Du.IncompletePack:return F(".errorPackIncomplete");default:return""}}),[F],[I]),L=(0,r.useFacetMap)((e=>e.error===Du.PackDependencyWarning||e.error===Du.IncompletePack||e.error===Du.VersionTooHigh||e.error===Du.VersionTooLow?"noticeTint":"destructiveTint"),[],[I]),D=(0,r.useFacetMap)((e=>0!=e.length),[],[_]),W=(0,r.useFacetMap)(((e,t)=>!(!e||t.error===Du.NeedToDownloadPack)&&(c||t.error===Du.VersionTooHigh||t.error===Du.VersionTooLow||t.error===Du.IncompletePack)),[c],[D,I]),B=(0,r.useFacetMap)((e=>!e.isMarketplaceItem),[],[I]),U=(0,r.useFacetMap)((e=>null!=e.image&&e.image.length>0?e.image:vL),[],[I]),z=(0,a.useRef)(null),j=(0,r.useFacetMap)((e=>e?1:0),[],[w]),H=(0,r.useFacetMap)((e=>e===P),[P],[s]),V=!1===(0,r.useFacetUnwrap)(H),G=!0===(0,r.useFacetUnwrap)((0,r.useFacetMap)((e=>!e),[],[w])),{handlers:$,dragStateFacet:K}=function({id:e,data:t,index:n,ref:l,pointerAxisLock:o,onDragStart:i,disabled:c,gamepadDragXOffsetPx:s,gamepadDragYOffsetPx:u}){const d=wy(),m=(0,a.useContext)(Ty),p=(0,r.useFacetMap)((t=>t[e]),[e],[(0,r.useFacetWrap)(null!=m?m:{})]);(0,a.useEffect)((()=>{if(null!=d&&1!=c)return d.addDraggable({id:e,index:n,data:t,ref:l,pointerAxisLock:o,onDragStart:i,gamepadDragXOffsetPx:s,gamepadDragYOffsetPx:u}),()=>{d.removeDraggable(e)}}),[e,t,d,l,n,o,i,s,u,c]);const f=(0,r.useFacetCallback)((e=>t=>("gamepad"==e.dragging&&null!=d&&("up"!==t&&"down"!=t||d.focusDragMove(t)),0!=e.dragging)),[d],[p]),g=(0,a.useCallback)((t=>{if(null==d||null==t)return;const{clientX:n,clientY:a}=null!=t.clientX?t:t.touches[0];i?i((()=>{d.pointerDragStart(e,n,a)})):d.pointerDragStart(e,n,a)}),[d,e,i]),E=(0,a.useCallback)((()=>{null!=d&&(i?i((()=>{d.focusDragToggle(e)})):d.focusDragToggle(e))}),[d,i,e]);return{dragStateFacet:p,handlers:(0,a.useMemo)((()=>({onMouseDown:g,onGamepadClick:E,onUp:()=>!0===f("up"),onDown:()=>!0===f("down"),onLeft:()=>!0===f("left"),onRight:()=>!0===f("right")})),[g,E,f])}}({data:n,id:P,index:n,onDragStart:p,pointerAxisLock:"y",ref:z,disabled:G,gamepadDragXOffsetPx:id(-.4),gamepadDragYOffsetPx:id(-.8)}),X=function({id:e,index:t,ref:n,data:l,disabled:o,onDrop:i}){const c=wy(),s=(0,a.useContext)(Iy),u=(0,r.useFacetMap)((t=>null!=t[e]?t[e]:{}),[e],[(0,r.useFacetWrap)(null!=s?s:{})]);return(0,a.useEffect)((()=>{if(null!=c&&1!=o)return c.addDroppable({id:e,index:t,ref:n,data:l,onDrop:i}),()=>{c.removeDroppable(e)}}),[e,t,n,l,i,c,o]),u}({id:P,index:n,data:n,onDrop:(e,t)=>{setTimeout((()=>{ie(F(".narrationReorderComplete",[`${t+1}`]))}),16),f(P,e,t)},ref:z,disabled:G}),Y=(0,r.useFacetMap)((e=>null!=e&&0!=e.dragging),[],[K]),q=(0,r.useFacetMap)((e=>null!=e&&e.dragging),[],[K]),Q=(0,r.useFacetMap)((e=>null!=e?e.displacement:0),[],[X]),J=(0,r.useFacetMap)((e=>null!=e?e.zIndex:""),[],[K]),Z=(0,r.useFacetMap)((e=>null!=e?e.transform:""),[],[K]),ee=(0,r.useFacetMap)((e=>null==e?"":`translate(0, ${100*e+"%"})`),[],[Q]),te=(0,r.useFacetMap)((e=>e?"-0.4rem":"0"),[],[Y]),ne=(0,r.useFacetMap)((e=>e?"-0.8rem":"0"),[],[Y]),ae=(0,r.useFacetMap)((e=>e?"0.7200000000000001rem 1.4400000000000002rem 0 rgba(0, 0, 0, 0.3)":""),[],[Y]),re=(0,r.useFacetMap)((e=>F(e?".dropInputLegendText":".dragInputLegendText")),[F],[Y]),le=(0,r.useFacetMap)(((e,t)=>null==t||e?"":"transform 100ms linear"),[],[Y,Q]),oe=(0,r.useFacetMap)((e=>"gamepad"===e?"transform 100ms linear":""),[],[q]),{narrateText:ie}=gf(),ce=(0,r.useFacetCallback)(((e,t)=>()=>{ie([F((t=!t)?".narrationExpanded":".narrationCollapsed"),t?F(".narrationExpandedHint"):null].filter(PL).join(" . ")),g(e.id)}),[g,ie,F],[e,H]),se=(0,r.useFacetCallback)(((e,t)=>()=>{t.fireEventButtonPressed("Resource_Pack_Pack_Manifest_Button_OreUI",{}),S.push(`/manifest-validation/${e.contentId}`)}),[S],[e,M]),ue=(0,r.useFacetMap)((e=>F(e?".collapseDescriptionInputLegend":".expandDescriptionInputLegend")),[F],[H]),de=(0,r.useFacetMap)((e=>Dr()(bL.expandArrowIcon,{[bL.flipped]:e})),[],[H]),me=(0,r.useFacetMap)((e=>e.hasSettings&&c),[c],[e]),pe=(0,r.useFacetMap)(((e,t)=>[e,F(".narrationComponentType"),t>0?F(".narrationListLengthContext",[`${n+1}`,`${t}`]):void 0].filter(PL).join(" . ")),[F,n],[x,(0,r.useFacetWrap)(null!=u?u:0)]),fe=(0,r.useFacetMap)(((e,t,n)=>[F(".narrationPackDescription"),F(".narrationAccordion"),F(e?".narrationExpanded":".narrationCollapsed"),e?null:F(t||n?".narrationExpandHint":".narrationExpandHintNoButtons")].filter(PL).join(" . ")),[F],[H,k,me]),ge=(0,r.useFacetMap)((e=>[F(".narrationReorderPack"),F(".narrationPackRank",[`${n+1}`]),F(".narrationButton"),F(e?".narrationReorderPointerHint":".narrationReorderGamepadHint"),F(".narrationMultiplePacksHint")].filter(PL).join(" . ")),[F,n],[C]),Ee=(0,r.useFacetMap)((e=>null==e?void 0:e.gamepadHoverIndex),[],[K]),he=(0,r.useFacetMap)((e=>null==e?void 0:e.pointerHoverIndex),[],[K]),ve=(0,r.useFacetMap)((e=>null==e?void 0:e.hasDraggedPointerBeyondStartArea),[],[K]);(0,r.useFacetEffect)(((e,t,n,a,r)=>{!e||null==t&&null==n||(a&&null!=n&&r?ie(F(".narrationReorderPointerChangeConfirmation",[`${n+1}`])):null!=t&&ie(F(".narrationReorderGamepadChangeConfirmation",[`${t+1}`])))}),[ie,F],[Y,Ee,he,C,ve]),(0,r.useFacetEffect)(((e,t)=>{e&&ie(F(t?".narrationReorderPointerDraggingHint":".narrationReorderGamepadDraggingHint"))}),[ie,F],[Y,C]);const be=(0,a.useContext)(TL),ye=Cr(d),Fe=Fr(d),Se=(0,r.useFacetMap)((e=>e?ye.contract:ye.expand),[ye],[H]);return P==r.NO_VALUE?null:a.createElement(wf,{text:pe,key:P},a.createElement(Xa,{role:d},a.createElement(kO,{options:{index:t}},a.createElement(Mf,{options:{index:0}},a.createElement("fast-div",{style:{top:ne,left:te,zIndex:J}},a.createElement("fast-div",{ref:z,style:{transform:Z,transition:oe},className:bL.packListItemContent},a.createElement("fast-div",{style:{transform:ee,boxShadow:ae,transition:le}},a.createElement(TM,{gamepadIndex:0,defaultFocusedChildBehavior:"grid"},a.createElement(r.Mount,{when:w},a.createElement(TM.AdditionalAction,xL({fitContent:!0,onClick:LL,inputLegend:re,narrationText:ge,gamepadIndex:0,touchDetectionDelay:0,soundEffectPressed:ye.lift},$),a.createElement(TM.Cell,{direction:"row"},a.createElement(om,{size:2}),a.createElement(Mp,{src:mL,className:bL.draggableIcon,imageRendering:"pixelated"}),a.createElement(om,{size:1}),a.createElement(fm,{type:"captionShort"},n+1),a.createElement(om,{size:2})))),a.createElement(TM.Action,{inputLegend:ue,gamepadIndex:j,narrationText:fe,onClick:ce,soundEffectPressed:Se},a.createElement(TM.Cell,null,a.createElement(Mp,{src:U,className:Dr()(bL.packImage,Fe.border.base,bL.border)})),a.createElement(TM.Main,null,a.createElement(fm,{type:"body"},a.createElement(am,null,x)),a.createElement(r.Mount,{when:W},a.createElement(cy,{role:L},_))),a.createElement(TM.Cell,{direction:"row"},a.createElement(Mp,{src:pL,className:de,imageRendering:"pixelated"}),a.createElement(om,{size:4}))),a.createElement(r.Mount,{when:me},a.createElement(TM.AdditionalAction,{inputLegend:F(".settingsButtonText"),onClick:()=>v(P),narrationText:F(".narrationSettingsButton"),gamepadIndex:2},a.createElement(TM.Cell,{align:"center"},a.createElement(Mp,{src:gL,className:bL.settingsIcon,imageRendering:"pixelated"}),a.createElement(om,{size:1}),a.createElement(fm,{align:"center",type:"captionTiny"},F(".settingsButtonText"))))),a.createElement(r.Mount,{when:k},a.createElement(TM.AdditionalAction,{inputLegend:F(".removeButtonText"),onClick:()=>E(P,n,be),narrationText:F(".narrationRemoveButton"),gamepadIndex:3,gamepadAlias:kL("remove",P)},a.createElement(TM.Cell,{align:"center"},a.createElement(Mp,{src:fL,className:bL.removeIcon,imageRendering:"pixelated"}),a.createElement(om,{size:1}),a.createElement(fm,{align:"center",type:"captionTiny"},F(".removeButtonText"))))),a.createElement(r.Mount,{when:W},a.createElement(TM.AdditionalAction,{inputLegend:F(".detailsButtonText"),onClick:se,narrationText:F(".narrationDetailsButton"),gamepadIndex:4},a.createElement(TM.Cell,{align:"center"},a.createElement(Mp,{src:hL,className:bL.addIcon,imageRendering:"pixelated"}),a.createElement(om,{size:1}),a.createElement(fm,{align:"center",type:"captionTiny"},F(".detailsButtonText"))))),a.createElement(r.Mount,{when:T},a.createElement(TM.AdditionalAction,{inputLegend:F(".activateButtonText"),onClick:()=>h(P,x,O,R.current,n,be),narrationText:F(".narrationActivateButton"),gamepadIndex:2,gamepadAlias:kL("activate",P)},a.createElement(TM.Cell,{align:"center"},a.createElement(Mp,{src:EL,className:bL.addIcon,imageRendering:"pixelated"}),a.createElement(om,{size:1}),a.createElement(fm,{align:"center",type:"captionTiny"},F(".activateButtonText"))))))))),a.createElement(dL,{disabled:V,shouldSkipLandmarkInVisual:!0,gamepadIndex:1},a.createElement(NL,{size:O,description:A,onClickMoreDetails:()=>b("string"==typeof P?P:""),onClickTechnicalDetails:se,expanded:H,hideMarketplaceLink:B,hideSize:B,outerRole:d,innerRole:m,showTechnicalDetailsLink:y&&P!=OL}))))))}function NL({expanded:e,description:t,size:n,onClickMoreDetails:l,onClickTechnicalDetails:o,hideMarketplaceLink:i,hideSize:c,outerRole:s,innerRole:u,showTechnicalDetailsLink:d=!1}){const m=(0,a.useRef)(null),{t:p}=ec("PackListItem"),[f,g]=Lb(e),E=(0,r.useFacetMap)((e=>!e),[],[e]),h=Fr(s),v=Fr(u),b=(0,r.useFacetMap)(((e,t,n)=>[n?null:e,t].filter(PL).join(" . ")),[],[n,t,c]);return a.createElement(wf,{text:b},a.createElement(Fp,{containerRef:m,delegateFocusFromMemory:!0},a.createElement("fast-div",{className:(0,r.useFacetMap)((e=>Dr()(bL.expandableWrapper,h.background.base,{[bL.expanded]:e})),[h],[e]),ref:m,style:f},a.createElement(Xa,{role:u},a.createElement("div",{ref:g},a.createElement(em.Maybe,{narrationText:!1,gamepadIndex:0,isInteractive:i,className:Dr()(bL.expandableContent,v.background.base,v.border.base),classNameFocused:Zm},a.createElement(Jm,null),a.createElement(om,{size:3}),a.createElement("div",{className:bL.expandableContentWrapper},a.createElement("div",{className:bL.expandableContentDescription},a.createElement(fm,{type:"captionLong"},t),a.createElement(om,{size:3}),a.createElement(r.Mount,{when:i,condition:!1},a.createElement(fm,{type:"captionLong"},a.createElement(BT,{disabled:E,gamepadIndex:0,onClick:l,withUnderlinePolyfill:!0},p(".descriptionMarketplaceLink"))))),a.createElement("div",{className:bL.expandableContentLinksWrapper},a.createElement(r.Mount,{when:c,condition:!1},a.createElement(fm,{type:"captionShort",variant:"dimmer"},n)),d&&a.createElement(a.Fragment,null,a.createElement("div",null),a.createElement(fm,{type:"captionLong"},a.createElement(BT,{gamepadIndex:1,onClick:o,withUnderlinePolyfill:!0},p(".descriptionTechnicalDetailsLink")))))),a.createElement(r.Mount,{when:c,condition:!1},a.createElement(om,{size:3}))),a.createElement(om,{size:3}))))))}function RL({pack:e,index:t,gamepadIndex:n,containerListLength:l,role:o="neutral"}){const i=IL(e),c=(0,r.useFacetUnwrap)((0,r.useFacetMap)((e=>e.id),[],[i])),s=(0,r.useFacetMap)((e=>e.name),[],[i]),u=(0,r.useFacetMap)((e=>null!=e.image&&e.image.length>0?e.image:vL),[],[i]),{t:d}=ec("PackListItem"),m=(0,r.useFacetMap)(((e,n)=>[e,d(".narrationComponentType"),n>0?d(".narrationListLengthContext",[`${t+1}`,`${n}`]):void 0,d(".narrationDeactivatedState")].filter(PL).join(" . ")),[d,t],[s,(0,r.useFacetWrap)(null!=l?l:0)]),p=Fr(o),f=ia();return c==r.NO_VALUE?null:a.createElement(wf,{text:m,key:c},a.createElement(kO,{options:{index:n}},a.createElement(Mf,{options:{index:0}},a.createElement(TM,{isFocusable:f,gamepadIndex:0},a.createElement(om,{size:2}),a.createElement(TM.Cell,null,a.createElement(Mp,{src:u,className:Dr()(bL.disabledPackImage,p.border.base,bL.border)})),a.createElement(TM.Main,null,a.createElement(fm,{type:"body",variant:"dimmer"},a.createElement(am,null,s)))))))}function _L(e){return function(e){var t;return null!==(t=e.deactivated)&&void 0!==t&&t}(e)?a.createElement(RL,e):a.createElement(AL,e)}function LL(){}function DL(e,t){const n=[];for(let a=0;a<e.length;a++)n[a]=t(e[a],a,e);return n}function WL(e,t){for(let n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}const BL=e=>{const t=(0,r.useFacetMemo)((t=>{const n=Uo(t,(t=>t.id===e.packId));return null!=n?n:t[e.index]}),[e.packId,e.index],[e.packs]),n=(0,r.useFacetMap)((e=>e.length),[],[e.packs]);return a.createElement(_L,{showTechnicalDetailsLink:e.showTechnicalDetailsLink,gamepadIndex:e.index,pack:t,index:e.index,draggable:e.draggable,expandedPackId:e.expandedId,removable:e.isNotLockedTemplate,containerListLength:n,onDragStart:e.onDragStart,onDrop:e.onDrop,onExpand:e.onExpand,onRemove:e.onRemove,canShowSettingsButton:e.canShowSettingsButton,onClickPackSettings:e.onClickPackSettings,onClickMoreDetails:e.onClickMoreDetails})};function UL(){let e=[];return function(t){if(e.length!==t.length)return e=DL(t,(e=>e.id)),!1;const n=WL(t,((t,n)=>e[n]===t.id));return n||(e=DL(t,(e=>e.id))),n}}function zL(e){const t=(0,r.useFacetMemo)((e=>e),[],[e.packsFacet],UL),n=(0,r.useFacetMap)((e=>e.map((e=>e.id))),[],[t]),l=(0,r.useFacetUnwrap)(n);return l!==r.NO_VALUE?a.createElement(a.Fragment,null,null==l?void 0:l.map(((n,r)=>a.createElement(BL,{showTechnicalDetailsLink:e.showTechnicalDetailsLink,packs:t,key:l[r],packId:n,index:r,draggable:e.draggable,expandedId:e.expandedId,onDragStart:e.onDragStart,onDrop:e.onDrop,onExpand:e.onExpand,onRemove:e.onRemove,canShowSettingsButton:e.canShowSettingsButton,onClickPackSettings:e.onClickPackSettings,onClickMoreDetails:e.onClickMoreDetails,isNotLockedTemplate:e.isNotLockedTemplate})))):null}const jL=e=>{var t;const{gamepadAliasNamespace:n,path:r,narrationTitle:l}=e,{t:o}=ec("PackTabs"),i=Yr(),c=(0,a.useContext)(gI),s=qr(),u=[{label:o(".activeTabButtonLabel"),value:"active"},{label:o(".availableTabButtonLabel"),value:"available"}],d=Se(),m=EO(c,null!==(t=s.id)&&void 0!==t?t:"");return a.createElement(_y,{gamepadAliasNamespace:n,gamepadIndex:1,value:s.worldTemplateId,onChange:e=>{d(_y.getFocusAlias(n,e)),i.replace(`/${m}/${r}/${e}`)},tabs:u,enableGamepadShortcuts:s.tab===r,narrationTitle:l})};function HL({component:e,filter:t,gamepadIndex:n}){const l=qr().worldTemplateId===t,o=Br(),i=(0,r.useFacetMap)((e=>l&&e),[l],[o]);return a.createElement(Wr,{active:i},a.createElement(kO,{options:{index:n,disabled:!l}},a.createElement(Kr,{visible:l,contentComponent:e,unmountOnExit:!1})))}function VL(){return(0,a.useMemo)((()=>{const e=(0,r.createFacet)({initialValue:!1});return{closeExpanded:()=>e.set(!1),toggleExpanded:t=>e.setWithCallback((e=>e!=t&&t)),expandedId:e}}),[])}const GL=(e,t,n,a,l,o)=>{const i=(0,r.useFacetMap)((e=>e.length>1),[],[e]);return{isDraggable:(0,r.useFacetMap)(((e,t)=>e&&!t),[],[i,l]),changePackPriority:(0,r.useFacetCallback)((()=>(e,n,a)=>{o&&o(e,t,n,a)}),[t,o],[]),dragStartHandler:(0,r.useFacetCallback)((e=>t=>{!1===e?t():(a(),setTimeout((()=>{t()}),200))}),[a],[n])}},$L=n.p+"assets/marketplace-icon-7f96f.png";function KL({titleText:e,bodyText:t,onClick:n}){const{t:l}=tc("GetMoreButton"),o=Fr("neutral"),i=(0,r.useFacetWrap)(t),c=(0,r.useFacetMap)((t=>`${e} . ${l(".buttonNarration")} , ${t}`),[l,e],[i]);return a.createElement(ag,{delayedClick:!0,inputLegend:l(".inputLegend"),narrationText:c,onClick:n,variant:"neutral",reflection:"bevel"},a.createElement("div",{className:"OR02_"},a.createElement(Mp,{src:$L,className:"YPAP8",imageRendering:"pixelated"}),a.createElement(om,{size:3}),a.createElement("div",{className:Dr()("BrsPl",o.text.base)},a.createElement(fm,{type:"body"},e),a.createElement(fm,{variant:"dimmer",type:"captionShort"},t))))}function XL(e){const t=Yr(),n=KO.useShowModal(),a=ia();return(0,r.useFacetCallback)((r=>l=>{function o(){t.push(`/marketplace?packId=${l.substring(0,36)}`),r.fireEventButtonPressed(e,{})}a?n({onAccept:o}):o()}),[t,n,a,e],[(0,r.useSharedFacet)($s)])}const YL=n.p+"assets/marketplace-pass-promotion-static-b15b8.png",qL=n.p+"assets/minecraft-texture-pack-4c96b.png",QL="tab-bar-cnw-rp-available",JL="empty-local-active-rp",ZL="empty-available-rp",eD="empty-realms-plus-rp";function tD({worldPacks:e,resourcePacksData:t,isEditorWorld:n,isLockedTemplate:l,onClickPackMoreDetails:o,onClickPackSettings:i,onChangePackPriority:c}){const s=Br(),u=(0,r.useFacetMap)((e=>({index:0,disabled:!e})),[],[s]);return a.createElement(Mf,{options:u},(0,a.useMemo)((()=>a.createElement(a.Fragment,null,a.createElement(r.DeferredMount,null,a.createElement(Py,null,a.createElement(rD,{worldPacks:e,isEditorWorld:n,isLockedTemplate:l,onClickPackMoreDetails:o,onClickPackSettings:i,onChangePackPriority:c}))),a.createElement(om,{size:6}),a.createElement(r.DeferredMount,null,a.createElement(aD,{worldPacks:e,resourcePacksData:t,onClickPackMoreDetails:o})),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))),[e,n,l,o,i,c,t]))}const nD=e=>({id:OL,contentId:OL,name:e(".globalMinecraftPackTitle"),creator:"Minecraft",description:e(".globalMinecraftPackDescription"),size:"n/a",image:qL,isMarketplaceItem:!1,isPlatformLocked:!1,hasSettings:!1});function aD({worldPacks:e,resourcePacksData:t,onClickPackMoreDetails:n}){const{t:l}=tc("CreateNewWorld.resourcePacks"),o=(0,r.useFacetMap)((e=>e.globalTexturePacks),[],[e]),i=(0,r.useFacetMap)((e=>e.activeTexturePacks),[],[e]),c=(0,r.useFacetUnwrap)((0,r.useFacetMap)((e=>e.length),[],[i])),s=c==r.NO_VALUE||0===c?1:c,{toggleExpanded:u,expandedId:d}=VL(),m=(0,r.useFacetMap)((e=>e.sharedPacksEnabled),[],[t]),p=!0===(0,r.useFacetUnwrap)(m),f=(0,r.useFacetMap)((e=>0===e.length?1:e.length+1),[],[o]),g=(0,r.useFacetUnwrap)(f),E=(0,r.useFacetUnwrap)((0,r.useFacetMap)((e=>s+e-1),[s],[f])),h=g===r.NO_VALUE?0:g-1,v=E===r.NO_VALUE?0:E;return a.createElement(wf,{text:l(".narrationGlobalPacksHeader")},a.createElement(eF,{role:"neutral",label:l(".globalPacksListHeader")}),a.createElement(r.Map,{array:o},((e,t)=>p?a.createElement(_L,{containerListLength:f,deactivated:!0,pack:e,index:t,gamepadIndex:t+s}):a.createElement(_L,{pack:e,containerListLength:f,showTechnicalDetailsLink:!0,index:t,gamepadIndex:t+s,expandedPackId:d,onExpand:u,canShowSettingsButton:!1,onClickMoreDetails:n}))),a.createElement(_L,{showTechnicalDetailsLink:!0,containerListLength:f,pack:(0,r.useFacetWrap)(nD(l)),index:h,gamepadIndex:v,expandedPackId:d,onExpand:u,onClickMoreDetails:n}),a.createElement(sL,{text:l(".globalPacksInfoMessage")}))}function rD({worldPacks:e,isLockedTemplate:t,onClickPackMoreDetails:n,onClickPackSettings:l,onChangePackPriority:o,role:i="neutral"}){const{t:c}=tc("CreateNewWorld.resourcePacks"),s=Fr(i),u=(0,r.useFacetMap)((e=>e.activeTexturePacks),[],[e]),d=(0,r.useFacetMap)((e=>e.length<1),[],[u]),m=(0,r.useFacetMap)((e=>e.length>1),[],[u]),{expandedId:p,toggleExpanded:f,closeExpanded:g}=VL(),{isDraggable:E,changePackPriority:h,dragStartHandler:v}=GL(u,_u.Resource,p,g,t,o),{deactivatePack:b}=mD(),y=(0,r.useFacetMap)((e=>!e),[],[t]);return a.createElement(wf,{text:c(".narrationActiveLocalPacksHeader")},a.createElement(eF,{role:"neutral",label:c(".localPacksListHeader")}),a.createElement(r.Mount,{when:d},a.createElement(cb,{gamepadAlias:JL,title:c(".emptyLocalActivePacksMessageTitle"),text:c(".emptyLocalActivePacksMessageDescription"),gamepadIndex:0})),a.createElement("div",{className:"ufNa6"},a.createElement("div",{className:Dr()("mojsE",s.background.base)}),a.createElement(r.Mount,{when:d,condition:!1},a.createElement(TL.Provider,{value:"active"},a.createElement(zL,{showTechnicalDetailsLink:!0,packsFacet:u,draggable:E,expandedId:p,onDragStart:v,onDrop:h,onExpand:f,onRemove:b,onClickMoreDetails:n,onClickPackSettings:l,canShowSettingsButton:!0,isNotLockedTemplate:y})))),a.createElement(r.Mount,{when:t,condition:!1},a.createElement(r.Mount,{when:m},a.createElement(sL,{text:c(".packPriorityInfoMessage")}))),a.createElement(r.Mount,{when:t},a.createElement(sL,{text:c(".changesDisabledMessage")})))}const lD=({worldPacks:e,isLockedTemplate:t,onClickPackMoreDetails:n})=>{const{t:l}=tc("CreateNewWorld.resourcePacks"),{toggleExpanded:o,expandedId:i}=VL(),c=(0,r.useSharedFacet)(vu),s=(0,r.useFacetMap)((e=>e.activeTexturePacks),[],[e]),u=(0,r.useFacetMap)((e=>e.availableTexturePacks),[],[e]),d=(0,r.useFacetMap)((e=>e.length<1),[],[u]),m=(0,r.useFacetMap)((e=>e.length),[],[u]),p=(0,r.useFacetMap)((e=>e.length>0),[],[s]),f=(0,r.useFacetMap)((e=>l(e?".activatedAllPacksMessageTitle":".userOwnsNoPacksMessageTitle")),[l],[p]),g=(0,r.useFacetMap)((e=>l(e?".activatedAllPacksMessageDescription":".userOwnsNoMessageDescription")),[l],[p]),E=(0,r.useFacetMap)(((e,t)=>!e&&!t),[],[t,c]),{activatePack:h}=mD();return a.createElement(a.Fragment,null,(0,a.useMemo)((()=>a.createElement(a.Fragment,null,a.createElement(ey,{label:l(".inactivePacksAccordionHeader"),count:m,narrationHint:l(".inactivePacksAccordionHint"),onExpandNarrationHint:l(".inactivePacksOnExpandAccordionHint"),expandedDefaultState:!1},a.createElement(r.Mount,{when:d},a.createElement(cb,{gamepadAlias:ZL,title:f,text:g,gamepadIndex:0})),a.createElement(TL.Provider,{value:"available"},a.createElement(r.Map,{array:u},((e,t)=>a.createElement(_L,{containerListLength:m,activatable:E,onActivate:h,pack:e,index:t,gamepadIndex:t,expandedPackId:i,onExpand:o,onClickMoreDetails:n})))),a.createElement(om,{size:3})),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))),[l,m,d,f,g,u,E,h,i,o,n]))},oD=({})=>{const{t:e}=tc("CreateNewWorld.resourcePacks"),t=m(),n=ia(),l=KO.useShowModal(),o=(0,r.useSharedFacet)(ac),i=(0,r.useSharedFacet)($s),c=e(".getMoreButton.title"),s=e(".getMoreButton.body"),u=(0,r.useFacetCallback)(((e,a)=>()=>{function r(){a.fireEventButtonPressed("Get_More_Packs_Button_OreUI",{});const n=e.getMorePacks?`?title=${e.getMorePacks.title}&pageId=${e.getMorePacks.pageId}`:"";t.push(`/marketplace${n}`)}n?l({onAccept:r}):r()}),[t,n,l],[o,i]);return a.createElement(KL,{titleText:c,bodyText:s,onClick:u})},iD=({worldPacks:e,isEditorWorld:t,isLockedTemplate:n,onClickPackMoreDetails:l})=>{const o=(0,r.useFacetMap)((e=>!e),[],[t]),{toggleExpanded:i,expandedId:c}=VL();return(0,a.useMemo)((()=>a.createElement(a.Fragment,null,a.createElement(lD,{worldPacks:e,isEditorWorld:t,isLockedTemplate:n,onClickPackMoreDetails:l}),a.createElement(sD,{worldPacks:e,isEditorWorld:t,isLockedTemplate:n,expandedId:c,toggleExpanded:i,onClickPackMoreDetails:l}),a.createElement(om,{size:1}),a.createElement(r.Mount,{when:o},a.createElement(oD,null)))),[e,t,n,l,c,i,o])};iD.DefaultContent=lD,iD.MarketplaceGetMore=oD;const cD=iD;function sD({worldPacks:e,isEditorWorld:t,isLockedTemplate:n,expandedId:l,toggleExpanded:o,onClickPackMoreDetails:i}){const{t:c}=tc("CreateNewWorld.resourcePacks"),s=(0,r.useSharedFacet)(hu),u=(0,r.useFacetMap)(((e,t)=>e.realmsPlusSupported&&!t),[],[e,t]),d=(0,r.useFacetMap)((e=>e.isRealmsPlusSubscriptionActive||e.isMarketplacePassSubscriptionActive),[],[s]),m=(0,r.useFacetMap)((e=>!e.isMarketplacePassSubscriptionActive&&!e.isRealmsPlusSubscriptionActive),[],[s]),p=(0,r.useFacetMap)((e=>e.realmsTexturePacks),[],[e]),f=(0,r.useFacetMap)((e=>e.length<=0),[],[p]),g=(0,r.useFacetMap)(((e,t)=>t?e.length:"100+"),[],[p,d]),E=(0,r.useFacetMap)((e=>!e),[],[n]),{activatePack:h}=mD();return a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(r.Mount,{when:u},a.createElement(ey,{label:c(".marketplacePassPacksAccordionHeader"),count:g,narrationHint:c(".marketplacePassPacksAccordionHint"),onExpandNarrationHint:c(".marketplacePassPacksOnExpandAccordionHint"),expandedDefaultState:!1},a.createElement(r.Mount,{when:d},a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:f},a.createElement(cb,{gamepadAlias:eD,gamepadIndex:0,title:c(".marketplacePassPacksEmptyTitle"),text:c(".marketplacePassPacksEmptyBody")})),a.createElement(TL.Provider,{value:"realms"},a.createElement(r.Map,{array:p},((e,t)=>a.createElement(_L,{activatable:E,onActivate:h,pack:e,index:t,gamepadIndex:t,expandedPackId:l,onExpand:o,onClickMoreDetails:i})))))),a.createElement(r.Mount,{when:m},a.createElement(uD,null)),a.createElement(om,{size:3}))))}function uD(){const{t:e}=tc("CreateNewWorld.resourcePacks"),t=Yr(),n=Wb({wide:8,narrow:6,width:256}),l=(0,r.useFacetMap)((e=>e?"KRoHq":"GlzlM"),[],[n]);return a.createElement(cb,{title:e(".marketplacePassPromotionTitle"),text:e(".marketplacePassPromotionBody"),imgSrc:YL,imgClass:l,buttons:[{text:e(".marketplacePassPromotionButtonLabel"),inputLegend:e(".marketplacePassPromotionButtonInputLegend"),onClick:()=>t.push("/csb-pdp?tab=default")}],gamepadIndex:0})}const dD=(0,a.createContext)({}),mD=()=>(0,a.useContext)(dD);function pD({worldPacks:e,worldData:t,isEditorWorld:n,onActivatePack:l,onDeactivatePack:o,onChangePackPriority:i,onClickPackSettings:c,onUnlockTemplateSettings:s}){const{t:u}=tc("CreateNewWorld.resourcePacks"),{t:d}=tc("CreateNewWorldSideMenu"),m=Tv(Ii.NewTrialModeFlow),p=(0,r.useSharedFacet)(vu),f=(0,r.useFacetMap)((e=>e.resourcePacks),[],[t]),g=(0,r.useFacetMap)((e=>e.multiplayer),[],[t]),E=(0,r.useFacetMap)((e=>e.isLockedTemplate),[],[t]),h=(0,r.useFacetMap)((e=>e.activeBehaviorPacks.length>2),[],[e]),{activatePack:v,deactivatePack:b}=wL(_u.Resource,{active:{tabsAlias:"tab-bar-cnw-rp-active",emptyStateMessageAlias:JL},available:{tabsAlias:QL,emptyStateMessageAlias:ZL},realms:{tabsAlias:QL,emptyStateMessageAlias:eD}},e,g,l,o),y=(0,r.useFacetMap)(((e,t)=>e||t.isTrialAccount),[],[E,(0,r.useSharedFacet)(hu)]),F=(0,a.useMemo)((()=>({activatePack:v,deactivatePack:b})),[v,b]),S=XL("Resource_Pack_More_Details_Button_OreUI"),C=(0,r.useFacetMap)((e=>e.sharedPacksEnabled),[],[f]),M=(0,r.useFacetMap)((e=>e&&m),[m],[p]),w=(0,a.useRef)(!0),k=(0,r.useFacetCallback)((e=>t=>{e.sharedPacksEnabled=t}),[],[f]),T=(0,a.useCallback)((()=>a.createElement(tD,{worldPacks:e,resourcePacksData:f,isEditorWorld:n,isLockedTemplate:E,onClickPackSettings:c,onClickPackMoreDetails:S,onChangePackPriority:i})),[e,f,n,E,c,S,i]),I=(0,a.useCallback)((()=>a.createElement(cD,{worldPacks:e,isEditorWorld:n,isLockedTemplate:E,onClickPackMoreDetails:S})),[e,n,E,S]);return(0,r.useFacetEffect)(((e,t)=>{e&&!w.current&&t.queueSnackbar(u(".globalPacksDeactivatedSnackbarMessage")),w.current=!1}),[u],[C,(0,r.useSharedFacet)(uc)]),a.createElement(wl,{data:M},(e=>a.createElement(a.Fragment,null,e?a.createElement(vI,{context:EI.RESOURCE_PACKS_TAB}):a.createElement(dD.Provider,{value:F},a.createElement(r.DeferredMountProvider,null,a.createElement(qA,{isEditorWorld:n,nestedRoutes:!0,narrationText:d(".resourcePacksTabLabel"),onUnlockTemplateSettings:s,addonStackingWarningEnabled:h},a.createElement(r.DeferredMount,null,a.createElement(qb,{disabled:y,gamepad:{index:0},title:u(".sharedPacksTitle"),description:u(".sharedPacksDescription"),onNarrationText:u(".sharedPacksDeactivatingGlobalPacks"),offNarrationText:u(".sharedPacksActivatingGlobalPacks"),onChange:k,value:C})),a.createElement("div",{className:"g9sbm"},a.createElement(jL,{gamepadAliasNamespace:"cnw-rp",path:"resource-packs",narrationTitle:d(".resourcePacksTabLabel")}),a.createElement(om,{size:2}),a.createElement(HL,{component:T,gamepadIndex:3,filter:"active"}),a.createElement(HL,{component:I,gamepadIndex:3,filter:"available"}),a.createElement(om,{size:2}))))))))}pD.AvailableTab=cD;const fD=n.p+"assets/empty-state-art-cd6d3.png",gD="empty-active-bp",ED="empty-available-bp";function hD({worldPacks:e,isLockedTemplate:t,onChangePackPriority:n,onClickPackSettings:l,onClickPackMoreDetails:o}){const i=Br(),c=(0,r.useFacetMap)((e=>({index:0,disabled:!e})),[],[i]);return a.createElement(a.Fragment,null,a.createElement(Mf,{options:c},(0,a.useMemo)((()=>a.createElement(Py,null,a.createElement(vD,{isLockedTemplate:t,worldPacks:e,onChangePackPriority:n,onClickPackSettings:l,onClickPackMoreDetails:o}))),[t,n,e,l,o])),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))}function vD({role:e="neutral",worldPacks:t,isLockedTemplate:n,onChangePackPriority:l,onClickPackMoreDetails:o,onClickPackSettings:i}){const{t:c}=tc("CreateNewWorld.behaviorPacks"),{toggleExpanded:s,expandedId:u,closeExpanded:d}=VL(),m=Fr(e),{deactivatePack:p}=FD(),f=(0,r.useFacetMap)((e=>e.activeBehaviorPacks),[],[t]),g=(0,r.useFacetMap)((e=>e.length<1),[],[f]),E=(0,r.useFacetMap)((e=>e.length>1),[],[f]),h=(0,r.useFacetMap)((e=>!e),[],[n]),{isDraggable:v,changePackPriority:b,dragStartHandler:y}=GL(f,_u.Behavior,u,d,n,l);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:g},a.createElement(cb,{gamepadAlias:gD,title:c(".emptyLocalActivePacksMessageTitle"),text:c(".emptyLocalActivePacksMessageDescription"),gamepadIndex:0})),a.createElement("div",{className:"PWSBv"},a.createElement("div",{className:Dr()("pTqB3",m.background.base)}),a.createElement(r.Mount,{when:g,condition:!1},a.createElement(TL.Provider,{value:"active"},a.createElement(zL,{showTechnicalDetailsLink:!0,packsFacet:f,draggable:v,expandedId:u,onDragStart:y,onDrop:b,onExpand:s,onRemove:p,onClickMoreDetails:o,onClickPackSettings:i,canShowSettingsButton:!0,isNotLockedTemplate:h})))),a.createElement(r.Mount,{when:n,condition:!1},a.createElement(r.Mount,{when:E},a.createElement(sL,{text:c(".packPriorityInfoMessage")}))),a.createElement(r.Mount,{when:n},a.createElement(sL,{text:c(".changesDisabledMessage")})))}function bD({worldPacks:e,isLockedTemplate:t,onClickPackMoreDetails:n}){const{t:l}=tc("CreateNewWorld.behaviorPacks"),{toggleExpanded:o,expandedId:i}=VL(),{activatePack:c}=FD(),s=Br(),u=(0,r.useFacetMap)((e=>({index:0,disabled:!e})),[],[s]),d=(0,r.useFacetMap)((e=>e.availableBehaviorPacks),[],[e]),m=(0,r.useFacetMap)((e=>e.length<1),[],[d]),p=(0,r.useFacetMap)((e=>!e),[],[t]);return a.createElement(a.Fragment,null,a.createElement(Mf,{options:u},(0,a.useMemo)((()=>a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:m},a.createElement(cb,{gamepadAlias:ED,title:l(".activatedAllPacksMessageTitle"),text:l(".activatedAllPacksMessageDescription"),gamepadIndex:0})),a.createElement(TL.Provider,{value:"available"},a.createElement(r.Map,{array:d},((e,t)=>a.createElement(_L,{activatable:p,onActivate:c,pack:e,index:t,gamepadIndex:t,expandedPackId:i,onExpand:o,onClickMoreDetails:n})))))),[l,d,m,p,c,i,o,n])),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))}const yD=(0,a.createContext)({}),FD=()=>(0,a.useContext)(yD),SD=({worldPacks:e,worldData:t,isEditorWorld:n,onActivatePack:l,onDeactivatePack:o,onChangePackPriority:i,onClickPackSettings:c,onUnlockTemplateSettings:s})=>{const u=(0,r.useFacetMap)((e=>e.activeBehaviorPacks.length>0||e.availableBehaviorPacks.length>0),[],[e]);return a.createElement(wD,{worldPacks:e,worldData:t,isEditorWorld:n,onActivatePack:l,onDeactivatePack:o,onUnlockTemplateSettings:s},a.createElement(r.DeferredMount,null,a.createElement(r.Mount,{when:u,condition:!0},a.createElement(CD,{worldPacks:e,worldData:t,onChangePackPriority:i,onClickPackSettings:c}))),a.createElement(r.DeferredMount,null,a.createElement(r.Mount,{when:u,condition:!1},a.createElement(MD,null))))},CD=({worldPacks:e,worldData:t,onChangePackPriority:n,onClickPackSettings:l})=>{const{t:o}=tc("CreateNewWorldSideMenu"),i=(0,r.useFacetMap)((e=>e.isLockedTemplate),[],[t]),c=XL("Resource_Pack_More_Details_Button_OreUI");return a.createElement("div",{className:"TPaUw"},a.createElement(jL,{gamepadAliasNamespace:"cnw-bp",path:"behavior-packs",narrationTitle:o(".behaviorPacksTabLabel")}),a.createElement(om,{size:2}),a.createElement(HL,{component:()=>a.createElement(hD,{worldPacks:e,isLockedTemplate:i,onChangePackPriority:n,onClickPackSettings:l,onClickPackMoreDetails:c}),gamepadIndex:3,filter:"active"}),a.createElement(HL,{component:()=>a.createElement(bD,{worldPacks:e,isLockedTemplate:i,onChangePackPriority:n,onClickPackMoreDetails:c}),gamepadIndex:3,filter:"available"}),a.createElement(om,{size:2}))},MD=({})=>{const{t:e}=tc("CreateNewWorld.behaviorPacks"),t=Db({wide:8,narrow:5,width:260})?"XnOc_":"Md7uv";return a.createElement(cb,{gamepadAlias:gD,title:e(".noPacksAvailableTitle"),text:e(".noPacksAvailableBody"),gamepadIndex:0,imgSrc:fD,borderless:!0,imgClass:t})},wD=({worldPacks:e,worldData:t,isEditorWorld:n,onActivatePack:l,onDeactivatePack:o,onUnlockTemplateSettings:i,children:c})=>{const{t:s}=tc("CreateNewWorldSideMenu"),u=Tv(Ii.NewTrialModeFlow),d=(0,r.useSharedFacet)(vu),m=(0,r.useFacetMap)((e=>e.multiplayer),[],[t]),p=(0,r.useFacetMap)((e=>e&&u),[u],[d]),f=(0,r.useFacetMap)((e=>e.activeBehaviorPacks.length>2),[],[e]),g=wL(_u.Behavior,{active:{tabsAlias:"tab-bar-cnw-bp-active",emptyStateMessageAlias:gD},available:{tabsAlias:"tab-bar-cnw-bp-available",emptyStateMessageAlias:ED}},e,m,l,o);return a.createElement(wl,{data:p},(e=>a.createElement(a.Fragment,null,e?a.createElement(vI,{context:EI.BEHAVIOR_PACKS_TAB}):a.createElement(yD.Provider,{value:g},a.createElement(r.DeferredMountProvider,null,a.createElement(qA,{nestedRoutes:!0,narrationText:s(".behaviorPacksTabLabel"),onUnlockTemplateSettings:i,isEditorWorld:n,addonStackingWarningEnabled:f},c))))))};SD.Wrapper=wD,SD.BehaviorPacksFields=CD,SD.EmptyPacksFields=MD;const kD=SD;function TD({onUnlockTemplateSettings:e,onExportTemplate:t,onClearPlayerData:n,isEditorWorld:l}){const o=(0,r.useSharedFacet)(Mi),i=(0,r.useFacetMap)((({allBiomes:e})=>e),[],[o]),c=(0,r.useFacetMap)((({spawnDimensionId:e})=>e),[],[o]),s=(0,r.useFacetMap)((e=>DL(e,(e=>({label:e.label,dimension:e.dimension,value:e.id})))),[],[i]),u=(0,r.useFacetMap)(((e,t)=>mw(e,(e=>e.dimension===t))),[],[s,c]),d=(0,r.useFacetMap)((e=>e.spawnBiomeId),[],[o]),m=(0,r.useFacetMap)((e=>e.defaultSpawnBiome||e.isBiomeOverrideActive),[],[o]),p=(0,r.useSharedFacet)(il),f=(0,r.useFacetMap)((e=>Jw(e.platform)),[],[p]),g=(0,a.useContext)(gI)!==fI.CREATE,E=(0,r.useFacetMap)((e=>e&&g),[g],[f]);return a.createElement(r.DeferredMountProvider,null,a.createElement(qA,{narrationText:"Debug",onUnlockTemplateSettings:e,isEditorWorld:l},a.createElement(r.DeferredMount,null,a.createElement(qb,{title:"Flat nether",gamepad:{index:0},value:(0,r.useFacetMap)((e=>e.flatNether),[],[o]),onChange:(0,r.useFacetCallback)((e=>t=>{e.flatNether=t}),[],[o])})),a.createElement(r.DeferredMount,null,a.createElement(qb,{title:"Enable game version override",gamepad:{index:1},value:(0,r.useFacetMap)((e=>e.enableGameVersionOverride),[],[o]),onChange:(0,r.useFacetCallback)((e=>t=>{e.enableGameVersionOverride=t}),[],[o])})),a.createElement(r.DeferredMount,null,a.createElement(gy,{label:"Game version override",gamepadIndex:2,placeholder:"0.0.0",maxLength:30,disabled:(0,r.useFacetMap)((e=>!e.enableGameVersionOverride),[],[o]),value:(0,r.useFacetMap)((e=>e.gameVersionOverride),[],[o]),onChange:(0,r.useFacetCallback)((e=>t=>{e.gameVersionOverride=t}),[],[o])})),a.createElement(r.DeferredMount,null,a.createElement(wO,{title:"World biome settings"})),a.createElement(qb,{title:"Default spawn biome",description:"Using the default spawn biome will mean a random overworld spawn is selected",gamepad:{index:3},disabled:(0,r.useFacetMap)((e=>e.isBiomeOverrideActive),[],[o]),value:(0,r.useFacetMap)((e=>e.defaultSpawnBiome),[],[o]),onChange:(0,r.useFacetCallback)((e=>t=>{e.defaultSpawnBiome=t}),[],[o])}),a.createElement(r.DeferredMount,null,a.createElement(Mx,{onMountComplete:(0,r.useNotifyMountComplete)(),title:"Spawn dimension filter",disabled:m,wrapToggleText:!0,options:[{label:"Overworld",value:0},{label:"Nether",value:1},{label:"The End",value:2}],value:c,onChange:(0,r.useFacetCallback)((e=>t=>{e.spawnDimensionId=t}),[],[o])})),a.createElement(r.DeferredMount,null,a.createElement(Fx,{title:"Spawn biome",options:u,onItemSelect:(0,r.useFacetCallback)((e=>t=>e.spawnBiomeId=t),[],[o]),disabled:m,value:(0,r.useFacetMap)(((e,t)=>t.filter((t=>t.value===e)).length>0?e:t[0].value),[],[d,u]),focusOnSelectedItem:!0})),a.createElement(qb,{title:"Biome override",description:"Set the world to a selected biome. This will override the Spawn biome!",gamepad:{index:6},value:(0,r.useFacetMap)((e=>e.isBiomeOverrideActive),[],[o]),onChange:(0,r.useFacetCallback)((e=>t=>{e.isBiomeOverrideActive=t}),[],[o])}),a.createElement(Fx,{title:"Biome override",description:"Select biome to be used in the entire world",options:s,disabled:(0,r.useFacetMap)((e=>!e.isBiomeOverrideActive),[],[o]),onItemSelect:(0,r.useFacetCallback)((e=>t=>{e.biomeOverrideId=t}),[],[o]),value:(0,r.useFacetMap)((e=>e.biomeOverrideId),[],[o]),focusOnSelectedItem:!0}),a.createElement(r.Mount,{when:E},a.createElement(ID,{onExportTemplate:t,onClearPlayerData:n}))))}const ID=({onExportTemplate:e,onClearPlayerData:t})=>{const{t:n}=tc("EditWorld.exportWorldFlow");return a.createElement(Kf,null,a.createElement(fm,{type:"sectionHeader"},"File management"),a.createElement(om,{size:4}),a.createElement(mg,{variant:"secondary",onClick:t,inputLegend:"Clear player data"},n(".clearPlayerDataTitle")),a.createElement(om,{size:4}),a.createElement(mg,{variant:"secondary",onClick:e,inputLegend:"Export"},n(".exportLabel")))};function PD(e){return(0,r.useFacetMap)((e=>e.isHardcore),[],[e])}function xD({worldPacks:e,onActivatePack:t,onDeactivatePack:n,onChangePackPriority:l,onClickPackSettings:o,onUnlockTemplateSettings:i,worldSummary:c,isEditorWorld:s,onMakeWorldInfinite:u,onDuplicateWorld:d,onDeleteWorld:m,onExportWorld:p,onExportTemplate:f,onOptOut:g,onClearPlayerData:E,onSeedValueChange:h=(()=>{}),onWorldPreviewPathChange:v=(()=>{}),isSeedChangeLocked:b}){const y=NA();return(0,r.useFacetMap)((e=>e.general),[],[y]),(0,r.useFacetMap)((e=>e.advanced),[],[y]),(0,r.useFacetMap)((e=>e.cheats),[],[y]),a.createElement(a.Fragment,null,a.createElement(oy,{component:(0,a.useCallback)((()=>a.createElement(FN,{worldSummary:c,isEditorWorld:s,onUnlockTemplateSettings:i,onMakeWorldInfinite:u,onDuplicateWorld:d,onDeleteWorld:m,onExportWorld:p,onOptOut:g,worldData:y})),[c,s,i,u,d,m,p,g,y]),tab:"general"}),a.createElement(oy,{component:(0,a.useCallback)((()=>a.createElement(zN,{worldData:y,isEditorWorld:s,onUnlockTemplateSettings:i})),[y,s,i]),tab:"experimental"}),a.createElement(oy,{component:(0,a.useCallback)((()=>a.createElement(ON,{worldData:y,isEditorWorld:s,onUnlockTemplateSettings:i})),[y,s,i]),tab:"cheats"}),a.createElement(oy,{tab:"advanced",component:(0,a.useCallback)((()=>a.createElement(X_,{worldData:y,isEditorWorld:s,isSeedChangeLocked:b,onUnlockTemplateSettings:i,onSeedValueChange:h,onWorldPreviewPathChange:v})),[y,s,b,i,h,v])}),a.createElement(oy,{tab:"multiplayer",component:(0,a.useCallback)((()=>a.createElement(cL,{worldData:y,worldPacks:e,isEditorWorld:s,onDeactivatePack:n,onUnlockTemplateSettings:i})),[y,e,s,n,i])}),a.createElement(oy,{component:(0,a.useCallback)((()=>a.createElement(pD,{worldPacks:e,isEditorWorld:s,worldData:y,onActivatePack:t,onDeactivatePack:n,onChangePackPriority:l,onClickPackSettings:o,onUnlockTemplateSettings:i})),[e,s,y,t,n,l,o,i]),tab:"resource-packs"}),a.createElement(oy,{component:(0,a.useCallback)((()=>a.createElement(kD,{worldPacks:e,worldData:y,isEditorWorld:s,onActivatePack:t,onDeactivatePack:n,onChangePackPriority:l,onClickPackSettings:o,onUnlockTemplateSettings:i})),[e,y,s,t,n,l,o,i]),tab:"behavior-packs"}),a.createElement(oy,{component:(0,a.useCallback)((()=>a.createElement(TD,{worldData:y,onUnlockTemplateSettings:i,onExportTemplate:f,isEditorWorld:s,onClearPlayerData:E})),[y,i,f,s,E]),tab:"debug"}),null)}const OD=({worldData:e,worldPacks:t,worldPreviewImage:n,isEditorWorld:l,isPageLoading:o,renderPage:i,backButtonCallback:c,backButtonDisabled:s,onEditThumbnail:u,children:d,sideMenuButtons:m})=>{const{t:p}=ec("CreateNewWorld"),f=(0,a.useContext)(gI),g=(0,r.useFacetMap)((e=>f!==fI.CREATE?p(".editTitle"):p((e?".editor":"")+".title")),[p,f],[l]),E=Tv(Ii.FriendsDrawerOnMultipleScreens),h=(0,r.useFacetMap)((e=>e.general),[],[e]),v=(0,r.useFacetMap)((e=>e.betaFeatures),[],[e]),b=PD(h),y=(0,r.useFacetMap)((e=>e.playerHasDied),[],[h]),F=(0,r.useFacetWrap)(null!=o&&o);return a.createElement(r.Mount,{when:i},a.createElement(Cy,null,a.createElement(AP,{screenAnalyticsId:f!==fI.CREATE?"Edit":"CreateNewWorld",onBack:c,disableBackButton:s,title:g,gamepadAlias:"cnw-layout-content",delegateByAlias:"cnw-side-menu",debugDrawer:f!==fI.CREATE?[]:["create-test-world"],friendsDrawer:E},(()=>a.createElement(a.Fragment,null,a.createElement(Yv,{noGutters:!0},a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:4,narrowSize:3},a.createElement(bO,{showSpinner:F,worldPreviewImage:n,worldPacks:t,isHardcoreMode:b,playerHasDied:y,sideMenuButtons:m,onEditThumbnail:u})),a.createElement(Yv.Column,{wideSize:8,narrowSize:5},d))),a.createElement(HN,{experimentsData:v}))))))},AD=({worldData:e,worldPacks:t,worldPreviewImage:n,onActivatePack:r,onDeactivatePack:l,onChangePackPriority:o,onClickPackSettings:i,onUnlockTemplateSettings:c,worldSummary:s,isEditorWorld:u,onMakeWorldInfinite:d,onDuplicateWorld:m,onDeleteWorld:p,onEditThumbnail:f,onExportWorld:g,onExportTemplate:E,onOptOut:h,onClearPlayerData:v,onSeedValueChange:b=(()=>{}),onWorldPreviewPathChange:y=(()=>{}),isSeedChangeLocked:F,isPageLoading:S,renderPage:C,backButtonCallback:M,backButtonDisabled:w,sideMenuButtons:k})=>a.createElement(OD,{worldData:e,worldPacks:t,worldPreviewImage:n,isEditorWorld:u,isPageLoading:S,renderPage:C,backButtonCallback:M,backButtonDisabled:w,sideMenuButtons:k,onEditThumbnail:f},a.createElement(xD,{worldPacks:t,onActivatePack:r,onDeactivatePack:l,onChangePackPriority:o,onClickPackSettings:i,onUnlockTemplateSettings:c,worldSummary:s,isEditorWorld:u,onMakeWorldInfinite:d,onDuplicateWorld:m,onDeleteWorld:p,onExportWorld:g,onExportTemplate:E,onOptOut:h,onClearPlayerData:v,onSeedValueChange:b,isSeedChangeLocked:F,onWorldPreviewPathChange:y}));AD.Wrapper=OD,AD.DefaultTabs=xD;const ND=AD,RD=n.p+"assets/world-preview-default-d0210.jpg";n(34753);const _D=ur({id:"vanilla",sound:{neutral:{reject:"note.bass",press:"random.click",contract:"random.click",expand:"random.click",toggle:"random.click",lift:"random.click",click:"random.click"},primary:{press:"tokens.vanilla.release"}},color:{neutral:{background:{default:bo,hovered:vo,pressed:yo,disabled:Eo,selected:yo},text:{dimmer:{default:go,disabled:go},dimmest:{default:Eo},regular:{default:po,disabled:vo}},shadow:{default:yo,disabled:ho},dropShadow:{default:"rgba(0, 0, 0, 0.25)"},icon:{regular:{default:po,disabled:vo},dimmer:{default:go},dimmest:{default:Eo}},border:{regular:{default:So,disabled:vo}},caret:{regular:{default:so}},specular:{default:{top:xo,bottom:Po}},bevel:{default:{top:Po,bottom:ko}},outline:{default:po},highlight:{default:"transparent",hovered:wo},overlay:{default:"rgba(0, 0, 0, 0.7)"}},neutral20:{background:{default:"#e6e8eb",hovered:"#f4f6f9",pressed:go},shadow:{default:Eo},text:{regular:{default:So},dimmest:{default:go}},icon:{regular:{default:po}},outline:{default:fo},specular:{default:{top:po,bottom:xo}},bevel:{default:{top:Po,bottom:ko}}},neutral50:{background:{default:ho,hovered:Eo,pressed:vo},border:{regular:{default:So,disabled:ho}},overlay:{default:"rgba(0, 0, 0, 0.5)"},icon:{regular:{default:ho}}},neutral60:{background:{default:vo,hovered:bo,pressed:yo,disabled:bo},border:{regular:{default:So,disabled:ho},dimmest:{default:ho}},text:{regular:{default:po,disabled:Eo}},icon:{regular:{default:po,disabled:Eo}}},neutral80:{background:{default:yo,hovered:bo,selected:bo,pressed:Fo},shadow:{default:Fo},text:{regular:{default:po},dimmer:{default:go},dimmest:{default:Eo}},caret:{regular:{default:so}},bevel:{default:{top:Po,bottom:To},hovered:{top:Po,bottom:To},pressed:{top:Io,bottom:Po},selected:{top:To,bottom:Po}},overlay:{default:To}},neutral100:{background:{default:So},text:{regular:{default:po},dimmer:{default:go},dimmest:{default:Eo}}},primary:{background:{default:uo,hovered:"#2a641c",pressed:mo},shadow:{default:mo},text:{regular:{default:po}},icon:{regular:{default:po,disabled:vo}},border:{regular:{default:So}},specular:{default:{top:xo,bottom:Po},hovered:{top:Oo,bottom:"rgba(255, 255, 255, 0.3)"}}},primaryTint:{background:{default:so},text:{regular:{default:So}},border:{regular:{default:So}}},secondary:{background:{default:go,hovered:Eo,pressed:Eo},text:{regular:{default:So}},icon:{regular:{default:So,disabled:vo}},shadow:{default:vo},border:{regular:{default:So}},specular:{default:{top:Ao,bottom:Oo},hovered:{top:"rgba(255, 255, 255, 0.8)",bottom:Ao}}},success:{background:{default:uo},text:{regular:{default:po}}},successTint:{background:{default:co},text:{regular:{default:So}},border:{regular:{default:So}}},informative:{background:{default:"#2e6be5"},text:{regular:{default:po}},border:{regular:{default:So}}},informativeTint:{background:{default:"#8cb3ff"},text:{regular:{default:So}},border:{regular:{default:So}}},destructive:{background:{default:"#ca3636",hovered:"#c02d2d",pressed:Co},text:{regular:{default:po}},icon:{regular:{default:po}},shadow:{default:Co},specular:{default:{top:xo,bottom:Po},hovered:{top:"rgba(255, 255, 255, 0.5)",bottom:Oo}}},destructiveTint:{background:{default:"#ff8080"},text:{regular:{default:So}},border:{regular:{default:So}}},notice:{background:{default:"#d3791f"}},noticeTint:{background:{default:Mo},text:{regular:{default:So}},border:{regular:{default:So}},outline:{default:So},icon:{regular:{default:So}}},dataViz01:{background:{default:"#42CCCC"}},dataViz02:{background:{default:"#9471E0"}},dataViz03:{background:{default:"#ffb366"}},dataViz04:{background:{default:"#89DEF9"}},dataViz05:{background:{default:co}},dataViz06:{background:{default:"#F064B8"}},dataViz07:{background:{default:Mo}},dataVizLine:{background:{default:go}},paper:{background:{default:po},text:{regular:{default:fo,disabled:bo},dimmer:{default:vo}},icon:{regular:{default:fo,disabled:bo}},border:{regular:{default:So,disabled:ho}},caret:{regular:{default:fo}},specular:{default:{top:xo,bottom:Po}},bevel:{default:{top:Po,bottom:ko}},outline:{default:So},highlight:{default:"transparent",hovered:wo}},neutralAlpha60:{background:{default:"rgba(0, 0, 0, 0.6)",hovered:bo,selected:bo,pressed:Fo},bevel:{default:{top:To,bottom:Po},hovered:{top:To,bottom:Po},selected:{top:To,bottom:Po},pressed:{top:Io,bottom:Po}},border:{}}}}),LD=ur({id:"realms",sound:{secondary:{press:"tokens.vanilla.release"}},color:{primary:{background:{default:"#7345E5",hovered:"#5D2CC6",pressed:_o,disabled:Eo},border:{regular:{default:So,disabled:vo}},overlay:{default:"rgba(5, 0, 41, 0.5)"},shadow:{default:_o,disabled:ho},text:{regular:{default:po,disabled:vo}},icon:{regular:{default:po,disabled:vo}},specular:{default:{top:"rgba(208, 131, 255, 0.5)",bottom:"rgba(182, 81, 245, 0.4)"},hovered:{top:"rgba(208, 131, 255, 0.7)",bottom:"rgba(182, 81, 245, 0.6)"}},caret:{regular:{default:fo}},bevel:{default:{top:Po,bottom:ko},selected:{top:"rgba(5, 0, 41, 0.4)",bottom:"rgba(208, 131, 255, 0.5)"},hovered:{top:"rgba(5, 0, 41, 0.4)",bottom:"rgba(208, 131, 255, 0.5)"},pressed:{top:"rgba(5, 0, 41, 0.4)",bottom:"rgba(208, 131, 255, 0.5)"}},outline:{default:po}},primaryTint:{background:{default:Ro},text:{regular:{default:So}},border:{regular:{default:So}}},informative:{background:{default:"#050029"},text:{regular:{default:po}},border:{regular:{default:So,disabled:ho}}},PDPCore:{specular:{default:{top:"rgba(172, 144, 243, 0.5)",bottom:"rgba(172, 144, 243, 0.5)"}},text:{regular:{default:po,disabled:"#777682"},dimmer:{default:No},dimmest:{default:"#5D5974"},stronger:{default:Ro}}},PDPPlus:{specular:{default:{top:"rgba(244, 96, 210, 0.5)",bottom:"rgba(244, 96, 210, 0.5)"}},text:{regular:{default:po,disabled:"#777682"},dimmer:{default:No},dimmest:{default:"#5D5974"},stronger:{default:"#E833C2"}}}}}),DD=(ur({id:"gameplayInputLegendCollection",color:{neutral100:{background:{default:"none"},specular:{default:{top:"none",bottom:"none"}},text:{regular:{default:po}}}}}),{[$i.PEACEFUL]:".difficultyPeacefulLabel",[$i.EASY]:".difficultyEasyLabel",[$i.NORMAL]:".difficultyNormalLabel",[$i.HARD]:".difficultyHardLabel"}),WD={[eu.ADVENTURE]:".gameModeAdventureLabel",[eu.CREATIVE]:".gameModeCreativeLabel",[eu.SURVIVAL]:".gameModeSurvivalLabel",[eu.UNKNOWN]:".gameModeUnknownLabel"};function BD(e,t,n,a,l,o){const{t:i}=tc("WorldSettingsButton"),c=(0,r.useSharedFacet)(il),s=(0,r.useFacetMap)((e=>Qw(e.platform)&&(e.isStorageLow||e.isStorageFull)),[],[c]),u=ak(),d=nk(),m=TI(),p=(0,r.useFacetMap)(((e,t)=>e||t),[],[u,d]);return{disableMainButton:(0,r.useFacetMap)(((e,t,n,a)=>e||t&&n.multiplayerGame||a&&n.multiplayerGame),[],[s,p,t,m]),disableSecondaryButton:(0,r.useFacetMap)(((e,t,n,a)=>!a.multiplayerGame||e||t||n),[],[(0,r.useFacetWrap)(null!=o&&o),p,m,t]),buttonHint:(0,r.useFacetMap)(((e,t)=>{const n=WD[e.gameMode],r=t?".hardcoreModeTitle":DD[e.difficulty],o=""!=e.worldName?e.worldName:i(".worldNamePlaceholder");return a(l,[i(n),i(r),o])}),[a,i,l],[n,e])}}function UD(e,t){return(0,r.useFacetCallback)(((n,a)=>()=>{!Xw(n.platform)&&!qw(n.platform)||a.isLoggedInWithMicrosoftAccount&&a.isSignedInPlatformNetwork?e():t()}),[t,e],[(0,r.useSharedFacet)(il),(0,r.useSharedFacet)(hu)])}const zD=n.p+"assets/trial-mode-art-40744.png",jD="play-realms-trial-mode-button",HD=Km((({onClose:e,worldSettingsMode:t})=>{const{t:n}=ec("PlayRealmsTrialModeModal"),r=t===fI.CREATE?"CreateNewWorld":"EditWorld",l=sI(),o=Ju(),i=(0,a.useCallback)((()=>{o({button:"BuyMinecraft",screen:`RealmsTrialModeModal_${r}`}),l()}),[o,l,r]);return a.createElement(vE,{defaultFocusAlias:jD},a.createElement(vE.Header,{onClose:e},n(".title")),a.createElement(vE.Content,null,a.createElement(om,{size:4}),a.createElement(Mp,{src:zD,className:"IEu8w",imageRendering:"pixelated"}),a.createElement(vE.Text,{narrationText:n(".message")},n(".message"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:jD,inputLegend:n(".select"),variant:"primary",onClick:i,Icon:nM.ExternalLink},n(".button"))))}));let VD;!function(e){e[e.IDLE=0]="IDLE",e[e.START=1]="START",e[e.VERIFYING_ACCOUNT=2]="VERIFYING_ACCOUNT",e[e.LOADING_REALMS_LIST=3]="LOADING_REALMS_LIST",e[e.SUBSCRIPTION_NEEDED=4]="SUBSCRIPTION_NEEDED",e[e.AWAITING_CONFIRMATION=5]="AWAITING_CONFIRMATION",e[e.CONFIRMED=6]="CONFIRMED",e[e.AWAITING_WORLD_CREATION=7]="AWAITING_WORLD_CREATION"}(VD||(VD={}));const GD="realm-preview-subscription-needed-close",$D=Km((({onClose:e})=>{const{t}=ec("RealmsPreviews.SubscriptionNeeded"),n=(0,r.useSharedFacet)(di),l=t(".title"),o=(0,r.useFacetMap)((e=>e.isBetaBuild?t(".message.beta"):t(".message.preview")),[t],[n]);return a.createElement(vE,{defaultFocusAlias:GD},a.createElement(vE.Header,{onClose:e},l),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:o},o)),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,gamepadAlias:GD,inputLegend:t(".select"),variant:"secondary",onClick:e},t(".close"))))})),KD="realm-preview-create-preview-realm-close",XD=Km((({onConfirm:e,onClose:t})=>{const{t:n}=ec("RealmsPreviews.create"),l=(0,r.useSharedFacet)(di),o=(0,r.useFacetMap)((e=>e.isBetaBuild?n(".titleAndButtonLabel.beta"):n(".titleAndButtonLabel.preview")),[n],[l]),i=(0,r.useFacetMap)((e=>e.isBetaBuild?n(".message.beta"):n(".message.preview")),[n],[l]),c=(0,r.useFacetMap)((e=>e.isBetaBuild?n(".cancel.beta"):n(".cancel.preview")),[n],[l]);return a.createElement(vE,{defaultFocusAlias:KD},a.createElement(vE.Header,{onClose:t},o),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:i},i)),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,inputLegend:n(".select"),variant:"primary",onClick:e},o),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:1,gamepadAlias:KD,inputLegend:n(".select"),variant:"secondary",onClick:t},c)))}));function YD(e){const{narrateText:t}=gf();(0,a.useEffect)((()=>{const n=setInterval((()=>{t(e)}),1e4);return()=>clearInterval(n)}),[e,t])}function qD({onClickClose:e}){const{t}=ec("Realms.LoadingModals");return YD(t(".fetchingSubscriptionInformation")),a.createElement(ay.Component,{title:t(".fetchingSubscriptionInformation"),onClose:e})}function QD({onClickClose:e}){const{t}=ec("Realms.LoadingModals");return YD(t(".fetchingRealmInformation")),a.createElement(ay.Component,{title:t(".fetchingRealmInformation"),onClose:e})}function JD({onClickClose:e}){const{t}=ec("Realms.LoadingModals");return YD(t(".creatingRealm")),a.createElement(ay.Component,{title:t(".creatingRealm"),onClose:e})}function ZD({onClickClose:e}){const{t}=ec("Realms.LoadingModals");return YD(t(".activatingSlot")),a.createElement(ay.Component,{title:t(".activatingSlot"),onClose:e})}function eW({onClickClose:e}){const{t}=ec("Realms.LoadingModals");return YD(t(".contactingRealms")),a.createElement(ay.Component,{title:t(".contactingRealms"),onClose:e})}const tW=Km((({onClickClose:e})=>{const t="realm-error-cannot-contact-realms-close",{t:n}=ec("Realms.ErrorModals"),r=$m(),l=(0,a.useCallback)((()=>{r(),e&&e()}),[r,e]);return a.createElement(vE,{defaultFocusAlias:t},a.createElement(vE.Header,{onClose:l},n(".CannotContactRealms.title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:n(".CannotContactRealms.message"),center:!0},n(".CannotContactRealms.message"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:t,gamepadIndex:0,inputLegend:n(".select"),variant:"secondary",onClick:l},n(".close"))))})),nW=Km((({onClickClose:e})=>{const t="realm-error-something-went-wrong-close",{t:n}=ec("Realms.ErrorModals"),r=$m(),l=(0,a.useCallback)((()=>{r(),e&&e()}),[r,e]);return a.createElement(vE,{defaultFocusAlias:t},a.createElement(vE.Header,{onClose:l},n(".somethingWentWrong.title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:n(".somethingWentWrong.message"),center:!0},n(".somethingWentWrong.message"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:t,inputLegend:n(".select"),variant:"secondary",onClick:l},n(".close"))))})),aW=Km((({onClickClose:e})=>{const t="realm-error-posting-comment-failed",{t:n}=ec("Realms.ErrorModals");return a.createElement(vE,{defaultFocusAlias:t},a.createElement(vE.Header,{onClose:e},n(".postingCommentFailed.title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:n(".postingCommentFailed.message"),center:!0},n(".postingCommentFailed.message"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:t,inputLegend:n(".select"),variant:"secondary",onClick:e},n(".close"))))})),rW=Km((({onClickClose:e})=>{const t="realm-rate-limit-error",{t:n}=ec("Realms.ErrorModals");return a.createElement(vE,{defaultFocusAlias:t},a.createElement(vE.Header,{onClose:e},n(".rateLimitError.title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:n(".rateLimitError.message"),center:!0},n(".rateLimitError.message"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:t,inputLegend:n(".select"),variant:"secondary",onClick:e},n(".close"))))})),lW=()=>{const{t:e}=tc("CreateNewWorld"),t=m(),n=(0,r.useSharedFacet)(pc),l=(0,r.useSharedFacet)(jn),o=(0,r.useSharedFacet)($s),i=(0,r.useSharedFacet)(bi),c=VO.useModal(),s=xO.useModal(),u=(0,r.useFacetMap)((e=>e.worldData.general),[],[i]),d=(0,r.useFacetMap)((e=>e.worldData.multiplayer),[],[i]),p=PD(u),f=YA(),g=(0,r.useFacetCallback)(((e,n,a,r)=>()=>{e.showTouchControlSelectionScreen&&n.currentInputType==Ge.TOUCH?(a.inWorldCreation=!0,t.push("/touch-control-selection")):(r.fireEventButtonPressed("Create_World_Button_OreUI",{}),a.createWorld())}),[t],[n,l,i,o]),E=(0,r.useFacetCallback)(((e,t)=>()=>{!e||t.doNotShowHardcoreModeWarning?g():c.show()}),[c,g],[p,(0,r.useSharedFacet)(sc)]),{disableMainButton:h,buttonHint:v}=BD(p,d,u,e,"SideMenu.narrationCreateButtonHint"),b=(0,r.useFacetCallback)((e=>()=>{e.worldData.achievementsDisabled?s.show():E()}),[E,s],[i]);return a.createElement(a.Fragment,null,a.createElement(mg,{"data-testid":"create-world",disabled:h,gamepadAlias:hO,narrationSuffix:v,variant:"hero",onClick:b,inputLegend:e("SideMenu.create")},e("SideMenu.create")),a.createElement(r.Mount,{when:c.isVisible},a.createElement(VO.Component,{onSubmit:g,onCancel:c.hide})),a.createElement(r.Mount,{when:s.isVisible},a.createElement(xO.Component,{onConfirm:g,onClose:s.hide,reasons:f})))},oW=()=>{const{t:e}=tc("CreateNewWorld"),t=Zu(),n=VO.useModal(),l=gA.useModal(),o=HD.useModal(),i=(0,r.useSharedFacet)(bi),c=(0,r.useSharedFacet)(Si),s=(0,r.useSharedFacet)(di),u=(0,r.useSharedFacet)($s),d=(0,r.useSharedFacet)(vu),m=function(){const[e,t]=(0,r.useFacetState)(VD.IDLE),n=p(),a=Yr(),l=(0,r.useSharedFacet)(hs),o=(0,r.useSharedFacet)(mu),i=(0,r.useSharedFacet)(Si),c=(0,r.useSharedFacet)(bi),s=(0,r.useSharedFacet)($s),u=(0,r.useSharedFacet)(hu),d=(0,r.useSharedFacet)(vs),m=(0,r.useSharedFacet)(pu),f=(0,r.useFacetCallback)(((e,n)=>()=>{t(VD.VERIFYING_ACCOUNT),n.inWorldCreation=!0,e.fireEventButtonPressed("Create_On_Realms_OreUI",{}),n.createOnRealms()}),[t],[s,c]);(0,r.useFacetEffect)(((e,t)=>{e&&t===VD.START&&f()}),[f],[n,e]),(0,r.useFacetEffect)(((e,n,a)=>{e&&n===VD.VERIFYING_ACCOUNT&&a.isLoggedInWithMicrosoftAccount&&!a.isBanned&&t(VD.LOADING_REALMS_LIST)}),[t],[n,e,u]);const g=(0,r.useFacetCallback)(((e,n,r)=>()=>{0===n.length?1===r.length?(t(VD.AWAITING_CONFIRMATION),e.createPreviewRealmFromSubscriptionId(`${r[0].id}`)):(t(VD.IDLE),a.push("/realms-choose-realm/realm-subscriptions")):(t(VD.IDLE),a.push("/realms-choose-realm/preview-realms"))}),[a,t],[i,d,m]);(0,r.useFacetEffect)(((e,n,a,r,l,o)=>{e&&n===VD.LOADING_REALMS_LIST&&a.state!==Es.Loading&&r.state!==Es.Loading&&(0===l.length&&0===o.length?t(VD.SUBSCRIPTION_NEEDED):g())}),[t,g],[n,e,l,o,d,m]);const E=(0,r.useFacetCallback)(((e,t)=>()=>{e.inWorldCreation&&e.createWorldOnPreviewRealm(t.getCreatedPreviewRealmId())}),[],[c,i]);(0,r.useFacetEffect)(((e,n,a)=>{e&&n===VD.CONFIRMED&&a.createPreviewRealmFromSubscriptionTaskState===ck.DONE&&(t(VD.AWAITING_WORLD_CREATION),a.reset(),E())}),[t,E],[n,e,i]);const h=(0,r.useFacetCallback)((e=>()=>{t(VD.IDLE),e.reset()}),[t],[i]);return(0,r.useFacetEffect)(((e,t)=>{e||t!==VD.AWAITING_WORLD_CREATION||h()}),[h],[n,e]),{state:e,create:()=>t(VD.START),confirm:()=>t(VD.CONFIRMED),reset:()=>h()}}(),f=(0,r.useFacetMap)((e=>e.worldData.general),[],[i]),g=(0,r.useFacetMap)((e=>e.worldData.multiplayer),[],[i]),E=PD(f),{disableSecondaryButton:h,buttonHint:v}=BD(E,g,f,e,"SideMenu.narrationCreateButtonHint"),b=Tv(Ii.NewTrialModeFlow),y=(0,r.useFacetMap)((e=>e===VD.CONFIRMED||e===VD.AWAITING_WORLD_CREATION),[],[m.state]),F=(0,r.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===ck.FAILED),[],[c]),S=(0,r.useFacetCallback)(((e,n,a,r)=>()=>{if(a.isAnyBeta)m.create();else{if(r&&b)return t({modal:"RealmsTrialMode",screen:"CreateNewWorld"}),void o.show();e.inWorldCreation=!0,n.fireEventButtonPressed("Create_On_Realms_OreUI",{}),e.createOnRealms()}}),[m,b,t,o],[i,u,s,d]),C=UD((0,r.useFacetCallback)(((e,t)=>()=>{!e||t.doNotShowHardcoreModeWarning?S():n.show()}),[n,S],[E,(0,r.useSharedFacet)(sc)]),l.show);return a.createElement(a.Fragment,null,a.createElement(sr,{collection:LD},a.createElement(mg,{gamepadAlias:vO,narrationSuffix:v,linebreak:!0,"data-testid":"create-world-on-realm",variant:"primary",onClick:C,inputLegend:e("SideMenu.createOnRealm"),disabled:h},e("SideMenu.createOnRealm"))),a.createElement(r.Mount,{when:l.isVisible},a.createElement(gA.Component,{mode:fI.CREATE,onClose:l.hide})),a.createElement(r.Mount,{when:n.isVisible},a.createElement(VO.Component,{onSubmit:S,onCancel:n.hide})),a.createElement(r.Mount,{when:o.isVisible},a.createElement(HD.Component,{worldSettingsMode:fI.CREATE,onClose:o.hide})),a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>e===VD.SUBSCRIPTION_NEEDED),[],[m.state])},a.createElement($D.Component,{onClose:m.reset})),a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>e===VD.AWAITING_CONFIRMATION),[],[m.state])},a.createElement(XD.Component,{onConfirm:(0,r.useFacetCallback)(((e,t)=>()=>{e.activateNewPreviewRealm(t.inWorldCreation),m.confirm()}),[m],[c,i]),onClose:m.reset})),a.createElement(r.Mount,{when:y},a.createElement(JD,{onClickClose:m.reset})),a.createElement(r.Mount,{when:F},a.createElement(tW.Component,{onClickClose:m.reset})),a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>e===VD.LOADING_REALMS_LIST),[],[m.state])},a.createElement(QD,{onClickClose:m.reset})))};function iW(){}const cW="prompt-default-btn",sW=Km((()=>{const e=(0,r.useSharedFacet)(As),t=(0,r.useFacetMap)((e=>e.prompt.title),[],[e]),n=(0,r.useFacetMap)((e=>e.prompt.body),[],[e]),l=(0,r.useFacetMap)((e=>e.prompt.actions),[],[e]),o=(0,r.useFacetCallback)((e=>t=>{e.prompt.handleAction(t)}),[],[e]),i=(0,r.useFacetMap)((e=>e.length<=1),[],[l]),c=(0,r.useFacetCallback)((e=>e.length>1?()=>{var t;const n=null===(t=e.find((({variant:e})=>e===Js.Secondary)))||void 0===t?void 0:t.id;null!=n&&o(n)}:iW),[o],[l]);return a.createElement(vE,{defaultFocusAlias:cW},a.createElement(vE.Header,{onClose:c,hideCloseButton:i},t),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:n},n)),a.createElement(vE.Buttons,null,a.createElement(r.Map,{array:l},((e,t)=>a.createElement(a.Fragment,null,t>0&&a.createElement(om,{size:1}),a.createElement(uW,{button:e,index:t,onClick:o}))))))}));function uW({button:e,onClick:t,index:n}){const{t:l}=ec("CreateNewWorld.dlcCheckErrorModal"),o=(0,r.useFacetCallback)((e=>()=>t(e.id)),[t],[e]),i=(0,r.useFacetUnwrap)((0,r.useFacetMap)((e=>e.variant===Js.Primary?"primary":"secondary"),[],[e]));return a.createElement(mg,{onClick:o,inputLegend:l(".buttonSelectInputLegend"),gamepadAlias:0===n?cW:void 0,variant:i===r.NO_VALUE?"secondary":i},(0,r.useFacetMap)((e=>e.label),[],[e]))}const dW=()=>{const e=Yr(),t=(0,r.useSharedFacet)(bi),n=(0,r.useSharedFacet)(As),l=(0,r.useSharedFacet)(vu),o=(0,r.useSharedFacet)(uc),i=(0,r.useFacetMap)((e=>e.worldData),[],[t]),c=(0,r.useFacetMap)((e=>e.worldData.isUsingTemplate),[],[t]),s=(0,r.useFacetMap)((e=>e.isEditorWorld),[],[t]),u=(0,r.useFacetMap)((e=>e.prompt.active),[],[n]),{t:d}=tc("EditWorld"),{t:p}=tc("CreateNewWorld"),g=(0,r.useFacetMap)((e=>null!=e.resourcePackToDownload&&(e.status===Os.DownloadingResourcePacks||e.status===Os.StartDownload)),[],[n]),h=(0,r.useFacetMap)((e=>e.resourcePackToDownload.title),[],[n]),v=(0,r.useFacetMap)((e=>.5*(e.downloadProgress+e.importProgress)),[],[n]),b=(0,r.useFacetMap)((e=>e.downloadProgress>=1&&e.importProgress<1),[],[n]),y=(0,r.useFacetCallback)((e=>(t,n)=>{if(n){var a,r,l,o,i;const n=null!==(a=null===(r=e.availableTexturePacks.find((e=>t==e.id)))||void 0===r?void 0:r.name)&&void 0!==a?a:"",c=null!==(l=null===(o=e.availableBehaviorPacks.find((e=>t==e.id)))||void 0===o?void 0:o.name)&&void 0!==l?l:"";return null!==(i=n||c)&&void 0!==i?i:"Pack"}{var c,s,u,d,m;const n=null!==(c=null===(s=e.activeTexturePacks.find((e=>t==e.id)))||void 0===s?void 0:s.name)&&void 0!==c?c:"",a=null!==(u=null===(d=e.activeBehaviorPacks.find((e=>t==e.id)))||void 0===d?void 0:d.name)&&void 0!==u?u:"";return null!==(m=n||a)&&void 0!==m?m:"Pack"}}),[],[n]);(0,r.useFacetEffect)(((e,t)=>{if(e.lastActivatedPackId){const n=y(e.lastActivatedPackId,!0);t.queueSnackbar(d(".notificationToasts.addonPackActivated",[n===r.NO_VALUE?"Pack":n])),e.clearLastActivatedPackId()}}),[y,d],[n,o]);const F=(0,r.useFacetCallback)((e=>t=>{e.activate(t,!1)}),[],[n,o]),S=(0,r.useFacetCallback)((e=>t=>{e.activate(t,!0)}),[],[n,o]),C=(0,r.useFacetCallback)(((e,t)=>n=>{e.deactivate(n);const a=y(n,!1);t.queueSnackbar(d(".notificationToasts.addonPackDeactivated",[a===r.NO_VALUE?"Pack":a]))}),[y,d],[n,o]),M=(0,r.useFacetCallback)((e=>(t,n,a,r)=>{e.changePackPriority(t,a,r)}),[],[n]),w=(0,r.useFacetCallback)((e=>t=>e.showSettings(t)),[],[n]),k=(0,r.useFacetCallback)((e=>()=>{e.cancelDownload()}),[],[n]),T=(0,r.useFacetCallback)((e=>()=>{e.unlockTemplateSettings()}),[],[t]),I=(0,r.useFacetMap)((e=>null!=e.createWorldError),[],[t]),P=(0,r.useFacetMap)((e=>null!=e.worldPreviewImagePath&&e.worldPreviewImagePath.length>0?e.worldPreviewImagePath:RD),[],[t]),x=YO.useShowModal(),O=(0,r.useFacetCallback)((t=>()=>{t.checkIfUserHasChangedSettings()?x({onLeave:()=>{e.goBack()}}):e.goBack()}),[e,x],[t]),A=(0,r.useFacetMap)((e=>e.isCreatingWorld),[],[t]),N=(0,r.useFacetMap)((e=>!e.consumeResetFlag),[],[t]),R=(0,r.useFacetMap)((e=>null!=e.createOnRealmsError),[],[t]),_=(0,r.useFacetCallback)((e=>t=>{null!=e.worldPreviewImagePath&&e.worldData.advanced.worldSeed!=t&&(e.worldPreviewImagePath=""),e.worldData.advanced.worldSeed=t}),[],[t]),L=(0,r.useFacetCallback)((e=>t=>e.worldPreviewImagePath=t),[],[t]),D=(0,r.useFacetMap)((e=>e.isRandomSeedAllowed),[],[t]),W=(0,r.useSharedFacet)(vu),B=(0,r.useFacetMap)(((e,t,n)=>e||t&&!n),[],[W,c,D]),U=(()=>{const e=m(),t=(0,r.useSharedFacet)(bi),n=f(),a=(0,r.useFacetMap)((e=>e.worldTemplateId),[],[n]),l=(0,r.useFacetMap)((e=>e.worldData.isUsingTemplate),[],[t]),o=(0,r.useFacetMap)((e=>e.applyTemplateTaskState),[],[t]),i=(0,r.useFacetMap)((e=>e===ck.RUNNING),[],[o]),c=uk((t=>function*(n){t.applyTemplate(n),yield o,e.replace("/create-new-world/general")}),[o,e],[t,l,a]);return(0,r.useFacetEffect)(((e,t)=>{!e&&(e=>null!=e&&!["available","active"].includes(e))(t)&&c(t)}),[c],[l,a]),i})(),z=E(),j=(0,r.useFacetMap)((e=>e.get("packid")),[],[z]),H=Tv(Ii.NewTrialModeFlow),V=(0,r.useFacetMap)(((e,t)=>!(e||t)||H&&t),[H],[s,l]);return(0,r.useFacetEffect)((e=>{null!=e&&S(e)}),[S],[j]),a.createElement(gI.Provider,{value:fI.CREATE},a.createElement(KA.Provider,{value:U},a.createElement(ND,{isPageLoading:U,worldData:i,worldPacks:n,worldPreviewImage:P,renderPage:N,onActivatePack:F,onDeactivatePack:C,onChangePackPriority:M,onClickPackSettings:w,onUnlockTemplateSettings:T,backButtonCallback:O,backButtonDisabled:(0,r.useFacetWrap)(!1),isEditorWorld:s,onSeedValueChange:_,isSeedChangeLocked:B,sideMenuButtons:a.createElement(a.Fragment,null,a.createElement(RP.Item,null,a.createElement(lW,null)),a.createElement(om,{size:1}),a.createElement(r.Mount,{when:V},a.createElement(RP.Item,null,a.createElement(oW,null)))),onWorldPreviewPathChange:L}),a.createElement(r.Mount,{when:g},a.createElement(sA.Component,{title:h,percentage:v,isImportingPack:b,onCancel:k})),a.createElement(r.Mount,{when:I},a.createElement(UO.Component,null)),a.createElement(r.Mount,{when:R},a.createElement(WO.Component,null)),a.createElement(r.Mount,{when:A},a.createElement(ay.Component,{title:p(".creatingNewWorldModal.title")})),a.createElement(r.Mount,{when:u},a.createElement(sW.Component,null))))};n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p;function mW(){const e=m(),{t}=ec("AccountUnlinkRoute"),n=Ju(),l=(0,r.useSharedFacet)(hu),o=Gk(),i=(0,r.useFacetMap)((e=>t(".unlinkLine1",e?[e.data.xblName]:[""])),[t],[o]),c=(0,r.useFacetMap)((e=>e.accountUnlinkState===ck.RUNNING),[],[l]),s=(0,r.useFacetMap)((e=>e.accountUnlinkState===ck.DONE||e.accountUnlinkState===ck.FAILED),[],[l]),u=(0,r.useFacetCallback)((e=>()=>{e.unlinkMicrosoftAccount(),n({screen:"AccountUnlink",button:"Unlink"})}),[n],[l]);return a.createElement(a.Fragment,null,a.createElement(vE,null,a.createElement(vE.Header,{onClose:()=>{n({screen:"AccountUnlink",button:"Close"}),e.goBack()}},t(".header")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:i},a.createElement(fm,{type:"captionLong",align:"left"},i)),a.createElement(vE.Text,{narrationText:t(".unlinkLine2")},a.createElement(fm,{type:"captionLong",align:"left"},t(".unlinkLine2"))),a.createElement(vE.Text,{narrationText:t(".unlinkLine3")},a.createElement(fm,{type:"captionLong",align:"left"},t(".unlinkLine3")))),a.createElement(vE.Buttons,null,a.createElement(mg,{variant:"destructive",gamepadAlias:"unlinkButton",inputLegend:t(".unlinkButton"),onClick:u},t(".unlinkButton")),a.createElement(om,{size:1}),a.createElement(mg,{gamepadAlias:"cancelButton",inputLegend:t(".cancelButton"),onClick:()=>{n({screen:"AccountUnlink",button:"Cancel"}),e.goBack()}},t(".cancelButton")))),a.createElement(r.Mount,{when:c},a.createElement(ay.Component,{title:t(".progressHeader")})),a.createElement(r.Mount,{when:s},a.createElement(pW,null)))}function pW(){const e=m(),{t}=ec("AccountUnlinkRoute"),n=Ju(),l=(0,r.useSharedFacet)(hu),o=(0,r.useFacetMap)((e=>e.accountUnlinkState===ck.DONE?t(".successHeader"):t(".failHeader")),[t],[l]),i=(0,r.useFacetMap)((e=>e.accountUnlinkState===ck.DONE?t(".successBody"):t(".failBody")),[t],[l]),c=(0,r.useFacetCallback)((t=>()=>{t.clearAccountUnlinkState(),n({screen:"AccountUnlink",button:"CloseResults"}),e.goBack()}),[n,e],[l]);return a.createElement(vE,null,a.createElement(vE.Header,{onClose:c},o),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:i},a.createElement(fm,{type:"captionLong",align:"left"},i))),a.createElement(vE.Buttons,null,a.createElement(mg,{variant:"primary",gamepadAlias:"closeResultsButton",inputLegend:t(".closeResultsButton"),onClick:c},t(".closeResultsButton"))))}let fW;function gW(){const[e,t]=(0,r.useFacetState)(fW.ACTIVE),n=(0,a.useRef)(),l=(0,r.useSharedFacet)(dc),o=(0,r.useFacetCallback)((e=>()=>{e.isFinishedQueryingProductsAndPurchases?t(fW.IDLE):(t(fW.ACTIVE),n.current=setTimeout((()=>{t(fW.IDLE)}),15e3))}),[t],[l]);return(0,a.useEffect)((()=>(o(),()=>{n.current&&clearTimeout(n.current)})),[o]),e}Xi.VISITOR,Xi.MEMBER,Xi.OPERATOR,function(e){e[e.IDLE=0]="IDLE",e[e.ACTIVE=1]="ACTIVE"}(fW||(fW={}));const EW={container:"q2Ws5"};function hW(){return hW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},hW.apply(this,arguments)}function vW(e){let{minWidth:t,minHeight:n,minBorderWidth:l=0,className:o,style:i}=e,c=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["minWidth","minHeight","minBorderWidth","className","style"]);const s=(0,a.useRef)(null),[u,d]=(0,r.useFacetState)(1),m=(0,r.useFacetMap)((e=>[EW.container,e].filter(Boolean).join(" ")),[],[(0,r.useFacetWrap)(o)]);pd(s,(({width:e})=>{const n=Math.max(1,Math.floor(e/(t+2*l)));"number"==typeof n&&n>0&&d(n)}));const p=(0,r.useFacetMap)((e=>(t+2*l)*e+"px"),[t,l],[u]),f=(0,r.useFacetMap)((e=>(n+2*l)*e+"px"),[n,l],[u]),g=(0,r.useFacetMap)((e=>l*e+"px solid transparent"),[l],[u]);return a.createElement("fast-div",{ref:s,className:m,style:i},0===l?a.createElement("fast-img",hW({},c,{style:{imageRendering:"pixelated",width:p,height:f}})):a.createElement("fast-img",hW({},c,{style:{imageRendering:"pixelated",width:p,height:f,border:g}})))}function bW({minWidth:e,minHeight:t,minBorderWidth:n,containerClassName:l,frameClassName:o}){const i=(0,a.useRef)(null),[c,s]=(0,r.useFacetState)(1),u=(0,r.useFacetWrap)(o),d=(0,r.useFacetWrap)(l);pd(i,(({width:t})=>{const a=Math.max(1,Math.floor(t/(e+2*n)));"number"==typeof a&&s(a)}));const m=(0,r.useFacetMap)((t=>(e+2*n)*t+"px"),[e,n],[c]),p=(0,r.useFacetMap)((e=>(t+2*n)*e+"px"),[t,n],[c]),f=(0,r.useFacetMap)((e=>n*e+"px"),[n],[c]);return a.createElement("fast-div",{ref:i,className:d},a.createElement("fast-div",{className:u,style:{width:m,height:p,borderWidth:f}}))}function yW({title:e,text:t,image:n,index:l,maxIndex:o}){const i=(0,r.useFacetWrap)(e),c=(0,r.useFacetWrap)(t),s=(0,r.useFacetWrap)(n),u=(0,r.useFacetWrap)(null!=l?l:-1),d=(0,r.useFacetWrap)(null!=o?o:-1),m=Fr("neutral"),{t:p}=ec("PromoListItem"),f=(0,r.useFacetMap)(((e,t,n,a)=>{const r=[e,p(".role")];return-1!==n&&-1!==a&&r.push(p(".enumeration",[(n+1).toString(),a.toString()])),r.push(t),r.join(" . ")}),[p],[i,c,u,d]);return a.createElement(em,{inputLegend:!1,narrationText:f,classNameFocused:Zm,className:Dr()("Zm7Sl",m.border.base)},a.createElement(Jm,null),a.createElement("div",{className:Dr()("jE15U","rPJhf",m.background.base)},a.createElement(cp,{effect:"specular"}),a.createElement("div",{className:"WigYd"},a.createElement(vW,{src:s,minWidth:128,minHeight:72,className:"Wlb5R"})),a.createElement(om,{size:2}),a.createElement("div",{className:"Vd5Ax"},a.createElement(fm,{type:"header5B"},i),a.createElement(om,{size:1}),a.createElement(fm,{type:"captionLong",variant:"dimmer"},c))))}const FW=n.p+"assets/RealmsSplashImage-b1b92.jpg",SW=n.p+"assets/RealmsTitleImage-517ec.png";function CW({title:e,text:t,showRealmsTitleImage:n=!1,buttonProps:l}){const o=(0,r.useFacetWrap)(null!=l?l:{text:"",onClick:()=>{},tokenCollection:"realms",gamepadAlias:"",isLoading:!1}),i=ud(70),c=Fr("neutral"),s=Fr("informative"),{t:u}=ec("Splash"),d=(0,r.useFacetMap)((e=>[e.text,u(".enumeration",["1","1"])].join(" . ")),[u],[o]),m=[e,u(".role"),t].join(" . ");return a.createElement("div",{className:Dr()("kMLDV",s.background.base,c.border.base)},a.createElement("div",{className:Dr()("aCOtA",{FQ8u9:!n,Kx1FU:!i,imZ4D:!i,JY0nO:i})},n&&a.createElement("div",{className:"yM3Ag"},a.createElement(Mp,{src:SW})),a.createElement(sr,{collection:LD},a.createElement(fm,{type:"header4A",role:"PDPPlus",variant:"stronger"},e)),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionLong"},t),l&&a.createElement("div",{className:"Jl3IV"},a.createElement(om,{size:4}),a.createElement(wl,{data:o},(e=>a.createElement(sr,{collection:"realms"===e.tokenCollection?LD:_D},e.isLoading&&a.createElement("div",{className:"PVqXw"},a.createElement(ff,null)),!e.isLoading&&a.createElement(mg,{inputLegend:u(".select"),narrationPrefix:d,narrationSuffix:m,onClick:e.onClick,variant:"primary",gamepadAlias:e.gamepadAlias,"data-testid":e["data-testid"]},e.text)))))),!i&&a.createElement("div",{className:"rUfVf"},a.createElement(Mp,{src:FW,aspectRatio:Mp.AspectRatio["16:9"]})))}function MW({header:e,title:t,text:n,image:l}){const o=(0,r.useFacetWrap)(null!=e?e:""),i=(0,r.useFacetMap)((e=>""!==e),[],[o]),c=(0,r.useFacetWrap)(t),s=(0,r.useFacetWrap)(n),u=(0,r.useFacetWrap)(null!=l?l:""),d=(0,r.useFacetMap)((e=>""!==e),[],[u]),m=Fr("neutral"),p=Fr("neutral80"),{t:f}=ec("HeroItem"),g=(0,r.useFacetMap)(((e,t,n)=>[e,f(".role"),t,n].join(" . ")),[f],[o,c,s]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:i},a.createElement(eF,{role:"primary",label:o})),a.createElement(em,{inputLegend:!1,narrationText:g,classNameFocused:Zm,className:Dr()("rxLsf",m.border.base)},a.createElement(Jm,null),a.createElement("div",{className:Dr()("_UW1E",m.background.base)},a.createElement(fm,{type:"header4A"},c),a.createElement(om,{size:4}),a.createElement(fm,{type:"captionLong",variant:"dimmer"},s)),a.createElement(r.Mount,{when:d},a.createElement("div",{className:Dr()("ThJlB",p.shadow.base)},a.createElement(Mp,{src:u,aspectRatio:Mp.AspectRatio["16:9"]})))))}const wW=n.p+"assets/PersistentMultiplayerWorlds-880a4.png",kW=n.p+"assets/MembersPlayFree-265a9.png",TW=n.p+"assets/EasyAndSafe-18a17.png",IW=n.p+"assets/AdditionalContentWithRealmsPlus-2567d.jpg",PW=n.p+"assets/AdditionalPerksIncludedWithRealms-1153c.jpg",xW="realms-pdp-scrollview",OW="realms-pdp-splash-button";function AW({data:e,index:t,length:n,screenAnalyticsId:l}){const{t:o}=ec("RealmsPDPFAQAccordion"),i=Ju(),c=(0,r.useFacetMap)((e=>[o(".enumeration",[`${t+1}`,`${e}`]),o(".clickToExpand")].join(" . ")),[t,o],[n]),s=(0,r.useFacetMap)((e=>[o(".textBlock"),...e.text].join(" . ")),[o],[e]),u=(0,r.useFacetMap)((e=>e.title),[],[e]),d=(0,r.useFacetMap)((e=>e.text),[],[e]),m=(0,r.useFacetMap)((e=>t<e-1),[t],[n]),p=Fr("neutral"),f=a.useCallback((e=>{e&&i({button:"FAQItem",screen:l,details:{index:t.toString()}})}),[i,l,t]);return a.createElement(a.Fragment,null,a.createElement(ey,{label:u,narrationHint:c,onExpandNarrationHint:"",onChange:f},a.createElement(em,{inputLegend:!1,narrationText:s,classNameFocused:Zm,className:Dr()("I25h3",p.border.base,p.background.base)},a.createElement(Jm,null),a.createElement(r.Map,{array:d},(e=>a.createElement(fm,{type:"captionLong",variant:"dimmer"},e))))),a.createElement(r.Mount,{when:m},a.createElement(om,{size:2})))}function NW({header:e,footer:t,hideUpsellButton:n=!1,screenAnalyticsId:l="RealmsPDP",shouldShowDesignPreview:o=!1}){const{t:i}=ec("RealmsPDPScreen"),c=Ju(),s=ud(70),u=m(),d=(0,r.useSharedFacet)(dc),p=gW(),f=(0,r.useSharedFacet)(ms),g=(0,r.useFacetMap)(((e,t,n,a)=>a===fW.ACTIVE?"":t.isFinishedQueryingProductsAndPurchases&&t.isRealmsTrialOfferAvailable&&e.isRealmsTrialAvailable?i(".splash.tryFree"):qw(n.platform)?i(".splash.subscribeNow"):i(".splash.buyNow")),[i],[f,d,(0,r.useSharedFacet)(il),p]),E=(0,r.useFacetMap)((e=>({text:e,onClick:()=>{c({button:"Upsell",screen:l}),u.push("/realms-plan-picker")},tokenCollection:"realms",gamepadAlias:OW,isLoading:""===e,"data-testid":OW})),[u,c,l],[g]),h=(0,r.useFacetWrap)(null!=n&&n),v=(0,r.useFacetMap)((e=>{const t=[],n=e.coreSubscriptionPrice,a=e.plusSubscriptionPrice;return t.push({title:i(".FAQ.Realms.title"),text:[i(".FAQ.Realms.description")]}),t.push({title:i(".FAQ.PersonalServer.title"),text:[i(".FAQ.PersonalServer.description")]}),""!=n&&""!=a&&t.push({title:i(".FAQ.Cost.title"),text:[i(".FAQ.Cost.description1"),i(".FAQ.Cost.description2",[n]),i(".FAQ.Cost.description3",[a])]}),t.push({title:i(".FAQ.Friends.title"),text:[i(".FAQ.Friends.description")]}),t.push({title:i(".FAQ.Expiry.title"),text:[i(".FAQ.Expiry.description")]}),t.push({title:i(".FAQ.HowMany.title"),text:[i(".FAQ.HowMany.description")]}),t}),[i],[d]),b=(0,r.useFacetMap)((e=>e.length),[],[v]);return a.createElement(sr,{collection:LD},a.createElement(Ef,{gamepadAlias:xW,delegateFocusByAlias:OW},e,a.createElement(wl,{data:h},(e=>a.createElement(CW,{title:i(".splash.title"),text:i(".splash.text"),buttonProps:e?void 0:E}))),a.createElement(om,{size:2}),a.createElement(eF,{role:"primary",label:i(".promos.header")}),a.createElement(wf,{text:i(".promos.header")},a.createElement(yW,{image:wW,title:i(".promos.persistent.title"),text:i(".promos.persistent.description"),index:0,maxIndex:3}),a.createElement(om,{size:2}),a.createElement(yW,{image:kW,title:i(".promos.free.title"),text:i(".promos.free.description"),index:1,maxIndex:3}),a.createElement(om,{size:2}),a.createElement(yW,{image:TW,title:i(".promos.easy.title"),text:i(".promos.easy.description"),index:2,maxIndex:3})),a.createElement(om,{size:2}),a.createElement(MW,{image:s?void 0:IW,header:i(".hero.content.header"),title:i(".hero.content.title"),text:i(".hero.content.text")}),a.createElement(om,{size:2}),a.createElement(MW,{image:s?void 0:PW,header:i(".hero.perks.header"),title:i(".hero.perks.title"),text:i(".hero.perks.text")}),a.createElement(om,{size:2}),a.createElement(eF,{role:"primary",label:i(".FAQ.header")}),a.createElement(wf,{text:i(".FAQ.header")},a.createElement(r.Map,{array:v},((e,t)=>a.createElement(AW,{data:e,index:t,length:b,screenAnalyticsId:l})))),t,o&&a.createElement(ST,{tab:"realms"})))}function RW(){const{t:e}=ec("PurchaseRealmOnRetailBanner");return a.createElement(sr,{collection:_D},a.createElement(GT,{role:"informative"},a.createElement(GT.Text,null,e(".text"))))}const _W=n.p+"assets/parental-online-safety-8fad2.png",LW=n.p+"assets/online-safety-dc71d.png";function DW({variant:e}){const{t}=ec("PlayScreen.xboxPermissionMessage"),n=(0,r.useSharedFacet)(yu),l=(0,r.useSharedFacet)(hu),o=(0,r.useSharedFacet)(il),i=Wb({wide:8,narrow:6,width:256}),c=(0,r.useFacetCallback)(((e,t,n)=>()=>{Yw(n.platform)?t.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(bu.ParentPermissionHelpPage)}),[],[n,l,o]),s=(0,r.useFacetCallback)(((e,t,n)=>()=>{Yw(n.platform)?t.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(bu.TroubleshootingMultiplayerDisabled)}),[],[n,l,o]);return a.createElement(Ef,{floating:!0,gamepadIndex:1,flexShrinkWrapper:!0},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(cb,{title:t(".title"),text:t("parental"===e?".parentalText":".text"),imgSrc:"parental"===e?_W:LW,imgClass:(0,r.useFacetMap)((e=>e?"Sr6mB":"tcql5"),[],[i]),buttons:[{text:t(".learnMore"),imgSrc:tP.imgSrc,inputLegend:t(".learnMore"),onClick:"parental"===e?c:s,buttonTestId:"help-button"}]})))}function WW(){return(0,r.useFacetMap)(((e,t)=>{const{isSignedInPlatformNetwork:n,isLoggedInWithMicrosoftAccount:a,hasPremiumNetworkAccess:r}=e,l=qw(t.platform),o=Xw(t.platform);return a&&!n&&l?"platform-guest-nintendo":a&&!n&&o?"platform-guest-playstation":!a&&n&&r&&o?"msa-guest-with-premium-playstation":!a&&n&&r&&l?"msa-guest-with-premium-nintendo":!a&&n&&l&&!r?"msa-guest-nintendo":!a&&n&&o&&!r?"msa-guest-playstation":a&&e.userPermissions.multiplayer.denyReasons.includes(fu.XboxLive)?"multiplayer-disabled":a&&!r&&l?"no-premium-subscription-nintendo":a&&!r&&o?"no-premium-subscription-playstation":"not-signed-in"}),[],[(0,r.useSharedFacet)(hu),(0,r.useSharedFacet)(il)])}let BW,UW,zW,jW;function HW({accountAndPlatform:e=0,location:t}){const{t:n}=ec("PlayScreen.guestAccountMessage"),r=Ju();let l="",o="";switch(e){case BW.MsaPlaystation:case BW.MsaNintendo:l=t===zW.ServersTab?n(".serversNoMicrosoftAccount"):n(".realmsNoMicrosoftAccount"),o=n(".bannerLogInMicrosoft");break;case BW.PlatformPlaystation:l=t===zW.ServersTab?n(".serversNoPlatformAccountPlaystation"):n(".realmsNoPlatformAccountPlaystation");break;case BW.PlatformNintendo:l=t===zW.ServersTab?n(".serversNoPlatformAccountNintendo",["Servers"]):n(".realmsNoPlatformAccountNintendo",["Realms"])}const i=m();return a.createElement(GT,{role:"noticeTint"},a.createElement(GT.Text,null,l),e!==BW.PlatformPlaystation&&e!==BW.PlatformNintendo&&a.createElement(GT.Link,{"data-testId":`log-in-link-${t}`,gamepadIndex:1,onClick:()=>{r({screen:`${VW(t)}`,button:"SignIn"}),i.replace("/sign-in?signInSource=PlayScreen_NotLoggedInWarning_OreUI")}},o))}function VW(e){return e===zW.ServersTab?"ServersTab":"RealmsTab"}function GW({platform:e,location:t}){const{t:n}=ec("PlayScreen.noPremiumSubscriptionMessage");let l="",o="";switch(e){case UW.Playstation:l=t===zW.ServersTab?n(".serversPlaystation"):n(".realmsPlaystation"),o=n(".learnMore");break;case UW.Nintendo:l=t===zW.ServersTab?n(".serversNintendo"):n(".realmsNintendo"),o=n(".learnMore");break;case UW.Xbox:l=t===zW.ServersTab?n(".serversXbox"):n(".realmsXbox")}const i=(0,r.useFacetCallback)((e=>()=>e.showPremiumNetworkUpsellModal()),[],[(0,r.useSharedFacet)(hu)]);return""===l?null:a.createElement(GT,{role:"noticeTint"},a.createElement(GT.Text,null,l),a.createElement(GT.Link,{onClick:i},o))}function $W(){const{t:e}=ec("PlayScreen.BannerMultiplayerDisabled"),t=(0,r.useFacetCallback)(((e,t,n)=>()=>{Yw(t.platform)?n.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(bu.TroubleshootingMultiplayerDisabled)}),[],[(0,r.useSharedFacet)(yu),(0,r.useSharedFacet)(il),(0,r.useSharedFacet)(hu)]);return a.createElement(GT,{role:"noticeTint"},a.createElement(GT.Text,null,e(".text")),a.createElement(GT.Link,{"data-testId":"multiplayer-link",onClick:t},e(".learnMore")))}function KW({location:e}){const{t}=ec("notLoggedInWarning"),n=Yr(),r=Ju();return a.createElement(GT,{role:"noticeTint"},a.createElement(GT.Text,null,function(e){const{t}=ec("notLoggedInWarning.playScreen.message"),{t:n}=ec("notLoggedInWarning.startFromTemplateScreen.message");switch(e){case jW.PlayScreen_Servers:return t(".servers");case jW.TemplatesScreen_MarketplacePass:return n(".marketplacePass");case jW.TemplatesScreen_Featured:return n(".featured");case jW.Realms_PlanPicker:case jW.Realms_PDP:case jW.PlayScreen_Realms:return t(".realms")}}(e)),a.createElement(GT.Link,{"data-testId":`log-in-link-${e}`,onClick:()=>{r({screen:`${XW(e)}`,button:"SignIn"}),n.replace(`/sign-in?signInSource=${function(e){switch(e){case jW.PlayScreen_Realms:case jW.PlayScreen_Servers:return"PlayScreen";case jW.TemplatesScreen_MarketplacePass:case jW.TemplatesScreen_Featured:return"TemplatesScreen";case jW.Realms_PlanPicker:return"RealmsPlanPicker";case jW.Realms_PDP:return"RealmsPDP"}}(e)}_NotLoggedInWarning_OreUI`)}},t(".loginLink")))}function XW(e){switch(e){case jW.PlayScreen_Realms:return"RealmsTab";case jW.PlayScreen_Servers:return"ServersTab";case jW.TemplatesScreen_MarketplacePass:case jW.TemplatesScreen_Featured:return"TemplatesScreen";case jW.Realms_PlanPicker:return"RealmsPlanPicker";case jW.Realms_PlanPicker:return"RealmsPDP"}}function YW({tab:e}){const t=WW(),n=function(e){switch(e){case zW.ServersTab:return jW.PlayScreen_Servers;case zW.RealmsTab:return jW.PlayScreen_Realms;case zW.RealmsPlanPicker:return jW.Realms_PlanPicker;case zW.RealmsPDP:return jW.Realms_PDP}}(e);return a.createElement("div",null,a.createElement(wl,{data:t},(t=>{switch(t){case"msa-guest-nintendo":case"msa-guest-with-premium-nintendo":return a.createElement(HW,{accountAndPlatform:BW.MsaNintendo,location:e});case"msa-guest-playstation":case"msa-guest-with-premium-playstation":return a.createElement(HW,{accountAndPlatform:BW.MsaPlaystation,location:e});case"platform-guest-nintendo":return a.createElement(HW,{accountAndPlatform:BW.PlatformNintendo,location:e});case"platform-guest-playstation":return a.createElement(HW,{accountAndPlatform:BW.PlatformPlaystation,location:e});case"no-premium-subscription-nintendo":return a.createElement(GW,{platform:UW.Nintendo,location:e});case"no-premium-subscription-playstation":return a.createElement(GW,{platform:UW.Playstation,location:e});case"multiplayer-disabled":return a.createElement($W,null);case"not-signed-in":return a.createElement(KW,{location:n});default:return null}})))}function qW(){const{t:e}=ec("RealmsPDPScreen"),t=WW(),n=(0,r.useSharedFacet)(hu),l=(0,r.useFacetMap)(((e,t)=>!e.isLoggedInWithMicrosoftAccount||"not-signed-in"!==t),[],[n,t]),o=(0,r.useFacetMap)(((e,t)=>!t&&e.userPermissions.multiplayer.denyReasons.includes(fu.XboxLive_Parental)),[],[n,l]),i=(0,r.useSharedFacet)(pi),c=(0,r.useFacetMap)(((e,t)=>e||t),[],[i,l]);return a.createElement(sr,{collection:LD},a.createElement(AP,{screenAnalyticsId:"Realms-PDP",gamepadAlias:"realms-pdp",title:e(".title"),delegateByAlias:xW},(()=>a.createElement(Yv,null,a.createElement(Yv.Row,{fullHeight:!0},a.createElement(Yv.Column,{wideSize:12,narrowSize:8},a.createElement(r.Mount,{when:o},a.createElement(a.Fragment,null,a.createElement(DW,{variant:"parental"}),a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:2})}))),a.createElement(r.Mount,{when:o,condition:!1},a.createElement(NW,{header:a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(r.Mount,{when:i},a.createElement(a.Fragment,null,a.createElement(RW,null),a.createElement(om,{size:2}))),a.createElement(r.Mount,{when:l},a.createElement(a.Fragment,null,a.createElement(YW,{tab:zW.RealmsPDP}),a.createElement(om,{size:2})))),footer:a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:2})}),hideUpsellButton:c}))))))))}!function(e){e[e.MsaPlaystation=0]="MsaPlaystation",e[e.MsaNintendo=1]="MsaNintendo",e[e.PlatformPlaystation=2]="PlatformPlaystation",e[e.PlatformNintendo=3]="PlatformNintendo"}(BW||(BW={})),function(e){e[e.Playstation=0]="Playstation",e[e.Nintendo=1]="Nintendo",e[e.Xbox=2]="Xbox"}(UW||(UW={})),function(e){e.ServersTab="servers",e.RealmsTab="realms",e.RealmsPlanPicker="realmsPlanPicker",e.RealmsPDP="realmsPDP"}(zW||(zW={})),function(e){e.PlayScreen_Realms="play-realms",e.PlayScreen_Servers="play-servers",e.TemplatesScreen_MarketplacePass="templates-marketplace-pass",e.TemplatesScreen_Featured="templates-featured",e.Realms_PlanPicker="realms-plan-picker",e.Realms_PDP="realms-pdp"}(jW||(jW={}));function QW({qrCodeSrc:e,foregroundColor:t="",backgroundColor:n=""}){const l=(0,r.useFacetWrap)(e),o=(0,r.useFacetWrap)(t),i=(0,r.useFacetWrap)(n),c=(0,r.useFacetMap)(((e,t,n)=>(e.startsWith("qr://")&&(t||(t=encodeURIComponent(po)),n||(n=encodeURIComponent(yo)),e+=`?foregroundColor=${t}&backgroundColor=${n}`),e)),[],[l,o,i]);return a.createElement(Mp,{aspectRatio:{height:1,width:1},imageRendering:"pixelated",className:"zEADj",src:c})}const JW="AddFriends";function ZW(){const{t:e}=ec("AddFriendSideMenu.narration"),t=sd(),n=(0,r.useSharedFacet)(Oc),l=(0,r.useSharedFacet)(hu),o=(0,r.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,"")}),[],[n,l]);o();const i=Gk(),c=(0,r.useFacetMap)((t=>{let n="";return t&&(""!=t.data.xblName&&(n=t.data.xblName),""!=t.data.platformName&&(n=t.data.platformName),""!=t.data.offlineName&&(n=t.data.offlineName)),[n,null!=t?t.data.realName:null,e(".group")].join(" . ")}),[e],[i]);return a.createElement(Ef,{floating:!0},a.createElement("div",{className:""+("desktop"===t?"qCwOF":"")},a.createElement(RP,{narrationPrefix:c},a.createElement(eB,null))))}function eB(){const{t:e}=ec("AddFriendSideMenu"),{t}=ec("AddFriendSideMenu.narration"),n=Gk(),l=Ju(),o=(0,r.useSharedFacet)(gi),i=(0,r.useSharedFacet)(js),c=(0,r.useSharedFacet)(uc),s=(0,r.useSharedFacet)(il),u=(0,r.useFacetMap)((e=>{if(e){if(""!=e.data.xblName)return e.data.xblName;if(""!=e.data.platformName)return e.data.platformName;if(""!=e.data.offlineName)return e.data.offlineName}return""}),[],[n]),d=(0,r.useFacetCallback)(((t,n,a,r)=>()=>{null!=t&&(t.state.xblState||t.state.platformState)&&(n.copyToClipboard(r),a.queueSnackbar(e(".gamertagCopied"))),l({button:"CopyGamertag",screen:JW})}),[e,l],[n,o,c,u]),m=(0,r.useFacetMap)((e=>e.isShareSupported),[],[i]),p=(0,r.useFacetMap)((e=>!Qw(e.platform)),[],[s]),f=(0,r.useFacetCallback)(((t,n,a)=>()=>{t.share(a,e(".shareText"),null!=n?n.data.url:""),l({button:"ShareProfile",screen:JW})}),[e,l],[i,n,u]),g=(0,r.useFacetMap)(((e,n)=>t(".QRHint",[n])),[t],[n,u]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>null!=e&&e.state.xblState===Ic.Loaded),[],[n])},a.createElement(a.Fragment,null,a.createElement(RP.Item,null,a.createElement(RP.ItemMain,null,a.createElement(em.Maybe,{classNameFocused:Zm,className:"RbtL1",isInteractive:ia(),narrationText:g},a.createElement(Jm,null),a.createElement(QW,{qrCodeSrc:(0,r.useFacetMap)((e=>null!=e?e.data.qrCode:""),[],[n])})))),a.createElement(om,{size:2}),a.createElement(RP.Item,null,a.createElement(fm,{type:"header5B",align:"center"},(0,r.useFacetMap)(((e,t)=>t),[],[n,u])),a.createElement(fm,{type:"captionShort",variant:"dimmer",align:"center"},(0,r.useFacetMap)((e=>null!=e?e.data.realName:""),[],[n]))))),a.createElement(om,{size:1}),a.createElement(r.Mount,{when:m},a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(RP.Item,null,a.createElement(mg,{inputLegend:e(".shareButton"),variant:"hero",linebreak:!0,narrationSuffix:[t(".buttonSiblings",["1","2"]),e(".shareButtonHint")].join(" . "),onClick:f},e(".shareButton"))))),a.createElement(r.Mount,{when:p},a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(RP.Item,null,a.createElement(mg,{inputLegend:e(".copyGamertagButton"),narrationSuffix:[t(".buttonSiblings",["2","2"]),e(".copyGamertagButton")].join(" . "),variant:"secondary",linebreak:!0,onClick:d},e(".copyGamertagButton"))))))}const tB=n.p+"assets/qr-code-icon-cdeea.png",nB="searchByGamertag";function aB({searchQuery:e,onSearchQueryChange:t,searchResultsLength:n,searchResultsState:l}){const{t:o}=ec("AddFriendSearchByGamertag"),{t:i}=ec("AddFriendSearchByGamertag.narration"),c=Fr("neutral"),[s,u]=(0,r.useFacetState)("");(0,r.useFacetEffect)(((e,t,n)=>{if("loading"!==n){const n=[i(".searchBar")];e&&n.push(e),n.push(i(".searchGamertagHint")),t>0?n.push(1===t?i(".singularResult"):i(".pluralResults",[t.toString()])):0===t&&n.push(i(".noResults"),i(".emptyState"),i(".refineSearch")),u(n.join(" . "))}}),[i,u],[e,n,l]);const d=(0,r.useFacetWrap)(!1),m=Se();return(0,a.useEffect)((()=>{requestAnimationFrame((()=>{m(nB)}))}),[m]),a.createElement("div",null,a.createElement(Kf,{className:Dr()("bydU_",c.border.base,c.background.base)},a.createElement(Yf,{disabled:!0},o(".searchGamertagDescription")),a.createElement(om,{size:2}),a.createElement("div",{className:"XTqtC"},a.createElement(Vf,{gamepadAlias:nB,narrationText:s,placeholderIcon:Hf.MagnifyingGlass,placeholder:o(".searchGamertag"),gamepadIndex:0,value:e,"data-testid":o(".searchGamertag"),onChange:t}),a.createElement(r.Mount,{when:d},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement($v.Divider,null),a.createElement(om,{size:2}),a.createElement("div",{className:"i3br0"},a.createElement(mg,{variant:"secondary",imgSrc:tB,inputLegend:o(".search"),narrationPrefix:i(".searchByQR")}))))),a.createElement(cp,{effect:"bevel"})))}function rB({item:e,index:t,listLength:n,onAdditionalActionClick:l,disabled:o,gamepadAlias:i,profileEntryPoint:c,grayscaleAvatarWhenOffline:s=!1,screenAnalyticsId:u=""}){const{t:d}=ec("PlayerListItem"),{t:p}=ec("PlayerListItem.narration"),f=m(),g=(0,r.useFacetWrap)(t),E=(0,r.useFacetMap)((e=>e.xuid),[],[e]),h=(0,r.useFacetMap)((e=>e.gamerTag),[],[e]),v=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.gamerIcon)&&void 0!==t?t:""}),[],[e]),b=(0,r.useFacetMap)((e=>e.playingOnServerId),[],[e]),y=$w(),F=(0,r.useFacetCallback)((e=>()=>{y(c),null!=e.platformId?f.push($I(e.platformId)):f.push(GI(e.xuid))}),[f,y,c],[e]),S=(0,r.useSharedFacet)(hu),C=lk(),M=Sk(e,"PlayerListItem"),w=(0,r.useFacetMap)((({variant:e})=>"added-not-mutual"===e?"added-status":"added-mutual"===e?"friends-status":"none"),[],[e]),k=(0,r.useFacetWrap)(o),T=(0,r.useFacetMap)((({variant:e},t)=>"sent-request"===e||"received-request"===e||null!=t&&t),[],[e,k]),I=(0,r.useFacetMap)((({variant:e,playingOnServerId:t},n,a)=>"player"===e&&null!=t&&n.userPermissions.multiplayer.allowed&&!a?"join":"sent-request"===e?"delete-request":"received-request"===e?"accept-reject-request":"add-friend"===e&&n.userPermissions.addFriends.allowed?"add-friend":"none"),[],[e,S,C]),P=(0,r.useFacetMap)((({variant:e},t,n,a,r,{status:l},o)=>{const i=[];let c=l,s="";switch(e){case"sent-request":c=p(".sentRequest");break;case"received-request":c=p(".receivedRequest");break;case"added-mutual":s=p(".addedMutual");break;case"added-not-mutual":s=p(".addedNotMutual")}return i.push(t,c,p(r?".listItemRole":".buttonRole"),p(".itemOrderContext",[`${o+1}`,`${n}`])),r||i.push(s,p(".playerProfileHint")),"none"!==a&&i.push(p(".additionalActionsHint")),i.join(" . ")}),[p],[e,h,n,I,T,M,g]),x=Se(),O=(0,r.useFacetCallback)((e=>()=>{l&&l(),x(e)}),[x,l],[(0,r.useFacetWrap)(i)]),A=(0,r.useFacetMap)((e=>e.location),[],[e]);return a.createElement(TM,null,a.createElement(TM.Action,{narrationText:P,inputLegend:d(".viewProfile"),onClick:F,gamepadAlias:i,disabled:T},a.createElement(TM.Cell,{direction:"row"},a.createElement(Ow,{variant:"large",src:v,status:(0,r.useFacetMap)((({avatar:e})=>e),[],[M]),grayscaleAvatar:(0,r.useFacetMap)((({avatar:e},t)=>"offline"===e&&t),[],[M,(0,r.useFacetWrap)(s)]),shouldShowNewStatus:!0})),a.createElement(TM.Main,null,a.createElement(fm,{type:"body"},a.createElement(am,null,h)),a.createElement(fm,{type:"captionShort",variant:"dimmer"},(0,r.useFacetMap)((({status:e})=>e),[],[M]))),a.createElement(wl,{data:w},(e=>{switch(e){case"added-status":return a.createElement(sB,{text:d(".added"),Icon:Nf});case"friends-status":return a.createElement(sB,{text:d(".friends"),Icon:Nf});default:return a.createElement(a.Fragment,null)}}))),a.createElement(wl,{data:I},(e=>{switch(e){case"none":return a.createElement(a.Fragment,null);case"join":return a.createElement(lB,{playingOnServerId:b,onClickAdditionalAction:O,screenAnalyticsId:u});case"delete-request":return a.createElement(oB,{onClickAdditionalAction:O});case"accept-reject-request":return a.createElement(iB,{playerId:E,onClickAdditionalAction:O});case"add-friend":return a.createElement(cB,{playerId:E,onClickAdditionalAction:O,location:A,index:g,listLength:n})}})))}function lB({playingOnServerId:e,onClickAdditionalAction:t,screenAnalyticsId:n}){const{t:l}=ec("PlayerListItem"),{t:o}=ec("PlayerListItem.narration"),i=Ju(),c=(0,r.useSharedFacet)(il),s=mk((0,r.useFacetMap)((e=>null!=e?e:""),[],[e])),u=vk.useModal(),d=(0,r.useFacetCallback)((e=>()=>{i({screen:n,button:"Join"}),e.onlyCellularAvailable&&e.showCellularDataFee?u.show():(s(),t&&t())}),[s,u,t,i,n],[c]),m=(0,r.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0,s(),t&&t()}),[s,t],[(0,r.useSharedFacet)(pc)]);return a.createElement(a.Fragment,null,a.createElement(TM.AdditionalAction,{narrationText:[o(".joinFriend"),o(".buttonRole")].join(" . "),inputLegend:l(".select"),onClick:d,testId:"player-list-item-join-button"},a.createElement(Rw,null),a.createElement(om,{size:1}),a.createElement(fm,{type:"captionShort"},a.createElement(am,null,l(".join")))),a.createElement(r.Mount,{when:u.isVisible},a.createElement(vk.Component,{onClose:u.hide,joinServer:m})))}function oB({onClickAdditionalAction:e}){const{t}=ec("PlayerListItem"),{t:n}=ec("PlayerListItem.narration"),r=(0,a.useCallback)((()=>{e&&e()}),[e]);return a.createElement(TM.AdditionalAction,{inputLegend:t(".select"),onClick:r,narrationText:[n(".delete"),n(".buttonRole")].join(" . ")},a.createElement(TM.Cell,{align:"center"},a.createElement(Dw,null),a.createElement(om,{size:1}),a.createElement(fm,{align:"center",type:"captionTiny"},t(".delete"))))}function iB({playerId:e,onClickAdditionalAction:t}){const{t:n}=ec("PlayerListItem"),l=(0,r.useSharedFacet)(Ai),o=(0,r.useFacetCallback)(((e,n)=>()=>{e.acceptRequest(n),t&&t()}),[t],[l,e]),i=(0,r.useFacetCallback)(((e,n)=>()=>{e.rejectRequest(n),t&&t()}),[t],[l,e]);return a.createElement(a.Fragment,null,a.createElement(TM.AdditionalAction,{inputLegend:n(".select"),onClick:o,narrationText:[n(".accept"),n(".buttonSiblings",["1","2"])].join(" . "),testId:"player-list-item-accept-button"},a.createElement(TM.Cell,{align:"center"},a.createElement(Nf,null),a.createElement(om,{size:1}),a.createElement(fm,{align:"center",type:"captionTiny"},n(".accept")))),a.createElement(TM.AdditionalAction,{inputLegend:n(".select"),onClick:i,narrationText:[n(".reject"),n(".buttonSiblings",["2","2"])].join(" . "),testId:"player-list-item-reject-button"},a.createElement(TM.Cell,{align:"center"},a.createElement(Np,null),a.createElement(om,{size:1}),a.createElement(fm,{align:"center",type:"captionTiny"},n(".reject")))))}function cB({playerId:e,onClickAdditionalAction:t,location:n,index:l,listLength:o}){const{t:i}=ec("PlayerListItem"),{t:c}=ec("PlayerListItem.narration"),s=(0,r.useFacetCallback)(((e,n,a)=>()=>{null!=a&&n.addFriend(e,a),t&&t()}),[t],[e,(0,r.useSharedFacet)(_c),n]),u=(0,r.useFacetMap)(((e,t,n)=>{const a=[i(".addButtonText"),c(".buttonRole")];return n===Rc.ADDFRIENDS_SEARCH&&a.push(i(".narrationItemOrderContext",[`${e+1}`,`${t}`])),a.join(" . ")}),[c,i],[l,o,n]);return a.createElement(TM.AdditionalAction,{inputLegend:i(".addButtonInputLegend"),onClick:s,narrationText:u,testId:"player-list-item-add-button"},a.createElement(TM.Cell,{align:"center"},a.createElement(Uw,null),a.createElement(om,{size:1}),a.createElement(fm,{align:"center",type:"captionShort"},i(".addButtonText"))))}function sB({Icon:e,text:t}){return a.createElement(TM.Cell,{direction:"row"},a.createElement(e,null),a.createElement(om,{size:2}),a.createElement(fm,{variant:"dimmer",type:"captionShort"},t),a.createElement(om,{size:1}))}let uB;function dB({title:e,players:t,accordionId:n,scrollViewRef:l,position:o,expandedDefaultState:i=!1,collapsible:c=!0,addFriendLocation:s,profileEntryPoint:u}){const{t:d}=ec("AddFriendAccordion"),{t:m}=ec("AddFriendAccordion.narration"),p=Ju(),f=d(`.${e}`),g=(0,r.useFacetMap)((e=>e.length),[],[t]),[E,h]=(0,r.useFacetState)(0),v=(0,r.useFacetMap)(((e,t)=>e.slice(0,t)),[],[t,E]),b=(0,r.useFacetMap)(((e,t)=>e.length<=t),[],[t,E]),y=Se(),F=(0,a.useCallback)(((e=!1)=>{h((e=>e===r.NO_VALUE?e:e+5)),!1===e&&p({button:"LoadMoreResults",screen:JW})}),[h,p]);(0,a.useEffect)((()=>{F(!0)}),[F]);const S=(0,a.useRef)(null),C=lt(),M=(0,r.useFacetCallback)((e=>()=>{y(n),e&&l&&l.current&&S.current&&(l.current.scrollTop=S.current.offsetTop+8),p({button:"BackToTop",screen:JW})}),[n,y,l,p],[C]),w=(0,r.useFacetMap)((t=>{const n=[m(".enumeration",[`${o[0]}`,`${o[1]}`])];return t.length>0?n.push(m(`.${e}Suggestions`,[`${t.length}`])):n.push(m(".noSuggestionsFound"),m(`.noSuggestionsMessage${e}`)),n.join(" . ")}),[o,m,e],[t]),k=(0,r.useFacetMap)((e=>e.length>5),[],[t]),T=(0,r.useFacetMap)((e=>0===e.length),[],[t]);return a.createElement("div",{ref:S,id:n},a.createElement(om,{size:2}),a.createElement(ey,{label:f,count:e!=uB.recommendedFriends?g:void 0,expandedDefaultState:i,narrationHint:w,onExpandNarrationHint:d(".genericOnExpandNarrationHint"),gamepadAlias:n,alwaysShowHint:!0,collapsible:c},a.createElement("div",{className:"C15if"},a.createElement(r.Mount,{when:T,condition:!1},a.createElement(r.Map,{array:v},((e,t)=>a.createElement(mB,{player:e,accordionId:n,index:t,visiblePlayers:v,addFriendLocation:s,profileEntryPoint:u})))),a.createElement(r.Mount,{when:T,condition:!0},a.createElement(pB,{accordionType:e})),a.createElement(r.Mount,{when:k},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement("div",{className:"IsVhy"},a.createElement(mg,{gamepadIndex:2,horizontal:!0,narrationSuffix:m(".enumeration",["1","2"]),inputLegend:d(".backToTop"),onClick:()=>{M()}},d(".backToTop")),a.createElement(FT.ButtonSpacing,null),a.createElement(mg,{gamepadIndex:3,horizontal:!0,inputLegend:d(".loadMoreResults"),narrationSuffix:m(".enumeration",["2","2"]),onClick:()=>{F(!1)},gamepadAlias:n+"LoadMore",disabled:b},d(".loadMoreResults"))))))))}function mB({player:e,accordionId:t,index:n,visiblePlayers:l,addFriendLocation:o,profileEntryPoint:i}){const c=Ju(),[s,u]=(0,r.useFacetState)(!1);(0,r.useFacetEffect)((e=>u(e.isFollowedByMe)),[u],[e]);const d=(0,r.useFacetMap)((e=>function(e,t){return e.gamertag+e.xuid+t}(e,t)),[t],[e]),m=Se(),p=(0,r.useFacetMap)((e=>e.length),[],[l]),f=(0,r.useFacetCallback)(((e,t)=>()=>{const a=5*(Math.ceil(e.length/5)-1);n===a&&e.length>5&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{m(t)}))}))}),[m,n],[l,d]);(0,a.useEffect)((()=>{f()}),[f]);const g=(0,r.useFacetCallback)((()=>()=>{u(!0),c({button:"AddFriend",screen:JW})}),[u,c],[]),E=(0,r.useFacetMap)(((e,t,n)=>{let a="add-friend";return(null==n?void 0:n.data.xuid)===e.xuid&&(a="self"),(e.isFollowedByMe||t)&&(a=e.isFollowingMe?"added-mutual":"added-not-mutual"),{gamerIcon:e.gamerIcon,gamerTag:e.gamertag,xuid:e.xuid,variant:a,location:o,favoriteStatus:Tc.NOT_FAVORITE,presenceMessage:"",presence:Pc.Unknown,titleName:""}}),[o],[e,s,Gk()]);return a.createElement(rB,{item:E,index:n,gamepadAlias:d,onAdditionalActionClick:g,listLength:p,profileEntryPoint:i})}function pB({accordionType:e}){const{t}=ec("AddFriendAccordionEmptyPanel"),n=Fr("neutral80");return a.createElement(Kf,{compact:!0,className:Dr()(n.border.base,n.background.base,"p6FFj")},a.createElement(om,{size:3}),a.createElement(fm,{type:"body",align:"center"},t(".noSuggestionsFound")),a.createElement(om,{size:4}),a.createElement(fm,{type:"captionShort",variant:"dimmer",align:"center"},t(`.${e}`)),a.createElement(om,{size:3}))}!function(e){e.recommendedFriends="recommendedFriends",e.recentlyPlayedWith="recentlyPlayedWith",e.followers="followers",e.gamertagSearch="gamertagSearch"}(uB||(uB={}));const fB=n.p+"assets/search-error-image-32029.png",gB=n.p+"assets/parental-control-block-image-c827b.png",EB=n.p+"assets/blocked-adding-friends-image-f34cf.png",hB=n.p+"assets/load-error-image-8fa35.png",vB="KsiYT",bB="Q6j5_";let yB;function FB({errorType:e}){const t=(0,r.useFacetWrap)(e),{t:n}=ec("AddFriendError"),l=(0,r.useFacetCallback)((e=>()=>{e.openLink(bu.ParentPermissionHelpPage)}),[],[(0,r.useSharedFacet)(yu)]),o=Db({wide:8,narrow:6,width:260});return a.createElement(wl,{data:t},(e=>{switch(e){case yB.LoadError:return a.createElement(cb,{title:n(".loadErrorTitle"),text:n(".loadErrorMessage"),buttons:[{text:n(".tryAgain"),onClick:()=>{}}],imgSrc:hB,imgClass:o?vB:bB});case yB.ParentalControlError:return a.createElement(cb,{title:n(".parentalControlBlockTitle"),text:n(".parentalControlBlockMessage"),buttons:[{imgSrc:tP.imgSrc,text:n(".learnMore"),onClick:l}],imgSrc:gB,imgClass:o?vB:bB});case yB.BlockedAddingFriendsError:return a.createElement(cb,{title:n(".blockedAddingFriendsTitle"),text:n(".blockedAddingFriendsMessage"),buttons:[{imgSrc:tP.imgSrc,text:n(".learnMore"),onClick:l}],imgSrc:EB,imgClass:bB});case yB.SearchError:return a.createElement(cb,{title:n(".searchErrorTitle"),text:n(".searchErrorMessage"),imgSrc:fB,imgClass:bB});default:return a.createElement("div",null)}}))}!function(e){e[e.NoError=-1]="NoError",e[e.SearchError=0]="SearchError",e[e.LoadError=1]="LoadError",e[e.ParentalControlError=2]="ParentalControlError",e[e.BlockedAddingFriendsError=3]="BlockedAddingFriendsError"}(yB||(yB={}));const SB={columnsContainer:"DnCO_",spinnerContainer:"winnS"};function CB(){const{t:e}=ec("AddFriendRoute"),t=(0,r.useSharedFacet)(xs),n=(0,r.useSharedFacet)(Ps),l=(0,r.useSharedFacet)(xi),o=(0,r.useSharedFacet)(Ni),i=(0,r.useFacetMap)((e=>e.playerList),[],[t]),c=(0,r.useFacetMap)((e=>e.playerList),[],[n]),s=(0,r.useFacetMap)((e=>e.playerList),[],[l]),u=(0,r.useFacetMap)((e=>e.searchResults),[],[o]),d=(0,a.useRef)(null),[m,p]=(0,r.useFacetState)(""),[f,g]=(0,r.useFacetState)(!1),E=(0,a.useRef)(null),h=(0,r.useFacetCallback)((e=>t=>{g(!0),p(t),E.current&&clearTimeout(E.current),E.current=setTimeout((()=>{e.search(t),E.current=null,g(!1)}),500)}),[E,p,g],[o]),v=(0,r.useFacetMap)(((e,t)=>e.isLoading||t),[],[o,f]),b=(0,r.useFacetMap)(((e,t,n)=>e.length>=3||t.searchResultsOverride||n),[],[m,o,v]),y=(0,r.useFacetMap)(((e,t,n)=>e.isLoading||t.isLoading||n.isLoading),[],[t,n,l]),F=[{title:uB.recommendedFriends,players:i,accordionId:"recommendedFriendsAccordionId",expandedDefaultState:!0,location:Rc.ADDFRIENDS_RECOMMENDEDFRIENDS,profileEntryPoint:xc.AddFriends_RecommendedFriends},{title:uB.recentlyPlayedWith,players:c,accordionId:"recentlyPlayedWithAccordionId",expandedDefaultState:!1,location:Rc.ADDFRIENDS_RECENTLYPLAYEDWITH,profileEntryPoint:xc.AddFriends_RecentlyPlayedWith},{title:uB.followers,players:s,accordionId:"followersAccordionId",expandedDefaultState:!1,location:Rc.ADDFRIENDS_FOLLOWERS,profileEntryPoint:xc.AddFriends_Followers}],S=a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:y,condition:!1},a.createElement(a.Fragment,null,F.map(((e,t)=>a.createElement(dB,{key:e.title,title:e.title,players:e.players,accordionId:e.accordionId,scrollViewRef:d,position:[t+1,F.length],expandedDefaultState:e.expandedDefaultState,addFriendLocation:e.location,profileEntryPoint:e.profileEntryPoint}))))),a.createElement(r.Mount,{when:y,condition:!0},a.createElement("div",{className:SB.spinnerContainer},a.createElement(ff,null)))),C=(0,r.useFacetMap)((e=>e.xboxAPICallResult===cu.Success),[],[o]),{narrateText:M}=gf(),w=(0,a.useRef)(!1),k=(0,a.useRef)(!1),T=(0,r.useFacetMap)(((e,t,n)=>e?"loading":t?0===n.length?"no-results":"results":"API-error"),[],[v,C,u]),I=(0,r.useFacetMap)(((e,t)=>"results"===t||"no-results"===t?e.length:-1),[],[u,T]);(0,r.useFacetEffect)(((t,n,a)=>{if(n.length>=3||a.searchResultsOverride)switch(t){case"API-error":k.current||M(`${e(".searchCantLoad")} . ${e(".error")} . ${e(".unknownError")}`),k.current=!0,w.current=!1;break;case"no-results":w.current||M(`${e(".noGamertagFound")} . ${e(".emptyState")} . ${e(".refineSearch")}`),w.current=!0,k.current=!1;break;case"results":k.current=!1,w.current=!1}}),[M,e],[T,m,o]);const P=a.createElement(wl,{data:T},(e=>{switch(e){case"loading":return a.createElement("div",{className:SB.spinnerContainer},a.createElement(ff,null));case"API-error":return a.createElement("div",null,a.createElement(om,{size:2}),a.createElement(FB,{errorType:yB.LoadError}));case"no-results":return a.createElement("div",null,a.createElement(om,{size:2}),a.createElement(FB,{errorType:yB.SearchError}));default:return a.createElement(dB,{title:uB.gamertagSearch,players:u,accordionId:"gamertagSearchAccordionId",scrollViewRef:d,position:[1,1],expandedDefaultState:!0,addFriendLocation:Rc.ADDFRIENDS_SEARCH,profileEntryPoint:xc.AddFriends_Search,collapsible:!1})}})),x=(0,r.useSharedFacet)(hu),O=(0,r.useFacetMap)((e=>e.userPermissions.addFriends.denyReasons.includes(fu.XboxLive_Parental)),[],[(0,r.useSharedFacet)(hu)]),A=(0,r.useFacetMap)(((e,t)=>t?yB.ParentalControlError:e.userPermissions.addFriends.allowed?yB.NoError:yB.BlockedAddingFriendsError),[],[x,O]),N=Se(),R=sd(),_=a.createElement(a.Fragment,null,a.createElement(Yv,{narrowBreakpointWidth:102},a.createElement(om,{size:2}),a.createElement(Yv.Row,{gamepadIndex:0,fullHeight:!0},a.createElement("div",{className:SB.columnsContainer},a.createElement(Yv.Column,{gamepadIndex:0,wideSize:4,narrowSize:3},a.createElement(ZW,null)),a.createElement(Yv.Column,{gamepadIndex:1,wideSize:8,narrowSize:5},"desktop"===R?a.createElement(om,{size:2}):"",a.createElement(aB,{searchQuery:m,onSearchQueryChange:h,searchResultsLength:I,searchResultsState:T}),a.createElement(Ef,{gamepadIndex:0,innerRef:d,delegateFocusFromMemory:!0},a.createElement("div",{className:"desktop"===R?SB.desktopMainMenu:SB.mainMenu},a.createElement(wl,{data:b},(e=>e?P:a.createElement("div",null,S))))),a.createElement(om,{size:4})))),a.createElement(iE.Space,null)),a.createElement(MB,{onClick:function(){N(nB)}})),L=a.createElement(Yv,{narrowBreakpointWidth:102},a.createElement(om,{size:3}),a.createElement(Yv.Row,{gamepadIndex:0,fullHeight:!0},a.createElement(Yv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},a.createElement(FB,{errorType:A}))),a.createElement(iE.Space,null),a.createElement(om,{size:4})),D=(0,r.useFacetMap)((e=>e!==yB.NoError),[],[A]);return a.createElement(AP,{title:e(".header"),screenAnalyticsId:"AddFriend",gamepadAlias:"add-friend-route",delegateByAlias:"add-friend-route"},(()=>a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:D,condition:!0},L),a.createElement(r.Mount,{when:D,condition:!1},_))))}function MB({onClick:e}){const{t}=ec("AddFriendRoute");return a.createElement(Cf,{onClick:e,options:(0,r.useFacetMap)((e=>({disabled:!e,button:j.Y,inputLegend:t(".search")})),[t],[nt()])})}function wB(){const e=sd(70,100);return Dr()({CTk4I:"narrow"==e,zZ1HH:"tablet"===e,mp4eP:"desktop"===e})}const kB=n.p+"assets/MCR_Logo_Primary-c83fa.png",TB=n.p+"assets/Marketplace-Error-8376f.png",IB=n.p+"assets/Realms-Missing-e89cb.png";function PB({children:e,disabled:t}){const n=kr();return a.createElement("div",{className:Dr()("jR6SA",{[n.disabled]:t})},a.createElement("div",{className:Dr()("ct_jw",{_jOan:!t})}),e)}function xB({isCorePlan:e,hasFreeTrial:t}){const{t:n}=ec("RealmsPlanPickerScreen"),l=ia(),o=e?"PDPCore":"PDPPlus",i=e?a.createElement(fm,{type:"body",align:"left",role:o},n(".featureLine0")):a.createElement(a.Fragment,null,a.createElement(fm,{type:"body",align:"left",role:o},n(".featureLine0Plus")+" "),a.createElement(om,{size:1}),a.createElement(fm,{type:"body",align:"left",role:o,variant:"dimmer"},n(".featureLine0PlusNum"))),c=(0,r.useFacetMap)((t=>[n(e?".featureNarrationCore":".featureNarrationPlus"),n(e?".featureLine0Narration":".featureLine0PlusNarration"),n(".featureLine1"),n(".featureLine2Narration"),n(".featureLine3"),n(".featureLine4"),n(".featureLine5Narration"),n(".featureLine6"),t&&!e?n(".featureLine7"):"",e?"":n(".featureLine8")].filter((e=>""!=e)).join(" . ")),[n,e],[t]);return a.createElement(em.Maybe,{isInteractive:l,narrationText:c,classNameFocused:Zm,gamepadAlias:"plan-picker-feature-list-text-block-"+(e?"core":"plus")},a.createElement(Jm,null),a.createElement("div",{className:"OTZ_a"},a.createElement(PB,null,i),a.createElement(fm,{type:"body",align:"left",role:o},a.createElement(PB,null,n(".featureLine1")),a.createElement(PB,null,n(".featureLine2")),a.createElement(PB,null,n(".featureLine3")),a.createElement(PB,null,n(".featureLine4")),a.createElement(PB,null,n(".featureLine5")),a.createElement(PB,null,n(".featureLine6"))),a.createElement(r.Mount,{when:t},a.createElement(PB,{disabled:e},a.createElement(fm,{type:"body",align:"left",role:o,disableable:!0},n(".featureLine7")))),a.createElement(PB,{disabled:e},a.createElement(fm,{type:"body",align:"left",role:o,disableable:!0},n(".featureLine8")))))}function OB({isLoading:e,narration:t,planTitle:n,button:r,children:l,reflectionRole:o}){const i=Fr("neutral"),c=Fr("informative");return a.createElement(wf,{text:t},a.createElement("div",{className:Dr()("pJBcK",i.border.base,c.background.base)},a.createElement(cp,{effect:"specular",role:o}),a.createElement(Mp,{src:kB,className:"Nv2tq"}),a.createElement("div",{className:"r1fl4"},a.createElement(fm,{type:"header5B",align:"center",role:o},n),a.createElement(om,{size:4}),a.createElement(wl,{data:e},(e=>e?a.createElement("div",{className:"SjBBo"},a.createElement(ff,null)):a.createElement(a.Fragment,null,r))),l)),a.createElement(om,{size:6}),a.createElement(iE.Space,null))}function AB(){const e=(0,r.useSharedFacet)(as),t=(0,r.useSharedFacet)(rs);(0,r.useFacetEffect)(((e,t)=>()=>{e.state===ns.IDLE&&t.initialize()}),[],[e,t]);const n=Tv(Ii.EnableRealmsOreUIPurchase),{t:l}=ec("RealmsPlanPickerScreen"),o=m(),i=(0,r.useSharedFacet)(ms),c=(0,r.useSharedFacet)(dc),s=(0,r.useFacetMap)((e=>e.coreSubscriptionPrice),[],[c]),u=(0,r.useFacetMap)((e=>l(".planCoreCardNarration",[e.coreSubscriptionPrice])),[l],[c]),d=(0,r.useFacetMap)((e=>e.plusSubscriptionPrice),[],[c]),p=(0,r.useFacetMap)((e=>l(".planRealmsPlusCardNarration",[e.plusSubscriptionPrice])),[l],[c]),f=(0,r.useFacetMap)(((e,t,n)=>!(n.state!==ns.DONE||!t.isFinishedQueryingProductsAndPurchases)&&e.isRealmsTrialAvailable&&t.isRealmsTrialOfferAvailable&&n.canBuyPlusRealm),[],[i,c,e]),g=function(){const e=(0,r.useSharedFacet)(as),t=(0,r.useSharedFacet)(dc),n=gW(),a=(0,r.useSharedFacet)(hu),l=WW();return(0,r.useFacetMap)(((e,t,n,a,r)=>{if(!a.isLoggedInWithMicrosoftAccount||"not-signed-in"!==r)return"show-account-state-banner";if(a.userPermissions.multiplayer.denyReasons.includes(fu.XboxLive_Parental))return"parental-online-safety";if(n===fW.ACTIVE||t.state!==ns.DONE)return"show-spinner";if(!e.isFinishedQueryingProductsAndPurchases)return"show-default";if(e.isFinishedQueryingProductsAndPurchases&&(""===e.coreSubscriptionPrice||""===e.plusSubscriptionPrice))return"show-prices-not-loaded";const l=!e.isRealmsCoreOfferAvailable||!t.canBuyCoreRealm,o=!e.isRealmsPlusOfferAvailable||!t.canBuyPlusRealm;return l&&o?"show-max-realms-subscriptions":l?"cannot-buy-core-realms":o?"cannot-buy-plus-realms":"show-default"}),[],[t,e,n,a,l])}(),E=(0,r.useFacetMap)((e=>"show-spinner"===e),[],[g]),h=(0,r.useFacetMap)((e=>"cannot-buy-core-realms"===e||"show-account-state-banner"===e),[],[g]),v=a.createElement(mg,{inputLegend:l(".buyButtonCore"),disabled:h,variant:"secondary",gamepadAlias:"buy-core-button",onClick:()=>{o.push(n?"/realms-purchase-subscription/core":"/realms-create-screen?offerTier=2player")},narrationSuffix:l(".buyButtonCoreNarrationHint")},l(".buyButtonCore")),b=(0,r.useFacetMap)((e=>"cannot-buy-plus-realms"===e||"show-account-state-banner"===e),[],[g]),y=a.createElement(wl,{data:f},(e=>a.createElement(mg,{disabled:b,inputLegend:l(!0===e?".buyRealmsPlusButtonTrial":".buyButtonPlus"),variant:!0===e?"primary":"secondary",gamepadAlias:"buy-realms-plus-button",onClick:()=>{o.push(n?e?"/realms-purchase-subscription/plus-free-trial":"/realms-purchase-subscription/plus":"/realms-plus-pdp?tab=default")},narrationSuffix:l(".buyButtonPlusNarrationHint")},l(!0===e?".buyRealmsPlusButtonTrial":".buyButtonPlus")))),F=e=>{const t=e?"PDPCore":"PDPPlus";return a.createElement(a.Fragment,null,a.createElement(fm,{type:"header5B",align:"center",role:t,variant:"stronger"},l(e?".priceCore":".pricePlus")),a.createElement(om,{size:4}),a.createElement(fm,{type:"header5B",align:"center",role:t,variant:"dimmer"},e?s:d),a.createElement(fm,{type:"header5B",align:"center",role:t},`/${l(".priceMonthly")}`))},S=wB(),C=(0,r.useFacetMap)((e=>"show-prices-not-loaded"===e?{title:l(".error.title"),body:l(".error.body"),image:TB}:{title:l(".emptyStates.maxedOutSubscriptions.title"),body:l(".emptyStates.maxedOutSubscriptions.body"),image:IB}),[l],[g]),M=(0,r.useFacetMap)((e=>"show-account-state-banner"===e),[],[g]),w=(0,r.useFacetMap)((e=>"cannot-buy-core-realms"===e||"cannot-buy-plus-realms"===e),[],[g]),k=(0,r.useFacetMap)((e=>l("cannot-buy-core-realms"===e?".banners.coreSubscriptionsLimit":".banners.plusSubscriptionsLimit")),[l],[g]);return a.createElement(sr,{collection:LD},a.createElement(AP,{screenAnalyticsId:"RealmsPlanPicker",gamepadAlias:"realms-plan-picker",title:l(".title"),delegateByAlias:"plan-picker-scrollview"},(()=>a.createElement(Ef,{gamepadAlias:"plan-picker-scrollview",delegateFocusByAlias:"buy-realms-plus-button"},a.createElement(wl,{data:g},(e=>{switch(e){case"parental-online-safety":return a.createElement(Yv,null,a.createElement(om,{size:2}),a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{wideSize:10,narrowSize:8},a.createElement(DW,{variant:"parental"}),a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:2})}))));case"show-prices-not-loaded":case"show-max-realms-subscriptions":return a.createElement(Yv,null,a.createElement(om,{size:2}),a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{wideSize:10,narrowSize:8},a.createElement(wl,{data:C},(e=>a.createElement(cb,{title:e.title,text:e.body,imgSrc:e.image,imgClass:S}))),a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:2})}))));default:return a.createElement(wf,{text:l(".titleNarrationHint")},a.createElement(Yv,null,a.createElement(om,{size:6}),a.createElement(r.Mount,{when:M},a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:12,narrowSize:8},a.createElement(YW,{tab:zW.RealmsPlanPicker}),a.createElement(om,{size:6})))),a.createElement(r.Mount,{when:w},a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:12,narrowSize:8},a.createElement(GT,{role:"noticeTint"},a.createElement(GT.Text,null,k)),a.createElement(om,{size:6})))),a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{wideSize:5,narrowSize:4},a.createElement(OB,{isLoading:E,narration:u,planTitle:F(!0),button:v,reflectionRole:"PDPCore"},a.createElement(xB,{isCorePlan:!0,hasFreeTrial:f}))),a.createElement(Yv.Column,{wideSize:5,narrowSize:4},a.createElement(OB,{isLoading:E,narration:p,planTitle:F(!1),button:y,reflectionRole:"PDPPlus"},a.createElement(xB,{isCorePlan:!1,hasFreeTrial:f}))),a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:2})}))))}}))))))}const NB=n.p+"assets/default-f0026.png";function RB(e,t){for(let n=0;n<e.images.length;n++){const a=e.images[n];if((null==a?void 0:a.id)===t)return a}return null}function _B(e,t){const n=RB(e,t);return n&&(null==n?void 0:n.nonAnimatedUrl.length)>0?null==n?void 0:n.nonAnimatedUrl:n&&n.isLoaded?NB:""}function LB(e,t){const n=RB(e,t);return n&&(null==n?void 0:n.animatedUrl.length)>0?null==n?void 0:n.animatedUrl:n&&n.isLoaded?NB:""}function DB(e,t){for(let n=0;n<e.buttons.length;n++){const a=e.buttons[n];if(null!=a&&a.id==t)return a}return null}function WB(e,t,n=""){const a=DB(e,t);return null!=a&&a.text.length>0?a.text:n}function BB(){const e=m();return(0,r.useFacetCallback)((t=>(n,a,r)=>{t.reportClick(n,a,r.id),r.action===hc.EXTERNAL?r.openExternalLink():r.action==hc.INTERNAL&&e.replace(r.link)}),[e],[(0,r.useSharedFacet)(yc)])}function UB({errorMessage:e,messageID:t}){const{t:n}=ec("AnnouncementModalRoute"),r=m();let l=String(n(".errorTitle"));const o=String(e);return null!=t&&(l+=" ID: "+t),a.createElement(wf,{text:l+o},a.createElement(vE,null,a.createElement(vE.Header,null,l),a.createElement(vE.Content,{focusableIfScrollable:!0},a.createElement(vE.Text,{gamepadIndex:0,narrationText:o},a.createElement(fm,{type:"captionLong",align:"left"},o))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:1,inputLegend:n(".confirmInputLegend"),variant:"secondary",onClick:()=>{r.goBack()}},n(".continue")))))}const zB="U_nrH";function jB({button:e}){return(null==e?void 0:e.action)==hc.EXTERNAL?a.createElement(a.Fragment,null,a.createElement(nM.ExternalLink,{role:"inherit"}),a.createElement(om,{size:2})):null}function HB({messageId:e,messageInstanceId:t,unlockButton:n,unlockButtonText:r,onApply:l,onDismiss:o,styleType:i,inputLegend:c,gamepadAlias:s}){const u=a.createElement(mg,{gamepadAlias:s,inputLegend:c,variant:"primary",Icon:()=>a.createElement(jB,{button:n}),onClick:()=>{l(e,t,n),o(e,t)}},r),d=i===vc.Realms?a.createElement(sr,{collection:LD},u):u;return a.createElement("div",{className:"H7AUx"},d)}const VB="CallToAction",GB="Primary",$B="Secondary";function KB({announcement:e}){const{t}=ec("AnnouncementModalRoute"),n=Yr(),l=(0,r.useFacetUnwrap)(e),o=BB(),i=(0,r.useFacetCallback)((e=>(t,n)=>{e(t,n)}),[],[(0,r.useSharedFacet)(Fc)]);if(l===r.NO_VALUE||null==l)return a.createElement(UB,{errorMessage:t(".errorNoMessage")});const c=l.header,s=l.body;if(null==s||null==c||!function(e){return"ImageThumbnailCTA"===e.template&&e.images.length>=2&&null!=DB(e,VB)}(l))return a.createElement(UB,{errorMessage:t(".errorInvalidTemplate")});const u=WB(l,"Dismiss",t(".continue")),d=DB(l,VB),m=WB(l,VB,t(".unlock")),p=_B(l,GB),f=LB(l,GB),g=_B(l,$B),E=LB(l,$B),h=()=>{i(l.id,l.instanceId),n.goBack()};return a.createElement(vE,null,a.createElement(vE.Header,{onClose:h},c),a.createElement(vE.Content,{focusableIfScrollable:!0},a.createElement("div",{className:"oSCgi"},a.createElement("div",{className:"j8BMW"},a.createElement("div",{className:"f2sqL"},a.createElement(iI,{gifSrc:f,imageSrc:p,className:zB,aspectRatio:Mp.AspectRatio["16:9"]})),a.createElement("div",{className:"Fhcnq"},a.createElement("div",{className:"iDAT_"},a.createElement(iI,{gifSrc:E,imageSrc:g,className:zB,aspectRatio:Mp.AspectRatio["16:9"]})),null!=d&&a.createElement(HB,{messageId:l.id,messageInstanceId:l.instanceId,unlockButton:d,unlockButtonText:m,onApply:o,onDismiss:i,styleType:l.style,inputLegend:t(".confirmInputLegend")}))),a.createElement(vE.Text,{gamepadIndex:2,narrationText:s},a.createElement("div",{className:"k1gtT"},a.createElement(fm,{type:"captionLong",align:"left",whiteSpace:"preWrap"},s))))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:3,inputLegend:t(".confirmInputLegend"),variant:"secondary",onClick:h},u)))}const XB="Primary";function YB({announcement:e}){const{t}=ec("AnnouncementModalRoute"),n=Yr(),l=(0,r.useFacetUnwrap)(e),o=(0,r.useFacetCallback)((e=>(t,n)=>{e(t,n)}),[],[(0,r.useSharedFacet)(Fc)]);if(l===r.NO_VALUE||null==l)return a.createElement(UB,{errorMessage:t(".errorNoMessage")});const i=l.header,c=l.body;if(null==c||null==i||!function(e){return"ImageText"===e.template&&e.images.length>=1}(l))return a.createElement(UB,{errorMessage:t(".errorInvalidTemplate")});const s=_B(l,XB),u=LB(l,XB),d=WB(l,"Dismiss",t(".continue")),m=()=>{o(l.id,l.instanceId),n.goBack()};return a.createElement(vE,null,a.createElement(vE.Header,{onClose:m},i),a.createElement(vE.Content,{focusableIfScrollable:!0},a.createElement("div",{className:"c2zWX"},a.createElement("div",{className:"NQe8O"},a.createElement(iI,{gifSrc:u,imageSrc:s,className:"f9XJI",aspectRatio:Mp.AspectRatio["16:9"]})),a.createElement(vE.Text,{gamepadIndex:0,narrationText:c},a.createElement("div",{className:"L5DW3"},a.createElement(fm,{type:"captionLong",align:"left",whiteSpace:"preWrap"},c))))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:1,inputLegend:t(".confirmInputLegend"),variant:"secondary",onClick:m},d)))}const qB="CallToAction",QB="Primary";function JB({announcement:e}){const{t}=ec("AnnouncementModalRoute"),n=m(),l=(0,r.useFacetUnwrap)(e),o=BB(),i=(0,r.useFacetCallback)((e=>(t,n)=>{e(t,n)}),[],[(0,r.useSharedFacet)(Fc)]);if(l===r.NO_VALUE||null==l)return a.createElement(UB,{errorMessage:t(".errorNoMessage")});const c=l.header,s=l.body;if(null==s||null==c||!function(e){return"HeroImageCTA"===e.template&&e.images.length>=1}(l))return a.createElement(UB,{errorMessage:t(".errorInvalidTemplate")});const u=WB(l,"Dismiss",t(".continue")),d=DB(l,qB),p=WB(l,qB,t(".unlock")),f=_B(l,QB),g=LB(l,QB),E=()=>{i(l.id,l.instanceId),n.goBack()},h=()=>a.createElement(jB,{button:d});return a.createElement(vE,null,a.createElement(vE.Header,{onClose:E},c),a.createElement(vE.Content,{focusableIfScrollable:!0},a.createElement("div",{className:"HGHq5"},a.createElement("div",{className:"taCiG"},a.createElement(iI,{gifSrc:g,imageSrc:f,className:"CL2fS",aspectRatio:Mp.AspectRatio["16:9"]})),a.createElement(vE.Text,{gamepadIndex:0,narrationText:s},a.createElement("div",{className:"FDtOo"},a.createElement(fm,{type:"captionLong",verticalAlign:"center",align:"left",role:"inherit",whiteSpace:"preWrap"},s))))),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{gamepadIndex:1,inputLegend:t(".confirmInputLegend"),variant:"secondary",onClick:E,horizontal:!0},u),null!=d&&a.createElement(om,{size:4}),null!=d&&function(e){const n=a.createElement(mg,{gamepadIndex:2,inputLegend:t(".confirmInputLegend"),variant:"primary",Icon:h,onClick:()=>{null!=d&&(o(e.id,e.instanceId,d),i(e.id,e.instanceId))},horizontal:!0},p);return e.style===vc.Realms?a.createElement(sr,{collection:LD},n):n}(l)))}const ZB={overlay:"QmX8X",container:"W_BNn",wrapper:"qOtiu",closeButton:"iQgIQ",modalBody:"Jc8cS",center:"obdZ3"};function eU({children:e,role:t="neutral80",className:n,fullWidth:l=!1}){const o=Fr(t),i=(0,r.useFacetMap)((e=>Dr()(ZB.container,{[ZB.fullWidth]:l},o.background.base,o.border.base,o.text.base,e)),[o,l],[(0,r.useFacetWrap)(n)]);return a.createElement("fast-div",{className:i},e)}const tU=e=>{e.stopPropagation()},nU=()=>{};function aU({children:e,className:t,narrationText:n,narrationSuffix:r,delegateFocusByAlias:l,onOverlayClick:o,onBack:i,role:c="neutral80"}){const{t:s}=ec("WideAnnouncementModal"),u=(0,a.useRef)(null),d=[n,s(".narration.modal"),r].join(" . "),m={button:j.B,inputLegend:s(".back")};return a.createElement(Xa,{role:c},a.createElement(Sf,{options:m,onClick:null!=i?i:nU}),a.createElement(rU,{onClick:o},a.createElement(eU,{role:c,className:Dr()(t,ZB.container),fullWidth:!1},a.createElement(wf,{text:d},a.createElement("fast-div",{ref:u,onClick:tU},a.createElement(Fp,{containerRef:u,delegateFocusByAlias:l,shouldBindFocus:!0,delegateFocusFromMemory:!0},e))))))}function rU({onClick:e,children:t,role:n="inherit"}){const r=Fr(n);return a.createElement("div",{className:Dr()(ZB.overlay,r.overlay.base),onClick:e},a.createElement("div",{className:ZB.wrapper},t,a.createElement(iE.Space,null)))}aU.Body=function({children:e,gamepadAlias:t,scrollable:n=!0,role:l="inherit",scrollbarBackgroundRole:o,scrollbarClassName:i,className:c,onCloseButtonClick:s,hideCloseButton:u=!1}){const d=Fr(l),m=(0,r.useFacetWrap)(u),{t:p}=ec("WideAnnouncementModal.narration"),f=[p(".close"),p(".button")].join(" . ");return a.createElement("div",{className:Dr()(d.background.base,ZB.modalBody)},a.createElement(cp,{effect:"specular"}),a.createElement("div",{className:Dr()(d.text,c)},n?a.createElement(Ef,{floating:!0,emptyFocusableGamepadAlias:t,scrollbarBackgroundRole:o,scrollbarClassName:i,focusControlDisabled:!0},e):e),a.createElement(r.Mount,{when:m,condition:!1},a.createElement(ep,{role:"inherit",inputLegend:p(".close"),narrationText:f,onClick:null!=s?s:nU,className:ZB.closeButton},a.createElement(Np,null))))},aU.Footer=function({children:e,role:t="inherit",className:n}){const l=Fr(t),o=(0,r.useFacetMap)((e=>Dr()(ZB.footer,l.background.base,l.border.base,l.text.base,e)),[l],[(0,r.useFacetWrap)(n)]);return a.createElement("fast-div",{className:o},a.createElement(cp,{effect:"bevel",left:!1,right:!1}),a.createElement("fast-div",{className:Dr()(ZB.center)},e))};const lU={modalNarrow:"HrTdk",modalTablet:"kEcja",modalDesktop:"H_d5w",modalBody:"UKenY",imageSlot:"EuXVb",imageSlotNarrow:"gCoVP",imageSlotTablet:"wMMys",imageSlotDesktop:"dF8pU",contentRow:"XPyiW",textContent:"ZFpFo",textContentNarrow:"hqgWU",textContentTablet:"tzTu1",textContentDesktop:"pfBKn",title:"jJxRB",bodyText:"ciFuP",bodyTextNarrow:"sJvwF",scrollBox:"XW1xM",scrollBar:"S9Dqi",footer:"UmD2o"},oU="CallToAction";function iU({announcement:e}){const{t}=ec("AnnouncementModalRoute");if(null==e)return a.createElement(UB,{errorMessage:t(".errorNoMessage")});const n=e.header;return null!=e.body&&null!=n&&function(e){return"ShowcaseAnnouncementCTA"===e.template&&1===e.images.length&&1===e.buttons.length||"ShowcaseAnnouncementNoCTA"===e.template&&1===e.images.length&&0===e.buttons.length}(e)?a.createElement(cU,{announcement:e}):a.createElement(UB,{errorMessage:t(".errorInvalidTemplate")})}function cU({announcement:e}){const{t}=ec("AnnouncementModalRoute"),n=sd(82),l=m(),o=(0,r.useFacetCallback)((e=>(t,n)=>{e(t,n)}),[],[(0,r.useSharedFacet)(Fc)]),i=BB(),c=(0,a.useCallback)((()=>{o(e.id,e.instanceId),l.goBack()}),[e,o,l]),s=(0,a.useRef)(null),u=(0,r.useFacetCallback)((()=>e=>{if(!e.repeat&&null!=s.current){const t=s.current;e.keyCode==pe.HOME?t.scrollTop=0:e.keyCode==pe.END&&(t.scrollTop=t.scrollHeight)}}),[s],[]);(0,a.useEffect)((()=>(window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u)})),[u]);const d=e.header,p=e.body,f=_B(e,"Primary"),g=DB(e,oU),E=WB(e,oU,t(".continue")),h=null!=g,v=Dr()({[lU.modalNarrow]:"narrow"===n,[lU.modalTablet]:"tablet"===n,[lU.modalDesktop]:"desktop"===n}),b=Dr()(lU.imageSlot,{[lU.imageSlotNarrow]:"narrow"===n,[lU.imageSlotTablet]:"tablet"===n,[lU.imageSlotDesktop]:"desktop"===n}),y=Dr()(lU.textContent,{[lU.textContentNarrow]:"narrow"===n,[lU.textContentTablet]:"tablet"===n,[lU.textContentDesktop]:"desktop"===n}),F=Dr()(lU.bodyText,{[lU.bodyTextNarrow]:"narrow"===n});return a.createElement(aU,{onOverlayClick:c,className:v,narrationText:d,narrationSuffix:p,delegateFocusByAlias:oU},a.createElement(aU.Body,{onCloseButtonClick:c,scrollable:!1,className:Dr()(lU.contentRow,lU.modalBody)},a.createElement("div",{className:b},a.createElement(iI,{className:lU.image,gifSrc:f,imageSrc:f,aspectRatio:{height:9,width:16}})),a.createElement(om,{size:5}),a.createElement("div",{className:y},a.createElement(fm,{type:"header5A",className:lU.title},d),a.createElement(om,{size:2}),a.createElement("div",{className:lU.scrollBox},a.createElement(Ef,{innerRef:s,emptyFocusableNarrationText:p,scrollbarClassName:lU.scrollBar,floating:!0},a.createElement(fm,{type:"captionLong",whiteSpace:"preWrap",className:F},p))))),h&&a.createElement(aU.Footer,{role:"neutral60",className:lU.footer},a.createElement(HB,{messageId:e.id,messageInstanceId:e.instanceId,unlockButton:g,unlockButtonText:E,onApply:i,onDismiss:o,styleType:e.style,inputLegend:t(".confirmInputLegend"),gamepadAlias:oU})))}function sU({template:e,message:t}){const{t:n}=ec("AnnouncementModalRoute"),l=(0,r.useFacetUnwrap)(e),o=(0,r.useFacetUnwrap)(t);if(l==r.NO_VALUE||o==r.NO_VALUE)return null;switch(l){case"ImageText":return a.createElement(YB,{announcement:o});case"ImageThumbnailCTA":return a.createElement(KB,{announcement:o});case"HeroImageCTA":case"HeroImageCTA_RealmsLink":return a.createElement(JB,{announcement:o});case"ShowcaseAnnouncementCTA":case"ShowcaseAnnouncementNoCTA":return a.createElement(iU,{announcement:o});default:return a.createElement(UB,{errorMessage:n(".errorUnsupportedTemplate")})}}function uU(){const{t:e}=ec("AnnouncementModalRoute"),t=qr(),n=(0,r.useSharedFacet)(Cc(t.id)),l=(0,r.useFacetMap)((e=>e.message),[],[n]),o=(0,r.useFacetMap)(((e,t)=>e.isLoaded&&null!=t),[],[n,l]),i=(0,r.useFacetMap)(((e,t)=>e.isLoaded&&null==t),[],[n,l]),c=(0,r.useFacetMap)((e=>null==e?void 0:e.template),[],[l]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:o},a.createElement(sU,{template:c,message:l})),a.createElement(r.Mount,{when:i},a.createElement(UB,{errorMessage:e(".errorNoMessage")})))}let dU;!function(e){e[e.PlayStation=0]="PlayStation",e[e.Nintendo=1]="Nintendo",e[e.Others=2]="Others"}(dU||(dU={}));const mU=Km((({variant:e,onClose:t})=>{const{t:n}=tc("RealmsMultiplayerPrivilegeBlockedModal"),l=(0,r.useSharedFacet)(yu),o=(0,r.useSharedFacet)(il),i=(0,r.useFacetMap)(((e,t)=>{switch(e){case dU.Nintendo:return n(".Platform_NintendoSwitch");case dU.PlayStation:return n(".Platform_PlayStation");default:return Yw(t.platform)?n(".others.xbox"):n(".others")}}),[n],[e,o]),c=(0,r.useFacetMap)((e=>e===dU.Others),[],[e]),s=(0,r.useFacetCallback)((e=>()=>{e.openLink(bu.ParentPermissionHelpPage)}),[],[l]);return a.createElement(vE,null,a.createElement(vE.Header,{onClose:t},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:i},i)),a.createElement(vE.Buttons,null,a.createElement(r.Mount,{when:c},a.createElement(a.Fragment,null,a.createElement(mg,{Icon:nM.ExternalLink,variant:"primary",inputLegend:n(".select"),onClick:s},n(".getHelp")),a.createElement(om,{size:2}))),a.createElement(mg,{variant:"secondary",inputLegend:n(".goBack"),onClick:t},n(".goBack"))))})),pU="aSExM",fU=n.p+"assets/realms-plus-banner-image-74c84.png",gU=n.p+"assets/realms-core-banner-image-d960f.png",EU=n.p+"assets/minecraft-realms-logo-5a448.png",hU=Km((({onClose:e,onConfirm:t})=>{const{t:n}=ec("HasMarketplacePassModal"),[l,o]=(0,r.useFacetState)(!1),i=(0,r.useFacetMap)((e=>!e),[],[l]),c=(0,a.useCallback)((()=>{t(),e()}),[e,t]);return a.createElement(vE,null,a.createElement(vE.Header,{onClose:e},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:!1},n(".body"))),a.createElement(vE.Checkbox,{onChange:o,title:n(".understand"),value:l}),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{inputLegend:n(".select"),onClick:e,horizontal:!0},n(".goBack")),a.createElement(om,{size:4}),a.createElement(mg,{inputLegend:n(".select"),onClick:c,variant:"primary",disabled:i,horizontal:!0},n(".purchase"))))})),vU=Km((({title:e,body:t,cancelAction:n,confirmAction:l})=>{const o="realm-purchase-error-close",{t:i}=ec("RealmsPurchaseSubscriptionRoute.ErrorModals"),c=$m(),s=(0,r.useFacetCallback)((e=>()=>{c(),e.onClick()}),[c],[n]),u=(0,r.useFacetMap)((e=>e.caption),[],[n]),d=(0,r.useFacetMap)((e=>""!==e.caption),[],[l]),m=(0,r.useFacetCallback)((e=>()=>{c(),e.onClick()}),[c],[l]),p=(0,r.useFacetMap)((e=>e.caption),[],[l]);return a.createElement(vE,{defaultFocusAlias:o},a.createElement(vE.Header,{onClose:s},e),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:t,center:!0},t)),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{gamepadAlias:o,inputLegend:i(".select"),variant:"secondary",onClick:s,horizontal:!0},u),a.createElement(r.Mount,{when:d},a.createElement(a.Fragment,null,a.createElement(om,{size:4}),a.createElement(mg,{gamepadAlias:"realm-purchase-error-confirm",inputLegend:i(".select"),variant:"primary",onClick:m,horizontal:!0},p)))))}));function bU(){const e=Fr("neutral"),t=Fr("neutral80"),{t:n}=ec("RealmsPurchaseSubscriptionRoute"),l="narrow"===sd(),o=(0,r.useSharedFacet)(dc),i=(0,r.useSharedFacet)(yu),c=f(),s=E(),u=(0,r.useSharedFacet)(Oc),d=(0,r.useSharedFacet)(hu),p=(0,r.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,"")}),[],[u,d]);p();const g=(0,r.useFacetMap)((e=>"core"!=e.subscription),[],[c]),h=(0,r.useFacetMap)((e=>"plus-free-trial"==e.subscription),[],[c]),v=Gk(),[b,y]=(0,r.useFacetState)("");(0,r.useFacetEffect)((e=>{const t=e.get("realmName");null!=t&&y(t)}),[y],[s]);const[F,S]=(0,r.useFacetState)(!1),C=(0,r.useFacetMap)((e=>!e),[],[F]),M=(0,r.useFacetMap)((e=>e?"":n(".checkboxUncheckedHint")),[n],[F]),w=(0,r.useFacetMap)((e=>e?"":[n(".purchaseButton.disabled"),n(".purchaseButton.disabled.hint")].join(" . ")),[n],[F]),k=(0,r.useFacetMap)((e=>{let t="";return null!=e?(""!==e.data.xblName&&(t=e.data.xblName),e.state.xblState===Ic.Loaded?n(".inputPlaceholder",[t]):""):""}),[n],[v]),T=(0,r.useFacetUnwrap)(k),I=(0,r.useFacetMap)(((e,t)=>t?e.plusSubscriptionTerms:e.coreSubscriptionTerms),[],[o,g]),P=(0,r.useFacetMap)(((e,t)=>t?e.plusSubscriptionTermsExtra:e.coreSubscriptionTermsExtra),[],[o,g]),x=(0,r.useFacetMap)((e=>""===e),[],[P]),O=(0,r.useFacetMap)(((e,t)=>t?e.plusSubscriptionPrice:e.coreSubscriptionPrice),[],[o,g]),A=(0,r.useFacetMap)(((e,t,a)=>null!=a.get("subscriptionId")?n(".heroButton.renew",[e]):t?n(".heroButton.trial"):n(".heroButton.create",[e])),[n],[O,h,s]),N=(0,r.useFacetMap)(((e,t)=>{if(null!=t.get("subscriptionId"))return n(".header.renew");switch(e.subscription){case"core":return n(".header.core");case"plus":return n(".header.plus");case"plus-free-trial":return n(".header.trial");default:return"title"}}),[n],[c,s]),R=(0,r.useFacetMap)((e=>{switch(e.subscription){case"core":return"Realms-Core";case"plus":return"Realms-Plus";case"plus-free-trial":return"Realms-Plus-Free-Trial"}}),[],[c]),_=(0,r.useFacetUnwrap)(R),L=(0,r.useFacetCallback)((e=>()=>{e.openLink(bu.TermsAndServicePage)}),[],[i]),D=(0,r.useFacetCallback)((e=>()=>{e.openLink(bu.PrivacyPolicyPage)}),[],[i]),W=(0,r.useSharedFacet)(ts),B=(0,r.useFacetMap)((e=>e.state!=Qc.IDLE&&e.state!=Qc.FAILED&&e.state!=Qc.COMPLETED),[],[W]),U=(0,r.useFacetMap)((e=>e.state===Qc.FAILED),[],[W]),z=(0,r.useFacetMap)((e=>e.failureReason),[],[W]),j=(0,r.useFacetCallback)((e=>()=>e.cancel()),[],[W]),H=(0,r.useFacetCallback)((e=>()=>e.prepareAppStoreForPurchases()),[],[W]),[V,G]=my(!1),$=mU.useModal(),K=(0,r.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(fu.Platform_NintendoSwitch)?dU.Nintendo:e.userPermissions.multiplayer.denyReasons.includes(fu.Platform_PlayStation)?dU.PlayStation:dU.Others),[],[d]),X=m(),Y=(0,r.useSharedFacet)(Ir),q=(0,r.useFacetCallback)(((e,t,a,r,l,o)=>()=>{if(e.isLoggedInWithMicrosoftAccount)if(e.hasPremiumNetworkAccess)if(e.userPermissions.multiplayer.denyReasons.includes(fu.Minecraft_Ban)||e.userPermissions.multiplayer.denyReasons.includes(fu.XboxLive_Ban)){const t=e.banExpiration;if(""===t||"Indefinite"===t)return void X.push(`/player-banned-modal?banReason=${e.banReason}&timesRemaining=0&isHours=0&isPermanent=1`);const n=function(e){const t=NI(e),n=t.hours+(0===t.minutes?0:1),a=t.days+(0===n?0:1);return{remaining:0===t.days?n:a,isHours:0===t.days}}(t);X.push(`/player-banned-modal?banReason=${e.banReason}&timesRemaining=${n.remaining}&isHours=${n.isHours}&isPermanent=0`)}else if(0===e.userPermissions.multiplayer.denyReasons.length){if(null!=a){let e=r;if(""===e&&a.state.xblState===Ic.Loaded&&""!==a.data.xblName&&(e=n(".inputPlaceHolder",[a.data.xblName])),"plus-free-trial"===l.subscription)t.purchaseTrial(a.data.xuid,e);else{const n=o.get("subscriptionId");t.purchase(a.data.xuid,e,null!=n?n:"",Zc.OfferMonthly,"core"===l.subscription?es.Offer2Player:es.Offer10Player)}}}else $.show();else e.showPremiumNetworkUpsellModal();else X.push("/sign-in?signInSource=RealmsPurchaseSubscription")}),[n,X,$],[d,W,v,b,c,s]),Q=hU.useModal(),J=(0,r.useFacetCallback)(((e,t,n)=>()=>{"plus-free-trial"!==t.subscription&&"plus"!==t.subscription||null!=n.get("subscriptionId")||!0!==e.isMarketplacePassSubscriptionActive?q():Q.show()}),[q,Q],[d,c,s]),Z=(0,r.useFacetCallback)(((e,t,n)=>()=>{dy(n,t)?G.show():e.isLoggedInWithMicrosoftAccount?J():X.push("/sign-in?signInSource=RealmsPurchaseSubscription")}),[G,X,J],[d,b,(0,r.useSharedFacet)(Dc)]),ee=(0,r.useSharedFacet)(ls),te=(0,r.useFacetCallback)((e=>t=>{e.fetchRealmsWorld(t)}),[],[ee]);(0,r.useFacetEffect)((e=>{e.state===Qc.COMPLETED&&te(e.getRecentlyPurchasedRealmId())}),[te],[W]);const ne=(0,r.useFacetCallback)((e=>()=>e.state===Qc.COMPLETED),[],[W],!1),ae=(0,r.useSharedFacet)(is);(0,r.useFacetEffect)(((e,t)=>{if(e.state===os.WORLD_AVAILABLE&&ne()){var n;const e=t.history.list.length;e&&null!==(n=t.history.list[e-2])&&void 0!==n&&n.pathname.includes("/realms-plan-picker")?X.go(-2):X.goBack()}}),[ne,X],[ae,Y]);const re=(0,r.useFacetMap)((e=>e.state===Qc.APP_STORE_READY),[],[W]);(0,r.useFacetEffect)((e=>{e&&Z()}),[Z],[re]);const le=(0,r.useFacetMap)(((e,t)=>{switch(e){case Jc.NO_ACCESS:return n(".errorModals.noAccess.title");case Jc.MEMBER_OF_TOO_MANY_REALMS:return n(".errorModals.memberOfTooManyRealms.title");case Jc.INVALID_REALM_NAME:return n(".errorModals.invalidRealmName.title");case Jc.FAILED_CLUB_NAME_VALIDATION:return n(".errorModals.failedClubNameValidation.title");case Jc.OFFER_NOT_FOUND:return n(".errorModals.offerNotFound.title");case Jc.OFFER_NOT_AVAILABLE_INCOMPLETE_DATA:return n(".errorModals.offerNotAvailableIncompleteData.title");case Jc.OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED:switch(t.subscription){case"core":return n(".errorModals.offerNotAvailableAllOffersOccupied.core.title");case"plus":return n(".errorModals.offerNotAvailableAllOffersOccupied.plus.title");default:return n(".errorModals.offerNotAvailableAllOffersOccupied.trial.title")}case Jc.APP_STORE_NOT_READY:return n(".errorModals.appStoreNotReady.title");default:return n(".errorModals.genericFailure.title")}}),[n],[z,c]),oe=(0,r.useFacetMap)(((e,t)=>{switch(e){case Jc.NO_ACCESS:return n(".errorModals.noAccess.body");case Jc.MEMBER_OF_TOO_MANY_REALMS:return n(".errorModals.memberOfTooManyRealms.body");case Jc.INVALID_REALM_NAME:return n(".errorModals.invalidRealmName.body");case Jc.FAILED_CLUB_NAME_VALIDATION:return n(".errorModals.failedClubNameValidation.body");case Jc.OFFER_NOT_FOUND:return n(".errorModals.offerNotFound.body");case Jc.OFFER_NOT_AVAILABLE_INCOMPLETE_DATA:return n(".errorModals.offerNotAvailableIncompleteData.body");case Jc.OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED:switch(t.subscription){case"core":return n(".errorModals.offerNotAvailableAllOffersOccupied.core.body");case"plus":return n(".errorModals.offerNotAvailableAllOffersOccupied.plus.body");default:return n(".errorModals.offerNotAvailableAllOffersOccupied.trial.body")}case Jc.APP_STORE_NOT_READY:return n(".errorModals.appStoreNotReady.body");default:return n(".errorModals.genericFailure.body")}}),[n],[z,c]),ie=(0,r.useFacetMap)((e=>{switch(e){case Jc.APP_STORE_NOT_READY:return{caption:n(".errorModals.appStoreNotReady.cancel"),onClick:j};case Jc.MEMBER_OF_TOO_MANY_REALMS:return{caption:n(".errorModals.memberOfTooManyRealms.cancel"),onClick:j};default:return{caption:n(".ErrorModals.close"),onClick:j}}}),[n,j],[z]),ce=(0,r.useFacetMap)((e=>e===Jc.APP_STORE_NOT_READY?{caption:n(".errorModals.appStoreNotReady.confirm"),onClick:H}:{caption:"",onClick:()=>{}}),[n,H],[z]),se=ia(),{narrateText:ue}=gf(),de=(0,r.useFacetCallback)(((e,t)=>n=>{ue(n?t:e)}),[ue],[I,P]),me=(0,r.useFacetMap)((e=>[n(".termsAndConditionsTextBlock.name"),n(".termsAndConditionsTextBlock.role"),e?"":n(".termsAndConditionsTextBlock.enum",["1","2"]),n(".termsAndConditionsTextBlock.hint")].filter((e=>""!==e)).join(" . ")),[n],[x]),pe=(0,r.useFacetMap)(((e,t)=>[n(".inputLabel"),n(".inputLabel.role"),""===e?t:e,n(".inputLabel.hint")].join(" . ")),[n],[b,k]);return a.createElement(sr,{collection:LD},a.createElement(AP,{title:N,gamepadAlias:"realms-purchase-subscription",screenAnalyticsId:_!==r.NO_VALUE?_:""},(()=>a.createElement(Yv,null,a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:12,narrowSize:8},a.createElement(Ef,null,a.createElement(om,{size:2}),a.createElement("div",{className:Dr()(e.border.base,"_naYc")},a.createElement(yU,{isPlus:g,isTrial:h,price:O,isNarrow:l}),a.createElement(gy,{label:n(".inputLabel"),onChange:y,placeholder:T!==r.NO_VALUE?T:"",value:b,onBlur:V,narrationOverride:pe}),a.createElement(FT,{stackedButtons:l,title:n(".panelButton.title"),roleNarrationOverride:n(".panelButton.role"),buttons:a.createElement(a.Fragment,null,a.createElement(mg,{onClick:L,inputLegend:n(".select"),Icon:nM.ExternalLink,horizontal:!l,narrationSuffix:n(".panelButton.enum",["1","2"])},n(".panelButton.termsAndConditions")),a.createElement(FT.ButtonSpacing,null),a.createElement(mg,{onClick:D,inputLegend:n(".select"),Icon:nM.ExternalLink,horizontal:!l,narrationSuffix:n(".panelButton.enum",["2","2"])},n(".panelButton.privacyPolicy")))}),a.createElement(em.Maybe,{classNameFocused:Zm,className:Dr()(pU,t.background.base),isInteractive:se,narrationText:me,onClick:()=>{de(!1)},inputLegend:n(".select")},a.createElement(Jm,null),a.createElement(om,{size:3}),a.createElement(fm,{type:"captionLong"},I),a.createElement(om,{size:3})),a.createElement(r.Mount,{when:x,condition:!1},a.createElement(em.Maybe,{classNameFocused:Zm,className:Dr()(pU,t.background.base),isInteractive:se,narrationText:[n(".termsAndConditionsTextBlock.name"),n(".termsAndConditionsTextBlock.role"),n(".termsAndConditionsTextBlock.enum",["2","2"]),n(".termsAndConditionsTextBlock.hint")].join(" . "),onClick:()=>{de(!0)},inputLegend:n(".select")},a.createElement(Jm,null),a.createElement(om,{size:3}),a.createElement(fm,{type:"captionLong"},P),a.createElement(om,{size:3}))),a.createElement(sr,{collection:_D},a.createElement(Lf,{title:n(".checkboxLabel"),gamepad:{index:2},onChange:S,value:F,hintNarration:M})),a.createElement(Kf,null,a.createElement(mg,{onClick:Z,inputLegend:n(".select"),variant:"hero",disabled:C,narrationSuffix:w},A))),a.createElement(om,{size:2}),a.createElement(iE.Space,null))))))),a.createElement(r.Mount,{when:B},a.createElement(ay.Component,{title:n(".modals.purchaseInProgress"),onClose:j})),a.createElement(r.Mount,{when:U},a.createElement(vU.Component,{title:le,body:oe,cancelAction:ie,confirmAction:ce})),a.createElement(r.Mount,{when:G.isVisible},a.createElement(ry.Component,{onClose:G.hide})),a.createElement(r.Mount,{when:Q.isVisible},a.createElement(hU.Component,{onClose:Q.hide,onConfirm:q})),a.createElement(r.Mount,{when:$.isVisible},a.createElement(mU.Component,{onClose:$.hide,variant:K})))}function yU({isPlus:e,isTrial:t,price:n,isNarrow:l}){const{background:o}=Fr("informative"),i=(0,r.useFacetMap)((e=>e?fU:gU),[],[e]),{t:c}=ec("RealmsPurchaseSubscriptionRoute"),s=(0,r.useFacetMap)(((e,t)=>t?`${c(".banner.subheading.trial",[e])}`:`${c(".banner.subheading",[e])}`),[c],[n,t]),u=(0,r.useFacetMap)(((e,t,n)=>[c(e?".banner.heading.plus":".banner.heading.core"),c(".banner.role"),c(t?".banner.subheading.trial.narration":".banner.subheading.narration",[n])].join(" . ")),[c],[e,t,n]),d=ia();return a.createElement(em.Maybe,{classNameFocused:Zm,isInteractive:d,className:Dr()(o.base,"J_xmR"),narrationText:u},a.createElement(Jm,null),!l&&a.createElement(Mp,{className:"T2aSE",src:EU}),a.createElement("div",{className:"FFm3X"},a.createElement(fm,{type:"body",role:"neutral"},s)),a.createElement(Mp,{className:"G8qoq",src:i}))}function FU({loading:e,emptyMessage:t,header:n,renderItem:l,data:o,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,itemSeparator:s,footer:u,renderTracker:d,horizontal:m=!1,padSpinnerVertically:p,scrollViewRef:f,gamepadAlias:g,delegateFocusByAlias:E,delegateFocusFromMemory:h,defaultFocusedChildBehavior:v}){const b=(0,r.useIsPaused)(),y=(0,r.useFacetWrap)(o),F=(0,r.useFacetMap)((e=>e.length),[],[y]),S=(0,r.useFacetUnwrap)(F),C=(0,r.useFacetUnwrap)(e),M=C!==r.NO_VALUE&&C;return a.createElement(r.DeferredMountProvider,null,a.createElement(SU,{padSpinnerVertically:p,loading:M,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,renderTracker:d,horizontal:m,scrollViewRef:f,gamepadAlias:g,delegateFocusFromMemory:h,delegateFocusByAlias:E,defaultFocusedChildBehavior:v},null!=n&&a.createElement(a.Fragment,null,n,s),!1===b&&a.createElement(r.Map,{array:y},((e,t)=>a.createElement(a.Fragment,null,t>0&&s,l({itemFacet:e,index:t,listLengthFacet:F})))),null!=S&&0===S&&a.createElement(r.DeferredMount,null,a.createElement(a.Fragment,null,t)),null!=u&&a.createElement(a.Fragment,null,s,u)))}function SU({loading:e,children:t,scrollIntoViewAlign:n,scrollIntoViewSpeedFactor:l,renderTracker:o,horizontal:i,padSpinnerVertically:c,scrollViewRef:s,gamepadAlias:u,delegateFocusByAlias:d,delegateFocusFromMemory:m,defaultFocusedChildBehavior:p}){const f=(0,r.useIsDeferring)(),g=(0,r.useIsPaused)(),E=(0,r.useFacetMap)((t=>e||t||g),[e,g],[f]);return a.createElement(Ef,{padSpinnerVertically:c,loading:E,scrollIntoViewAlign:n,scrollIntoViewSpeedFactor:l,renderTracker:o,horizontal:i,innerRef:s,gamepadAlias:u,delegateFocusByAlias:d,delegateFocusFromMemory:m,defaultFocusedChildBehavior:p},t)}const CU=n.p+"assets/GenericEmptyState-45ab1.png";function MU({realm:e,index:t,maxIndex:n,asSubscription:l,onItemClick:o}){const{t:i}=ec("ChooseRealmRoute"),c=(0,r.useFacetMap)((e=>i(".players",[e.maxPlayers.toString()])),[i],[e]),s=(0,r.useFacetMap)((e=>e.gameMode===eu.CREATIVE?i(".creative"):e.gameMode===eu.SURVIVAL?i(".survival"):i(".adventure")),[i],[e]),u=(0,r.useFacetMap)((e=>l?i(".realmSubscription",[(t+1).toString()]):e.slotName),[i,t,l],[e]),d=(0,r.useFacetMap)((e=>l?i(".pairedWith",[e.realmName]):e.realmName),[i,l],[e]),m=(0,r.useFacetMap)(((e,n,a,r,o)=>[r,i(".realmChoiceNumber",[(t+1).toString(),e.toString()]),o,l?i(".typeOfSubscription",[n]):i(".typeOfWorld",[a])].join(" . ")),[i,t,l],[n,c,s,u,d]);return a.createElement(TM,{gamepadIndex:t,tall:!0},a.createElement(TM.Action,{inputLegend:i(".select"),narrationText:m,onClick:o},a.createElement(TM.Main,null,a.createElement(fm,{type:"body"},a.createElement(am,null,u)),a.createElement(fm,{type:"body",variant:"dimmer"},a.createElement(am,null,d)),a.createElement(om,{size:1}),l&&a.createElement(sr,{collection:LD},a.createElement(cy,{role:"primaryTint"},c)),!l&&a.createElement(cy,{role:"neutral100"},s))))}function wU(){const{t:e}=ec("ChooseRealmRoute"),t=(0,r.useSharedFacet)(mu),n=(0,r.useSharedFacet)(bi),l=(0,r.useSharedFacet)(ku),o=(0,r.useSharedFacet)(vs),i=m(),c=(0,r.useFacetCallback)(((e,t,n)=>a=>{"uninitialized"!==n.currentWorldId?i.push(`/realms-choose-slot/${t[a].id}`):e.inWorldCreation&&e.selectRealmToCreateOn(`${t[a].id}`)}),[i],[n,o,l]),s=(0,a.useCallback)((()=>{i.replace("/realms-choose-realm/realm-subscriptions")}),[i]),u=sd(),d=(0,r.useSharedFacet)(di);return a.createElement(FU,{gamepadIndex:0,gamepadAlias:"wrapper",header:a.createElement(om,{size:2}),data:o,renderItem:({itemFacet:e,index:t,listLengthFacet:n})=>MU({realm:e,index:t,maxIndex:n,asSubscription:!1,onItemClick:()=>c(t)}),footer:a.createElement(r.Mount,{when:(0,r.useFacetMap)(((e,t)=>e.realms.length>0&&0!=t.length),[],[t,o])},a.createElement(r.DeferredMount,null,a.createElement("div",{className:Dr()({TyJek:"tablet"===u},{z8rvJ:"desktop"===u},{opGGY:"narrow"===u})},a.createElement(om,{size:4}),a.createElement(mg,{inputLegend:e(".select"),variant:"secondary",onClick:s},(0,r.useFacetMap)((t=>t.isBetaBuild?e(".addNewBetaRealm"):e(".addNewPreviewRealm")),[e],[d])),a.createElement(om,{size:4}))))})}function kU({onItemClick:e}){const t=(0,r.useSharedFacet)(Si),n=(0,r.useSharedFacet)(pu),l=(0,r.useFacetCallback)(((t,n)=>a=>{e(),t.createPreviewRealmFromSubscriptionId(`${n[a].id}`)}),[e],[t,n]);return a.createElement(FU,{gamepadIndex:0,header:a.createElement(om,{size:2}),footer:a.createElement(om,{size:2}),data:n,renderItem:({itemFacet:e,index:t,listLengthFacet:n})=>MU({realm:e,index:t,maxIndex:n,asSubscription:!0,onItemClick:()=>l(t)})})}function TU(){const e=m(),{t}=ec("ChooseRealmRoute"),n=(0,r.useSharedFacet)(di),l=(0,r.useSharedFacet)(hs),o=(0,r.useSharedFacet)(mu),i=(0,r.useSharedFacet)(Si),c=(0,r.useSharedFacet)(bi),s=(0,r.useSharedFacet)(vs),u=(0,r.useSharedFacet)(ku),d=(0,r.useSharedFacet)(Is),[g,E]=(0,r.useFacetState)(!1),h=(0,r.useFacetMap)(((e,t,n)=>e.state===Es.Loading||t.state===Es.Loading||n),[],[l,o,g]),v=(0,r.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===ck.RUNNING),[],[i]),b=f(),y=(0,r.useFacetMap)((e=>"realm-subscriptions"===e.tab),[],[b]),F=(0,r.useFacetMap)(((e,n)=>e?t(".chooseARealmSubscription"):n.isBetaBuild?t(".chooseABetaRealm"):t(".chooseAPreviewRealm")),[t],[y,n]),S=(0,r.useSharedFacet)(pu),C=(0,r.useFacetCallback)(((t,n,a,r,l,o)=>()=>{t&&0!==n.length&&0!==a.length&&r.inWorldCreation?e.replace("/realms-choose-realm/preview-realms"):("uninitialized"!==l.currentWorldId&&o.clearUploadWorldToRealmTaskState(),e.goBack())}),[e],[y,s,S,c,u,d]),M=p();(0,r.useFacetEffect)(((e,t)=>{!e&&t&&E(!1)}),[E],[M,g]),(0,r.useFacetEffect)(((e,t)=>{t.inWorldCreation&&e.createPreviewRealmFromSubscriptionTaskState===ck.DONE&&(e.reset(),E(!0),t.createWorldOnPreviewRealm(e.getCreatedPreviewRealmId()))}),[E],[i,c]),(0,r.useFacetEffect)(((e,t,n)=>{"uninitialized"!==t.currentWorldId&&e.createPreviewRealmFromSubscriptionTaskState===ck.DONE&&(e.reset(),n.setPreviewRealmForUpload(e.getCreatedPreviewRealmId()))}),[],[i,u,d]);const w=(0,r.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===ck.FAILED),[],[i]),k=(0,r.useFacetCallback)((e=>()=>{e.reset()}),[],[i]),T=sd(),I=t(".backButtonHint"),P=Fr("inherit"),x=(0,r.useFacetMap)((e=>t(".screen",[e])),[t],[F]),O=(0,r.useFacetMap)(((e,t)=>!e&&0===t.length),[],[y,s]),A=(0,r.useFacetMap)(((e,t)=>e&&0===t.length),[],[y,S]),N=(0,r.useFacetMap)(((e,t)=>e||t),[],[O,A]),R=(0,r.useFacetCallback)(((e,t,n)=>()=>{e?n.forceFetchUnpairedRealmsList():t.forceFetchRealmsList()}),[],[y,l,o]),_=(0,r.useFacetMap)(((e,n)=>e?t(".emptyState.noSubscriptionErrorTitle"):n.isBetaBuild?t(".emptyState.noRealmsErrorTitle.beta"):t(".emptyState.noRealmsErrorTitle.preview")),[t],[A,n]),[L,D]=(0,r.useFacetState)(!1);return a.createElement(Iv,null,a.createElement(kv,{text:x,interruptible:!1}),a.createElement(r.Mount,{when:h},a.createElement("div",{className:Dr()("_8UNVp",P.overlay.base)},a.createElement(ff,null))),a.createElement(r.Mount,{when:h,condition:!1},a.createElement(a.Fragment,null,a.createElement($v,{onBackButton:C,backButtonHint:I,center:a.createElement(fm,{type:"header5A"},F),gamepadAlias:"choose-realm-route",delegateByAlias:"wrapper"},a.createElement(Yv,null,a.createElement(Yv.Row,{gamepadIndex:0,fullHeight:!0},a.createElement(r.Mount,{when:N,condition:!1},a.createElement(a.Fragment,null,a.createElement(Yv.Column,{wideSize:"tablet"===T?1:"desktop"===T?2:12,narrowSize:0}),a.createElement(Yv.Column,{gamepadIndex:0,wideSize:"tablet"===T?10:"desktop"===T?8:12,narrowSize:8},a.createElement(oy,{tab:"realm-subscriptions",component:(0,a.useCallback)((()=>a.createElement(kU,{onItemClick:()=>D(!0)})),[D])}),a.createElement(oy,{tab:"preview-realms",component:wU}),a.createElement(iE.Space,null)))),a.createElement(r.Mount,{when:N},a.createElement(a.Fragment,null,a.createElement(Yv.Column,{wideSize:2,narrowSize:0}),a.createElement(Yv.Column,{gamepadIndex:0,wideSize:8,narrowSize:8},a.createElement(Ef,{gamepadIndex:0},a.createElement(om,{size:2}),a.createElement(cb,{gamepadIndex:0,title:_,text:t(".emptyState.message"),imgSrc:CU,buttons:[{text:t(".emptyState.tryAgain"),inputLegend:t(".select"),onClick:R}]}))))))),a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:1})}),a.createElement(r.Mount,{when:L},a.createElement(XD.Component,{onConfirm:(0,r.useFacetCallback)(((e,t,n)=>()=>{let a=t.inWorldCreation;"uninitialized"!==n.currentWorldId&&(a=!0),e.activateNewPreviewRealm(a),D(!1)}),[D],[i,c,u]),onClose:(0,r.useFacetCallback)((e=>()=>{e.reset(),D(!1)}),[D],[i])})),a.createElement(r.Mount,{when:w},a.createElement(tW.Component,{onClickClose:k})),a.createElement(r.Mount,{when:v},a.createElement(JD,{onClickClose:(0,r.useFacetCallback)((e=>()=>e.reset()),[],[i])}))))))}var IU=n(31717),PU=n.n(IU);const xU=Symbol("filler"),OU=({horizontalIndex:e,verticalIndex:t,index:n,itemSeparatorHorizontal:l,renderItem:o,item:i,listLengthFacet:c})=>a.createElement(r.DeferredMount,null,a.createElement(a.Fragment,null,e>0&&l,a.createElement("div",{className:"aTnV0"},a.createElement(r.With,{data:(0,r.useFacetMemo)((e=>e!==xU?e:void 0),[],[i])},(a=>o({itemFacet:a,index:n,rowIndex:t,columnIndex:e,listLengthFacet:c})))))),AU=({children:e})=>a.createElement(a.Fragment,null,e);function NU({loading:e,emptyMessage:t,renderItem:n,listWrapper:l=AU,data:o,focusGridIndex:i,scrollIntoViewAlign:c,scrollIntoViewSpeedFactor:s,itemSeparatorHorizontal:u,itemSeparatorVertical:d,firstRowSeparatorVertical:m,header:p,footer:f,renderTracker:g,columns:E,gamepadAlias:h,innerRef:v}){const b=(0,r.useIsPaused)(),y=(0,r.useFacetWrap)(o),F=(0,r.useFacetMap)((e=>e.length),[],[y]),S=(0,r.useFacetUnwrap)(F),C=(0,r.useFacetMemo)((e=>{if(e.length>0){const t=PU()(E,e),n=t[t.length-1];return Uy()((()=>n.push(xU)),E-n.length),t}return[]}),[E],[y]);return a.createElement(r.DeferredMountProvider,null,a.createElement(RU,{loading:(0,r.useFacetWrap)(null!=e&&e),focusGridIndex:i,scrollIntoViewAlign:c,scrollIntoViewSpeedFactor:s,renderTracker:g,gamepadAlias:h,innerRef:v},p,a.createElement(l,null,!b&&a.createElement(r.Map,{array:C},((e,t)=>a.createElement(a.Fragment,null,0===t&&m,t>0&&d,a.createElement("div",{className:"jc_nV"},a.createElement(r.Map,{array:e},((e,r)=>a.createElement(OU,{horizontalIndex:r,verticalIndex:t,index:t*E+r,itemSeparatorHorizontal:u,renderItem:n,item:e,listLengthFacet:F})))))))),null!=S&&0===S&&a.createElement(r.DeferredMount,null,a.createElement(a.Fragment,null,t)),f))}function RU({loading:e,focusGridIndex:t,children:n,scrollIntoViewAlign:l,scrollIntoViewSpeedFactor:o,renderTracker:i,horizontal:c,gamepadAlias:s,innerRef:u}){const d=(0,r.useIsPaused)(),m=(0,r.useFacetMap)(((e,t)=>e||d||t),[d],[(0,r.useIsDeferring)(),e]);return a.createElement(Ef,{innerRef:u,loading:m,focusGridIndex:t,scrollIntoViewAlign:l,scrollIntoViewSpeedFactor:o,renderTracker:i,horizontal:c,gamepadAlias:s,delegateFocusFromMemory:!0},n)}const _U={"250HostileMobs":n.p+"assets/250HostileMobs-141ad.png",AllMobNameEasterEggs:n.p+"assets/AllMobNameEasterEggs-4b8ed.png",CookEverything:n.p+"assets/CookEverything-fc277.png",DefeatEnderdragon:n.p+"assets/DefeatEnderdragon-cc8e0.png",DefeatWither:n.p+"assets/DefeatWither-0783a.png",DiamondEverything:n.p+"assets/DiamondEverything-c4925.png",FirstAbandonedMineshaftFound:n.p+"assets/FirstAbandonedMineshaftFound-f9296.png",FirstAncientCityFound:n.p+"assets/FirstAncientCityFound-8d6da.png",FirstBadlandsFound:n.p+"assets/FirstBadlandsFound-0495e.png",FirstConduit:n.p+"assets/FirstConduit-4ce50.png",FirstDiamondFound:n.p+"assets/FirstDiamondFound-86296.png",FirstEnchantment:n.p+"assets/FirstEnchantment-6f488.png",FirstEnderDragonDefeated:n.p+"assets/FirstEnderDragonDefeated-7b89d.png",FirstEndPortal:n.p+"assets/FirstEndPortal-720f3.png",FirstFullyExploredMap:n.p+"assets/FirstFullyExploredMap-2e992.png",FirstMushroomFieldFound:n.p+"assets/FirstMushroomFieldFound-c9d4e.png",FirstNetherFortressFound:n.p+"assets/FirstNetherFortressFound-5990a.png",FirstCraftedNetherite:n.p+"assets/FirstCraftedNetherite-26887.png",FirstNetherPortalLit:n.p+"assets/FirstNetherPortalLit-9b93d.png",FirstPeakMountainFound:n.p+"assets/FirstPeakMountainFound-77bba.png",FirstPillagerOutpostFound:n.p+"assets/FirstPillagerOutpostFound-87eef.png",FirstPoweredBeacon:n.p+"assets/FirstPoweredBeacon-886be.png",FirstWitherDefeated:n.p+"assets/FirstWitherDefeated-a95d8.png",FirstWoodlandMansionFound:n.p+"assets/FirstWoodlandMansionFound-a6812.png",NamedMob:n.p+"assets/NamedMob-5a8fd.png",NamedMobDies:n.p+"assets/NamedMobDies-b5ee3.png",NewMember:n.p+"assets/NewMember-6422c.png",PillagerCaptainDefeated:n.p+"assets/PillagerCaptainDefeated-3a8ed.png",RealmCreated:n.p+"assets/RealmCreated-10a26.png",SlotSwitch:n.p+"assets/SlotSwitch-f6f21.png"},LU={xuid:"0UnknownPlayer",gamerTag:"unknownPlayer",gamerIcon:"",role:Vc.VISITOR,fetchProfileStatus:ou.Success,lastSeenTime:0,isOnline:!1,isInRealm:!1,hasOptedIn:!1};function DU(e){return _U[e]}let WU;!function(e){e[e.List=0]="List",e[e.NoGamertag=1]="NoGamertag"}(WU||(WU={}));const BU={full:11,narrow:5},UU={full:5,narrow:2};function zU(e,t,n){if(0===t.length)return console.log("Error in newMemberGroupedText: playerData is empty"),e(".invalid");if(2===t.length)return e(".eventText.list.twoMembers",[t[0].gamerTag,t[1].gamerTag]);const a=Math.min(t.length,n);let r=t[0].gamerTag;for(let n=1;n<a-1;n++)r=e(".eventText.list",[r,t[n].gamerTag]);if(t.length<=n)return e(".eventText.list.end",[r,t[t.length-1].gamerTag]);{r=e(".eventText.list",[r,t[a-1].gamerTag]);const l=t.length-n;return 1===l?e(".eventText.list.overflow.single",[r]):e(".eventText.list.overflow.multi",[r,`${l}`])}}const jU=new Map([["FirstEnderDragonDefeated",{treatmentSize:"large"}],["FirstWitherDefeated",{treatmentSize:"large"}],["250HostileMobs",{treatmentSize:"medium",groupType:WU.List}],["AllMobNameEasterEggs",{treatmentSize:"medium",groupType:WU.List}],["CookEverything",{treatmentSize:"medium"}],["DefeatEnderdragon",{treatmentSize:"medium",groupType:WU.NoGamertag}],["DefeatWither",{treatmentSize:"medium",groupType:WU.NoGamertag}],["DiamondEverything",{treatmentSize:"medium",groupType:WU.List}],["FirstAbandonedMineshaftFound",{treatmentSize:"medium"}],["FirstAncientCityFound",{treatmentSize:"medium"}],["FirstBadlandsFound",{treatmentSize:"medium"}],["FirstConduit",{treatmentSize:"medium"}],["FirstDiamondFound",{treatmentSize:"medium"}],["FirstEnchantment",{treatmentSize:"medium",groupType:WU.List}],["FirstEndPortal",{treatmentSize:"medium"}],["FirstFullyExploredMap",{treatmentSize:"medium"}],["FirstMushroomFieldFound",{treatmentSize:"medium"}],["FirstNetherFortressFound",{treatmentSize:"medium"}],["FirstCraftedNetherite",{treatmentSize:"medium",groupType:WU.List}],["FirstNetherPortalLit",{treatmentSize:"medium"}],["FirstPeakMountainFound",{treatmentSize:"medium"}],["FirstPillagerOutpostFound",{treatmentSize:"medium"}],["FirstPoweredBeacon",{treatmentSize:"medium"}],["FirstWoodlandMansionFound",{treatmentSize:"medium"}],["NamedMob",{treatmentSize:"medium",metadataTransform:e=>[e]}],["NamedMobDies",{treatmentSize:"medium"}],["NewMember",{treatmentSize:"medium",groupType:WU.List}],["PillagerCaptainDefeated",{treatmentSize:"medium"}],["RealmCreated",{treatmentSize:"medium"}],["SlotSwitch",{treatmentSize:"medium"}]]);function HU(e){const t=jU.get(e);return t||console.log(`Error in getRealmEventInfo: ${e} not found`),t}function VU(e){const t=jU.get(e);if(t)return t.treatmentSize;console.log(`Error in getRealmEventTreatmentSize: ${e} not found`)}const GU=({t:e,eventId:t,playerData:n,maxDisplayedPlayers:a,eventMetadata:r})=>{const l=HU(t);if(!l)return e(".invalid");const o=l.metadataTransform?l.metadataTransform(r):[];return n.length>1&&null!=l.groupType?l.groupType===WU.List?e(`.${l.treatmentSize}.${t}.grouped`,[zU(e,n.slice().reverse(),a),...o]):e(`.${l.treatmentSize}.${t}.grouped`,o):"medium"===l.treatmentSize&&n.length>=1?e(`.${l.treatmentSize}.${t}`,[n[0].gamerTag,...o]):e(`.${l.treatmentSize}.${t}`,o)},$U="OMEzJ",KU="_KSgM",XU="dS6f5",YU=n.p+"assets/comments_light-88de7.png",qU=n.p+"assets/heart_sprite-03fc4.png",QU=n.p+"assets/heart_outline-84139.png",JU=n.p+"assets/options-9456a.png";function ZU({index:e,content:t,totalComments:n="",totalLikes:l,hasLiked:o,hideLikes:i,readOnly:c=(0,r.createStaticFacet)(!1),openCommentsCallback:s=(()=>{}),toggleLikeCallback:u,openOptionsCallback:d}){const{t:m}=ec("RealmsStories.feedPost"),p=sd(),f=ia(),g=""===n,E=g?"comment-entry-":"story-entry-",h=(0,r.useFacetWrap)(n),v=(0,r.useFacetWrap)(c),b=(0,r.useFacetMap)(((e,t,n)=>{let a=1;return e||a++,t||(a+=2),""!=n&&(a++,"narrow"!=p&&a++),a}),[p],[i,v,h]),y=(0,r.useFacetMap)(((e,t,n)=>{let a=1;return t||a++,n||(a+=2),"narrow"!=p&&a++,[m(".comments"),m(".role.button"),m(".enumeration",[`${a}`,`${e}`]),m(".commentsHint")].join(" . ")}),[m,p],[b,i,v]),F=(0,r.useFacetMap)(((e,t,n)=>[m(".commentsNarration"),m(".role.button"),m(".enumeration",[t?"2":"3",`${e}`]),n,m(".commentsHint")].join(" . ")),[m],[b,i,h]),S=(0,r.useFacetMap)(((e,t,n,a,r)=>{let l,o=0;return t||o++,n||(o+=2),""!=a&&"narrow"!=p&&o++,l=m(""!=a?r?".unlikeHint":".likeHint":r?".unlikeCommentHint":".likeCommentHint"),[m(".like"),m(".role.button"),m(".enumeration",[`${o}`,`${e}`]),l].join(" . ")}),[m,p],[b,i,v,h,o]),C=(0,r.useFacetMap)(((e,t)=>[m(".likesNarration"),m(".role.textBlock"),m(".enumeration",["2",`${e}`]),t].join(" . ")),[m],[b,l]),M=(0,r.useFacetMap)((e=>[m(".options"),m(".role.button"),m(".collapsed"),m(".enumeration",[`${e}`,`${e}`]),m(".optionsHint")].join(" . ")),[m],[b]),w=(0,r.useFacetMap)((e=>m(e?".liked":".like")),[m],[o]),k=(0,r.useFacetMap)((e=>e?qU:QU),[],[o]),T=(0,r.useFacetUnwrap)(o),I=T!==r.NO_VALUE&&T,P=I?"primary":"neutral",x=(0,r.useFacetMap)(((e,t)=>!g||!e||!t),[g],[v,i]),O=(0,r.useFacetMap)((e=>g&&1==e),[g],[v]),A=Fr("neutral");return a.createElement(a.Fragment,null,a.createElement(Gr,null,t),a.createElement(r.Mount,{when:x},a.createElement(Gr,null,a.createElement(wl,{data:O},(t=>a.createElement(TM,{small:t},a.createElement("div",{className:Dr()($U,"fvA94",A.background.base,A.bevel.base)},a.createElement(TM.Main,null,a.createElement(r.Mount,{when:i,condition:!1},a.createElement(em.Maybe,{isInteractive:f,narrationText:C,classNameFocused:Zm},a.createElement(Jm,null),a.createElement("div",{className:"sfaY_"},a.createElement(Mp,{src:qU,className:KU,imageRendering:"pixelated"}),a.createElement(om,{size:2}),a.createElement(fm,{type:"body",align:"left",role:"neutral"},a.createElement(am,null,l)))))),"narrow"!==p&&!g&&a.createElement(TM.Cell,null,a.createElement(em,{narrationText:F,inputLegend:m(".viewComments"),classNameFocused:Zm,className:Dr()("E004f",A.border.disable),onClick:s},a.createElement(Jm,null),a.createElement(fm,{type:"body",align:"right",role:"neutral"},n)))),a.createElement(wf,{text:[m(".postActions"),m(".postActionsRole")].join(" . ")},a.createElement(TM.AdditionalAction,{gamepadAlias:E+"like-"+e,narrationText:S,inputLegend:m(".like"),onClick:u,role:P,isSelected:I,hidden:c,extraWide:!0},a.createElement(Mp,{src:k,className:KU,imageRendering:"pixelated"}),a.createElement(om,{size:1}),a.createElement(fm,{type:"captionTiny",role:P},w)),!g&&a.createElement(TM.AdditionalAction,{narrationText:y,inputLegend:m(".viewComments"),onClick:s,extraWide:!0},a.createElement(Mp,{src:YU,className:KU,imageRendering:"pixelated"}),a.createElement(om,{size:1}),a.createElement(fm,{type:"captionTiny"},m(".comments"))),a.createElement(TM.AdditionalAction,{narrationText:M,inputLegend:m(".options"),onClick:d,hidden:c,extraWide:!0},a.createElement(Mp,{src:JU,className:KU,imageRendering:"pixelated"}),a.createElement(om,{size:1}),a.createElement(fm,{type:"captionTiny"},m(".options"))))))))))}function ez({body:e,timePosted:t,timePostedNarration:n,storyFeedElementCount:l,shouldShowUnreadPostBadge:o,image:i=(0,r.createStaticFacet)(""),author:c,commentPostType:s=!1,hasBottomSection:u=!0,onContentClicked:d}){const{t:m}=ec("RealmsStories.feedPost"),p=sd(),f=(0,r.useFacetMap)((e=>e.gamerTag),[],[c]),g=(0,r.useFacetMap)((e=>e.gamerIcon),[],[c]),E=(0,r.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[c]),h=(0,r.useFacetMap)((e=>""!==e),[],[i]),v=(0,r.useFacetMap)(((e,t,n,a,r,l)=>{const o=[];return s?o.push(m(".storyComment")):o.push(m(".storyPost")),o.push(m(".role.textBlock")),a&&o.push(m(".unread")),o.push(m(".enumeration",["1",`${l}`])),s?o.push(m(".storyCommentDetails",[t,n])):o.push(m(".storyPostDetails",[t,n])),o.push(e),r&&o.push(m(".hasImage")),o.join(" . ")}),[m,s],[e,f,n,o,h,l]),b=Fr("neutral"),y=Fr("neutral80"),F=(0,r.useFacetCallback)((e=>()=>{d&&""!=e&&d({image:e})}),[d],[i]),S=(0,r.useFacetMap)((e=>!!e&&m(".viewScreenshot")),[m],[h]),C=(0,r.useFacetMap)((e=>Dr()("yj3gN",b.border.base,y.background.base,{[$U]:0==e})),[y.background.base,b.border.base],[(0,r.useFacetWrap)(u)]);return a.createElement(em,{inputLegend:S,narrationText:v,className:C,classNameFocused:Zm,onClick:F},a.createElement(Jm,null),a.createElement(om,{size:4}),a.createElement("div",{className:"Ut00y"},a.createElement("div",null,a.createElement(Ow,{src:g,status:E,variant:"large"})),a.createElement(om,{size:4}),a.createElement("div",{className:"AiExz"},a.createElement("div",{className:"nfvoC"},a.createElement("div",{className:Dr()({sGhk5:"narrow"!==p,uAyem:"narrow"===p})},a.createElement(fm,{type:"body",align:"left",role:"neutral80"},a.createElement(am,null,f))),a.createElement("div",{className:Dr()("tyngs",{i5oiR:"narrow"===p})},a.createElement(fm,{type:"captionShort",align:"narrow"===p?"left":"right",role:"neutral80",variant:"dimmer"},t))),a.createElement(r.Mount,{when:h},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement("div",{className:XU},a.createElement("div",{className:Dr()($U,b.border.base)},a.createElement(Mp,{src:i,aspectRatio:Mp.AspectRatio["16:9"]}))))),a.createElement(om,{size:2}),a.createElement("div",{className:XU},a.createElement(fm,{type:"paragraphs",role:"neutral80",overflowWrap:"break-word",whiteSpace:"preWrap"},e)))),a.createElement(r.Mount,{when:o},a.createElement("div",{className:"PknE8"},a.createElement(Ny,{role:"secondary"}))))}const tz=n.p+"assets/no-internet-art-53f29.png";function nz(){const{t:e}=ec("RealmsStories");return a.createElement(cb,{title:e(".messages.title"),text:e(".messages.noInternetBody"),imgSrc:tz,imgClass:wB()})}const az=n.p+"assets/GenericError-d5224.png";function rz({onClick:e,pageName:t}){const{t:n}=ec("RealmsStories"),l=(0,r.useFacetWrap)(null!=t?t:""),o=(0,r.useFacetMap)((e=>""!==e?n(".messages.titleWithArg",[e]):n(".messages.title")),[n],[l]);return a.createElement(cb,{title:o,text:n(".messages.unknownErrorBody"),imgSrc:az,imgClass:wB(),buttons:[{text:n(".messages.button"),onClick:e,inputLegend:n(".messages.button")}]})}function lz({forOptedOutMembers:e}){const{t}=ec("RealmsStories");return a.createElement(GT,{role:"noticeTint"},a.createElement("div",{className:"KP8Xp"},a.createElement(nM.Warning,{color:"#1e1e1f"})),a.createElement(GT.Text,null,t(e?".members.warning.optedOut":".members.warning")))}const oz="cPc6K",iz="aeQm5",cz=n.p+"assets/timeline-opt-in-cf8ce.png",sz=e=>(0,r.useFacetMemo)((e=>{const t=[],n=[],a=[],r=[],l=[];return e.forEach((e=>{e.isOnline&&n.push(e),e.isInRealm&&a.push(e),e.hasOptedIn?r.push(e):l.push(e),t.push(e)})),{allMembers:t,onlinePlayers:n,inRealmPlayers:a,optedInPlayers:r,optedOutPlayers:l}}),[],[e]);let uz;function dz(e){const t=f(),n=(0,r.useSharedFacet)($s),a=(0,r.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[(0,r.useSharedFacet)(Bc)]);return(0,r.useFacetCallback)(((t,n,a)=>r=>{a.fireEventRealmsStoriesOptIn(e,r,n.realmId,t)}),[e],[a,t,n])}function mz({correlationId:e}){const t=f(),{t:n}=ec("RealmsStories.messages.timelineOptIn"),l=Fr("neutral80"),o=p(),i=dd(70),c=(0,r.useSharedFacet)(Gc),s=(0,r.useSharedFacet)(Wc),u=(0,r.useSharedFacet)(ws),d=(0,r.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[(0,r.useSharedFacet)(Bc)]),m=(0,r.useFacetMap)((e=>mw(e.players,(e=>e.role!==Vc.NONMEMBER))),[],[c]),g=sz(m),E=(0,r.useFacetMap)((e=>[e.optedInPlayers.length.toString(),e.allMembers.length.toString()]),[],[g]),h=(0,r.useFacetMap)((e=>n(".members",e)),[n],[E]),v=(0,r.useFacetMap)((e=>[n(".title"),n(".textblock"),n(".body"),n(".membersNarration",e)].join(" . ")),[n],[E]),b=(0,r.useFacetCallback)(((t,n,a)=>()=>{t.setPlayerOptInStatusAndPostWithOptInTelemetry(a.realmId,Ms.OptedIn,e,uz.OptIn_Success,n)}),[e],[s,d,t]),y=(0,r.useFacetMap)((e=>e?"RuWS1":""),[],[i]),F=(0,r.useFacetMap)(((e,t)=>e&&(t.currentPostState===iu.InputInvalid||t.currentPostState===iu.InternalError||t.currentPostState===iu.UploadFailed||t.currentPostState===iu.PostingFailed)),[],[o,u]),S=(0,r.useFacetMap)(((e,t)=>e&&t.currentPostState===iu.RateLimit),[],[o,u]),C=(0,r.useFacetMap)(((e,t,n,a)=>e&&!n&&!a&&(t.currentPostState===iu.InProgress||t.currentPostState===iu.Uploading)),[],[o,u,F,S]),M=(0,r.useFacetCallback)(((e,t,n)=>()=>{t||(e.clearSettingsStatus(),e.fetchSettings(n.realmId))}),[],[s,C,t]),w=a.createElement(a.Fragment,null,a.createElement(fm,{type:"header5A",align:"center"},n(".title")),a.createElement(om,{size:2}),a.createElement("fast-div",{className:y},a.createElement(Mp,{src:cz,aspectRatio:Mp.AspectRatio["16:9"]})));return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:C},a.createElement(eW,null)),a.createElement(r.Mount,{when:F},a.createElement(tW.Component,{onClickClose:M})),a.createElement(r.Mount,{when:S},a.createElement(rW.Component,{onClickClose:M})),a.createElement(Ef,{gamepadAlias:"timeline-opt-in-scrollview",delegateFocusByAlias:"timeline-opt-in-button"},a.createElement(Yv,{noGutters:!0},a.createElement(wf,{text:v},a.createElement(Yv.Row,null,a.createElement(r.Mount,{when:i,condition:!1},a.createElement(Yv.Column,{wideSize:6,narrowSize:0},a.createElement("div",{className:Dr()(oz,iz,l.background.base,l.border.base)},w))),a.createElement(Yv.Column,{wideSize:6,narrowSize:8},a.createElement("div",{className:Dr()(oz,iz,l.background.base,l.border.base)},a.createElement(r.Mount,{when:i},a.createElement(a.Fragment,null,w,a.createElement(om,{size:4}))),a.createElement("div",{className:"Q_Y5h"},a.createElement(fm,{type:"paragraphs",align:"left"},n(".body")),a.createElement(om,{size:4}),a.createElement(fm,{type:"paragraphs",align:"left",role:"neutral80",variant:"dimmest"},a.createElement("fast-text",{text:h})),a.createElement(om,{size:4})),a.createElement(mg,{inputLegend:n(".button"),variant:"primary",gamepadAlias:"timeline-opt-in-button",onClick:b},n(".button")))))))))}!function(e){e.OptIn_Success="OptIn_Success",e.OptIn_WaitingOnOwner="OptIn_WaitingOnOwner",e.OptIn_BadAccountSettings="OptIn_BadAccountSettings",e.OptOut_InfoDialog="OptOut_InfoDialog",e.OptOut_Settings="OptOut_Settings",e.CancelOptOut_InfoDialog="CancelOptOut_InfoDialog",e.CancelOptOut_Settings="CancelOptOut_Settings",e.BackOut_InfoDialog="BackOut_InfoDialog",e.LearnMore="LearnMore",e.ViewedTimeline_OptInMessage="ViewedTimeline_OptInMessage",e.ViewedTimeline_OptedOut_TimelineDisabled="ViewedTimeline_OptedOut_TimelineDisabled",e.ViewedTimeline_TimelineContent="ViewedTimeline_TimelineContent",e.ViewedTimeline_OptedIn_TimelineDisabled="ViewedTimeline_OptedIn_TimelineDisabled"}(uz||(uz={}));let pz;function fz({sender:e,timestamp:t,image:n,content:l,containerType:o}){const i=Fr("neutral"),c=(0,r.useFacetWrap)(null!=n?n:""),s=(0,r.useFacetMap)((e=>""!==e),[],[c]),{t:u}=ec("SideStoryPostContainer"),d=(0,r.useFacetMap)(((e,t,n)=>[u(".hint",[e]),t,n].join(" . ")),[u],[e,t,l]);return a.createElement(RP,{gamepadIndex:0,narrationPrefix:u(".name"),narrationRole:u(".role"),narrationSuffix:d,spacingAroundSideMenu:a.createElement(om,{size:2})},a.createElement(r.Mount,{when:s},a.createElement(a.Fragment,null,a.createElement(RP.Item,null,a.createElement("div",{className:"cp2HY"},a.createElement(wl,{data:o},(e=>{switch(e){case pz.LARGE_EVENT:return a.createElement(Mp,{src:c,aspectRatio:Mp.AspectRatio["16:9"]});case pz.MEDIUM_EVENT:return a.createElement(a.Fragment,null,a.createElement(bW,{minWidth:64,minHeight:36,minBorderWidth:3,containerClassName:"XJPHZ",frameClassName:"BAWlI"}),a.createElement(vW,{src:c,minWidth:64,minHeight:36,minBorderWidth:3,className:"qMd49"}));case pz.STORY:return a.createElement(Mp,{src:c,aspectRatio:Mp.AspectRatio["16:9"],className:Dr()("LDTnm",i.border.base)});default:return null}})))),a.createElement(om,{size:2}))),a.createElement(RP.Item,null,a.createElement(fm,{type:"captionShort"},e),a.createElement(fm,{type:"captionShort",variant:"dimmer"},t),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionLong",overflowWrap:"break-word",whiteSpace:"preWrap"},l)))}var gz;!function(e){e[e.STORY=0]="STORY",e[e.MEDIUM_EVENT=1]="MEDIUM_EVENT",e[e.LARGE_EVENT=2]="LARGE_EVENT"}(pz||(pz={})),function(e){e[e.DELETE=0]="DELETE",e[e.NOTIFY=1]="NOTIFY",e[e.REPORT=2]="REPORT"}(gz||(gz={}));const Ez=Km((({isAuthor:e,isRealmOwner:t,isCommentOptions:n=!1,isEvent:l=!1,onClose:o,onDelete:i,onNotify:c,onReport:s})=>{const{t:u}=ec("RealmsStories.feedPost"),d=u(n?".options.comment.delete":".options.delete"),m=(0,r.useFacetMap)(((e,t,n)=>{const a=[{isVisible:t||e&&!n,gamepadAlias:"OPTION-DELETE",label:d,value:gz.DELETE},{isVisible:!t,gamepadAlias:"OPTION-NOTIFY",label:u(".options.notify"),value:gz.NOTIFY},{isVisible:!e&&!n,gamepadAlias:"OPTION-REPORT",label:u(".options.report"),value:gz.REPORT}].filter((e=>e.isVisible)),r=a.length;return a.map(((e,t)=>({enumeration:u(".options.enumeration",[`${t+1}`,`${r}`]),gamepadAlias:e.gamepadAlias,label:e.label,value:e.value})))}),[u,d],[(0,r.useFacetWrap)(e),(0,r.useFacetWrap)(t),(0,r.useFacetWrap)(l)]),p=(0,a.useCallback)((e=>{switch(e){case gz.DELETE:i();break;case gz.NOTIFY:c();break;case gz.REPORT:s()}}),[i,c,s]);return a.createElement(lT,{onClose:o,onItemSelect:p,isOpen:!0,title:u(".options"),items:m})})),hz="confirm-delete-story-modal",vz=Km((({onConfirm:e,onCancel:t,isCommentOptions:n})=>{const{t:r}=ec(n?"RealmsStories.feedPost.options.comment":"RealmsStories.feedPost.options");return a.createElement(vE,{defaultFocusAlias:hz},a.createElement(vE.Header,{onClose:t},r(".delete.title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:r(".delete.message.narration"),gamepadIndex:0},r(".delete.message"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,gamepadAlias:hz,inputLegend:r(".delete"),variant:"destructive",onClick:e},r(".delete")),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:1,inputLegend:r(".delete.cancel"),variant:"secondary",onClick:t,narrationSuffix:r(".delete.cancel.description")},r(".delete.cancel"))))})),bz="confirm-notify-story-modal",yz=Km((({onConfirm:e,onCancel:t,isCommentOptions:n})=>{const{t:r}=ec("RealmsStories.feedPost.options.notify"),l=r(n?".message.comment":".message"),o=r(n?".message.comment.narration":".message.narration");return a.createElement(vE,{defaultFocusAlias:bz},a.createElement(vE.Header,{onClose:t},r(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:o,gamepadIndex:0},l)),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,gamepadAlias:bz,inputLegend:r(".confirm"),variant:"destructive",onClick:e},r(".confirm")),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:1,inputLegend:r(".cancel"),variant:"secondary",onClick:t,narrationSuffix:r(".cancel.description")},r(".cancel"))))})),Fz="delete-failed-modal",Sz=Km((({onClose:e,isCommentOptions:t})=>{const{t:n}=ec(t?"RealmsStories.feedPost.options.failed.comment":"RealmsStories.feedPost.options.failed");return a.createElement(vE,{defaultFocusAlias:Fz},a.createElement(vE.Header,{onClose:e},n(".deleteTitle")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:n(".deleteMessage"),gamepadIndex:0},n(".deleteMessage"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,gamepadAlias:Fz,inputLegend:n(".close"),variant:"secondary",onClick:e},n(".close"))))})),Cz="notify-failed-modal",Mz=Km((({onClose:e})=>{const{t}=ec("RealmsStories.feedPost.options.failed");return a.createElement(vE,{defaultFocusAlias:Cz},a.createElement(vE.Header,{onClose:e},t(".notifyTitle")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:t(".notifyMessage"),gamepadIndex:0},t(".notifyMessage"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,gamepadAlias:Cz,inputLegend:t(".close"),variant:"secondary",onClick:e},t(".close"))))})),wz="report-failed-modal",kz=(Km((({onClose:e})=>{const{t}=ec("RealmsStories.feedPost.options.failed");return a.createElement(vE,{defaultFocusAlias:wz},a.createElement(vE.Header,{onClose:e},t(".reportTitle")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:t(".reportMessage"),gamepadIndex:0},t(".reportMessage"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,gamepadAlias:wz,inputLegend:t(".close"),variant:"secondary",onClick:e},t(".close"))))})),"timeline-information-learn-more"),Tz=Km((({closeModal:e,learnMore:t})=>{const{t:n}=ec("RealmsStories.Timeline.Information"),r=(0,a.useCallback)((()=>{e(),t()}),[t,e]);return a.createElement(vE,{onOverlayClick:e,defaultFocusAlias:kz},a.createElement(vE.Header,{onClose:e},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:n(".message")},n(".message"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:kz,variant:"primary",inputLegend:n(".select"),onClick:r,narrationSuffix:n(".enumeration",["1","2"])},n(".learnMore")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:n(".select"),onClick:e,narrationSuffix:n(".enumeration",["2","2"])},n(".close"))))})),Iz="confirm-delete-story-modal",Pz=Km((({reportStatus:e,onClose:t})=>{const{t:n}=ec("RealmsStories.ReportResultModal"),l=(0,r.useFacetMap)((e=>e===iu.Success),[],[e]),o=(0,r.useFacetMap)((e=>n(e?".title.success":".title.fail")),[n],[l]),i=(0,r.useFacetMap)((e=>n(e?".text.success":".text.fail")),[n],[l]),c=(0,r.useFacetMap)((e=>[n(".text.role"),e].join(" . ")),[n],[i]);return a.createElement(vE,{defaultFocusAlias:Iz},a.createElement(vE.Header,{onClose:t},o),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:c},i)),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:Iz,inputLegend:n(".button.inputLegend"),onClick:t},n(".button.close"))))}));function xz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xz(Object(n),!0).forEach((function(t){Az(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Az(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let Nz;!function(e){e.Post="story",e.Comment="comment"}(Nz||(Nz={}));var Rz,_z,Lz;!function(e){e[e.FeedItem=0]="FeedItem",e[e.Comment=1]="Comment",e[e.Gamertag=2]="Gamertag"}(Rz||(Rz={})),function(e){e[e.SexuallyInappropriate=0]="SexuallyInappropriate",e[e.Violence=1]="Violence",e[e.Harassment=2]="Harassment",e[e.Spam=3]="Spam",e[e.TerroristContent=4]="TerroristContent",e[e.SomethingElse=5]="SomethingElse"}(_z||(_z={})),function(e){e[e.ImminentHarm=0]="ImminentHarm",e[e.HateSpeech=1]="HateSpeech",e[e.Fraud=2]="Fraud",e[e.Cheating=3]="Cheating",e[e.ChildAbuse=4]="ChildAbuse",e[e.DrugsOrAlcohol=5]="DrugsOrAlcohol",e[e.Profanity=6]="Profanity",e[e.SelfHarm=7]="SelfHarm",e[e.Other=8]="Other"}(Lz||(Lz={}));const Dz={[Rz.FeedItem]:"feedItem",[Rz.Comment]:"comment",[Rz.Gamertag]:"gamertag"},Wz={[_z.SexuallyInappropriate]:"sexuallyinappropriate",[_z.Violence]:"violenceorgore",[_z.Harassment]:"harassment",[_z.Spam]:"spamoradvertising",[_z.TerroristContent]:"terroristorviolentextremist",[_z.SomethingElse]:"somethingElse"},Bz={[Lz.ImminentHarm]:"imminentharmpersonsorproperty",[Lz.HateSpeech]:"hatespeech",[Lz.Fraud]:"fraud",[Lz.Cheating]:"cheating",[Lz.ChildAbuse]:"csam",[Lz.DrugsOrAlcohol]:"drugsoralcohol",[Lz.Profanity]:"profanity",[Lz.SelfHarm]:"selfharmorsuicide",[Lz.Other]:"other"};function Uz(){const e=(0,r.useSharedFacet)(Ss),t=(0,r.useSharedFacet)(ks),n=(0,r.useSharedFacet)(Gc),l=(0,r.useSharedFacet)(Wc),{t:o}=ec("RealmsStories.ReportFeedItem"),i=Fr("inherit"),c=m(),s=f(),u=E(),d=c.goBack,p=(0,r.useFacetMap)((e=>{if(null!=e.postType){if(e.postType==Nz.Post)return Nz.Post;if(e.postType==Nz.Comment)return Nz.Comment}}),[],[s]),g=(0,r.useFacetMap)((e=>e.get("postId")),[],[u]),h=(0,r.useFacetMap)(((e,t,n,a)=>{if(null!=t&&null!=e)return t===Nz.Post?n.stories.find((t=>t.id===e)):a.comments.find((t=>t.id===e))}),[],[g,p,e,t]),v=(0,r.useFacetMap)(((e,t)=>{if(e){const n=t.players.find((t=>t.xuid===e.authorXuid));return n?n.gamerTag:void 0}}),[],[h,n]),b=(0,r.useFacetMap)(((e,t,n)=>null!=e&&null!=t&&null!=n?{postId:t.id,parentPostId:e===Nz.Comment?t.parentId:"",authorGamertag:n,timePosted:t.timePosted,timePostedNarration:t.timePostedNarration,image:e===Nz.Post?t.image:"",body:t.body}:{postId:"",parentPostId:"",authorGamertag:"",timePosted:"",timePostedNarration:"",image:"",body:""}),[],[p,h,v]),y=(0,r.useFacetMap)(((e,t,n,a)=>null!=e&&null!=t&&null!=n&&null!=a),[],[p,g,h,v]),F=(0,r.useFacetMap)(((e,t,n)=>e?t===Nz.Post?o(".screenTitle.feedItem",[n.authorGamertag]):o(".screenTitle.comment",[n.authorGamertag]):o(".error.title")),[o],[y,p,b]),S=o(".hideContent"),[C,M]=(0,r.useFacetState)(!1),w=(0,r.useFacetMap)((e=>e.authorGamertag),[],[b]),k=(0,r.useFacetMap)((e=>e.timePosted),[],[b]),T=(0,r.useFacetMap)((e=>e.body),[],[b]),I=(0,r.useFacetMap)((e=>e.image),[],[b]),P=(0,r.useFacetWrap)(pz.STORY),x=(0,r.useFacetMap)((e=>o(".targetPanel.title",[e])),[o],[w]),O=o(".targetPanel.description"),A=(0,r.useFacetMap)((e=>[e,O].join(" . ")),[O],[x]),[N,R]=(0,r.useFacetState)(Rz.FeedItem);(0,r.useFacetEffect)((e=>e===Nz.Post?R(Rz.FeedItem):R(Rz.Comment)),[R],[p]);const _=(0,r.useFacetMemo)(((e,t)=>{const n=[];return n.push(e===Nz.Post?{value:Rz.FeedItem,label:o(`.targetOption.${Dz[Rz.FeedItem]}`),gamepadAlias:Dz[Rz.FeedItem]}:{value:Rz.Comment,label:o(`.targetOption.${Dz[Rz.Comment]}`),gamepadAlias:Dz[Rz.Comment]}),n.push({value:Rz.Gamertag,label:o(`.targetOption.${Dz[Rz.Gamertag]}`),gamepadAlias:Dz[Rz.Gamertag]}),n.map(((e,n,a)=>{const r=e.value===t;return Oz(Oz({},e),{},{enumeration:o(".enumeration",[`${n+1}`,`${a.length+1}`]),isSelected:r,isSelectable:r})}))}),[o],[p,N]),L=(0,r.useFacetMap)((e=>o(".enumeration",[`${e.length+1}`,`${e.length+1}`])),[o],[_]),D=(0,r.useFacetMap)((e=>o(`.targetPanel.description.${Dz[e]}`)),[o],[N]),[W,B]=(0,r.useFacetState)(void 0),U=(0,r.useFacetMemo)((e=>[{value:_z.SexuallyInappropriate,label:o(`.reasonOption.${Wz[_z.SexuallyInappropriate]}`),gamepadAlias:Wz[_z.SexuallyInappropriate]},{value:_z.Violence,label:o(`.reasonOption.${Wz[_z.Violence]}`),gamepadAlias:Wz[_z.Violence]},{value:_z.Harassment,label:o(`.reasonOption.${Wz[_z.Harassment]}`),gamepadAlias:Wz[_z.Harassment]},{value:_z.Spam,label:o(`.reasonOption.${Wz[_z.Spam]}`),gamepadAlias:Wz[_z.Spam]},{value:_z.TerroristContent,label:o(`.reasonOption.${Wz[_z.TerroristContent]}`),gamepadAlias:Wz[_z.TerroristContent]},{value:_z.SomethingElse,label:o(`.reasonOption.${Wz[_z.SomethingElse]}`),gamepadAlias:Wz[_z.SomethingElse]}].map(((t,n,a)=>{const r=t.value===e;return Oz(Oz({},t),{},{enumeration:o(".enumeration",[`${n+1}`,`${a.length+1}`]),isSelected:r,isSelectable:r})}))),[o],[W]),z=(0,r.useFacetMap)((e=>o(".enumeration",[`${e.length+1}`,`${e.length+1}`])),[o],[U]),j=(0,r.useFacetMap)((e=>e===_z.SomethingElse),[],[W]),[H,V]=(0,r.useFacetState)(void 0),G=(0,r.useFacetMemo)((e=>[{value:Lz.ImminentHarm,label:o(`.somethingElseOption.${Bz[Lz.ImminentHarm]}`),gamepadAlias:Bz[Lz.ImminentHarm]},{value:Lz.HateSpeech,label:o(`.somethingElseOption.${Bz[Lz.HateSpeech]}`),gamepadAlias:Bz[Lz.HateSpeech]},{value:Lz.Fraud,label:o(`.somethingElseOption.${Bz[Lz.Fraud]}`),gamepadAlias:Bz[Lz.Fraud]},{value:Lz.Cheating,label:o(`.somethingElseOption.${Bz[Lz.Cheating]}`),gamepadAlias:Bz[Lz.Cheating]},{value:Lz.ChildAbuse,label:o(`.somethingElseOption.${Bz[Lz.ChildAbuse]}`),gamepadAlias:Bz[Lz.ChildAbuse]},{value:Lz.DrugsOrAlcohol,label:o(`.somethingElseOption.${Bz[Lz.DrugsOrAlcohol]}`),gamepadAlias:Bz[Lz.DrugsOrAlcohol]},{value:Lz.Profanity,label:o(`.somethingElseOption.${Bz[Lz.Profanity]}`),gamepadAlias:Bz[Lz.Profanity]},{value:Lz.SelfHarm,label:o(`.somethingElseOption.${Bz[Lz.SelfHarm]}`),gamepadAlias:Bz[Lz.SelfHarm]},{value:Lz.Other,label:o(`.somethingElseOption.${Bz[Lz.Other]}`),gamepadAlias:Bz[Lz.Other]}].map(((t,n,a)=>{const r=t.value===e;return Oz(Oz({},t),{},{enumeration:o(".enumeration",[`${n+1}`,`${a.length+1}`]),isSelected:r,isSelectable:r})}))),[o],[H]),$=(0,r.useFacetMap)((e=>o(".enumeration",[`${e.length+1}`,`${e.length+1}`])),[o],[G]),[K,X]=(0,r.useFacetState)(""),Y=(0,r.useFacetMap)((e=>[o(`.commentPanel.description.${Dz[e]}`),o(".commentPanel.description.addComment")].join(" ")),[o],[N]),q=(0,r.useFacetMap)(((e,t)=>null==e||e===_z.SomethingElse&&null==t),[],[W,H]),Q=(0,r.useFacetMap)((e=>{const t=o(".enumeration",["1","2"]);return e?[t,o(".reportPanel.report.disabledHint")].join(" . "):t}),[o],[q]),J=(0,r.useFacetCallback)(((e,t,n,a,r,l,o)=>()=>{let i="";r&&null!=l?i=Bz[l]:null==a||r||(i=Wz[a]),e===Rz.Gamertag?t.reportGamertagToXbox(n.authorGamertag,n.postId,n.parentPostId,i,o):t.reportFeedItemToXbox(n.postId,n.parentPostId,i,o),c.goBack()}),[c],[N,l,b,W,j,H,K]);return a.createElement(AP,{onBack:d,title:F,screenAnalyticsId:"RealmsStoriesReportFeedItem",gamepadAlias:"realms-stories-report-feed-item"},(()=>a.createElement(Yv,null,a.createElement(om,{size:4}),a.createElement(Yv.Row,null,a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:y,condition:!1},a.createElement(Yv.Column,{wideSize:12,narrowSize:8},a.createElement(cb,{title:o(".error.title"),text:o(".error.text"),buttons:[{text:o(".error.buttonText"),onClick:d,inputLegend:o(".buttonLegend")}]}))),a.createElement(r.Mount,{when:y},a.createElement(a.Fragment,null,a.createElement(Yv.Column,{wideSize:4,narrowSize:0},a.createElement("div",{className:Dr()("uHQQt",i.border.base)},a.createElement(qb,{title:S,value:C,onChange:M})),a.createElement(r.Mount,{when:C,condition:!1},a.createElement(fz,{sender:w,timestamp:k,content:T,image:I,containerType:P}))),a.createElement(Yv.Column,{wideSize:8,narrowSize:8},a.createElement(Ef,{floating:!0,delegateFocusFromMemory:!0},a.createElement("div",{className:Dr()("gSWtr",i.border.base)},a.createElement(Kf,{narrationText:A},a.createElement(Yf,null,x),a.createElement(qf,null,O),a.createElement(om,{size:2}),a.createElement(vx,{title:o(".targetOptions.title"),options:_,value:N,onItemSelect:R,buttonTestId:"target-dropdown-button",closeButtonNarrationSuffix:L,dropdownNarrationSuffix:D}),a.createElement(om,{size:4}),a.createElement(qf,null,D)),a.createElement(Kf,{narrationText:[o(".reasonPanel.title"),o(".reasonPanel.description")].join(" . ")},a.createElement(Yf,null,o(".reasonPanel.title")),a.createElement(qf,null,o(".reasonPanel.description")),a.createElement(om,{size:2}),a.createElement(vx,{title:o(".reasonOptions.title"),options:U,value:W,onItemSelect:B,placeholderText:o(".reasonOptions.placeholder"),buttonTestId:"reason-dropdown-button",closeButtonNarrationSuffix:z}),a.createElement(r.Mount,{when:j},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(vx,{title:o(".reasonOptions.title"),options:G,value:H,onItemSelect:V,placeholderText:o(".reasonOptions.placeholder"),buttonTestId:"something-else-dropdown-button",closeButtonNarrationSuffix:$})))),a.createElement(Sg,{label:o(".commentPanel.title"),description:Y,placeholder:o(".commentPanel.placeholder"),value:K,maxLength:350,rows:6,onChange:X}),a.createElement(FT,{title:o(".reportPanel.title"),description:o(".reportPanel.description"),stackedButtons:!0,buttons:a.createElement(a.Fragment,null,a.createElement(mg,{variant:"destructive",inputLegend:o(".buttonLegend"),onClick:J,narrationSuffix:Q,disabled:q},o(".reportPanel.report")),a.createElement(FT.ButtonSpacing,null),a.createElement(mg,{variant:"secondary",inputLegend:o(".buttonLegend"),onClick:d,narrationSuffix:o(".enumeration",["2","2"])},o(".reportPanel.cancel")))})))))))),a.createElement(om,{size:4}),a.createElement(iE.Space,null))))}function zz({storyComment:e}){const t=(0,r.useSharedFacet)(Gc),n=(0,r.useFacetMap)((e=>e.players),[],[t]),l=(0,r.useFacetMap)((e=>e.body),[],[e]),o=(0,r.useFacetMap)((e=>e.timePosted),[],[e]),i=(0,r.useFacetMap)((e=>e.timePostedNarration),[],[e]),c=(0,r.useFacetWrap)(!1),s=(0,r.useFacetMap)((e=>e.authorXuid),[],[e]),u=(0,r.useFacetMap)(((e,t)=>{const n=Uo(t,(t=>t.xuid===e));return null!=n?n:LU}),[],[s,n]),d=(0,r.useFacetMap)((e=>e.isPrimaryUser),[],[(0,r.useSharedFacet)(Gn)]),m=(0,r.useFacetMap)((e=>0===e.totalLikes),[],[e]),p=(0,r.useFacetMap)(((e,t)=>e||!t),[],[d,m]),f=(0,r.useFacetMap)(((e,t)=>{let n=1;return e||n++,t&&(n+=2),n}),[],[m,d]);return a.createElement(ez,{body:l,timePosted:o,timePostedNarration:i,storyFeedElementCount:f,author:u,hasBottomSection:(0,r.useFacetWrap)(null==p||p),shouldShowUnreadPostBadge:c,commentPostType:!0})}function jz({storyComment:e,index:t,numberOfComments:n}){const{t:l}=ec("RealmsStories.feedPost"),o=(0,r.useSharedFacet)(Bc),i=m(),c=f(),s=(0,r.useFacetMap)((e=>1===e.totalLikes?l(".totalLike",[e.totalLikes.toString()]):l(".totalLikes",[e.totalLikes.toString()])),[l],[e]),u=(0,r.useFacetMap)((e=>e.hasLiked),[],[e]),d=(0,r.useFacetMap)((e=>0===e.totalLikes),[],[e]),p=(0,r.useFacetMap)((e=>!e.isPrimaryUser),[],[(0,r.useSharedFacet)(Gn)]),g=(0,r.useSharedFacet)(Wc),E=(0,r.useFacetCallback)(((e,t)=>()=>{e.toggleLikeStatus!==iu.InProgress&&t.toggleLike(e.id,e.parentId)}),[],[e,g]),h=Ez.useModal(),v=(0,r.useFacetMap)((e=>e.authorXuid),[],[e]),b=(0,r.useFacetMap)(((e,t)=>e===t.userXuid),[],[v,o]),y=(0,r.useFacetMap)((e=>e.ownerXuid===e.userXuid),[],[o]),F=vz.useModal(),S=(0,a.useCallback)((()=>{F.hide(),h.hide()}),[F,h]),C=(0,r.useFacetCallback)(((e,t)=>()=>{t.delete(e.id,e.parentId),S()}),[S],[e,g]),M=(0,r.useFacetMap)((e=>e.deleteStatus==iu.InputInvalid||e.deleteStatus==iu.InternalError||e.deleteStatus==iu.UploadFailed||e.deleteStatus==iu.PostingFailed),[],[e]),w=(0,r.useFacetCallback)(((e,t)=>()=>t.clearDeleteStatus(e.id)),[],[e,g]),k=yz.useModal(),T=(0,a.useCallback)((()=>{k.hide(),h.hide()}),[k,h]),I=(0,r.useFacetCallback)(((e,t)=>()=>{t.reportToClubOwner(e.id,e.parentId),T()}),[T],[e,g]),P=(0,r.useFacetMap)((e=>e.reportToClubOwnerStatus==iu.InputInvalid||e.reportToClubOwnerStatus==iu.InternalError||e.reportToClubOwnerStatus==iu.UploadFailed||e.reportToClubOwnerStatus==iu.PostingFailed),[],[e]),x=(0,r.useFacetCallback)(((e,t)=>()=>t.clearReportToClubOwnerStatus(e.id)),[],[e,g]),O=(0,r.useFacetCallback)(((e,t)=>()=>{h.hide(),i.push(`/realms-stories-report-feed-item/${Nz.Comment}/${e.realmId}?postId=${t.id}`)}),[i,h],[c,e]),A=(0,r.useFacetMap)((e=>e.reportToXboxStatus),[],[e]),N=(0,r.useFacetMap)((e=>e!==iu.Idle&&e!==iu.InProgress&&e!==iu.RateLimit),[],[A]),R=(0,r.useFacetCallback)(((e,t)=>()=>{e.clearReportToXboxStatus(t.id)}),[],[g,e]),_=(0,r.useFacetMap)((e=>e.deleteStatus==iu.RateLimit||e.reportToClubOwnerStatus==iu.RateLimit||e.reportToXboxStatus==iu.RateLimit),[],[e]),L=(0,r.useFacetCallback)((e=>()=>{e.deleteStatus==iu.RateLimit&&w(),e.reportToClubOwnerStatus==iu.RateLimit&&x(),e.reportToXboxStatus==iu.RateLimit&&R()}),[w,x,R],[e]),D=(0,r.useSharedFacet)(uc);(0,r.useFacetEffect)(((e,t,n)=>{e.reportToClubOwnerStatus===iu.Success&&(t.queueSnackbar(l(".options.notify.toast")),n.clearReportToClubOwnerStatus(e.id))}),[l],[e,D,g]);const W=(0,r.useFacetMap)((e=>[l(".commentPostGroup"),l(".postGroupRole"),l(".postGroupEnumeration",[`${t+1}`,`${e}`])].join(" . ")),[t,l],[n]);return a.createElement(a.Fragment,null,a.createElement(wf,{text:W},a.createElement(ZU,{content:a.createElement(zz,{storyComment:e}),index:t,totalLikes:s,hasLiked:u,hideLikes:d,readOnly:p,toggleLikeCallback:E,openOptionsCallback:h.show})),a.createElement(r.Mount,{when:h.isVisible},a.createElement(Ez.Component,{isAuthor:b,isRealmOwner:y,isCommentOptions:!0,onClose:h.hide,onDelete:F.show,onNotify:k.show,onReport:O})),a.createElement(r.Mount,{when:F.isVisible},a.createElement(vz.Component,{onConfirm:C,onCancel:S,isCommentOptions:!0})),a.createElement(r.Mount,{when:M},a.createElement(Sz.Component,{onClose:w,isCommentOptions:!0})),a.createElement(r.Mount,{when:k.isVisible},a.createElement(yz.Component,{onConfirm:I,onCancel:T,isCommentOptions:!0})),a.createElement(r.Mount,{when:P},a.createElement(Mz.Component,{onClose:x})),a.createElement(r.Mount,{when:_},a.createElement(rW.Component,{onClickClose:L})),a.createElement(r.Mount,{when:N},a.createElement(Pz.Component,{reportStatus:A,onClose:R})))}function Hz(){const e=p(),{t}=ec("RealmsStories.CommentsScreen"),{t:n}=ec("RealmsStories.feedEvent"),{t:l}=ec("RealmsStories.feed"),o=f(),i=(0,r.useFacetMap)((e=>e.id),[],[o]),c=(0,r.useSharedFacet)(Ss),s=(0,r.useSharedFacet)(ks),u=(0,r.useSharedFacet)(jc),d=(0,r.useSharedFacet)(il),m=(0,r.useFacetMap)(((e,t)=>Uo(e.stories,(e=>e.id===decodeURIComponent(t)))),[],[c,i]),g=(0,r.useFacetMap)((e=>{var t;return null===(t=(null==e?void 0:e.commentsStatus)===ou.InProgress)||void 0===t||t}),[],[m]),E=(0,r.useFacetMap)((e=>e?e.body:""),[],[m]),h=(0,r.useFacetMap)((e=>!!e&&(null==e?void 0:e.isEvent)&&(null==e?void 0:e.isEventLoaded)),[],[m]),v=(0,r.useFacetMap)(((e,t)=>{if(e){const e=HU(t);if(e)return"large"===e.treatmentSize?pz.LARGE_EVENT:pz.MEDIUM_EVENT}return pz.STORY}),[],[h,E]),b=(0,r.useSharedFacet)(Gc),y=(0,r.useFacetMap)(((e,t,n)=>{const a=[];return e&&t&&t.eventPlayerXuids.map((e=>{var t;const r=null!==(t=Uo(n.players,(t=>t.xuid===e)))&&void 0!==t?t:LU;a.push(r)})),a}),[],[h,m,b]),F=(0,r.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.eventMetadata)&&void 0!==t?t:""}),[],[m]),S=dd(70),C=(0,r.useFacetMap)(((e,t,a,r,l)=>{if(e){var o;const e="large"===(null!==(o=VU(t))&&void 0!==o?o:"medium")?BU:UU;return GU({eventId:t,t:n,playerData:a,maxDisplayedPlayers:r?e.narrow:e.full,eventMetadata:l})}return t}),[n],[h,E,y,S,F]),M=(0,r.useFacetMap)((e=>e.players),[],[b]),w=(0,r.useFacetMap)(((e,n,a)=>{var r;return a?t(".realmEvent"):(e&&null!==(r=Uo(n,(t=>t.xuid===e.authorXuid)))&&void 0!==r?r:LU).gamerTag}),[t],[m,M,h]),k=(0,r.useFacetMap)((e=>e?e.timePosted:""),[],[m]),T=(0,r.useFacetMap)(((e,t,n)=>e?DU(n):t?t.image:""),[],[h,m,E]),I=(0,r.useFacetMap)(((e,t)=>e.comments.filter((e=>e.parentId===decodeURIComponent(t)))),[],[s,i]),P=(0,r.useFacetMap)((e=>e.length),[],[I]),x=sd(),O=(0,r.useFacetMap)((e=>e.commentInProgressBody),[],[u]),A=(0,r.useFacetCallback)((e=>t=>{e.commentInProgressBody=t}),[],[u]),N=(0,r.useSharedFacet)(Wc),[R,_]=(0,r.useFacetState)(!1);(0,r.useFacetEffect)(((e,t,n,a)=>{a||n||(_(!0),e.fetchStoryComments(decodeURIComponent(t)))}),[_],[N,i,g,R]);const[L,D]=my(!1),W=(0,r.useFacetCallback)(((e,t,n,a)=>()=>{dy(a,t)?D.show():(n.commentInProgressBody=t,e.postComment())}),[D],[N,O,u,(0,r.useSharedFacet)(Dc)]);(0,r.useFacetEffect)(((e,t)=>{e.postCommentStatus===iu.Success&&(A(""),t.clearPostCommentStatus())}),[A],[s,N]);const B=(0,r.useFacetMap)(((e,t)=>e&&(t.postCommentStatus==iu.InputInvalid||t.postCommentStatus==iu.InternalError||t.postCommentStatus==iu.UploadFailed||t.postCommentStatus==iu.PostingFailed)),[],[e,s]),U=(0,r.useFacetMap)(((e,t)=>e&&t.postCommentStatus==iu.RateLimit),[],[e,s]),z=(0,r.useFacetCallback)((e=>()=>{e.clearPostCommentStatus()}),[],[N]),j=(0,r.useFacetMap)(((e,t)=>""===e||t.postCommentStatus===iu.InProgress||t.postCommentStatus===iu.Uploading),[],[O,s]),H=(0,r.useFacetUnwrap)(j),V=Fr("neutral"),G=(0,r.useFacetMap)((e=>!e.isOnline),[],[d]),$=(0,r.useFacetMap)(((e,t)=>!(!e||e.commentsStatus!==ou.InternalError&&e.commentsStatus!==ou.FetchFailed&&e.commentsStatus!==ou.RateLimit||t)),[],[m,G]),K=(0,r.useFacetMap)(((e,t)=>e||t),[],[G,$]),X=(0,r.useFacetCallback)(((e,t)=>()=>{e.fetchStoryComments(decodeURIComponent(t))}),[],[N,i]),Y=(0,a.useRef)(null),q=(0,r.useFacetMap)(((e,n)=>[t(".writeYourComment"),t(".inputField"),t(".enumeration",["1","2"]),e.length>0?e:t(".inputFieldHint"),n?t(".textFieldEmptyStateNarration"):""].join(" . ")),[t],[O,j]),Q=(0,r.useFacetMap)((e=>e.isPrimaryUser),[],[(0,r.useSharedFacet)(Gn)]);return a.createElement(sr,{collection:LD},a.createElement(Iv,null,a.createElement(AP,{title:t(".header"),gamepadAlias:"realms-stories-comments-route",screenAnalyticsId:"StoriesComments",delegateByAlias:"comments-text-box"},(()=>a.createElement(Yv,null,a.createElement(r.Mount,{when:K},a.createElement(Yv.Row,{gamepadIndex:0},a.createElement(om,{size:"narrow"===x?0:1}),a.createElement(Yv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},a.createElement(r.Mount,{when:G},a.createElement(nz,null)),a.createElement(r.Mount,{when:$},a.createElement(rz,{onClick:X,pageName:t(".header")}))),a.createElement(om,{size:"narrow"===x?0:1}))),a.createElement(r.Mount,{when:D.isVisible},a.createElement(ry.Component,{onClose:D.hide})),a.createElement(r.Mount,{when:K,condition:!1},a.createElement(Yv.Row,{gamepadIndex:0,className:"OiYcF"},a.createElement(Yv.Column,{gamepadIndex:0,wideSize:4,narrowSize:0},a.createElement(fz,{content:C,sender:w,timestamp:k,image:T,containerType:v})),a.createElement(Yv.Column,{wideSize:8,narrowSize:8,gamepadIndex:1},a.createElement(om,{size:2}),a.createElement(r.Mount,{when:Q},a.createElement(Fp,{containerRef:Y,alias:"comments-text-box"},a.createElement("div",{ref:Y,className:Dr()("YwLqB",V.border.base)},a.createElement(r.DeferredMount,null,a.createElement(gy.WithButton,{buttonInputLegend:t(".select"),buttonText:t(".post"),buttonOnClick:W,placeholder:t(".writeYourComment"),label:"",maxLength:350,value:O,onChange:A,narrationOverride:q,buttonDisabled:j,buttonVariant:!1===H?"primary":"secondary",buttonNarrationHint:t(".enumeration",["2","2"]),onBlur:L}))))),a.createElement(r.Mount,{when:Q,condition:!1},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(sr,{collection:_D},a.createElement(GT,{role:"informative"},a.createElement(GT.Text,null,l(".guestAccountNotificationBanner")))))),a.createElement(NU,{loading:g,firstRowSeparatorVertical:a.createElement(om,{size:1}),data:I,header:a.createElement(om,{size:"narrow"===x?1:3}),gamepadIndex:1,columns:1,itemSeparatorVertical:a.createElement(om,{size:"narrow"===x?2:4}),renderItem:({itemFacet:e,index:t})=>a.createElement(jz,{storyComment:e,index:t,numberOfComments:P}),footer:a.createElement(om,{size:4})})))),a.createElement(iE.Space,null)))),a.createElement(r.Mount,{when:B},a.createElement(aW.Component,{onClickClose:z})),a.createElement(r.Mount,{when:U},a.createElement(rW.Component,{onClickClose:z}))))}const Vz=(0,a.createContext)({getId:()=>0,set:()=>{}}),Gz=e=>{const t=(0,a.useContext)(Vz),[n,l]=(0,r.useFacetState)(r.NO_VALUE);(0,a.useEffect)((()=>{n.get()==r.NO_VALUE&&l(t.getId())}),[n,l,t]),(0,r.useFacetEffect)(((e,n)=>{t.set(e,n)}),[t],[n,(0,r.useFacetWrap)(e)])};function $z({children:e,setNarrationTextState:t}){const n=(0,a.useRef)(0);return a.createElement(Vz.Provider,{value:(0,a.useMemo)((()=>({getId:()=>n.current++,set:(e,n)=>t((t=>t===r.NO_VALUE?[]:(t[e]=!1===n?"":n,t)))})),[t])},e)}function Kz({autofocus:e,gamepadIndex:t,children:n,onClick:l,inputLegend:o,gamepadAlias:i,onFocusChanged:c,onHoverChanged:s,narrationSuffix:u,narrationTextOverride:d,role:m="neutral",narrateCardRole:p=!0,hideShadow:f=!1,fillShadow:g=!1}){const E=Cr("neutral"),[h,v]=(0,r.useFacetState)([]),b=(0,r.useFacetWrap)(f),y=Fr(m),F=(0,r.useFacetWrap)(null!=d?d:""),{t:S}=ec("Card"),C=(0,r.useFacetMap)(((e,t,n)=>t||[...e,p?S(".narrationComponentTypeButton"):null,n].filter(Boolean).join(" . ")),[S,p],[h,F,(0,r.useFacetWrap)(null!=u?u:"")]);return a.createElement(Xa,{role:m},a.createElement("div",{className:"MLe4y"},a.createElement(tg,{autofocus:e,gamepadAlias:i,className:Dr()("Dsmzk",y.border.interactive,y.text.base),classNameHovered:"IseJx",classNamePressed:"JAVQA",gamepadIndex:t,inputLegend:o,narrationText:C,onClick:l,onFocusChanged:c,onHoverChanged:s,soundEffectPressed:E.press},a.createElement(Jm,null),a.createElement($z,{setNarrationTextState:v},n),a.createElement(r.Mount,{when:b,condition:!1},a.createElement(a.Fragment,null,a.createElement("div",{className:Dr()("Ikw_7",y.shadow.base)}),g&&a.createElement("div",{className:Dr()("KOpJ7",y.background.base,y.background.hover)})))),a.createElement("div",{className:Dr()("xeqcX",y.dropShadow.base)})))}Kz.Information=function({children:e,innerRef:t,narrationText:n}){const r=Fr("inherit");return Gz(n),a.createElement("div",{className:Dr()("XiGeZ",r.border.base,r.background.base,r.background.hover),ref:t},a.createElement(om,{size:2}),e,a.createElement(om,{size:2}))};const Xz=n.p+"assets/emptyRealmSlotBig-174b3.png",Yz=n.p+"assets/emptyRealmSlotSmall-fe677.png",qz=n.p+"assets/celebration_world_icon-46ff8.jpg",Qz="realm-preview-replace-preview-realm-close",Jz=Km((({onConfirm:e,onClose:t})=>{const{t:n}=ec("RealmsPreviews.ReplaceWorld"),r=n(".message");return a.createElement(vE,{defaultFocusAlias:Qz},a.createElement(vE.Header,{onClose:t},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:r,gamepadIndex:0},r)),a.createElement(vE.Buttons,null,a.createElement(mg,{"data-testid":"replace-world-confirm-button",gamepadIndex:0,inputLegend:n(".select"),variant:"primary",onClick:e},n(".confirm")),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:1,gamepadAlias:Qz,inputLegend:n(".select"),variant:"secondary",onClick:t},n(".cancel"))))}));let Zz;function ej({world:e,index:t,onItemClick:n}){const{t:l}=ec("ChooseSlotRoute"),o=(0,r.useFacetMap)((e=>e.worldName),[],[e]),i=(0,r.useFacetMap)((e=>-1===e.id?Xz:e.slotImage.length>0?qz:RD),[],[e]),c=(0,r.useFacetMap)((e=>-1===e.id?l(".emptySlotHint"):l(".slotHint")),[l],[e]),s=(0,r.useFacetMap)((e=>l(".slotEnumeration",[(t+1).toString(),e.toString()])),[l,t],[c]);return a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(Kz,{gamepadIndex:t,inputLegend:l(".select"),onClick:n,narrationSuffix:s},a.createElement(Mp,{src:i,aspectRatio:Mp.AspectRatio["16:9"]}),a.createElement(Kz.Information,{narrationText:o},a.createElement(fm,{type:"body",verticalAlign:"center"},o))))}function tj({onItemClick:e}){return a.createElement(NU,{gamepadIndex:0,data:(0,r.useFacetMap)((e=>e.realmSlots),[],[(0,r.useSharedFacet)(Fs)]),columns:3,itemSeparatorHorizontal:a.createElement(om,{size:4}),renderItem:({itemFacet:t,index:n})=>a.createElement(ej,{world:t,index:n,onItemClick:()=>e(n)})})}function nj({world:e,index:t,onItemClick:n}){const{t:l}=ec("ChooseSlotRoute"),o=(0,r.useFacetMap)((e=>e.worldName),[],[e]),i=(0,r.useFacetMap)((e=>-1===e.id?Yz:e.slotImage.length>0?qz:RD),[],[e]),c=Fr("neutral80"),s=(0,r.useFacetMap)(((e,n)=>l(".slotButtonNarration",[n.toString(),(t+1).toString(),-1===e.id?l(".emptySlotHint"):l(".slotHint")])),[l,t],[e,o]);return a.createElement(TM,{gamepadIndex:t,tall:!0},a.createElement(TM.Action,{inputLegend:l(".select"),narrationText:s,onClick:n},a.createElement("div",{className:"xKrMY"},a.createElement(Mp,{src:i,aspectRatio:Mp.AspectRatio["16:9"],className:Dr()(c.border.base,"WsmeP")})),a.createElement(TM.Main,null,a.createElement(fm,{type:"body"},o))))}function aj({onItemClick:e}){return a.createElement(FU,{header:a.createElement(om,{size:2}),gamepadIndex:0,data:(0,r.useFacetMap)((e=>e.realmSlots),[],[(0,r.useSharedFacet)(Fs)]),renderItem:({itemFacet:t,index:n})=>a.createElement(nj,{world:t,index:n,onItemClick:()=>e(n)})})}function rj(){const e=Yr(),{t}=ec("ChooseSlotRoute"),n=dd(70),l=(0,r.useSharedFacet)(Fs),o=(0,r.useSharedFacet)(ku),i=(0,r.useSharedFacet)(Is),c=function(){const[e,t]=(0,r.useFacetState)(Zz.IDLE),n=(0,r.useSharedFacet)(Fs),a=(0,r.useFacetCallback)(((e,n)=>a=>{e==Zz.IDLE&&(t(Zz.SELECTING_SLOT),n.selectSlot(a))}),[t],[e,n]),l=(0,r.useFacetCallback)((e=>()=>{t(Zz.IDLE),e.reset()}),[t],[n]);return(0,r.useFacetEffect)(((e,n)=>{n==Zz.SELECTING_SLOT&&(e.isSlotSelected?t(Zz.SLOT_SELECTED):e.didFailToActivateSlot&&t(Zz.ERROR))}),[t],[n,e]),{state:e,select:e=>a(e),reset:l}}(),s=(0,r.useFacetMap)(((e,t)=>e.isLoading&&t!==Zz.SELECTING_SLOT),[],[l,c.state]),u=(0,r.useFacetMap)((e=>t(".chooseSlotHeader",[e.selectedRealmName])),[t],[l]),d=f(),m=(0,r.useFacetMap)((e=>e.id),[],[d]),p=(0,r.useSharedFacet)(bi),g=(0,a.useRef)(!1);(0,r.useFacetEffect)(((e,t)=>{g.current||(g.current=!0,e.getSelectedRealmDetails(t))}),[g],[l,m]),(0,r.useFacetEffect)(((e,t,n,a,r)=>{n===Zz.SLOT_SELECTED&&"uninitialized"!==a.currentWorldId&&(c.reset(),r.setPreviewRealmForUpload(t))}),[e,c],[p,m,c.state,o,i]),(0,r.useFacetEffect)(((e,t,n,a)=>{n===Zz.SLOT_SELECTED&&"uninitialized"===a.currentWorldId&&(c.reset(),e.createWorldOnPreviewRealm(t))}),[e,c],[p,m,c.state,o]);const E=(0,r.useFacetMap)(((e,t)=>!e.isShowingConfirmationModal&&t===Zz.SELECTING_SLOT),[],[l,c.state]),h=(0,r.useFacetMap)(((e,t)=>e.isShowingConfirmationModal&&t==Zz.SELECTING_SLOT),[],[l,c.state]),v=(0,r.useFacetCallback)((e=>()=>{e.confirm()}),[],[l]),b=(0,r.useFacetMap)((e=>e.didFailToActivateSlot),[],[l]),y=(0,r.useFacetMap)((e=>e.didFailToQuerySelectedRealmDetails),[],[l]),F=Fr("inherit"),S=t(".backHint"),C=(0,r.useFacetMap)((e=>t(".screen",[e])),[t],[u]),M=(0,r.useFacetCallback)(((e,t)=>()=>{e.didFailToQuerySelectedRealmDetails&&e.getSelectedRealmDetails(t)}),[],[l,m]);return a.createElement(Iv,null,a.createElement(r.Mount,{when:s},a.createElement("div",{className:Dr()("aziqd",F.overlay.base)},a.createElement(ff,null))),a.createElement(r.Mount,{when:s,condition:!1},a.createElement(a.Fragment,null,a.createElement(kv,{text:C,interruptible:!1}),a.createElement($v,{onBackButton:e.goBack,backButtonHint:S,center:a.createElement(fm,{type:"header5A"},u),gamepadAlias:"choose-slote-route"},a.createElement(Yv,null,a.createElement(Yv.Row,{gamepadIndex:0,fullHeight:!0},a.createElement(r.Mount,{when:y,condition:!1},a.createElement(Yv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},a.createElement(om,{size:2}),a.createElement(wl,{data:n},(e=>e?a.createElement(aj,{onItemClick:c.select}):a.createElement(tj,{onItemClick:c.select}))))),a.createElement(r.Mount,{when:y},a.createElement(a.Fragment,null,a.createElement(Yv.Column,{wideSize:2,narrowSize:0}),a.createElement(Yv.Column,{gamepadIndex:0,wideSize:8,narrowSize:8},a.createElement(Ef,{gamepadIndex:0},a.createElement(om,{size:2}),a.createElement(cb,{gamepadIndex:0,title:t(".noSlotsErrorTitle"),text:t(".noSlotsErrorMessage"),imgSrc:CU,buttons:[{text:t(".noSlotsErrorButton"),inputLegend:t(".select"),onClick:M}]})))))))),a.createElement(r.Mount,{when:h},a.createElement(Jz.Component,{onConfirm:v,onClose:c.reset})),a.createElement(r.Mount,{when:b},a.createElement(tW.Component,{onClickClose:c.reset})),a.createElement(r.Mount,{when:E},a.createElement(ZD,{onClickClose:c.reset})))),a.createElement(iE.Space,null))}!function(e){e[e.IDLE=0]="IDLE",e[e.SELECTING_SLOT=1]="SELECTING_SLOT",e[e.SLOT_SELECTED=2]="SLOT_SELECTED",e[e.ERROR=3]="ERROR"}(Zz||(Zz={}));const lj=n.p+"assets/connection_error-01bc2.png";function oj(){const{t:e}=ec("ConnectionErrorRoute"),t=m(),n=E(),l=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.get("titleMessage"))&&void 0!==t?t:""}),[],[n]),o=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.get("errorMessage"))&&void 0!==t?t:""}),[],[n]),i=Wb({wide:8,narrow:6,width:260}),c=(0,r.useFacetMap)((e=>e?"q8vdr":"h_Enb"),[],[i]);return a.createElement(Iv,null,a.createElement(Yv,null,a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{wideSize:10,narrowSize:8},a.createElement(om,{size:6}),a.createElement(cb.Wrapper,null,a.createElement(cb.Title,{children:l}),a.createElement(cb.Image,{imgClass:c,imgSrc:lj}),a.createElement(cb.Text,{children:o}),a.createElement(cb.ButtonsWrapper,null,a.createElement(cb.Button,{onClick:t.goBack},e(".backToMenu"))))),a.createElement(Yv.Column,{wideSize:1,narrowSize:0}))))}function ij({realmPlayer:e,index:t,role:n="neutral",isSimpleLayout:l=!1,totalPlayers:o}){const{t:i}=ec("RealmsStories"),c=(0,r.useFacetMap)((e=>e.gamerTag),[],[e]),s=(0,r.useFacetMap)((e=>e.gamerIcon),[],[e]),u=m(),d=(0,r.useFacetCallback)((e=>()=>u.push(GI(e.xuid))),[u],[e]),p=(0,r.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[e]),f=(0,r.useFacetMap)((e=>{switch(e.role){case Vc.OWNER:return"";case Vc.OPERATOR:return i(".members.operator");case Vc.MEMBER:return i(".members.member");case Vc.VISITOR:default:return i(".members.visitor")}}),[i],[e]),g=(0,r.useFacetMap)((e=>e.isInRealm?i(".feed.inRealm"):e.isOnline?i(".feed.online"):i(".feed.offline")),[i],[e]),E=(0,r.useFacetMap)(((e,n,a,r)=>[e,i(".RealmPlayerListItem.role"),n,l?void 0:a,null!=r?i(".narrationPlayerXOfY",[t.toString(),r.toString()]):void 0,i(".RealmPlayerListItem.hint")].filter((e=>e)).join(" . ")),[i,t,l],[c,g,f,(0,r.useFacetWrap)(o)]),h=(0,r.useFacetMap)((e=>e.role!==Vc.OWNER&&!1===l),[l],[e]),v=(0,r.useFacetMap)((e=>e.role===Vc.VISITOR?"neutral100":"primaryTint"),[],[e]),b=a.createElement(cy,{role:v},f),y=(0,r.useFacetUnwrap)((0,r.useFacetMap)((e=>e.role===Vc.OPERATOR),[],[e])),F=y!=r.NO_VALUE&&y?_D:LD;return a.createElement(TM,null,a.createElement(TM.Action,{narrationText:E,inputLegend:i(".RealmPlayerListItem.viewProfile"),onClick:d,role:n},a.createElement(TM.Cell,null,a.createElement(Ow,{src:s,variant:"large",status:p})),a.createElement(TM.Main,null,a.createElement(fm,{type:"body"},c),!l&&a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(fm,{type:"body",variant:"dimmer"},a.createElement(am,null,g)))),a.createElement(r.Mount,{when:h},a.createElement(TM.Cell,null,a.createElement(sr,{collection:F},b)))))}const cj=(e,t,n)=>(0,r.useFacetMemo)(((e,t)=>{if(t.length<=n)return t;const a=Rk(t);let r=0;const l=a.findIndex((t=>t.xuid===e.ownerXuid));if(l>=0&&sj(a,l,r++),e.userXuid!==e.ownerXuid){const t=a.findIndex((t=>t.xuid===e.userXuid));t>=0&&sj(a,t,r++)}const o=Rk(a,r).sort(((e,t)=>Number(t.hasOptedIn)-Number(e.hasOptedIn)));return a.splice(r,a.length,...o),Rk(a,0,n)}),[n],[e,t]),sj=(e,t,n)=>[e[t],e[n]]=[e[n],e[t]],uj="gzWC5",dj=n.p+"assets/members-empty-32029.png";function mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mj(Object(n),!0).forEach((function(t){fj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fj(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gj({isStoriesRouteActive:e,maximumDisplayedMembers:t}){const n=null!=t?t:300,l=(0,r.useSharedFacet)(jc),o=(0,r.useSharedFacet)(Gc),i=(0,r.useSharedFacet)(Bc),c=(0,r.useSharedFacet)(il),s=(0,r.useSharedFacet)(Wc),u=sd(),{t:d}=ec("RealmsStories"),{t:p}=ec("RealmsStories.members"),{t:g}=ec("Realms.LoadingModals"),{t:E}=ec("TextField"),h=(0,r.useFacetMap)((e=>e.userXuid),[],[i]),v=(0,r.useFacetMap)((e=>e.ownerXuid),[],[i]),b=(0,r.useFacetMap)(((e,t,n)=>n.isPrimaryUser&&e===t),[],[h,v,(0,r.useSharedFacet)(Gn)]),y=(0,r.useFacetMap)((e=>e.currentMemberFilterOption),[],[l]),F=(0,r.useFacetMap)((e=>e.currentMemberSearchText),[],[l]),S=(0,r.useFacetMap)((e=>e.currentMemberSortOption),[],[l]),[C,M]=(0,r.useFacetState)(!1),w=(0,r.useFacetMemo)((e=>{const t=[];return t.push({label:p(".allMembers"),value:Uc.All},{label:p(".onlineMembers"),value:Uc.Online},{label:p(".inRealmMembers"),value:Uc.InRealm}),t.map(((t,n,a)=>pj(pj({},t),{},{enumeration:p(".enumeration",[`${n+1}`,`${a.length}`]),gamepadAlias:`gamepad-alias-filter-${t.label}`,isSelectable:!0,isSelected:t.value===e})))}),[p],[y]),k=(0,r.useFacetMemo)(((e,t)=>{const n=[];return t!==Uc.InRealm&&n.push({label:p(".recentlyPlayed"),value:zc.MostRecent},{label:p(".leastRecentlyPlayed"),value:zc.LeastRecent}),n.push({label:p(".fromAtoZ"),value:zc.AlphabeticalAscending},{label:p(".fromZtoA"),value:zc.AlphabeticalDescending}),n.map(((t,n,a)=>pj(pj({},t),{},{enumeration:p(".enumeration",[`${n+1}`,`${a.length}`]),gamepadAlias:`gamepad-alias-sort-${t.label}`,isSelectable:!0,isSelected:t.value===e})))}),[p],[S,y]),T=(0,r.useFacetCallback)((e=>()=>{e.currentMemberFilterOption!==Uc.InRealm||e.currentMemberSortOption!==zc.LeastRecent&&e.currentMemberSortOption!==zc.MostRecent||(e.currentMemberSortOption=zc.AlphabeticalAscending)}),[],[l]),I=(0,r.useFacetMap)(((e,t)=>mw(e.players,(e=>e.xuid!=t&&e.role!==Vc.NONMEMBER))),[],[o,v]),P=(0,r.useFacetMap)(((e,t)=>0===t.length?mw(e,(e=>e.fetchProfileStatus===ou.Success)):mw(e,(e=>e.gamerTag.toLowerCase().includes(t.toLowerCase())))),[],[I,F]),x=cj(i,P,n-1),O=cj(i,x,n-1),A=sz(x),N=(0,r.useFacetMemo)(((e,t,n)=>{let a=e.allMembers;if(t===Uc.Online)a=e.onlinePlayers;else if(t===Uc.InRealm&&(a=e.inRealmPlayers,n===zc.LeastRecent||n===zc.MostRecent))return a;let r=[];switch(n){case zc.AlphabeticalAscending:r=a.sort($c);break;case zc.AlphabeticalDescending:r=a.sort(Kc);break;case zc.LeastRecent:r=function(e){return e.sort(qc)}(a);break;case zc.MostRecent:default:r=Xc(a)}return r}),[],[A,y,S,x]);(0,r.useFacetEffect)(((e,t)=>{!e&&t&&M(!1)}),[M],[e,C]);const R=(0,r.useFacetMap)((e=>e.length),[],[N]),_=(0,r.useFacetMap)((e=>e.length>0),[],[N]),L=(0,r.useFacetMap)((e=>null!=Uo(e,(e=>e.fetchProfileStatus===ou.InProgress))),[],[N]),D=(0,r.useFacetMap)(((e,t)=>e.fetchMembersStatus===ou.InProgress||e.fetchOnlineMembersStatus===ou.InProgress||t),[],[o,L]),W=(0,r.useFacetMap)(((e,t)=>Uo(e.players,(e=>e.xuid===t))),[],[o,v]),B=(0,r.useFacetMap)(((e,t,n)=>null!=e&&!(t===Uc.Online&&!e.isOnline)&&!(t===Uc.InRealm&&!e.isInRealm)&&(0===n.length||e.gamerTag.toLowerCase().includes(n.toLowerCase()))),[],[W,y,F]),U=(0,r.useFacetMap)(((e,t)=>e||t),[],[_,B]),{narrateText:z}=gf({interruptible:!1}),[j,H]=(0,r.useFacetState)(!1),V=(0,r.useFacetCallback)(((e,t,a,r,l)=>()=>{if(!e)return;H(!1);let o=r.length,i=l.length;a&&(o+=1,i+=1);const c=[p(".searchResult.name"),p(".searchResult.role")];""===t.currentMemberSearchText?c.push(p(".searchResult.hint.cleared")):0===i?c.push(p(".searchResult.hint.noResult")):1===i?c.push(p(".searchResult.hint.oneResult")):i<n?c.push(p(".searchResult.hint.multiResult",[`${o}`])):(c.push(p(".warning")),c.push(p(".searchResult.hint.multiResultTooManyPlayers",[`${i}`,`${o}`]))),z(c.join(" . "))}),[H,z,p,n],[j,l,B,P,N,O]);(0,r.useFacetEffect)((()=>{V()}),[V],[O]);const G=(0,r.useFacetMap)((e=>{const t=[p(".search"),E(".narrationComponentType"),p(".enumeration",["1","3"])];return e.currentMemberSearchText&&t.push(e.currentMemberSearchText),t.join(" . ")}),[p,E],[l]),[$,K]=(0,r.useFacetState)(!1),X=(0,r.useFacetCallback)(((e,t,n)=>a=>{H(!0),e.currentMemberSearchText=a,t&&z(n)}),[z,H],[l,$,G]),Y=(0,r.useFacetMap)((e=>[p(".realmOwner"),p(".section"),p(".enumeration",["1",e?"2":"1"])].join(" . ")),[p],[_]),q=(0,r.useFacetMap)((e=>[p(".realmMembers"),p(".section"),p(".enumeration",e?["2","2"]:["1","1"])].join(" . ")),[p],[B]),Q=(0,r.useIsDeferring)(),J=(0,r.useIsPaused)(),Z=(0,r.useFacetMap)(((e,t)=>t||e||J),[J],[Q,D]),ee=(0,r.useFacetMap)((e=>!e.isOnline),[],[c]),te=(0,r.useFacetMap)(((e,t)=>(e.fetchMembersStatus===ou.InternalError||e.fetchMembersStatus===ou.FetchFailed||e.fetchMembersStatus===ou.RateLimit)&&!t),[],[o,ee]),ne=(0,r.useFacetMap)(((e,t)=>e||t),[],[ee,te]),ae=(0,r.useFacetCallback)((e=>()=>{e.fetchMembers()}),[],[s]),re=f(),le=m(),oe=(0,r.useSharedFacet)(Gi),ie=(0,r.useFacetCallback)(((e,t)=>()=>{le.push(`/${t.isInGame?"game-settings":"settings"}/members/${e.realmId}`),M(!0)}),[le,M],[re,oe]),ce=(0,r.useFacetMap)((e=>e.players.length>n),[n],[o]);return a.createElement(r.DeferredMountProvider,null,a.createElement(Yv,{noGutters:!0},a.createElement(r.Mount,{when:ne},a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{wideSize:10,narrowSize:8},a.createElement(r.Mount,{when:ee},a.createElement(nz,null)),a.createElement(r.Mount,{when:te},a.createElement(rz,{onClick:ae,pageName:d(".members")}))),a.createElement(Yv.Column,{wideSize:1,narrowSize:0}))),a.createElement(r.Mount,{when:ne,condition:!1},a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:ce},a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:12,narrowSize:8},a.createElement(lz,null)),a.createElement(om,{size:4}))),a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:4,narrowSize:8},a.createElement(Vf,{"data-testid":"member-search-field-id",placeholder:p(".search"),narrationText:G,onSelectedChange:K,placeholderIcon:Hf.MagnifyingGlass,value:F,onBlur:X,maxLength:20,shouldBlurOnEscape:!0,shouldBlurOnEnter:!0})),a.createElement(Yv.Column,{wideSize:4,narrowSize:4},a.createElement("div",{className:uj},a.createElement(om,{size:"narrow"===u?2:0}),a.createElement(vx,{title:p(".filter.title"),options:w,value:y,onItemSelect:(0,r.useFacetCallback)((e=>t=>{e.currentMemberFilterOption=t,T()}),[T],[l]),buttonTestId:"realms-members-filter-dropdown-button",dropdownOptionRoleHint:p(".filter.title"),dropdownEnumeration:p(".enumeration",["2","3"])}))),a.createElement(Yv.Column,{wideSize:4,narrowSize:4},a.createElement("div",{className:uj},a.createElement(om,{size:"narrow"===u?2:0}),a.createElement(vx,{title:p(".sort.title"),options:k,value:S,onItemSelect:(0,r.useFacetCallback)((e=>t=>{e.currentMemberSortOption=t}),[],[l]),buttonTestId:"realms-members-sort-dropdown-button",dropdownOptionRoleHint:p(".sort.title"),dropdownEnumeration:p(".enumeration",["3","3"])})))),a.createElement(om,{size:3}),a.createElement(r.Mount,{when:b,condition:!1},a.createElement("div",{className:"po8FX"},a.createElement(yT,{role:"neutral80",reversed:!1}))),a.createElement(Ej,{isOwner:b,onManageMembers:ie},a.createElement(r.Mount,{when:b},a.createElement(yT,{role:"neutral80",reversed:!1})),a.createElement(Ef,{loading:Z,delegateFocusFromMemory:!0},a.createElement(om,{size:2}),a.createElement(r.Mount,{when:U},a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:B},a.createElement(a.Fragment,null,a.createElement(wf,{text:Y},a.createElement(eF,{role:"primary",label:p(".realmOwner")}),a.createElement(r.With,{data:W},(e=>a.createElement(ij,{realmPlayer:e,index:0})))),a.createElement(om,{size:2}))),a.createElement(r.Mount,{when:_},a.createElement(a.Fragment,null,a.createElement(wf,{text:q},a.createElement(eF,{role:"primary",label:p(".realmMembers")}),!1===J&&a.createElement(r.Map,{array:N},((e,t)=>a.createElement(ij,{realmPlayer:e,index:t+1,totalPlayers:R})))))))),a.createElement(r.Mount,{when:U,condition:!1},a.createElement(r.DeferredMount,null,a.createElement(cb,{title:p(".noMembersFound"),imgSrc:dj,imgClass:wB()}))),a.createElement(om,{size:1}))))),a.createElement(r.Mount,{when:C},a.createElement(ay.Component,{title:g(".loading")}))))}function Ej({children:e,isOwner:t,onManageMembers:n}){const{t:l}=ec("RealmsStories.members");return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:t},a.createElement(Yv.Row,{fullHeight:!0},a.createElement(Yv.Column,{wideSize:4,narrowSize:3},a.createElement(mg,{inputLegend:l(".manage"),variant:"secondary",gamepadAlias:"manage-members-button",onClick:n},l(".manage"))),a.createElement(Yv.Column,{wideSize:8,narrowSize:5},e))),a.createElement(r.Mount,{when:t,condition:!1},a.createElement(Yv.Row,{fullHeight:!0},a.createElement(Yv.Column,{wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{wideSize:10,narrowSize:8},e),a.createElement(Yv.Column,{wideSize:1,narrowSize:0}))))}const hj=n.p+"assets/empty-592da.png";function vj(){const e=m(),{t}=ec("RealmsStories.OptedOutMembers"),n=(0,r.useSharedFacet)(Bc),l=(0,r.useSharedFacet)(Gc),o=(0,r.useFacetMap)((e=>Xc(mw(e.players,(e=>!e.hasOptedIn&&e.role!==Vc.NONMEMBER)))),[],[l]),i=cj(n,o,300),c=(0,r.useFacetMap)((e=>e.length),[],[i]),s=(0,r.useFacetMap)((e=>e>0),[],[c]),u=(0,r.useFacetMap)(((e,t)=>t.length<e.length),[],[o,i]),d=(0,r.useFacetMap)((e=>e.fetchMembersStatus===ou.InProgress||e.fetchOnlineMembersStatus===ou.InProgress),[],[l]),p=(0,r.useFacetMap)((e=>null!=Uo(e,(e=>e.fetchProfileStatus===ou.InProgress))),[],[i]),f=(0,r.useIsDeferring)(),g=(0,r.useIsPaused)(),E=(0,r.useFacetMap)(((e,t,n)=>e||t||n||g),[g],[d,p,f]),h=t(".header"),v=t(".screen",[h]),b=[v,t(".listName"),t(".listRole")].join(" . "),y=wB();return a.createElement(sr,{collection:LD},a.createElement(Iv,{role:"primary"},a.createElement($v,{onBackButton:e.goBack,center:a.createElement(fm,{type:"header5A"},h),gamepadAlias:"realms-stories-opted-out-members"},a.createElement(r.DeferredMountProvider,null,a.createElement(Yv,null,a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{wideSize:10,narrowSize:8},a.createElement(om,{size:2}),a.createElement(Ef,{loading:E,delegateFocusFromMemory:!0},a.createElement(wl,{data:s},(e=>e?a.createElement(wf,{text:b},a.createElement(r.Mount,{when:u},a.createElement(a.Fragment,null,a.createElement(lz,{forOptedOutMembers:!0}),a.createElement(om,{size:2}))),a.createElement(r.Map,{array:i},((e,t)=>a.createElement(ij,{realmPlayer:e,index:t+1,totalPlayers:c})))):a.createElement(r.DeferredMount,null,a.createElement(wf,{text:v},a.createElement(cb,{title:t(".noOptedOutMembers"),imgSrc:hj,imgClass:y}))))),a.createElement(om,{size:2}))),a.createElement(Yv.Column,{wideSize:1,narrowSize:0})))))))}const bj=n.p+"assets/IconBootsGrey-142a3.png";function yj(){return yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},yj.apply(this,arguments)}const Fj=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("Q7W1Q",t);return a.createElement(Mp,yj({},n,{className:r,src:bj,imageRendering:"pixelated"}))},Sj=n.p+"assets/IconClockGrey-ea564.png";function Cj(){return Cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Cj.apply(this,arguments)}const Mj=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("xqY4u",t);return a.createElement(Mp,Cj({},n,{className:r,src:Sj,imageRendering:"pixelated"}))},wj=n.p+"assets/IconSwordGrey-9087f.png";function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},kj.apply(this,arguments)}const Tj=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("bFbkg",t);return a.createElement(Mp,kj({},n,{className:r,src:wj,imageRendering:"pixelated"}))},Ij=n.p+"assets/IconPickaxeGrey-cb118.png";function Pj(){return Pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Pj.apply(this,arguments)}const xj=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("nP6LO",t);return a.createElement(Mp,Pj({},n,{className:r,src:Ij,imageRendering:"pixelated"}))},Oj="zFvFr",Aj=({item:e,index:t,listLength:n})=>{const{t:l}=ec("StatListItem"),o=(0,r.useFacetMap)((e=>null==e.compareData||e.data.value>=e.compareData.value),[],[e]),i=(0,r.useFacetMap)((e=>null!=e.compareData&&e.data.value<=e.compareData.value),[],[e]),c=function(e){switch(e){case Do.Boots:return a.createElement(Fj,null);case Do.Clock:return a.createElement(Mj,null);case Do.Sword:return a.createElement(Tj,null);case Do.Pickaxe:return a.createElement(xj,null);default:return a.createElement(a.Fragment,null)}}((0,r.useFacetUnwrap)((0,r.useFacetMap)((e=>e.icon),[],[e])));return a.createElement(TM,{gamepadIndex:t,isFocusable:!0,narrationText:(0,r.useFacetMap)(((e,n)=>[e.label,null==e.compareData?e.data.narration:l(".compareNarration",[e.data.narration,e.compareData.narration]),l(".itemNarration",[`${t+1}`,`${n}`])].join(" . ")),[t,l],[e,n])},a.createElement(TM.Cell,{direction:"row"},a.createElement(om,{size:2}),a.createElement(r.Mount,{when:o},c),a.createElement(r.Mount,{when:o,condition:!1},a.createElement("div",{className:Oj}))),a.createElement(TM.Main,null,a.createElement(fm,{type:"captionShort",variant:"dimmest"},(0,r.useFacetMap)((e=>e.label),[],[e])),a.createElement("div",{className:"gQkMG"},a.createElement(fm,{type:"captionShort"},(0,r.useFacetMap)((e=>e.data.display),[],[e])),a.createElement(r.With,{data:(0,r.useFacetMap)((e=>null==e.compareData?void 0:e.compareData.display),[],[e])},(e=>a.createElement(fm,{type:"captionShort"},e)))),a.createElement(r.With,{data:(0,r.useFacetMap)((e=>{if(null!=e.compareData)return 0===e.compareData.value&&0===e.data.value?.5:e.data.value/(e.data.value+e.compareData.value)}),[],[e])},(e=>a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(Mg,{percentage:e,fillComplement:!0}))))),a.createElement(TM.Cell,{direction:"row"},a.createElement(r.Mount,{when:i},c),a.createElement(r.Mount,{when:i,condition:!1},a.createElement("div",{className:Oj})),a.createElement(om,{size:2})))};function Nj(e,t){return{gamerIcon:e.xblProfilePic,gamerTag:e.xblName,playingOnServerId:void 0,variant:t?"self":"player",xuid:e.xuid,favoriteStatus:e.favoriteStatus,presenceMessage:"",presence:e.presence,titleName:e.titleName}}const Rj="compare-stats-player-item-0";function _j({currentProfileFacet:e,loadedProfileFacet:t,statisticsFacet:n}){const{t:l}=ec("CompareStatsRoute");(0,r.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,t.currentPlatformId)}),[],[(0,r.useSharedFacet)(Oc),(0,r.useSharedFacet)(hu)])();const o=(0,r.useFacetMap)(((e,t)=>e.state.xblState===Ic.Loaded&&t.state.xblState===Ic.Loaded),[],[t,e]),i=(0,r.useFacetMap)((e=>Nj(e.data,!1)),[],[t]),c=(0,r.useFacetMap)((e=>Nj(e.data,!0)),[],[e]),s=(0,r.useFacetWrap)(2),u=(0,r.useFacetMap)((e=>e.data.map((e=>({label:e.label,icon:e.icon,data:{value:e.currentUserValueRaw,display:e.currentUserValueDisplay,narration:e.currentUserValueNarration},compareData:{value:e.valueRaw,display:e.valueDisplay,narration:e.valueNarration}})))),[],[n]),d=(0,r.useFacetMap)((e=>!e.loaded),[],[n]);return a.createElement(AP,{title:l(".header"),screenAnalyticsId:"CompareStats",gamepadAlias:"compare-stats-route",delegateByAlias:Rj},(()=>a.createElement(Yv,{narrowBreakpointWidth:102},a.createElement(Yv.Row,{gamepadIndex:0,fullHeight:!0},a.createElement(Yv.Column,{gamepadIndex:0,wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{gamepadIndex:0,wideSize:10,narrowSize:8},a.createElement(FU,{header:a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:o},a.createElement(wf,{text:[l(".playerItemsNarration"),l(".playerItemsListRole")].join(" . ")},a.createElement(om,{size:2}),a.createElement("div",{className:"bo_jd"},a.createElement(rB,{item:c,index:0,listLength:s,disabled:!0,gamepadAlias:Rj,profileEntryPoint:xc.Profile_CompareStatsCurrent}),a.createElement(om,{size:2}),a.createElement(rB,{item:i,index:1,listLength:s,disabled:!0,gamepadAlias:"compare-stats-player-item-1",profileEntryPoint:xc.Profile_CompareStatsLoaded})),a.createElement(om,{size:2})))),gamepadIndex:0,data:u,gamepadAlias:"compare-stats-list",renderItem:({itemFacet:e,index:t,listLengthFacet:n})=>a.createElement(Aj,{item:e,index:t,listLength:n}),loading:d,footer:a.createElement(a.Fragment,null,a.createElement(iE.Space,null),a.createElement(om,{size:2}))}))))))}let Lj;!function(e){e.Feed="feed",e.Members="members",e.Timeline="timeline"}(Lj||(Lj={}));function Dj({playerData:e,iconSize:t}){const n=(0,r.useFacetMap)((e=>e.gamerIcon),[],[e]);return a.createElement(Ow,{src:n,status:"offline",variant:t})}function Wj({players:e,normalIconCount:t=5,narrowIconCount:n=1,iconSize:l="medium"}){const o="narrow"===sd()?n:t,i=(0,r.useFacetMap)((e=>e.length>o),[o],[e]),c=(0,r.useFacetMap)(((e,t)=>t?e.slice(e.length-o,e.length).reverse():e.slice().reverse()),[o],[e,i]),s=(0,r.useFacetMap)((e=>"+"+(e.length-o)),[o],[e]);return a.createElement("div",{className:"hAhlq"},a.createElement(r.Map,{array:c},((e,t)=>a.createElement(a.Fragment,null,a.createElement(Dj,{playerData:e,iconSize:l}),t<o-1&&a.createElement(om,{size:1})))),a.createElement(r.Mount,{when:i},a.createElement("div",{className:"QI6i_"},a.createElement(om,{size:1}),a.createElement(fm,{type:"captionShort",variant:"dimmer"},s))))}const Bj=n.p+"assets/realms_milestone_blank_medium-595d0.png",Uj=n.p+"assets/realms_no_player_icon-215e2.png";function zj({eventId:e,timePosted:t,timePostedNarration:n,storyFeedElementCount:l,shouldShowUnreadPostBadge:o,image:i,involvedPlayers:c,coordinates:s,eventMetadata:u}){const d=dd(70),{t:m}=ec("RealmsStories.feedEvent"),p=(0,r.useSharedFacet)(ws),f=(0,r.useFacetMap)((e=>0==e.length?[{gamerTag:"",gamerIcon:Uj,hasOptedIn:!0}]:e),[],[c]),g=(0,r.useFacetWrap)(null!=i?i:Bj),E=(0,r.useFacetMap)(((e,t)=>!!t.realmCoordinatesStatus&&e.length>0),[],[s,p]),h=(0,r.useFacetMap)(((e,t)=>e?m(".coordinatePrefix")+" "+t.join(", ").toString():""),[m],[E,s]),v=m(".title"),b=(0,r.useFacetWrap)(null!=u?u:""),y=(0,r.useFacetMap)(((e,t,n,a)=>GU({t:m,eventId:e,playerData:t,maxDisplayedPlayers:n?UU.narrow:UU.full,eventMetadata:a})),[m],[e,f,d,b]),F=(0,r.useFacetMap)(((e,t,n,a)=>[v,m(".narration.textblock"),m(".enumeration",["1",`${a}`]),e,t,n].join(" . ")),[m,v],[n,y,h,l]),S=Fr("neutral"),C=Fr("neutral80"),M=Fr("informative");return a.createElement(em,{inputLegend:!1,narrationText:F,className:Dr()(S.border.base,M.background.base),classNameFocused:Zm},a.createElement("div",{className:Dr()("fQjeY",S.border.base)},a.createElement(om,{size:2}),a.createElement("div",{className:"qjmCL"},a.createElement("div",null,a.createElement(Wj,{players:f,normalIconCount:UU.full,narrowIconCount:UU.narrow,iconSize:"small"})),a.createElement(om,{size:3}),a.createElement("div",{className:"hGxlk"},a.createElement("div",{className:"I6squ"},a.createElement(fm,{verticalAlign:"center",type:"body",align:"left",role:"neutral80"},a.createElement(am,null,v))),a.createElement("div",{className:"sT_ZL"},a.createElement(fm,{verticalAlign:"center",type:"captionShort",align:"right",role:"neutral80",variant:"dimmer"},t)))),a.createElement(r.Mount,{when:o},a.createElement("div",{className:"YFFzb"},a.createElement(Ny,{role:"secondary"})))),a.createElement("div",{className:Dr()("oMEKj",S.border.base,C.background.base)},a.createElement(om,{size:2}),a.createElement("div",{className:"j4Tsq"},a.createElement(r.Mount,{when:d,condition:!1},a.createElement(a.Fragment,null,a.createElement("div",{className:"DUQsW"},a.createElement("div",{className:"SjM9I"}),a.createElement(Mp,{className:"szNOn",src:g,imageRendering:"pixelated"})),a.createElement(om,{size:4}))),a.createElement("div",{className:"jcPqX"},a.createElement(fm,{verticalAlign:"center",type:"body",role:"neutral80"},y),a.createElement(r.Mount,{when:E},a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(cy,{role:"neutral100"},h)))))),a.createElement(Jm,null))}function jj({eventId:e,timePosted:t,timePostedNarration:n,storyFeedElementCount:l,shouldShowUnreadPostBadge:o,image:i,involvedPlayers:c,eventMetadata:s}){const{t:u}=ec("RealmsStories.feedEvent"),d=u(".title"),m=dd(70),p=Fr("neutral"),f=Fr("informative"),g=Fr("neutral80"),[E,h]=(0,r.useFacetState)("0px"),v=(0,a.useRef)(null);pd(v,(({width:e})=>{h(e/1.778+"px")}));const b=(0,r.useFacetWrap)(i),y=(0,r.useFacetWrap)(null!=s?s:""),F=(0,r.useFacetMap)(((e,t,n,a)=>GU({t:u,eventId:e,playerData:t,maxDisplayedPlayers:n?BU.narrow:BU.full,eventMetadata:a})),[u],[e,c,m,y]),S=(0,r.useFacetMap)(((e,t,n,a)=>{const r=n.map((e=>e.gamerTag));return[d,u(".narration.textblock"),u(".enumeration",["1",`${a}`]),e,t,u(".playersInvolved"),r].join(" . ")}),[u,d],[n,F,c,l]);return a.createElement(em,{inputLegend:!1,narrationText:S,className:Dr()(p.border.base,f.background.base),classNameFocused:Zm},a.createElement("div",{className:Dr()("SiIZ7",p.border.base,f.background.base)},a.createElement("div",{className:"TPnZd"},a.createElement(fm,{type:"body",align:"left",role:"neutral80"},a.createElement(am,null,d))),a.createElement("div",{className:"F62qB"},a.createElement(fm,{type:"captionShort",align:"right",role:"neutral80",variant:"dimmer"},t)),a.createElement(r.Mount,{when:o},a.createElement("div",{className:"eMxqg"},a.createElement(Ny,{role:"secondary"})))),a.createElement("fast-div",{ref:v,className:Dr()("MW5xI",g.background.base),style:{height:E}},a.createElement("div",{className:"xs3XP"},a.createElement(Mp,{aspectRatio:Mp.AspectRatio["16:9"],src:b})),a.createElement("div",{className:"ZOpN_"},a.createElement(om,{size:4}),a.createElement(fm,{type:"header5B",align:"center",role:"neutral80"},F),a.createElement(om,{size:2}),a.createElement(Wj,{players:c,normalIconCount:BU.full,narrowIconCount:BU.narrow,iconSize:"medium"}),a.createElement(om,{size:4}))),a.createElement(Jm,null))}const Hj=e=>{const t=sd(),n=(0,r.useFacetMap)((e=>0===e.totalLikes),[],[e]),a=(0,r.useFacetMap)((e=>e.isPrimaryUser),[],[(0,r.useSharedFacet)(Gn)]);return(0,r.useFacetMap)(((e,n)=>{let a=2;return n&&(a+=2),e||a++,"narrow"!=t&&a++,a}),[t],[n,a])};function Vj({realmStory:e,onContentClicked:t}){const n=(0,r.useSharedFacet)(Gc),l=(0,r.useSharedFacet)(Bc),o=(0,r.useSharedFacet)(ws),i=(0,r.useFacetMap)((e=>e.body),[],[e]),c=(0,r.useFacetMap)((e=>e.timePosted),[],[e]),s=(0,r.useFacetMap)((e=>e.timePostedNarration),[],[e]),u=(0,r.useFacetMap)((e=>e.image),[],[e]),d=(0,r.useFacetMap)((e=>e.authorXuid),[],[e]),m=(0,r.useFacetMap)((e=>e.players),[],[n]),p=(0,r.useFacetMap)(((e,t)=>{const n=Uo(t,(t=>t.xuid===e));return null!=n?n:LU}),[],[d,m]),f=(0,r.useFacetMap)((e=>e.hasViewed),[],[e]),g=(0,r.useFacetMap)(((e,t,n,a)=>!e&&t!==n.userXuid&&a.realmNotificationsStatus),[],[f,d,l,o]),E=Hj(e);return a.createElement(ez,{body:i,timePosted:c,timePostedNarration:s,storyFeedElementCount:E,shouldShowUnreadPostBadge:g,image:u,author:p,onContentClicked:t})}function Gj({realmStory:e}){const t=(0,r.useSharedFacet)(Gc),n=(0,r.useSharedFacet)(ws),l=(0,r.useFacetMap)((e=>e.players),[],[t]),o=(0,r.useFacetMap)((e=>e.body),[],[e]),i=(0,r.useFacetMap)((e=>e.timePosted),[],[e]),c=(0,r.useFacetMap)((e=>e.timePostedNarration),[],[e]),s=(0,r.useFacetMap)((e=>e.hasViewed),[],[e]),u=(0,r.useFacetMap)(((e,t)=>!e&&t.realmNotificationsStatus),[],[s,n]),d=(0,r.useFacetMap)((e=>jU.has(e.body)?DU(e.body):""),[],[e]),m=(0,r.useFacetMap)((e=>{const t=[];if(e.isEvent&&e.isEventLoaded)for(let n=0;n<e.eventPlayerXuids.length;n++)t.push(e.eventPlayerXuids[n]);return t}),[],[e]),p=(0,r.useFacetMap)(((e,t)=>t.filter((t=>e.includes(t.xuid))).map((e=>null!=e&&""!=e.gamerTag?e:LU))),[],[m,l]),f=(0,r.useFacetMap)((e=>e.isEventLoaded&&e.isEvent&&e.eventHasCoordinates?[e.eventXCoordinate,e.eventYCoordinate,e.eventZCoordinate]:[]),[],[e]),g=(0,r.useFacetMap)((e=>{var t;return null!==(t=VU(e.body))&&void 0!==t?t:"medium"}),[],[e]),E=(0,r.useFacetMap)((e=>e.eventMetadata),[],[e]),h=Hj(e);return a.createElement(wl,{data:g},(e=>{switch(e){case"medium":return a.createElement(zj,{eventId:o,timePosted:i,timePostedNarration:c,storyFeedElementCount:h,shouldShowUnreadPostBadge:u,image:d,involvedPlayers:p,coordinates:f,eventMetadata:E});case"large":return a.createElement(jj,{eventId:o,timePosted:i,timePostedNarration:c,storyFeedElementCount:h,shouldShowUnreadPostBadge:u,image:d,involvedPlayers:p,eventMetadata:E});default:return null}}))}function $j({realmStory:e,index:t,numberOfStories:n,deleteStory:l,onContentClicked:o}){const i=(0,r.useSharedFacet)(Wc),c=(0,r.useSharedFacet)(jc),s=(0,r.useSharedFacet)(Bc),{t:u}=ec("RealmsStories.feedPost"),d=m(),p=f();!function(e){const t=(0,r.useSharedFacet)(Wc),n=(0,r.useFacetMap)((e=>e.id),[],[e]),a=(0,r.useFacetMap)((e=>e.toggleLikeStatus),[],[e]);(0,r.useFacetEffect)(((e,t,n)=>{e===iu.Success&&t.clearToggleLikeStatus(n)}),[],[a,t,n])}(e),function(e){const t=(0,r.useSharedFacet)(Wc),n=(0,r.useFacetMap)((e=>e.id),[],[e]),a=(0,r.useFacetMap)((e=>e.imageStatus),[],[e]);(0,r.useFacetEffect)(((e,t,n)=>{e===ou.Idle&&t.fetchStoryImage(n)}),[],[a,t,n])}(e),function(e){const t=(0,r.useSharedFacet)(Wc),n=(0,r.useFacetCallback)((e=>t=>{e.setViewed(t,"")}),[],[t]);(0,r.useFacetEffect)((e=>{e.setViewedStatus===iu.Idle&&n(e.id)}),[n],[e])}(e);const g=(0,r.useFacetMap)((e=>!e.isPrimaryUser),[],[(0,r.useSharedFacet)(Gn)]),E=(0,r.useFacetMap)((e=>1===e.totalComments?u(".totalComment",[e.totalComments.toString()]):u(".totalComments",[e.totalComments.toString()])),[u],[e]),h=(0,r.useFacetMap)((e=>1===e.totalLikes?u(".totalLike",[e.totalLikes.toString()]):u(".totalLikes",[e.totalLikes.toString()])),[u],[e]),v=(0,r.useFacetMap)((e=>e.hasLiked),[],[e]),b=(0,r.useFacetMap)((e=>0===e.totalLikes),[],[e]),y=(0,r.useSharedFacet)(Ss),F=f(),S=(0,r.useFacetMap)((e=>e.realmId),[],[F]),C=(0,r.useFacetCallback)(((e,t,n,a)=>()=>{t.currentStoryId=e.id,Cs(n.stories),d.push(`/realms-story-comments/${encodeURIComponent(e.id)}/${a}`)}),[d],[e,c,y,S]),M=(0,r.useFacetCallback)(((e,t)=>()=>{e.toggleLikeStatus===iu.Idle&&t.toggleLike(e.id,"")}),[],[e,i]),w=Ez.useModal(),k=(0,r.useFacetMap)((e=>e.authorXuid),[],[e]),T=(0,r.useFacetMap)(((e,t)=>e===t.userXuid),[],[k,s]),I=(0,r.useFacetMap)((e=>e.ownerXuid===e.userXuid),[],[s]),P=(0,r.useFacetMap)((e=>e.isEventLoaded&&e.isEvent),[],[e]),x=(0,r.useFacetMap)((e=>!e.isEvent||e.isEventLoaded),[],[e]),O=vz.useModal(),A=(0,a.useCallback)((()=>{O.hide(),w.hide()}),[O,w]),N=(0,r.useFacetCallback)((e=>()=>{l(e.id),A()}),[l,A],[e,i]),R=yz.useModal(),_=(0,a.useCallback)((()=>{R.hide(),w.hide()}),[R,w]),L=(0,r.useFacetCallback)(((e,t)=>()=>{t.reportToClubOwner(e.id,""),_()}),[_],[e,i]),D=(0,r.useFacetMap)((e=>e.reportToClubOwnerStatus==iu.InputInvalid||e.reportToClubOwnerStatus==iu.InternalError||e.reportToClubOwnerStatus==iu.UploadFailed||e.reportToClubOwnerStatus==iu.PostingFailed),[],[e]),W=(0,r.useFacetCallback)(((e,t)=>()=>t.clearReportToClubOwnerStatus(e.id)),[],[e,i]),B=(0,r.useFacetCallback)(((e,t)=>()=>{w.hide(),d.push(`/realms-stories-report-feed-item/${Nz.Post}/${e.realmId}?postId=${t.id}`)}),[d,w],[p,e]),U=(0,r.useFacetMap)((e=>e.reportToXboxStatus),[],[e]),z=(0,r.useFacetMap)((e=>e!==iu.Idle&&e!==iu.InProgress&&e!==iu.RateLimit),[],[U]),j=(0,r.useFacetCallback)(((e,t)=>()=>{e.clearReportToXboxStatus(t.id)}),[],[i,e]),H=(0,r.useSharedFacet)(uc);(0,r.useFacetEffect)(((e,t,n)=>{e.reportToClubOwnerStatus===iu.Success&&(t.queueSnackbar(u(".options.notify.toast")),n.clearReportToClubOwnerStatus(e.id))}),[u],[e,H,i]);const V=(0,r.useFacetMap)((e=>e.reportToClubOwnerStatus==iu.RateLimit||e.reportToXboxStatus==iu.RateLimit),[],[e]),G=(0,r.useFacetCallback)((e=>()=>{e.reportToClubOwnerStatus==iu.RateLimit&&W(),e.reportToXboxStatus==iu.RateLimit&&j()}),[W,j],[e]),$=(0,r.useFacetMap)((e=>[u(".storyPostGroup"),u(".postGroupRole"),u(".postGroupEnumeration",[`${t+1}`,`${e}`])].join(" . ")),[t,u],[n]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:x},a.createElement(wf,{text:$},a.createElement(ZU,{content:a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:P},a.createElement(Gj,{realmStory:e})),a.createElement(r.Mount,{when:P,condition:!1},a.createElement(Vj,{realmStory:e,onContentClicked:o}))),index:t,totalComments:E,totalLikes:h,hasLiked:v,hideLikes:b,readOnly:g,openCommentsCallback:C,toggleLikeCallback:M,openOptionsCallback:w.show}))),a.createElement(r.Mount,{when:w.isVisible},a.createElement(Ez.Component,{isAuthor:T,isRealmOwner:I,isEvent:P,onClose:w.hide,onDelete:O.show,onNotify:R.show,onReport:B})),a.createElement(r.Mount,{when:O.isVisible},a.createElement(vz.Component,{onConfirm:N,onCancel:A,isCommentOptions:!1})),a.createElement(r.Mount,{when:R.isVisible},a.createElement(yz.Component,{onConfirm:L,onCancel:_,isCommentOptions:!1})),a.createElement(r.Mount,{when:D},a.createElement(Mz.Component,{onClose:W})),a.createElement(r.Mount,{when:V},a.createElement(rW.Component,{onClickClose:G})),a.createElement(r.Mount,{when:z},a.createElement(Pz.Component,{reportStatus:U,onClose:j})))}let Kj;!function(e){e[e.IDLE=0]="IDLE",e[e.DELETING_POST=1]="DELETING_POST",e[e.SWAPING_PAGE=2]="SWAPING_PAGE",e[e.ERROR=3]="ERROR"}(Kj||(Kj={}));const Xj=Km((({src:e,isLoading:t=!1,onClose:n,narrationText:l,closeNarration:o,closeInputLegend:i})=>{const c=(0,a.useRef)(null),s=(0,r.useFacetWrap)(t);return a.createElement("div",{className:"WlzXz"},a.createElement("div",{className:"HbJ0B"},a.createElement(wf,{text:l},a.createElement("div",{ref:c,className:"mLVo_"},a.createElement(Fp,{containerRef:c,shouldBindFocus:!0,delegateFocusFromMemory:!0},a.createElement(r.Mount,{when:s},a.createElement("div",{className:"VpoQp"},a.createElement(ff,null))),a.createElement(r.Mount,{when:s,condition:!1},a.createElement(Mp,{src:e,className:"qKD_a",cover:!0})),a.createElement(Sf,{onClick:n,options:{button:j.B,inputLegend:i}}),a.createElement("div",{className:"MksnB"},a.createElement(mg,{inputLegend:i,narrationPrefix:o,Icon:Nv,onClick:n,"data-testid":"fullImageModalCloseButtonTestId"})))))),a.createElement(iE.Space,null))}));function Yj(){const e=dd(102.3),t=(0,r.useSharedFacet)(Ss),n=(0,r.useSharedFacet)(Gc),l=(0,r.useSharedFacet)(Wc),o=(0,r.useSharedFacet)(ps),i=(0,r.useSharedFacet)(il),c=(0,r.useSharedFacet)(jc),{t:s}=ec("RealmsStories"),{t:u}=ec("RealmsStories.feed"),d="story-entry-like-0",p=m(),g=Se(),E=sd(70,100);let h=1,v=4,b=6,y=10;"narrow"===E?(h=0,v=3,b=5,y=8):"tablet"===E&&(h=0,b=8,y=12);const F=(0,a.useRef)(!0);(0,r.useFacetEffect)(((e,t)=>{F.current&&(e.loadStoriesSlice(0,t.pageLength),F.current=!1)}),[],[l,t]);const S=(0,r.useFacetMap)((e=>e?2:7),[],[e]),C=(0,r.useFacetMap)((e=>!e.storiesFirstPageReady),[],[t]),M=(0,r.useFacetMap)((e=>e.stories),[],[t],(()=>()=>!1)),w=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.stories.length)&&void 0!==t?t:0}),[],[t]),[k,T]=(0,r.useFacetState)(1),I=(0,a.useRef)(null),P=(0,r.useFacetMap)((e=>Math.ceil(e.totalStories/e.pageLength)),[],[t]),x=(0,r.useFacetCallback)(((e,t)=>n=>{Cs(t.stories),T(n);const a=(n-1)*t.pageLength,r=a+t.pageLength;e.loadStoriesSlice(a,r),I.current&&(I.current.scrollTop=0),g(d)}),[T,g],[l,t]),O=function(e,t){const[n,a]=(0,r.useFacetState)(Kj.IDLE),[l,o]=(0,r.useFacetState)(""),[i,c]=(0,r.useFacetState)(0),[s,u]=(0,r.useFacetState)(iu.Idle),d=(0,r.useSharedFacet)(Ss),m=(0,r.useSharedFacet)(Wc),p=(0,r.useFacetCallback)(((e,t)=>n=>{e===Kj.IDLE&&(o(n),a(Kj.DELETING_POST),t.delete(n,""))}),[a,o],[n,m]),f=(0,r.useFacetCallback)(((e,t,n)=>()=>{e!==Kj.IDLE&&(e===Kj.ERROR&&(t.clearDeleteStatus(n),u(iu.Idle)),o(""),c(0),a(Kj.IDLE))}),[o,c,a,u],[n,m,l]);return(0,r.useFacetEffect)(((e,n,r,l)=>{if(e!==Kj.DELETING_POST)return;const o=r.stories.find((e=>e.id===n));o?o.deleteStatus!==iu.InputInvalid&&o.deleteStatus!==iu.InternalError&&o.deleteStatus!==iu.UploadFailed&&o.deleteStatus!==iu.PostingFailed&&o.deleteStatus!==iu.RateLimit||(u(o.deleteStatus),a(Kj.ERROR)):r.totalStories>0&&0===r.stories.length&&l>1?(c(l),a(Kj.SWAPING_PAGE),t(l-1)):f()}),[u,a,f,c,t],[n,l,d,e]),(0,r.useFacetEffect)(((e,t,n,a)=>{e===Kj.SWAPING_PAGE&&t!==n&&0!==a.stories.length&&f()}),[t,e,f],[n,e,i,d]),{state:n,error:s,delete:e=>p(e),reset:f}}(k,x),A=(0,r.useFacetMap)((e=>e===iu.InputInvalid||e===iu.InternalError||e===iu.UploadFailed||e===iu.PostingFailed),[],[O.error]),N=(0,r.useFacetMap)((e=>e===iu.RateLimit),[],[O.error]),R=(0,r.useFacetMap)(((e,t)=>0===e.length&&t===Kj.IDLE),[],[M,O.state]),_=(0,r.useFacetMap)(((e,t)=>{const n=Xc(mw(e.players,(e=>0!==e.lastSeenTime))),a=Math.min(t,n.length),r=[];for(let e=0;e<a;e++)r.push({xuid:n[e].xuid,gamerTag:n[e].gamerTag,gamerIcon:n[e].gamerIcon,role:n[e].role,isOnline:n[e].isOnline,isInRealm:n[e].isInRealm,fetchProfileStatus:n[e].fetchProfileStatus,lastSeenTime:n[e].lastSeenTime,hasOptedIn:n[e].hasOptedIn});return r}),[],[n,S]),L=(0,r.useFacetMap)((e=>e.length),[],[_]),D=(0,r.useFacetMap)((e=>e.fetchMembersStatus!==ou.Success),[],[n]),W=(0,r.useFacetMap)(((e,t,n)=>e||t.fetchSessionStatus!==ou.Success||!n.every((e=>e.fetchProfileStatus===ou.Success))),[],[D,o,_]),B=(0,r.useFacetMap)((e=>e.length>0),[],[_]),U=f(),z=(0,r.useFacetMap)((e=>e.realmId),[],[U]),j=(0,r.useFacetCallback)(((e,t)=>()=>{Cs(e.stories),p.push(`/realms-new-story/${t}`)}),[p],[t,z]),H=(0,r.useFacetMap)((e=>!e.isOnline),[],[i]),V=(0,r.useFacetMap)(((e,t)=>(e.storiesStatus===ou.InternalError||e.storiesStatus===ou.FetchFailed||e.storiesStatus===ou.RateLimit)&&!t),[],[t,H]),G=(0,r.useFacetMap)(((e,t)=>e||t),[],[H,V]),$=(0,r.useFacetMap)(((e,t)=>t.storiesFirstPageReady&&e),[],[R,t]),K=(0,r.useFacetCallback)((e=>()=>{e.clearStoryFeedStatus(),e.fetchStories()}),[],[l]);(0,r.useFacetEffect)((e=>{e.newPostAvailable&&(e.newPostAvailable=!1,x(1))}),[x],[c]);const X=(0,a.useRef)(null),[Y,q]=(0,r.useFacetState)(""),Q=Xj.useModal(),J=(0,a.useCallback)((e=>{q(e.image),Q.show()}),[Q,q]),Z=(0,r.useFacetMap)((e=>[u(".fullImage",[e.name]),u(".fullImageRole")].join(" . ")),[u],[(0,r.useSharedFacet)(Bc)]),ee=(0,r.useFacetMap)((e=>e.isPrimaryUser),[],[(0,r.useSharedFacet)(Gn)]);return a.createElement(r.DeferredMountProvider,null,a.createElement(Yv,{noGutters:!0},a.createElement(r.DeferredMount,null,a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:G},a.createElement(Yv.Row,{gamepadIndex:0},a.createElement(Yv.Column,{wideSize:h,narrowSize:h}),a.createElement(Yv.Column,{wideSize:y,narrowSize:8},a.createElement(r.Mount,{when:H},a.createElement(nz,null)),a.createElement(r.Mount,{when:V},a.createElement(rz,{onClick:K,pageName:s(".storyFeed")}))),a.createElement(Yv.Column,{wideSize:1,narrowSize:0}))),a.createElement(r.Mount,{when:Q.isVisible},a.createElement(Xj.Component,{src:Y,onClose:Q.hide,narrationText:Z,closeNarration:u(".fullImageClose"),closeInputLegend:u(".fullImageClose")})),a.createElement(r.Mount,{when:G,condition:!1},a.createElement(Yv.Row,{fullHeight:!0},a.createElement(Yv.Column,{wideSize:h,narrowSize:h}),a.createElement(Yv.Column,{wideSize:v,narrowSize:v},a.createElement(Fp,{containerRef:X,delegateFocusByAlias:"add-story-button"},a.createElement("div",{ref:X,className:"KDWqv"},a.createElement(r.Mount,{when:ee},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(mg,{inputLegend:u(".addStory"),variant:"hero",gamepadAlias:"add-story-button",onClick:j},u(".addStory")))),a.createElement(r.Mount,{when:B},a.createElement(wf,{text:`${u(".recentlyPlayed")} . ${u(".recentlyPlayedComponentRole")}`},a.createElement(Ef,{loading:W,delegateFocusFromMemory:!0},a.createElement(om,{size:2}),a.createElement(eF,{role:"primary",label:u(".recentlyPlayed")}),a.createElement(r.Map,{array:_},((e,t)=>a.createElement(ij,{realmPlayer:e,index:t+1,isSimpleLayout:!0,totalPlayers:L}))))))))),a.createElement(Yv.Column,{wideSize:b,narrowSize:b,gamepadIndex:1},a.createElement(r.DeferredMount,null,a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:$},a.createElement(cb,{autofocus:!0,title:u(".emptyStoryFeedTitle"),text:u(".emptyStoryFeedText")})),a.createElement(r.Mount,{when:A},a.createElement(Sz.Component,{onClose:O.reset,isCommentOptions:!1})),a.createElement(r.Mount,{when:N},a.createElement(rW.Component,{onClickClose:O.reset})),a.createElement(Ef,{innerRef:I,loading:C,scrollIntoViewAlign:"center",gamepadAlias:"story-feed-posts-wrapper",delegateFocusByAlias:d,delegateFocusFromMemory:!0,renderTracker:e=>a.createElement(ly,{renderingCompleted:e,type:"meaningful"})},a.createElement(r.Mount,{when:ee,condition:!1},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(sr,{collection:_D},a.createElement(GT,{role:"informative"},a.createElement(GT.Text,null,u(".guestAccountNotificationBanner")))))),a.createElement(om,{size:1}),a.createElement(r.Map,{array:M},((e,t)=>a.createElement(qj,{storyPost:e,totalStories:w,index:t,deleteStory:O.delete,onContentClicked:J}))),a.createElement(om,{size:3}),a.createElement(LT,{totalPages:P,currentPage:k,onChange:x}),a.createElement(om,{size:1})))))))))))}function qj({storyPost:e,totalStories:t,index:n,deleteStory:l,onContentClicked:o}){const i=sd(),c=(0,r.useFacetMap)((e=>n===e-1),[n],[t]);return a.createElement(a.Fragment,null,0===n&&a.createElement(om,{size:1}),n>0&&a.createElement(om,{size:"narrow"===i?2:4}),a.createElement($j,{realmStory:e,index:n,numberOfStories:t,deleteStory:l,onContentClicked:o}),a.createElement(r.Mount,{when:c},a.createElement(om,{size:1})))}const Qj=n.p+"assets/generic-empty-fd3ea.png";function Jj({headerSegmentData:e=(0,r.createStaticFacet)({text1:"text1",text2:"text2",narrationText:"",darkenLevel:0,size:1})}){const t=Fr("neutral60"),n=Fr("neutral"),l=Fr("neutral80"),o=(0,r.useFacetMap)((e=>`gjyss ${n.border.base} ${0===e.darkenLevel?t.background.base:1===e.darkenLevel?n.background.base:l.background.base}`),[t,n,l],[e]),i=(0,r.useFacetMap)((e=>e.narrationText),[],[e]),c=(0,r.useFacetMap)((e=>e.text1),[],[e]),s=(0,r.useFacetMap)((e=>e.text2),[],[e]),u=(0,r.useFacetMap)((e=>""!==e.text2),[],[e]);return a.createElement("fast-div",{className:"T39Yg",style:{width:(0,r.useFacetMap)((e=>100*e.size+"%"),[],[e])}},a.createElement("fast-div",{className:o},a.createElement(fm,{type:"body",align:"center"},c),a.createElement(r.Mount,{when:u},a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(fm,{type:"body",align:"center",variant:"dimmer"},s)))),ia()?a.createElement("div",{className:"xJB5s"},a.createElement(em,{classNameFocused:Dr()("B_L9o",n.outline.base),inputLegend:!1,narrationText:i,onClick:()=>{}},a.createElement("div",{className:"qtzpF"}))):null)}function Zj({rowData:e}){return a.createElement("div",{className:"LOGEm"},a.createElement(r.Map,{array:e},(e=>a.createElement(Jj,{headerSegmentData:e}))))}function eH({gamerIcon:e,gamerTag:t,onlineStatus:n,onClick:l}){const o=(0,r.useFacetWrap)(n),i=(0,r.useFacetWrap)(e),c=Fr("neutral"),{t:s}=tc("PlayerTag"),u=(0,r.useFacetMap)((e=>[e,s(".role"),s(".hint")].join(" . ")),[s],[(0,r.useFacetWrap)(t)]);return a.createElement(em,{inputLegend:s(".viewProfile"),narrationText:u,onClick:l,className:Dr()("Mn3WO",c.background.base,c.border.base,c.background.interactive),classNameFocused:Dr()("kDMn3",c.outline.base)},a.createElement(Ow,{src:i,status:o,variant:"medium"}),a.createElement("div",{className:"Nyd9S"},a.createElement(fm,{type:"body",align:"left"},a.createElement(am,null,t))),a.createElement(cp,{effect:"bevel"}))}const tH="LnPiE";function nH({laneSegmentData:e}){const t=(0,r.useFacetWrap)(null!=e?e:{darkenLevel:0,narrationText:""}),n=Fr("neutral80"),l=Fr("neutral"),o=(0,r.useFacetMap)((e=>Dr()(0===e.darkenLevel?l.background.base:2===e.darkenLevel?n.shadow.base:n.background.base,"om40F",l.border.base)),[l,n],[t]);return a.createElement("div",{className:tH},a.createElement("fast-div",{className:o}))}function aH({gamepadIndex:e,laneSegmentData:t}){const n=(0,r.useFacetWrap)(null!=t?t:{darkenLevel:0,narrationText:""}),l=(0,r.useFacetMap)((e=>e.narrationText),[],[n]),o=Fr("neutral");return a.createElement("div",{className:tH},a.createElement(em,{classNameFocused:Dr()("XDSKv",o.outline.base),gamepadIndex:e,inputLegend:!1,narrationText:l,onClick:()=>{}},a.createElement("div",{className:"Lbfmj"})))}const rH=["dataViz01","dataViz02","dataViz03","dataViz04","dataViz05","dataViz06","dataViz07"];function lH({unitWidth:e,color:t,blockData:n}){const l=Fr(rH[t%rH.length]),o=Fr("neutral");return a.createElement("fast-div",{className:Dr()("L6Bqq",l.background.base),style:{left:(0,r.useFacetMap)((t=>t.start*e*100+"%"),[e],[n]),width:(0,r.useFacetMap)((t=>t.size*e*100+"%"),[e],[n])}},a.createElement("div",{className:"yVc05"},a.createElement("div",{className:Dr()("pxZ8Y",o.border.base)})))}function oH({isDarker:e=!1,numberOfSegments:t,maximumBlockCount:n,highlightedSegment:l=-1,blackenedSegmentBefore:o=-1,blackenedSegmentAfter:i=-1,gamepadIndex:c,blocks:s,blockColor:u,narrationText:d=(0,r.createStaticFacet)([])}){const m=1/n,p=(0,r.useFacetWrap)(l),f=(0,r.useFacetWrap)(o),g=(0,r.useFacetWrap)(i),E=(0,r.useFacetMap)(((n,a,r,l)=>{const o=[];for(let i=0;i<t;i++)o.push({darkenLevel:i===n?0:i<a&&-1!==a||i>r&&-1!==r||e?2:1,narrationText:i<l.length?l[i]:""});return o}),[t,e],[p,f,g,d]);return a.createElement(a.Fragment,null,a.createElement("div",{className:"mz7FL"},a.createElement(r.Map,{array:E},(e=>a.createElement(nH,{laneSegmentData:e}))),a.createElement(r.Map,{array:s},(e=>a.createElement(lH,{blockData:e,unitWidth:m,color:u}))),ia()?a.createElement("div",{className:"Afi7L"},a.createElement(r.Map,{array:E},((e,t)=>a.createElement(aH,{laneSegmentData:e,gamepadIndex:c+t})))):null))}const iH="ULZBU",cH="YayMK",sH="UGT5g",uH="bh4Vj",dH="VbtmA",mH="jUU1G",pH="c137S",fH="Ga8Si",gH=[".month00",".month01",".month02",".month03",".month04",".month05",".month06",".month07",".month08",".month09",".month10",".month11"],EH=[".monthShort00",".monthShort01",".monthShort02",".monthShort03",".monthShort04",".monthShort05",".monthShort06",".monthShort07",".monthShort08",".monthShort09",".monthShort10",".monthShort11"],hH=[".day0",".day1",".day2",".day3",".day4",".day5",".day6"],vH=[".dayShort0",".dayShort1",".dayShort2",".dayShort3",".dayShort4",".dayShort5",".dayShort6"],bH=1440,yH=864e5;function FH(){{const e=new Date;return e.setHours(13),e}}const SH=36e5,CH=n.p+"assets/timeline-options-20a5e.png";var MH;!function(e){e[e.ABOUT=0]="ABOUT",e[e.MEMBERS=1]="MEMBERS",e[e.OPT_OUT=2]="OPT_OUT"}(MH||(MH={}));const wH={[MH.ABOUT]:"OPTION-ABOUT",[MH.MEMBERS]:"OPTION-MEMBERS",[MH.OPT_OUT]:"OPTION-OPT_OUT"},kH=Km((({onClose:e,onClickAbout:t,onClickMembers:n,onClickOptOut:l})=>{const{t:o}=ec("RealmsStories.Timeline.OptionsModal"),i=(0,r.useSharedFacet)(Gc),c=(0,r.useFacetMap)((e=>mw(e.players,(e=>e.role!==Vc.NONMEMBER))),[],[i]),s=sz(c),u=(0,r.useFacetMap)((e=>e.optedOutPlayers.length),[],[s]),d="3",m=(0,r.useFacetMap)((e=>[{enumeration:o(".options.enumeration",["1",d]),gamepadAlias:wH[MH.ABOUT],label:o(".options.about"),value:MH.ABOUT},{enumeration:o(".options.enumeration",["2",d]),gamepadAlias:wH[MH.MEMBERS],label:o(".options.members",[`${e}`]),value:MH.MEMBERS},{enumeration:o(".options.enumeration",["3",d]),gamepadAlias:wH[MH.OPT_OUT],label:o(".options.optOut"),value:MH.OPT_OUT}]),[o,d],[u]),p=(0,a.useCallback)((e=>{switch(e){case MH.ABOUT:t();break;case MH.MEMBERS:n();break;case MH.OPT_OUT:l()}}),[t,n,l]);return a.createElement(lT,{onClose:e,onItemSelect:p,isOpen:!0,title:o(".options"),items:m})})),TH=Km((({onClose:e,onOptOutCompleted:t,onOptOutCancelled:n})=>{const r="Opt-Out-Button",{t:l}=ec("RealmsStories"),{t:o}=ec("RealmsStories.OptOutModal"),i=(0,a.useCallback)((()=>{e(),t()}),[e,t]),c=(0,a.useCallback)((()=>{e(),n()}),[e,n]),s=o(".title"),u=[o(".message"),o(".title")],d=u.join(" . ");return a.createElement(vE,{defaultFocusAlias:r},a.createElement(vE.Header,{onClose:e},s),a.createElement(vE.Content,null,a.createElement(vE.Paragraphs,{narrationText:d,spaceBetweenParagraphs:5},u.map(((e,t)=>a.createElement(fm,{key:t,type:"captionLong"},e))))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:r,inputLegend:l(".select"),variant:"destructive",onClick:i,narrationSuffix:o(".enumeration",["1","2"])},o(".confirm")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:l(".select"),variant:"secondary",onClick:c,narrationSuffix:o(".enumeration",["2","2"])},o(".cancel"))))}));function IH(){const e=(0,a.useRef)(!1),t=f(),n=(0,r.useFacetMap)((e=>e.realmId),[],[t]);(0,r.useFacetEffect)(((t,n)=>{e.current||(t.clearSettingsStatus(),t.init(n),e.current=!0)}),[e],[(0,r.useSharedFacet)(Wc),n])}const PH=Km((({playNow:e,openStories:t})=>{const n="Play-Realms-Button",{t:r}=ec("RealmsStories"),{t:l}=ec("RealmsStories.ShareLink"),o=l(".title"),i=l(".message");return a.createElement(vE,{defaultFocusAlias:n},a.createElement(vE.Header,null,o),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:i},i)),a.createElement(vE.Buttons,null,a.createElement(sr,{collection:LD},a.createElement(mg,{gamepadAlias:n,gamepadIndex:0,inputLegend:r(".select"),variant:"primary",onClick:e},l(".playNow")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:r(".select"),gamepadIndex:1,variant:"secondary",onClick:t},l(".openStories")))))}));function xH(){const e=m(),t=f(),n=PH.useModal(!0),l=VO.useModal(!1),o=p(),i=(0,r.useSharedFacet)(Bc),c=(0,r.useSharedFacet)(Wc),s=(0,r.useSharedFacet)(sc);IH();const u=(0,r.useFacetMap)(((e,t)=>e&&!t.isRealmWorldValid&&t.isFetchingRealmWorld),[],[o,i]),d=(0,a.useCallback)((()=>{e.goBack()}),[e]),g=(0,r.useFacetMap)(((e,t)=>e&&!t.isRealmWorldValid&&!t.isFetchingRealmWorld),[],[o,i]),E=(0,r.useFacetMap)(((e,t,n)=>e&&t.isRealmWorldValid&&!t.isFetchingRealmWorld&&n),[],[o,i,n.isVisible]),h=(0,r.useFacetMap)(((e,t)=>e&&t),[],[o,l.isVisible]),v=(0,r.useFacetCallback)(((e,t,a)=>()=>{t.isHardcore&&!a.doNotShowHardcoreModeWarning?(n.hide(),l.show()):(e.joinRealmFromInvite(),n.hide())}),[n,l],[c,i,s]),b=(0,r.useFacetCallback)((t=>()=>{n.hide(),e.replace(`/realms-story-entry-route/feed/${t.realmId}`)}),[e,n],[t]),y=(0,r.useFacetCallback)((e=>()=>{e.joinRealmFromInvite(),l.hide()}),[l],[c]),F=(0,a.useCallback)((()=>{l.hide(),e.replace("/play/all")}),[e,l]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:u},a.createElement(eW,{onClickClose:d})),a.createElement(r.Mount,{when:g},a.createElement(nW.Component,{onClickClose:d})),a.createElement(r.Mount,{when:h},a.createElement(VO.Component,{onSubmit:y,onCancel:F})),a.createElement(r.Mount,{when:E},a.createElement(PH.Component,{playNow:v,openStories:b})))}function OH({gamepadIndex:e,isDarker:t,numberOfSegments:n,maximumBlockCount:l,highlightedSegment:o,blackenedSegmentBefore:i,blockColor:c,playerData:s}){const u=ud(),d=Fr("neutral"),p=m(),f=(0,r.useFacetCallback)((e=>()=>p.push(GI(e.gamerXuid))),[p],[s]);return a.createElement("div",{className:Dr()(iH,cH)},a.createElement("div",{className:Dr()({[sH]:u},{[uH]:!u},"Qpo28",d.border.base)},a.createElement(eH,{gamerIcon:(0,r.useFacetMap)((e=>e.gamerIcon),[],[s]),gamerTag:(0,r.useFacetMap)((e=>e.gamerTag),[],[s]),onlineStatus:(0,r.useFacetMap)((e=>!0===e.gamerOnline?"online":"offline"),[],[s]),onClick:f})),a.createElement("div",{className:Dr()({[dH]:u},{[mH]:!u},pH,d.border.base)},a.createElement(oH,{isDarker:t,blockColor:c,numberOfSegments:n,maximumBlockCount:l,highlightedSegment:o,blackenedSegmentBefore:i,gamepadIndex:e,blocks:(0,r.useFacetMap)((e=>e.blocks),[],[s]),narrationText:(0,r.useFacetMap)((e=>e.narrationText),[],[s])})))}const AH=({onChange:e,onInformation:t,totalPages:n,currentPage:r,isNarrow:l})=>{const{t:o}=tc("Modal"),{t:i}=tc("RealmsStories.Timeline");return a.createElement("div",{className:Dr()(cH,{bu02g:l})},a.createElement(LT,{totalPages:n,currentPage:r,onChange:e,counterStyle:"hide-counter",middleSpacingsSize:2}),a.createElement(om,{size:4}),a.createElement("div",{className:"rViYP"},a.createElement(mg,{"data-testid":"timeline-options-button",inputLegend:o(".select"),onClick:t,imgSrc:CH,narrationPrefix:i(".OptionsModal.narrationHint")})))};function NH({correlationId:e}){const t=ud(),n=ia(),l=t?5:7,o=l*bH,i=Math.ceil(28/l),c=(0,a.useRef)(null),s=(0,a.useRef)(null),u=(0,a.useRef)(null),d=(0,a.useRef)(null),g=(0,a.useRef)(null),E=m(),h=p(),[v,b]=(0,r.useFacetState)(i),y=f(),F=(0,r.useSharedFacet)(Wc),S=(0,r.useSharedFacet)(Bc),C=(0,r.useSharedFacet)(ws),M=dz(e),w=(0,r.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[S]),k=(0,r.useFacetCallback)((e=>()=>{e>i&&b(i)}),[i,b],[v]);(0,a.useEffect)((()=>{const e=()=>{k()};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}));const T=FH(),{t:I}=tc("Timeline"),{t:P}=tc("RealmsStories.Timeline"),x=((e,t,n,a,l)=>(0,r.useFacetMap)((e=>{const r=[];let o=-1;for(let i=0;i<n;i++){const c=n*(t-e)+(n-1-i),s=new Date(a.getTime()+0-c*yH),u=s.getMonth(),d=s.getFullYear().toString();u!==o?r.push({text1:l(EH[u]),text2:d,narrationText:[l(".monthYear",[l(gH[u]),d]),l(".date"),l(".monthAndTheYear")].join(" . "),darkenLevel:1,size:1/n}):(r[r.length-1].text1=l(gH[u]),r[r.length-1].size=(r[r.length-1].size*n+1)/n),o=u}return r}),[n,t,a,l],[e]))(v,i,l,T,I),O=((e,t,n,a,l)=>(0,r.useFacetMap)((e=>{const r=[];for(let o=0;o<n;o++){const i=n*(t-e)+(n-1-o),c=new Date(a.getTime()+0-i*yH),s=c.getDay(),u=c.getDate();r.push({text1:l(vH[s]),text2:("0"+u).slice(-2),narrationText:[l(".dayAndDate",[l(hH[s]),u.toString()]),l(".date"),l(".dayOfTheWeek"),l(".enumeration",[(o+1).toString(),n.toString()])].join(" . "),darkenLevel:0===i?0:i<28?1:2,size:1/n})}return r}),[n,t,a,l],[e]))(v,i,l,T,I),A=(0,r.useSharedFacet)(ps),N=(e=>(0,r.useFacetMap)((e=>{const t=[];for(let n=0;n<e.sessions.length;n++)t.push(e.sessions[n]);return t.sort(((e,t)=>e.userXuid===t.userXuid?e.login-t.login:e.userXuid.localeCompare(t.userXuid)))}),[],[e]))(A),R=(0,r.useSharedFacet)(Bc),_=(0,r.useSharedFacet)(Gc),L=(0,r.useFacetMap)((e=>e.players),[],[_]),D=((e,t,n,a)=>(0,r.useFacetMemo)(((e,t,n)=>{const r=new Map;n.sessions.forEach((e=>{r.set(e.userXuid,e)}));const l=t.filter((e=>{const t=e.hasOptedIn||r.get(e.xuid)&&e.lastSeenTime>=function(){{const e=new Date(FH().getTime()+0);return e.setDate(e.getDate()-28+1),e.setHours(0,0,1),Math.round(e.getTime()/1e3)}}();return e.role!==Vc.NONMEMBER&&t})).sort(((t,n)=>{if(t.xuid===n.xuid)return 0;if(t.xuid===e.userXuid)return-1;if(n.xuid===e.userXuid)return 1;const a=r.get(t.xuid),l=r.get(n.xuid);return a&&l?t.lastSeenTime===n.lastSeenTime?t.gamerTag.localeCompare(n.gamerTag):n.lastSeenTime-t.lastSeenTime:a||l?a?-1:1:t.gamerTag.localeCompare(n.gamerTag)})),o=new Map;for(let e=0;e<Math.min(a,l.length);e++)o.set(l[e].gamerTag,e);return o}),[a],[t,n,e]))(A,R,L,300),W=(0,r.useFacetMap)((e=>e.players.length>300),[],[_]),B=((e,t,n,a,l,o,i,c)=>(0,r.useFacetMemo)(((e,t,n,a)=>{const r=[],s=new Set,u=1*Math.floor(Math.abs(0)/60),d=1*Math.floor(Math.abs(0)%60),m=o*(l-t),p=new Date(i.getTime()-m*yH);p.setHours(0-u,0-d,0,0),p.setTime(p.getTime()+yH-1);const f=o*(l-t+1)-1,g=Math.min(27,f),E=new Date(i.getTime()-g*yH);E.setHours(0-u,0-d,0,0);const h=function(e,t){let n=0,a=-1,r=0;for(let l=0;l<t;l++){const t=new Date(e.getTime()+yH*(l-.5));if(n=new Date(e.getTime()+yH*(l+.5)).getTimezoneOffset()-t.getTimezoneOffset(),0!==n){a=l;for(let t=0;t<24;t++){const n=new Date(e.getTime()+yH*l+SH*t),a=new Date(n.getTime()+SH),o=a.getHours()-n.getHours();if(n.getHours()===a.getHours()||o>1||-23===o&&1===a.getHours()||-22===o&&0===a.getHours()){r=t+1;break}}break}}return{dayLightSavingsOffset:n,dayLightSavingsSegment:a,dayLightSavingsHour:r}}(E,o),v=new Date(i.getTime()-f*yH);v.setHours(0-u,0-d,0,0);const b=new Map;n.forEach((e=>{b.set(e.xuid,e)}));let y="";for(let t=0;t<e.length;t++){const n=e[t].userXuid,l=b.get(n);if(null==l||l.role===Vc.NONMEMBER||!a.has(l.gamerTag))continue;const o=new Date;o.setTime(1e3*e[t].login);const i=new Date;i.setTime(1e3*e[t].logout);const c={start:0,size:0};if(o.getTime()<=p.getTime()&&o.getTime()>=E.getTime()||i.getTime()<=p.getTime()&&i.getTime()>=E.getTime()){const e=new Date(Math.max(o.getTime(),E.getTime())).getTime(),t=new Date(Math.min(i.getTime(),p.getTime())).getTime(),n=h.dayLightSavingsOffset;let a=(e-v.getTime())/1e3/60,r=(t-e)/1e3/60;const l=new Date(E.getTime()+h.dayLightSavingsSegment*yH+h.dayLightSavingsHour*SH);n>0?(e>l.getTime()&&(a=(e-v.getTime()-Math.min(e-v.getTime(),SH))/1e3/60),e<=l.getTime()&&t>l.getTime()&&(r=(t-e-Math.min(t-l.getTime(),SH))/1e3/60)):n<0&&(e>=l.getTime()&&(a=(e-v.getTime()+SH)/1e3/60),e<l.getTime()&&t>=l.getTime()&&(r=t-e+Math.min(p.getTime()-i.getTime(),SH))),c.start=a,c.size=r}if(n!==y){const e=[];0!==c.size&&e.push(c),r.push({gamerXuid:l.xuid,gamerTag:l.gamerTag,gamerIcon:l.gamerIcon,gamerOnline:l.isOnline,gamerOptedIn:l.hasOptedIn,narrationText:[""],blocks:e}),s.add(l.gamerTag)}else 0!==c.size&&r[r.length-1].blocks.push(c);y=n}for(let e=0;e<n.length;e++){if(n[e].role===Vc.NONMEMBER||!a.has(n[e].gamerTag))continue;const t=n[e].gamerTag;s.has(t)||(r.push({gamerXuid:n[e].xuid,gamerTag:t,gamerIcon:n[e].gamerIcon,gamerOnline:n[e].isOnline,gamerOptedIn:n[e].hasOptedIn,narrationText:[""],blocks:[]}),s.add(t))}for(let e=0;e<r.length;e++){const n=[];for(let a=0;a<o;a++){const s=a*bH,u=(a+1)*bH-1,d=[];for(let t=0;t<r[e].blocks.length;t++){const n=r[e].blocks[t].start,a=n+r[e].blocks[t].size;if(n>=s&&n<u||a>s&&a<=u){const e=Math.max(n,s)-s,t=Math.floor(e%60),r=Math.floor(e/60),l=Math.min(a,u)-s,o=Math.floor(l%60),i=Math.floor(l/60);d.push(c(".fromTo",[c(".timeFormat",[r.toString(),t.toString()]),c(".timeFormat",[i.toString(),o.toString()])]))}}const m=o*(l-t)+o-a-1,p=new Date;p.setDate(i.getDate()-m);const f=c(".onDayOfMonthYear",[c(hH[p.getDay()]),p.getDate().toString(),c(".monthYear",[c(gH[p.getMonth()]),p.getFullYear().toString()])]);if(0===d.length)n.push(c(".timeline")+" . "+c(".didNotPlay",[r[e].gamerTag,f]));else{let t="";for(let e=0;e<d.length;e++)t=0===e?d[e]:c(".and",[t,d[e]]);n.push([c(".timeline"),1===d.length?c(".timeblock"):c(".timeblocks"),c(".played",[r[e].gamerTag,t,f])].join(" . "))}}r[e].narrationText=n}return r}),[o,l,i,c],[t,e,n,a]))(v,N,L,D,i,l,T,I),U=(z=B,j=D,(0,r.useFacetMap)(((e,t)=>[...e].sort(((e,n)=>{var a,r;return(null!==(a=null==t?void 0:t.get(e.gamerTag))&&void 0!==a?a:0)-(null!==(r=null==t?void 0:t.get(n.gamerTag))&&void 0!==r?r:0)}))),[],[z,j]));var z,j;const H=(0,r.useFacetMap)((e=>i===e?l-1:-1),[i,l],[v]),V=(0,r.useFacetMap)((e=>1===e?l*i-28:-1),[i,l],[v]),G=Fr("neutral"),[$,K]=(0,r.useFacetState)([]);(0,r.useFacetEffect)((e=>{K(e)}),[K],[U]);const X=(0,r.useFacetMap)((e=>e[0]),[],[$]),Y=(0,r.useFacetMap)((e=>0!==e.length&&!t),[t],[$]),q=kH.useModal(),Q=Tz.useModal(),J=(0,a.useCallback)((()=>{q.hide(),E.push("/realms-stories-timeline-information")}),[E,q]),Z=(0,r.useFacetCallback)((e=>()=>{q.hide(),E.push(`/realms-stories-opted-out-members/${e.realmId}`)}),[q,E],[y]),ee=TH.useModal(),te=(0,r.useFacetCallback)(((t,n,a)=>()=>{t.setPlayerOptInStatusAndPostWithOptInTelemetry(a.realmId,Ms.OptedOut,e,uz.OptOut_Settings,n),q.hide()}),[q,e],[F,w,y]),ne=(0,r.useFacetMap)(((e,t)=>e&&(t.currentPostState===iu.InputInvalid||t.currentPostState===iu.InternalError||t.currentPostState===iu.UploadFailed||t.currentPostState===iu.PostingFailed)),[],[h,C]),ae=(0,r.useFacetMap)(((e,t)=>e&&t.currentPostState===iu.RateLimit),[],[h,C]),re=(0,r.useFacetMap)(((e,t,n,a)=>e&&!n&&!a&&(t.currentPostState===iu.InProgress||t.currentPostState===iu.Uploading)),[],[h,C,ne,ae]),le=(0,r.useFacetCallback)(((e,t,n)=>()=>{t||(e.clearSettingsStatus(),e.fetchSettings(n.realmId))}),[],[F,re,y]),oe=(0,r.useFacetMap)((e=>e.fetchSessionStatus===ou.Success&&0===e.sessions.length),[],[(0,r.useSharedFacet)(ps)]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:W},a.createElement(a.Fragment,null,a.createElement(lz,null),a.createElement(om,{size:2}))),a.createElement(r.Mount,{when:oe},a.createElement(a.Fragment,null,a.createElement(sr,{collection:_D},a.createElement(GT,{role:"informative"},a.createElement(GT.Text,null,P(".noDataBanner")))),a.createElement(om,{size:2}))),!t&&a.createElement(Fp,{containerRef:g},a.createElement("div",{ref:g},a.createElement("div",{className:Dr()(iH,"nJCuE","mOhfQ")},a.createElement(AH,{totalPages:i,currentPage:v,onChange:b,isNarrow:t,onInformation:q.show})))),a.createElement("div",{className:Dr()(iH,cH)},a.createElement("div",{className:Dr()({[sH]:t},{[uH]:!t},pH,fH,G.border.base,"C0AEe")},t&&a.createElement(Fp,{containerRef:d},a.createElement("div",{ref:d},a.createElement(AH,{totalPages:i,currentPage:v,onChange:b,isNarrow:t,onInformation:q.show})))),a.createElement("div",{className:Dr()({[dH]:t},{[mH]:!t},"dcgPW",pH,G.border.base)},a.createElement(Fp,{containerRef:s},a.createElement("div",{ref:s},a.createElement(Zj,{rowData:x}))),a.createElement(Fp,{containerRef:u},a.createElement("div",{ref:u},a.createElement(Zj,{rowData:O}))))),a.createElement(r.Mount,{when:q.isVisible},a.createElement(kH.Component,{onClose:q.hide,onClickAbout:Q.show,onClickMembers:Z,onClickOptOut:ee.show})),a.createElement(r.Mount,{when:Q.isVisible},a.createElement(Tz.Component,{closeModal:Q.hide,learnMore:J})),a.createElement(r.Mount,{when:ee.isVisible},a.createElement(TH.Component,{onClose:ee.hide,onOptOutCompleted:te,onOptOutCancelled:()=>M(uz.CancelOptOut_Settings)})),a.createElement(r.Mount,{when:re},a.createElement(eW,null)),a.createElement(r.Mount,{when:ne},a.createElement(tW.Component,{onClickClose:le})),a.createElement(r.Mount,{when:ae},a.createElement(rW.Component,{onClickClose:le})),a.createElement(r.Mount,{when:Y},a.createElement(Fp,{containerRef:c,focusControlDisabled:n},a.createElement("div",{ref:c},a.createElement(OH,{gamepadIndex:0,isDarker:!1,numberOfSegments:l,maximumBlockCount:o,highlightedSegment:H,blackenedSegmentBefore:V,blockColor:0,playerData:X})))),a.createElement("div",{className:Dr()(iH,"tx_2T",G.border.base)},a.createElement("div",{className:Dr()({oH5v_:t},{q0DXQ:!t})},a.createElement(Ef,{floating:!0,gamepadIndex:0,focusControlDisabled:!0},a.createElement("div",{className:Dr()("x7BwQ",fH,G.border.base)},a.createElement(r.Map,{array:(0,r.useFacetMap)((e=>e.slice(t?0:1)),[t],[$])},((e,n)=>a.createElement(OH,{gamepadIndex:n,isDarker:n%2==(t?1:0),numberOfSegments:l,maximumBlockCount:o,highlightedSegment:H,blackenedSegmentBefore:V,blockColor:n+(t?0:1),playerData:e}))))))))}const RH=({children:e})=>a.createElement(Yv.Row,{gamepadIndex:0},a.createElement(Yv.Column,{wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{wideSize:10,narrowSize:8,gamepadIndex:1},e),a.createElement(Yv.Column,{wideSize:1,narrowSize:0}));function _H(){const{t:e}=tc("RealmsStories"),t=f(),n=wB(),l=Fr("neutral"),o=Fr("neutral80"),i=p(),s=(0,a.useContext)(c),u=(0,r.useSharedFacet)(Wc),d=(0,r.useSharedFacet)(ws),m=`${Math.floor(1e9*Math.random())}`,g=dz(m),E=(0,r.useFacetMap)(((e,t,n)=>e.isOnline?t.currentFetchState===ou.InternalError||t.currentFetchState===ou.FetchFailed||t.currentFetchState===ou.RateLimit||n.fetchSessionStatus===ou.InternalError||n.fetchSessionStatus===ou.FetchFailed||n.fetchSessionStatus===ou.RateLimit?"fetch-status-error-message":t.currentFetchState===ou.InProgress?"settings-loading":t.realmTimelineStatus?t.playerOptIn!=Ms.OptedIn&&(t.currentPostState===iu.Idle||t.currentPostState===iu.Success)||t.playerOptIn==Ms.OptedIn&&t.currentPostState!==iu.Success&&t.currentPostState!==iu.Idle?"realms-opt-in-message":"no-message":"timeline-off-message":"no-internet-message"),[],[(0,r.useSharedFacet)(il),d,(0,r.useSharedFacet)(ps)]),h=(0,r.useFacetCallback)(((e,t)=>()=>e&&!t),[],[i,s]);(0,r.useFacetEffect)(((e,t)=>{if(!0===h()&&(t.currentPostState===iu.Idle||t.currentPostState===iu.Success))switch(e){case"timeline-off-message":return void g(t.playerOptIn===Ms.OptedIn?uz.ViewedTimeline_OptedIn_TimelineDisabled:uz.ViewedTimeline_OptedOut_TimelineDisabled);case"realms-opt-in-message":return void g(uz.ViewedTimeline_OptInMessage);case"no-message":return void g(uz.ViewedTimeline_TimelineContent)}}),[g,h],[E,d]);const v=(0,r.useFacetMap)((e=>"no-message"!=e),[],[E]),b=(0,r.useFacetCallback)(((e,t)=>()=>{e.fetchSessions(),e.fetchSettings(t.realmId)}),[],[u,t]);return a.createElement(Yv,{noGutters:!0},a.createElement(r.Mount,{when:v},a.createElement(wl,{data:E},(t=>{switch(t){case"no-internet-message":return a.createElement(RH,null,a.createElement(nz,null));case"fetch-status-error-message":return a.createElement(RH,null,a.createElement(rz,{onClick:b,pageName:e(".timeline")}));case"timeline-off-message":return a.createElement(RH,null,a.createElement(cb,{title:e(".messages.timelineOff.title"),text:e(".messages.timelineOff.body"),imgSrc:Qj,imgClass:n}));case"settings-loading":return a.createElement(Yv.Row,{fullHeight:!0},a.createElement(Yv.Column,{wideSize:12,narrowSize:8},a.createElement("div",{"data-testid":"timeline-fetching-spinner",className:Dr()("a6yyu",l.border.base,o.overlay.base)},a.createElement(ff,null))));case"realms-opt-in-message":return a.createElement(mz,{correlationId:m});default:return a.createElement(a.Fragment,null)}}))),a.createElement(r.Mount,{when:v,condition:!1},a.createElement(Yv.Row,{gamepadIndex:3,fullHeight:!0},a.createElement(Yv.Column,{wideSize:12,narrowSize:8,gamepadIndex:0},a.createElement(NH,{correlationId:m})))))}function LH(){const e=(0,r.useSharedFacet)(Wc),t=(0,r.useSharedFacet)(Bc),n=(0,r.useSharedFacet)(ws),l=m(),{t:o}=ec("RealmsStories"),i=qr(),c="realms-stories",s=Se(),u=(0,r.useFacetMap)((e=>`${o(".header",[e.name])}`),[o],[t]),d=(0,r.useFacetMap)((e=>`${o(".screen",[e])}`),[o],[u]),f=p(),g=(0,r.useFacetCallback)((e=>()=>{e&&l.goBack()}),[l],[f]),E=(0,r.useSharedFacet)(Ss),h=(0,r.useFacetMap)(((e,t)=>e.realmNotificationsStatus&&!t.mostRecentStoriesViewed&&t.unreadStoryCount>0),[],[n,E]),v=(0,r.useFacetMap)(((e,t)=>e?t.unreadStoryCount>1?o(".unreadStoryHint",[`${t.unreadStoryCount}`]):o(".oneUnreadStoryHint"):""),[o],[h,E]),b=(0,r.useFacetMap)(((e,t,n)=>[{label:o(".storyFeed"),value:Lj.Feed,hint:n,badge:t?e.unreadStoryCount:void 0},{label:o(".timeline"),value:Lj.Timeline},{label:o(".members"),value:Lj.Members}]),[o],[E,h,v]),y=(0,r.useSharedFacet)(Ss),F=(0,r.useFacetCallback)((e=>t=>{Cs(e.stories),l.replace(`/realms-stories/${t}/${i.realmId}`),s(_y.getFocusAlias(c,t))}),[i.realmId,l,s],[y]),S=(0,r.useFacetCallback)((e=>()=>{Cs(e.stories),l.push(`/realms-stories-settings/${i.realmId}`)}),[i.realmId,l],[y]),C=(0,r.useSharedFacet)(il),M=(0,r.useFacetMap)((e=>!e.isOnline),[],[C]),w=i.tab===Lj.Feed,k=(0,r.useFacetCallback)(((e,t)=>()=>{t.fetchMembersStatus!==ou.InProgress&&t.fetchOnlineMembersStatus!==ou.InProgress&&(e.clearFetchMembersStatus(),e.fetchMembers())}),[],[e,(0,r.useSharedFacet)(Gc)]),T=(0,r.useFacetCallback)(((e,t)=>()=>{t.fetchSessionStatus!==ou.InProgress&&(e.clearFetchSessionsStatus(),e.fetchSessions())}),[],[e,(0,r.useSharedFacet)(ps)]),I=(0,r.useFacetCallback)(((e,t)=>()=>{t.storiesStatus!==ou.InProgress&&(e.clearStoryFeedStatus(),e.fetchStories()),t.eventsStatus!==ou.InProgress&&(e.clearEventsStatus(),e.fetchEvents())}),[],[e,E]),[P,x]=(0,r.useFacetState)(!1);(0,r.useFacetEffect)(((e,t)=>{!e&&t.isRealmWorldValid&&(x(!0),k(),I(),T())}),[k,I,T,x],[P,t]);const O=(0,r.useFacetMap)((e=>e.isPrimaryUser),[],[(0,r.useSharedFacet)(Gn)]);return a.createElement(sr,{collection:LD},a.createElement(Iv,{role:"primary"},a.createElement($v,{onBackButton:g,center:a.createElement(fm,{type:"header5A"},u),narrationText:d,right:a.createElement(wl,{data:O},(e=>e?a.createElement($v.MenuButton,{onClick:S,type:"filter",gamepadIndex:1,narrationText:o(".narration.settings")}):a.createElement(a.Fragment,null))),gamepadAlias:"realms-stories-route",defaultFocusedChildBehavior:"remember"},a.createElement("div",{className:"lLbmU"},a.createElement(Yv,null,a.createElement(r.Mount,{when:M,condition:!1},a.createElement(Yv.Row,{gamepadIndex:0},a.createElement(Yv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},a.createElement(_y,{gamepadAliasNamespace:c,gamepadIndex:0,tabs:b,value:i.tab?i.tab:Lj.Feed,enableGamepadShortcuts:!0,onChange:F,narrationTitle:o(".narration.title"),badgeRole:"secondary"}),!w&&a.createElement(om,{size:2})))),a.createElement(oy,{component:Yj,tab:Lj.Feed}),a.createElement(oy,{component:_H,tab:Lj.Timeline}),a.createElement(oy,{component:(0,a.useCallback)((()=>a.createElement(gj,{isStoriesRouteActive:f})),[f]),tab:Lj.Members}),a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:1})}))))))}const DH=n.p+"assets/timeline-opt-in-cf8ce.png";function WH(){const{t:e}=ec("RealmsStories.messages.timelineOptIn"),t=m(),n=p(),l=(0,r.useFacetCallback)((e=>()=>{e&&t.goBack()}),[t],[n]),o=(0,r.useFacetCallback)((()=>()=>{}),[],[]);return a.createElement(sr,{collection:LD},a.createElement(Jx,{onGoBack:l,buttons:[{variant:"primary",inputLegend:"Select",onClick:o,children:e(".button")},{variant:"secondary",inputLegend:"Select",onClick:l,children:e(".maybeLaterButton")}],shouldEnumerateButtons:!0,title:e(".requiredTitle"),narrationSuffix:"",leftContent:a.createElement(Mp,{src:DH,aspectRatio:Mp.AspectRatio["16:9"]}),rightContent:a.createElement(a.Fragment,null,a.createElement(Lp,null,a.createElement(fm,{type:"body",align:"center"},e(".ownerRequire.title"))),a.createElement(Jx.Content,null,a.createElement(fm,{type:"paragraphs"},e(".ownerRequire.body"),e(".body"))))}))}function BH(){const e=Yr(),t=(0,r.useSharedFacet)(Si),n=(0,r.useSharedFacet)(mu),l=(0,a.useRef)(!1),[o,i]=(0,r.useFacetState)(!1),c=(0,r.useSharedFacet)(pu);(0,r.useFacetEffect)(((e,t,n)=>{t.state!==Es.Loading&&!l.current&&n.length>0&&(i(!0),e.createPreviewRealmFromSubscriptionId(`${n[0].id}`),l.current=!0)}),[l,i],[t,n,c]);const s=(0,r.useFacetMap)(((e,t)=>t.createPreviewRealmFromSubscriptionTaskState!==ck.RUNNING&&e.state===Es.Loading),[],[n,t]),u=(0,r.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===ck.RUNNING&&e.createPreviewRealmFromSubscriptionResult===Fi.CreatingPreviewRealm),[],[t]),d=(0,r.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===ck.RUNNING&&e.createPreviewRealmFromSubscriptionResult===Fi.RetrievingCreatedPreviewRealm),[],[t]),m=(0,r.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===ck.FAILED),[],[t]),p=(0,r.useFacetCallback)((t=>()=>{i(!1),t.reset(),e.goBack()}),[e,i],[t]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:s},a.createElement(qD,{onClickClose:e.goBack})),a.createElement(r.Mount,{when:s,condition:!1},a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:o},a.createElement(XD.Component,{onConfirm:(0,r.useFacetCallback)((e=>()=>{i(!1),e.activateNewPreviewRealm(!1)}),[i],[t]),onClose:p})),a.createElement(r.Mount,{when:u},a.createElement(JD,{onClickClose:e.goBack})),a.createElement(r.Mount,{when:d},a.createElement(QD,{onClickClose:e.goBack})),a.createElement(r.Mount,{when:m},a.createElement(tW.Component,{onClickClose:p})))))}const UH="xWZPm",zH="FSvA8",jH="PDItc",HH="LSGI4",VH="WrOnV",GH="wcRjU";function $H(e){return`screenshot-${e}-in-gallery`}function KH({screenshot:e,index:t,length:n,onScreenshotClicked:l,variant:o,loading:i=!1,isSelected:c=!1,gamepadAlias:s="",imageAspectRatioOverride:u,narrationSuffix:d=""}){const{t:m}=ec("ScreenshotGalleryItem"),{t:p}=ec("ScreenshotGalleryItem.narration"),f=Fr(),g=(0,r.useFacetWrap)(e),E=(0,r.useFacetWrap)(c),h=(0,r.useFacetWrap)(d),v=(0,r.useFacetWrap)(i),b=Mp.aspectRatioToPercentage(null!=u?u:Mp.AspectRatio["16:9"]),y=(0,r.useFacetMap)((e=>e.thumbnail),[],[g]),F=(0,r.useFacetMap)((e=>"manage"===o?m(".removeScreenshot"):e.captureTimeLabel),[o,m],[g]),S=(0,r.useFacetMap)(((e,n,a,r,l)=>{let i=[];return i="select"===o?[p(r?".checked":".notChecked"),p(".checkboxRole"),e.featured?p(".featured"):"",e.showcased?p(".showcased"):"",p(".enumeration",[(t+1).toString(),n.toString()]),l]:"manage"===o?[a,e.featured?p(".featured"):"",e.showcased&&!e.featured?p(".showcased"):"",p(".cardRole"),p(".enumeration",[(t+1).toString(),n.toString()]),l]:[a,p(".cardRole"),e.featured?p(".featured"):"",e.showcased?p(".showcased"):"",p(".enumeration",[(t+1).toString(),n.toString()]),l],i.filter((e=>null!=e&&""!==e)).join(" . ")}),[p,t,o],[g,n,F,E,h]),C=(0,r.useFacetMap)((e=>e.featured),[],[g]),M=(0,r.useFacetMap)((e=>e.showcased),[],[g]),w=Tv(Ii.ScreenshotsShowcase),k=(0,r.useFacetCallback)((e=>()=>{l(e)}),[l],[g]),T=(0,r.useFacetMap)((e=>"manage"===o||!qw(e.platform)),[o],[(0,r.useSharedFacet)(il)]),I=(0,r.useFacetMap)(((e,n)=>""!==n?n:$H(t)),[t],[n,(0,r.useFacetWrap)(s)]);return a.createElement(Gr,null,a.createElement(Kz,{inputLegend:m(".screenshotInputLegend"),narrationTextOverride:S,onClick:k,gamepadAlias:I,fillShadow:!0},a.createElement(wl,{data:v},(e=>e?a.createElement(XH,{paddingTop:b}):a.createElement("div",null,a.createElement(Mp,{src:y,aspectRatio:null!=u?u:Mp.AspectRatio["16:9"]}),w&&a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:M},a.createElement("div",{className:Dr()(f.neutral80.background.base,f.neutral80.border.base,"_WNVA")},a.createElement(nM.Friends,{role:"neutral",width:24,height:24}))),a.createElement(r.Mount,{when:C},a.createElement("div",{className:UH},a.createElement(cy,{role:"primaryTint"},m(".featured"))))),"select"===o&&a.createElement("div",{className:"yePX7"},a.createElement(Rf,{value:E,narrationText:!1,gamepad:{index:0},mountFocusBorder:!1}))))),a.createElement(r.Mount,{when:T},a.createElement(Kz.Information,{narrationText:S},a.createElement(fm,{variant:"dimmer",type:"body"},F))),a.createElement(r.Mount,{when:T,condition:!1},a.createElement(Kz.Information,{narrationText:!1},a.createElement(om,{size:4})))))}function XH({paddingTop:e}){const t=Fr("inherit");return a.createElement("div",{style:{paddingTop:e},className:Dr()(zH,jH,t.background.base)},a.createElement("div",{className:"ebwSC","data-testid":"screenshot-loading-spinner"},a.createElement(ff,null)))}function YH(e){return"desktop"===e?6:"narrow"===e?2:4}function qH({displayData:e,onScreenshotClicked:t,innerRef:n,changePage:l,totalPages:o,currentPage:i,paginationEnabled:c,selectionEnabled:s=!1,selectedScreenshots:u,isLoadingScreenshots:d=!1,disableHomeEnd:m=!1}){const p=(0,r.useFacetMap)((e=>e.length),[],[e]),f=sd(),g=(0,a.useRef)(null),E=(0,r.useFacetWrap)(s),h=(0,r.useFacetMap)(((e,t,n)=>e?n.map((e=>t.includes(e.id))):null),[],[E,u,e]),v=Se(),b=(0,r.useFacetCallback)((e=>t=>{if(!t.repeat&&!m){if(t.keyCode==pe.HOME)return void v($H(0));if(t.keyCode==pe.END)return void v($H(e-1))}}),[m,v],[p]);return(0,a.useEffect)((()=>(window.addEventListener("keydown",b),()=>{window.removeEventListener("keydown",b)})),[b]),a.createElement(wl,{data:h},(s=>a.createElement(NU,{loading:d,gamepadAlias:"screenshot-gallery-grid",data:e,columns:YH(f),firstRowSeparatorVertical:a.createElement(om,{size:2}),itemSeparatorHorizontal:a.createElement(om,{size:2}),itemSeparatorVertical:a.createElement(om,{size:2}),innerRef:n,footer:a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:c,condition:!0},a.createElement("div",null,a.createElement(om,{size:4}),a.createElement("div",null,a.createElement(Fp,{containerRef:g},a.createElement("div",{ref:g},a.createElement(LT,{totalPages:o,currentPage:i,onChange:l})))),a.createElement(om,{size:4}))),a.createElement(r.Mount,{when:c,condition:!1},a.createElement(om,{size:4})),a.createElement(iE.Space,null)),renderItem:({itemFacet:e,index:n})=>a.createElement(KH,{length:p,screenshot:e,onScreenshotClicked:t,index:n,variant:null!=s?"select":"view",isSelected:null!=s&&s[n]})})))}let QH,JH;KH.Empty=function({index:e,length:t,variant:n,loading:l=!1,imgSrc:o,onClick:i,gamepadAlias:c,narrationSuffix:s="",imageAspectRatioOverride:u,featured:d=!1}){const{t:m}=ec("ScreenshotGalleryItem"),{t:p}=ec("ScreenshotGalleryItem.narration"),f=Fr("inherit"),g=Fr("neutral80"),E=(0,r.useFacetWrap)(n),h=(0,r.useFacetWrap)(l),v=(0,r.useFacetWrap)(s),b=(0,r.useFacetMap)(((t,n,a)=>[m("manage"===n?".pickScreenshot":".emptyScreenshotSlot"),p(".cardRole"),p(".enumeration",[(e+1).toString(),t.toString()]),a].filter((e=>null!=e&&""!==e)).join(" . ")),[p,m,e],[t,E,v]),y=Mp.aspectRatioToPercentage(null!=u?u:Mp.AspectRatio["16:9"]),F=(0,r.useFacetMap)((e=>`url(${e})`),[],[(0,r.useFacetWrap)(o)]);return"manage"===n?a.createElement(Gr,null,a.createElement(Kz,{inputLegend:m(".screenshotInputLegend"),narrationTextOverride:b,onClick:i,gamepadAlias:c,fillShadow:!0},a.createElement(wl,{data:h},(e=>e?a.createElement(XH,{paddingTop:y}):a.createElement(wl,{data:F},(e=>a.createElement(a.Fragment,null,a.createElement("div",{style:{paddingTop:y,backgroundImage:e},className:Dr()(zH,jH,f.background.base)},a.createElement("div",{className:Dr()(HH,d?GH:"")},a.createElement(nM.AddImage,{className:VH}))),d&&a.createElement("div",{className:UH},a.createElement(cy,{role:"primaryTint"},m(".featured")))))))),a.createElement(Kz.Information,{narrationText:b},a.createElement(fm,{variant:"dimmer",type:"body"},m(".pickScreenshot"))))):a.createElement("div",{className:"mb1eq"},a.createElement(em,{inputLegend:!1,narrationText:b,className:Dr()("F2PvF",g.border.base,g.background.base),classNameFocused:Zm,gamepadAlias:c},a.createElement(Jm,null),a.createElement(wl,{data:h},(e=>e?a.createElement(XH,{paddingTop:y}):a.createElement(wl,{data:F},(e=>a.createElement("div",{style:{paddingTop:y,backgroundImage:e},className:Dr()(zH,jH,g.background.base)},a.createElement("div",{className:Dr()(HH,d?GH:"")},a.createElement(nM.Image,{className:VH})))))))))},function(e){e[e.NewestFirst=0]="NewestFirst",e[e.OldestFirst=1]="OldestFirst",e[e.None=2]="None"}(QH||(QH={})),function(e){e[e.ShowAll=0]="ShowAll",e[e.Showcased=1]="Showcased",e[e.Unmarked=2]="Unmarked",e[e.Featured=3]="Featured"}(JH||(JH={}));const ZH="NzFL8",eV="S2wPa",tV="I7HUE",nV="O9q7X",aV=n.p+"assets/Not-Logged-In-02f5b.png",rV=n.p+"assets/Load-Error-0d717.png",lV=n.p+"assets/iconCameraButton-db27c.png";function oV(){return oV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oV.apply(this,arguments)}const iV=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("l3fYT",t);return a.createElement(Mp,oV({},n,{className:r,src:lV,imageRendering:"pixelated"}))};function cV(){const{t:e}=ec("useCaptureScreenshotInfo"),t=(0,r.useSharedFacet)(il);return(0,r.useFacetMap)((t=>{const n=e(".emptyGalleryTitle");if(Zw(t.platform,t.arvrPlatform)){const t=e(".controlHint.keyboard");return{icon:a.createElement(lE,{keyCode:pe.F2}),text:t,narration:t,title:n}}const r=e(".controlHint.touchscreen");return{icon:a.createElement(iV,null),text:r,narration:r,title:n}}),[e],[t])}function sV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function uV(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let dV;function mV({errorType:e}){const{t}=ec("ScreenshotGalleryError"),n=Fr("neutral80"),l=m(),o=Db({wide:8,narrow:6,width:260}),i=(0,r.useFacetWrap)(e),c=(0,r.useSharedFacet)(Ls),s=(0,r.useFacetCallback)((e=>()=>{e.clearLoadGalleryError(),e.retryLoadGallery()}),[],[c]),u=(0,a.useCallback)((()=>{l.push("/sign-in?signInSource=ProfileScreen_OreUI")}),[l]),d=cV(),p=(0,r.useFacetMap)(((e,n)=>{switch(e){case dV.EmptyGallery:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sV(Object(n),!0).forEach((function(t){uV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);case dV.NotSignedIn:return{icon:a.createElement(Mp,{className:o?tV:nV,imageRendering:"pixelated",src:aV}),text:t(".notLoggedInMessage"),title:t(".notLoggedInTitle"),button:{text:t(".signInWithMicrosoft"),onClick:u}};case dV.LoadError:return{icon:a.createElement(Mp,{className:o?tV:nV,imageRendering:"pixelated",src:rV}),text:t(".loadErrorMessage"),title:t(".loadErrorTitle"),button:{text:t(".tryAgain"),onClick:s,variant:"secondary"}};default:return{icon:a.createElement(a.Fragment,null),text:"",title:""}}}),[o,u,t,s],[i,d]);return a.createElement(wl,{data:p},(e=>{var t;return a.createElement("div",{className:Dr()("OG8RP",n.background.base,n.border.base)},a.createElement(fm,{type:"secondaryButton",align:"center"},e.title),a.createElement(om,{size:4}),a.createElement("div",{className:"ap8Jq"},e.icon),a.createElement(om,{size:4}),a.createElement(fm,{type:"captionShort",variant:"dimmest",align:"center"},e.text),null!=e.button&&a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement("div",{className:"nuuVt"},a.createElement(mg,{inputLegend:e.button.text,variant:null!==(t=e.button.variant)&&void 0!==t?t:"primary",onClick:e.button.onClick},e.button.text))))}))}!function(e){e[e.NoError=0]="NoError",e[e.EmptyGallery=1]="EmptyGallery",e[e.NotSignedIn=2]="NotSignedIn",e[e.LoadError=3]="LoadError"}(dV||(dV={}));const pV="filter-dropdown-alias",fV="sort-dropdown-alias";function gV({headerText:e,showHeaderNumbers:t=!1,onScreenshotClicked:n,screenshotLists:l,scrollViewRef:o,managementRowButtons:i,isLoadingScreenshots:c=!1,onSubmitSelection:s,onCancelSelection:u,selectionType:d="confirm",maxSelection:m=-1,onGoBack:p,selectionEnabled:f=!1,banner:g,filterType:E="all"}){const{t:h}=ec("ScreenshotGalleryContainer"),{t:v}=ec("ScreenshotGalleryContainer.narration"),b=Tv(Ii.ScreenshotsShowcase),y=(0,r.useFacetWrap)(d),F=(0,r.useFacetWrap)(m),[S,C]=(0,r.useFacetState)(JH.ShowAll),M=(0,r.useSharedFacet)(Ls),w=(0,r.useFacetWrap)(c),k=(0,r.useFacetWrap)(f),[T,I]=(0,r.useFacetState)(1),[P,x]=(0,r.useFacetState)(!1),O=Se(),A=(0,a.useCallback)((()=>{null!=o&&null!=o.current&&(o.current.scrollTop=0),O($H(0))}),[o,O]),N=(0,a.useCallback)((e=>{x(e.target.scrollTop>0)}),[x]);(0,a.useEffect)((()=>{const e=null==o?void 0:o.current;return requestAnimationFrame((()=>{const e=null==o?void 0:o.current;null==e||e.addEventListener("scroll",N)})),()=>{null==e||e.removeEventListener("scroll",N)}}),[o,N]);const R=(0,a.useCallback)((e=>{I(e),A()}),[A,I]),[_,L]=(0,r.useFacetState)([]);(0,r.useFacetEffect)((e=>{e&&C(JH.ShowAll),R(1),L([])}),[R,C,L],[k]);const D=(0,r.useFacetMap)((e=>0===e.length),[],[_]),W=(0,r.useFacetCallback)((e=>t=>{L((n=>n===r.NO_VALUE?r.NO_VALUE:n.includes(t.id)?n.filter((e=>e!==t.id)):-1===e||n.length<e?[...n,t.id]:n))}),[L],[F]),B=(0,r.useFacetCallback)((e=>()=>{s&&s(e)}),[s],[_]),U=(0,r.useFacetMap)(((e,t)=>"delete"===e?h(1===t.length?".deleteButtonTextSingular":".deleteButtonText",[`${t.length}`]):h(".confirmButtonText")),[h],[y,_]),z=sd(),[j,H]=(0,r.useFacetState)(QH.NewestFirst),V=(0,a.useCallback)((e=>{H(e),A(),R(1)}),[R,A,H]),G=(0,a.useCallback)((e=>{C(e),A(),R(1)}),[R,A,C]),$=(0,r.useFacetWrap)([{label:h(".newestFirst"),value:QH.NewestFirst,gamepadAlias:"screenshot-sort-menu-options1",enumeration:h(".optionsEnumeration",["1","2"])},{label:h(".oldestFirst"),value:QH.OldestFirst,gamepadAlias:"screenshot-sort-menu-options2",enumeration:h(".optionsEnumeration",["2","2"])}]),K=function(e,t="all"){const{t:n}=ec("ScreenshotGalleryContainer"),a=(0,r.useFacetWrap)(t);return(0,r.useFacetMap)(((e,t)=>{const a=[{label:n("all"===t?".showAll":".available",[e.all.length.toString()]),value:JH.ShowAll,gamepadAlias:"screenshot-filter-menu-options-1",enumeration:""}];e.showcased.length>0&&"all"===t&&a.push({label:n(".showcased",[e.showcased.length.toString()]),value:JH.Showcased,gamepadAlias:`screenshot-filter-menu-options-${a.length+1}`,enumeration:""}),e.unmarked.length>0&&a.push({label:n(".unmarked",[e.unmarked.length.toString()]),value:JH.Unmarked,gamepadAlias:`screenshot-filter-menu-options-${a.length+1}`,enumeration:""}),e.featured.length>0&&a.push({label:n(".featured",[e.featured.length.toString()]),value:JH.Featured,gamepadAlias:`screenshot-filter-menu-options-${a.length+1}`,enumeration:""});for(let e=0;e<a.length;e++)a[e].enumeration=n(".optionsEnumeration",[`${e+1}`,`${a.length}`]);return a}),[n],[e,a])}(l,E),X=(0,r.useFacetWrap)(e),Y=(0,r.useFacetWrap)(t),q=(0,r.useFacetMap)(((e,t,n,a,r,l,o)=>t&&-1===l||!r?e:h(".headerTextWithNumbers",[e,`${t?n.length:a.all.length}`,`${t?l:o.maxScreenshots}`])),[h],[X,k,_,l,Y,F,M]),Q=function(e,t,n,a=1){const l=(0,r.useFacetWrap)(a);return(0,r.useFacetMap)(((e,t,n,a)=>{let r=[];switch(n){case JH.Showcased:r=Rk(e.showcased);break;case JH.Featured:r=Rk(e.featured);break;case JH.Unmarked:r=Rk(e.unmarked);break;default:r=Rk(e.all)}t===QH.NewestFirst?r=r.sort(((e,t)=>t.captureTime-e.captureTime)):t===QH.OldestFirst&&(r=r.sort(((e,t)=>e.captureTime-t.captureTime)));const l=r.slice(48*(a-1),48*a);return{fullData:r,pageData:l}}),[],[e,t,n,l])}(l,j,S,T),J=(0,r.useFacetMap)((e=>e.pageData),[],[Q]),Z=(0,r.useFacetMap)((e=>e.fullData),[],[Q]),[ee,te]=(0,r.useFacetState)(!1),[ne,ae]=(0,r.useFacetState)(1);(0,r.useFacetEffect)(((e,t)=>{const n=t.length>48,a=Math.ceil(t.length/48);te(n),ae(a),0===e.length&&0!==t.length&&R(a)}),[R,te,ae],[J,Z]);const re=(0,r.useFacetCallback)(((e,t,a)=>r=>{a?W(r):n(r,e,t)}),[n,W],[j,S,k]),le=(0,r.useFacetMap)(((e,t,n,a)=>n.isLoggedInWithMicrosoftAccount?a.loadGalleryError===_s.HttpError?dV.LoadError:null!=e&&0!==e.length||t?dV.NoError:dV.EmptyGallery:dV.NotSignedIn),[],[Z,w,(0,r.useSharedFacet)(hu),M]),oe=(0,r.useFacetMap)(((e,t)=>e&&t===dV.NoError),[],[P,le]),ie=(0,r.useFacetMap)(((e,t)=>e===dV.NoError&&!t),[],[le,k]),ce=(0,r.useFacetMap)((e=>!qw(e.platform)),[],[(0,r.useSharedFacet)(il)]),se=(0,r.useFacetMap)((e=>e?b?"both":"justSort":b?"justFilter":"empty"),[b],[ce]),ue=(0,r.useFacetMap)((e=>"justSort"===e?fV:"empty"===e?void 0:pV),[],[se]),de=(0,r.useFacetMap)((e=>"narrow"===z&&"both"===e?"nM6wO":"ziqkT"),[z],[se]),me=(0,r.useFacetMap)((e=>Dr()("ewABs","narrow"===z?"":"both"===e?"ttXbT":"vnqNC")),[z],[se]),pe=(0,r.useFacetMap)((e=>"justFilter"===e||"both"===e),[],[se]),fe=(0,r.useFacetMap)((e=>"justSort"===e||"both"===e),[],[se]),ge=(0,r.useFacetMap)((e=>"empty"===e),[],[se]),Ee=(0,r.useFacetMap)(((e,t)=>[v(".screenshots"),v(".grid"),v(e?"confirm"===t?".selectionClickInstructions":".deletionClickInstructions":".screenshotClickInstructions")].join(" . ")),[v],[k,y]);return a.createElement(AP,{screenAnalyticsId:"ScreenshotGalleryContainer",title:q,gamepadAlias:"screenshot-gallery-container",delegateByAlias:ue,onBack:p},(()=>a.createElement(Yv,null,a.createElement(om,{size:3}),a.createElement(r.Mount,{when:ie},a.createElement(Yv.Row,null,a.createElement(wf,{text:[v(".screenshotOptions"),v(".horizontalGroupChoice")].join(" . ")},a.createElement(Yv.Column,{wideSize:12,narrowSize:8},a.createElement("fast-div",{className:de},a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:ge,condition:!1},a.createElement(a.Fragment,null,a.createElement("fast-div",{className:me},a.createElement(r.Mount,{when:pe},a.createElement(a.Fragment,null,a.createElement("div",{className:ZH},a.createElement(vx,{title:h(".filterOptions"),options:K,value:S,onItemSelect:G,buttonTestId:"filter-dropdown-button",matchButtonHeight:!0,gamepadAlias:pV})),a.createElement(om,{size:2}))),a.createElement(r.Mount,{when:fe},a.createElement("div",{className:ZH},a.createElement(vx,{title:h(".sortOptions"),options:$,value:j,onItemSelect:V,buttonTestId:"sort-dropdown-button",matchButtonHeight:!0,gamepadAlias:fV})))),a.createElement(om,{size:2}))),i)),g)))),a.createElement(r.Mount,{when:k},a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:12,narrowSize:8},a.createElement("div",{className:"Lypqj"},a.createElement("div",{className:eV},a.createElement(mg,{inputLegend:h(".cancel"),onClick:u,"data-testid":"cancel-selection"},h(".cancel"))),a.createElement(om,{size:2}),a.createElement("div",{className:eV},a.createElement(wl,{data:y},(e=>a.createElement(mg,{inputLegend:U,onClick:B,disabled:D,"data-testid":"submit-selection",variant:"confirm"===e?"primary":"destructive"},U)))))))),a.createElement(om,{size:3}),a.createElement(r.Mount,{when:oe},a.createElement("div",{className:"cybQO","data-testid":"gallery-content-divider"},a.createElement(yT,{role:"neutral80",reversed:!1}))),a.createElement(Yv.Row,{fullHeight:!0},a.createElement(wl,{data:le},(e=>e===dV.NoError?a.createElement(Yv.Column,{narrowSize:8,wideSize:12},a.createElement(wf,{text:Ee},a.createElement(qH,{displayData:J,onScreenshotClicked:re,changePage:R,currentPage:T,totalPages:ne,paginationEnabled:ee,innerRef:o,selectedScreenshots:_,isLoadingScreenshots:w,selectionEnabled:k}))):a.createElement(a.Fragment,null,a.createElement(Yv.Column,{narrowSize:0,wideSize:1}),a.createElement(Yv.Column,{narrowSize:8,wideSize:10},a.createElement(mV,{errorType:e})),a.createElement(Yv.Column,{narrowSize:0,wideSize:1}))))),a.createElement(iE.Space,null))))}function EV(e=[]){const t=(0,r.useFacetWrap)(e),n=(0,r.useFacetMap)(((e,t)=>0===t.length?e.screenshots:t),[],[(0,r.useSharedFacet)(Ls),t]);return(0,r.useFacetMap)((e=>({all:e,showcased:mw(e,(e=>e.showcased)),featured:mw(e,(e=>e.featured)),unmarked:mw(e,(e=>!e.showcased&&!e.featured))})),[],[n])}function hV(){const{t:e}=ec("RealmsStoriesScreenshotGalleryRoute"),t=(0,r.useSharedFacet)(jc),n=(0,r.useSharedFacet)(Ls),l=m(),o=(0,r.useFacetCallback)((e=>t=>{e.storyScreenshotSelectionFilePath=t.filePath,l.goBack()}),[l],[t]),i=(0,r.useFacetMap)((e=>e.isLoadGalleryInProgress),[],[n]),c=EV(),s=(0,a.useRef)(null);return a.createElement(gV,{onScreenshotClicked:o,headerText:e(".header"),screenshotLists:c,scrollViewRef:s,isLoadingScreenshots:i})}const vV="upload-realms-error-modal-back",bV=Km((()=>{const{t:e}=ec("EditWorld.playOnRealmsErrorModal"),t=(0,r.useSharedFacet)(Is),n=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.uploadWorldToRealmError)&&void 0!==t?t:Ts.UnknownError}),[],[t]),l=(0,r.useFacetCallback)((e=>()=>e.clearUploadWorldToRealmTaskState()),[],[t]),o=(0,r.useFacetMap)((t=>{switch(t){case Ts.CrossPlatformRestricted:return{title:e(".crossPlatformRestricted.title"),firstParagraph:e(".crossPlatformRestricted.message"),secondParagraph:e(".crossPlatformRestricted.message2")};case Ts.TooManyRealms:return{title:e(".memberOfTooManyRealms.title"),firstParagraph:e(".memberOfTooManyRealms.message"),secondParagraph:""};case Ts.ActionAlreadyInProgress:case Ts.CannotSaveWorld:case Ts.Generic:case Ts.InvalidRealmName:case Ts.InvalidResponse:case Ts.InvalidWorldId:case Ts.UnknownError:default:return{title:e(".unknown.title"),firstParagraph:e(".unknown.message"),secondParagraph:e(".unknown.errorCode",[`${t}`])}}}),[e],[n]),i=(0,r.useFacetMap)((e=>e.title),[],[o]),c=(0,r.useFacetMap)((e=>e.firstParagraph),[],[o]),s=(0,r.useFacetMap)((e=>e.secondParagraph),[],[o]),u=(0,r.useFacetMap)((e=>""!=e.secondParagraph),[],[o]);return a.createElement(vE,{onOverlayClick:l,defaultFocusAlias:vV},a.createElement(vE.Header,{onClose:l},i),a.createElement(vE.Content,null,a.createElement(r.Mount,{when:u,condition:!1},a.createElement(vE.Text,{narrationText:c,center:!0},c)),a.createElement(r.Mount,{when:u,condition:!0},a.createElement(vE.Paragraphs,{narrationText:`${c}. ${s}`,spaceBetweenParagraphs:5},a.createElement(fm,{type:"captionLong",align:"center"},c),a.createElement(fm,{type:"captionLong",align:"center"},s)))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:vV,inputLegend:e(".closeButton"),variant:"secondary",onClick:l},e(".closeButton"))))})),yV="join-realms-error-modal-back",FV="join-realms-error-primary-action",SV=Km((({worldId:e})=>{const{t}=ec("JoinRealmsServerError"),n=m(),l=(0,r.useSharedFacet)(cc),o=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.joinRealmResult)&&void 0!==t?t:oc.UnknownError}),[],[l]),i=(0,r.useFacetCallback)((e=>()=>e.clearJoinRealmTaskState()),[],[l]),c=(0,r.useFacetMap)((e=>e===oc.UnassignedDevVersion),[],[o]),s=(0,r.useFacetCallback)(((e,t)=>()=>{n.push(`/realms-slot-settings/${t}/dev-options`),e.clearJoinRealmTaskState()}),[n],[l,(0,r.useFacetWrap)(e)]),u=(0,r.useFacetMap)((e=>{switch(e){case oc.UnassignedDevVersion:return{title:"Realm version is unassigned",firstParagraph:"A non-retail Realm world must be manually assigned a game version to use.",secondParagraph:"To assign a version, go to the developer options tab in the Realm world settings.",primaryActionText:"Go to settings"};case oc.MemberOfTooManyRealms:return{title:t(".memberOfTooManyRealms.title"),firstParagraph:t(".memberOfTooManyRealms.message"),secondParagraph:""};case oc.CannotConnectToRealm:return{title:t(".cannotConnectToRealm.title"),firstParagraph:t(".cannotConnectToRealm.message"),secondParagraph:""};case oc.JoinRealmAlreadyInProgress:case oc.RealmIDConversionFailed:case oc.RealmsNotInitialized:case oc.RealmsApiNotAvailable:case oc.MobileDataBlockedAndNoWifi:case oc.UnknownError:default:return{title:t(".unknown.title"),firstParagraph:t(".unknown.message"),secondParagraph:t(".unknown.errorCode",[`${e}`])}}}),[t],[o]),d=(0,r.useFacetMap)((e=>e.title),[],[u]),p=(0,r.useFacetMap)((e=>e.firstParagraph),[],[u]),f=(0,r.useFacetMap)((e=>e.secondParagraph),[],[u]),g=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.primaryActionText)&&void 0!==t?t:""}),[],[u]),E=(0,r.useFacetMap)((e=>""!=e.secondParagraph),[],[u]),h=(0,r.useFacetMap)((e=>e?FV:yV),[],[c]);return a.createElement(vE,{onOverlayClick:i,defaultFocusAlias:h},a.createElement(vE.Header,{onClose:i},d),a.createElement(vE.Content,null,a.createElement(r.Mount,{when:E,condition:!1},a.createElement(vE.Text,{narrationText:p,center:!0},p)),a.createElement(r.Mount,{when:E,condition:!0},a.createElement(vE.Paragraphs,{narrationText:`${p}. ${f}`,spaceBetweenParagraphs:5},a.createElement(fm,{type:"captionLong",align:"center"},p),a.createElement(fm,{type:"captionLong",align:"center"},f)))),a.createElement(vE.Buttons,null,a.createElement(r.Mount,{when:c},a.createElement(a.Fragment,null,a.createElement(mg,{gamepadAlias:FV,inputLegend:g,variant:"primary",onClick:s},g),a.createElement(om,{size:1}))),a.createElement(mg,{gamepadAlias:yV,inputLegend:t(".closeButton"),variant:"secondary",onClick:i},t(".closeButton"))))})),CV=Km((({onClose:e})=>{const{t}=tc("multiplayerBlockedModal"),n=(0,r.useSharedFacet)(yu),l=(0,r.useSharedFacet)(hu),o=(0,r.useSharedFacet)(il),i=rk(),c=(0,r.useFacetCallback)(((e,t,n)=>()=>{Yw(t.platform)?n.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(bu.TroubleshootingMultiplayerDisabled)}),[],[n,o,l]),s=(0,r.useFacetCallback)(((e,t,n)=>()=>{Yw(t.platform)?n.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(bu.ParentPermissionHelpPage)}),[],[n,o,l]),u=(0,r.useFacetCallback)((t=>()=>{t.showPremiumNetworkUpsellModal(),e()}),[e],[l]),d=(0,r.useFacetMap)(((e,t)=>e.userPermissions.multiplayer.denyReasons.includes(fu.XboxLive_Parental)?"multiplayer-parental":e.userPermissions.multiplayer.denyReasons.includes(fu.XboxLive)?"multiplayer-disabled":t?"multiplayer-disabled-third-party":void 0),[],[l,i]),m=(0,r.useFacetMap)((e=>qw(e.platform)?t(".bodyMultiplayerDisabledExternalNintendo"):t(".bodyMultiplayerDisabledExternal")),[t],[(0,r.useSharedFacet)(il)]);return a.createElement(vE,null,a.createElement(vE.Header,{onClose:e},t(".title")),a.createElement(vE.Content,null,a.createElement(wl,{data:d},(e=>{switch(e){case"multiplayer-disabled":return a.createElement(vE.Text,{gamepadIndex:0,narrationText:t(".bodyMultiplayerDisabled"),center:!0},t(".bodyMultiplayerDisabled"));case"multiplayer-parental":return a.createElement(vE.Text,{gamepadIndex:0,narrationText:t(".bodyMultiplayerDisabledParental"),center:!0},t(".bodyMultiplayerDisabledParental"));case"multiplayer-disabled-third-party":return a.createElement(vE.Text,{gamepadIndex:0,narrationText:t(".bodyMultiplayerDisabledExternal"),center:!0},m);default:return null}}))),a.createElement(wl,{data:d},(n=>{switch(n){case"multiplayer-disabled":return a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{horizontal:!0,variant:"secondary",inputLegend:t(".close"),onClick:e},t(".close")),a.createElement(om,{size:2}),a.createElement(mg,{horizontal:!0,Icon:nM.ExternalLink,variant:"primary",inputLegend:t(".learnMore"),onClick:c},t(".learnMore")));case"multiplayer-parental":return a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{horizontal:!0,variant:"secondary",inputLegend:t(".close"),onClick:e},t(".close")),a.createElement(om,{size:2}),a.createElement(mg,{horizontal:!0,Icon:nM.ExternalLink,variant:"primary",inputLegend:t(".learnMore"),onClick:s},t(".learnMore")));default:return a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{horizontal:!0,variant:"secondary",inputLegend:t(".close"),onClick:e},t(".close")),a.createElement(om,{size:2}),a.createElement(mg,{horizontal:!0,Icon:nM.ExternalLink,variant:"primary",inputLegend:t(".learnMore"),onClick:u},t(".learnMore")))}})))}));let MV;!function(e){e.EditWorldScreen="EditWorld",e.WorldEditingError="WorldEditingError",e.JoinRealmsError="JoinRealmsError",e.ResourcePackDownloadError="ResourcePacksDownloadError",e.UploadRealmsError="UploadRealmsError",e.UnexpectedLaunchError="UnexpectedLaunchError",e.MissingDependencies="MissingDependenciesError"}(MV||(MV={}));const wV=Km((({onClose:e,onChangeSkin:t,text:n})=>{const{t:r}=ec("JoinRealmsServerError.invalidMultiplayerSkin"),l="non-multiplayer-skin-modal-button",o=null!=n?n:r(".body");return a.createElement(vE,{defaultFocusAlias:l},a.createElement(vE.Header,{onClose:e},r(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:o,center:!0},o)),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:l,inputLegend:r(".changeSkin"),variant:"primary",onClick:()=>{t(),e()}},r(".changeSkin")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:r(".close"),variant:"secondary",onClick:e},r(".close"))))})),kV=Km((({onClose:e})=>{const{t}=ec("JoinRealmsServerError.noPlatformSubscription"),n=(0,r.useSharedFacet)(il),l=(0,r.useFacetMap)((e=>e.platform),[],[n]),o=(0,r.useFacetMap)((e=>qw(e)?t(".nintendo.body"):t(".xbox.body")),[t],[l]),i=(0,r.useFacetMap)((e=>qw(e)),[],[l]),c=(0,r.useFacetCallback)((t=>()=>{t.showPremiumNetworkUpsellModal(),e()}),[e],[(0,r.useSharedFacet)(hu)]);return a.createElement(vE,null,a.createElement(vE.Header,{onClose:e},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:o,center:!0},o)),a.createElement(r.Mount,{when:i},a.createElement(vE.Buttons,null,a.createElement(mg,{inputLegend:t(".nintendo.moreInformation"),variant:"secondary",onClick:c,"data-testid":"no-platform-modal-more-info-button"},t(".nintendo.moreInformation")))))})),TV="missing-dependency-modal-accept",IV=Km((({onClose:e,onAccept:t,hasMissingPacks:n,hasMissingTemplate:l})=>{const{t:o}=ec("PlayScreen.missingDependenciesModal"),i=(0,r.useSharedFacet)(Bu),c=(0,r.useSharedFacet)(qu),s=(0,r.useFacetMap)((e=>e.packDownloadStatus===Lu.Downloading||e.packDownloadStatus===Lu.Importing),[],[i]),u=(0,r.useFacetMap)((e=>e.downloadingStatus===Ku.Downloading||e.downloadingStatus===Ku.Importing||e.downloadingStatus===Ku.Initialising),[],[c]),d=(0,r.useFacetMap)(((e,t)=>e.packDownloadStatus===Lu.Importing||t.downloadingStatus===Ku.Importing),[],[i,c]),m=(0,r.useFacetMap)(((e,t,n,a,r)=>{const l=r?.5:0;return n?.5*e.packDownloadProgress+l:a?.5*t.downloadingProgressPercent+l:0}),[],[i,c,s,u,d]),p=(0,r.useFacetMap)(((e,t)=>e.packDownloadTaskState===ck.RUNNING||t.downloadingTaskState===ck.RUNNING||e.packDownloadStatus===Lu.Completed||t.downloadingStatus===Ku.Success),[],[i,c]),f=(0,r.useFacetMap)((e=>o(e?".title.downloading":".title")),[o],[p]),g=(0,r.useFacetMap)(((e,t,n,a)=>{if(n&&a){return o(e?".body.importingMultiple":".body.downloadingMultiple",[t?"2":"1","2"])}return o(e?".body.importing":".body.downloading")}),[o],[d,u,n,l]),E=(0,r.useFacetMap)(((e,t)=>e?t:o(".body")),[o],[p,g]),h=(0,r.useFacetCallback)(((t,n)=>()=>{n.cancelDownload(),n.resetDownloadTask(),t.cancelPackDownload(),e()}),[e],[i,c]);return a.createElement(vE,{defaultFocusAlias:TV},a.createElement(vE.Header,{hideCloseButton:d,onClose:h},f),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:E,center:p},E),a.createElement(r.Mount,{when:p},a.createElement(vE.Progress,{percentage:m}))),a.createElement(r.Mount,{when:p,condition:!1},a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:TV,inputLegend:o(".primary"),onClick:t,variant:"primary","data-testid":"start-download-dependencies-button"},o(".primary")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:o(".close"),onClick:h,"data-testid":"close-download-dependencies-button"},o(".close")))))}));function PV(){const e=(0,r.useSharedFacet)(ju),t=(0,r.useSharedFacet)(sc),n=(0,r.useFacetMap)((e=>e.startLocalWorldTaskState),[],[e]);return uk(((e,t)=>function*(a){e.clearStartLocalWorldResult(),t.doNotShowOldWorldsWarning=!0,e.startLocalWorld(a),yield n,e.startLocalWorldResult===Uu.Ok&&e.clearStartLocalWorldResult()}),[n],[e,t])}function xV(){const e=(0,r.useSharedFacet)(ju),t=(0,r.useSharedFacet)(Bu),n=(0,r.useSharedFacet)(qu),a=(0,r.useFacetMap)((e=>e.packDownloadTaskState),[],[t]),l=(0,r.useFacetMap)((e=>e.downloadingTaskState),[],[n]),o=(0,r.useFacetMap)((e=>e.missingPacksToStart.length>0),[],[e]),i=(0,r.useFacetMap)((e=>""!==e.missingTemplateToStart),[],[e]),c=PV(),s=uk(((e,t,n,r,o)=>function*(i,s){if(!i)return;let u=!0;if(r){const t=n.missingPacksToStart.map((e=>e.id));e.isInitialized||e.loadPacksData(i),e.downloadPacks(i,t),yield a,u=e.packDownloadTaskState===ck.DONE,e.cancelPackDownload()}o&&u&&(t.downloadWorldTemplate(n.missingTemplateToStart),yield l,u=t.downloadingTaskState===ck.DONE,t.cancelDownload(),t.resetDownloadTask()),u&&(null==s||s(),c(i))}),[a,l,c],[t,n,e,o,i]);return{downloadAssetsAndStartWorld:s,hasMissingPacks:o,hasMissingTemplate:i}}const OV="missing-active-resources-modal-accept",AV=Km((()=>{const{t:e}=ec("PlayScreen.unownedPacksModal"),t=m(),n=(0,r.useFacetCallback)((e=>()=>e.clearStartLocalWorldResult()),[],[(0,r.useSharedFacet)(ju)]),l=(0,r.useFacetCallback)((e=>()=>{e.missingPacksToStart.length>0?t.push("/marketplace?packId="+e.missingPacksToStart[0].id.split("_")[0]):t.push("/marketplace"),n()}),[t,n],[(0,r.useSharedFacet)(ju)]);return a.createElement(vE,{onOverlayClick:n,defaultFocusAlias:OV},a.createElement(vE.Header,{onClose:n},e(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:e(".body"),gamepadIndex:0},e(".body"))),a.createElement(vE.Buttons,null,a.createElement(mg,{inputLegend:e(".confirm"),variant:"primary",onClick:l,"data-testid":"confirm-redirect-martketplace",gamepadAlias:OV},e(".confirm")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:e(".decline"),variant:"secondary",onClick:n},e(".decline"))))})),NV=Km((()=>{const{t:e}=ec("PlayScreen.unexpectedLaunchErrorModal"),t="pop-up-modal-unexpectedLaunchErrorModal",n=(0,r.useSharedFacet)(ju),l=(0,r.useFacetCallback)((e=>()=>{e.clearStartLocalWorldResult()}),[],[n]),o=(0,r.useFacetMap)((t=>{var n;const a=`${null!==(n=t.startLocalWorldResult)&&void 0!==n?n:"n/a"}`;return e(".body2",[a])}),[e],[n]);return a.createElement(vE,{defaultFocusAlias:t},a.createElement(vE.Header,{onClose:l},e(".title")),a.createElement(vE.Content,null,a.createElement(vE.Paragraphs,{narrationText:(0,r.useFacetMap)((t=>`${e(".body")} . ${t}`),[e],[o]),gamepadIndex:0},a.createElement(fm,{type:"captionLong",align:"center"},e(".body")),a.createElement(fm,{type:"captionLong",align:"center"},o))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:t,inputLegend:e(".close"),variant:"secondary",onClick:l},e(".close"))))}));var RV;!function(e){e[e.SELECT_SCREENSHOT=0]="SELECT_SCREENSHOT",e[e.RESET=1]="RESET"}(RV||(RV={}));const _V=Km((({isOpen:e,onClose:t,onItemSelected:n})=>{const{t:r}=ec("EditWorld.EditThumbnailModal");return a.createElement(lT,{title:r(".title"),items:[{enumeration:r(".optionsEnumeration",["1","2"]),label:r(".changeThumbnail"),value:RV.SELECT_SCREENSHOT,Icon:nM.EditImage,testId:"change-thumbnail-option"},{enumeration:r(".optionsEnumeration",["2","2"]),label:r(".resetThumbnail"),value:RV.RESET,Icon:nM.Reset,testId:"reset-thumbnail-option"}],isOpen:e,onClose:t,onItemSelect:n})})),LV=({editThumbnailModalMenu:e})=>{const{t}=ec("PlayScreen"),n=m(),l=ZA(),o=(0,r.useSharedFacet)(Ru),i=(0,r.useSharedFacet)(ju),c=(0,r.useSharedFacet)(ku),s=(0,r.useSharedFacet)(Bu),u=(0,r.useSharedFacet)(Is),d=(0,r.useSharedFacet)(cc),p=(0,r.useSharedFacet)(il),f=(0,r.useSharedFacet)(hu),g=(0,r.useSharedFacet)(uc),E=(0,r.useFacetCallback)(((e,t,n)=>()=>{e.useMobileDataOnce=!0,t.joinRealmWorld(n.uploadedRealmWorldId.toString(),ic.EditWorld)}),[],[(0,r.useSharedFacet)(pc),d,u]),h=Zu(),v=(0,r.useFacetMap)((e=>e.exportWorldStatus===Ou.SelectingFileDestination),[],[o]),b=(0,r.useFacetMap)((e=>Xw(e.platform)),[],[p]),y=(0,r.useFacetMap)((e=>e.exportWorldStatus===Ou.Exporting||e.exportWorldStatus===Ou.Setup),[],[o]),F=(0,r.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&t!=Uu.Ok&&t!=Uu.MissingDependencies&&t!=Uu.DlcMissingContentKey}),[],[i]),S=(0,r.useFacetMap)((e=>e.saveLocalWorldTaskState===ck.RUNNING),[],[c]),C=(0,r.useFacetMap)(((e,t)=>null!=t.duplicateWorldError||null!=e.saveLocalWorldError||null!=e.loadWorldError),[],[c,o]),M=(0,r.useFacetMap)((e=>null!=e.packDownloadError||null!=e.lastConsultedPackSizesError),[],[s]),w=(0,r.useFacetMap)((e=>e.duplicateWorldTaskState===ck.RUNNING),[],[o]),k=(0,r.useFacetMap)((e=>e.makeWorldInfiniteState===ck.RUNNING),[],[o]),T=(0,r.useFacetMap)((e=>e.startLocalWorldResult==Uu.DlcMissingContentKey),[],[i]),I=(0,r.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&t===Uu.HasUnownedPacks}),[],[(0,r.useSharedFacet)(ju)]),P=(0,r.useFacetMap)(((e,t)=>e.packDownloadTaskState!==ck.IDLE&&e.packDownloadTaskState!==ck.FAILED&&t.startLocalWorldResult!==Uu.MissingDependencies),[],[s,i]),x=(0,r.useFacetMap)((e=>e.packDownloadName),[],[s]),O=(0,r.useFacetMap)((e=>e.packDownloadProgress),[],[s]),A=(0,r.useFacetMap)((e=>e.packDownloadStatus===Lu.Importing),[],[s]),N=(0,r.useFacetCallback)((e=>()=>{e.cancelPackDownload()}),[],[s]),R=(0,r.useFacetMap)((e=>e.joinRealmResult),[],[d]),_=(0,r.useFacetMap)((e=>null!=e.uploadWorldToRealmError),[],[u]),L=(0,r.useFacetMap)((e=>e.uploadedRealmWorldId.toString()),[],[u]),D=(0,r.useFacetMap)((e=>null!=e&&e!==oc.Ok&&e!==oc.InvalidCrossPlatformMultiplayerSkin&&e!==oc.MobileDataBlockedAndNoWifi&&e!==oc.MissingPlatformMembership&&e!==oc.MultiplayerPrivilegeBlocked),[],[R]),W=(0,r.useFacetMap)(((e,t)=>e===oc.MissingPlatformMembership&&!t),[],[R,b]),B=(0,r.useFacetMap)((e=>e===oc.MobileDataBlockedAndNoWifi),[],[R]),U=(0,r.useFacetMap)((e=>e===oc.InvalidCrossPlatformMultiplayerSkin),[],[R]),z=(0,r.useFacetCallback)((e=>()=>{e.clearJoinRealmTaskState()}),[],[d]),j=(0,r.useFacetMap)((e=>e===oc.MultiplayerPrivilegeBlocked),[],[R]),{downloadAssetsAndStartWorld:H,hasMissingPacks:V,hasMissingTemplate:G}=xV(),$=(0,r.useFacetCallback)(((e,n)=>()=>{H(encodeURI(e),(()=>{n.queueSnackbar(t(".missingDependenciesModal.downloadComplete"))}))}),[H,t],[l,g]),K=(0,r.useFacetCallback)((e=>()=>{e.clearStartLocalWorldResult()}),[],[i]),X=(0,r.useFacetMap)(((e,t)=>null!=e&&t.startLocalWorldResult===Uu.MissingDependencies),[],[l,i]),Y=(0,r.useFacetCallback)(((t,a)=>r=>{r===RV.SELECT_SCREENSHOT?n.push(`/edit-world-thumbnail/${encodeURIComponent(t)}`):a.resetWorldIconToDefault(t),e.hide()}),[n,e],[l,o]);return(0,r.useFacetEffect)(((e,t,n,a,r,l,o,i,c)=>{e&&h({modal:MV.WorldEditingError,screen:MV.EditWorldScreen}),(t||l||o||i)&&h({modal:MV.JoinRealmsError,screen:MV.EditWorldScreen}),n&&h({modal:MV.ResourcePackDownloadError,screen:MV.EditWorldScreen}),a&&h({modal:MV.UnexpectedLaunchError,screen:MV.EditWorldScreen}),r&&h({modal:MV.UploadRealmsError,screen:MV.EditWorldScreen}),c&&h({modal:MV.MissingDependencies,screen:MV.EditWorldScreen})}),[h],[C,D,P,F,_,W,B,U,X]),(0,r.useFacetEffect)(((e,t,n)=>{e&&!t.hasPremiumNetworkAccess&&n===oc.MissingPlatformMembership&&t.showPremiumNetworkUpsellModal()}),[],[b,f,R]),a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:P},a.createElement(sA.Component,{title:x,percentage:O,isImportingPack:A,onCancel:N})),a.createElement(r.Mount,{when:T},a.createElement(LO.Component,null)),a.createElement(r.Mount,{when:F},a.createElement(NV.Component,null)),a.createElement(r.Mount,{when:M},a.createElement(oA.Component,null)),a.createElement(r.Mount,{when:S},a.createElement(oN.Component,null)),a.createElement(r.Mount,{when:C},a.createElement(lN.Component,null)),a.createElement(r.Mount,{when:w},a.createElement(eN.Component,null)),a.createElement(r.Mount,{when:k},a.createElement(iN.Component,null)),a.createElement(r.Mount,{when:y},a.createElement(QA.Component,null)),a.createElement(r.Mount,{when:I},a.createElement(AV.Component,null)),a.createElement(r.Mount,{when:v},a.createElement(vE.Overlay,null,a.createElement(a.Fragment,null))),a.createElement(r.Mount,{when:_},a.createElement(bV.Component,null)),a.createElement(r.Mount,{when:D},a.createElement(SV.Component,{worldId:L})),a.createElement(r.Mount,{when:B},a.createElement(vk.Component,{joinServer:E,onClose:z})),a.createElement(r.Mount,{when:U},a.createElement(wV.Component,{onClose:z,onChangeSkin:()=>{n.push("/persona")}})),a.createElement(r.Mount,{when:W},a.createElement(kV.Component,{onClose:z})),a.createElement(r.Mount,{when:j},a.createElement(CV.Component,{onClose:z})),a.createElement(r.Mount,{when:X},a.createElement(IV.Component,{onClose:K,onAccept:$,hasMissingPacks:V,hasMissingTemplate:G})),a.createElement(_V.Component,{isOpen:e.isVisible,onClose:e.hide,onItemSelected:Y}))},DV="save-changes-modal-continue",WV=Km((({saveChanges:e,closeModal:t,discardChanges:n})=>{const{t:l}=ec("EditWorld.saveChangesModal"),o=(0,r.useSharedFacet)($s),i=Ju(),c=(0,r.useFacetCallback)((n=>()=>{t(),e(),n.fireEventOptionsChanged(MV.EditWorldScreen),i({button:"SaveChanges",screen:MV.EditWorldScreen})}),[e,t,i],[o]),s=(0,r.useFacetCallback)((e=>()=>{n(),t(),e.discardTrackedOptions(),i({button:"DiscardChanges",screen:MV.EditWorldScreen})}),[n,t,i],[o]);return a.createElement(vE,{onOverlayClick:t,defaultFocusAlias:DV},a.createElement(vE.Header,{onClose:t},l(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:l(".message"),gamepadIndex:0},l(".message"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:DV,variant:"primary",inputLegend:l(".saveInputLegend"),onClick:c},l(".save")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:l(".discardInputLegend"),onClick:s},l(".discard"))))})),BV=({onPlayWorld:e})=>{const{t}=ec("EditWorld"),n=xO.useModal(),l=YA(),{generalData:o,multiplayerData:i}=JA(),c=PD(o),{disableMainButton:s,buttonHint:u}=BD(c,i,o,t,"SideMenu.narrationPlayButtonHint"),d=(0,r.useFacetCallback)((t=>()=>{t.worldHasBeenModified&&!t.worldData.achievementsPermanentlyDisabled&&t.worldData.achievementsDisabled?n.show():e()}),[e,n],[(0,r.useSharedFacet)(ku)]);return a.createElement(a.Fragment,null,a.createElement(mg,{"data-testid":"edit-world",disabled:s,gamepadAlias:hO,narrationSuffix:u,variant:"hero",onClick:d,inputLegend:t("SideMenu.play")},t("SideMenu.play")),a.createElement(r.Mount,{when:n.isVisible},a.createElement(xO.Component,{onClose:n.hide,onConfirm:e,reasons:l,isEditWorld:!0})))},UV=({isRealmsButtonDisabled:e,onPlayOnRealms:t})=>{const{t:n}=ec("EditWorld"),l=gA.useModal(),{generalData:o,multiplayerData:i}=JA(),c=PD(o),{disableSecondaryButton:s,buttonHint:u}=BD(c,i,o,n,"SideMenu.narrationPlayButtonHint",e),d=UD(t,l.show);return a.createElement(a.Fragment,null,a.createElement(sr,{collection:LD},a.createElement(mg,{gamepadAlias:vO,narrationSuffix:u,linebreak:!0,"data-testid":"play-on-realm",variant:"primary",onClick:d,inputLegend:n("SideMenu.playOnRealm"),disabled:s},n("SideMenu.playOnRealm"))),a.createElement(r.Mount,{when:l.isVisible},a.createElement(gA.Component,{mode:fI.EDIT,onClose:l.hide})))},zV=Km((({onContinue:e,onChangeSkin:t})=>{const{t:n}=ec("PlayScreen.nonMultiplayerSkinModal"),r="pop-up-modal-nonMultiplayerSkinModal",l=$m();return a.createElement(vE,{defaultFocusAlias:r},a.createElement(vE.Header,{onClose:l},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:n(".body"),gamepadIndex:0,center:!0},n(".body"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:r,gamepadIndex:0,inputLegend:n(".continueAction"),variant:"primary",onClick:()=>{l(),e()}},n(".continueAction")),a.createElement(mg,{gamepadIndex:1,inputLegend:n(".changeAction"),variant:"secondary",onClick:()=>{l(),t()}},n(".changeAction"))))})),jV=Km((({onCopyWorldAndContinue:e,onContinue:t})=>{const{t:n}=ec("PlayScreen.updateWorldModal"),l=$m(),o="pop-up-modal-updateWorld",[i,c]=(0,r.useFacetState)(!0),s=(0,r.useFacetCallback)((n=>()=>{n?e():t(),l()}),[e,t,l],[i]);return a.createElement(vE,{defaultFocusAlias:o},a.createElement(vE.Header,{onClose:l},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:n(".body"),gamepadIndex:0},n(".body"))),a.createElement(vE.Buttons,{header:a.createElement(vE.Checkbox,{value:i,onChange:c,title:n(".checkboxTitle")})},a.createElement(mg,{gamepadAlias:o,gamepadIndex:1,inputLegend:n(".action"),variant:"primary",onClick:s},n(".action"))))})),HV=Km((()=>{const{t:e}=ec("PlayScreen.outOfStorageModal"),t="pop-up-modal-outOfStorageModal",n=$m();return a.createElement(vE,{onOverlayClick:n,defaultFocusAlias:t},a.createElement(vE.Header,{onClose:n},e(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:e(".body"),gamepadIndex:0},e(".body"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:t,inputLegend:e(".closeInputLegend"),variant:"secondary",onClick:n},e(".close"))))})),VV=Km((({onLoadWorld:e})=>{const{t}=ec("PlayScreen.experimentalWorldLoadingModal"),n=$m(),r="pop-up-modal-experimentalWorldLoadingModal";return a.createElement(vE,{defaultFocusAlias:r},a.createElement(vE.Header,{onClose:n},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Paragraphs,{narrationText:`${t(".bodyFirstParagraph")}. ${t(".bodySecondParagraph")}`,gamepadIndex:0},a.createElement(fm,{type:"captionLong"},t(".bodyFirstParagraph")),a.createElement(fm,{type:"captionLong"},t(".bodySecondParagraph")))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:r,inputLegend:t(".back"),variant:"primary",onClick:n},t(".goBackButtonText")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:t(".action"),gamepadIndex:1,variant:"secondary",onClick:()=>{n(),e()}},t(".loadWorld"))))})),GV={major:1,minor:18,patch:0,revision:0,isBeta:!1};function $V(e){const t=Yr(),n=(0,r.useSharedFacet)(ju),a=(0,r.useSharedFacet)(di),l=(0,r.useSharedFacet)(hu),o=(0,r.useSharedFacet)(il),i=(0,r.useSharedFacet)(Su),c=zV.useShowModal(),s=jV.useShowModal(),u=HV.useShowModal(),d=VV.useShowModal(),m=PV(),p=(0,r.useFacetMap)(((e,t,n)=>{const a=e.currentInputType===Ge.TOUCH,r=t.showTouchControlSelectionScreen,l=n.platform===Ke.NX_HANDHELD;return a&&r&&!l}),[],[(0,r.useSharedFacet)(jn),(0,r.useSharedFacet)(pc),(0,r.useSharedFacet)(il)]),f=(0,r.useFacetMap)(((e,t)=>{if(null==e)return!1;const n=e.isTemplateCompatibleWithAnyVersion||Ei(e.templateVersion,GV)>=0,a=Ei(e.gameVersion,GV)<0&&Ei(t.currentGameVersion,GV)>=0;return n&&a}),[],[e,a]),g=(0,r.useFacetMap)(((e,t)=>{if(null==e)return!1;const n=Ei(e.gameVersion,t.currentGameVersion)<0;return e.isExperimental&&n}),[],[e,a]),E=(0,r.useFacetCallback)(((e,t)=>()=>{null!=t&&e.backupThenStartLocalWorld.run(t.id)}),[],[n,e]),h=(0,r.useFacetMap)((e=>e.syncWorldTaskState),[],[i]),v=uk(((e,t)=>function*(){if(null==t)return;const n=t.id;e.syncWorld(n),yield h,e.clearSyncWorldTaskState(),m(n)}),[m,h],[i,e]);return(0,r.useFacetCallback)(((e,n,a,r,l,o)=>()=>{if(null==e)return;const i=e.id,p=()=>m(i);r?t.push(`/play/touch-control-selection/${encodeURIComponent(i)}`):a.isStorageLow?u():n.hasValidCrossPlatformSkin?l?d({onLoadWorld:p}):o?s({onContinue:p,onCopyWorldAndContinue:E}):e.requiresCloudSync?v():p():c({onContinue:p,onChangeSkin:()=>{t.push("/persona")}})}),[t,m,E,u,c,d,s,v],[e,l,o,p,g,f])}const KV=(0,r.sharedFacet)("vanilla.lanWorldList"),XV=(0,r.sharedFacet)("vanilla.localWorldList"),YV=()=>{const e=ZA(),t=(0,r.useSharedFacet)(ku),n=(0,r.useSharedFacet)(Bu),l=(0,r.useFacetMap)((e=>e.loadWorldTaskState),[],[t]),o=(0,r.useFacetMap)(((e,t)=>e.worldIsInitialized&&t.isInitialized||null!=e.loadWorldError),[],[t,n]),i=uk(((e,t)=>function*(n){t.loadWorld(n),yield l,e.loadPacksData(n)}),[l],[n,t,e]);return(0,r.useFacetEffect)((e=>{i(e)}),[i],[e]),a.createElement(r.Mount,{when:o},a.createElement(qV,null))},qV=()=>{const{t:e}=ec("EditWorld"),t=".notificationToasts.saved",n=".notificationToasts.deleted",l=".notificationToasts.duplicated",o=".notificationToasts.addonPackActivated",i=".notificationToasts.addonPackDeactivated",c=e(".notificationToasts.worldConverted"),s=".notificationToasts.settingsUnlocked",[u,d]=(()=>{const[e,t]=(0,r.useFacetState)(!1),n=(0,r.useSharedFacet)(Ru),a=(0,r.useSharedFacet)(ku),l=(0,r.useSharedFacet)(Is),o=(0,r.useSharedFacet)(cc);return(0,r.useFacetEffect)(((e,n,a,r)=>{(null!=n.duplicateWorldError||null!=e.saveLocalWorldError||null!=a.uploadWorldToRealmError||a.uploadWorldToRealmTaskState!==ck.RUNNING&&r.joinRealmTaskState!==ck.RUNNING)&&t(!1)}),[t],[a,n,l,o]),[e,t]})(),p=ZA(),f=(0,r.useSharedFacet)(XV),g=(0,r.useFacetMap)(((e,t)=>e.localWorlds.find((e=>e.allContentOwned&&e.id===t))),[],[f,p]),h=m(),v=Ju(),b=Zu(),y=(0,r.useSharedFacet)($s),F=(0,r.useSharedFacet)(ju),S=(0,r.useSharedFacet)(ku),C=(0,r.useSharedFacet)(il),M=(0,r.useSharedFacet)(Is),w=(0,r.useSharedFacet)(uc),k=(0,r.useSharedFacet)(Ru),T=(0,r.useSharedFacet)(Bu),I=(0,r.useSharedFacet)(di),P=(0,r.useSharedFacet)(vs),x=(0,r.useSharedFacet)(pu),O=(0,r.useSharedFacet)(Us),A=(0,r.useSharedFacet)(vu),N=(0,r.useSharedFacet)(sc),{worldData:R,generalData:_}=JA(),L=function(){const e=ZA(),t=(0,r.useSharedFacet)(ku);return(0,r.useFacetMap)(((e,t)=>null!=t?e.worldSummary:void 0),[],[t,e])}(),D=WV.useModal(),W=WV.useModal(),B=WV.useModal(),U=WV.useModal(),z=WV.useModal(),j=tN.useModal(),H=$D.useModal(),V=HD.useModal(),G=ZO.useModal(),$=hA.useModal(),K=AO.useModal(),X=xO.useModal(),Y=Tv(Ii.NewTrialModeFlow),q=(0,r.useFacetMap)((e=>e.worldPacksData),[],[T]),Q=(0,r.useFacetMap)((e=>e.worldData.isLockedTemplate),[],[S]),J=(0,r.useFacetMap)((e=>e.worldName),[],[_]),Z=(0,r.useFacetCallback)(((e,t)=>()=>{e.closeWorld(t)}),[],[S,p]);(0,a.useEffect)((()=>()=>{Z()}),[Z]);const ee=$V(g),te=(0,r.useFacetMap)((e=>e.saveLocalWorldTaskState),[],[S]),ne=(0,r.useFacetMap)((e=>e.duplicateWorldTaskState),[],[k]),ae=(0,r.useFacetMap)((e=>e.storageAvailableSize),[],[C]),re=(0,r.useFacetMap)((e=>e.supportsSizeQuery),[],[C]),le=dA.useShowModal(),oe=tA.useShowModal(),ie=aA.useShowModal(),ce=RO.useModal(),se=RO.useModal(),[ue,de]=(0,a.useState)(""),me=_V.useModal(),pe=uk(((t,n,a,r,o)=>function*(i){t.saveLocalWorld(r),yield te,t.clearSaveLocalWorldTaskState(),a.startDuplicateWorld(r),yield ne,a.clearDuplicateWorldTaskState(),n.queueSnackbar(e(l,[`"${o}"`])),i&&h.goBack()}),[e,te,ne,l,h],[S,w,k,p,J]),fe=(0,r.useFacetCallback)((e=>t=>{e.worldHasBeenModified&&!e.worldData.achievementsDisabled?z.show():pe(t)}),[pe,z],[S]),ge=(0,r.useFacetCallback)((e=>(t,n)=>{if(n){var a,r,l,o,i;const n=null!==(a=null===(r=e.activeTexturePacks.find((e=>t==e.id)))||void 0===r?void 0:r.name)&&void 0!==a?a:"",c=null!==(l=null===(o=e.activeBehaviorPacks.find((e=>t==e.id)))||void 0===o?void 0:o.name)&&void 0!==l?l:"";return null!==(i=n||c)&&void 0!==i?i:"Pack"}{var c,s,u,d,m;const n=null!==(c=null===(s=e.availableTexturePacks.find((e=>t==e.id)))||void 0===s?void 0:s.name)&&void 0!==c?c:"",a=null!==(u=null===(d=e.availableBehaviorPacks.find((e=>t==e.id)))||void 0===d?void 0:d.name)&&void 0!==u?u:"";return null!==(m=n||a)&&void 0!==m?m:"Pack"}}),[],[q]),Ee=(0,r.useFacetCallback)(((t,n,a,l)=>i=>{const c=t.continuePackActivation(n);if(c===Du.PackDataWarning)!l.doNotShowAddonStackingWarning&&t.worldPacksData.activeBehaviorPacks.length>=2?(de(i),K.show()):(de(i),se.show());else if(null!=c)le({errorCode:c});else{const t=ge(i,!0);a.queueSnackbar(e(o,[t===r.NO_VALUE?"Pack":t]))}}),[K,se,le,ge,e],[T,p,w,N]),he=(0,r.useFacetCallback)(((t,n,a)=>(l,o)=>{const c=t.continuePackDeactivation(n);if(null!=c)le({errorCode:c});else{const t=ge(l,!1);a.queueSnackbar(e(i,[t===r.NO_VALUE?"Pack":t])),o&&fe(!1)}}),[le,fe,ge,e],[T,p,w]),ve=(0,r.useFacetMap)((e=>e.packDownloadTaskState),[],[T]),be=uk(((e,t)=>function*(n){switch(e.downloadPacks(t,[n]),yield ve,e.packDownloadTaskState){case ck.DONE:e.cancelPackDownload(),Ee(n);break;case ck.CANCELLED:e.cancelPackDownload()}}),[ve,Ee],[T,p]),ye=(0,r.useFacetMap)((e=>e.lastConsultedPackSizesTaskState),[],[T]),Fe=uk(((e,t)=>function*(n,a){e.getPackSizes([n],t),yield ye;let r="";null==e.lastConsultedPackSizesError&&(r=e.lastConsultedPackSizes,e.getPackSizesReset()),ie({packId:n,packName:a,packSize:r,supportsSizeQuery:re,availableSize:ae,onAccept:be})}),[ye,ie,re,ae,be],[T,p]),Se=(0,r.useFacetCallback)(((t,n,a,l)=>(i,c,s)=>{t.isReadyForDownload||$.show();const u=t.activatePack(n,i,c,!1);if(u===Du.NeedToDownloadPack)Fe(i,s);else if(u===Du.PackDependencyWarning)oe({packId:i,onAccept:Ee});else if(u===Du.PackDataWarning)!l.doNotShowAddonStackingWarning&&t.worldPacksData.activeBehaviorPacks.length>=2?(de(i),K.show()):(de(i),se.show());else if(null!=u)le({errorCode:u});else{const t=ge(i,!0);a.queueSnackbar(e(o,[t===r.NO_VALUE?"Pack":t]))}}),[$,K,Fe,oe,Ee,se,le,ge,e],[T,p,w,N]),Ce=(0,r.useFacetCallback)(((t,n,a)=>()=>{K.hide();const l=t.continuePackActivation(n);if(null!=l)le({errorCode:l});else{const t=ge(ue,!0);a.queueSnackbar(e(o,[t===r.NO_VALUE?"Pack":t]))}}),[K,le,ge,ue,e],[T,p,w]);(0,r.useFacetEffect)((e=>{(e.packDownloadError===Wu.InitializationTimeout||e.isReadyForDownload)&&$.hide()}),[$],[T]);const Me=(0,r.useFacetCallback)(((t,n,a)=>(l,o)=>{const c=t.deactivatePack(n,l,o,!1);if(c===Du.PackDataWarning)de(l),ce.show();else if(null!=c)le({errorCode:c});else{const t=ge(l,!1);a.queueSnackbar(e(i,[t===r.NO_VALUE?"Pack":t]))}}),[ce,le,ge,e],[T,p,w]),we=(0,r.useFacetCallback)(((n,a,r,l)=>(o,i,c,s)=>{n.changePackPriority(a,o,i,c,s),r.queueSnackbar(e(t,[`"${l}"`]))}),[e,t],[T,p,w,J]),ke=(0,r.useFacetCallback)((e=>t=>{h.push(`/pack-settings/${t}/${encodeURIComponent(e)}`)}),[h],[p]),Te=uk(((t,n,a,r)=>function*(){n&&(t.worldData.isLockedTemplate=!1,t.saveLocalWorld(r),yield te,a.queueSnackbar(e(s)),t.clearSaveLocalWorldTaskState())}),[te,s,e],[S,Q,w,p]),Ie=(0,r.useFacetMap)((e=>null!=e.worldSummary.worldIconPath&&e.worldSummary.worldIconPath.length>0?e.worldSummary.worldIconPath:RD),[],[S]),Pe=(0,r.useFacetCallback)(((e,t,n)=>()=>{v({button:"OptOut",screen:"EditWorld"}),e.closeWorld(n),t.selectTechStackForScreen(Ws.EditWorldScreen,Bs.JsonUI)}),[v],[S,O,p]),xe=(0,r.useFacetCallback)((e=>()=>{e.worldHasBeenModified?G.show():Pe()}),[Pe,G],[S]),[Oe,Ae]=(0,r.useFacetState)(!1),Ne=uk(((n,a,r,l)=>function*(){d(!0),n.saveLocalWorld(r),yield te,n.saveLocalWorldError||(n.clearSaveLocalWorldTaskState(),a.queueSnackbar(e(t,[`"${l}"`])),h.goBack())}),[e,d,te,t,h],[S,w,p,J]),Re=(0,r.useFacetCallback)((()=>()=>{Ae(!1),D.hide()}),[Ae,D],[]),_e=(0,r.useFacetCallback)((e=>()=>{e.discardTrackedOptions(),h.goBack(),Ae(!1)}),[h,Ae],[y]),Le=(0,r.useFacetCallback)((e=>()=>{e.worldHasBeenModified&&!e.worldData.achievementsPermanentlyDisabled&&e.worldData.achievementsDisabled?X.show():(Ae(!0),e.worldHasBeenModified?D.show():_e())}),[Ae,X,D,_e],[S]),De=uk(((n,a,r,l)=>function*(){n.saveLocalWorld(a),yield te,r.queueSnackbar(e(t,[`"${l}"`])),n.clearSaveLocalWorldTaskState(),ee()}),[e,te,ee,t],[S,p,w,J]),We=(0,r.useFacetCallback)(((e,t)=>()=>{v({button:"Play",screen:"EditWorld"}),e.worldHasBeenModified?(t.fireEventOptionsChanged(MV.EditWorldScreen),De()):(t.discardTrackedOptions(),ee())}),[ee,v,De],[S,y]),Be=(0,r.useFacetCallback)(((e,t)=>()=>{e.reloadWorld(t),ee()}),[ee],[S,p]),Ue=uk(((t,n,a,r)=>function*(){n.startDuplicateWorld(a),yield ne,n.clearDuplicateWorldTaskState(),t.queueSnackbar(e(l,[`"${r}"`])),h.goBack()}),[e,ne,l,h],[w,k,p,J]),ze=(0,r.useFacetCallback)(((t,a,r,l)=>()=>{t.deleteWorld(r),a.queueSnackbar(e(n,[`"${l}"`])),h.goBack()}),[e,n,h],[k,w,p,J]),je=(0,r.useFacetCallback)((e=>t=>{h.push(`/export-world/${e}/${t?su.Template:su.Regular}`)}),[h],[p]),He=uk(((n,a,r,l)=>function*(o){n.saveLocalWorld(a),yield te,n.clearSaveLocalWorldTaskState(),r.queueSnackbar(e(t,[`"${l}"`])),je(o)}),[e,te,t,je],[S,p,w,J]),Ve=(0,a.useCallback)((()=>He(!0)),[He]),Ge=(0,r.useFacetCallback)((e=>t=>{e.worldHasBeenModified?t?U.show():B.show():je(t)}),[je,B,U],[S]),$e=(0,a.useCallback)((()=>Ge(!0)),[Ge]),Ke=(0,r.useFacetCallback)(((e,t)=>n=>{e.loadWorld(t),je(n)}),[je],[S,p]),Xe=(0,a.useCallback)((()=>Ke(!0)),[Ke]),Ye=(0,r.useFacetMap)((e=>e.uploadWorldToRealmTaskState),[],[M]),qe=(0,r.useFacetMap)((e=>e.uploadedRealmWorldId.toString()),[],[M]),Qe=jO({worldId:qe,button:"PlayOnRealms",screen:"EditWorld",telemetryLocation:ic.EditWorld}),Je=uk(((e,t,n,a,r,l)=>function*(){if(v({button:"PlayOnRealm",screen:"EditWorld"}),r.isAnyBeta&&0===n.length&&0===a.length)H.show();else{if(l&&Y)return b({modal:"RealmsTrialMode",screen:"EditWorld"}),void V.show();d(!0),e.uploadWorldToRealm(t),yield Ye,e.clearUploadWorldToRealmTaskState(),Qe(),d(!0)}}),[v,Y,d,Ye,Qe,H,b,V],[M,p,P,x,I,A]);(0,r.useFacetEffect)(((e,t)=>{e.choosePreviewRealm&&(0===t.length?h.push("/realms-choose-realm/realm-subscriptions"):h.push("/realms-choose-realm/preview-realms"))}),[h],[M,P]);const Ze=(0,r.useFacetMap)((e=>e.makeWorldInfiniteState),[],[k]),et=uk(((e,t,n)=>function*(){d(!0),v({button:"MakeWorldInfinite",screen:"EditWorld"}),e.makeWorldInfinite(t),yield Ze,e.clearMakeWorldInfiniteState(),n.queueSnackbar(c),d(!1)}),[Ze,d,c,v],[k,p,w]);(()=>{const e=(0,r.useSharedFacet)(uc),t=(0,r.useSharedFacet)(Ru),{t:n}=ec("EditWorld");(0,r.useFacetEffect)(((e,t)=>{e.clearPlayerDataTaskState===ck.DONE&&(t.queueSnackbar(n(".clearPlayerDataToast")),e.resetClearPlayerData())}),[n],[t,e])})();const tt=(0,r.useFacetMap)((e=>e.isEditorWorld),[],[S]);(()=>{const e=ZA(),t=(0,r.useSharedFacet)(uc),n=(0,r.useSharedFacet)(Bu),a=(0,r.useFacetMap)((e=>e.worldPacksData),[],[n]),l=dA.useShowModal(),{t:o}=tc("EditWorld"),i=(0,r.useFacetCallback)((e=>t=>{var n,a,r,l,o;const i=null!==(n=null===(a=e.activeTexturePacks.find((e=>t==e.id)))||void 0===a?void 0:a.name)&&void 0!==n?n:"",c=null!==(r=null===(l=e.activeBehaviorPacks.find((e=>t==e.id)))||void 0===l?void 0:l.name)&&void 0!==r?r:"";return null!==(o=i||c)&&void 0!==o?o:"Pack"}),[],[a]),c=(0,r.useFacetCallback)(((e,t,n)=>a=>{const c=e.activatePack(t,a,_u.Behavior,!0);if(null!=c)l({errorCode:c});else{const e=i(a);n.queueSnackbar(o(".notificationToasts.addonPackActivated",[e===r.NO_VALUE?"Pack":e]))}}),[l,i,o],[n,e,t]),s=E(),u=(0,r.useFacetMap)((e=>e.get("packid")),[],[s]);(0,r.useFacetEffect)((e=>{null!=e&&c(e)}),[c],[u])})();const nt=(0,r.useFacetCallback)(((e,t)=>n=>{null!=t&&e.clearPlayerData(n,t)}),[],[k,p]),at=(0,r.useFacetMap)(((e,t)=>!(e||t)||Y&&t),[Y],[tt,A]),rt=(0,r.useFacetMap)((e=>e.startLocalWorldTaskState===ck.RUNNING),[],[F]);return a.createElement(gI.Provider,{value:fI.EDIT},a.createElement(ND,{worldData:R,worldPacks:q,worldPreviewImage:Ie,worldSummary:L,isEditorWorld:tt,renderPage:(0,r.useFacetWrap)(!0),onActivatePack:Se,onDeactivatePack:Me,onChangePackPriority:we,onClickPackSettings:ke,onUnlockTemplateSettings:Te,backButtonCallback:Le,backButtonDisabled:u,onMakeWorldInfinite:et,onDuplicateWorld:fe,onDeleteWorld:ze,onEditThumbnail:me.show,onExportWorld:Ge,onExportTemplate:$e,onOptOut:xe,isSeedChangeLocked:(0,r.useFacetWrap)(!1),onClearPlayerData:j.show,sideMenuButtons:a.createElement(a.Fragment,null,a.createElement(RP.Item,null,a.createElement(BV,{onPlayWorld:We})),a.createElement(om,{size:1}),a.createElement(r.Mount,{when:at},a.createElement(RP.Item,null,a.createElement(UV,{onPlayOnRealms:Je,isRealmsButtonDisabled:Oe}))))}),a.createElement(LV,{editThumbnailModalMenu:me}),a.createElement(r.Mount,{when:D.isVisible},a.createElement(WV.Component,{saveChanges:Ne,closeModal:Re,discardChanges:h.goBack})),a.createElement(r.Mount,{when:K.isVisible},a.createElement(AO.Component,{activatePackModal:!0,onAccept:Ce,onCancel:K.hide})),a.createElement(r.Mount,{when:W.isVisible},a.createElement(WV.Component,{saveChanges:De,closeModal:W.hide,discardChanges:Be})),a.createElement(r.Mount,{when:z.isVisible},a.createElement(WV.Component,{saveChanges:pe,closeModal:z.hide,discardChanges:Ue})),a.createElement(r.Mount,{when:B.isVisible},a.createElement(WV.Component,{saveChanges:He,closeModal:B.hide,discardChanges:Ke})),a.createElement(r.Mount,{when:U.isVisible},a.createElement(WV.Component,{saveChanges:Ve,closeModal:U.hide,discardChanges:Xe})),a.createElement(r.Mount,{when:se.isVisible},a.createElement(RO.Component,{packId:ue,type:"activate",onAccept:Ee,hideModal:se.hide})),a.createElement(r.Mount,{when:ce.isVisible},a.createElement(RO.Component,{packId:ue,type:"deactivate",onAccept:he,hideModal:ce.hide})),a.createElement(r.Mount,{when:j.isVisible},a.createElement(tN.Component,{clearPlayerData:nt,closeModal:j.hide})),a.createElement(r.Mount,{when:H.isVisible},a.createElement($D.Component,{onClose:H.hide})),a.createElement(r.Mount,{when:rt},a.createElement(ay.Component,{title:e(".startLocalWorldModal.title")})),a.createElement(r.Mount,{when:G.isVisible},a.createElement(ZO.Component,{optOutCallback:Pe,closeModal:G.hide})),a.createElement(r.Mount,{when:V.isVisible},a.createElement(HD.Component,{worldSettingsMode:fI.EDIT,onClose:V.hide})),a.createElement(r.Mount,{when:$.isVisible},a.createElement(hA.Component,{onClose:$.hide})),a.createElement(QV,{achievementsDisabledModal:X,onSaveWorld:Ne}))};function QV({achievementsDisabledModal:e,onSaveWorld:t}){const n=YA();return a.createElement(r.Mount,{when:e.isVisible},a.createElement(xO.Component,{onClose:e.hide,onConfirm:t,reasons:n,isEditWorld:!0}))}const JV=n.p+"assets/world-preview-default-d0210.jpg",ZV="play-edit-realm-world";var eG;!function(e){e[e.None=0]="None",e[e.ExitToMenu=1]="ExitToMenu",e[e.ExitToJoinGame=2]="ExitToJoinGame"}(eG||(eG={}));const tG=()=>{const{t:e}=ec("EditRealmWorld"),{t}=ec("EditWorld"),n=".notificationToasts.saved",l=m(),o=ZA(),i=jO({worldId:o,screen:"EditRealmWorld",button:"PlayRealm",telemetryLocation:ic.SettingsScreen}),[c,s]=(0,r.useFacetState)(eG.None),u=(0,r.useFacetWrap)(!1),d=(0,r.useSharedFacet)(TA),p=(0,r.useSharedFacet)(PA),f=(0,r.useSharedFacet)(AA),g=(0,r.useSharedFacet)(xA),E=(0,r.useSharedFacet)(Bu),h=(0,r.useSharedFacet)(uc),v=(0,r.useFacetMap)((e=>e.realmWorldSummary),[],[f]),b=(0,r.useFacetMap)((e=>e.realmWorldData),[],[p]),y=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.betaFeatures)&&void 0!==t?t:[]}),[],[b]),F=(0,r.useFacetMap)((e=>e.worldPacksData),[],[E]),S=(0,r.useFacetMap)((e=>null!=e.worldIconPath&&e.worldIconPath.length>0?e.worldIconPath:JV),[],[v]),C=(0,r.useFacetMap)((e=>e.general.worldName),[],[b]),M=(0,r.useFacetMap)((e=>e.general.isHardcore),[],[b]),w=(0,r.useFacetMap)((e=>e.general.playerHasDied),[],[b]),k=(0,r.useFacetMap)((e=>e.realmWorldEditorState),[],[p]),T=WV.useModal(),I=WV.useModal(),P=(0,r.useFacetCallback)(((e,t)=>()=>{e.saveRealmWorld(t),s(eG.ExitToMenu)}),[s],[d,o]),x=(0,r.useFacetCallback)(((e,t)=>()=>{e.saveRealmWorld(t),s(eG.ExitToJoinGame)}),[s],[d,o]),O=(0,r.useFacetMap)((e=>e===IA.Posting),[],[k]),A=(0,r.useFacetMap)((e=>e===IA.PostError),[],[k]),N=(0,r.useFacetMap)((e=>e===IA.Fetching),[],[k]),R=(0,r.useFacetMap)((e=>e===IA.FetchError),[],[k]),_=(0,r.useFacetCallback)((e=>()=>{l.goBack(),e.clearRealmWorldEditorState()}),[l],[d]),L=(0,r.useFacetCallback)((e=>()=>{e.realmWorldHasBeenModified?T.show():l.goBack()}),[l,T],[p]),D=(0,r.useFacetCallback)((e=>()=>{e.realmWorldHasBeenModified?I.show():i()}),[i,I],[p]),W=(0,r.useFacetCallback)(((e,a,r,o)=>()=>{r.queueSnackbar(t(n,[`"${a}"`])),o===eG.ExitToMenu&&l.goBack(),o===eG.ExitToJoinGame&&i(),e.clearRealmWorldEditorState(),s(eG.None)}),[l,i,n,s,t],[d,C,h,c]),B=(0,r.useFacetCallback)(((e,t)=>n=>{e.fetchRealmsWorld(n),t.fetchBackups(n)}),[],[(0,r.useSharedFacet)(ls),g]);return(0,r.useFacetEffect)((e=>{B(e)}),[B],[o]),(0,r.useFacetEffect)(((e,t)=>{t!==eG.None&&e===IA.PostSuccess&&W()}),[W],[k,c]),a.createElement(gI.Provider,{value:fI.EDIT_REALM},a.createElement(AP,{screenAnalyticsId:"Edit-Realms-World",onBack:L,title:e(".title"),gamepadAlias:"edit-realm-layout-content",delegateByAlias:ZV},(()=>a.createElement(a.Fragment,null,a.createElement(Yv,{noGutters:!0},a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:4,narrowSize:3},a.createElement(bO,{showSpinner:u,worldPreviewImage:S,worldPacks:F,isHardcoreMode:M,playerHasDied:w,sideMenuButtons:a.createElement(RP.Item,null,a.createElement(sr,{collection:LD},a.createElement(mg,{gamepadAlias:ZV,"data-testid":"play-realm-world",variant:"hero",onClick:D,inputLegend:e(".play")},e(".play"))))})),a.createElement(Yv.Column,{wideSize:8,narrowSize:5},a.createElement(ND.DefaultTabs,{worldPacks:F,onActivatePack:()=>{console.log("activating pack")},onDeactivatePack:()=>{console.log("deactivating pack")},onChangePackPriority:()=>{console.log("changing pack priority")},onClickPackSettings:()=>{console.log("clicked on pack settings")},worldSummary:v,isEditorWorld:u,isSeedChangeLocked:(0,r.createStaticFacet)(!0),onUnlockTemplateSettings:()=>{}})))),a.createElement(HN,{experimentsData:y})))),a.createElement(r.Mount,{when:T.isVisible},a.createElement(WV.Component,{saveChanges:P,closeModal:T.hide,discardChanges:l.goBack})),a.createElement(r.Mount,{when:I.isVisible},a.createElement(WV.Component,{saveChanges:x,closeModal:I.hide,discardChanges:i})),a.createElement(r.Mount,{when:O},a.createElement(oN.Component,null)),a.createElement(r.Mount,{when:A},a.createElement(tW.Component,null)),a.createElement(r.Mount,{when:N},a.createElement(QD,{onClickClose:l.goBack})),a.createElement(r.Mount,{when:R},a.createElement(tW.Component,{onClickClose:_})))};function nG(){IH();const{t:e}=ec("RealmsStories.settings"),t=p(),n=m(),l=(0,r.useSharedFacet)(ws),o=(0,r.useSharedFacet)(Wc),i=(0,r.useSharedFacet)(Bc),c=(0,r.useSharedFacet)(il),s=Tv(Ii.EnableRealmsOwnerCanRequireOptIn),u=(0,r.useFacetWrap)(s),d=(0,r.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[i]),g=(0,r.useFacetMap)((t=>e(".header",[t.name])),[e],[i]),E=(0,r.useFacetMap)((t=>e(t?".personalSettings.header":".personalSettings.member.header")),[e],[d]),h=(0,r.useFacetMap)((e=>!e.isOnline),[],[c]),v=(0,r.useFacetMap)(((e,t)=>(e.currentFetchState===ou.InternalError||e.currentFetchState===ou.FetchFailed||e.currentFetchState===ou.RateLimit)&&!t),[],[l,h]),b=(0,r.useFacetMap)(((e,t)=>e||t),[],[h,v]),y=(0,r.useFacetMap)(((e,t)=>t&&(e.currentPostState===iu.InternalError||e.currentPostState===iu.InputInvalid||e.currentPostState===iu.UploadFailed||e.currentPostState===iu.PostingFailed)),[],[l,t]),F=(0,r.useFacetMap)(((e,t)=>e&&t.currentPostState===iu.RateLimit),[],[t,l]),S=(0,r.useFacetMap)(((e,t,n,a)=>t&&e.currentPostState===iu.InProgress&&!n&&!a),[],[l,t,y,F]),C=function(){const e=m();return(0,r.useFacetCallback)((t=>()=>{t.clearSettingsStatus(),e.go(-2)}),[e],[(0,r.useSharedFacet)(Wc)])}(),M=(0,r.useFacetMap)(((e,t)=>e.currentFetchState!==ou.Success&&!t),[],[l,b]),w=(0,r.useFacetMap)(((e,t)=>!e&&!t),[],[M,b]),k=f(),T=(0,r.useFacetCallback)(((e,t)=>()=>{e.postSettingsOnExit(t.realmId),n.goBack()}),[n],[o,k]),I=(0,r.useFacetCallback)(((e,t)=>()=>{e.setRealmNotificationStatus(!t.realmNotificationsStatus)}),[],[o,l]),P=(0,r.useFacetCallback)(((e,t)=>()=>{e.setRealmEventsStatus(!t.realmEventsStatus)}),[],[o,l]),x=(0,r.useFacetCallback)(((e,t)=>()=>{e.setRealmCoordinatesStatus(!t.realmCoordinatesStatus)}),[],[o,l]),O=(0,r.useFacetCallback)(((e,t)=>()=>{e.setRealmTimelineStatus(!t.realmTimelineStatus)}),[],[o,l]),A=(0,r.useFacetCallback)(((e,t)=>()=>{e.fetchSettings(t.realmId)}),[],[o,k]),N=[e(".personalSettings.member.header"),e(".personalSettings.description")].join(" . "),R=[e(".realmWideSettings.member.header"),e(".realmWideSettings.description")].join(" . "),_=(0,r.useFacetMap)((e=>e.realmNotificationsStatus),[],[l]),L=(0,r.useFacetMap)((e=>e.realmEventsStatus),[],[l]),D=(0,r.useFacetMap)((e=>e.realmCoordinatesStatus),[],[l]),W=(0,r.useFacetMap)((e=>e.realmTimelineStatus),[],[l]),B=(0,r.useFacetMap)((e=>e.timelineRequiredStatus),[],[l]),U=(0,r.useFacetCallback)(((e,t,n)=>t=>{n.setRealmTimelineRequirementStatus(t),e||O()}),[O],[W,l,o]),z=Fr("inherit");return a.createElement(AP,{onBack:T,title:g,gamepadAlias:"realms-stories-settings",screenAnalyticsId:"RealmsStoriesSettings"},(()=>a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:b},a.createElement(Yv,null,a.createElement(Yv.Row,{gamepadIndex:0},a.createElement(Yv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},a.createElement(om,{size:4}),a.createElement(r.Mount,{when:h},a.createElement(nz,null)),a.createElement(r.Mount,{when:v},a.createElement(rz,{onClick:A,pageName:g})))))),a.createElement(r.Mount,{when:y},a.createElement(tW.Component,{onClickClose:T})),a.createElement(r.Mount,{when:F},a.createElement(rW.Component,{onClickClose:T})),a.createElement(r.Mount,{when:S},a.createElement(eW,{onClickClose:C})),a.createElement(r.Mount,{when:M},a.createElement("div",{className:Dr()("mm198",z.overlay.base)},a.createElement(ff,null))),a.createElement(r.Mount,{when:w},a.createElement(Yv,null,a.createElement(Yv.Row,{gamepadIndex:0},a.createElement(Yv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},a.createElement(Ef,{floating:!0,gamepadIndex:0},a.createElement(om,{size:4}),a.createElement("div",{className:Dr()("r8kuw",z.border.base)},a.createElement(wf,{text:N},a.createElement(wO,{title:E,description:e(".personalSettings.description")}),a.createElement(qb,{title:e(".personalSettings.badgeNotifSwitch.title"),description:e(".personalSettings.badgeNotifSwitch.description"),value:_,onChange:I})),a.createElement(r.Mount,{when:d},a.createElement(wf,{text:R},a.createElement(wO,{title:e(".realmWideSettings.header"),description:e(".realmWideSettings.description")}),a.createElement(qb,{title:e(".realmWideSettings.realmEvents.title"),description:e(".realmWideSettings.realmEvents.description"),value:L,onChange:P}),a.createElement(qb,{title:e(".realmWideSettings.storyCoordinates.title"),description:e(".realmWideSettings.storyCoordinates.description"),value:D,onChange:x}),a.createElement(r.Mount,{when:u},a.createElement(qb,{title:e(".realmWideSettings.playerTimelineRequirement.title"),description:e(".realmWideSettings.playerTimelineRequirement.description"),value:B,onChange:U})),a.createElement(qb,{title:e(".realmWideSettings.playerTimeline.title"),description:e(".realmWideSettings.playerTimeline.description"),value:W,onChange:O,disabled:B}))))),a.createElement(iE.Space,null))))))))}const aG=({onScreenshotSelect:e,onGoBack:t,managementRowButtons:n,filterType:l="all"})=>{const{t:o}=ec("ScreenshotPicker"),i=(0,a.useRef)(null),c=(0,r.useSharedFacet)(Ls),s=(0,r.useFacetWrap)(l),u=(0,r.useFacetMap)(((e,t)=>{const n=e.screenshots;return"all"===t?n:n.filter((e=>!e.showcased||e.featured))}),[],[c,s]),d=EV(u),m=o(".header"),p=(0,a.useCallback)((t=>{e(t)}),[e]),f=(0,r.useFacetMap)((e=>e.isLoadGalleryInProgress),[],[c]);return a.createElement(gV,{headerText:m,onScreenshotClicked:p,screenshotLists:d,scrollViewRef:i,isLoadingScreenshots:f,onGoBack:t,managementRowButtons:n,filterType:l})};function rG(){const e=m(),t=ZA(),n=(0,r.useSharedFacet)(Ru),l=(0,r.useFacetCallback)(((t,n)=>a=>{t.saveScreenshotAsWorldIcon(n,a.filePath,a.id),e.goBack()}),[e],[n,t]);return a.createElement(aG,{onScreenshotSelect:l})}const lG="zYipN";function oG(){const e=m(),t=(0,r.useSharedFacet)(Ru),n=(0,r.useSharedFacet)(uc),l=f(),o=(0,r.useFacetMap)((e=>decodeURIComponent(e.id)),[],[l]),i=(0,r.useFacetMap)((e=>e.type===su.Regular),[],[l]),{t:c}=ec("EditWorld.exportWorldFlow"),{t:s}=ec("EditWorld.notificationToasts"),{t:u}=ec("ExportWorld.error"),d="narrow"===sd(),[p,g]=(0,r.useFacetState)(!1),[E,h]=(0,r.useFacetState)(!1),[v,b]=(0,r.useFacetState)(!1),{generalData:y}=JA(),F=(0,r.useFacetMap)(((e,t)=>t&&e.isHardcore),[],[y,i]),S=(0,r.useFacetCallback)((t=>()=>{t.clearExportWorldResult(),e.goBack()}),[e],[t]),C=(0,r.useFacetMap)(((e,t)=>!t&&e),[],[p,F]),M=(0,r.useFacetCallback)(((e,t,n,a,r)=>()=>{let l=Iu.None;n&&(l|=Iu.ClearPlayerData),a&&(l|=Iu.ForceHardcoreMode),r?e.exportWorldAsTemplate(t,l):e.exportWorld(t,l)}),[],[t,o,C,E,v]);(0,r.useFacetEffect)(((e,t,n)=>{const a=e.exportWorldResult,r=s(n?".exportedTemplate":".exportedWorld");a===Pu.Ok?(t.queueSnackbar(r),S()):a===Pu.Cancelled&&e.clearExportWorldResult()}),[s,S],[t,n,v]);const w=(0,r.useFacetMap)((e=>e.exportWorldStatus===Ou.Exporting),[],[t]),k=(0,r.useFacetMap)((e=>null!=e.exportWorldResult&&e.exportWorldResult!==Pu.Ok&&e.exportWorldResult!==Pu.Cancelled),[],[t]),T=(0,r.useFacetMap)((e=>c(e?".exportWorldLabel":".exportWorldTemplateLabel")),[c],[i]),I=(0,r.useFacetMap)((e=>{switch(e.exportWorldResult){case Pu.NeedToRemoveVRHeadset:return u(".needToRemoveVRHeadset.title");case Pu.IncorrectWorldId:return u(".incorrectWorldID.title");default:return u(".unknownError.title")}}),[u],[t]),P=(0,r.useFacetMap)((e=>c(e?".exportWorldNarration":".exportWorldTemplateNarration")),[c],[i]),x=(0,r.useFacetMap)((e=>c(e?".clearPlayerDataDescription.alreadyInHardcoreMode":".clearPlayerDataDescription")),[c],[F]),O=[c(".headerTitle"),c(".exportationSettingsGroup"),c(".headerDescription")].join(" . ");return a.createElement(a.Fragment,null,a.createElement(Iv,null,a.createElement(wf,{text:P},a.createElement($v,{onBackButton:S,center:a.createElement(fm,{type:"header5A"},T),footer:d?a.createElement(iG,{isRegularExport:i,exportCallback:M,cancelCallback:S}):null,gamepadAlias:"export-world-flow"},a.createElement(Ef,null,a.createElement(Yv,null,a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:1,narrowSize:1,disabled:!0}),a.createElement(Yv.Column,{wideSize:10,narrowSize:6},a.createElement(r.Mount,{when:k},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement("div",{className:Dr()(lG)},a.createElement(GT,{role:"noticeTint"},a.createElement(GT.Text,null,I))))),a.createElement(om,{size:2}),a.createElement("div",{className:Dr()(lG)},a.createElement(wf,{text:O},a.createElement(wO,{title:c(".headerTitle"),description:c(".headerDescription")}),a.createElement(qb,{title:c(".clearPlayerDataTitle"),description:x,value:p,onChange:g,disabled:F}),a.createElement(r.Mount,{when:i,condition:!1},a.createElement(a.Fragment,null,a.createElement(qb,{title:c(".exportHardcoreModeTitle"),description:c(".exportHardcoreModeDescription"),value:E,onChange:h}),a.createElement(qb,{title:c(".exportAsTemplateTitle"),description:c(".exportAsTemplateDescription"),value:v,onChange:b})))),d?null:a.createElement(iG,{isRegularExport:i,exportCallback:M,cancelCallback:S}))),a.createElement(Yv.Column,{wideSize:1,narrowSize:1,disabled:!0}))))))),a.createElement(r.Mount,{when:w},a.createElement(QA.Component,null)))}function iG({exportCallback:e,cancelCallback:t,isRegularExport:n}){const l=Fr("neutral"),{t:o}=ec("EditWorld.exportWorldFlow"),i=(0,r.useFacetMap)((e=>o(e?".exportButtonLabel":".exportTemplateButtonLabel")),[o],[n]);return a.createElement(a.Fragment,null,a.createElement("div",{className:Dr()("P6Myy",l.background.base)},a.createElement(Yv,null,a.createElement(Yv.Row,null,a.createElement(mg,{horizontal:!0,inputLegend:o(".cancel"),onClick:t,variant:"secondary",narrationSuffix:[o(".buttonsEnumaration",["1","2"]),o(".cancelHint")].join(" . ")},o(".cancel")),a.createElement(om,{size:2}),a.createElement(mg,{horizontal:!0,inputLegend:i,onClick:e,variant:"primary",narrationSuffix:o(".buttonsEnumaration",["2","2"])},i)))))}function cG({index:e,gamepad:t,data:n,onChange:l,checkingDisabled:o}){const[i,c]=(0,r.useFacetState)(!1),s=(0,r.useFacetCallback)((t=>n=>{n&&t||(l(e,n),c(n))}),[l,e,c],[o]);return a.createElement(Lf,{title:(0,r.useFacetMap)((e=>e.message),[],[n]),description:(0,r.useFacetMap)((e=>e.author),[],[n]),gamepad:t,value:i,onChange:s,disabled:(0,r.useFacetMap)((e=>!e.isAuthorBeingReported),[],[n])})}function sG({chatMessages:e,selectedMessages:t,setSelectedMessagesFacet:n,visible:l}){const{t:o}=ec("ReportPlayerRoute"),i=(0,r.useFacetWrap)(e),c=(0,r.useFacetWrap)(t),s=((e,t)=>(0,r.useFacetCallback)((e=>(n,a)=>{t((()=>{const t=[...e];if(a)t.length<4&&t.push(n);else{const e=t.findIndex((e=>e==n));e>-1&&t.splice(e,1)}return t}))}),[t],[e]))(c,n),u=(0,r.useFacetMap)((e=>e.length>=4),[],[c]);return a.createElement(r.Mount,{when:l},a.createElement(a.Fragment,null,a.createElement(Kf,{narrationText:o(".chatSelectionPanel.title")},a.createElement(Yf,null,o(".chatSelectionPanel.title")),a.createElement(qf,null,o(".chatSelectionPanel.description")),a.createElement(om,{size:2}),a.createElement(r.Mount,{when:u},a.createElement(GT,{role:"noticeTint",gamepadIndex:2},a.createElement(GT.Text,null,o(".chatSelectionLimitReached")))),a.createElement(r.Map,{array:i},((e,t)=>a.createElement(cG,{index:t,gamepad:{index:t},data:e,onChange:s,checkingDisabled:u})))),a.createElement(om,{size:4})))}function uG({reportArea:e,onChangeReportArea:t,visible:n}){const{t:l}=ec("ReportPlayerRoute"),o=(0,r.sharedSelector)((e=>e.reportAreaOptions),[Ac]),i=(0,r.useFacetMap)((e=>e.map((e=>({label:l("."+e.label),value:e.value})))),[l],[(0,r.useSharedFacet)(o)]);return a.createElement(r.Mount,{when:n},a.createElement(a.Fragment,null,a.createElement(Kf,{narrationText:l(".areaPanel.title")},a.createElement(Yf,null,l(".areaPanel.title")),a.createElement(qf,null,l(".areaPanel.description")),a.createElement(om,{size:2}),a.createElement(vx,{title:l(".whereReport"),placeholderText:l(".whereReport"),options:i,value:e,onItemSelect:t,buttonTestId:"area-input-dropdown-button"}))))}function dG({gamertag:e,reportReason:t,availableOptions:n,onChangeReportReason:l,visible:o}){const{t:i}=ec("ReportPlayerRoute"),c=(0,r.useFacetMap)((e=>i(".whyReport",[e])),[i],[e]),s=(0,r.useFacetMap)((e=>i(".reasonPanel.title",[e])),[i],[e]);return a.createElement(a.Fragment,null,a.createElement(Kf,{narrationText:s},a.createElement(Yf,null,s),a.createElement(qf,null,i(".reasonPanel.description")),a.createElement(om,{size:2}),a.createElement(vx,{title:c,placeholderText:c,options:n,value:t,onItemSelect:l,buttonTestId:"reason-input-dropdown-button",disabled:(0,r.useFacetMap)((e=>!e),[],[o])})))}function mG({onConfirm:e}){const{t}=ec("ReportPlayerRoute");return a.createElement(a.Fragment,null,a.createElement(vE.Header,{onClose:e},t(".reportConfirmation.title")),a.createElement(vE.Content,{scrollable:!1},a.createElement(vE.Text,{gamepadIndex:0,narrationText:t(".reportConfirmation")},t(".reportConfirmation"))),a.createElement(vE.Buttons,null,a.createElement(mg,{variant:"primary",inputLegend:t(".next"),delayedClick:!0,onClick:e},t(".next")),a.createElement(om,{size:1})))}function pG({onConfirm:e,onCancel:t,gamertag:n}){const{t:l}=ec("ReportPlayerRoute"),o=(0,r.useFacetMap)((e=>l(".warningTitle",[e])),[l],[n]),i=(0,r.useFacetMap)((e=>l(".friendWarningText",[e])),[l],[n]);return a.createElement(a.Fragment,null,a.createElement(vE.Header,{onClose:t},o),a.createElement(vE.Content,{scrollable:!1},a.createElement(vE.Text,{gamepadIndex:0,narrationText:l(".friendWarningText")},i)),a.createElement(vE.Buttons,null,a.createElement(mg,{variant:"primary",gamepadIndex:0,autofocus:!0,inputLegend:l(".next"),delayedClick:!0,onClick:e},l(".warningReportAnyway")),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:0,inputLegend:l(".next"),delayedClick:!0,onClick:t},l(".cancel"))))}function fG({onConfirm:e,onCancel:t,gamertag:n}){const{t:l}=ec("ReportPlayerRoute"),o=(0,r.useFacetMap)((e=>l(".warningTitle",[e])),[l],[n]);return a.createElement(a.Fragment,null,a.createElement(vE.Header,{onClose:t},o),a.createElement(vE.Content,{scrollable:!1},a.createElement(vE.Text,{gamepadIndex:0,narrationText:l(".reportLimitWarningText1")},l(".reportLimitWarningText1")),a.createElement(vE.Text,{gamepadIndex:0,narrationText:l(".reportLimitWarningText2")},l(".reportLimitWarningText2"))),a.createElement(vE.Buttons,null,a.createElement(mg,{variant:"primary",gamepadIndex:0,autofocus:!0,inputLegend:l(".next"),delayedClick:!0,onClick:e},l(".warningReportAnyway")),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:0,inputLegend:l(".next"),delayedClick:!0,onClick:t},l(".cancel"))))}function gG(){const{t:e}=ec("ReportPlayerRoute"),t=Fr("inherit"),n=m(),l=E(),o=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.get("gamertag"))&&void 0!==t?t:""}),[],[l]),i=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.get("xuid"))&&void 0!==t?t:""}),[],[l]),c=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.get("platformId"))&&void 0!==t?t:""}),[],[l]),s=(0,r.useFacetMap)((e=>"true"===e.get("isFriend")),[],[l]),u=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.get("galleryScreenshotId"))&&void 0!==t?t:""}),[],[l]),d=(0,r.useFacetMap)((e=>""!=e),[],[i,o]),[p,f]=(0,r.useFacetState)(-1),[g,h]=(0,r.useFacetState)(-1),[v,b]=(0,r.useFacetState)(""),[y,F]=(0,r.useFacetState)(!1),[S,C]=(0,r.useFacetState)(!1),[M,w]=(0,r.useFacetState)(!1),[k,T]=(0,r.useFacetState)(!1),I=(0,r.useSharedFacet)(Ac),P=(0,r.useSharedFacet)(Ds),[x,O]=(0,r.useFacetState)([]),A=(0,r.sharedSelector)((e=>e.reportableChatMessages),[Ac]),N=(0,r.useSharedFacet)(A),R=(0,r.useFacetCallback)((e=>()=>{e.hasReachedReportLimit&&w(!0)}),[w],[I]),_=(0,r.useFacetCallback)((e=>()=>{e&&C(!0)}),[C],[s]),L=(0,r.useFacetCallback)(((e,t,n,a)=>()=>{e.startReport(t,n,a),e.decideReportReasonOptions()}),[],[I,i,c,u]);(0,a.useEffect)((()=>{R(),_(),L()}),[R,_,L]);const D=(0,r.useFacetCallback)(((e,t)=>()=>{e.reportArea=t,e.decideReportReasonOptions()}),[],[I,p]);(0,r.useFacetEffect)((()=>{D(),h(-1),O([])}),[h,O,D],[p]);const W=(0,r.sharedSelector)((e=>e.reportReasonOptions),[Ac]),B=(0,r.useFacetMap)((t=>t.map((t=>({label:e("."+t.label),value:t.value})))),[e],[(0,r.useSharedFacet)(W)]),U=(0,r.useFacetCallback)((e=>t=>{e.loadGallery(t)}),[],[P]);(0,r.useFacetEffect)(((e,t)=>{""!==t&&f(6)}),[U,f],[i,u]);const z=e(".hideContent"),[j,H]=(0,r.useFacetState)(!1),V=(0,r.useFacetWrap)(""),G=(0,r.useFacetWrap)(""),$=(0,r.useFacetMap)((t=>e(".sidePanel.text",[t])),[e],[o]),K=(0,r.useFacetMap)(((e,t,n)=>{if(""!==n){const a=t.screenshots.slice().find((e=>e.id===n));return a?a.thumbnail:e.screenshot}return e.screenshot}),[],[I,P,u]),X=(0,r.useFacetWrap)(pz.STORY),Y=(0,r.useFacetCallback)(((e,t,n,a,r,l,o)=>()=>{n.reportArea=a,n.reportReason=r,n.reportMessage=l,n.selectedChatMessages=o,n.xuid=e,n.platformId=t,n.finishReport(),T(!0)}),[T],[i,c,I,p,g,v,x]),q=(0,r.useFacetMap)((e=>""===e),[],[u]),Q=(0,r.useFacetMap)((e=>4!==e&&6!==e),[],[p]),J=(0,r.useFacetMap)(((e,t,n,a,r)=>!n||-1===t&&r||-1===e&&a),[],[g,p,y,Q,q]),Z=(0,r.useFacetMap)(((e,t)=>0===e&&t.isChatAvailable()),[],[p,I]),ee=(0,r.useFacetCallback)((()=>()=>{C(!1)}),[C],[]),te=(0,r.useFacetCallback)((()=>()=>{w(!1)}),[w],[]),ne=n.goBack,ae=(0,r.useFacetCallback)((()=>()=>{C(!1),w(!1),ne()}),[ne,C,w],[]),re=(0,r.useFacetCallback)((()=>()=>{T(!1),ne()}),[ne,T],[]),le=(0,r.useFacetMap)((e=>e),[],[S]),oe=(0,r.useFacetMap)(((e,t)=>!e&&t),[],[le,M]),ie=(0,r.useFacetMap)(((e,t,n)=>e||t||n),[],[S,M,k]),ce=(0,r.useFacetMap)((t=>{const n=e(".reportPanel.narration.enumeration",["1","2"]);return t?[n,e(".reportPanel.narration.disabledHint")].join(" . "):n}),[e],[J]);return a.createElement(AP,{onBack:ne,title:e(".title"),screenAnalyticsId:"ReportPlayer",gamepadAlias:"player-report"},(()=>a.createElement(Yv,null,a.createElement(r.Mount,{when:ie},a.createElement(vE,null,a.createElement(r.Mount,{when:le},a.createElement(pG,{gamertag:o,onConfirm:ee,onCancel:ae})),a.createElement(r.Mount,{when:oe},a.createElement(fG,{gamertag:o,onConfirm:te,onCancel:ae})),a.createElement(r.Mount,{when:k},a.createElement(mG,{onConfirm:re})))),a.createElement(om,{size:4}),a.createElement(Yv.Row,null,a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:d,condition:!1},a.createElement(Yv.Column,{wideSize:12,narrowSize:8},a.createElement(cb,{title:e(".error.title"),text:e(".error.text"),buttons:[{text:e(".error.buttonText"),onClick:ne,inputLegend:e(".buttonLegend")}]}))),a.createElement(r.Mount,{when:d},a.createElement(a.Fragment,null,a.createElement(Yv.Column,{wideSize:4,narrowSize:0},a.createElement("div",{className:Dr()("iaXfI",t.border.base)},a.createElement(qb,{title:z,value:j,onChange:H})),a.createElement(r.Mount,{when:j,condition:!1},a.createElement(fz,{sender:$,timestamp:V,content:G,image:K,containerType:X}))),a.createElement(Yv.Column,{wideSize:8,narrowSize:8},a.createElement(Ef,{floating:!0,delegateFocusFromMemory:!0},a.createElement("div",{className:Dr()("qUqpj",t.border.base)},a.createElement(uG,{reportArea:p,onChangeReportArea:f,visible:q}),a.createElement(sG,{chatMessages:N,selectedMessages:x,setSelectedMessagesFacet:O,visible:Z}),a.createElement(dG,{gamertag:o,reportReason:g,availableOptions:B,onChangeReportReason:h,visible:Q}),a.createElement(Sg,{label:e(".commentPanel.title"),description:e(".commentPanel.description"),placeholder:e(".commentPanel.placeholder"),value:v,maxLength:350,rows:6,onChange:b}),a.createElement(Lf,{title:e(".attestation"),gamepad:{index:0},value:y,onChange:F}),a.createElement(FT,{title:"",stackedButtons:!0,buttons:a.createElement(a.Fragment,null,a.createElement(mg,{variant:"destructive",inputLegend:e(".buttonLegend"),onClick:Y,narrationSuffix:ce,disabled:J},e(".report")),a.createElement(FT.ButtonSpacing,null),a.createElement(mg,{variant:"secondary",inputLegend:e(".buttonLegend"),onClick:ne,narrationSuffix:e(".reportPanel.narration.enumeration",["2","2"])},e(".cancel")))})))))))),a.createElement(om,{size:4}),a.createElement(iE.Space,null))))}function EG(e,t,n){return`/screenshot-details/${e}?sort=${t}&filter=${n}`}const hG="gXCCn",vG=Km((({onClose:e,menuOptions:t,onItemSelect:n,title:l})=>{const o=(0,r.useFacetWrap)(l);return a.createElement(lT,{isOpen:!0,title:o,items:t,onClose:e,onItemSelect:n})})),bG=Km((({onClose:e,onConfirm:t})=>{const{t:n}=ec("ScreenshotDeleteModal");return a.createElement(vE,null,a.createElement(vE.Header,{onClose:e},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:n(".text")},n(".text"))),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{horizontal:!0,inputLegend:n(".cancel"),variant:"secondary",onClick:e},n(".cancel")),a.createElement(om,{size:1}),a.createElement(mg,{horizontal:!0,inputLegend:n(".delete"),variant:"destructive",onClick:t,"data-testid":"screenshotDeleteModalDeleteButton"},n(".delete"))))})),yG="delete-screenshots-error-close-button-wrapper",FG=Km((({onClose:e})=>{const{t}=ec("ScreenshotDeleteErrorModal"),n=t(".text");return a.createElement(vE,{defaultFocusAlias:yG},a.createElement(vE.Header,{titlebarGamepadAlias:yG,onClose:e},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:n},n)),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{inputLegend:t(".close"),variant:"secondary",onClick:e,horizontal:!0},t(".close"))))}));function SG(e){return`xuid=${e.xuid}&playerName=${e.playerName}&relation=${e.relation}`}function CG(){return(0,r.useFacetMap)((e=>{var t,n,a;return{xuid:null!==(t=e.get("xuid"))&&void 0!==t?t:"",playerName:null!==(n=e.get("playerName"))&&void 0!==n?n:"",relation:null!==(a=Number(e.get("relation")))&&void 0!==a?a:wc.Unknown}}),[],[E()])}function MG(e,t,n,a,r=""){return`/player-report?gamertag=${t}&isFriend=${n?"true":"false"}`+(""===e?"":`&xuid=${e}`)+(""===a?"":`&platformId=${a}`)+(""===r?"":`&galleryScreenshotId=${r}`)}let wG;var kG;function TG({screenshot:e,index:t,length:n,onGoToIndex:l,screenshotNarrationSuffix:o,variant:i}){const{t:c}=ec("ScreenshotDetailsSideMenu"),{t:s}=ec("ScreenshotDetailsSideMenu.narration"),u=vG.useModal(),d=m(),p=(0,r.useSharedFacet)(Ls),f=(0,r.useSharedFacet)(js),g=vG.useModal(),E=[{label:c(".shareOptions.shareToExternal"),value:kG.ShareToExternal,gamepadAlias:"share-menu-modal-option-1",enumeration:c(".shareOptions.enumeration",["1","2"])},{label:c(".shareOptions.postToRealmsStories"),value:kG.PostToRealmsStories,gamepadAlias:"share-menu-modal-option-2",enumeration:c(".shareOptions.enumeration",["2","2"])}],h=(0,r.useFacetCallback)(((e,t)=>n=>{null!=t&&(g.hide(),n===kG.ShareToExternal?e.shareFile(c(".shareTitle"),c(".shareText"),t.filePath):d.push(`/post-to-realm-stories?screenshotId=${t.id}`))}),[g,d,c],[f,e]),v=(0,r.useFacetCallback)((e=>()=>{e.isShareSupported?g.show():h(kG.PostToRealmsStories)}),[g,h],[f]),b=bG.useModal(),y=(0,r.useFacetMap)((e=>e.deleteScreenshotsError),[],[p]),F=(0,r.useFacetMap)((e=>e===_s.HttpError),[],[y]),S=(0,r.useFacetCallback)((e=>e.clearDeleteScreenshotsError),[],[p]),C=(0,a.useCallback)((e=>{l(e-1)}),[l]),M=(0,r.useFacetMap)((e=>e+1),[],[t]),w=Fr("neutral80"),k=a.createElement(om,{size:3}),T=(0,r.useFacetMap)((e=>e>=2),[],[n]),I=function(){const e=Tv(Ii.ScreenshotsShowcase),{t}=ec("ScreenshotDetailsSideMenu");return(0,r.useFacetMap)((n=>{let a=e?2:1;const r=[];return n.isInGame||(a+=1,r.push({label:t(".deviceStorage"),value:wG.DeviceStorage,gamepadAlias:"screenshot-manage-menu-options-1",enumeration:t(".optionsEnumeration",["1",a.toString()])})),r.push({label:t(".deleteScreenshot"),value:wG.DeleteScreenshot,gamepadAlias:"screenshot-manage-menu-options-2",enumeration:t(".optionsEnumeration",[`${r.length+1}`,a.toString()])}),e&&r.push({label:t(".setWorldThumbnail"),value:wG.SetWorldThumbnail,gamepadAlias:"screenshot-manage-menu-options-3",enumeration:t(".optionsEnumeration",[`${r.length+1}`,a.toString()])}),r}),[t,e],[(0,r.useSharedFacet)(Gi)])}(),P=(0,r.useFacetCallback)((e=>t=>{if(u.hide(),null!=e)switch(t){case wG.DeviceStorage:d.push("/settings/storage");break;case wG.DeleteScreenshot:b.show();break;case wG.SetWorldThumbnail:d.push(`/set-world-thumbnail/${e.id}`)}}),[u,d,b],[e]),x=(0,r.useFacetMap)((e=>{var t;return null===(t=null==e?void 0:e.loadingImage)||void 0===t||t}),[],[e]),O=(0,r.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.image)&&void 0!==t?t:""}),[],[e]),A=(0,r.useFacetMap)((e=>{let t="manage"===i?3:2;return e&&(t+=2),t}),[i],[T]),N=Xj.useModal(),R=(0,r.useFacetMap)(((e,t)=>`${c(".narration.fullImage")} . ${t}`),[c],[t,o]),_=(0,r.useFacetCallback)(((e,t,n)=>()=>{null!=n&&(b.hide(),e.deleteScreenshots([n.id]),t.queueSnackbar(c(".screenshotDeleted")),d.goBack())}),[d,b,c],[p,(0,r.useSharedFacet)(uc),e]);return a.createElement(a.Fragment,null,a.createElement(RP,{autofocus:!0,spacingAroundSideMenu:k},a.createElement(wl,{data:A},(t=>a.createElement(a.Fragment,null,"manage"===i?a.createElement(IG,{showFullImageModal:N.show,showManageMenuModal:u.show,onShareButtonClicked:v,numButtons:t}):a.createElement(PG,{screenshot:e,showFullImageModal:N.show,numButtons:t.toString()}),a.createElement(r.Mount,{when:T},a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement("div",{className:Dr()("IcQAj",w.bevel.base)}),a.createElement("div",{className:Dr()("JYwuF",w.background.base,w.bevel.base)},a.createElement(LT,{totalPages:n,currentPage:M,onChange:C,counterStyle:"index-counter-no-border",unlockMaxWidth:!0,narrateContextOnChange:!0,narrateTotalOnChange:!1,prevNarrationSuffix:[s(".buttonRole"),s(".enumeration",[""+(t-1),t.toString()]),s(".previousScreenshotHint"),s(".moveToRightHint")].join(" . "),nextNarrationSuffix:[s(".buttonRole"),s(".enumeration",[`${t}`,t.toString()]),s(".showNextScreenshotHint")].join(" . "),triggerShortcuts:!0})))))))),a.createElement(r.Mount,{when:N.isVisible},a.createElement(Xj.Component,{src:O,isLoading:x,onClose:N.hide,closeInputLegend:c(".fullImageBack"),closeNarration:c(".fullImageBack"),narrationText:R})),"manage"===i&&a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:u.isVisible},a.createElement(vG.Component,{onClose:u.hide,menuOptions:I,onItemSelect:P,title:c(".manage")})),a.createElement(r.Mount,{when:b.isVisible},a.createElement(bG.Component,{onClose:b.hide,onConfirm:_}))),a.createElement(r.Mount,{when:g.isVisible},a.createElement(vG.Component,{onClose:g.hide,menuOptions:E,onItemSelect:h,title:c(".share")})),a.createElement(r.Mount,{when:F},a.createElement(FG.Component,{onClose:S})))}function IG({showFullImageModal:e,showManageMenuModal:t,onShareButtonClicked:n,numButtons:r}){const{t:l}=ec("ScreenshotDetailsSideMenu.narration"),{t:o}=ec("ScreenshotDetailsSideMenu");return a.createElement(a.Fragment,null,a.createElement(RP.Item,null,a.createElement(mg,{inputLegend:o(".share"),onClick:n,variant:"primary",linebreak:!0,narrationPrefix:o(".share"),narrationSuffix:l(".enumeration",["1",r.toString()])},o(".share"))),a.createElement(om,{size:1}),a.createElement(RP.Item,null,a.createElement(mg,{inputLegend:o(".fullImage"),variant:"secondary",linebreak:!0,narrationPrefix:o(".fullImage"),narrationSuffix:l(".enumeration",[""+(r-3),r.toString()]),onClick:e},o(".fullImage"))),a.createElement(om,{size:1}),a.createElement(RP.Item,null,a.createElement(mg,{onClick:t,inputLegend:o(".manage"),narrationPrefix:o(".manage"),narrationSuffix:l(".enumeration",[""+(r-2),r.toString()]),variant:"secondary",linebreak:!0},o(".manage"))),a.createElement(om,{size:1}))}function PG({screenshot:e,showFullImageModal:t,numButtons:n}){const{t:l}=ec("ScreenshotDetailsSideMenu.narration"),{t:o}=ec("ScreenshotDetailsSideMenu"),i=m(),c=(0,r.useFacetCallback)(((e,t)=>()=>{const n=e.relation===wc.TwoWayFriend||e.relation===wc.Following;i.push(MG(e.xuid,e.playerName,n,"",null==t?void 0:t.id))}),[i],[CG(),e]);return a.createElement(RP.Item,null,a.createElement(mg,{inputLegend:o(".fullImage"),variant:"secondary",linebreak:!0,narrationPrefix:o(".fullImage"),narrationSuffix:l(".enumeration",["1",n]),onClick:t},o(".fullImage")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:o(".report"),variant:"secondary",linebreak:!0,narrationPrefix:o(".report"),narrationSuffix:l(".enumeration",["2",n]),onClick:c},o(".report")))}function xG({title:e,screenshot:t,index:n,length:l,onGoToIndex:o,screenshotNarrationSuffix:i,variant:c}){const s=Fr(),{t:u}=ec("ScreenshotDetailsLayout"),{t:d}=ec("ScreenshotDetailsLayout.narration"),m=Tv(Ii.ScreenshotsShowcase),p=(0,r.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.showcased)&&void 0!==t&&t}),[],[t]),f=(0,r.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.featured)&&void 0!==t&&t}),[],[t]),g=(0,r.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.image)&&void 0!==t?t:""}),[],[t]),E=(0,r.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.captureTimeLabel)&&void 0!==t?t:""}),[],[t]),h=(0,r.useFacetMap)(((e,t,n)=>`${d(".screenshotEnumeration",[(e+1).toString(),t.toString()])} . ${n}`),[d],[n,l,i]),v=(0,r.useFacetMap)((e=>{var t;return null===(t=null==e?void 0:e.loadingImage)||void 0===t||t}),[],[t]),b={paddingTop:Mp.aspectRatioToPercentage(Mp.AspectRatio["16:9"])},y=(0,r.useSharedFacet)(il),F=(0,r.useFacetMap)((e=>e.platform),[],[y]),S=(0,r.useFacetMap)((e=>!qw(e)),[],[F]),C=(0,r.useFacetMap)(((e,t,n)=>m&&(t||n)||e),[m],[S,p,f]);return a.createElement(AP,{title:e,screenAnalyticsId:"ScreenshotDetails",gamepadAlias:"screenshot-details"},(()=>a.createElement(wf,{text:h},a.createElement(Yv,null,a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:4,narrowSize:3},a.createElement(TG,{screenshot:t,index:n,length:l,onGoToIndex:o,screenshotNarrationSuffix:i,variant:c})),a.createElement(Yv.Column,{wideSize:8,narrowSize:5},a.createElement(om,{size:3}),a.createElement("div",{className:Dr()("lyZTw",hG,s.neutral.border.base,s.neutral80.background.base)},a.createElement(r.Mount,{when:v},a.createElement("div",{className:"hMeKn",style:b},a.createElement(ff,null))),a.createElement(r.Mount,{when:v,condition:!1},a.createElement(Mp,{className:"b08Bz",src:g,aspectRatio:Mp.AspectRatio["16:9"]}))),a.createElement(r.Mount,{when:C},a.createElement("div",{className:Dr()("Q40KW",hG,s.neutral.background.base,s.neutral.border.base)},a.createElement("div",null,a.createElement(r.Mount,{when:S},a.createElement(fm,{variant:"dimmer",type:"body"},E))),m&&a.createElement("div",{className:Dr()("jnrwH")},a.createElement(om,{size:7}),a.createElement(r.Mount,{when:p},a.createElement("div",{className:"x_JSK"},a.createElement(nM.Friends,{role:"neutral",width:24,height:24}))),a.createElement(om,{size:1}),a.createElement(r.Mount,{when:f},a.createElement("div",{className:Dr()("qIfjV",s.primaryTint.background.base)},a.createElement(fm,{role:"noticeTint",type:"captionShort"},u(".featured")))))))))))))}function OG(e){const{t}=ec("ScreenshotDetailsLayout"),{t:n}=ec("ScreenshotDetailsLayout.narration"),a=(0,r.useSharedFacet)(il),l=(0,r.useFacetMap)((e=>e.platform),[],[a]),o=(0,r.useFacetMap)((e=>!qw(e)),[],[l]),i=(0,r.useFacetWrap)(e);return(0,r.useFacetMap)(((e,a)=>{if(null==a)return"";const r=a.captureTimeLabel,l=a.featured,o=a.showcased,i=e&&null!=r?[n(".screenshotHint",[`${r}`])]:[];return l?i.push(t(".featured")):o&&i.push(n(".showcased")),i.join(" . ")}),[n,t],[o,i])}function AG(){const{t:e}=ec("ScreenshotDetailsRoute"),t=(0,r.useSharedFacet)(Ls),n=m(),l=p(),o=f(),i=E();(0,r.useFacetEffect)(((e,t)=>{e&&t.count<=0&&n.goBack()}),[n],[l,t]);const c=(0,r.useFacetMap)((e=>e.id),[],[o]),[s,u]=(0,r.useFacetState)(QH.NewestFirst),[d,g]=(0,r.useFacetState)(JH.ShowAll);(0,r.useFacetEffect)((e=>{e.has("sort")&&e.has("filter")&&(u(Number(e.get("sort"))),g(Number(e.get("filter"))))}),[u,g],[i]);const h=function(e,t,n){return(0,r.useFacetMap)(((e,t,n)=>{let a=Rk(e);switch(t===QH.NewestFirst?a.sort(((e,t)=>t.captureTime-e.captureTime)):a.sort(((e,t)=>e.captureTime-t.captureTime)),n){case JH.Showcased:a=a.filter((e=>e.showcased));break;case JH.Featured:a=a.filter((e=>e.featured));break;case JH.Unmarked:a=a.filter((e=>!e.showcased&&!e.featured))}return a}),[],[e,t,n])}((0,r.useFacetMap)((e=>e.screenshots),[],[t]),s,d),v=(0,r.useFacetMap)(((e,t)=>e.find((e=>e.id===t))),[],[h,c]),b=(0,r.useFacetMap)(((e,t)=>null!=t?e.indexOf(t):-1),[],[h,v]),y=(0,r.useFacetMap)((e=>e.length),[],[h]),F=(0,r.useFacetCallback)(((e,t,a)=>r=>{if(r>=0&&r<e.length){const l=e[r].id;n.replace(EG(l,t,a))}}),[n],[h,s,d]),S=OG(v);return a.createElement(xG,{title:e(".title"),screenshot:v,index:b,length:y,onGoToIndex:F,screenshotNarrationSuffix:S,variant:"manage"})}!function(e){e[e.DeviceStorage=1]="DeviceStorage",e[e.DeleteScreenshot=2]="DeleteScreenshot",e[e.SetWorldThumbnail=3]="SetWorldThumbnail"}(wG||(wG={})),function(e){e[e.ShareToExternal=1]="ShareToExternal",e[e.PostToRealmsStories=2]="PostToRealmsStories"}(kG||(kG={}));const NG="PQ7oJ",RG=n.p+"assets/info-icon-4cdb8.png",_G=n.p+"assets/manage-icon-4558c.png",LG="screenshot-gallery-modal-close-button-wrapper",DG=Km((({onClose:e})=>{const{t}=ec("ScreenshotGalleryInfoModal"),n=cV();return a.createElement(vE,{defaultFocusAlias:LG},a.createElement(vE.Header,{titlebarGamepadAlias:LG,onClose:e},t(".title")),a.createElement(vE.Content,null,a.createElement(wl,{data:n},(e=>a.createElement(a.Fragment,null,a.createElement("div",{className:"wOpvW"},e.icon),a.createElement(vE.Text,{narrationText:e.narration},e.text))))))})),WG="lyc-modal-cancel",BG=Km((({deleteScreenshots:e,onClose:t,plural:n,hasShowcased:r,hasFeatured:l})=>{const{t:o}=ec("ScreenshotGalleryRoute.deleteScreenshotsModal"),i=o(n?".messagePlural":".message"),c=[];r&&c.push(o(".showcasedMessage")),l&&c.push(o(".featuredMessage")),c.push(i);const s=c.join(" . ");return a.createElement(vE,{onOverlayClick:t,defaultFocusAlias:WG},a.createElement(vE.Header,{onClose:t},o(".title")),a.createElement(vE.Content,null,a.createElement(vE.Paragraphs,{narrationText:s},r&&a.createElement(fm,{children:o(".showcasedMessage"),type:"captionLong"}),l&&a.createElement(fm,{children:o(".featuredMessage"),type:"captionLong"}),a.createElement(fm,{children:i,type:"captionLong"}))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,inputLegend:o(".cancelButton"),variant:"secondary",onClick:t},o(".cancelButton")),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:1,inputLegend:o(".deleteButton"),variant:"destructive",onClick:e,gamepadAlias:WG},o(".deleteButton"))))}));var UG,zG;function jG(){const{t:e}=ec("ScreenshotGalleryRoute"),t=(0,a.useRef)(null),n=EV(),l=(0,r.useSharedFacet)(uc),o=(0,r.useSharedFacet)(Ls),i=BG.useModal(),c=vG.useModal(),s=DG.useModal(),u=m(),d=(0,r.useSharedFacet)(hu),p=(0,a.useCallback)(((e,t,n)=>{u.push(EG(e.id,t,n))}),[u]),[f,g]=(0,r.useFacetState)(!0),[h,v]=(0,r.useFacetState)(!1),[b,y]=(0,r.useFacetState)([]),F=(0,r.useFacetMap)((e=>e.deleteScreenshotsError),[],[o]),S=(0,r.useFacetMap)((e=>e===_s.HttpError),[],[F]),C=(0,r.useFacetCallback)(((t,n,a)=>()=>{t.deleteScreenshots(a),n.queueSnackbar(e(1===a.length?".deleteScreenshotSnack":".deleteScreenshotSnackPlural",[a.length.toString()])),i.hide(),v(!1)}),[i,v,e],[o,l,b]),M=function(e){const t=(0,r.useSharedFacet)(Ls);return(0,r.useFacetMap)(((e,t)=>{const n=e.screenshots.filter((e=>e.showcased)).some((e=>t.includes(e.id)));let a=!1;const r=e.screenshots.find((e=>e.featured));return null!=r&&t.includes(r.id)&&(a=!0),{hasShowcased:n,hasFeatured:a,plural:1!==t.length}}),[],[t,e])}(b),w=(0,a.useCallback)((e=>{y(e),i.show()}),[i,y]),k=(0,r.useFacetMap)((t=>e(t?".deleteScreenshots":".screenshotGalleryHeader")),[e],[h]),T=(0,r.useFacetMap)((e=>e.isLoadGalleryInProgress),[],[o]),I=(()=>{const e=Gw();return(0,a.useCallback)(((t,n,a,r,l)=>{e("ScreenshotGalleryLoaded",{profileXuid:{value:t,privacyTag:Vs.EUPI},relationToCurrentUser:{value:n,privacyTag:Vs.SystemMetadata},numberOfScreenshots:{value:a,privacyTag:Vs.SystemMetadata},numberOfShowcased:{value:r,privacyTag:Vs.SystemMetadata},hasFeatured:{value:l,privacyTag:Vs.SystemMetadata}})}),[e])})();(0,r.useFacetEffect)(((e,t,n,a)=>{if(n&&!e.isLoadGalleryInProgress){const t=e.screenshots.some((e=>e.featured));I(a.currentXuid,Number(wc.Self),e.count,e.screenshots.filter((e=>e.showcased)).length,t),g(!1)}}),[I,g],[o,E(),f,d]);const P=(0,r.useFacetMap)((t=>{const n=[];t.isInGame||n.push({label:e(".deviceStorage"),value:UG.DeviceStorage,gamepadAlias:"screenshot-manage-menu-options-0",enumeration:e(".optionsEnumeration",["1","2"])});const a=n.length;return n.push({label:e(".deleteScreenshotsButton"),value:UG.DeleteScreenshots,gamepadAlias:"screenshot-manage-menu-options-1",enumeration:e(".optionsEnumeration",[`${a+1}`,`${a+1}`])}),n}),[e],[(0,r.useSharedFacet)(Gi)]),x=Tv(Ii.ScreenshotsShowcase),O=x?3:2,A="narrow"==sd(),N=(0,a.useCallback)((e=>{switch(c.hide(),e){case UG.DeleteScreenshots:v(!0);break;case UG.DeviceStorage:u.push("/settings/storage")}}),[c,v,u]),R=(0,r.useFacetMap)((e=>e.undownloadedCount),[],[o]),_=(0,r.useFacetMap)(((e,t,n)=>e>0&&n&&e+t.count>t.maxScreenshots),[],[R,o,(0,r.useFacetWrap)(x)]),L=(0,r.useFacetMap)(((t,n)=>e(".galleryFullWarning",[""+(t+n.count-n.maxScreenshots)])),[e],[R,o]),D=(0,r.useFacetCallback)((e=>e.clearDeleteScreenshotsError),[],[o]);return a.createElement(a.Fragment,null,a.createElement(gV,{headerText:k,showHeaderNumbers:!0,onScreenshotClicked:p,screenshotLists:n,scrollViewRef:t,isLoadingScreenshots:T,banner:a.createElement(r.Mount,{when:_},a.createElement(a.Fragment,null,a.createElement(om,{size:3}),a.createElement(GT,{role:"noticeTint"},a.createElement(GT.Text,null,L),a.createElement(GT.Link,{onClick:()=>v(!0)},e(".deleteScreenshotsLink"))))),managementRowButtons:a.createElement("div",{className:Dr()("UEBNp",!A&&"wdTxL")},x&&a.createElement(a.Fragment,null,a.createElement("div",{className:Dr()(A?"UurP7":"ni2_l")},a.createElement(mg,{narrationPrefix:e(".manageShowcase"),inputLegend:e(".manageShowcase"),Icon:nM.Album,narrationSuffix:e(".optionsEnumeration",["1",`${O}`]),onClick:()=>u.push("/manage-showcase"),disabled:_},e(".manageShowcase"))),a.createElement(om,{size:2})),a.createElement("div",{className:Dr()("LAZp5",!A&&"GV5Hz")},a.createElement("div",{className:NG},a.createElement(mg,{inputLegend:e(".info"),narrationPrefix:e(".info"),imgSrc:RG,onClick:s.show,narrationSuffix:e(".optionsEnumeration",[""+(O-1),`${O}`])})),a.createElement(om,{size:2}),a.createElement("div",{className:NG},a.createElement(mg,{inputLegend:e(".moreOptions"),narrationPrefix:e(".moreOptions"),imgSrc:_G,onClick:c.show,narrationSuffix:e(".optionsEnumeration",[`${O}`,`${O}`]),"data-testid":"screenshot-gallery-route-more-options"})))),onSubmitSelection:w,onCancelSelection:()=>v(!1),selectionType:"delete",selectionEnabled:h}),a.createElement(r.Mount,{when:c.isVisible},a.createElement(vG.Component,{onClose:c.hide,menuOptions:P,onItemSelect:N,title:e(".galleryOptions")})),a.createElement(wl,{data:M},(e=>a.createElement(r.Mount,{when:i.isVisible},a.createElement(BG.Component,{deleteScreenshots:C,onClose:i.hide,plural:e.plural,hasShowcased:e.hasShowcased,hasFeatured:e.hasFeatured})))),a.createElement(r.Mount,{when:s.isVisible},a.createElement(DG.Component,{onClose:s.hide})),a.createElement(r.Mount,{when:S},a.createElement(FG.Component,{onClose:D})))}function HG(){const{t:e}=ec("GuidedCreateWorldRoute"),t=Yr();return a.createElement(a.Fragment,null,a.createElement(Iv,null,a.createElement($v,{left:a.createElement($v.BackButton,{onClick:()=>t.goBack()}),center:a.createElement(fm,{type:"header5A"},e(".title")),gamepadAlias:"guided-create-world-route"},a.createElement(a.Fragment,null))))}function VG({message:e}){const t=(0,r.useFacetMap)((e=>e.content),[],[e]);return a.createElement(fm,{type:"paragraphs",whiteSpace:"preWrap",children:t})}function GG(e){const t=(0,r.useFacetMap)((e=>e.getTechStackForScreen(Ws.PlayScreen)==Bs.OreUI),[],[(0,r.useSharedFacet)(Us)]);return(0,r.useFacetMap)(((e,t)=>t?`/play/realms/${e}`:"/play/friends"),[],[e,t])}function $G({message:e}){const t=(0,r.useFacetMap)((e=>e.invStatus===_i.NONE),[],[e]),n=(0,r.useFacetMap)((e=>e.invStatus===_i.ACCEPTED&&e.invType!==Ri.GAME),[],[e]),l=(0,r.useFacetMap)((e=>e.invStatus===_i.JOIN&&e.invType!==Ri.GAME),[],[e]),o=m(),i=(0,a.useRef)(!1);(0,r.useFacetEffect)((e=>{i.current&&e.invStatus==_i.REJECTED&&(i.current=!1,o.goBack())}),[o,i],[e]);const c=GG((0,r.useFacetMap)((e=>e.worldId),[],[e])),[s,u]=(0,r.useFacetState)(!1),d=(0,r.useFacetCallback)(((e,t,n,a)=>r=>{switch(r){case zG.Accept:n||(t.acceptInvitation(e.instanceId),u(!0));break;case zG.Reject:t.rejectInvitation(e.instanceId),i.current=!0;break;case zG.Join:o.push(a);break;case zG.Back:o.goBack();break;case zG.ViewProfile:o.push(GI(e.senderXuid))}}),[o,u],[e,(0,r.useSharedFacet)(Ui),s,c]);return a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(r.Mount,{when:t},a.createElement(XG,{handleButtonClick:d,style:(0,r.useFacetMap)((e=>e.style),[],[e])})),a.createElement(r.Mount,{when:n},a.createElement(YG,{handleButtonClick:d})),a.createElement(r.Mount,{when:l},a.createElement(YG,{handleButtonClick:d})))}function KG({message:e}){const{t}=ec("InboxMessageDetailsRoute"),n=ia(),l=(0,r.useFacetMap)((e=>e.invType===Ri.GAME),[],[e]),o=(0,r.useFacetMap)((e=>e.invType===Ri.REALMS),[],[e]),i=(0,r.useFacetMap)(((e,n)=>t(n?".gameInvitationNote0":".invitationNote0",[e.sender])),[t],[e,l]),c=(0,r.useFacetMap)(((e,n)=>t(n?".gameInvitationRejectedMessage":".realmsInvitationRejectedMessage",[e.sender])),[t],[e,l]),s=(0,r.useFacetMap)((e=>e.invStatus==_i.REJECTED),[],[e]),u=t(".invitationRejectedMessageDetails"),d=(0,r.useFacetMap)((e=>e?[t(".invitationNote1"),t(".invitationNote2"),t(".invitationNote3"),t(".invitationNote4")]:[]),[t],[o]),m=(0,r.useFacetMap)(((e,t)=>[e,t.join(" . ")].join(" . ")),[],[i,d]),p=(0,r.useFacetMap)((e=>[e,u].join(" ")),[u],[c]),f=(0,r.useFacetMap)(((e,t,n)=>e?t:n),[],[s,p,m]);return a.createElement(em.Maybe,{isInteractive:n,narrationText:f},a.createElement(r.Mount,{when:s,condition:!1},a.createElement(a.Fragment,null,a.createElement(fm,{children:i,type:"paragraphs"}),a.createElement(om,{size:4}),a.createElement(r.Mount,{when:l,condition:!1},a.createElement(fm.List,{items:d})))),a.createElement(r.Mount,{when:s},a.createElement(a.Fragment,null,a.createElement(fm,{children:c,type:"paragraphs"}),a.createElement(om,{size:4}),a.createElement(fm,{children:u,type:"paragraphs"}))))}function XG({handleButtonClick:e,style:t}){const{t:n}=ec("InboxMessageDetailsRoute"),{t:r}=ec("InboxMessageDetailsRoute.narration"),l=n(".accept"),o=n(".reject"),i=n(".viewProfile");return a.createElement(a.Fragment,null,a.createElement(RP.Item,null,a.createElement(wl,{data:t},(t=>{const n=a.createElement(mg,{narrationSuffix:r(".buttonSiblings",["1","3"]),inputLegend:l,isElevated:!0,variant:"primary",onClick:()=>e(zG.Accept),"data-testid":"message-side-menu-accept"},l);return t===vc.Realms?a.createElement(sr,{collection:LD},n):n}))),a.createElement(om,{size:2}),a.createElement(RP.Item,null,a.createElement(mg,{narrationSuffix:r(".buttonSiblings",["2","3"]),inputLegend:o,onClick:()=>e(zG.Reject),isElevated:!0,variant:"secondary","data-testid":"message-side-menu-reject"},o)),a.createElement(om,{size:2}),a.createElement(RP.Item,null,a.createElement(mg,{narrationSuffix:r(".buttonSiblings",["3","3"]),inputLegend:i,onClick:()=>e(zG.ViewProfile),isElevated:!0,variant:"secondary","data-testid":"message-side-menu-view-profile"},i)))}function YG({handleButtonClick:e}){const{t}=ec("InboxMessageDetailsRoute"),{t:n}=ec("InboxMessageDetailsRoute.narration"),r=t(".join");return a.createElement(RP.Item,null,a.createElement(sr,{collection:LD},a.createElement(mg,{narrationSuffix:n(".buttonSiblings",["1","1"]),gamepadIndex:2,inputLegend:r,onClick:()=>e(zG.Join),isElevated:!0,variant:"primary"},r)))}!function(e){e[e.ManageShowcased=0]="ManageShowcased",e[e.DeviceStorage=1]="DeviceStorage",e[e.DeleteScreenshots=2]="DeleteScreenshots"}(UG||(UG={})),function(e){e[e.Accept=0]="Accept",e[e.Reject=1]="Reject",e[e.Join=2]="Join",e[e.Back=3]="Back",e[e.ViewProfile=4]="ViewProfile"}(zG||(zG={}));const qG=n.p+"assets/default-f0026.png";function QG({message:e}){const t=(0,r.useFacetMap)((e=>{var t,n;return null!==(t=null===(n=e.images[0])||void 0===n?void 0:n.isLoaded)&&void 0!==t&&t}),[],[e]),n=(0,r.useFacetMap)((e=>{var t,n;return""!=(null===(t=e.images[0])||void 0===t?void 0:t.nonAnimatedUrl)?null===(n=e.images[0])||void 0===n?void 0:n.nonAnimatedUrl:qG}),[],[e]),l=(0,r.useFacetMap)((e=>{var t,n;return""!=(null===(t=e.images[0])||void 0===t?void 0:t.animatedUrl)?null===(n=e.images[0])||void 0===n?void 0:n.animatedUrl:qG}),[],[e]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:t},a.createElement(a.Fragment,null,a.createElement(om,{size:5}),a.createElement("div",{className:"r1xtb"},a.createElement(iI,{gifSrc:l,imageSrc:n,aspectRatio:Mp.AspectRatio["16:9"]})),a.createElement(om,{size:5}))),a.createElement(VG,{message:e}))}function JG({item:e,index:t}){const{t:n}=ec("InboxContentItem"),l=m(),o=(0,r.useFacetCallback)((e=>()=>{l.push("/marketplace?productId="+encodeURIComponent(e.id)+"&origin=Inbox")}),[l],[e]),i=(0,r.useFacetMap)((e=>e.button.description),[],[e]),c=(0,r.useFacetMap)((e=>e.button.text),[],[e]),s=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.image.isLoaded)&&void 0!==t&&t}),[],[e]),u=(0,r.useFacetMap)((e=>{var t,n;return(null===(t=e.image)||void 0===t?void 0:t.animatedUrl)||(null===(n=e.image)||void 0===n?void 0:n.nonAnimatedUrl)||qG}),[],[e]),d=(0,r.useFacetMap)((e=>{var t,n;const a=null!==(t=null===(n=e.image)||void 0===n?void 0:n.imageSize)&&void 0!==t?t:{width:16,height:9};return a.width/a.height*5.2+"rem"}),[5.2],[e]),p=(0,r.useFacetMap)(((e,t)=>[t,e].filter((e=>null!=e&&""!==e)).join(" . ")),[],[i,c]),f=Fr("neutral");return a.createElement("fast-div",{className:"LUNVz"},a.createElement(TM,{gamepadIndex:t},a.createElement(TM.Action,{inputLegend:n(".view"),narrationText:p,onClick:o,gamepadIndex:0,testId:`message-content-list-cta-${t}`},a.createElement(r.Mount,{when:s},a.createElement(TM.Cell,null,a.createElement(Mp,{src:u,height:"5.2rem",width:d,className:Dr()(f.border.base,"ygS1r")}))),a.createElement(om,{size:1}),a.createElement(TM.Main,null,a.createElement(fm,{type:"body"},c),a.createElement(fm,{type:"captionShort",variant:"dimmer"},i)))))}function ZG({message:e}){const t=(0,r.useFacetMap)((e=>e.content),[],[e]);return a.createElement(a.Fragment,null,a.createElement(fm,{type:"body",align:"left",variant:"dimmer",children:t}),a.createElement(om,{size:2}),a.createElement(r.Map,{array:(0,r.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.items)&&void 0!==t?t:[]}),[],[e])},((e,t)=>a.createElement(JG,{item:e,index:t}))))}function e$({message:e,children:t,title:n=(0,r.createStaticFacet)(""),imageIndex:l=0,fullHeight:o=!0,defaultImage:i=(0,r.createStaticFacet)(""),spacingAroundSideMenu:c=null,hideInputLegendSpace:s=!1}){const{t:u}=ec("InboxMessageDetailsRoute"),d=(0,r.useFacetMap)(((e,t)=>""!=t?t:e.title),[],[e,n]),m=(0,r.useFacetMap)((e=>u(".from",[e.sender])),[u],[e]),p=(0,r.useFacetMap)((e=>e.dateString),[],[e]),f=(0,r.useFacetMap)((e=>{var t,n;return null!==(t=null===(n=e.images[l])||void 0===n?void 0:n.isLoaded)&&void 0!==t&&t}),[l],[e]),g=(0,r.useFacetMap)(((e,t,n)=>{var a,r;return""!=(null===(a=e.images[l])||void 0===a?void 0:a.nonAnimatedUrl)&&n?null===(r=e.images[l])||void 0===r?void 0:r.nonAnimatedUrl:t}),[l],[e,i,f]),E=(0,r.useFacetMap)(((e,t,n)=>{var a,r;return""!=(null===(a=e.images[l])||void 0===a?void 0:a.animatedUrl)&&n?null===(r=e.images[l])||void 0===r?void 0:r.animatedUrl:t}),[l],[e,i,f]),h=(0,r.useFacetMap)((e=>e.buttons),[],[e]),v=(0,r.useFacetMap)(((e,t,n)=>[t,n,e.dateString].join(" . ")),[],[e,d,m,n]),b=(0,r.useFacetMap)((e=>e.style),[],[e]);return a.createElement(RP,{gamepadIndex:1,fullHeight:o,narrationPrefix:v,spacingAroundSideMenu:c,hideInputLegendSpace:s},a.createElement(RP.Item,null,a.createElement(iI,{className:"UEFZY",gifSrc:E,imageSrc:g,aspectRatio:Mp.AspectRatio["16:9"]}),a.createElement(om,{size:2})),a.createElement(RP.Item,null,a.createElement(fm,{type:"body",variant:"stronger"},d),a.createElement(fm,{type:"captionShort",variant:"dimmer"},m),a.createElement(fm,{type:"captionShort",variant:"dimmer"},p)),a.createElement(r.Map,{array:h},((t,n)=>a.createElement(t$,{message:e,button:t,index:n,style:b}))),t)}function t$({message:e,button:t,index:n,style:l}){const o=m(),i=(0,r.useFacetCallback)(((e,t,n)=>()=>{null!=t&&(n.reportClick(e.id,e.instanceId,t.id),t.action===hc.EXTERNAL?t.openExternalLink():t.action===hc.INTERNAL&&o.push(t.link))}),[o],[e,t,(0,r.useSharedFacet)(Ui)]),c=(0,r.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.text)&&void 0!==t?t:""}),[],[t]),s=(0,r.useFacetMap)((e=>e.action===hc.EXTERNAL||e.action===hc.INTERNAL),[],[t]);return a.createElement(r.Mount,{when:s},a.createElement(RP.Item,null,a.createElement(om,{size:2}),a.createElement(wl,{data:t},(e=>a.createElement(wl,{data:l},(t=>{const r=a.createElement(mg,{"data-testid":"message-side-menu-cta",inputLegend:c,gamepadIndex:n+1,onClick:i,Icon:()=>a.createElement(jB,{button:e}),variant:"primary",narrationPrefix:c},c);return t===vc.Realms?a.createElement(sr,{collection:LD},r):r}))))))}const n$=n.p+"assets/realmsDefaultImage-bd8bc.png",a$=n.p+"assets/gameInviteDefaultImage-60630.png",r$=n.p+"assets/ErrorImage-e99c7.png";let l$;function o$({errorType:e}){const{t}=tc("InboxMessageDetailsError"),n=Wb({wide:8,narrow:6,width:260}),l=(0,r.useFacetWrap)(e),o=(0,r.useFacetMap)((e=>e?"pcxQR":"pd8SA"),[],[n]),i=(0,r.useFacetMap)((e=>e===l$.MessageNotFound?a.createElement(cb,{title:t(".couldntFind"),text:t(".details"),imgSrc:r$,imgClass:o}):a.createElement("div",null)),[o,t],[l]);return a.createElement(wl,{data:i},(e=>e))}function i$(){return a.createElement(Yv,null,a.createElement(Yv.Row,null,a.createElement(Yv.Column,{narrowSize:0,wideSize:1}),a.createElement(Yv.Column,{narrowSize:8,wideSize:10},a.createElement(om,{size:4}),a.createElement(o$,{errorType:l$.MessageNotFound})),a.createElement(Yv.Column,{narrowSize:0,wideSize:1})))}function c$({message:e}){const{t}=ec("InboxMessageDetailsRoute"),n=(0,r.useFacetMap)((e=>e.inboxCategory==Li.INVITES),[],[e]),l=(0,r.useFacetMap)((e=>e.invType===Ri.GAME),[],[e]),o=(0,r.useFacetMap)((e=>e.template==Di.IMAGETEXT||e.template==Di.HEROIMAGECTA),[],[e]),i=(0,r.useFacetMap)((e=>e.template==Di.CONTENTLISTCTA||e.template==Di.CONTENTLISTNOCTA),[],[e]),c=(0,r.useFacetMap)((e=>e.template==Di.IMAGETNAILCTA),[],[e]);return(0,r.useFacetEffect)(((e,t)=>{e.read||e.inboxCategory==Li.INVITES||t.setNotificationRead(e.instanceId)}),[],[e,(0,r.useSharedFacet)(Ui)]),a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:n},a.createElement(u$,{message:e,content:KG,title:(0,r.useFacetMap)((e=>t(e?".gameInvite":".realmInvite")),[t],[l]),imageDefault:(0,r.useFacetMap)((e=>e?a$:n$),[],[l])},a.createElement($G,{message:e}))),a.createElement(r.Mount,{when:n,condition:!1},a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:o},a.createElement(u$,{message:e,content:VG})),a.createElement(r.Mount,{when:c},a.createElement(u$,{message:e,content:QG,imageIndex:1})),a.createElement(r.Mount,{when:i},a.createElement(u$,{message:e,content:ZG})))))}function s$(){const{t:e}=ec("InboxMessageDetailsRoute"),t=m(),{messageId:n,instanceId:l}=qr(),o=p(),i=(0,r.useFacetMap)(((e,t)=>t?function(e,t,n){if(null!=n)return e.find((e=>e.id===t&&e.instanceId===n));{const n=e.filter((e=>e.id===t)).sort(((e,t)=>t.dateReceived-e.dateReceived));return n.length>0?n[0]:void 0}}(e.inboxMessages,n,l):r.NO_VALUE),[l,n],[(0,r.useSharedFacet)(Ui),o]),c=(0,r.useFacetMap)((e=>null==e),[],[i]),s=(0,r.useFacetMap)((t=>e(t?".inbox":".details")),[e],[c]);return a.createElement(r.Mount,{when:o},a.createElement(Iv,null,a.createElement($v,{onBackButton:t.goBack,center:a.createElement(fm,{type:"header5A"},s),gamepadAlias:"inbox-message-details-route",delegateByAlias:"inbox-message-details-scroll",footer:a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:1})})},a.createElement(r.With,{data:i},(e=>a.createElement(c$,{message:e}))),a.createElement(r.Mount,{when:c},a.createElement(i$,null)))))}function u$({children:e,message:t,content:n,title:l=(0,r.createStaticFacet)(""),imageIndex:o=0,imageDefault:i=(0,r.createStaticFacet)(qG)}){const c=(0,a.useRef)(null),[s,u]=function(e){const t=(0,a.useRef)(!0),[n,l]=(0,a.useState)([]),o=(0,r.useFacetMap)(((e,t)=>[0,...e].map((e=>e*t))),[],[(0,r.useFacetWrap)([102]),(0,a.useContext)(rd)]);return(0,r.useFacetEffect)((e=>{const n=()=>{const t=window.innerWidth;return e.map(((e,n,a)=>n===a.length-1?t>=e:t>=e&&t<a[n+1]))},a=()=>l(n());return t.current&&(l(n()),t.current=!1),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)}),[l],[o]),n}(),d=Fr(),m="neutral",p=Dr()("oXi1N",d[m].background.base,{[`${d[m].border.base}`]:null!=d[m].border.base&&u,gvK9h:u}),f=(0,r.useFacetMap)((e=>e.content),[],[t]);return a.createElement(Yv,{noGutters:s,narrowBreakpointWidth:102},a.createElement(Yv.Row,{fullHeight:s},a.createElement(Yv.Column,{wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{wideSize:3,narrowSize:3},a.createElement(Fp,{containerRef:c},a.createElement("div",{ref:c,className:"lFCLc"},a.createElement(e$,{message:t,imageIndex:o,fullHeight:s,children:e,title:l,defaultImage:i,spacingAroundSideMenu:s?null:a.createElement(om,{size:2}),hideInputLegendSpace:!0})))),a.createElement(Yv.Column,{wideSize:7,narrowSize:5},a.createElement(Ef,{emptyFocusableNarrationText:f,floating:s,scrollIntoViewAlign:"start"},a.createElement("div",{className:Dr()("UQoox",s?"":"nA80N","RGwoL")},a.createElement(wf,{text:f},a.createElement("div",{className:Dr()(p)},n({message:t})))))),a.createElement(Yv.Column,{wideSize:1,narrowSize:0})))}!function(e){e[e.NoError=0]="NoError",e[e.MessageNotFound=1]="MessageNotFound"}(l$||(l$={}));const d$=n.p+"assets/screenshot_1-48404.jpg",m$=n.p+"assets/screenshot_2-7c721.jpg",p$=n.p+"assets/screenshot_3-9dd41.jpg",f$=n.p+"assets/screenshot_4-72ff9.jpg",g$=n.p+"assets/screenshot_5-5636d.jpg",E$=n.p+"assets/screenshot_6-380c0.jpg",h$=n.p+"assets/screenshot_7-6cfec.jpg",v$=n.p+"assets/screenshot_8-b5f24.jpg";function b$(e){return(0,r.useFacetMap)((e=>{const t=[d$,m$,p$,f$,g$,E$,h$,v$];let n=0;for(let t=0;t<e.length;t++)n+=e.charCodeAt(t);return t[n%t.length]}),[],[e])}const y$="pD39N";function F$(){return F$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},F$.apply(this,arguments)}function S$({variant:e,featuredScreenshot:t,featuredScreenshotEmptyImgSrc:n,showFeaturedSpinner:l=!1,showEmptyShowcasedSpinner:o=!1,nonFeaturedScreenshots:i,onScreenshotSlotClick:c}){const{t:s}=tc("ScreenshotShowcaseGrid.narration"),u=sd(),d=(0,r.useFacetWrap)(5),m=(0,r.useFacetWrap)(l),p=(0,r.useFacetWrap)(o),f=(0,r.useFacetMap)((e=>null==e),[],[t]),g=(0,r.useFacetMap)((e=>e.length>4?4:e.length),[],[i]),E=(0,r.useFacetCallback)(((e,t)=>n=>{0!==n?t.length>0&&n-1<t.length?c(n,t[n-1]):c(n):c(0,e)}),[c],[t,i]),h="narrow"!==u?{height:9.4,width:16}:void 0,v="manage"===e?s(".featuredScreenshotHint"):"",b="manage"===e?s(".showcasedScreenshotHint"):"",y="manage"===e?[s(".gridTitle"),s(".gridRole"),s(".gridHint")].join(" . "):[s(".gridTitle"),s(".gridRole")].join(" . "),F=(0,r.useFacetMap)(((t,n)=>Array.from({length:4-t},((a,r)=>{const l="manage"===e&&0===r?"manage":"view",o=1+t+r;return{variant:l,index:o,onClick:()=>E(o),loading:0===r&&n,narrationSuffix:"manage"===l?b:"",gamepadAlias:`showcase-grid-item-${o}`}}))),[e,E,b],[g,p]);return a.createElement(wf,{text:y},a.createElement("div",{className:Dr()({MR_RN:"narrow"!==u,zPuR7:"narrow"===u})},a.createElement("div",{className:Dr()({a61Lz:"narrow"!==u})},a.createElement(r.With,{data:t},(t=>a.createElement(KH,{length:d,screenshot:t,index:0,onScreenshotClicked:()=>E(0),variant:e,loading:m,gamepadAlias:"showcase-grid-item-0",narrationSuffix:v}))),a.createElement(r.Mount,{when:f},a.createElement(KH.Empty,{imgSrc:n,length:d,index:0,onClick:()=>E(0),variant:e,loading:m,gamepadAlias:"showcase-grid-item-0",narrationSuffix:v,featured:!0}))),"narrow"===u&&a.createElement(om,{size:2}),a.createElement("div",{className:Dr()("A8368",{zlnAP:"narrow"!==u})},a.createElement(r.Map,{array:i},((t,n)=>n>=4?null:a.createElement("div",{className:y$},a.createElement(KH,{length:d,screenshot:t,onScreenshotClicked:()=>E(n+1),variant:e,index:n+1,gamepadAlias:`showcase-grid-item-${n+1}`,narrationSuffix:b,imageAspectRatioOverride:h})))),a.createElement(wl,{data:F},(e=>a.createElement(a.Fragment,null,e.map(((e,t)=>a.createElement("div",{className:y$,key:t},a.createElement(KH.Empty,F$({length:d,imageAspectRatioOverride:h},e)))))))))))}function C$(e,t){return`/showcase-details/${e}?${SG(t)}`}function M$(){const{t:e}=ec("ScreenshotShowcaseRoute"),t=m(),n=(0,r.useSharedFacet)(Ds),l=E(),o=p(),i=(0,r.useFacetCallback)((e=>t=>{e.loadGallery(t),e.loadFeaturedScreenshot(t)}),[],[n]);(0,r.useFacetEffect)(((e,t)=>{var n;e.has("xuid")&&t&&i(null!==(n=e.get("xuid"))&&void 0!==n?n:"")}),[i],[l,o]);const c=(0,r.useFacetMap)((t=>{var n;return e(".header",[null!==(n=t.get("playerName"))&&void 0!==n?n:""])}),[e],[l]),s=(0,r.useFacetMap)((e=>e.screenshots.slice().sort(((e,t)=>e.lastModifiedTime-t.lastModifiedTime))),[],[n]),u=(0,r.useFacetMap)((e=>e.isLoadingScreenshots||e.isLoadingFeaturedScreenshot),[],[n]),d=(0,r.useFacetMap)((e=>e.find((e=>e.featured))),[],[s]),f=(0,r.useFacetMap)((e=>e.filter((e=>!e.featured))),[],[s]),g=b$((0,r.useFacetMap)((e=>{var t;return null!==(t=e.get("xuid"))&&void 0!==t?t:""}),[],[l])),h=(0,r.useFacetCallback)((e=>t=>{e.loadShowcasedScreenshot(t)}),[],[n]),v=(0,r.useFacetCallback)((e=>(n,a)=>{if(null!=a){a.showcased&&h(a.id);const n=C$(a.id,e);t.push(n)}}),[t,h],[CG()]);return a.createElement(AP,{title:c,screenAnalyticsId:"ScreenshotShowcase",gamepadAlias:"screenshot-showcase-route",delegateByAlias:"screenshot-showcase-scroll-view"},(()=>a.createElement(Yv,null,a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:12,narrowSize:8},a.createElement(r.Mount,{when:u},a.createElement(om,{size:2})),a.createElement(Ef,{loading:u,flexShrinkWrapper:!0,delegateFocusFromMemory:!0,gamepadAlias:"screenshot-showcase-scroll-view",delegateFocusByAlias:"showcase-grid-item-0"},a.createElement(om,{size:2}),a.createElement(S$,{variant:"view",featuredScreenshot:d,featuredScreenshotEmptyImgSrc:g,nonFeaturedScreenshots:f,onScreenshotSlotClick:v}),a.createElement(om,{size:2})),a.createElement(r.Mount,{when:u},a.createElement(om,{size:2})))))))}const w$=n.p+"assets/trash-4fd68.png",k$=n.p+"assets/arrowForwardWhite-9acff.png";function T$(){return T$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T$.apply(this,arguments)}const I$=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("XYqmB",t);return a.createElement(Mp,T$({},n,{className:r,src:k$,imageRendering:"pixelated"}))},P$=e=>({messageId:e.id,messageType:e.inboxCategory,messageRead:e.read.toString()}),x$="delete-inbox-message-confirm",O$=Km((function({item:e}){const{t}=ec("InboxRoute.deleteConfirmation"),n=$m(),l=Ju(),o=(0,r.useFacetCallback)((t=>()=>{t.deleteNotification(e.id,e.instanceId),l({button:"MessageAction_Delete",screen:"Inbox",details:P$(e)})}),[e,l],[(0,r.useSharedFacet)(Ui)]);return a.createElement(vE,{defaultFocusAlias:x$},a.createElement(vE.Header,{onClose:n},t(".header")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:t(".dialogText")},t(".dialogText"))),a.createElement(vE.Buttons,null,a.createElement(mg,{variant:"destructive",gamepadIndex:0,gamepadAlias:x$,inputLegend:t(".deleteConfirm"),autofocus:!0,onClick:()=>{o(),n()}},t(".deleteConfirm")),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:1,inputLegend:t(".cancel"),onClick:n},t(".cancel"))))})),A$="invite-expired-modal-ok",N$=Km((({item:e,onClose:t})=>{const{t:n}=ec("Realms.InviteExpiredModals"),l=$m(),o=(0,r.useFacetCallback)(((e,n)=>()=>{e.rejectInvitation(n.instanceId),t(),l()}),[l,t],[(0,r.useSharedFacet)(Ui),e]);return a.createElement(vE,{defaultFocusAlias:A$},a.createElement(vE.Header,null,n(".header")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:n(".message")},n(".message"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:A$,gamepadIndex:0,inputLegend:n(".ok"),variant:"secondary",onClick:o},n(".ok"))))}));function R$({invite:e,daysLeft:t}){const{t:n}=ec("InboxRoute"),l=(0,r.useFacetMap)(((e,t)=>{switch(e.invStatus){case _i.ACCEPTED:return"primaryTint";case _i.REJECTED:return"neutral100";case _i.EXPIRED:return"noticeTint";case _i.NONE:if(null!=t&&e.inboxCategory!==Li.INVITES)return t<=0?"noticeTint":"informativeTint";default:return"noticeTint"}}),[],[e,t]),o=(0,r.useFacetMap)(((e,t)=>{switch(e.invStatus){case _i.ACCEPTED:return n(".accepted");case _i.REJECTED:return n(".rejected");case _i.EXPIRED:return n(".expired");default:return null!=t&&e.inboxCategory!==Li.INVITES?t<=0?n(".expired"):t<1?n(".endsToday"):n(".endsSoon",[`${t}`]):""}}),[n],[e,t]),i=(0,r.useFacetMap)(((e,t)=>e.invStatus!=_i.NONE||null!=t),[],[e,t]);return a.createElement(r.Mount,{when:i},a.createElement(cy,{role:l},o))}function _$({item:e,gamepadIndex:t}){return a.createElement(TM,{gamepadIndex:t,defaultFocusedChildBehavior:"grid"},a.createElement(L$,{item:e,gamepadIndex:0}),a.createElement(D$,{item:e,gamepadIndex:1}))}const L$=({item:e})=>{const t=m(),{t:n}=ec("InboxListItem"),{t:l}=ec("InboxListItem.narration"),o=(0,r.useFacetMap)((e=>e.expiryDaysLeft),[],[e]),i=Ju(),c=(0,r.useFacetCallback)((e=>()=>{i({button:"MessageAction_View",screen:"Inbox",details:P$(e)}),t.push(`/message/${e.id}/${e.instanceId}/`)}),[t,i],[e]),s=(0,r.useFacetMap)((e=>e.title),[],[e]),u=(0,r.useFacetMap)((e=>e.read),[],[e]),d=(0,r.useFacetMap)((e=>e.sender),[],[e]),p=(0,r.useFacetMap)((e=>e.inboxCategory),[],[e]),f=(0,r.useFacetMap)(((e,t,n,a)=>[e,t,l(!1===n?".unreadPost":".readPost"),""!==a?l(".postedBy",[a]):"",e!==Li.INVITES?l(".buttonSiblings",["1","2"]):l(".buttonSiblings",["1","3"])].filter((e=>null!=e&&""!==e)).join(" . ")),[l],[p,s,u,d]);return a.createElement(TM.Action,{inputLegend:n(".view"),narrationText:f,onClick:c,gamepadIndex:0},a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>e.invStatus===_i.NONE&&e.invType!=Ri.NONE||!e.read&&e.inboxCategory!=Li.INVITES),[],[e])},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(TM.Cell,null,a.createElement(Ny,null)),a.createElement(om,{size:1}))),a.createElement(TM.Main,null,a.createElement(fm,{type:"body"},a.createElement(am,null,(0,r.useFacetMap)((e=>e.title),[],[e]))),a.createElement(fm,{type:"captionShort",variant:"dimmer"},a.createElement(am,null,(0,r.useFacetMap)((e=>e.sender),[],[e])))),a.createElement(TM.Cell,null,a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>e.inboxCategory!=Li.INVITES),[],[e])},a.createElement(fm,{type:"body",variant:"dimmer"},a.createElement(am,null,(0,r.useFacetMap)((e=>e.dateString),[],[e])))),a.createElement(R$,{invite:e,daysLeft:o})),a.createElement(om,{size:1}))},D$=({item:e})=>{const{t}=ec("InboxListItem"),{t:n}=ec("InboxListItem.narration"),l=Fr("inherit"),o=O$.useShowModal(),i=Ju(),c=GG((0,r.useFacetMap)((e=>e.worldId),[],[e])),s=m(),u=(0,r.useSharedFacet)(Ui),[d,p]=(0,r.useFacetState)(!1),f=(0,r.useFacetCallback)(((e,t,n)=>()=>{n||(t.acceptInvitation(e.instanceId),p(!0),i({button:"MessageAction_AcceptInvite",screen:"Inbox",details:P$(e)}))}),[i,p],[e,u,d]),g=(0,r.useFacetCallback)(((e,t)=>()=>{t.rejectInvitation(e.instanceId),i({button:"MessageAction_RejectInvite",screen:"Inbox",details:P$(e)})}),[i],[e,u]),E=(0,r.useFacetCallback)(((e,t)=>()=>{s.push(t),i({button:"MessageAction_Realms",screen:"Inbox",details:P$(e)})}),[s,i],[e,c]),h=(0,r.useFacetCallback)((e=>()=>{o({item:e})}),[o],[e]),v=(0,r.useFacetMap)((e=>e.invStatus==_i.JOIN&&e.invType==Ri.REALMS||e.invStatus==_i.ACCEPTED&&e.invType==Ri.REALMS),[],[e]),b=(0,r.useFacetMap)((e=>e?["3","3"]:["2","2"]),[],[v]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>e.invStatus==_i.NONE&&e.invType!=Ri.NONE),[],[e])},a.createElement(a.Fragment,null,a.createElement(TM.AdditionalAction,{gamepadIndex:0,narrationText:[n(".accept"),n(".buttonSiblings",["2","3"])].join(" . "),inputLegend:t(".accept"),onClick:f},a.createElement(Nf,null),a.createElement(om,{size:1}),a.createElement(fm,{type:"captionTiny"},t(".accept"))),a.createElement(TM.AdditionalAction,{gamepadIndex:3,narrationText:[n(".reject"),n(".buttonSiblings",["3","3"])].join(" . "),inputLegend:t(".reject"),onClick:g},a.createElement(Np,null),a.createElement(om,{size:1}),a.createElement(fm,{type:"captionTiny"},t(".reject"))))),a.createElement(r.Mount,{when:v},a.createElement(TM.AdditionalAction,{gamepadIndex:1,inputLegend:t(".join"),narrationText:[t(".join"),n(".buttonSiblings",["2","3"])].join(" . "),onClick:E},a.createElement(I$,null),a.createElement(om,{size:1}),a.createElement(fm,{type:"captionTiny"},t(".join")))),a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>e.invStatus!=_i.NONE||e.invType==Ri.NONE),[],[e])},a.createElement(TM.AdditionalAction,{gamepadIndex:3,narrationText:(0,r.useFacetMap)((e=>[n(".delete"),n(".buttonSiblings",e)].join(" . ")),[n],[b]),inputLegend:t(".delete"),onClick:h},a.createElement(Mp,{src:w$,className:Dr()("gRR2U",l.icon)}),a.createElement(om,{size:1}),a.createElement(fm,{type:"captionTiny"},t(".delete")))),a.createElement(r.Mount,{when:(0,r.useFacetMap)(((e,t)=>t&&e.invStatus===_i.EXPIRED),[],[e,d])},a.createElement(N$.Component,{item:e,onClose:()=>p(!1)})))},W$=n.p+"assets/Feedback-f0949.png",B$=n.p+"assets/NoNews-191af.png",U$=n.p+"assets/NoRealmsInvites-3af80.png",z$=n.p+"assets/NoRealmsNews-ed604.png",j$="_7QZv",H$="NXvDA";function V$({data:e}){const t=(0,r.useFacetMap)((e=>e.history.length>0||e.recent.length>0),[],[e]),n=(0,r.useFacetMap)((e=>e.category==Li.FEEDBACK),[],[e]),l=(0,r.useFacetMap)((e=>e.category),[],[e]),{t:o}=ec("InboxSectionList"),i=(0,r.useFacetMap)((e=>e.realmsSubscriber),[],[(0,r.useSharedFacet)(Ui)]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:n},a.createElement($$,null)),a.createElement(r.Mount,{when:t},a.createElement(a.Fragment,null,a.createElement(pw,{gamepadIndex:0,data:(0,r.useFacetMap)((e=>[{role:"neutral",title:o(".recent"),data:e.recent},{role:"neutral",title:o(".history"),data:e.history}]),[o],[e]),renderSectionHeader:(e,t)=>a.createElement(eF,{role:t,label:e}),sectionSeparator:a.createElement(om,{size:4}),renderItem:({itemFacet:e,index:t})=>a.createElement(_$,{item:e,gamepadIndex:t}),footer:a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:1})})}))),a.createElement(r.Mount,{when:t,condition:!1},a.createElement(K$,{value:l,realmsSubscriber:i})))}function G$({value:e,t,historyAPI:n,state:r}){return a.createElement(wl,{data:e},(e=>{switch(e){case Li.NEWS:return a.createElement(cb,{autofocus:!0,gamepadIndex:0,title:t(".emptyNewsTitle"),text:t(".emptyNewsText"),imgSrc:B$,imgClass:j$});case Li.INVITES:return a.createElement(cb,{autofocus:!0,gamepadIndex:0,title:t(".emptyInvitesTitle"),text:t(".emptyInvitesText"),imgSrc:U$,imgClass:j$});case Li.REALMS:return a.createElement(cb,{autofocus:!0,gamepadIndex:0,title:t(".emptyRealmSubTitle"),text:t(".emptyRealmSubText"),imgSrc:z$,imgClass:j$});case Li.MARKETPLACEPASS:return a.createElement(wl,{data:r},(e=>"subscribePromptWithLearnMoreButton"==e?a.createElement(cb,{autofocus:!0,gamepadIndex:0,title:t(".emptyMarketplacePassSubscribePromptTitle"),text:t(".emptyMarketplacePassSubscribePromptText"),imgSrc:z$,imgClass:j$,buttons:[{text:t(".emptyMarketplacePassLearn"),inputLegend:t(".select"),onClick:()=>n.push("/csb-pdp/?tab=csb"),variant:"primary"}]}):"subscribePrompt"==e?a.createElement(cb,{autofocus:!0,gamepadIndex:0,title:t(".emptyMarketplacePassSubscribePromptTitle"),text:t(".emptyMarketplacePassSubscribePromptText"),imgSrc:z$,imgClass:j$}):a.createElement(cb,{autofocus:!0,gamepadIndex:0,title:t(".emptyMarketplacePassTitle"),text:t(".emptyMarketplacePassText"),imgSrc:B$,imgClass:j$})));case Li.FEEDBACK:return a.createElement(cb,{autofocus:!0,gamepadIndex:0,title:t(".feedbackSubTitle"),text:"",imgSrc:W$,imgClass:j$});default:return a.createElement(cb,{autofocus:!0,gamepadIndex:0,title:t(".emptyMessageTitle"),text:t(".emptyMessageText"),imgSrc:B$,imgClass:j$})}}))}function $$(){const{t:e}=ec("InboxRoute"),t=(0,r.useSharedFacet)(yu),n=(0,r.useFacetCallback)((e=>()=>e.openLink(bu.PlayerFeedbackMain)),[],[t]),l=(0,r.useFacetCallback)((e=>()=>e.openLink(bu.PlayerFeedbackIdeas)),[],[t]);return a.createElement(a.Fragment,null,a.createElement("div",{className:"cnpc6"},a.createElement("div",{className:H$},a.createElement(mg,{inputLegend:e(".feedbackMainButton"),onClick:n,Icon:nM.ExternalLink,gamepadIndex:0},e(".feedbackMainButton"))),a.createElement(om,{size:2}),a.createElement("div",{className:H$},a.createElement(mg,{inputLegend:e(".feedbackIdeasButton"),onClick:l,Icon:nM.ExternalLink,gamepadIndex:1},e(".feedbackIdeasButton")))),a.createElement(om,{size:2}))}function K$({value:e,realmsSubscriber:t}){const{t:n}=ec("InboxRoute"),l=Yr(),o=(0,r.useFacetMap)((e=>e.platform===Ke.AMAZON_HANDHELD),[],[(0,r.useSharedFacet)(il)]),i=(0,r.useFacetMap)((e=>e.marketplacePassSubscriber),[],[(0,r.useSharedFacet)(Ui)]),c=(0,r.useFacetMap)((e=>e.isAnyBeta),[],[(0,r.useSharedFacet)(di)]),s=(0,r.useFacetMap)(((e,t,n)=>t||e?t?"general":"undefined":n?"subscribePrompt":"subscribePromptWithLearnMoreButton"),[],[o,i,c]),u=(0,r.useFacetMap)(((e,t)=>e==Li.REALMS&&!t),[],[e,t]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:u,condition:!0},a.createElement(a.Fragment,null,a.createElement(sr,{collection:LD},a.createElement(cb,{autofocus:!0,gamepadIndex:0,title:n(".emptyRealmNoSubTitle"),text:n(".emptyRealmNoSubText"),imgSrc:z$,imgClass:j$,buttons:[{text:n(".learn"),inputLegend:n(".select"),onClick:()=>l.push("/realms-plus-pdp?tab=default"),variant:"primary"}]})))),a.createElement(r.Mount,{when:u,condition:!1},a.createElement(a.Fragment,null,a.createElement(G$,{value:e,t:n,historyAPI:l,state:s}))))}const X$=n.p+"assets/Feedback-ecfce.png",Y$=n.p+"assets/Invites-6a622.png",q$=n.p+"assets/MarketplacePass-8eb08.png",Q$=n.p+"assets/News-f8148.png",J$=n.p+"assets/Realms-c7419.png";function Z$(e){switch(e){case Li.FEEDBACK:return X$;case Li.INVITES:return Y$;case Li.MARKETPLACEPASS:return q$;case Li.NEWS:return Q$;case Li.REALMS:return J$;default:return""}}function eK(){const{t:e}=ec("InboxRoute"),t=Tv(Ii.InboxServiceCategoriesEnabled)?ji:zi,n=(0,r.useFacetMap)((e=>Qw(e.platform)),[],[(0,r.useSharedFacet)(il)]),l=(0,r.useFacetMap)((e=>e.platform===Ke.AMAZON_HANDHELD),[],[(0,r.useSharedFacet)(il)]),o=(0,r.useFacetMap)((e=>e.marketplacePassSubscriber),[],[(0,r.useSharedFacet)(Ui)]),i=(0,r.useFacetMap)(((t,n,a,r,l)=>function(e,t,n,a,r){const l=[];return a.forEach((a=>{const o=a.category===Li.INVITES?r.showInvitesBadges:r.showMessageBadges;(a.category!==Li.MARKETPLACEPASS||t)&&(a.category!==Li.FEEDBACK||n)&&l.push({displayName:a.name?a.name:e("."+a.category),imageUrl:a.imageUrl?a.imageUrl:Z$(a.category),imageId:a.category+"Icon",value:a.category,count:a.unreadCount,shouldShowBadge:o,telemetryButtonName:"Inbox_"+a.category+"_Button"})})),l}(e,l||!r,!a,t,{showMessageBadges:n.showMessageBadges,showInvitesBadges:n.showInvitesBadges})),[e],[(0,r.useSharedFacet)(t),(0,r.useSharedFacet)(Hi),n,l,o]),c=(0,r.useFacetMap)(((e,t)=>0===e.length||t),[],[i,(0,r.useIsDeferring)()]);return a.createElement(RP,{loading:c},a.createElement(RP.ItemList,{items:i,renderItem:tK}))}function tK({item:e,gamepadIndex:t}){const n=m(),{t:l}=ec("InboxRoute"),o=qr(),i=(0,r.useFacetMap)((e=>e.displayName),[],[e]),c=Ju(),s=(0,r.useFacetMap)((e=>o.tab===e.value),[o],[e]);return a.createElement(r.DeferredMount,null,a.createElement(RP.ListItem,{narrationText:i,onSelect:(0,r.useFacetCallback)((e=>()=>{e.value!==o.tab&&(c({button:e.telemetryButtonName,screen:"Inbox"}),n.replace(`/inbox/${e.value}`))}),[o,n,c],[e]),value:(0,r.useFacetMap)((e=>e.value),[],[e]),selected:s,gamepadIndex:t,inputLegend:l(".select")},a.createElement(RP.ItemCell,null,a.createElement(uO,{iconSrc:(0,r.useFacetMap)((e=>e.imageUrl),[],[e]),selected:s})),a.createElement(RP.ItemMain,null,a.createElement(fm,{type:"body"},i)),a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>e.count>0&&e.shouldShowBadge),[],[e])},a.createElement(RP.ItemCell,{margin:"start"},a.createElement(cy,{role:"destructiveTint"},(0,r.useFacetMap)((e=>`${e.count}`),[],[e]))))))}function nK(){const e=Yr(),t=qr(),{t:n}=ec("InboxRoute"),l=Db({wide:8,narrow:6,width:260}),o=(0,r.useFacetMap)((e=>e.messagingServiceFailed),[],[(0,r.useSharedFacet)(Ui)]),i=Tv(Ii.InboxServiceCategoriesEnabled)?ji:zi;(0,r.useFacetEffect)((n=>{null==t.tab&&n.length>0&&(e.replace(`/inbox/${n[0].category}`),t.tab=n[0].category)}),[t,e],[(0,r.useSharedFacet)(i)]);const c=(0,r.useFacetMap)((e=>0===e.length),[],[(0,r.useSharedFacet)(i)]);return a.createElement(Iv,null,a.createElement($v,{onBackButton:e.goBack,center:a.createElement(fm,{type:"header5A"},n(".header")),right:a.createElement($v.MenuButton,{type:"filter",gamepadIndex:2,onClick:()=>{e.push("/inbox-settings")},narrationText:n(".settingsButton"),"data-testid":"inbox-route-navigation-button",disabled:o}),gamepadAlias:"inbox-route"},a.createElement(Yv,{narrowBreakpointWidth:102},a.createElement(om,{size:2}),a.createElement(r.Mount,{when:o},a.createElement(Yv.Column,{narrowSize:6,wideSize:8},a.createElement(cb,{title:n(".messagingServiceFailure"),text:n(".messagingServiceFailureBody"),imgSrc:CU,imgClass:l?"YxuTr":"Bw0be"}))),a.createElement(r.Mount,{when:o,condition:!1},a.createElement(Yv.Row,{gamepadIndex:0,fullHeight:!0},a.createElement(Yv.Column,{wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{gamepadIndex:0,wideSize:3,narrowSize:2},a.createElement(eK,null)),a.createElement(Yv.Column,{gamepadIndex:1,wideSize:7,narrowSize:6},a.createElement(r.Mount,{when:c},a.createElement(oy,{tab:void 0,component:()=>a.createElement(Ef,{loading:!0,children:a.createElement(a.Fragment,null)})})),a.createElement(r.Map,{array:(0,r.useSharedFacet)(i)},(e=>a.createElement(wl,{data:e},(t=>a.createElement(oy,{tab:t.category,component:()=>a.createElement(V$,{data:e})})))))),a.createElement(Yv.Column,{wideSize:1,narrowSize:0}))),a.createElement(om,{size:2}))))}function aK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function rK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aK(Object(n),!0).forEach((function(t){lK(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lK(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const oK=n.p+"assets/missing_image_asset-c4690.png",iK=e=>null!=e.image&&""!=e.image;function cK({template:e,onSelect:t,gamepadIndex:n,inputLegend:l,autofocus:o}){const i=(0,r.useFacetCallback)((e=>()=>{t(e.seedValue,e.image)}),[t],[e]),c=(0,r.useFacetMap)((e=>e.title),[],[e]),s=(0,r.useFacetMap)((e=>iK(e)),[],[e]),u=(0,r.useFacetMap)((e=>iK(e)?e.image:oK),[],[e]),{t:d}=ec("SeedTemplateCard"),{background:m}=Fr("neutral80");return a.createElement(a.Fragment,null,a.createElement(Kz,{gamepadIndex:n,inputLegend:l,narrationSuffix:d(".narrationSuffix"),onClick:i,autofocus:o},a.createElement(r.Mount,{when:s},a.createElement(Mp,{src:u,aspectRatio:Mp.AspectRatio["16:9"]})),a.createElement(r.Mount,{when:s,condition:!1},a.createElement(Mp,{src:u,aspectRatio:Mp.AspectRatio["16:9"],className:Dr()("CPwL0",m.base),imageRendering:"pixelated"})),a.createElement(Kz.Information,{narrationText:c},a.createElement(fm,{type:"body",verticalAlign:"center"},c))))}const sK=n.p+"assets/creeper-cropped-9e281.png",uK=(0,r.createFacet)({initialValue:{templates:[]}}),dK=e=>null!=e.image&&e.image.length>0;function mK(){const{t:e}=ec("SeedTemplatesRoute"),t=(0,r.useIsPaused)(),n=Yr(),l=sd(),o=Wb({wide:8,narrow:6,width:260}),i=(0,r.useFacetMap)((e=>e?"UzH8W":"wdc99"),[],[o]),c=(0,r.useSharedFacet)(zs),s=t?uK:c,u=(0,r.useFacetMap)((e=>{if(!e.templates.length)return!1;if(e.templates.length>=9){for(let t=0;t<e.templates.length;t++){const n=e.templates[t];if(null==n.image||!n.image.length)return!1}return!0}return WL(e.templates,(e=>null!=e.image&&e.image.length>0))}),[],[s]),[d,m]=(0,r.useFacetState)(!1);(0,a.useEffect)((()=>{const e=setTimeout((()=>m(!0)),1250);return()=>clearTimeout(e)}),[m]);const p=(0,r.useFacetMap)((e=>e.failedToFetch),[],[c]),f=(0,r.useFacetMap)(((e,t,n,a)=>{if(a)return[];const r=[];if(n||t)for(let t=0;t<e.templates.length;t++){const n=e.templates[t];r.find((e=>e.seedValue===n.seedValue))||r.push(n)}return r}),[],[s,d,u,p],(()=>()=>!1)),g=function(e,t){const n=(0,r.useFacetWrap)(e),l=(0,a.useRef)({}),[o,i]=(0,r.useFacetState)(!0),c=(0,a.useRef)(null);return(0,r.useFacetLayoutEffect)((e=>{if(c.current&&document.body.removeChild(c.current),c.current=null,l.current=e.reduce(((e,t)=>rK(rK({},e),{},{[t]:!1})),{}),e.filter((e=>e.length>0)).length){const t=document.createElement("div");t.style.visibility="hidden",t.style.position="absolute",c.current=t,e.forEach((n=>{const a=new Image;a.src=n,a.addEventListener("load",(t=>()=>{l.current[t]=!0;const n=Object.values(l.current);n.length===e.length&&n.every((e=>e))&&i(!1)})(n)),t.appendChild(a)})),document.body.appendChild(t)}return()=>{c.current&&document.body.removeChild(c.current),c.current=null}}),[i],[n]),(0,a.useEffect)((()=>{let e;return null!=t&&(e=setTimeout((()=>i(!1)),t)),()=>{null!=e&&clearTimeout(e)}}),[t,i]),o}((0,r.useFacetMap)((e=>{const t=e.filter(dK).map((e=>e.image));return e.length&&t.push(oK),t}),[],[f]),8e3),E=(0,r.useFacetMap)(((e,t,n)=>!!n||!e&&t.templates.length>0&&!n),[],[g,s,p]),h=Bb(E,1e4),v=(0,r.useFacetMap)(((e,t)=>e||t),[],[p,h]),b=Bb(E,1500),y=(0,r.useFacetMap)(((e,t)=>e&&t),[],[b,g]),F=(0,r.useFacetCallback)((e=>(t,a)=>{e.worldData.advanced.worldSeed=t,e.worldPreviewImagePath=a,n.goBack()}),[n],[(0,r.useSharedFacet)(bi)]);return a.createElement(a.Fragment,null,a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(r.Mount,{when:y},a.createElement(kv,{text:e(".narration.loadingMessage")})),a.createElement(Iv,null,a.createElement($v,{onBackButton:n.goBack,center:a.createElement(fm,{type:"header5A"},e(".title")),gamepadAlias:"seed-layout-content",delegateByAlias:"seed-templates-grid",delegateFocusFromMemory:!0},a.createElement(Yv,null,a.createElement(Yv.Row,{gamepadIndex:0,fullHeight:!0},a.createElement(r.Mount,{when:v},a.createElement(a.Fragment,null,a.createElement(Yv.Column,{wideSize:2,narrowSize:0}),a.createElement(Yv.Column,{gamepadIndex:0,wideSize:8,narrowSize:8},a.createElement(om,{size:6}),a.createElement(cb,{autofocus:!0,imgSrc:sK,imgClass:i,gamepadIndex:0,title:e(".errorMessageTitle"),text:e(".errorMessageBody"),buttons:[{text:e(".errorBackButtonText"),inputLegend:e(".errorBackButtonInputLegend"),gamepadAlias:"seed-temp-empty-state",onClick:()=>n.goBack()}]}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0})))),a.createElement(r.Mount,{when:v,condition:!1},a.createElement(Yv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},a.createElement(NU,{gamepadAlias:"seed-templates-grid",autofocus:!0,loading:(0,r.useFacetMap)((e=>!e),[],[E]),gamepadIndex:0,data:f,columns:"narrow"===l?2:3,firstRowSeparatorVertical:a.createElement(om,{size:4}),itemSeparatorHorizontal:a.createElement(om,{size:"narrow"===l?1:3}),itemSeparatorVertical:a.createElement(om,{size:"narrow"===l?2:4}),footer:a.createElement(a.Fragment,null,a.createElement(iE.Space,null),a.createElement(om,{size:4})),renderItem:({itemFacet:t,columnIndex:n,rowIndex:r})=>a.createElement(cK,{autofocus:0===n&&0===r,template:t,gamepadIndex:n,inputLegend:e(".selectTemplateInputLegend"),onSelect:F}),renderTracker:e=>a.createElement(ly,{type:"meaningful",renderingCompleted:e})}))))))))}const pK="delete-read-inbox-message-confirm",fK=Km((function(){const{t:e}=ec("InboxSettingsRoute.deleteReadConfirmation"),t=$m(),n=Ju(),l=(0,r.useFacetCallback)((e=>()=>{e.deleteAllRead(),n({button:"DeleteAllRead",screen:"Inbox"}),t()}),[t,n],[(0,r.useSharedFacet)(Ui)]);return a.createElement(vE,{defaultFocusAlias:pK},a.createElement(vE.Header,{onClose:t},e(".header")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:e(".dialogText")},e(".dialogText"))),a.createElement(vE.Buttons,null,a.createElement(mg,{variant:"destructive",gamepadIndex:0,gamepadAlias:pK,inputLegend:e(".deleteConfirm"),autofocus:!0,onClick:l},e(".deleteConfirm")),a.createElement(om,{size:1}),a.createElement(mg,{gamepadIndex:1,inputLegend:e(".cancel"),onClick:t},e(".cancel"))))}));function gK(){const e=Yr(),t=sd(),n=(0,r.useSharedFacet)(Ui),l=Ju(),o="neutral80",i=Fr(o),c=fK.useShowModal(),s=(0,r.useFacetMap)((e=>e.settings.showOnlyFriendInvites),[],[n]),u=(0,r.useFacetMap)((e=>e.settings.showInvitesBadges),[],[n]),d=(0,r.useFacetMap)((e=>e.settings.showMessageBadges),[],[n]),m=(0,r.useFacetCallback)((e=>()=>{e.settings.toggleOnlyFriendInvites(),e.reloadInvites()}),[],[n]),p=(0,r.useFacetCallback)((e=>()=>e.settings.toggleMessageBadges()),[],[n]),f=(0,r.useFacetCallback)((e=>()=>e.settings.toggleInvitesBadges()),[],[n]),{t:g}=ec("InboxSettingsRoute"),E=(0,r.useFacetCallback)((t=>()=>{t.saveSettings(),e.goBack()}),[e],[n]);return a.createElement(Xa,{role:o},a.createElement(Iv,null,a.createElement($v,{onBackButton:E,center:a.createElement(fm,{type:"header5A"},g(".title")),gamepadAlias:"inbox-settings-route",footer:a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:1})})},a.createElement(Ef,{gamepadIndex:0},a.createElement(Yv,null,"desktop"===t&&a.createElement(om,{size:2}),a.createElement(Yv.Row,{gamepadIndex:0},a.createElement(Yv.Column,{wideSize:1,narrowSize:1}),a.createElement(Yv.Column,{gamepadIndex:1,wideSize:10,narrowSize:6},a.createElement(om,{size:2}),a.createElement("fast-div",{className:Dr()(i.border.base,i.background.base,"kVqwq")},a.createElement(qb,{title:g(".onlyShowFriends"),value:s,onChange:m}),a.createElement(wO,{title:g(".categories"),description:g(".categoriesDescription")}),a.createElement(qb,{title:g(".showMessages"),value:d,onChange:p}),a.createElement(qb,{title:g(".showInvites"),value:u,onChange:f}),a.createElement(Kf,null,a.createElement(mg,{gamepadIndex:5,onClick:(0,r.useFacetCallback)((e=>()=>{e.markAllRead(),l({button:"MarkAllRead",screen:"Inbox"})}),[l],[n]),inputLegend:g(".markAllRead"),variant:"secondary"},g(".markAllRead")),a.createElement(om,{size:2}),a.createElement(mg,{gamepadIndex:6,onClick:c,inputLegend:g(".deleteAllRead"),variant:"destructive"},g(".deleteAllRead")))),a.createElement(om,{size:2}))))))))}const EK="d1Jqb",hK=n.p+"assets/world-preview-default-d0210.jpg",vK=n.p+"assets/cloud-sync-default-c5ac6.png",bK=n.p+"assets/icon-cloud-sync-0d0d6.png";function yK(){return yK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},yK.apply(this,arguments)}const FK=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("pU9Dp",t);return a.createElement(Mp,yK({},n,{className:r,src:bK,imageRendering:"pixelated"}))};function SK(){const e=Fr();return a.createElement("div",{className:Dr()("OiOCl",e.neutral80.background.base,e.neutral80.border.base)},a.createElement(FK,null))}const CK=n.p+"assets/player-online-icon-b63b8.png",MK=n.p+"assets/player-online-icon-dimmer-86fcb.png";function wK(){return wK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wK.apply(this,arguments)}const kK=e=>{let{className:t,variant:n}=e,r=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className","variant"]);const l=Ip("a7E80",t),o="dimmer"===n?MK:CK;return a.createElement(Mp,wK({},r,{className:l,src:o,imageRendering:"pixelated"}))};function TK({full:e,amountOfPlayersOnline:t}){const{t:n}=ec("PlayersOnlineInWorld");return a.createElement("div",{className:"AIPtF"},a.createElement(kK,{className:"SaF4k"}),a.createElement(fm,{type:"captionShort"},t),a.createElement(r.Mount,{when:(0,r.useFacetWrap)(null!=e&&e)},a.createElement(cy,{role:"destructiveTint",align:"center"},n(".full"))))}TK.Panel=function({children:e,className:t}){const n=Fr("neutral80");return a.createElement("div",{className:Dr()("OnpR1",n.background.base,n.border.base,t)},e)};function IK({className:e,useGreyBorder:t}){const n=(0,r.useFacetMap)((t=>Dr()("s_m91",{Z6fc0:t},e)),[e],[(0,r.useFacetWrap)(null!=t&&t)]);return a.createElement("fast-div",{className:n})}function PK(e){const t=TI(),n=ok();return(0,r.useFacetMap)(((e,t,n)=>e&&(t||n)),[],[e,n,t])}function xK(e){const t=PK(e),n=rk();return(0,r.useFacetMap)(((e,t,n,a)=>!e&&t&&(n||!a.isOnline)),[],[t,e,n,(0,r.useSharedFacet)(il)])}const OK=Km((({onClose:e})=>{const{t}=ec("BannedOrSuspendedMessage"),{title:n,reasonCopy:l,bodyFirstParagraph:o,bodySecondParagraph:i,helpButtonCopy:c}=kI(),s=II(),u=(0,r.useFacetCallback)((e=>()=>{e.openLink(bu.BannedHelpPage)}),[],[(0,r.useSharedFacet)(yu)]);return a.createElement(vE,null,a.createElement(vE.Header,{onClose:e},n),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:l,center:!0},l),a.createElement(vE.Text,{gamepadIndex:0,narrationText:o,center:!0},o),a.createElement(vE.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{horizontal:!0,variant:"secondary",inputLegend:t(".close"),onClick:e},t(".close")),a.createElement(om,{size:1}),a.createElement(wl,{data:s},(e=>a.createElement(mg,{"data-testid":"help-button-"+(e?"suspended":"banned"),horizontal:!0,variant:"primary",Icon:nM.ExternalLink,inputLegend:c,onClick:u},c)))))}));function AK({id:e,title:t,subtitle:n,imageSrc:l,requiresCloudSync:o,tags:i,autofocus:c,onWorldClick:s,narrationIndex:u,onEdit:d,containerListLength:m,isMultiplayerWorld:p,amountOfPlayersOnline:f,worldFull:g,isHardcore:E,playerHasDied:h,disable:v,metadataList:b,testId:y,itemRole:F,itemInputLegend:S,hidePlayButton:C=!1}){const{t:M}=ec("WorldListItem"),{t:w}=ec("WorldListItem.narration"),k=Fr("neutral"),T=(0,r.useFacetWrap)(F),I=null!=d,P=(0,r.useFacetWrap)(null!=f?f:0),x=(0,r.useFacetWrap)(null!=g&&g),O=(0,r.useFacetMap)((e=>e>0),[],[P]),A=(0,r.useFacetWrap)(null!=b?b:[]),N=(0,r.useFacetMap)((e=>e.length>0),[],[A]),R=(0,r.useFacetMap)((e=>e.map((e=>e.displayText))),[],[A]),_=(0,r.useFacetWrap)(null!=o&&o),L=(0,r.useFacetWrap)(null!=E&&E),D=(0,r.useFacetWrap)(null!=h&&h),[W,B]=(0,r.useFacetState)(!1),U=(0,r.useFacetUnwrap)(e),z=(0,r.useFacetMap)(((e,t)=>t?vK:null!=e&&e.length?e:hK),[],[(0,r.useFacetWrap)(l),_]),j=(0,r.useFacetWrap)(u),H=(0,r.useFacetMap)(((e,t,n,a,r)=>[e,null!=r?r:w(".componentRole"),t>0?w(".listLengthContext",[`${a}`,`${t}`]):void 0,n.map((e=>e.label)).join(", ")].filter(Boolean).join(" . ")),[w],[t,m,i,j,T]),V=(0,r.useFacetMap)((e=>{const t=[];return C||t.push([w(".play"),I?w(".buttonSiblings",["1","2"]):w(".button")]),t.push(...e.map((e=>e.narrationText))),t.filter(Boolean).join(" . ")}),[C,w,I],[A]),G=(0,r.useFacetCallback)((e=>()=>d&&d(e)),[d],[e]),$=(0,r.useFacetMap)((e=>null!=e?e:""),[],[(0,r.useFacetWrap)(null!=n?n:"")]),K=(0,r.useFacetMap)((e=>e.length>0),[],[$]),X=CV.useModal(),Y=OK.useModal(),q=TI(),Q=PK(p),J=xK(p),Z=(0,r.useFacetMap)(((e,t)=>t&&e),[],[p,q]),ee=(0,r.useFacetCallback)(((e,t)=>()=>{t?Y.show():e?X.show():s()}),[s,Y,X],[Q,Z]),te=(0,r.useFacetMap)(((e,t,n)=>null!=n?n:e?"multiplayer-world-list-item-primary-action-"+(t-1):"world-list-item-primary-action-"+(t-1)),[],[p,j,(0,r.useFacetWrap)(y)]);return U==r.NO_VALUE?null:a.createElement(wf,{text:H,key:U},a.createElement(vw,{tall:!0,disableDeferredMount:!0},a.createElement(vw.Action,{testId:te,autofocus:c,className:"koZyA",inputLegend:null!=S?S:M(".play"),narrationText:V,onClick:ee,onFocusChanged:B,onHoverChanged:B,disabled:v},a.createElement("div",{className:"o_yQY"},a.createElement(r.Mount,{when:_},a.createElement(SK,null)),a.createElement(Mp,{src:z,className:Dr()(k.border.base,"_XcCm"),aspectRatio:Mp.AspectRatio["16:9"],isGrayscale:Q}),a.createElement(r.Mount,{when:L},a.createElement(fO,{className:"wY_aU",animate:W,startFrame:8,dead:D})),a.createElement(r.Mount,{when:Q},a.createElement("div",{className:EK},a.createElement(cy,{role:"destructiveTint"},M(".multiplayerDisabled")))),a.createElement(r.Mount,{when:J},a.createElement("div",{className:EK},a.createElement(cy,{role:"destructiveTint"},M(".multiplayerWorldOffline")))),a.createElement(r.Mount,{when:L},a.createElement(IK,{useGreyBorder:D}))),a.createElement(vw.Main,null,a.createElement(fm,{type:"body",overflowEllipsis:!0},t),a.createElement(r.Mount,{when:K},a.createElement(fm,{type:"body",variant:"dimmer",overflowEllipsis:!0},$)),a.createElement("div",{className:"krJgC"},a.createElement(r.Map,{array:i},(e=>a.createElement(NK,{tag:e}))))),a.createElement(r.Mount,{when:N},a.createElement("div",{className:"LGrjM"},a.createElement(r.Map,{array:R},((e,t)=>a.createElement(fm,{type:"captionShort",variant:"dimmest",key:t,overflowEllipsis:!0},e))))),a.createElement(r.Mount,{when:O},a.createElement(vw.Cell,null,a.createElement("div",{className:"za_Vq"},a.createElement(TK,{amountOfPlayersOnline:P,full:x}))))),a.createElement(vw.AdditionalAction,{narrationText:[w(".edit"),w(".buttonSiblings",["2","2"])].join(" . "),inputLegend:M(".edit"),onClick:G,hidden:!I},a.createElement(nM.Edit,null),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionShort",overflowEllipsis:!0},M(".edit"))),a.createElement(r.Mount,{when:Y.isVisible},a.createElement(OK.Component,{onClose:Y.hide})),a.createElement(r.Mount,{when:X.isVisible},a.createElement(CV.Component,{onClose:X.hide}))))}function NK({tag:e}){const t=(0,r.useFacetMap)((e=>e.role),[],[e]),n=(0,r.useFacetMap)((e=>e.label),[],[e]);return a.createElement(cy,{role:t},n)}const RK=(0,a.createContext)((()=>Math.floor(Date.now()/1e3)));function _K(e){switch(e){case eu.ADVENTURE:return".adventure";case eu.SURVIVAL:return".survival";case eu.CREATIVE:return".creative";default:return".unknown"}}let LK;function DK(e,t){const{t:n}=ec("WorldTag"),a=Tv(Ii.NewAllWorldsDesign);return(0,r.useFacetMap)((e=>{const r=[],l=e.isHardcore&&t===LK.GRID;return a&&e.capacity>0&&e.capacity===e.playerCount&&r.push({label:n(".full"),role:"destructiveTint"}),l||r.push({label:n(_K(e.gameMode)),role:"neutral100"}),e.isHardcore&&r.push({label:n(".hardcore"),role:"destructiveTint"}),a||r.push({label:n(".lan"),role:"informativeTint"}),r}),[n,t,a],[e])}function WK(e,t){const{t:n}=ec("WorldTag");return(0,r.useFacetMap)((e=>{const a=[];return e.isExperimental&&e.isHardcore&&t===LK.GRID||a.push({label:n(_K(e.gameMode)),role:"neutral100"}),e.isExperimental&&a.push({label:n(".experimental"),role:"noticeTint"}),e.isHardcore&&a.push({label:n(".hardcore"),role:"destructiveTint"}),a}),[n,t],[e])}function BK({world:e,onWorldClick:t,onEdit:n,index:l,indexOffset:o,totalNrOfWorlds:i,itemRole:c,hidePlayButton:s,itemInputLegend:u}){const d=(0,r.useFacetMap)((e=>e.id),[],[e]),m=(0,r.useFacetMap)((e=>e.name),[],[e]),p=(0,r.useFacetMap)((e=>e.isMultiplayerEnabled),[],[e]),f=WK(e,LK.LIST),g=(0,r.useFacetMap)((e=>e.previewImgPath),[],[e]),E=(0,r.useFacetMap)((e=>e.requiresCloudSync),[],[e]),h=(0,r.useFacetMap)((e=>e+l+1),[l],[o]),v=(0,r.useFacetMap)((e=>e.isHardcore),[],[e]),b=function(e,t){const{t:n}=ec("ThumbnailWorldList"),{t:a}=ec("ThumbnailWorldList.narration"),l=function(e,t){const{t:n,f:a}=ec("ThumbnailWorldList");return(0,r.useFacetMap)(((e,t)=>{const r=t-e;function l(e,t){const a=Math.floor(r/t);return 1==a&&(e+="Singular"),n(e,[a.toString()])}return r<120?n(".justNow"):r<3600?l(".minutesAgo",60):r<86400?l(".hoursAgo",3600):r<=604800?l(".daysAgo",86400):a.formatDate(e)}),[n,a],[e,t])}((0,r.useFacetMap)((e=>e.lastSaved),[],[e]),t),o=n(".lastPlayed"),i=(0,r.useFacetMap)((e=>a(".lastPlayed",[e])),[a],[l]);return(0,r.useFacetMap)(((e,t)=>[{displayText:o,narrationText:""},{displayText:e,narrationText:t}]),[o],[l,i])}(e,(0,r.useFacetWrap)((0,a.useContext)(RK)())),y=(0,r.useFacetCallback)((e=>()=>{t(e)}),[t],[d]);return a.createElement(AK,{id:d,title:m,tags:f,imageSrc:g,requiresCloudSync:E,containerListLength:i,narrationIndex:h,onEdit:n,onWorldClick:y,isMultiplayerWorld:p,isHardcore:v,metadataList:b,itemRole:c,hidePlayButton:s,itemInputLegend:u})}function UK({localWorlds:e,onLocalWorldClick:t,onLocalWorldEdit:n,itemRole:l,hidePlayButton:o,itemInputLegend:i}){const c=(0,r.useFacetMap)((e=>e.length),[],[e]),s=(0,r.useFacetWrap)(0);return a.createElement(a.Fragment,null,a.createElement(r.Map,{array:e},((e,r)=>a.createElement(a.Fragment,null,r>0&&a.createElement(om,{size:1}),a.createElement(BK,{world:e,onWorldClick:t,onEdit:n,indexOffset:s,index:r,totalNrOfWorlds:c,itemRole:l,hidePlayButton:o,itemInputLegend:i})))))}!function(e){e[e.LIST=0]="LIST",e[e.GRID=1]="GRID"}(LK||(LK={}));const zK=n.p+"assets/no-worlds-yet-art-446b1.png";function jK(){const{t:e}=ec("SetWorldThumbnailRoute.errorState"),t=m(),n=sd(),r=(0,a.useCallback)((()=>{t.push("/create-new-world")}),[t]);return a.createElement(cb,{title:e(".emptyStateTitle"),text:e(".emptyStateText"),imgSrc:zK,imgClass:"narrow"===n?"Ub60v":"qJJvB",buttons:[{variant:"primary",text:e(".emptyStateCreateNewButton"),narrationSuffix:e(".createNewWorldNarration"),onClick:r,gamepadAlias:"play-cnw-button"}]})}function HK(){const e=(0,r.useSharedFacet)(XV),t=(0,r.useFacetMemo)((({localWorlds:e})=>e.filter((e=>e.allContentOwned))),[],[e]);return{data:t,isEmpty:(0,r.useFacetMap)((e=>e.length<1),[],[t]),alternativeStorageHasWorlds:(0,r.useFacetMap)((e=>e.otherStorageTypeHasWorlds),[],[e])}}function VK(){const e=m(),t=HK(),n=(0,r.useSharedFacet)(uc),l=(0,r.useSharedFacet)(Ru),o=(0,r.useSharedFacet)(Ls),i=f(),{t:c}=ec("SetWorldThumbnailRoute"),{t:s}=ec("SetWorldThumbnailRoute.narration"),u=(0,r.useFacetCallback)((e=>t=>e.find((e=>e.id===t))),[],[t.data]),d=(0,r.useFacetMap)(((e,t)=>e.screenshots.find((e=>e.id===t.thumbnailId))),[],[o,i]),p=(0,r.useFacetCallback)(((t,n,a)=>l=>{const o=u(l);null!=o&&null!=a&&o!=r.NO_VALUE&&(n.saveScreenshotAsWorldIcon(l,a.filePath,a.id),t.queueSnackbar(c(".successSnackbarMessage",[o.name])),e.goBack())}),[e,c,u],[n,l,d]),g=(0,r.useFacetMap)((e=>0===e.length),[],[t.data]),E=[s(".selectWorld"),s(".group")].join(" . ");return a.createElement(AP,{title:c(".setWorldThumbnailHeader"),screenAnalyticsId:"SetWorldThumbnail",gamepadAlias:"set-world-thumbnail-route"},(()=>a.createElement(Yv,null,a.createElement(Yv.Row,{fullHeight:!0},a.createElement(r.Mount,{when:g,condition:!1},a.createElement(Yv.Column,{wideSize:12,narrowSize:8},a.createElement(Ef,{alwaysVisibleChildren:a.createElement(a.Fragment,null,a.createElement(om,{size:2}))},a.createElement(wf,{text:E},a.createElement(UK,{localWorlds:t.data,onLocalWorldClick:p,itemRole:s(".listItem"),itemInputLegend:c(".select"),hidePlayButton:!0}))))),a.createElement(r.Mount,{when:g},a.createElement(a.Fragment,null,a.createElement(Yv.Column,{wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{wideSize:10,narrowSize:8},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(jK,null))),a.createElement(Yv.Column,{wideSize:1,narrowSize:0})))))))}function GK(){const{t:e}=ec("JoinRealmsServerInvitationsButton"),t=Fr("neutral"),n=m(),l=e(".narrationSuffix"),o=(0,r.useSharedFacet)(Ui),i=(0,r.useFacetMap)((e=>Wi(e.categoryData,Li.INVITES)>0),[],[o]),c=(0,r.useFacetMap)((t=>e(t?".hasInvitesTitle":".noInvitesTitle")),[e],[i]),s=(0,r.useFacetMap)((t=>e(t?".hasInvitesBody":".noInvitesBody")),[e],[i]),u=(0,r.useFacetMap)(((e,t)=>[e,t,l].join(" . ")),[l],[c,s]);return a.createElement(wf,{text:[e(".invitationsName"),e(".invitationsRole")].join(" . ")},a.createElement(ag,{delayedClick:!0,gamepadIndex:0,inputLegend:e(".inputLegend"),narrationText:u,onClick:()=>n.push("/inbox/invites"),variant:"neutral",reflection:"bevel"},a.createElement("div",{className:Dr()(t.text.base,"Ji4ZW")},a.createElement("div",{className:"mYfkA"},a.createElement(fm,{type:"body"},a.createElement(am,null,c)),a.createElement(fm,{variant:"dimmer",type:"captionShort"},a.createElement(am,null,s))),a.createElement(I$,null))))}function $K(e,t){const n=(0,r.useSharedFacet)(ds),a=(0,r.useFacetMap)((e=>e.fetchRealmProgress),[],[n]),l=(0,r.useFacetMap)((e=>e.fetchRealmResult),[],[n]),o=(0,r.useFacetMap)((e=>e.fetchRealmError),[],[n]),i=Ju(),c=uk(((e,n)=>function*(){if(""===n)return;null!=(null==t?void 0:t.analyticsId)&&i({button:"JoinRealmLink",screen:t.analyticsId});const r=n.trim();e.clearFetchRealm(),e.fetchRealm(r),yield a,null==e.fetchRealmError&&null!=t&&t.onSuccess&&t.onSuccess(r)}),[a,i,t],[n,e]),s=(0,r.useFacetCallback)((e=>()=>e.clearFetchRealm()),[],[n]);return{fetch:c,progress:a,result:l,error:o,clear:s}}function KK(){const{t:e}=ec("JoinRealmsServerError");return t=>{switch(t){case ss.AlreadyMember:return e(".alreadyMember");case ss.BadInvite:return e(".badInvite");case ss.BlockedInvite:return e(".blockedInvite");case ss.RealmClosed:return e(".realmClosed");case ss.RealmExpired:return e(".realmExpired");case ss.UnexpectedServerResponse:return e(".unexpectedServerResponse");case ss.AnonymousAccount:return e(".anonymousAccount");case ss.InviteLinkNotFound:return e(".inviteLinkNotFound");default:return e(".unknownError")}}}const XK="JoinRealmsServer";function YK(){const{t:e}=ec("JoinRealmsServer"),t=Fr("neutral"),n=m(),l=p(),[o,i]=(0,r.useFacetState)(""),c=(0,r.useFacetMap)((e=>e.length<=0),[],[o]),s=function(){const e=(0,r.useSharedFacet)(yu),t=Ju();return(0,r.useFacetCallback)((e=>()=>{t({button:"Help",screen:XK}),e.openLink(bu.JoinRealmHelpPage)}),[t],[e])}(),u=(0,a.useCallback)((e=>{i(""),n.push(`/join-realms-server/${e}`)}),[n,i]),d=$K((0,r.useFacetMap)((e=>function(e){const t=e;return t.split("/")[t.split("/").length-1]}(e)),[],[o]),{analyticsId:XK,onSuccess:u}),f=(0,r.useFacetMap)(((e,t)=>t&&e===ck.RUNNING),[],[d.progress,l]),g=(0,a.useCallback)((()=>{d.clear(),n.goBack()}),[n,d]);return a.createElement(a.Fragment,null,a.createElement(AP,{screenAnalyticsId:XK,gamepadAlias:"join-realms-server",title:e(".title"),onBack:g},(()=>a.createElement(Yv,null,a.createElement(QK,{error:d.error},a.createElement(qK,{error:d.error}),a.createElement(Yv.Row,{gamepadIndex:1,fullHeight:!0},a.createElement(Yv.Column,{gamepadIndex:-1,wideSize:1,narrowSize:0,disabled:!0}),a.createElement(Yv.Column,{narrowSize:8,wideSize:10,gamepadIndex:0},a.createElement(Ef,{gamepadIndex:0},a.createElement(om,{size:2}),a.createElement(wf,{text:[e(".linkBoxNarrationName"),e(".linkBoxNarrationRole")].join(" . ")},a.createElement("div",{className:Dr()(t.border.base,"Iw16o")},a.createElement(gy,{description:e(".inputDescription"),gamepadIndex:0,label:e(".inputLabel"),onChange:i,placeholder:e(".inputPlaceholder"),value:o}),a.createElement(sr,{collection:LD},a.createElement(Kf,null,a.createElement("div",{className:"Aimtb"},a.createElement(mg,{onClick:s,inputLegend:e(".helpButtonLabel"),Icon:nM.ExternalLink,horizontal:!0,"data-testid":"help-button",narrationSuffix:e(".buttonEnumeration",["1","2"])},e(".helpButtonLabel")),a.createElement(FT.ButtonSpacing,null),a.createElement(mg,{onClick:d.fetch,inputLegend:e(".joinButtonLabel"),horizontal:!0,disabled:c,variant:"primary","data-testid":"join-realm-button",narrationSuffix:e(".buttonEnumeration",["2","2"])},e(".joinButtonLabel"))))))),a.createElement(om,{size:2}),a.createElement(GK,null))),a.createElement(Yv.Column,{gamepadIndex:1,wideSize:1,narrowSize:0,disabled:!0})))))),a.createElement(r.Mount,{when:f},a.createElement(ay.Component,{title:e(".verifyingLinkModalTitle")})))}function qK({error:e}){const t=KK();return a.createElement(wl,{data:e},(e=>null==e?null:a.createElement(Yv.Row,{gamepadIndex:0},a.createElement(Yv.Column,{gamepadIndex:-1,wideSize:1,narrowSize:0,disabled:!0}),a.createElement(Yv.Column,{narrowSize:8,wideSize:10,gamepadIndex:0},a.createElement(om,{size:2}),a.createElement(GT,{role:"noticeTint"},a.createElement(GT.Text,null,t(e)))),a.createElement(Yv.Column,{gamepadIndex:-1,wideSize:1,narrowSize:0,disabled:!0}))))}function QK({error:e,children:t}){const n=KK(),l=(0,r.useFacetMap)((e=>null==e?"":n(e)),[n],[e]);return a.createElement(wf,{text:l},t)}const JK={mainWrapper:"M8SYf",spinner:"N16mH",border:"czyi2",narrowImage:"yn4Bh",narrowImageWrapper:"N7Eql",imageWrapper:"vxRhP",overlayInformation:"g7Wgs",overlayInformationNarrow:"SQLMy",joinButtonWrapper:"Nj3OS"},ZK=Km((()=>{const{t:e}=ec("JoinRealmsServerError"),{t}=ec("JoinRealmsServerErrorModal"),n=(0,r.useSharedFacet)(ds),l=(0,r.useFacetCallback)((e=>()=>e.clearJoinRealm()),[],[n]),o=(0,r.useFacetMap)((t=>{switch(t.joinRealmError){case cs.MemberOfTooManyRealms:return e(".memberOfTooManyRealms");case cs.NeedToCallFetchFirst:case cs.RealmsAPIUnavailable:case cs.UnknownError:default:return e(".unknownError")}}),[e],[n]);return a.createElement(vE,{onOverlayClick:l},a.createElement(vE.Header,{onClose:l},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:o,center:!0},o)),a.createElement(vE.Buttons,null,a.createElement(mg,{inputLegend:t(".closeButtonLabel"),variant:"secondary",onClick:l,"data-testid":"join-realms-error-close-button"},t(".closeButtonLabel"))))})),eX=n.p+"assets/Realms_Default_Thumbnail_3840-998f3.jpg",tX=n.p+"assets/generic-error-art-8fa35.png",nX="JoinRealmsServerTransient";function aX(){const{t:e}=tc("JoinRealmsServerTransient"),t=m(),n=p(),l=f(),o=(0,r.useSharedFacet)(uc),i=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.code)&&void 0!==t?t:""}),[],[l]),c=$K(i,{analyticsId:nX}),s=(0,r.useFacetCallback)((n=>(a,r)=>{n.queueSnackbar(e(".successSnackbar",[r])),t.go(-2),t.replace(`/play/realms/${a}`)}),[t,e],[o]),u=function(e,t){const n=(0,r.useSharedFacet)(ds),a=(0,r.useSharedFacet)(hs),l=(0,r.useFacetMap)(((e,t)=>e.joinRealmProgress!==ck.IDLE&&t.state===Es.Loading?ck.RUNNING:e.joinRealmProgress),[],[n,a]),o=(0,r.useFacetMap)((e=>e.joinedRealmId&&e.joinedRealmName),[],[n]),i=(0,r.useFacetMap)((e=>e.joinRealmError),[],[n]),c=Ju(),s=uk(((e,n)=>function*(){if(c({button:"JoinRealm",screen:nX}),e.clearJoinRealm(),e.joinRealm(n),yield l,null==e.joinRealmError){const n=e.joinedRealmId,a=e.joinedRealmName;t(n,a),e.clearJoinRealm()}}),[l,c,t],[n,e]);return{join:s,progress:l,result:o,error:i}}(i,s),d=(0,r.useFacetMap)((e=>e===ck.RUNNING),[],[c.progress]),g=(0,r.useFacetMap)((e=>e===ck.RUNNING),[],[u.progress]),E=(0,r.useFacetMap)(((e,t)=>e===ck.FAILED&&null!=t),[],[u.progress,u.error]);(0,r.useFacetEffect)(((e,t,n,a)=>{!a||t||n||null!=e||c.fetch()}),[c],[c.result,g,d,n]);const h=(0,r.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.ownerXuid)&&void 0!==t?t:""}),[],[c.result]),{profileName:v,isLoaded:b,avatarSource:y}=Hk({ownerId:h}),F=(0,r.useFacetMap)(((e,t,n,a)=>e||t||null!=n||!a),[],[d,g,c.error,b]),S=(0,r.useFacetMap)(((e,t)=>e===ck.RUNNING||!t),[],[c.progress,b]),C=(0,r.useFacetMap)((t=>null!=(null==t?void 0:t.realmName)?e(".title",[t.realmName]):e(".genericTitle")),[e],[c.result]);return a.createElement(a.Fragment,null,a.createElement(Vx.Root,{gamepadAlias:"join-realms-server-transient-route",title:C,screenAnalyticsId:nX,className:JK.mainWrapper,disableBackButton:!1,centerContentVertically:!1},a.createElement(Ef,{floating:!0},a.createElement(rX,{profileName:v,avatarSource:y,showSpinner:S,error:c.error,realmWorld:c.result})),a.createElement(sr,{collection:LD},a.createElement(Vx.Footer,{align:"center"},a.createElement("div",{className:JK.joinButtonWrapper},a.createElement(mg,{horizontal:!0,onClick:u.join,inputLegend:e(".joinButtonLabel"),variant:"primary",disabled:F,"data-testid":"join-realm-button"},e(".joinButtonLabel")))))),a.createElement(r.Mount,{when:g},a.createElement(ay.Component,{title:e(".joinRealmModal")})),a.createElement(r.Mount,{when:E},a.createElement(ZK.Component,null)))}function rX({realmWorld:e,showSpinner:t,error:n,profileName:l,avatarSource:o}){const{t:i}=tc("JoinRealmsServerTransient"),c=(0,r.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.realmName)&&void 0!==t?t:""}),[],[e]),s=Wb({wide:8,narrow:6,width:260}),u=(0,r.useFacetMap)(((e,t)=>i(".ownerInformation",[e])+' "'+t+'"'),[i],[l,c]),d=(0,r.useFacetMap)((e=>[e,i(".caption")].join(" . ")),[i],[u,c]),{border:m}=Fr("inherit"),p=ia(),f=(0,r.useFacetMap)(((e,t)=>null!=t?"error":e?"spinner":"content"),[],[t,n]);return a.createElement(wl,{data:f},(e=>{switch(e){case"spinner":return a.createElement("div",{className:JK.spinner},a.createElement(ff,null));case"error":return a.createElement(lX,{error:n});default:return a.createElement(Vx.Body,{className:JK.contentWrapper},a.createElement(em.Maybe,{classNameFocused:Zm,isInteractive:p,narrationText:d},a.createElement(Jm,null),a.createElement(wl,{data:s},(e=>e?a.createElement("div",{className:JK.narrowImageWrapper},a.createElement(Mp,{src:eX,aspectRatio:Mp.AspectRatio["10:3"],className:Dr()(JK.border,JK.narrowImage,m.base)}),a.createElement("div",{className:JK.overlayInformationNarrow},a.createElement(Ow,{src:o,variant:"medium",status:"offline"}))):a.createElement("div",{className:JK.imageWrapper},a.createElement(Mp,{src:eX,className:Dr()(JK.border,m.base),aspectRatio:Mp.AspectRatio["10:3"]}),a.createElement("div",{className:JK.overlayInformation},a.createElement(Ow,{src:o,variant:"large",status:"offline"}))))),a.createElement(om,{size:3}),a.createElement(fm,{type:"captionLong"},u),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionShort",variant:"dimmest"},i(".caption"))))}}))}function lX({error:e}){const{t}=tc("JoinRealmsServerTransient"),n=KK(),l=Wb({wide:8,narrow:6,width:260}),o=(0,r.useFacetMap)((e=>e?JK.errorImage:JK.errorImageBig),[],[l]);return a.createElement(wl,{data:e},(e=>null==e?null:a.createElement(cb.Wrapper,{borderless:!0},a.createElement(cb.Title,null,t(".errorMessageTitle")),a.createElement(cb.Image,{imgClass:o,imgSrc:tX}),a.createElement(cb.Text,null,n(e)))))}function oX(){const{t:e}=ec("ShowcaseDetailsRoute"),t=m(),n=(0,r.useSharedFacet)(Ds),l=f(),o=(0,r.useFacetMap)((e=>e.id),[],[l]),i=(v=(0,r.useFacetMap)((e=>e.screenshots),[],[n]),(0,r.useFacetMap)((e=>function(e){const t=e.findIndex((e=>e.featured)),n=Rk(e);if(t>0){const e=n.splice(t,1);n.unshift(e[0])}return n}(e.slice().sort(((e,t)=>e.lastModifiedTime-t.lastModifiedTime)))),[],[v])),c=(0,r.useFacetMap)(((e,t)=>{var n;return null!==(n=e.find((e=>e.id===t)))&&void 0!==n?n:e[0]}),[],[i,o]),s=(0,r.useFacetMap)(((e,t)=>e.indexOf(t)),[],[i,c]),u=(0,r.useFacetMap)((e=>e.length),[],[i]),d=(0,r.useFacetCallback)((e=>t=>{e.loadShowcasedScreenshot(t)}),[],[n]),p=CG(),g=(0,r.useFacetCallback)(((e,n)=>a=>{if(a>=0&&a<e.length){const r=e[a].id;e[a].showcased&&d(e[a].id),t.replace(C$(r,n))}}),[t,d],[i,p]),E=OG(c),h=(0,r.useFacetMap)((t=>e(".title",[t.playerName])),[e],[p]);var v;return a.createElement(xG,{title:h,screenshot:c,index:s,length:u,onGoToIndex:g,screenshotNarrationSuffix:E,variant:"view"})}const iX="manage-showcase-close-button-wrapper",cX=Km((({onClose:e})=>{const{t}=ec("ManageShowcaseErrorModal"),n=t(".text");return a.createElement(vE,{defaultFocusAlias:iX},a.createElement(vE.Header,{titlebarGamepadAlias:iX,onClose:e},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:n,center:!0},n)),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{inputLegend:t(".close"),variant:"secondary",onClick:e,horizontal:!0},t(".close"))))})),sX=Km((({onConfirm:e,onCancel:t,title:n,message:l,option:o})=>{const{t:i}=ec("ManageShowcaseModal"),[c,s]=(0,r.useFacetState)(!1),u=(0,r.useSharedFacet)(sc),d=(0,r.useFacetCallback)(((t,n,a)=>()=>{console.log("manageshowcasemodal ",a,n),console.log(JSON.stringify(t)),n&&(t[a]=!0),e()}),[e],[u,c,(0,r.useFacetWrap)(o)]);return a.createElement(vE,null,a.createElement(vE.Header,{onClose:t},n),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:l},l)),a.createElement(vE.Buttons,{horizontal:!0,header:a.createElement(vE.Checkbox,{value:c,onChange:s,title:i(".doNotShowAgain")})},a.createElement(mg,{inputLegend:i(".cancel"),variant:"secondary",onClick:t,horizontal:!0},i(".cancel")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:i(".confirm"),variant:"primary",onClick:d,horizontal:!0},i(".confirm"))))}));function uX(){const{t:e}=ec("ManageShowcaseRoute"),t=(0,r.useSharedFacet)(hu),n=(0,r.useSharedFacet)(Ls),l=sX.useModal(),o=(0,r.useSharedFacet)(sc),i=(0,r.useFacetMap)((e=>e.screenshots.slice().filter((e=>e.showcased)).sort(((e,t)=>e.lastModifiedTime-t.lastModifiedTime))),[],[n]),c=(0,r.useFacetMap)((e=>e.find((e=>e.featured))),[],[i]),s=(0,r.useFacetMap)((e=>e.filter((e=>!e.featured))),[],[i]),u=b$((0,r.useFacetMap)((e=>e.currentXuid),[],[t])),[d,m]=(0,r.useFacetState)(-1),p=(0,r.useFacetMap)((e=>0===e?"all":"noShowcased"),[],[d]),[f,g]=(0,r.useFacetState)(""),E=(0,r.useFacetMap)((e=>-1!==e),[],[d]),h=(0,r.useFacetMap)(((e,t)=>e.find((e=>t===e.id))),[],[i,f]),v=(0,r.useFacetMap)((e=>e.isLoadGalleryInProgress),[],[n]),b=(0,r.useFacetMap)((e=>e.isAddFeaturedImageInProgress),[],[n]),y=(0,r.useFacetMap)((e=>e.isAddShowcasedImageInProgress),[],[n]),F=(0,a.useCallback)((()=>{m(-1)}),[m]),S=(0,a.useCallback)((()=>{g("")}),[g]),C=(0,r.useFacetCallback)((e=>(t,n)=>{e.addScreenshotToShowcase(t,n)}),[],[n]),M=(0,r.useFacetCallback)((e=>t=>{e.removeShowcasedScreenshot(t)}),[],[n]),w=(0,r.useFacetCallback)((e=>t=>{C(t.id,0===e),F()}),[F,C],[d]),k=(0,r.useFacetCallback)((e=>(t,n)=>{null==n?m(t):e.doNotShowManageShowcaseClearWarning?M(n.id):(g(n.id),l.show())}),[m,g,M,l],[o]),T=(0,a.useCallback)((()=>{l.hide(),S()}),[S,l]),I=(0,r.useFacetCallback)((e=>()=>{null!=e&&M(e.id),l.hide(),S()}),[S,l,M],[h]),P=(0,r.useFacetMap)((e=>e.modifyShowcaseGalleryError),[],[n]),x=(0,r.useFacetMap)((e=>e===_s.HttpError),[],[P]),O=(0,r.useFacetCallback)((e=>e.clearModifyShowcaseGalleryError),[],[n]);return a.createElement(a.Fragment,null,a.createElement(wl,{data:E},(t=>t?a.createElement(aG,{onScreenshotSelect:w,onGoBack:F,filterType:p}):a.createElement(AP,{title:e(".manageHeader"),screenAnalyticsId:"ScreenshotShowcase",gamepadAlias:"screenshot-showcase-route",delegateByAlias:"manage-showcase-scroll-view"},(()=>a.createElement(Yv,null,a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:12,narrowSize:8},a.createElement(r.Mount,{when:v},a.createElement(om,{size:2})),a.createElement(Ef,{loading:v,flexShrinkWrapper:!0,delegateFocusFromMemory:!0,gamepadAlias:"manage-showcase-scroll-view",delegateFocusByAlias:"showcase-grid-item-0"},a.createElement(om,{size:2}),a.createElement(GT,{role:"informative"},a.createElement(GT.Text,null,e(".galleryBanner"))),a.createElement(om,{size:2}),a.createElement(S$,{variant:"manage",featuredScreenshot:c,featuredScreenshotEmptyImgSrc:u,showFeaturedSpinner:b,showEmptyShowcasedSpinner:y,nonFeaturedScreenshots:s,onScreenshotSlotClick:k}),a.createElement(om,{size:2})),a.createElement(r.Mount,{when:v},a.createElement(om,{size:2}))))))))),a.createElement(r.Mount,{when:l.isVisible},a.createElement(sX.Component,{onConfirm:I,onCancel:T,title:(0,r.useFacetMap)((t=>null!=t&&t.featured?e(".clearFeaturedTitle"):e(".clearShowcasedTitle")),[e],[h]),message:(0,r.useFacetMap)((t=>null!=t&&t.featured?e(".clearFeaturedMessage"):e(".clearShowcasedMessage")),[e],[h]),option:"doNotShowManageShowcaseClearWarning"})),a.createElement(r.Mount,{when:x},a.createElement(cX.Component,{onClose:O})))}const dX=n.p+"assets/Sign-in_Prompts_Achievements-8e8d2.png",mX=n.p+"assets/Sign-in_Prompts_Achievements Animated-06cb0.gif";function pX(){const e=m(),t=E(),{t:n}=ec("SignInAchievementsRoute"),l=Ju(),o=Tv(Ii.DisableAnimatedSignInScreens),i=no(),c=(0,r.useFacetMap)((e=>e&&!o),[o],[i]),s=(0,r.useFacetMap)((e=>e?mX:dX),[],[c]),u=n(".signInHeader"),d=n(".signInPrompt"),p=(0,r.useFacetCallback)((t=>()=>{l({screen:"SignInAchievements",button:"SignIn"});const n=t.get("redirectTo"),a=null!=n?"&redirectTo="+encodeURIComponent(n):"";e.replace("/sign-in?signInSource=SignInAchievementsScreen_OreUI"+a)}),[e,l],[t]);return a.createElement(vE,{defaultFocusAlias:"signInAchievementsButton"},a.createElement(vE.Header,{onClose:()=>{l({screen:"SignInAchievements",button:"Close"}),e.goBack()}},u),a.createElement(vE.Content,null,a.createElement(om,{size:4}),a.createElement(Mp,{src:s,className:"Ux__y",imageRendering:"pixelated"}),a.createElement(vE.Text,{gamepadIndex:0,narrationText:d},a.createElement(fm,{type:"captionLong",align:"left"},d)),a.createElement(om,{size:4})),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{gamepadIndex:0,inputLegend:n(".laterButton"),variant:"secondary",onClick:()=>{l({screen:"SignInAchievements",button:"MaybeLater"}),e.goBack()},horizontal:!0},n(".laterButton")),a.createElement(om,{size:4}),a.createElement(mg,{gamepadIndex:1,gamepadAlias:"signInAchievementsButton",autofocus:!0,inputLegend:n(".signInButton"),variant:"primary",onClick:p,horizontal:!0},n(".signInButton"))))}const fX=()=>{const e=Yr(),t=(0,r.useSharedFacet)(pc),n=(0,r.useSharedFacet)($s),l=(0,r.useFacetCallback)((e=>t=>{e.fireEventButtonPressed("MobileDataBlockedModal_".concat(t),{})}),[],[n]),o=(0,r.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0}),[],[t]),i="backButton",{t:c}=ec("MobileDataBlockedModalRoute");return a.createElement(wf,{text:`${c(".title")}. ${c(".onlyWifi")}. ${c(".costWarning")}`},a.createElement(vE,{defaultFocusAlias:i},a.createElement(vE.Header,{onClose:()=>{l("Close_Button_Or_Unfocus"),e.goBack()}},c(".title")),a.createElement(vE.Content,null,a.createElement(vE.Paragraphs,{narrationText:`${c(".onlyWifi")}. ${c(".costWarning")}`,spaceBetweenParagraphs:5,gamepadIndex:0},a.createElement(fm,{type:"captionLong"},c(".onlyWifi")),a.createElement(fm,{type:"captionLong",fontWeight:fm.FontWeight.Bold},c(".costWarning"))),a.createElement(wf,{text:`${c(".changeSettings")}`},a.createElement("div",{className:"Hrjsd"},a.createElement(BT,{gamepadIndex:1,onClick:()=>{l("Settings_Page_Link"),e.replace("/mobile-data-blocked-modal/links/settings-page")},withUnderlinePolyfill:!0},c(".changeSettings"))))),a.createElement(vE.Buttons,null,a.createElement(mg,{delayedClick:!0,onClick:()=>{l("Go_Back_Button"),e.goBack()},autofocus:!0,gamepadAlias:i,inputLegend:c(".goBack"),variant:"primary"},c(".goBack")),a.createElement(om,{size:1}),a.createElement(mg,{delayedClick:!0,onClick:()=>{l("Use_Data_Once_Button"),o(),e.goBack()},inputLegend:c(".playOnceWithData"),variant:"secondary"},c(".playOnceWithData")))))},gX=n.p+"assets/Sign-in_Prompts_Friends-01fb9.png",EX=n.p+"assets/Sign-in_Prompts_Friends Animated-0c355.gif";function hX(){const e=m(),{t}=ec("SignInAddFriendRoute"),n=Ju(),l=Tv(Ii.DisableAnimatedSignInScreens),o=no(),i=(0,r.useFacetMap)((e=>e&&!l),[l],[o]),c=(0,r.useFacetMap)((e=>e?EX:gX),[],[i]),s=t(".signInHeader"),u=t(".signInPrompt");return a.createElement(vE,{defaultFocusAlias:"signInAddFriendButton"},a.createElement(vE.Header,{onClose:()=>{n({screen:"SignInAddFriend",button:"Close"}),e.goBack()}},s),a.createElement(vE.Content,null,a.createElement(om,{size:4}),a.createElement(Mp,{src:c,className:"MedW5",imageRendering:"pixelated"}),a.createElement(vE.Text,{gamepadIndex:0,narrationText:u},a.createElement(fm,{type:"captionLong",align:"left"},u)),a.createElement(om,{size:4})),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{gamepadIndex:0,inputLegend:t(".laterButton"),variant:"secondary",onClick:()=>{n({screen:"SignInAddFriend",button:"MaybeLater"}),e.goBack()},horizontal:!0},t(".laterButton")),a.createElement(om,{size:4}),a.createElement(mg,{gamepadIndex:1,gamepadAlias:"signInAddFriendButton",autofocus:!0,inputLegend:t(".signInButton"),variant:"primary",onClick:()=>{n({screen:"SignInAddFriend",button:"SignIn"}),e.replace("/sign-in?signInSource=SignInAddFriendScreen_OreUI")},horizontal:!0},t(".signInButton"))))}let vX;!function(e){e.ServerTab="ServerTab"}(vX||(vX={}));const bX=()=>{const e=Ju(),t=(0,r.useSharedFacet)(cc),n=(0,r.useSharedFacet)(rc),a=(0,r.useFacetMap)((e=>e.joinThirdPartyServerTaskState),[],[t]),l=(0,r.useFacetMap)((e=>e.joinExternalServerTaskState),[],[t]),o=uk(((t,n)=>function*(){const r={joinedServerName:n.networkDetails.name};e({button:"PlayThirdPartyServer",screen:vX.ServerTab,details:r}),t.joinThirdPartyServer(n.networkDetails.id),yield a,t.clearJoinThirdPartyServerTaskState()}),[e,a],[t,n]),i=uk(((t,n)=>function*(a){e({button:"PlayExternalServer",screen:vX.ServerTab}),t.joinExternalServer(null!=a?a:n.networkDetails.id),yield l,t.clearJoinExternalServerTaskState()}),[e,l],[t,n]);return{thirdParty:o,external:i}};function yX(e){const t=(0,r.useSharedFacet)(cc),n=(0,r.useFacetMap)((e=>e.joinLANServerTaskState),[],[t]),a=uk((e=>function*(t){e.joinLanServer(t),yield n,e.clearJoinLANServerTaskState()}),[n],[t]);return(0,r.useFacetCallback)((e=>()=>{a(e)}),[a],[e])}function FX(e){switch(e){case tu.External:return"external";case tu.ThirdParty:return"third-party";case tu.Realm:return"realm";case tu.LAN:return"LAN"}}const SX="online-play-warning-proceed-button",CX=()=>{const e=f(),t=(0,r.useSharedFacet)(sc),n=bX(),l=m(),{t:o}=tc("PlayScreen.onlinePlayWarning"),i=o(".proceed"),c=o(".back"),s=(0,r.useFacetMap)((e=>e.type),[],[e]),u=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.id)&&void 0!==t?t:void 0}),[],[e]),d=(0,r.useFacetMap)((e=>e===FX(tu.ThirdParty)),[],[s]),p=(0,r.useFacetMap)((e=>o(e?".thirdParty.body":".multiplayerGeneric.body")),[o],[d]),g=(0,r.useFacetMap)((e=>o(e?".thirdParty.header":".multiplayerGeneric.header")),[o],[d]),E=(0,r.useFacetMap)((e=>null!=e?e:""),[],[u]),h=jO({worldId:E,screen:"RealmsTabContent",button:"PlayRealm",telemetryLocation:ic.PlayScreen}),v=yX(E),b=(0,r.useFacetCallback)(((e,t,a)=>()=>{if(e===FX(tu.External))return t.doNotShowMultiplayerIpSafetyWarning=!0,void n.external(a);e===FX(tu.Realm)&&h(),e===FX(tu.ThirdParty)&&n.thirdParty(),e===FX(tu.LAN)&&v(),t.doNotShowMultiplayerOnlineSafetyWarning=!0}),[n,h,v],[s,t,u]),y=(0,a.useCallback)((()=>l.goBack()),[l]);return a.createElement(Vx.Root,{gamepadAlias:"online-play-transient-route",title:o(".title"),screenAnalyticsId:"online-play-warning",className:"qhtCT",onBack:y,disableBackButton:!1},a.createElement(Ef,{delegateFocusByAlias:SX},a.createElement(Vx.Body,{className:"aZQne"},a.createElement(fm,{type:"body"},g),a.createElement(om,{size:3}),a.createElement(fm,{type:"captionLong"},p)),a.createElement(Vx.Footer,null,a.createElement(mg,{horizontal:!0,inputLegend:c,onClick:y},c),a.createElement(om,{size:3}),a.createElement(mg,{horizontal:!0,gamepadAlias:SX,onClick:b,inputLegend:i,variant:"primary"},i))))},MX=n.p+"assets/Sign-in_Prompts_Launch-eadae.png",wX=n.p+"assets/Sign-in_Prompts_Launch Animated-fdbda.gif";function kX(){const e=m(),{t}=ec("SignInDressingRoomRoute"),n=Ju(),l=Tv(Ii.DisableAnimatedSignInScreens),o=no(),i=(0,r.useFacetMap)((e=>e&&!l),[l],[o]),c=(0,r.useFacetMap)((e=>e?wX:MX),[],[i]);return a.createElement(vE,{defaultFocusAlias:"dressingRoomSignInButton"},a.createElement(vE.Header,{onClose:()=>{n({screen:"SignInDressingRoom",button:"Close"}),e.goBack()}},t(".signInHeader")),a.createElement(vE.Content,null,a.createElement(om,{size:4}),a.createElement(Mp,{src:c,className:"vw9Nj",imageRendering:"pixelated"}),a.createElement(vE.Text,{gamepadIndex:0,narrationText:t(".signInPrompt")},a.createElement(fm,{type:"captionLong",align:"left"},t(".signInPrompt")))),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{gamepadIndex:0,inputLegend:t(".laterButton"),variant:"secondary",onClick:()=>{n({screen:"SignInDressingRoom",button:"MaybeLater"}),e.goBack()},horizontal:!0},t(".laterButton")),a.createElement(om,{size:4}),a.createElement(mg,{gamepadIndex:1,gamepadAlias:"dressingRoomSignInButton",autofocus:!0,inputLegend:t(".signInButton"),variant:"primary",onClick:()=>{n({screen:"SignInDressingRoom",button:"SignIn"}),e.replace("/sign-in?signInSource=SignInDressingRoomScreen_OreUI")},horizontal:!0},t(".signInButton"))))}const TX=n.p+"assets/Sign-in_Prompts_Save_Purchases-f506d.png",IX=n.p+"assets/Sign-in_Prompts_Save_Purchases Animated-cfb0b.gif";function PX(){const e=m(),{t}=ec("SignInMarketplaceRoute"),n=Ju(),l=Tv(Ii.DisableAnimatedSignInScreens),o=no(),i=(0,r.useFacetMap)((e=>e&&!l),[l],[o]),c=(0,r.useFacetMap)((e=>e?IX:TX),[],[i]);return a.createElement(vE,{defaultFocusAlias:"signInMarketplaceButton"},a.createElement(vE.Header,{onClose:()=>{n({screen:"SignInMarketplace",button:"Close"}),e.goBack()}},t(".signInHeader")),a.createElement(vE.Content,null,a.createElement(om,{size:4}),a.createElement(Mp,{src:c,className:"QnWeO",imageRendering:"pixelated"}),a.createElement(vE.Text,{gamepadIndex:0,narrationText:t(".signInPrompt")},a.createElement(fm,{type:"captionLong",align:"left"},t(".signInPrompt"))),a.createElement(om,{size:4})),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{gamepadIndex:0,inputLegend:t(".laterButton"),variant:"secondary",onClick:()=>{n({screen:"SignInMarketplace",button:"MaybeLater"}),e.goBack()},horizontal:!0},t(".laterButton")),a.createElement(om,{size:4}),a.createElement(mg,{gamepadIndex:1,gamepadAlias:"signInMarketplaceButton",autofocus:!0,inputLegend:t(".signInButton"),variant:"primary",onClick:()=>{n({screen:"SignInMarketplace",button:"SignIn"}),e.replace("/sign-in?signInSource=SignInMarketplaceScreen_OreUI")},horizontal:!0},t(".signInButton"))))}const xX=()=>{var e;const t=Yr(),{t:n}=ec("PlayerBannedModalRoute"),l=(0,r.useFacetCallback)((e=>()=>e.openBannedInfoPage()),[],[(0,r.useSharedFacet)(Qu)]),o=(()=>{const e=(0,r.useFacetUnwrap)(E());return e===r.NO_VALUE?new d(""):e})(),i=n("."+(null!==(e=o.get("banReason"))&&void 0!==e?e:"unknownReportArea")),c=o.get("timeRemaining"),s="1"==o.get("isHours"),u="1"==o.get("isPermanent"),m=n(u?".permanent":".temporary"),p=n(".body",[m,i]),f=n(".close"),g=n(".body2",[f,m]),h=n(".title",[m]),v=function(e,t,n,a){return t?a(".body.forever"):null==e||"0"==e?"":"1"==e?a(n?".body.hour":".body.day"):a(n?".body.hours":".body.days",[e])}(c,u,s,n);return a.createElement(vE,null,a.createElement(vE.Header,{onClose:()=>t.goBack()},h),a.createElement(vE.Content,null,a.createElement(vE.Paragraphs,{narrationText:`${p}. ${g} . ${v}`,spaceBetweenParagraphs:4,gamepadIndex:0},a.createElement(fm,{type:"captionLong"},p),a.createElement(fm,{type:"captionLong"},g),""!=v&&a.createElement(fm,{type:"captionLong"},v)),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0})),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:0,autofocus:!0,inputLegend:f,variant:"primary",delayedClick:!0,onClick:l},f)))},OX=n.p+"assets/Sign-in_Prompts_Servers-cc10e.png",AX=n.p+"assets/Sign-in_Prompts_Servers Animated-ab246.gif";function NX(){const e=m(),{t}=ec("SignInPlayOnServerRoute"),n=Ju(),l=Tv(Ii.DisableAnimatedSignInScreens),o=no(),i=(0,r.useFacetMap)((e=>e&&!l),[l],[o]),c=(0,r.useFacetMap)((e=>e?AX:OX),[],[i]),s=t(".signInHeader"),u=t(".signInPrompt");return a.createElement(vE,{defaultFocusAlias:"signInPlayOnServerButton"},a.createElement(vE.Header,{onClose:()=>{n({screen:"SignInPlayOnServer",button:"Close"}),e.goBack()}},s),a.createElement(vE.Content,null,a.createElement(om,{size:4}),a.createElement(Mp,{src:c,className:"nKl10",imageRendering:"pixelated"}),a.createElement(vE.Text,{gamepadIndex:0,narrationText:u},a.createElement(fm,{type:"captionLong",align:"left"},u)),a.createElement(om,{size:4})),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{gamepadIndex:0,inputLegend:t(".laterButton"),variant:"secondary",onClick:()=>{n({screen:"SignInPlayOnServer",button:"MaybeLater"}),e.goBack()},horizontal:!0},t(".laterButton")),a.createElement(om,{size:4}),a.createElement(mg,{gamepadIndex:1,gamepadAlias:"signInPlayOnServerButton",autofocus:!0,inputLegend:t(".signInButton"),variant:"primary",onClick:()=>{n({screen:"SignInPlayOnServerModal",button:"SignIn"}),e.replace("/sign-in?signInSource=SignInPlayOnServerScreen_OreUI")},horizontal:!0},t(".signInButton"))))}const RX=n.p+"assets/GenericError-86c4b.png",_X=n.p+"assets/AccessDenied-4ffcb.png",LX=n.p+"assets/RealmsMissing-e89cb.png",DX=n.p+"assets/ExternalLink-eae4d.png",WX=n.p+"assets/realms_default_image-e7bc0.jpg";function BX({realm:e,onItemClick:t,index:n,count:l}){const{t:o,f:i}=ec("RealmListItem"),c=(0,r.useFacetMap)((e=>e.world.realmName),[],[e]),s=(0,r.useFacetMap)((e=>e.world.slotName),[],[e]),u=(0,r.useFacetMap)((e=>e.isOwner?o(".yourRealm"):o(".joinedRealm")),[o],[e]),d=Fr("neutral"),m=(0,r.useFacetMap)((e=>null!=e.world.lastSaved?i.getHowLongAgoAsString(e.world.lastSaved):"-"),[i],[e]),p=(0,r.useFacetMap)(((e,t,a,r)=>[e,o(".role"),t,o(".enumeration",[`${n+1}`,`${r}`]),o(".lastPlayedNarration",[a])].join(" . ")),[o,n],[c,u,m,l]);return a.createElement(TM,{tall:!0},a.createElement(TM.Action,{inputLegend:o(".select"),narrationText:p,onClick:t},a.createElement(TM.Cell,null,a.createElement("div",{className:"qOrT_"},a.createElement(Mp,{src:WX,className:Dr()(d.border.base,"fVh3O"),aspectRatio:Mp.AspectRatio["16:9"]}))),a.createElement(TM.Main,null,a.createElement(fm,{type:"body"},a.createElement(am,null,c)),a.createElement(fm,{type:"body",variant:"dimmer"},a.createElement(am,null,s)),a.createElement(om,{size:1}),a.createElement(sr,{collection:LD},a.createElement(cy,{role:"primaryTint"},u))),a.createElement(TM.Cell,{direction:"column"},a.createElement(fm,{type:"captionShort",variant:"dimmer"},o(".lastPlayed")),a.createElement(fm,{type:"captionShort",variant:"dimmer"},m))))}function UX(){const e=m(),{t}=ec("PostToRealmStoriesRoute"),n=E(),l=(0,r.useSharedFacet)(Lc),o=(0,r.useSharedFacet)(hs),i=(0,r.useFacetMap)((e=>e.realms),[],[o]),c=(0,r.useFacetCallback)(((t,n)=>a=>{e.push(`/realms-story-entry-route/new-story/${t.realms[a].world.id}?screenshotId=${n.get("screenshotId")}`)}),[e],[o,n]),s=(0,r.useFacetMap)((e=>e.state===Es.Error),[],[o]),u=(0,r.useFacetMap)((e=>e.state!=Es.Error&&e.state!=Es.Loading&&0===e.realms.length),[],[o]),d=(0,r.useFacetMap)(((e,t)=>e.state!=Es.Error&&e.state!=Es.Loading&&0!=e.realms.length&&!t.getClubCheckResult),[],[o,l]),p=(0,r.useFacetMap)(((e,t)=>e.state!=Es.Error&&e.state!=Es.Loading&&0!=e.realms.length&&t.getClubCheckResult&&!t.getAllowCapturesResult),[],[o,l]),f=(0,r.useFacetMap)(((e,t,n,a)=>e||t||n||a),[],[s,u,d,p]),g=sd(),h=(0,r.useFacetCallback)((e=>()=>{e.openLink(bu.RealmsSafetyPage)}),[],[(0,r.useSharedFacet)(yu)]),v=(0,a.useCallback)((()=>{e.replace("/realms-pdp")}),[e]),b=(0,r.useFacetCallback)((e=>()=>e.forceFetchRealmsList()),[],[o]);return a.createElement(AP,{screenAnalyticsId:"Post-To-Realm-Stories",gamepadAlias:"post-to-realm-stories",title:t(".title"),delegateByAlias:"post-to-realm-stories-scrollview"},(()=>a.createElement(Yv,null,a.createElement(Yv.Row,null,a.createElement(wl,{data:f},(e=>e?a.createElement(a.Fragment,null,a.createElement(Yv.Column,{wideSize:"tablet"===g?1:"desktop"===g?2:12,narrowSize:0}),a.createElement(Yv.Column,{wideSize:"tablet"===g?10:"desktop"===g?8:12,narrowSize:8},a.createElement(Ef,null,a.createElement(om,{size:2}),a.createElement(r.Mount,{when:s},a.createElement(cb,{autofocus:!0,title:t(".realmsCantLoad.title"),text:t(".realmsCantLoad.message"),imgSrc:RX,buttons:[{text:t(".realmsCantLoad.button"),inputLegend:t(".select"),onClick:b,variant:"secondary"}]})),a.createElement(r.Mount,{when:u},a.createElement(cb,{autofocus:!0,title:t(".noRealmsFound.title"),imgSrc:LX,buttons:[{text:t(".noRealmsFound.button"),inputLegend:t(".select"),onClick:v,variant:"secondary"}]})),a.createElement(r.Mount,{when:d},a.createElement(cb,{autofocus:!0,title:t(".youNeedPermission.title"),text:t(".youNeedPermission.message"),imgSrc:_X,buttons:[{text:t(".youNeedPermission.button"),inputLegend:t(".select"),onClick:h,variant:"secondary",imgSrc:DX}]})),a.createElement(r.Mount,{when:p},a.createElement(cb,{autofocus:!0,title:t(".accessDenied.title"),text:t(".accessDenied.message"),imgSrc:_X,buttons:[{text:t(".accessDenied.button"),inputLegend:t(".select"),onClick:h,variant:"secondary",imgSrc:DX}]}))))):a.createElement(Yv.Column,{wideSize:12,narrowSize:8},a.createElement(FU,{data:i,header:a.createElement(om,{size:1}),renderItem:({itemFacet:e,index:t,listLengthFacet:n})=>a.createElement(BX,{realm:e,index:t,count:n,onItemClick:()=>{c(t)}}),footer:a.createElement(om,{size:2}),itemSeparator:a.createElement(om,{size:2})}))))),a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:2})}))))}const zX=n.p+"assets/Sign-in_Prompts_Save_Purchases-f506d.png",jX=n.p+"assets/Sign-in_Prompts_Save_Purchases Animated-cfb0b.gif";function HX(){const e=m(),{t}=ec("SignInSavePurchasesRoute"),n=Ju(),l=Tv(Ii.DisableAnimatedSignInScreens),o=no(),i=(0,r.useFacetMap)((e=>e&&!l),[l],[o]),c=(0,r.useFacetMap)((e=>e?jX:zX),[],[i]),s=t(".signInHeader"),u=t(".signInPrompt");return a.createElement(vE,{defaultFocusAlias:"signInSavePurchasesButton"},a.createElement(vE.Header,{onClose:()=>{n({screen:"SignInSavePurchases",button:"Close"}),e.goBack()}},s),a.createElement(vE.Content,null,a.createElement(om,{size:4}),a.createElement(Mp,{src:c,className:"WNtel",imageRendering:"pixelated"}),a.createElement(vE.Text,{gamepadIndex:0,narrationText:u},a.createElement(fm,{type:"captionLong",align:"left"},u)),a.createElement(om,{size:4})),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{gamepadIndex:0,inputLegend:t(".laterButton"),variant:"secondary",onClick:()=>{n({screen:"SignInSavePurchases",button:"MaybeLater"}),e.goBack()},horizontal:!0},t(".laterButton")),a.createElement(om,{size:4}),a.createElement(mg,{gamepadIndex:1,gamepadAlias:"signInSavePurchasesButton",autofocus:!0,inputLegend:t(".signInButton"),variant:"primary",onClick:()=>{n({screen:"SignInSavePurchases",button:"SignIn"}),e.replace("/sign-in?signInSource=SignInSavePurchasesScreen_OreUI")},horizontal:!0},t(".signInButton"))))}const VX=n.p+"assets/NoFollowers-20be5.png";function GX(e){return{gamerIcon:e.gamerIcon,gamerTag:e.gamertag,playingOnServerId:void 0,variant:e.isFollowedByMe?"added-mutual":"add-friend",xuid:e.xuid,location:Rc.PROFILE_FOLLOWERSLIST,favoriteStatus:Tc.NOT_FAVORITE,presenceMessage:"",presence:e.isOnline?Pc.Online:Pc.Offline,titleName:""}}const $X="profile-followers-list";function KX(){const{t:e}=ec("ProfileFollowersListRoute"),t=(0,r.useSharedFacet)(xi),n=(0,r.useFacetMap)((e=>({players:e.playerList.map(GX),loading:e.isLoading})),[],[t]),l=(0,r.useFacetMap)((e=>!e.loading&&0===e.players.length),[],[n]),o=Wb({wide:8,narrow:6,width:260}),i=(0,r.useFacetMap)((e=>e?"oYnoP":"srAQ3"),[],[o]);return a.createElement(AP,{title:e(".header"),screenAnalyticsId:"ProfileFollowersList",gamepadAlias:"profile-followers-list-route",delegateByAlias:$X},(()=>a.createElement(a.Fragment,null,a.createElement(Yv,{narrowBreakpointWidth:102},a.createElement(r.Mount,{when:l,condition:!1},a.createElement(Yv.Row,{gamepadIndex:0,fullHeight:!0},a.createElement(Yv.Column,{gamepadIndex:0,wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{gamepadIndex:0,wideSize:10,narrowSize:8},a.createElement(wl,{data:n},(e=>a.createElement(FU,{gamepadIndex:0,header:a.createElement(om,{size:2}),loading:e.loading,data:e.players,gamepadAlias:$X,footer:a.createElement(a.Fragment,null,a.createElement(iE.Space,null),a.createElement(om,{size:2})),renderItem:e=>a.createElement(rB,{item:e.itemFacet,listLength:e.listLengthFacet,index:e.index,gamepadAlias:`profile-followers-list-item-${e.index}`,profileEntryPoint:xc.Profile_FollowersList})})))))),a.createElement(r.Mount,{when:l,condition:!0},a.createElement(a.Fragment,null,a.createElement(om,{size:4}),a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{wideSize:10,narrowSize:8},a.createElement(cb,{imgClass:i,autofocus:!0,gamepadAlias:"no-followers-error",imgSrc:VX,title:e(".errorMessageTitle"),text:e(".errorMessage")})),a.createElement(Yv.Column,{wideSize:1,narrowSize:0}))))))))}const XX=n.p+"assets/Sign-in_Prompts_Launch-7712e.png",YX=n.p+"assets/Sign-in_Prompts_Launch Animated-d5ba8.gif";function qX(){const e=m(),t=E(),{t:n}=ec("SignInWorldsFriendsServersRoute"),l=(0,r.useSharedFacet)(il),o=Ju(),i=Tv(Ii.DisableAnimatedSignInScreens),c=no(),s=(0,r.useFacetMap)((e=>e&&!i),[i],[c]),u=(0,r.useFacetMap)((e=>e?YX:XX),[],[s]),d=(0,r.useFacetMap)((e=>Xw(e.platform)?[n(".signInList4"),n(".signInList2PS"),n(".signInList3PS")]:[n(".signInList1"),n(".signInList2"),n(".signInList3"),n(".signInList4")]),[n],[l]),p=(0,r.useFacetCallback)((t=>()=>{o({screen:"SignInWorldsFriendsServers",button:"SignIn"});const n=t.get("redirectTo"),a=null!=n?"&redirectTo="+encodeURIComponent(n):"";e.replace("/sign-in?signInSource=SignInWorldsFriendsServersScreen_OreUI"+a)}),[e,o],[t]),f=(0,r.useFacetCallback)((t=>()=>{o({screen:"SignInWorldsFriendsServers",button:"MaybeLater"});const n=t.get("redirectTo");null!=n?e.replace(n):e.goBack()}),[e,o],[t]),g=(0,r.useFacetCallback)((t=>()=>{o({screen:"SignInWorldsFriendsServers",button:"Close"});const n=t.get("redirectTo");null!=n?e.replace(n):e.goBack()}),[e,o],[t]);return a.createElement(vE,{defaultFocusAlias:"signInWorldsFriendsServersButton"},a.createElement(vE.Header,{onClose:g},n(".signInHeader")),a.createElement(vE.Content,null,a.createElement(om,{size:4}),a.createElement(Mp,{src:u,className:"HJLaJ",imageRendering:"pixelated"}),a.createElement(vE.Text,{gamepadIndex:0,narrationText:n(".signInPrompt")},a.createElement(fm,{type:"captionLong",align:"left"},n(".signInPrompt"))),a.createElement(vE.List,{items:d,gamepadIndex:1}),a.createElement(vE.Text,{gamepadIndex:2,narrationText:n(".createAccountPrompt")},a.createElement(fm,{type:"captionLong",align:"left"},n(".createAccountPrompt")))),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{gamepadIndex:0,inputLegend:n(".laterButton"),variant:"secondary",onClick:f,horizontal:!0},n(".laterButton")),a.createElement(om,{size:4}),a.createElement(mg,{gamepadIndex:1,gamepadAlias:"signInWorldsFriendsServersButton",autofocus:!0,inputLegend:n(".signInButton"),variant:"primary",onClick:p,horizontal:!0},n(".signInButton"))))}const QX="profile-friends-list";function JX({currentProfileFacet:e,loadedProfileFacet:t,followingListFacet:n}){const{t:l}=ec("ProfileFriendsListRoute"),o=(0,r.useFacetMap)((e=>e.state.xblState!==Ic.Loaded||e.data.relation===wc.Self?l(".headerSelf"):l(".headerOther",[`${e.data.xblName}`])),[l],[t]);(0,r.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,"")}),[],[(0,r.useSharedFacet)(Oc),(0,r.useSharedFacet)(hu)])();const i=(0,r.useFacetMap)(((e,t)=>{const n=t.state.xblState===Ic.Loaded||t.state.platformState===Ic.Loaded?t.data.xuid:"";return{players:e.playerList.map((e=>function(e,t){let n="add-friend";return t===e.xuid?n="self":e.isFollowedByMe&&e.isFollowingMe?n="added-mutual":e.isFollowedByMe&&(n="added-not-mutual"),{gamerIcon:e.gamerIcon,gamerTag:e.gamertag,playingOnServerId:void 0,variant:n,xuid:e.xuid,location:Rc.PROFILE_FRIENDSLIST,favoriteStatus:Tc.NOT_FAVORITE,presenceMessage:"",presence:Pc.Unknown,titleName:""}}(e,n))),loading:e.isLoading}}),[],[n,e]),c=(0,r.useFacetMap)((e=>e.players),[],[i]),s=(0,r.useFacetMap)((e=>e.loading),[],[i]),u=(0,a.useRef)(null),[d,m]=(0,r.useFacetState)(0),p=(0,a.useCallback)((({height:e})=>m(e)),[m]);return pd(u,p),a.createElement(AP,{title:o,screenAnalyticsId:"ProfileFriendsList",gamepadAlias:"profile-friends-list-route",delegateByAlias:QX},(()=>a.createElement("div",{ref:u},a.createElement(Yv,{narrowBreakpointWidth:102},a.createElement(Yv.Row,{gamepadIndex:0,fullHeight:!0},a.createElement(Yv.Column,{gamepadIndex:0,wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{gamepadIndex:0,wideSize:10,narrowSize:8},a.createElement(Qy,{rowSizeRem:7,header:a.createElement(om,{size:2}),loading:s,containerSizePixels:d,data:c,gamepadAlias:QX,columnCount:1,footer:a.createElement(a.Fragment,null,a.createElement(iE.Space,null),a.createElement(om,{size:2})),renderItem:e=>a.createElement(rB,{item:e.item,listLength:e.listLength,index:e.index,gamepadAlias:`profile-friends-list-item-${e.index}`,profileEntryPoint:xc.Profile_FriendsList})})))))))}function ZX(){const e=(0,a.useRef)(null);return(0,r.useFacetLayoutEffect)((t=>{!t&&e.current&&(e.current.scrollTop=0)}),[],[p()]),e}let eY,tY,nY;function aY({children:e}){return a.createElement(Ef,null,a.createElement(om,{size:2}),e)}!function(e){e.Featured="Featured Creators",e.MarketplacePass="Marketplace Pass",e.OwnedByMe="Owned by me"}(eY||(eY={})),function(e){e.Featured="featured-creators",e.MarketplacePass="marketplace-pass",e.OwnedByMe="owned-by-me"}(tY||(tY={})),function(e){e.MarketplacePassTab="MarketplacePassTab",e.FeaturedCreatorsTab="FeaturedCreatorsTab",e.OwnedByMeTab="OwnedByMeTab"}(nY||(nY={}));function rY({tab:e}){const t=Tv(Ii.CreateFromAddOn),{t:n}=ec(function(e,t){switch(e){case tY.MarketplacePass:return t?"StartFromTemplateRoute.MarketplacePass.AddOn":"StartFromTemplateRoute.MarketplacePass";case tY.Featured:return"StartFromTemplateRoute.Featured";default:return"StartFromTemplateRoute.OwnedByMe"}}(e,t)),r=Fr("neutral");return a.createElement("div",{className:Dr()("xm93A",r.background.base)},a.createElement(fm,{type:"header5A"},n(".title")),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionShort",variant:"dimmer",className:"y20ae"},n(".description")),a.createElement(om,{size:2}))}const lY="TNfRf",oY="erzs4",iY="axbWu";function cY({children:e,className:t,containerRef:n}){return a.createElement("div",{ref:n,className:Dr()("pKg2u",t)},e)}cY.Action=function({children:e,onClick:t,inputLegend:n,onFocusChanged:l,onHoverChanged:o,narrationText:i,gamepadAlias:c,disabled:s=!1,testId:u,className:d}){const m=Cr("neutral"),p=(0,r.useFacetMap)((e=>!0===e),[],[(0,r.useFacetWrap)(s)]),f=(0,r.useFacetWrap)(!1===n?"":n),g=(0,r.useFacetMap)(((e,t)=>!t&&e),[],[f,p]),E=(0,r.useFacetMap)(((e,t)=>Dr()("XQG9h","IVlBD",t,{Hn3l0:e})),[],[p,(0,r.useFacetWrap)(null!=d?d:void 0)]),h=(0,r.useFacetMap)((e=>!0===e?void 0:m.press),[m],[p]),v=(0,r.useFacetCallback)((e=>()=>{e||t()}),[t],[p]);return a.createElement(em,{className:E,classNameHovered:oY,classNameFocused:iY,classNamePressed:lY,classNameDisabled:Ya.pressed,gamepadAlias:c,inputLegend:g,narrationText:i,onClick:v,onFocusChanged:l,onHoverChanged:o,soundEffectPressed:h,"data-testid":u},e)},cY.Information=function({children:e,innerRef:t,narrationText:n,role:r="inherit",spacingSize:l=3,className:o}){Gz(n);const i=Fr(r),c=Dr()("uUjC2",i.text.base,i.border.base,o);return a.createElement("div",{className:c,ref:t},a.createElement(om,{size:l}),e)},cY.AdditionalAction=function({children:e,onClick:t,onMouseDown:n,inputLegend:l,narrationText:o,gamepadAlias:i,hidden:c=!1,focusGridIndex:s,innerRef:u,touchDetectionDelay:d,soundEffectPressed:m,disabled:p}){const f=Cr("neutral");return a.createElement(r.Mount,{when:(0,r.useFacetWrap)(c),condition:!1},a.createElement(em,{innerRef:u,className:"VETse",classNameHovered:oY,classNameFocused:iY,classNamePressed:lY,focusGridIndex:s,gamepadAlias:i,inputLegend:l,onClick:t,onMouseDown:n,narrationText:o,touchDetectionDelay:d,soundEffectHovered:f.hover,soundEffectFocused:f.focus,soundEffectPressed:null!=m?m:f.press,disabled:p},e))};const sY=n.p+"assets/iconStar-a3e78.png";function uY(){return uY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},uY.apply(this,arguments)}const dY=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("KDTZk",t);return a.createElement(Mp,uY({},n,{className:r,src:sY,imageRendering:"pixelated"}))},mY=n.p+"assets/iconStarGolden-e2d94.png";function pY(){return pY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pY.apply(this,arguments)}const fY=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("fJora",t);return a.createElement(Mp,pY({},n,{className:r,src:mY,imageRendering:"pixelated"}))},gY=n.p+"assets/thumbnail-default-d0210.jpg";function EY({name:e,creator:t,thumbnailPath:n,ratingData:a,isPremium:l,isLocked:o,isOwnedByMeTab:i=!1,narrationIndex:c,containerListLength:s,isRateable:u,isInstalled:d,t:m}){const p=(0,r.useFacetWrap)(null!=l&&l),f=(0,r.useFacetWrap)(null!=u&&u),g=(0,r.useFacetWrap)(null!=o&&o),E=(0,r.useFacetWrap)(null!=d&&d),h=(0,r.useFacetWrap)(c),v=(0,r.useFacetWrap)(null!=a?a:{averageRating:void 0,totalRatingsCount:void 0}),b=(0,r.useFacetMap)((e=>e||gY),[],[n]),y=(0,r.useFacetMap)((e=>!e&&i),[i],[p]),F=(0,r.useFacetMap)((e=>i&&e),[i],[f]),S=(0,r.useFacetMap)((e=>!e&&i),[i],[E]),C=(0,r.useFacetMap)((e=>m(".creator",[e])),[m],[t]),M=(0,r.useFacetMemo)((e=>String(null!=e.averageRating&&e.averageRating.toFixed(1))),[],[v]),w=(0,r.useFacetMemo)((e=>`(${null!=e.totalRatingsCount&&e.totalRatingsCount})`),[],[v]),k=(0,r.useFacetMemo)(((e,t,n,a,r,l,o)=>[m(".componentRole"),e,t,a>0?m(".enumeration",[`${o+1}`,`${a}`]):"",i||null==n.averageRating?"":m(".rating",[String(n.averageRating.toFixed(1))]),l?m(".locked"):"",r?m(".imported"):""].filter(Boolean).join(" . ")),[i,m],[e,C,v,s,y,g,h,F,S]);return{name:e,contextNarration:k,actionNarration:(0,r.useFacetMemo)(((e,t)=>[m(t?".installed":".notInstalled"),e?[m(".button"),m(".enumeration",["1","2"])]:m(".button")].filter(Boolean).join(" . ")),[m],[F,S]),isLockedFacet:g,thumbnailPathResolved:b,createdBy:C,isImported:y,rating:M,voteCount:w,shouldRenderRateButton:F,additionalActionNarration:[m(".rate"),m(".button"),m(".enumeration",["2","2"])].join(" . "),shouldShowDownloadOverlay:S}}const hY=n.p+"assets/iconLock-e98de.png";function vY(){return vY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vY.apply(this,arguments)}const bY=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("gDroV",t);return a.createElement(Mp,vY({},n,{className:r,src:hY,imageRendering:"pixelated"}))},yY="mEAi3",FY=n.p+"assets/download-062b3.png";var SY;function CY({isCard:e=!0,isLocked:t,thumbnailPath:n,shouldShowDownloadOverlay:l}){const o=Fr("neutral"),i=(0,r.useFacetMap)((t=>e&&!t?"EVBEq":Dr()("Swp_C",t?"U82ZZ":o.border.base)),[e,o.border.base],[t]),c=(0,r.useFacetMap)(((e,t)=>e?SY.Locked:t?SY.ShouldDownload:SY.Default),[],[t,l]),s=(0,a.useMemo)((()=>a.createElement(Mp,{className:i,aspectRatio:Mp.AspectRatio["16:9"],src:n})),[i,n]),u=(0,a.useMemo)((()=>a.createElement("div",{className:"HAWgs"})),[]);return a.createElement("div",{className:"Dbw4V"},a.createElement(wl,{data:c},(e=>{switch(e){case SY.Locked:return a.createElement(a.Fragment,null,u,s,u,a.createElement("div",{className:"ML0On"}),a.createElement(bY,{className:yY}));case SY.ShouldDownload:return a.createElement(a.Fragment,null,s,a.createElement("div",{className:"IloHq"}),a.createElement(Mp,{src:FY,className:Dr()("ue8jl",yY),imageRendering:"pixelated"}));case SY.Default:return a.createElement(a.Fragment,null,s)}})))}!function(e){e.Locked="locked",e.ShouldDownload="should-download",e.Default="default"}(SY||(SY={}));function MY({name:e,creator:t,thumbnailPath:n,ratingData:l,isPremium:o,isLocked:i,isInstalled:c,isOwnedByMeTab:s=!1,narrationIndex:u,containerListLength:d,isRateable:m,onAction:p,onAdditionalAction:f=(()=>{})}){const{t:g}=ec("TemplateCard"),{contextNarration:E,actionNarration:h,additionalActionNarration:v,createdBy:b,shouldShowDownloadOverlay:y,isImported:F,isLockedFacet:S,rating:C,shouldRenderRateButton:M,thumbnailPathResolved:w,voteCount:k}=EY({containerListLength:d,creator:t,isInstalled:c,isLocked:i,isPremium:o,isRateable:m,name:e,isOwnedByMeTab:s,narrationIndex:u,ratingData:l,t:g,thumbnailPath:n}),T=(0,r.useFacetMap)(((e,t)=>s&&!Boolean(t)||e),[s],[F,(0,r.useFacetWrap)(null!=c&&c)]),I=(0,r.useFacetMap)((e=>s&&e?"fEe4R":"LbAiK"),[s],[F]);return a.createElement(Gr,null,a.createElement(wf,{text:E},a.createElement(cY,null,a.createElement(cY.Action,{onClick:p,narrationText:h,inputLegend:g(".start")},a.createElement(CY,{shouldShowDownloadOverlay:y,isLocked:S,thumbnailPath:w}),a.createElement(cY.Information,{narrationText:""},a.createElement(fm,{type:"body"},a.createElement(am,null,e)),a.createElement(om,{size:1}),a.createElement(fm,{type:"body",variant:"dimmer"},a.createElement(am,null,b)),a.createElement(r.Mount,{when:F},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(cy,{role:"neutral100"},g(".imported")))),a.createElement(r.Mount,{when:T},a.createElement(a.Fragment,null,a.createElement("fast-div",{className:I}),a.createElement(om,{size:1}))),!s&&a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(wY,{rating:C,voteCount:k})))),a.createElement(r.Mount,{when:M},a.createElement(cY.AdditionalAction,{onClick:f,narrationText:v,inputLegend:g(".rate")},a.createElement(om,{size:2}),a.createElement("div",{className:Dr()("XCF9Q")},a.createElement(dY,null),a.createElement(om,{size:2}),a.createElement(fm,{type:"body",role:"inherit",verticalAlign:"center"},g(".rate"))),a.createElement(om,{size:2}))))))}function wY({rating:e,voteCount:t}){return a.createElement("div",{className:"NO9g3"},a.createElement(fY,null),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionShort",variant:"dimmer",verticalAlign:"center",tag:"span"},e),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionShort",variant:"dimmer",verticalAlign:"center",tag:"span"},t))}function kY({name:e,creator:t,thumbnailPath:n,ratingData:l,isPremium:o,isLocked:i,isInstalled:c,isRateable:s,isOwnedByMeTab:u=!1,narrationIndex:d,containerListLength:m,onAction:p,onAdditionalAction:f=(()=>{})}){const{t:g}=ec("TemplateCard"),{contextNarration:E,actionNarration:h,isLockedFacet:v,thumbnailPathResolved:b,createdBy:y,isImported:F,rating:S,voteCount:C,shouldRenderRateButton:M,shouldShowDownloadOverlay:w,additionalActionNarration:k}=EY({name:e,creator:t,thumbnailPath:n,ratingData:l,isPremium:o,isLocked:i,isInstalled:c,isRateable:s,isOwnedByMeTab:u,narrationIndex:d,containerListLength:m,t:g});return a.createElement(Gr,null,a.createElement(wf,{text:E},a.createElement(TM,{tall:!0},a.createElement(TM.Action,{onClick:p,narrationText:h,inputLegend:g(".start")},a.createElement("div",{className:"aXoIG"},a.createElement(CY,{shouldShowDownloadOverlay:w,isCard:!1,isLocked:v,thumbnailPath:b})),a.createElement(TM.Main,null,a.createElement(fm,{type:"body"},a.createElement(am,null,e)),a.createElement(fm,{type:"body",variant:"dimmest"},a.createElement(am,null,y)),a.createElement("div",{className:"uwvoa"},a.createElement(r.Mount,{when:F},a.createElement(cy,{role:"neutral100"},g(".imported"))),!u&&a.createElement(a.Fragment,null,a.createElement(fY,null),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionShort",variant:"dimmest"},a.createElement(am,null,S)),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionShort",variant:"dimmest"},a.createElement(am,null,C)))))),a.createElement(r.Mount,{when:M},a.createElement(TM.AdditionalAction,{narrationText:k,onClick:f,inputLegend:g(".rate")},a.createElement(dY,null),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionShort"},a.createElement(am,null,g(".rate"))))))))}function TY(){const{t:e}=tc("StartFromTemplateRoute.Featured"),{t}=tc("StartFromTemplateRoute.getMoreButton"),n=m(),l=ZX(),o=sd(),i=Ju(),c="narrow"===o,s=t(".title"),u=t(".body"),d=(0,r.useSharedFacet)(il),p=(0,r.useSharedFacet)(Gu),f=(0,r.useSharedFacet)(hu),g=(0,r.useFacetMap)((e=>e.isOnline),[],[d]),E=(0,r.useFacetMap)((e=>e.featuredWorldTemplates),[],[p]),h=(0,r.useFacetMap)((e=>e.seeMoreFeaturedRouteData),[],[p]),v=(0,r.useFacetMap)(((e,t,n)=>e?Xw(n.platform)&&!t.isSignedInPlatformNetwork?"guest-account-playstation":qw(n.platform)&&!t.isSignedInPlatformNetwork?"guest-account-nintendo":"tab-content":"offline"),[],[g,f,d]),b=(0,r.useFacetMap)((e=>e.refreshTaskState),[],[p]),y=(0,r.useFacetMap)((e=>e===ck.RUNNING),[],[b]),F=(0,r.useFacetCallback)((e=>()=>{i({button:"WantMore",screen:nY.FeaturedCreatorsTab}),n.push(`/marketplace?title=${e.title}&pageId=${e.pageId}`)}),[n,i],[h]);return a.createElement(a.Fragment,null,a.createElement(wf,{text:e(".role")+" . "+e(".title")},a.createElement(wl,{data:v},(t=>{switch(t){case"guest-account-playstation":return a.createElement(aY,null,a.createElement(VI,{context:HI.Playstation}));case"guest-account-nintendo":return a.createElement(aY,null,a.createElement(VI,{context:HI.Nintendo}));case"offline":return a.createElement(aY,null,a.createElement(MI,{text:e(".noInternetMessage")}));default:return a.createElement(a.Fragment,null,a.createElement(NU,{loading:y,firstRowSeparatorVertical:a.createElement(PY,null),footer:a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(KL,{titleText:s,bodyText:u,onClick:F}),a.createElement(om,{size:2})),data:E,columns:c?1:3,itemSeparatorHorizontal:c?null:a.createElement(om,{size:2}),itemSeparatorVertical:c?null:a.createElement(om,{size:1}),renderItem:({itemFacet:e,index:t,listLengthFacet:n})=>a.createElement(IY,{templateData:e,index:t,numberOfTemplates:n,isNarrow:c}),innerRef:l}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))}}))),a.createElement(ly,{type:"contentful",renderingCompleted:!0}))}function IY({templateData:e,index:t,numberOfTemplates:n,isNarrow:l}){const o=m(),i=(0,r.useFacetMap)((e=>e.name),[],[e]),c=(0,r.useFacetMap)((e=>e.creator),[],[e]),s=(0,r.useFacetMap)((e=>e.thumbnailPath),[],[e]),u=(0,r.useFacetMap)((e=>e.ratingData),[],[e]),d=(0,r.useFacetCallback)((e=>()=>{o.push(`/marketplace?productId=${e.id}`)}),[o],[e]);return l?a.createElement(kY,{name:i,creator:c,thumbnailPath:s,ratingData:u,narrationIndex:t,containerListLength:n,onAction:d}):a.createElement(MY,{name:i,creator:c,thumbnailPath:s,ratingData:u,narrationIndex:t,containerListLength:n,onAction:d})}function PY(){return a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(rY,{tab:tY.Featured}),a.createElement(om,{size:2}))}let xY;function OY(e){return(0,r.useFacetMap)(((t,n)=>{switch(e){case xY.FRIENDS:return!Xw(n.platform)&&!qw(n.platform)&&!t.isLoggedInWithMicrosoftAccount||(Xw(n.platform)||qw(n.platform))&&!t.isLoggedInWithMicrosoftAccount&&!t.isSignedInPlatformNetwork;case xY.REALMS:return(Xw(n.platform)||qw(n.platform))&&!t.isSignedInPlatformNetwork||!t.isLoggedInWithMicrosoftAccount;case xY.SERVERS:case xY.TEMPLATES:default:return!t.isLoggedInWithMicrosoftAccount}}),[e],[(0,r.useSharedFacet)(hu),(0,r.useSharedFacet)(il)])}!function(e){e.SERVERS="SERVERS",e.REALMS="REALMS",e.FRIENDS="FRIENDS",e.TEMPLATES="TEMPLATES"}(xY||(xY={}));const AY=()=>{const{t:e}=tc("StartFromTemplateRoute.useTemplateOperations"),t=m(),n=(0,r.useSharedFacet)(qu),a=(0,r.useSharedFacet)(uc),l=Ju(),o=(0,r.useFacetMap)((e=>e.importingTaskState),[],[n]),i=(0,r.useFacetMap)((e=>e.downloadingTaskState),[],[n]),c=uk(((t,n)=>function*(){l({button:"Import",screen:nY.OwnedByMeTab}),t.importWorldTemplate(),yield o,n.queueSnackbar(e(".importNotification")),t.resetImportTask()}),[o,e,l],[n,a]),s=Tv(Ii.CreateFromAddOn),u=(0,r.useSharedFacet)(nc),d=uk(((e,n)=>function*(a,r){if(e.downloadWorldTemplate(a),yield i,e.resetDownloadTask(),s){const e=n.marketplacePassWorldTemplates.find((e=>e.packId===r));if(e&&(e.storeCatalogCategory===Ji.Addon||e.storeCatalogCategory===Ji.ResourcePack))return void t.push(`/create-new-world/resource-packs/active?packid=${r}`)}t.push(`/create-new-world/general/${r}`)}),[i,t,s],[n,u]);return{importTemplate:c,downloadTemplate:d}},NY=n.p+"assets/marketplace-pass-image-sm-92c88.png",RY=n.p+"assets/marketplace-pass-image-260a8.png";function _Y(){const{t:e}=tc("StartFromTemplateRoute.MarketplacePass"),t=Tv(Ii.CreateFromAddOn),{t:n}=tc(t?"StartFromTemplateRoute.getMoreButton.AddOn":"StartFromTemplateRoute.getMoreButton"),l=m(),o=ZX(),i=sd(),c=Ju(),s=Tv(Ii.MarketplaceDiscoveryProduction),u="narrow"===i,d=e(".NoTemplatesMessage.title"),p=e(".NoTemplatesMessage.description"),f=n(".title"),g=n(".body"),E={text:e(".NoTemplatesMessage.button"),onClick:()=>l.push("/settings/discovery_debug"),variant:"primary"},h=(0,r.useSharedFacet)(nc),v=(0,r.useSharedFacet)(hu),b=(0,r.useSharedFacet)(il),y=(0,r.useFacetMap)((e=>e.isOnline),[],[b]),F=(0,r.useFacetMap)((e=>e.marketplacePassWorldTemplates),[],[h]),S=(0,r.useFacetMap)((e=>e.seeMoreMarketplacePassRouteData),[],[h]),C=(0,r.useFacetMap)((({isRealmsPlusSubscriptionActive:e,isMarketplacePassSubscriptionActive:t})=>!e&&!t),[],[v]),M=(0,r.useFacetMap)(((e,t,n)=>e?Xw(n.platform)&&!t.isSignedInPlatformNetwork?"guest-account-playstation":qw(n.platform)&&!t.isSignedInPlatformNetwork?"guest-account-nintendo":s?"tab-content":"non-production-marketplace-environment":"offline"),[s],[y,v,b]),w=(0,r.useFacetMap)((e=>e.refreshTaskState),[],[h]),k=(0,r.useFacetMap)((e=>e===ck.RUNNING),[],[w]),T=(0,r.useFacetCallback)((e=>()=>{c({button:"WantMore",screen:nY.MarketplacePassTab}),l.push(`/marketplace?title=${e.title}&pageId=${e.pageId}`)}),[l,c],[S]);return a.createElement(a.Fragment,null,a.createElement(wf,{text:e(".role")+" . "+e(".title")},a.createElement(wl,{data:M},(t=>{switch(t){case"guest-account-playstation":return a.createElement(aY,null,a.createElement(VI,{context:HI.Playstation}));case"guest-account-nintendo":return a.createElement(aY,null,a.createElement(VI,{context:HI.Nintendo}));case"offline":return a.createElement(aY,null,a.createElement(MI,{text:e(".noInternetMessage")}));case"non-production-marketplace-environment":return a.createElement(aY,null,a.createElement(cb,{title:d,text:p,buttons:[E]}));default:return a.createElement(a.Fragment,null,a.createElement(NU,{loading:k,firstRowSeparatorVertical:a.createElement(DY,{isNotSubscribed:C}),footer:a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(KL,{titleText:f,bodyText:g,onClick:T}),a.createElement(om,{size:2})),data:F,columns:u?1:3,itemSeparatorHorizontal:u?null:a.createElement(om,{size:2}),itemSeparatorVertical:u?null:a.createElement(om,{size:1}),renderItem:({itemFacet:e,index:t,listLengthFacet:n})=>a.createElement(LY,{templateData:e,index:t+1,numberOfTemplates:n,isLocked:C,isNarrow:u}),innerRef:o}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))}}))),a.createElement(ly,{type:"contentful",renderingCompleted:!0}))}function LY({templateData:e,index:t,numberOfTemplates:n,isLocked:l,isNarrow:o}){const i=m(),{downloadTemplate:c}=AY(),s=Tv(Ii.CreateFromAddOn),u=(0,r.useFacetMap)((e=>e.name),[],[e]),d=(0,r.useFacetMap)((e=>e.creator),[],[e]),p=(0,r.useFacetMap)((e=>e.thumbnailPath),[],[e]),f=(0,r.useFacetMap)((e=>e.ratingData),[],[e]),g=(0,r.useFacetCallback)(((e,t)=>()=>{t?i.push(`/marketplace?productId=${e.id}`):(s?e.isInstalled&&!e.isUpdateAvailable:e.isInstalled)?!s||e.storeCatalogCategory!==Ji.Addon&&e.storeCatalogCategory!==Ji.ResourcePack?i.push(`/create-new-world/general/${e.packId}`):i.push(`/create-new-world/resource-packs/active?packid=${e.packId}`):c(e.id,e.packId)}),[c,i,s],[e,l]);return o?a.createElement(kY,{name:u,creator:d,thumbnailPath:p,ratingData:f,isPremium:!0,isLocked:l,narrationIndex:t,containerListLength:n,onAction:g}):a.createElement(MY,{name:u,creator:d,thumbnailPath:p,ratingData:f,isPremium:!0,isLocked:l,narrationIndex:t,containerListLength:n,onAction:g})}function DY({isNotSubscribed:e}){const{t}=tc("StartFromTemplateRoute.MarketplacePass"),n=ia(),l=OY(xY.TEMPLATES),o="narrow"===sd();return a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(wl,{data:e},(e=>e?a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:l},a.createElement(a.Fragment,null,a.createElement(KW,{location:jW.TemplatesScreen_MarketplacePass}),a.createElement(om,{size:2}))),a.createElement(em.Maybe,{isInteractive:n,narrationText:t(".imageNarration")+" . "+t(".imageRole")},a.createElement(Mp,{imageRendering:"pixelated",src:o?NY:RY,aspectRatio:o?{height:90,width:490}:{height:65,width:475}}))):a.createElement(rY,{tab:tY.MarketplacePass}))),a.createElement(om,{size:2}))}const WY=n.p+"assets/import-world-icon-4e8aa.png";let BY,UY;!function(e){e[e.NAME_AZ=1]="NAME_AZ",e[e.NAME_ZA=2]="NAME_ZA"}(BY||(BY={})),function(e){e[e.SHOW_ALL=1]="SHOW_ALL",e[e.MARKETPLACE=2]="MARKETPLACE",e[e.DOWNLOADED=3]="DOWNLOADED",e[e.IMPORTED=4]="IMPORTED"}(UY||(UY={}));const zY=BY.NAME_AZ,jY=UY.SHOW_ALL,HY=n.p+"assets/no-filtered-templates-91571.png";function VY(){const{t:e}=ec("StartFromTemplateRoute.NoFilteredTemplatesMessage"),t=Wb({wide:8,narrow:6,width:256}),n=(0,r.useFacetMap)((e=>e?"TJ2sb":"pCGKv"),[],[t]);return a.createElement(cb,{title:e(".title"),text:e(".message"),imgSrc:HY,imgClass:n})}const GY=function({searchTerm:e,onSearchTermChange:t}){const{t:n}=tc("StartFromTemplateRoute.OwnedByMe");return a.createElement(Vf,{"data-testid":"owned-by-me-search-field-id",value:e,placeholder:n(".searchBar"),placeholderIcon:Hf.MagnifyingGlass,narrationText:n(".searchBar"),onChange:t,onBlur:t,shouldBlurOnEscape:!0,shouldBlurOnEnter:!0})},$Y=function({ownedTemplatesList:e,selectedFilterOption:t,handleFilterChange:n}){const{t:l}=tc("StartFromTemplateRoute.OwnedByMe.Filters"),o=(0,r.useFacetMap)((e=>String(e.length)),[],[e]),i=(0,r.useFacetMemo)((e=>String(e.filter((e=>e.ownedWorldTemplateData.isPremium)).length)),[],[e]),c=(0,r.useFacetMemo)((e=>String(e.filter((e=>e.ownedWorldTemplateData.isPremium&&e.ownedWorldTemplateData.isInstalled)).length)),[],[e]),s=(0,r.useFacetMemo)((e=>String(e.filter((e=>!e.ownedWorldTemplateData.isPremium)).length)),[],[e]),u=(0,r.useFacetMemo)(((e,t,n,a)=>[{label:l(".showAll",[e]),value:UY.SHOW_ALL,enumeration:l(".optionEnumeration",["1","4"])},{label:l(".downloaded",[n]),value:UY.DOWNLOADED,enumeration:l(".optionEnumeration",["2","4"])},{label:l(".imported",[a]),value:UY.IMPORTED,enumeration:l(".optionEnumeration",["3","4"])},{label:l(".marketplace",[t]),value:UY.MARKETPLACE,enumeration:l(".optionEnumeration",["4","4"])}]),[l],[o,i,c,s]);return a.createElement(vx,{title:l(".filterTitle"),options:u,value:t,onItemSelect:n,buttonTestId:"filter-dropdown-button",matchButtonHeight:!0})},KY=function({selectedSortOption:e,handleSortChange:t}){const{t:n}=tc("StartFromTemplateRoute.OwnedByMe.Filters"),r=(0,a.useMemo)((()=>[{label:n(".nameAZ"),value:BY.NAME_AZ,enumeration:n(".optionEnumeration",["1","2"]),narrationText:n(".nameAZ.narration")},{label:n(".nameZA"),value:BY.NAME_ZA,enumeration:n(".optionEnumeration",["2","2"]),narrationText:n(".nameZA.narration")}]),[n]);return a.createElement(vx,{title:n(".sortingTitle"),options:r,value:e,onItemSelect:t,buttonTestId:"sort-dropdown-button",matchButtonHeight:!0})},XY=function({Filter:e,Sort:t,ImportButton:n,SearchField:r,showImportButtonFacet:l}){const o="desktop"===sd()?"IzKGH":"tkDJ7";return a.createElement(wl,{data:l},(l=>l?a.createElement(a.Fragment,null,a.createElement("div",{className:o},a.createElement(Yv.Column,{wideSize:6,narrowSize:4},r),a.createElement(Yv.Column,{wideSize:6,narrowSize:4},n)),a.createElement(om,{size:2}),a.createElement("div",{className:o},a.createElement(Yv.Column,{wideSize:6,narrowSize:4},e),a.createElement(Yv.Column,{wideSize:6,narrowSize:4},t))):a.createElement("div",{className:o},a.createElement(Yv.Column,{wideSize:4,narrowSize:4},r),a.createElement(Yv.Column,{wideSize:4,narrowSize:2},e),a.createElement(Yv.Column,{wideSize:4,narrowSize:2},t))))},YY=n.p+"assets/trial-mode-modal-art-3fb6d.png",qY={pixelArt:"GtOwO"},QY="trial-mode-modal-template-screen",JY=Km((({onClose:e})=>{const{t}=ec("StartFromTemplateRoute.TrialModeModal"),n=sI(),r=(0,a.useCallback)((()=>{n(),e()}),[n,e]);return a.createElement(vE,{defaultFocusAlias:QY},a.createElement(vE.Header,{onClose:e},t(".title")),a.createElement(vE.Content,{className:qY.content},a.createElement(om,{size:4}),a.createElement(Mp,{src:YY,imageRendering:"pixelated",className:qY.pixelArt}),a.createElement(vE.Text,{narrationText:t(".message"),center:!0},t(".message"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:QY,inputLegend:t(".button"),onClick:r,variant:"primary"},t(".button"))))})),ZY=Km((({onClose:e})=>{const{t}=ec("StartFromTemplateRoute.OwnedByMe.downloadUnavailableModal"),n=t(".title"),r=t(".message"),l=t(".goBack");return a.createElement(vE,null,a.createElement(vE.Header,null,n),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:r,center:!0},r)),a.createElement(vE.Buttons,null,a.createElement(mg,{inputLegend:l,variant:"secondary",onClick:e},l)))})),eq=Km((()=>{const{t:e}=ec("StartFromTemplateRoute.OwnedByMe.ImportTemplateModal"),t=e(".title");return a.createElement(vE,null,a.createElement(vE.Header,null,t),a.createElement(vE.Content,null,a.createElement(vE.Spinner,null)))})),tq=n.p+"assets/no-content-art-f5417.png";function nq({importTemplate:e}){const{t}=ec("StartFromTemplateRoute.noContentMessage"),n=m(),l=(0,r.useSharedFacet)(il),o=(0,r.useFacetMap)((e=>Zw(e.platform,e.arvrPlatform)),[],[l]),i=(0,a.useCallback)((()=>{n.push("/marketplace")}),[n]),c=(0,r.useFacetMemo)((n=>n?[{text:t(".goToMarketplaceButton"),inputLegend:t(".goToMarketplaceButton"),onClick:i},{text:t(".importButton"),inputLegend:t(".importButton"),imgSrc:WY,onClick:e}]:[{text:t(".goToMarketplaceButton"),inputLegend:t(".goToMarketplaceButton"),onClick:i}]),[i,e,t],[o]),s=Db({wide:8,narrow:6,width:256});return a.createElement(cb,{title:t(".title"),text:t(".message"),imgSrc:tq,imgClass:s?"LwVZ5":"jLAoa",buttons:c})}function aq(){const{t:e}=ec("StartFromTemplateRoute.OwnedByMe"),t=(0,a.useRef)(null),n=ZX(),l=p(),{delegationEventFacet:o,delegateFocus:i}=mp(),c=sd(),s="narrow"===c,u=ZY.useModal(),d=eq.useModal(),m=JY.useModal(),{sortTemplates:f,filterTemplates:g,selectedSortOption:E,selectedFilterOption:h,handleSortChange:v,handleFilterChange:b}=(()=>{const[e,t]=(0,r.useFacetState)(zY),[n,l]=(0,r.useFacetState)(jY),o=p();(0,r.useFacetEffect)((e=>{e||(t(zY),l(jY))}),[l,t],[o]);const i=(0,a.useCallback)((e=>{t(e)}),[t]),c=(0,a.useCallback)((e=>{l(e)}),[l]);return{selectedSortOption:e,selectedFilterOption:n,sortTemplates:(0,a.useCallback)(((e,t)=>e.sort(((e,n)=>{const a=e.ownedWorldTemplateData,r=n.ownedWorldTemplateData;switch(t){case BY.NAME_AZ:return a.name.localeCompare(r.name);case BY.NAME_ZA:return r.name.localeCompare(a.name);default:return 0}}))),[]),filterTemplates:(0,a.useCallback)(((e,t)=>e.filter((e=>{const n=e.ownedWorldTemplateData;switch(t){case UY.MARKETPLACE:return n.isPremium;case UY.DOWNLOADED:return n.isPremium&&n.isInstalled;case UY.IMPORTED:return!n.isPremium;case UY.SHOW_ALL:default:return!0}}))),[]),handleSortChange:i,handleFilterChange:c}})(),{importTemplate:y}=AY(),{narrateText:F}=gf({interruptible:!1}),[S,C]=(0,r.useFacetState)(""),[M,w]=(0,r.useFacetState)(!1),[k,T]=(0,r.useFacetState)(9),I=(0,r.useSharedFacet)($u),P=(0,r.useSharedFacet)(qu),x=(0,r.useSharedFacet)(il),O=(0,r.useSharedFacet)(uc),A=(0,r.useFacetMap)((e=>e.isOnline),[],[x]),N=(0,r.useFacetMemo)((e=>e.ownedTemplateWorldList.filter((e=>!e.ownedWorldTemplateData.isLocked))),[],[I]),R=(0,r.useFacetMap)((e=>0===e.length),[],[N]),_=(0,r.useFacetMap)(((e,t)=>e&&!t?"offline":e?"no-templates":"tab-details"),[],[R,A]),L=(0,r.useFacetMemo)(((e,t,n,a)=>{const r=g(e,n),l=f(r,a);return""!=t?l.filter((e=>e.ownedWorldTemplateData.name.toLowerCase().includes(t.toLowerCase()))):l}),[g,f],[N,S,h,E]),D=(0,r.useFacetMap)((e=>e.length),[],[L]),W=(0,r.useFacetMap)(((e,t)=>e.slice(0,t)),[],[L,k]),B=(0,r.useFacetMap)((e=>e.length),[],[W]),U=(0,r.useFacetMap)((e=>0==e.length),[],[L]),z=(0,r.useFacetMap)((e=>Zw(e.platform,e.arvrPlatform)),[],[x]),j=(0,r.useFacetCallback)((e=>()=>{e?m.show():y()}),[y,m],[(0,r.useSharedFacet)(vu)]),H=(0,r.useFacetMap)((t=>t?[{text:e(".importButtonOffline"),inputLegend:e(".importButtonOffline"),imgSrc:WY,onClick:j}]:[]),[e,j],[z]),V=(0,r.useFacetMap)((e=>e.importingTaskState===ck.RUNNING),[],[P]),G=(0,r.useFacetMap)((e=>Zw(e.platform,e.arvrPlatform)),[],[x]),$=(0,r.useFacetMap)((e=>e.importingTaskResult),[],[P]),K=(0,a.useMemo)((()=>{switch(c){case"desktop":return a.createElement(om,{size:4});case"tablet":return a.createElement(om,{size:2});default:return null}}),[c]),X=(0,r.useFacetCallback)(((t,n,a)=>()=>{if(!t)return;w(!1);const r=n.length,l=[e(".searchResult.name"),e(".searchResult.role")];""===a?l.push(e(".searchResult.hint.cleared")):0===r?l.push(e(".searchResult.hint.noResult")):1===r?l.push(e(".searchResult.hint.oneResult")):r>1&&l.push(e(".searchResult.hint.multiResult",[`${r}`])),F(l.join(" . "))}),[F,w,e],[M,L,S]),Y=(0,r.useFacetCallback)((()=>e=>{C(e),w(!0),X()}),[X,C,w],[]),q=(0,r.useFacetCallback)((e=>()=>e.resetImportTask()),[],[P]),Q=(0,a.useCallback)((({children:e})=>a.createElement(fp,{delegationEvent:o},a.createElement(Fp,{containerRef:t,delegateFocusFromMemory:!0},a.createElement("div",{ref:t},e)))),[t,o]);return(0,a.useEffect)((()=>{X()}),[X]),(0,r.useFacetEffect)((e=>{e?d.show():d.hide()}),[d],[V]),(0,r.useFacetEffect)((e=>{e||T(9)}),[T],[l]),(0,r.useFacetEffect)(((t,n)=>{n===Xu.Cancelled&&(t.queueSnackbar(e(".importCancelled")),q())}),[e,q],[O,$]),a.createElement(a.Fragment,null,a.createElement(wf,{text:e(".role")+" . "+e(".title")},a.createElement(wl,{data:_},(t=>{switch(t){case"offline":return a.createElement(aY,null,a.createElement(MI,{text:e(".noInternetMessage"),buttons:H}));case"no-templates":return a.createElement(aY,null,a.createElement(nq,{importTemplate:j}));default:return a.createElement(a.Fragment,null,a.createElement(lq,{showImportButton:G,searchTerm:S,ownedTemplatesList:N,selectedSortOption:E,selectedFilterOption:h,handleSortChange:v,handleFilterChange:b,importTemplate:j,onSearchTermChange:Y}),a.createElement(NU,{data:W,columns:s?1:3,firstRowSeparatorVertical:a.createElement(om,{size:1}),itemSeparatorHorizontal:K,itemSeparatorVertical:s?null:a.createElement(om,{size:1}),footer:a.createElement(r.Mount,{when:U,condition:!1},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(oq,{totalTemplatesCount:D,visibleTemplatesCount:B,scrollViewRef:n,delegateFocus:i,setTemplatesCountAllowedToBeShown:T}))),listWrapper:Q,renderItem:({itemFacet:e,index:t,listLengthFacet:n})=>a.createElement(rq,{templateData:e,index:t,numberOfTemplates:n,showDownloadUnavailableModal:u.show}),innerRef:n,emptyMessage:a.createElement(VY,null)}),a.createElement(r.Mount,{when:u.isVisible},a.createElement(ZY.Component,{onClose:u.hide})),a.createElement(r.Mount,{when:m.isVisible},a.createElement(JY.Component,{onClose:m.hide})),a.createElement(r.Mount,{when:d.isVisible},a.createElement(eq.Component,null)),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))}}))),a.createElement(ly,{type:"contentful",renderingCompleted:!0}))}function rq({templateData:e,index:t,numberOfTemplates:n,showDownloadUnavailableModal:l}){const{downloadTemplate:o}=AY(),i=m(),c="narrow"===sd(),s=(0,r.useSharedFacet)(il),u=(0,r.useFacetMap)((e=>e.ownedWorldTemplateData),[],[e]),d=(0,r.useFacetMap)((e=>e.name),[],[u]),p=(0,r.useFacetMap)((e=>e.creator),[],[u]),f=(0,r.useFacetMap)((e=>e.thumbnailPath),[],[e]),g=(0,r.useFacetMap)((e=>e.isInstalled),[],[u]),E=(0,r.useFacetMap)((e=>e.isPremium),[],[u]),h=(0,r.useFacetMap)((e=>e.canBeRated),[],[e]),v=(0,r.useFacetMap)((e=>e.isOnline),[],[s]),b=(0,r.useFacetCallback)(((e,t,n)=>()=>{t?i.push(`/create-new-world/general/${e.localId}`):n?o(e.marketplaceId,e.localId):l()}),[o,i,l],[u,g,v]),y=(0,r.useFacetCallback)((e=>()=>{i.push(`/marketplace?packId=${e.localId}&focusRateSection`)}),[i],[u]);return a.createElement(a.Fragment,null,c?a.createElement(kY,{name:d,creator:p,thumbnailPath:f,narrationIndex:t,containerListLength:n,onAction:b,onAdditionalAction:y,isPremium:E,isInstalled:g,isRateable:h,isOwnedByMeTab:!0}):a.createElement(MY,{name:d,creator:p,thumbnailPath:f,narrationIndex:t,containerListLength:n,onAction:b,onAdditionalAction:y,isPremium:E,isInstalled:g,isRateable:h,isOwnedByMeTab:!0}))}function lq({showImportButton:e,searchTerm:t,ownedTemplatesList:n,selectedSortOption:r,selectedFilterOption:l,handleSortChange:o,handleFilterChange:i,importTemplate:c,onSearchTermChange:s}){const{t:u}=ec("StartFromTemplateRoute.OwnedByMe"),d="narrow"===sd(),m=(0,a.useMemo)((()=>a.createElement($Y,{ownedTemplatesList:n,selectedFilterOption:l,handleFilterChange:i})),[n,l,i]),p=(0,a.useMemo)((()=>a.createElement(KY,{selectedSortOption:r,handleSortChange:o})),[r,o]),f=(0,a.useMemo)((()=>a.createElement(mg,{onClick:c,imgSrc:WY,inputLegend:u(".importButton")},u(".importButton"))),[c,u]),g=(0,a.useMemo)((()=>a.createElement(GY,{onSearchTermChange:s,searchTerm:t})),[s,t]);return a.createElement(a.Fragment,null,!d&&a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(rY,{tab:tY.OwnedByMe})),a.createElement(om,{size:2}),a.createElement(XY,{Filter:m,ImportButton:f,SearchField:g,Sort:p,showImportButtonFacet:e}),a.createElement(om,{size:2}))}function oq({totalTemplatesCount:e,visibleTemplatesCount:t,scrollViewRef:n,delegateFocus:l,setTemplatesCountAllowedToBeShown:o}){const{t:i}=ec("StartFromTemplateRoute.OwnedByMe"),c=i(".Footer.backToTop"),s=i(".Footer.loadMoreResults"),u=(0,a.useRef)(null),d=(0,r.useFacetMap)(((e,t)=>t<e),[],[e,t]),m=(0,r.useFacetMap)((e=>e>9),[],[t]),p=(0,r.useFacetMap)(((e,t)=>e&&t),[],[m,d]),f=(0,r.useFacetMap)((e=>e?i(".Footer.buttonEnumeration",["1","2"]):""),[i],[p]),g=(0,r.useFacetMap)((e=>e?i(".Footer.buttonEnumeration",["2","2"]):""),[i],[p]),E=(0,a.useCallback)((()=>{o((e=>e===r.NO_VALUE?e:e+9)),l.memory()}),[o,l]),h=(0,r.useFacetCallback)((e=>()=>{n.current&&(e&&(n.current.scrollTop=0),l.first())}),[l,n],[lt()]);return a.createElement(Fp,{containerRef:u},a.createElement("div",{className:"n_hs_",ref:u},a.createElement(r.Mount,{when:m},a.createElement(mg,{horizontal:!0,narrationSuffix:f,inputLegend:c,onClick:h},c)),a.createElement(r.Mount,{when:p},a.createElement(om,{size:2})),a.createElement(r.Mount,{when:d},a.createElement(mg,{horizontal:!0,narrationSuffix:g,inputLegend:s,onClick:E},s))),a.createElement(om,{size:2}))}function iq(e="Play"){const t=m(),n=Ju();return(0,a.useCallback)((()=>{n({button:"CreateNewWorld",screen:e}),t.push("/create-new-world")}),[n,e,t])}function cq({item:e}){const{t}=ec("StartFromTemplateRoute.SideMenu"),n=m(),l=f(),o=(0,r.useFacetMap)((e=>e.label),[],[e]),i=(0,r.useFacetMap)((e=>e.value),[],[e]),c=(0,r.useFacetMap)(((e,t)=>e.value==t.tab),[],[e,l]),s=(0,r.useFacetCallback)((e=>()=>{n.replace(`/start-from-template/${e}`)}),[n],[i]);return a.createElement(RP.ListItem,{narrationText:o,value:i,onSelect:s,inputLegend:t(".inputLegend"),selected:c},a.createElement(fm,{type:"body"},a.createElement(am,null,o)))}function sq(){const{t:e}=ec("StartFromTemplateRoute.SideMenu"),t=(0,ec("SideMenu").t)(".narrationRoleMenu"),n=(0,r.useSharedFacet)($u),l=Tv(Ii.NewPlayScreenB),o=Tv(Ii.NewPlayScreenD),i=(0,r.useFacetWrap)(l||o),c=(0,r.useFacetMemo)((t=>e(".ownedByMe",[String(t.ownedTemplateWorldList.filter((e=>!e.ownedWorldTemplateData.isLocked)).length)])),[e],[n]),s=(0,r.useFacetMap)((t=>[{label:e(".marketplacePass"),value:tY.MarketplacePass},{label:e(".featured"),value:tY.Featured},{label:t,value:tY.OwnedByMe}]),[e],[c]),u=iq("Template");return a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(RP,{role:"neutralAlpha60",narrationRole:t,spacingAroundSideMenu:a.createElement(a.Fragment,null),hideInputLegendSpace:!0},a.createElement(r.Mount,{when:i},a.createElement(a.Fragment,null,a.createElement(RP.Item,null,a.createElement(mg,{onClick:u,inputLegend:e(".cnwButton"),variant:"primary"},e(".cnwButton"))),a.createElement(om,{size:2}))),a.createElement(RP.ItemList,{items:s,renderItem:cq}),a.createElement("div",{className:"LVVPa"}),a.createElement(MT,{tab:"template",borderless:!0,transparent:!0})))}const uq=Km((()=>{const{t:e}=ec("StartFromTemplateRoute.InitializationModal");return a.createElement(vE,null,a.createElement(vE.Header,null,e(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:e(".message")},e(".message"))))})),dq=Km((({hideCloseButton:e,onClose:t})=>{const n=(0,r.useSharedFacet)(qu),{t:l}=ec("StartFromTemplateRoute.DownloadModal"),o=(0,r.useFacetMap)((e=>e.downloadingProgressPercent),[],[n]),i=(0,r.useFacetMap)((e=>`${e.downloadingProgressBytes} / ${e.downloadTotalBytes}`),[],[n]);return a.createElement(vE,null,a.createElement(vE.Header,{hideCloseButton:e,onClose:t},l(".title")),a.createElement(vE.Content,null,a.createElement(vE.InformativeProgress,{percentage:o,label:i})))})),mq=Km((()=>{const e=(0,r.useSharedFacet)(qu),{t}=ec("StartFromTemplateRoute.InstallModal"),n=(0,r.useFacetMap)((e=>e.downloadingProgressPercent),[],[e]);return a.createElement(vE,null,a.createElement(vE.Header,null,t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Progress,{percentage:n})))}));function pq(e,t){if(null!=e)switch(e){case Xu.MalformedZip:return"MalformedZip";case Xu.Duplicate:return"Duplicate";default:return"GenericError"}else switch(t){case Yu.DownloadFailed:return"DownloadFailed";case Yu.InsufficientStorage:return"InsufficientStorage";default:return"GenericError"}}const fq=Km((()=>{const{t:e}=ec("StartFromTemplateRoute.TemplateOperationsErrorModal"),t=m(),n=(0,r.useSharedFacet)(qu),l=(0,r.useFacetMap)((e=>e.importingTaskResult),[],[n]),o=(0,r.useFacetMap)((e=>e.downloadingTaskResult),[],[n]),i=(0,r.useFacetMap)(((t,n)=>e(`.title.${pq(t,n)}`)),[e],[l,o]),c=(0,r.useFacetMap)(((t,n)=>e(`.description.${pq(t,n)}`)),[e],[l,o]),s=(0,r.useFacetMap)(((t,n)=>e(`.button.${pq(t,n)}`)),[e],[l,o]),u=(0,r.useFacetCallback)((e=>()=>{e.resetDownloadTask(),e.resetImportTask()}),[],[n,o]),d=(0,r.useFacetCallback)((e=>()=>{u(),e===Yu.InsufficientStorage&&t.push("/settings/marketplace_debug")}),[t,u],[o]);return a.createElement(vE,null,a.createElement(vE.Header,{onClose:u},i),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:c,center:!0},c)),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:"template-operations-error-modal-button",inputLegend:s,variant:"secondary",onClick:d},s)))})),gq=()=>{const{t:e}=tc("StartFromTemplateRoute"),t=(0,r.useSharedFacet)(qu),n=(0,r.useSharedFacet)(uc),l=(0,r.useFacetMap)((e=>e.downloadingStatus),[],[t]),o=(0,r.useFacetMap)((e=>e===Ku.Initialising),[],[l]),i=(0,r.useFacetMap)((e=>e===Ku.Downloading),[],[l]),c=(0,r.useFacetMap)((e=>e===Ku.Importing),[],[l]),s=(0,r.useFacetMap)((e=>!e.canDownloadBeCancelled),[],[t]),u=(0,r.useFacetMap)((e=>e.importingTaskResult),[],[t]),d=(0,r.useFacetMap)((e=>e.downloadingTaskResult),[],[t]),m=(0,r.useFacetMap)(((e,t)=>null!=e&&e!==Xu.Cancelled||null!=t),[],[u,d]),p=(0,r.useFacetMap)((e=>e.downloadingStatus),[],[t]),f=(0,r.useFacetCallback)((e=>()=>{e.cancelDownload(),e.resetDownloadTask()}),[],[t]);return(0,r.useFacetEffect)(((t,n)=>{t===Ku.Importing&&n.queueSnackbar(e(".notification.downloadComplete"))}),[e],[p,n]),a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:o},a.createElement(uq.Component,null)),a.createElement(r.Mount,{when:i},a.createElement(dq.Component,{hideCloseButton:s,onClose:f})),a.createElement(r.Mount,{when:c},a.createElement(mq.Component,null)),a.createElement(r.Mount,{when:m},a.createElement(fq.Component,null)))};function Eq(){const{t:e}=ec("StartFromTemplateRoute"),t=Tv(Ii.CreateFromAddOn),n="narrow"===sd(),l=(0,r.useSharedFacet)(nc),o=(0,r.useSharedFacet)(Gu),i=(0,r.useFacetCallback)(((e,t)=>()=>{e.refreshOffers(),t.refreshOffers()}),[],[l,o]),c=(0,r.useFacetCallback)(((e,t)=>()=>{e.clearRefreshTaskState(),t.clearRefreshTaskState()}),[],[l,o]);return(0,a.useEffect)((()=>(i(),()=>{c()})),[i,c]),a.createElement(AP,{gamepadAlias:"start-from-template",title:e(t?".title.AddOn":".title"),screenAnalyticsId:"StartFromTemplate"},(()=>a.createElement(Yv,null,a.createElement(Yv.Row,{fullHeight:!0},a.createElement(Yv.Column,{wideSize:4,narrowSize:3},a.createElement(Ef,{floating:!0},a.createElement(sq,null))),a.createElement(Yv.Column,{wideSize:8,narrowSize:5},a.createElement("div",{className:Dr()("wicxF",{kBm0K:n})},a.createElement(iy,{route:tY.MarketplacePass,Component:_Y,wideSize:12,narrowSize:8}),a.createElement(iy,{route:tY.Featured,Component:TY,wideSize:12,narrowSize:8}),a.createElement(iy,{route:tY.OwnedByMe,Component:aq,wideSize:12,narrowSize:8})))),a.createElement(iE.Space,null),a.createElement(gq,null))))}const hq=n.p+"assets/hanger-3e72e.png",vq=n.p+"assets/options-4558c.png",bq=n.p+"assets/icon_alex-5480b.png",yq=n.p+"assets/friends-6037f.png",Fq=n.p+"assets/checkmark_square-3c7c4.png",Sq="iz6nc",Cq="LK0BH",Mq="zJoVE",wq="EpL3l",kq="bGH5b",Tq="ydd66",Iq="n8N0j";function Pq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pq(Object(n),!0).forEach((function(t){Oq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oq(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let Aq;!function(e){e[e.RemoveFriend=0]="RemoveFriend",e[e.Block=1]="Block",e[e.Mute=2]="Mute",e[e.Report=3]="Report",e[e.ViewXboxProfile=4]="ViewXboxProfile",e[e.ShareMyProfile=5]="ShareMyProfile",e[e.SignOut=6]="SignOut",e[e.PrivacyAndSafety=7]="PrivacyAndSafety",e[e.AddToFavorites=8]="AddToFavorites",e[e.RemoveFromFavorites=9]="RemoveFromFavorites",e[e.ManageAccountXboxApp=10]="ManageAccountXboxApp"}(Aq||(Aq={}));const Nq=Km((function({onClose:e,onShare:t,player:n}){const{t:l}=ec("PlayerOptionsModal"),o=(0,r.useSharedFacet)(_c),i=(0,r.useFacetWrap)(n),c=(0,r.useSharedFacet)(yu),s=(0,r.useSharedFacet)(hu),u=(0,r.useSharedFacet)(il),d=m(),p=(0,r.useSharedFacet)(Gi),f=Tv(Ii.NewFriendsDrawer),g=(0,r.useFacetMap)(((e,t,n,a)=>{const r=t.platform,o=ek(t.platform);let i=[];if(e.relation===wc.Self)i=[{label:l(".shareMyProfile"),value:Aq.ShareMyProfile,testId:"share-my-profile"}],r===Ke.UWP||r===Ke.XBOX||a.isInGame||i.push({label:l(".signOut"),value:Aq.SignOut,testId:"sign-out"}),r===Ke.UWP&&i.push({label:l(".manageAccount"),value:Aq.ManageAccountXboxApp,Icon:nM.ExternalLink,testId:"manage-account"}),r!==Ke.UWP&&o&&i.push({label:l(".manageXboxProfile"),value:Aq.ViewXboxProfile,Icon:nM.ExternalLink,testId:"manage-xbox-profile"}),o&&i.push({label:l(".privacyAndSafety"),value:Aq.PrivacyAndSafety,Icon:nM.ExternalLink,testId:"privacy-and-safety"});else{if(i=[{label:l(".block"),value:Aq.Block,isSelected:e.isBlocked,isSelectable:!0,testId:"block-player"},{label:l(".mute"),value:Aq.Mute,isSelected:e.isMuted,isSelectable:!0,testId:"mute-player"},{label:l(".report"),value:Aq.Report,testId:"report-player"}],n.userPermissions.addFriends.allowed&&(e.relation===wc.TwoWayFriend||e.relation===wc.Following)&&(i.unshift({label:l(".removeFriend"),value:Aq.RemoveFriend,testId:"remove-friend"}),f)){const t=e.favoriteStatus===Tc.FAVORITE;i.unshift({label:l(t?".removeFromFavorites":".addToFavorites"),value:t?Aq.RemoveFromFavorites:Aq.AddToFavorites,testId:t?"remove-from-favorites":"add-to-favorites"})}o&&i.push({label:l(".viewXboxProfile"),value:Aq.ViewXboxProfile,Icon:nM.ExternalLink,testId:"view-xbox-profile"})}return i.map(((e,t)=>xq(xq({},e),{},{gamepadAlias:`options${t}`,enumeration:l(".optionsEnumeration",[`${t+1}`,`${i.length}`])})))}),[l,f],[i,u,s,p]),E=(0,r.useFacetCallback)(((e,t)=>()=>t.favorite(e.xuid)),[],[i,o]),h=(0,r.useFacetCallback)(((e,t)=>()=>t.unfavorite(e.xuid)),[],[i,o]),v=(0,r.useFacetCallback)(((e,t)=>()=>e.removeFriend(t.xuid)),[],[o,i]),b=(0,r.useFacetCallback)(((e,t)=>()=>t.isBlocked?e.unblock(t.xuid):e.block(t.xuid)),[],[o,i]),y=(0,r.useFacetCallback)(((e,t)=>()=>t.isMuted?e.unmute(t.xuid):e.mute(t.xuid)),[],[o,i]),F=(0,r.useFacetCallback)((e=>()=>{const t=e.relation===wc.TwoWayFriend||e.relation===wc.Following;d.push(MG(e.xuid,""===e.xblName?e.platformName:e.xblName,t,e.platformId))}),[d],[i]),S=(0,r.useFacetCallback)((e=>()=>e.openLink(bu.XboxPrivacyAndOnlineSafety)),[],[c]),C=(0,r.useFacetCallback)(((e,t)=>()=>t.openLinkWithParams(bu.XboxAccountProfile,`?gamertag=${e.xblName}&xuid=${e.xuid}&uuid=0`)),[],[i,c]),M=(0,r.useFacetCallback)((e=>()=>{e.signOutOfMicrosoftAccount()}),[],[s]),w=(0,r.useFacetCallback)((e=>()=>{e.manageMicrosoftAccount()}),[],[s]),k=(0,a.useCallback)((()=>{t()}),[t]),T=(0,a.useCallback)((t=>{switch(t){case Aq.RemoveFriend:v();break;case Aq.Block:b();break;case Aq.Mute:y();break;case Aq.Report:F();break;case Aq.ViewXboxProfile:C();break;case Aq.ShareMyProfile:k();break;case Aq.SignOut:M();break;case Aq.PrivacyAndSafety:S();break;case Aq.ManageAccountXboxApp:w();break;case Aq.AddToFavorites:E();break;case Aq.RemoveFromFavorites:h()}e(t)}),[v,b,y,F,e,S,C,M,w,k,E,h]);return a.createElement(lT,{onClose:e,onItemSelect:T,isOpen:!0,title:l(".optionsTitle"),items:g})})),Rq=Km((function({onClose:e}){const{t}=ec("ShareCurrentPlayerProfileModal");return a.createElement(vE,null,a.createElement(vE.Header,{onClose:e},t(".title")),a.createElement(vE.Content,null,a.createElement(om,{size:3}),a.createElement(eB,null),a.createElement(om,{size:3})))})),_q=n.p+"assets/IconAddPlayerGrey-565a6.png";function Lq(){return Lq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Lq.apply(this,arguments)}const Dq=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("TOlhy",t);return a.createElement(Mp,Lq({},n,{className:r,src:_q,imageRendering:"pixelated"}))},Wq="player-card-options-button",Bq="player-card-action-button";function Uq({playerFacet:e,featuredImgSrc:t,featuredImgLoading:n}){const{t:l}=ec("PlayerCard"),o=Fr("neutral80"),i=sd(),c=(0,r.useFacetWrap)("narrow"===i),s=Nq.useModal(),u=Se(),d=Rq.useModal(),p=(0,r.useSharedFacet)(hu),f=m(),g=E(),h=(0,r.useFacetMap)((e=>""!=e.xblName?e.xblName:""!=e.platformName?e.platformName:e.offlineName),[],[e]),v=Sk((0,r.useFacetMap)((e=>({xuid:"",gamerTag:"",gamerIcon:"",variant:"player",presence:e.presence,platform:void 0,presenceMessage:"",titleName:e.titleName,favoriteStatus:e.favoriteStatus,location:Rc.PROFILE_MAIN})),[],[e]),"PlayerCard"),b=(0,r.useFacetMap)((e=>""===e.realName?void 0:e.realName),[],[e]),y=(0,r.useFacetMap)((({status:e},t)=>null!=t?t:e),[],[v,b]),F=(0,r.useFacetMap)((e=>!(""!==e.xuid||""!==e.platformId)||"if-enabled"),[],[e]),S=a.createElement(Ow,{src:(0,r.useFacetMap)((e=>""!==e.xblProfilePic?e.xblProfilePic:""!==e.platformProfilePic?e.platformProfilePic:bq),[],[e]),variant:"large",status:(0,r.useFacetMap)((({avatar:e})=>e),[],[v]),usePersonaPicRendering:F,shouldShowNewStatus:!0}),C=fk(e),M=(0,r.useFacetMap)(((e,t,n)=>{let a="add-friend",r=!1;switch(e.relation){case wc.Self:a="dressing-room";break;case wc.TwoWayFriend:a=n?"join":"friends";break;case wc.Following:a="added";break;case wc.Follower:case wc.Stranger:a="add-friend",r=!t.userPermissions.addFriends.allowed}return{type:a,disabled:r}}),[],[e,p,C]),w=(0,r.useFacetMap)(((e,t)=>!!e.avatar&&!t&&e.avatarState===du.Success),[],[e,c]),k=a.createElement("div",{className:Cq},a.createElement(wl,{data:w},(e=>e?a.createElement(a.Fragment,null,a.createElement("div",{className:"WSUNe"}),a.createElement(om,{size:2})):a.createElement(a.Fragment,null,S,a.createElement(om,{size:2})))),a.createElement("div",{className:"KsdEj"},a.createElement(om,{size:1}),a.createElement(Hq,{displayName:h,description:y}),a.createElement(om,{size:1}))),T=(0,a.useCallback)((e=>{s.hide(),e!==Aq.ShareMyProfile&&u(Wq)}),[s,u]),I=(0,a.useCallback)((()=>{d.hide(),u(Wq)}),[d,u]),P=(0,r.useFacetMap)(((e,t,{status:n})=>[l(".cardNarration"),e,t,n].join(" . ")),[l],[h,b,v]),x=(0,r.useFacetCallback)((e=>()=>{f.push(KI("set-featured-screenshot",e))}),[f],[g]),O=(0,r.useFacetWrap)(Tv(Ii.ScreenshotsGallery)),A=(0,r.useFacetWrap)(Tv(Ii.ScreenshotsShowcase)),N=(0,r.useFacetWrap)(n),R=(0,r.useFacetMap)(((e,t,n,a)=>e.relation===wc.Self&&""!==e.xuid&&t&&n&&!a),[],[e,O,A,N]),_=b$((0,r.useFacetMap)((e=>""===e.xuid?e.platformId:e.xuid),[],[e])),L=(0,r.useFacetMap)(((e,t)=>""===e?t:e),[],[(0,r.useFacetWrap)(t),_]),D=Mp.aspectRatioToPercentage(Mp.AspectRatio["16:9"]);return a.createElement(a.Fragment,null,a.createElement(Xa,{role:"neutral"},a.createElement(wf,{text:P},a.createElement(r.Mount,{when:c},a.createElement("div",{className:Dr()(Sq,"OM_ft",o.background.base,o.border.base)},a.createElement("div",{className:"InmKR"},k,a.createElement(om,{size:2}),a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>e.relation!==wc.Unknown),[],[e])},a.createElement(Vq,{playerFacet:e,buttonsState:M,optionsClick:s.show}))),a.createElement("div",{className:"Qs6Fq"},a.createElement(zq,{playerFacet:e}),a.createElement(r.Mount,{when:N,condition:!1},a.createElement(Mp,{className:Dr()(kq,o.border.base),src:L,imageRendering:"pixelated",aspectRatio:Mp.AspectRatio["16:9"]})),a.createElement(r.Mount,{when:N},a.createElement("div",{style:{paddingTop:D},className:Dr()(kq,o.border.base)},a.createElement("div",{className:Tq},a.createElement("div",{className:Iq},a.createElement(ff,null))))),a.createElement(r.Mount,{when:R},a.createElement(hT,{inputLegend:l(".setFeaturedScreenshot"),narrationText:l(".setFeaturedScreenshot"),onClick:x,"data-testid":"set-featured-image-button",className:"gInOJ"},a.createElement(nM.EditImage,null)))))),a.createElement(r.Mount,{when:c,condition:!1},a.createElement("div",{className:Dr()(Sq,o.background.base,o.border.base)},a.createElement("div",{className:"TJn_r"},a.createElement(r.Mount,{when:N,condition:!1},a.createElement(Mp,{className:Dr()(wq,o.border.base),src:L,imageRendering:"pixelated",aspectRatio:Mp.AspectRatio["16:9"]})),a.createElement(r.Mount,{when:N},a.createElement("div",{style:{paddingTop:D},className:Dr()(wq,o.border.base)},a.createElement("div",{className:Tq},a.createElement("div",{className:Iq},a.createElement(ff,null))))),a.createElement(zq,{playerFacet:e}),a.createElement(jq,{playerFacet:e}),a.createElement(r.Mount,{when:w},a.createElement("div",{className:"BschF"},S)),a.createElement(r.Mount,{when:R},a.createElement(hT,{inputLegend:l(".setFeaturedScreenshot"),narrationText:[l(".setFeaturedScreenshot"),l(".buttonRole")].join(" . "),onClick:x,"data-testid":"set-featured-image-button",className:"VWtd5"},a.createElement(nM.EditImage,null)))),a.createElement(om,{size:2}),a.createElement("div",{className:"CmyM2"},k),a.createElement(om,{size:2}),a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>e.relation!==wc.Unknown),[],[e])},a.createElement("div",{className:"wNDjp"},a.createElement(Vq,{playerFacet:e,buttonsState:M,optionsClick:s.show}))))),a.createElement(r.Mount,{when:s.isVisible},a.createElement(Nq.Component,{player:e,onClose:T,onShare:d.show})),a.createElement(r.Mount,{when:d.isVisible},a.createElement(Rq.Component,{onClose:I})))))}function zq({playerFacet:e}){const{t}=ec("PlayerCard");return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>e.isBlocked),[],[e])},a.createElement("div",{className:Mq},a.createElement(cy,{role:"destructiveTint"},t(".blocked")))),a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>e.isMuted&&!e.isBlocked),[],[e])},a.createElement("div",{className:Mq},a.createElement(cy,{role:"noticeTint"},t(".muted")))))}function jq({playerFacet:e}){const t=(0,r.useFacetMap)((e=>{const t=e.avatarState!==du.Success;return Dr()("AtQYr",{yOAEq:t})}),[],[e]);return a.createElement(Mp,{className:t,src:(0,r.useFacetMap)((e=>e.avatar),[],[e]),imageRendering:"pixelated"})}function Hq({displayName:e,description:t}){return a.createElement(a.Fragment,null,a.createElement(fm,{type:"header5B"},a.createElement(am,null,e)),a.createElement(fm,{type:"captionShort",variant:"dimmer"},a.createElement(am,null,t)))}function Vq({buttonsState:e,playerFacet:t,optionsClick:n}){const{t:l}=ec("PlayerCard"),o=(0,r.useSharedFacet)(_c),i=(0,r.useSharedFacet)(hu),c=m(),s=(0,r.useFacetCallback)(((e,t)=>()=>e.addFriend(t.xuid,Rc.PROFILE_MAIN)),[],[o,t]),u=(0,r.useFacetMap)((e=>e.isLoggedInWithMicrosoftAccount),[],[i]),d=(0,a.useCallback)((()=>{c.push("/persona")}),[c]),p=(0,r.useFacetMap)((e=>"friends"===e.type||"added"===e.type?l(".buttonSiblings",["1","1"]):l(".buttonSiblings",["2","2"])),[l],[e]),f=(0,r.useFacetMap)((e=>e.playingOnServerId),[],[t]),g=yk(),E=dk(f),h=gk(g,E);return a.createElement(a.Fragment,null,a.createElement("div",{className:Cq},a.createElement(Fk,{modals:g,joinCallback:E}),a.createElement(wl,{data:e},(({type:e,disabled:t})=>{switch(e){case"dressing-room":return a.createElement(mg,{inputLegend:l(".dressingRoomButton"),imgSrc:hq,horizontal:!0,onClick:d,gamepadAlias:Bq,narrationSuffix:l(".buttonSiblings",["1","2"])},l(".dressingRoomButton"));case"friends":return a.createElement(Gq,{narrationText:l(".friendsButton")},a.createElement(dg,{typeVariant:"dimmer",imgSrc:yq,role:"neutral100"},l(".friendsButton")));case"join":return a.createElement(mg,{inputLegend:l(".joinButton"),variant:"primary",Icon:nM.Play,horizontal:!0,onClick:h,gamepadAlias:Bq,narrationSuffix:l(".buttonSiblings",["1","2"])},l(".joinButton"));case"added":return a.createElement(Gq,{narrationText:l(".addedButton")},a.createElement(dg,{typeVariant:"dimmer",imgSrc:Fq},l(".addedButton")));case"add-friend":return a.createElement(mg,{inputLegend:l(".addFriendButton"),variant:"primary",Icon:t?Dq:Uw,horizontal:!0,onClick:s,disabled:t,gamepadAlias:Bq,narrationSuffix:l(".buttonSiblings",["1","2"])},l(".addFriendButton"))}return a.createElement(a.Fragment,null)})),a.createElement(r.Mount,{when:u},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement("div",{className:"GeM93"},a.createElement(mg,{inputLegend:l(".optionsButton"),narrationPrefix:l(".optionsButton"),imgSrc:vq,onClick:n,gamepadAlias:Wq,narrationSuffix:p,"data-testid":"options-button"}))))))}function Gq({children:e,narrationText:t}){const n=Fr("neutral80");return a.createElement(em.Maybe,{className:Dr()("wJgSN",n.border.base),isInteractive:ia(),inputLegend:!1,narrationText:t,classNameFocused:Zm,gamepadAlias:Bq},a.createElement(Jm,null),e)}const $q=n.p+"assets/achievements-a42ab.png",Kq=n.p+"assets/friends-9e435.png",Xq=n.p+"assets/followers-bec3d.png",Yq=n.p+"assets/gallery-10d21.png",qq=n.p+"assets/gamerscore_icon-53b10.png",Qq="hfWsq",Jq=n.p+"assets/achievements_empty-f34cf.png";function Zq(){const e=(0,r.useSharedFacet)(di),t=(0,r.useSharedFacet)(il);return(0,r.useFacetMap)(((e,t)=>Xw(e.platform)||t.isAnyBeta),[],[t,e])}function eQ(e){return(0,r.useFacetMap)((e=>(e.state.xblState===Ic.Loaded||e.state.platformState===Ic.Loaded)&&e.data.relation===wc.Self),[],[e])}function tQ(e){return(0,r.useFacetMap)((e=>e.state.platformState===Ic.Loaded&&""!==e.data.platformId),[],[e])}function nQ(e){return(0,r.useFacetMap)((e=>e.state.platformState===Ic.Loaded&&""!==e.data.platformId&&""!==e.data.xuid),[],[e])}function aQ(e,t,n,a,l,o,i,c,s,u){return(0,r.useFacetCallback)(((e,t,n,a,r,l,o,i,c,s)=>()=>{const{xuid:u,platformId:d}=e;if(n.subscribeToProfile(u,d),""!==u&&t.isLoggedInWithMicrosoftAccount){a.load(u),r.load(u),l.load(u),o.load(u);const e=t.currentXuid===u;c&&s&&!e&&(i.loadCount(u),i.loadFeaturedScreenshot(u))}}),[],[e,i,t,n,a,l,o,c,s,u])}var rQ;function lQ(){const e=m(),t="narrow"===sd(),{t:n}=ec("ProfileRoute"),l=(0,r.useSharedFacet)(Ls),o=(0,r.useSharedFacet)(sc),i=sX.useModal(),[c,s]=(0,r.useFacetState)(rQ.None),[u,d]=(0,r.useFacetState)(""),p=(0,r.useFacetCallback)(((t,n,a)=>()=>{n===rQ.Remove?t.removeShowcasedScreenshot(a):t.addScreenshotToShowcase(a,!0),e.goBack()}),[e],[l,c,u]),f=(0,r.useFacetMap)((e=>e.screenshots.find((e=>e.featured))),[],[l]),g=(0,r.useFacetMap)((e=>null!=e),[],[f]),E=(0,r.useFacetCallback)(((e,t)=>n=>{s(rQ.Replace),d(n.id),!e||t.doNotShowManageShowcaseReplaceWarning?p():i.show()}),[i,s,d,p],[g,o]),h=(0,r.useFacetCallback)(((e,t)=>()=>{null!=e&&(s(rQ.Remove),d(e.id),t.doNotShowManageShowcaseClearWarning?p():i.show())}),[i,s,d,p],[f,o]),v=(0,r.useFacetMap)((e=>e===rQ.Remove?n(".resetFeaturedTitle"):n(".replaceFeaturedTitle")),[n],[c]),b=(0,r.useFacetMap)((e=>e===rQ.Remove?n(".resetFeaturedMessage"):n(".replaceFeaturedMessage")),[n],[c]),y=(0,r.useFacetMap)((e=>e===rQ.Remove?"doNotShowManageShowcaseClearWarning":"doNotShowManageShowcaseReplaceWarning"),[],[c]);return a.createElement(a.Fragment,null,a.createElement(aG,{onScreenshotSelect:E,managementRowButtons:a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:g},a.createElement("div",{className:Dr()("HLkY6",{rXIR6:!t})},a.createElement("div",{className:Dr()(["QOaFw"],!t)},a.createElement(mg,{inputLegend:n(".resetFeaturedImage"),narrationPrefix:n(".resetFeaturedImage"),onClick:h},n(".resetFeaturedImage"))))))}),a.createElement(r.Mount,{when:i.isVisible},a.createElement(sX.Component,{onConfirm:p,onCancel:e.goBack,title:v,message:b,option:y})))}function oQ({profileFacet:e}){const{t}=ec("ProfileRoute"),n=(0,r.useSharedFacet)(il),l=(0,r.useFacetMap)((e=>Xw(e.platform)?t(".playStationAccount"):qw(e.platform)?t(".nintendoAccount"):""),[t],[n]),o=(0,r.useFacetMap)(((e,n)=>[t(".linkedAccountHeader"),`${n.data.platformName}`,e].join(" . ")),[t],[l,e]);return a.createElement(a.Fragment,null,a.createElement(eF,{role:"neutral",label:t(".linkedAccountHeader")}),a.createElement(TM,{isFocusable:!0,narrationText:o},a.createElement(om,{size:2}),a.createElement(TM.Cell,null,a.createElement(Ow,{src:(0,r.useFacetMap)((e=>e.data.platformProfilePic),[],[e]),variant:"large",status:"offline",usePersonaPicRendering:!1})),a.createElement(om,{size:2}),a.createElement(TM.Cell,null,a.createElement("div",null,a.createElement(om,{size:1}),a.createElement(fm,{type:"header5B"},a.createElement(am,null,(0,r.useFacetMap)((e=>e.data.platformName),[],[e]))),a.createElement(fm,{type:"captionShort",variant:"dimmer"},a.createElement(am,null,l)),a.createElement(om,{size:1})))),a.createElement(om,{size:2}))}!function(e){e[e.Remove=0]="Remove",e[e.Replace=1]="Replace",e[e.None=2]="None"}(rQ||(rQ={}));const iQ=n.p+"assets/generic_error-aa906.png",cQ=n.p+"assets/connection_error-01bc2.png",sQ=n.p+"assets/permissions_child_account-8fad2.png",uQ=n.p+"assets/permissions_adult_account-dc71d.png",dQ=n.p+"assets/nothing_to_see-1107f.png";function mQ({errorMessage:e,xuid:t,onRetryLoad:n}){const{t:l}=ec("ProfileRoute"),o=m(),i=Wb({wide:8,narrow:6,width:256}),c=(0,r.useFacetMap)((e=>e?"Va04c":"xR_0A"),[],[i]),s=(0,r.useSharedFacet)(yu),u=(0,r.useSharedFacet)(il),d=(()=>{const e=Gw();return(0,a.useCallback)(((t,n)=>{e("ProfileError",{profileXuid:{value:t,privacyTag:Vs.EUPI},profileErrorMessageType:{value:n,privacyTag:Vs.SystemMetadata}})}),[e])})(),p=(0,r.useFacetCallback)(((e,t)=>()=>{d(e,t)}),[d],[t,e]);(0,a.useEffect)((()=>{p()}),[p]);const f=(0,r.useFacetCallback)((e=>()=>e.openLink(bu.XboxPrivacyAndOnlineSafety)),[],[s]),g=()=>{o.push("/sign-in?signInSource=ProfileScreen_OreUI")},E=(0,r.useFacetMap)((e=>ek(e.platform)?[{text:l(".learnMoreButton"),onClick:f,imgSrc:tP.imgSrc}]:[]),[l,f],[u]);return a.createElement(wl,{data:e},(e=>{switch(e){case kc.UserNotFound:return a.createElement(cb,{title:l(".loadErrorTitle"),text:l(".loadErrorMessage"),buttons:[{text:l(".errorRetryButton"),onClick:n}],imgSrc:iQ,imgClass:c});case kc.NoInternet:return a.createElement(cb,{title:l(".loadErrorTitle"),text:l(".noInternetErrorMessage"),imgSrc:cQ,imgClass:c});case kc.NotAllowedToViewProfilesAdult:return a.createElement(cb,{title:l(".needPermissionErrorTitle"),text:l(".needPermissionErrorMessage"),buttons:E,imgSrc:uQ,imgClass:c});case kc.NotAllowedToViewProfilesChild:return a.createElement(cb,{title:l(".needPermissionErrorTitle"),text:l(".needPermissionErrorMessage"),buttons:E,imgSrc:sQ,imgClass:c});case kc.NotLoggedInWithMSA:return a.createElement(cb,{title:l(".profileUnavailableErrorTitle"),text:l(".notLoggedInMSAErrorMessage"),buttons:[{text:l(".signInButton"),onClick:g,variant:"primary"}],imgSrc:dQ,imgClass:c});case kc.LoggedInWithMSAButPlatformProfile:return a.createElement(cb,{title:l(".profileUnavailableErrorTitle"),text:l(".platformOnlyProfileErrorMessage"),imgSrc:dQ,imgClass:c});default:return a.createElement(a.Fragment,null)}}))}const pQ="profile-overview-list",fQ="profile-tabs",gQ="player-card-scroll-view";function EQ(e){const t=m(),n=E();return(0,r.useFacetCallback)((n=>()=>{t.push(KI(e,n))}),[t,e],[n])}function hQ(){return(0,r.useFacetMap)(((e,t)=>{var n,a,r,l;return t.has("xuid")?!t.has("platformId")||e.isLoggedInWithMicrosoftAccount||e.isSignInInProgress?{xuid:null!==(n=t.get("xuid"))&&void 0!==n?n:"",platformId:null!==(a=t.get("platformId"))&&void 0!==a?a:""}:{xuid:"",platformId:null!==(r=t.get("platformId"))&&void 0!==r?r:""}:t.has("platformId")?{xuid:"",platformId:null!==(l=t.get("platformId"))&&void 0!==l?l:""}:{xuid:e.currentXuid,platformId:e.currentPlatformId}}),[],[(0,r.useSharedFacet)(hu),E()])}function vQ(){const e=(0,r.useSharedFacet)(hu),t=(0,r.useSharedFacet)(Nc),n=(0,r.useSharedFacet)(jo),l=Gk(),o=hQ(),i=Vk(o),c=(0,r.useFacetWrap)(Tv(Ii.ScreenshotsGallery)),s=(0,r.useFacetWrap)(Tv(Ii.ScreenshotsShowcase)),u=aQ(o,(0,r.useSharedFacet)(Oc),n,t,(0,r.useSharedFacet)(fc),(0,r.useSharedFacet)(Mc),e,(0,r.useSharedFacet)(Ds),c,s),d=(0,r.useFacetMap)((e=>e.isSignInInProgress),[],[e]),[m,f]=(0,r.useFacetState)({wasActive:!1,query:"",wasSignInInProgress:!1},r.strictShallowObjectEqualityCheck),[h,v]=(0,r.useFacetState)({shouldFireProfileLoaded:!1,shouldFireAchievementsDisplayed:!1},r.strictShallowObjectEqualityCheck);(0,r.useFacetEffect)(((e,t,n,a,r)=>{const l=t&&!a.wasActive,o=t&&a.wasActive&&a.query!==n.toString(),i=e.startsWith("/profile"),c=a.wasSignInInProgress&&!r;f({wasActive:t,query:n.toString(),wasSignInInProgress:r}),i&&(c||!r&&(l||o))&&(u(),v({shouldFireProfileLoaded:!0,shouldFireAchievementsDisplayed:!0}))}),[u,f,v],[g(),p(),E(),m,d]);const[b,y]=(0,r.useFacetState)(r.NO_VALUE),[F,S]=(0,r.useFacetState)(r.NO_VALUE),C=(0,r.useFacetMap)((e=>null!=e),[],[i]);return(0,r.useFacetEffect)(((e,t,n,a)=>{a.startsWith("/profile")&&(e&&null!=t&&y(t),e&&null!=n&&S(n))}),[y,S],[C,i,l,g()]),a.createElement(r.Mount,{when:C},a.createElement(bQ,{profileFacet:b,currentProfileFacet:F,telemetryState:h,setTelemetryState:v}))}function bQ({profileFacet:e,currentProfileFacet:t,telemetryState:n,setTelemetryState:l}){const{t:o}=ec("ProfileRoute"),i=f(),c=(0,r.useFacetMap)((e=>e.tab),[],[i]),s=(0,r.useSharedFacet)(hu),u=hQ(),d=(0,r.useSharedFacet)(Nc),m=(0,r.useSharedFacet)(jo),p=(0,r.useSharedFacet)(il),g=tQ(e),E=eQ(e),h=(0,r.useFacetMap)(((e,t,n,a,r)=>n.isOnline?t.isLoggedInWithMicrosoftAccount||t.isSignInInProgress||a||r?e.state.xblError===kc.UserNotFound?kc.UserNotFound:kc.None:kc.NotLoggedInWithMSA:kc.NoInternet),[],[e,s,p,E,g]),v=(0,r.useFacetWrap)(Tv(Ii.ScreenshotsGallery)),b=(0,r.useFacetWrap)(Tv(Ii.ScreenshotsShowcase)),y=(0,r.useFacetWrap)(Tv(Ii.FriendsDrawerOnMultipleScreens)),F=aQ(u,(0,r.useSharedFacet)(Oc),m,d,(0,r.useSharedFacet)(fc),(0,r.useSharedFacet)(Mc),s,(0,r.useSharedFacet)(Ds),v,b),S=(0,r.useFacetCallback)(((e,t)=>()=>{const{xuid:n,platformId:a}=t;F(),e.refetchProfile(n,a)}),[F],[(0,r.useSharedFacet)(Oc),u]),C=(0,r.useFacetMap)((e=>e!==kc.None),[],[h]),M=(0,r.useFacetMap)(((e,t,n)=>t?o(".headerSelf"):""!=n.xuid&&e.state.xblState===Ic.Loaded&&e.data.relation!==wc.Self?o(".headerOther",[e.data.xblName]):""!=n.platformId&&e.state.platformState===Ic.Loaded&&e.data.relation!==wc.Self?o(".headerOther",[e.data.platformName]):o(".headerSelf")),[o],[e,C,u]),w=(0,r.useFacetMap)((e=>e.xuid),[],[u]);return a.createElement(wl,{data:c},(r=>"friends-list"===r?a.createElement(JX,{loadedProfileFacet:e,currentProfileFacet:t,followingListFacet:d}):"compare-stats"===r?a.createElement(_j,{loadedProfileFacet:e,currentProfileFacet:t,statisticsFacet:m}):"followers-list"===r?a.createElement(KX,null):"set-featured-screenshot"===r?a.createElement(lQ,null):a.createElement(AP,{title:M,screenAnalyticsId:"Profile",gamepadAlias:"profile-route",delegateByAlias:gQ,friendsDrawer:y},(()=>a.createElement(wl,{data:C},(t=>t?a.createElement(Yv,{narrowBreakpointWidth:70},a.createElement(Yv.Row,{fullHeight:!0},a.createElement(Yv.Column,{wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{wideSize:10,narrowSize:8},a.createElement(om,{size:2}),a.createElement(mQ,{errorMessage:h,onRetryLoad:S,xuid:w})),a.createElement(Yv.Column,{wideSize:1,narrowSize:0}))):a.createElement(yQ,{profileFacet:e,xuid:w,telemetryState:n,setTelemetryState:l})))))))}const yQ=({profileFacet:e,xuid:t,telemetryState:n,setTelemetryState:l})=>{const o=Se(),i=f(),c=E(),s=(0,r.useFacetMap)((e=>e.tab),[],[i]),u=m(),d=(0,r.useSharedFacet)(hu),p=(0,r.useSharedFacet)(Mc),g=(0,r.useFacetCallback)((e=>t=>{o(_y.getFocusAlias(fQ,t)),u.replace(S(`/profile/${t}`,e))}),[o,u],[c]);(0,r.useFacetEffect)((()=>{o(gQ)}),[o],[t]);const{t:h}=ec("ProfileRoute"),v=[{label:h(".overviewTabButtonLabel"),value:"overview"},{label:h(".statsTabButtonLabel"),value:"stats"}],b=eQ(e),y=tQ(e),F=function(e){return(0,r.useFacetMap)((e=>e.state.platformState===Ic.Loaded&&""!==e.data.platformId&&""===e.data.xuid),[],[e])}(e),C=(0,r.useFacetMap)(((e,t,n,a,r)=>{if(!e.isLoggedInWithMicrosoftAccount&&!e.isSignInInProgress&&(t||a))return kc.NotLoggedInWithMSA;if(!t){if(e.isLoggedInWithMicrosoftAccount&&r)return kc.LoggedInWithMSAButPlatformProfile;if(n.loaded&&!n.data.viewTargetProfile)return kc.NotAllowedToViewProfilesAdult;if(!e.userPermissions.viewProfiles.allowed)return e.userPermissions.viewProfiles.denyReasons.includes(fu.XboxLive_Parental)?kc.NotAllowedToViewProfilesChild:kc.NotAllowedToViewProfilesAdult}return kc.None}),[],[d,b,p,y,F]),[M,w]=(0,r.useFacetState)(!1);(0,r.useFacetEffect)((e=>w(e!==kc.None)),[w],[C]);const k=(0,r.useFacetMap)(((e,t,n,a,r)=>!(""===e||!a.isLoggedInWithMicrosoftAccount&&!a.isSignInInProgress||n||r||t.loaded)),[],[t,p,b,d,F]),T=(()=>{const e=Gw();return(0,a.useCallback)(((t,n)=>{e("ProfileLoaded",{profileXuid:{value:t,privacyTag:Vs.EUPI},relationToCurrentUser:{value:n,privacyTag:Vs.SystemMetadata}})}),[e])})();(0,r.useFacetEffect)(((e,t,n,a)=>{e.state.xblState===Ic.Loaded&&t.loaded&&n.shouldFireProfileLoaded&&!a&&(T(e.data.xuid,e.data.relation),n.shouldFireProfileLoaded=!1,l(n))}),[T,l],[e,p,n,M]);const I=nQ(e),P=function(e,t,n,a,l){const o=Tv(Ii.ScreenshotsGallery),i=Tv(Ii.ScreenshotsShowcase);return(0,r.useFacetMap)(((e,t,n,a,r)=>n!==kc.NotAllowedToViewProfilesAdult&&n!==kc.NotAllowedToViewProfilesChild&&o&&i&&""!==e&&t.isLoggedInWithMicrosoftAccount?e===t.currentXuid?{src:a.featuredScreenshot,loading:a.isLoadingFeaturedScreenshot}:{src:r.featuredScreenshot,loading:r.isLoadingFeaturedScreenshot}:{src:"",loading:!1}),[o,i],[e,t,n,a,l])}(t,d,C,(0,r.useSharedFacet)(Ls),(0,r.useSharedFacet)(Ds)),x=(0,r.useFacetMap)(((e,t)=>{let n=!1;""!==e.data.xuid&&(n=e.state.xblState===Ic.Loading),""!==e.data.platformId&&(n=e.state.platformState===Ic.Loading);const a=e.data.avatarState===du.Requested;return n||a||t}),[],[e,k,P]),O=(0,r.useFacetMap)((e=>e.data),[],[e]),A=(0,r.useFacetMap)((e=>e.src),[],[P]),N=(0,r.useFacetMap)((e=>e.loading),[],[P]);return a.createElement(Yv,{narrowBreakpointWidth:70},a.createElement(om,{size:2}),a.createElement(Yv.Row,{fullHeight:!0},a.createElement(Yv.Column,{wideSize:4,narrowSize:0},a.createElement(Ef,{loading:x,flexShrinkWrapper:!0,delegateFocusFromMemory:!0,gamepadAlias:"player-card-scroll-view",delegateFocusByAlias:Bq},a.createElement(Uq,{playerFacet:O,featuredImgSrc:A,featuredImgLoading:N}),a.createElement(iE.Space,null))),a.createElement(Yv.Column,{wideSize:8,narrowSize:8},a.createElement(wl,{data:M},(o=>o?a.createElement(a.Fragment,null,a.createElement(FQ,{playerFacet:O,featuredImgSrc:A,featuredImgLoading:N}),a.createElement(r.Mount,{when:I},a.createElement(oQ,{profileFacet:e})),a.createElement(mQ,{errorMessage:C,onRetryLoad:()=>{},xuid:t})):a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:k,condition:!1},a.createElement(_y,{gamepadAliasNamespace:fQ,value:s,onChange:g,tabs:v,narrationTitle:h(".narration.title"),enableGamepadShortcuts:!0})),a.createElement(oy,{tab:"overview",component:()=>a.createElement(CQ,{profileFacet:e,telemetryState:n,setTelemetryState:l,loading:k,featuredImgSrc:A,featuredImgLoading:N})}),a.createElement(oy,{tab:"stats",component:()=>a.createElement(wQ,{profileFacet:e,featuredImgSrc:A,featuredImgLoading:N})})))))))};function FQ(e){return"narrow"===sd()?a.createElement(a.Fragment,null,a.createElement(Uq,e),a.createElement(om,{size:2})):null}const SQ=({profileFacet:e})=>{const t=m(),{t:n}=ec("ProfileRoute"),l=Fr("neutral"),o=(0,r.useSharedFacet)(Nc),i=(0,r.useSharedFacet)(il),c=(0,r.useSharedFacet)(yu),s=(0,r.useSharedFacet)(di),u=(0,r.useSharedFacet)(Ls),d=(0,r.useSharedFacet)(Ds),p=(0,r.useFacetWrap)(Tv(Ii.FriendsDrawerOnMultipleScreens)),f=EQ("friends-list"),g=EQ("followers-list"),E=eQ(e),h=(0,r.useFacetMap)((e=>!e),[],[E]),v=Zq(),b=(0,r.useFacetMap)(((e,t)=>!e&&t),[],[v,(0,r.useSharedFacet)(gc)]),y=(0,r.useFacetMap)((e=>e.isLoading),[],[o]),F=(0,r.useFacetMap)((e=>e.playerList.length),[],[o]),S=(0,r.useFacetMap)((e=>!e.isLoading&&0===e.playerList.length),[],[o]),C=(0,r.useFacetMap)((e=>""!==e.data.xuid?e.data.xblName:""!==e.data.platformName?e.data.platformName:""!==e.data.offlineName?e.data.offlineName:""),[],[e]),M=(0,r.useFacetMap)(((e,t,a)=>a?n(".friendsNarrationWithName",[t,`${e}`]):n(".friendsNarration",[`${e}`])),[n],[F,C,p]),w=(0,r.useFacetMap)(((e,t)=>t&&!e.isLoading?e.playerList.length:0),[],[(0,r.useSharedFacet)(xi),E]),k=(0,r.useFacetMap)((e=>n(".followersNarration",[`${e}`])),[n],[w]),T=(0,r.useFacetMap)((e=>0===e),[],[w]),I=(0,r.useFacetMap)(((e,t,n)=>n?e.count:t.count),[],[u,d,E]),P=(0,r.useFacetMap)(((e,t,n)=>n?e.maxScreenshots:t.maxScreenshots),[],[u,d,E]),x=Jo(),O=Tv(Ii.ScreenshotsGallery),A=Tv(Ii.ScreenshotsShowcase),N=(0,r.useFacetMap)((e=>e&&O),[O],[E]),R=(0,r.useFacetMap)((e=>e.isLoadingCount),[],[u]),_=(0,r.useFacetMap)((e=>!e&&O&&A),[O,A],[E]),L=(0,r.useFacetMap)((e=>!e.isLoadingCount&&0===e.count),[],[d]),D=(0,r.useFacetMap)((e=>e.isLoadingCount),[],[d]),W=Tv(Ii.ProfileFeedback),B=(0,r.useFacetMap)((e=>e.state.xblState===Ic.Loaded&&e.data.relation===wc.Follower),[],[e]),U=(0,r.useFacetMap)(((e,t)=>e?n(".friendsItemLabelWithName",[`${t}`]):n(".friendsItemLabel")),[n],[p,C]),z=(0,r.useFacetMap)((e=>n(".addFollowerBackBanner",[`${e}`])),[n],[C]),j=(0,r.useFacetMap)((e=>ek(e.platform)&&W),[W],[i]),H=(0,r.useFacetCallback)((e=>()=>{e.openLink(bu.ProfileFeedbackMain)}),[],[c]),V=(0,r.useFacetMap)(((e,t)=>e&&t),[],[S,T]),G=(0,r.useFacetMap)((e=>e.isAnyBeta),[],[s]),$=Wb({wide:8,narrow:6,width:256}),K=(0,r.useFacetMap)((e=>e?"_tBkt":"C9yED"),[],[$]),X=nQ(e),Y=(0,r.useFacetCallback)((()=>()=>{t.push("/screenshot-gallery")}),[t],[e]),q=(0,r.useFacetCallback)((e=>()=>{var n;t.push(`/screenshot-showcase?${SG({xuid:(n=e.data).xuid,playerName:n.xblName,relation:n.relation})}`)}),[t],[e]),Q=(0,r.useFacetMap)(((e,t)=>!t||t&&!e),[],[E,p]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:j},a.createElement(a.Fragment,null,a.createElement("div",{className:Dr()("N41tZ",l.background.base,l.border.base)},a.createElement(mg,{inputLegend:n(".feedbackButton"),Icon:nM.ExternalLink,onClick:H},n(".feedbackButton")),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionShort"},n(".feedbackText"))),a.createElement(om,{size:2}))),a.createElement(r.Mount,{when:B},a.createElement(a.Fragment,null,a.createElement(GT,{role:"informative"},a.createElement(GT.Text,null,z)),a.createElement(om,{size:2}))),a.createElement(r.Mount,{when:X},a.createElement(oQ,{profileFacet:e})),a.createElement(TM,{gamepadIndex:0},a.createElement(r.Mount,{when:Q},a.createElement(TM.Action,{narrationText:M,inputLegend:n(".friendsInputLegend"),onClick:f,disabled:S},a.createElement(TM.Cell,null,a.createElement(Mp,{src:Kq,imageRendering:"pixelated",className:Qq})),a.createElement(TM.Main,null,a.createElement(fm,{type:"captionShort",variant:"dimmest"},U),a.createElement(r.Mount,{when:y,condition:!1},a.createElement(fm,{type:"body"},F)),a.createElement(r.Mount,{when:y},a.createElement(om,{size:5}))))),a.createElement(r.Mount,{when:E},a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:V},a.createElement("div",{className:Dr()("UEtRp",l.border.base)})),a.createElement(TM.Action,{narrationText:k,inputLegend:n(".followersInputLegend"),onClick:g,disabled:T},a.createElement(r.Mount,{when:p},a.createElement(TM.Cell,null,a.createElement(Mp,{src:Xq,imageRendering:"pixelated",className:Qq}))),a.createElement(TM.Main,null,a.createElement(fm,{type:"captionShort",variant:"dimmest"},n(".followersItemLabel")),a.createElement(fm,{type:"body"},w)))))),a.createElement(r.Mount,{when:N},a.createElement(TM,null,a.createElement(TM.Action,{narrationText:(0,r.useFacetMap)(((e,t)=>n(".screenshotsNarration",[`${e}`,`${t}`])),[n],[I,P]),inputLegend:n(".screenshotsInputLegend"),onClick:Y},a.createElement(TM.Cell,null,a.createElement(Mp,{src:Yq,imageRendering:"pixelated",className:Qq})),a.createElement(TM.Main,null,a.createElement(fm,{type:"captionShort",variant:"dimmest"},n(".screenshotsItemLabel")),a.createElement(r.Mount,{when:R,condition:!1},a.createElement(fm,{type:"body"},(0,r.useFacetMap)(((e,t)=>n(".listItemFractionValue",[`${e}`,`${t}`])),[n],[I,P]))),a.createElement(r.Mount,{when:R},a.createElement(om,{size:5})))))),a.createElement(r.Mount,{when:_},a.createElement(TM,null,a.createElement(TM.Action,{narrationText:(0,r.useFacetMap)(((e,t)=>n(".screenshotsNarration",[`${e}`,`${t}`])),[n],[I,P]),inputLegend:n(".screenshotsInputLegend"),onClick:q,disabled:L},a.createElement(TM.Cell,null,a.createElement(Mp,{src:Yq,imageRendering:"pixelated",className:Qq})),a.createElement(TM.Main,null,a.createElement(fm,{type:"captionShort",variant:"dimmest"},n(".showcaseItemLabel")),a.createElement(r.Mount,{when:D,condition:!1},a.createElement(fm,{type:"body"},(0,r.useFacetMap)(((e,t)=>n(".listItemFractionValue",[`${e}`,`${t}`])),[n],[I,P]))),a.createElement(r.Mount,{when:D},a.createElement(om,{size:5})))))),a.createElement(r.Mount,{when:G},a.createElement(cb,{title:n(".achievementsInPreviewTitle"),text:n(".achievementsInPreviewDesc"),imgSrc:Jq,imgClass:K})),a.createElement(r.Mount,{when:b},a.createElement(TM,null,a.createElement(TM.Action,{narrationText:(0,r.useFacetMap)((e=>[n(".achievementsNarration",[`${e.unlocked}`,`${e.total}`]),n(".gamerscoreNarration",[`${e.gamerScore}`,`${e.maxGamerScore}`])].join(" . ")),[n],[x]),inputLegend:n(".achievementsInputLegend"),onClick:()=>t.push("/achievements"),disabled:h},a.createElement(TM.Cell,null,a.createElement(Mp,{src:$q,imageRendering:"pixelated",className:Qq})),a.createElement(TM.Main,null,a.createElement(fm,{type:"captionShort",variant:"dimmest"},n(".achievementsItemLabel")),a.createElement(fm,{type:"body"},(0,r.useFacetMap)((e=>n(".listItemFractionValue",[`${e.unlocked}`,`${e.total}`])),[n],[x]))),a.createElement(TM.Cell,{direction:"row"},a.createElement(Mp,{className:"kqGRS",src:qq,imageRendering:"pixelated"}),a.createElement(om,{size:1}),a.createElement(fm,{type:"captionShort",variant:"dimmer"},(0,r.useFacetMap)((e=>n(".listItemFractionValue",[`${e.gamerScore}`,`${e.maxGamerScore}`])),[n],[x])),a.createElement(om,{size:1}))))))};function CQ({profileFacet:e,telemetryState:t,setTelemetryState:n,loading:l,featuredImgSrc:o,featuredImgLoading:i}){const{t:c}=ec("ProfileRoute"),s=(0,r.useSharedFacet)(Ec),u=(0,r.useFacetMap)((e=>e.suggested.slice(0,3)),[],[s]),d=(0,r.useFacetMap)((e=>e.completed.slice(0,3)),[],[s]),m=(()=>{const e=Gw();return(0,a.useCallback)(((t,n)=>{e("ProfileSuggestedAchievementsDisplayed",{profileXuid:{value:t,privacyTag:Vs.EUPI},suggestedNextAchievementIds:{value:n.join(","),privacyTag:Vs.CustomerContent}})}),[e])})();(0,r.useFacetEffect)(((e,t,a,r)=>{const l=t.map((e=>e.id));e&&r.shouldFireAchievementsDisplayed&&(m(a.data.xuid,l),r.shouldFireAchievementsDisplayed=!1,n(r))}),[m,n],[(0,r.useSharedFacet)(gc),u,e,t]);const p=eQ(e),f=(0,r.useFacetMap)((e=>!e),[],[p]),g=Zq(),E=(0,r.useFacetMap)(((e,t)=>!e||t),[],[(0,r.useSharedFacet)(gc),l]),h=a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(FQ,{playerFacet:(0,r.useFacetMap)((e=>e.data),[],[e]),featuredImgSrc:o,featuredImgLoading:i}),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(SQ,{profileFacet:e}),a.createElement(om,{size:2})),v=a.createElement(a.Fragment,null,a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:1})}),a.createElement(om,{size:1}));return a.createElement(wf,{text:c(".tabNarration",[c(".overviewTabButtonLabel"),"1","2"])},a.createElement(r.Mount,{when:l},a.createElement(om,{size:2})),a.createElement(r.Mount,{when:g},a.createElement(Ef,{loading:l,renderTracker:e=>a.createElement(ly,{type:"meaningful",renderingCompleted:e}),gamepadAlias:pQ,delegateFocusFromMemory:!0},h,v)),a.createElement(r.Mount,{when:g,condition:!1},a.createElement(pw,{gamepadAlias:pQ,delegateFocusFromMemory:!0,header:h,loading:E,data:(0,r.useFacetMap)(((e,t)=>[{role:"informativeTint",title:c(".suggestedAchievementsListLabel"),data:e},{role:"successTint",title:c(".completedAchievementsListLabel"),data:t}]),[c],[u,d]),footer:v,sectionSeparator:a.createElement(om,{size:2}),renderSectionHeader:(e,t)=>a.createElement(eF,{role:t,label:e}),renderItem:({itemFacet:e,index:t,sectionIndex:n,listLengthFacet:r})=>a.createElement(MQ,{item:e,index:t,sectionIndex:n,listLength:r,disabled:f}),renderTracker:e=>a.createElement(ly,{type:"meaningful",renderingCompleted:e}),padSpinnerVertically:!0})))}const MQ=({item:e,index:t,listLength:n,disabled:l})=>{const o=m();return a.createElement(_M,{item:e,onClick:(0,r.useFacetCallback)((e=>()=>{o.push(`/achievement-detail/${e.id}`)}),[o],[e]),index:t,listLength:n,disabled:l})};function wQ({profileFacet:e,featuredImgSrc:t,featuredImgLoading:n}){const{t:l}=ec("ProfileRoute"),o=EQ("compare-stats"),i=(0,r.useSharedFacet)(jo),c=(0,r.useFacetMap)((e=>e.data.map((e=>({label:e.label,icon:e.icon,data:{value:e.valueRaw,display:e.valueDisplay,narration:e.valueNarration}})))),[],[i]),s=a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(FQ,{playerFacet:(0,r.useFacetMap)((e=>e.data),[],[e]),featuredImgSrc:t,featuredImgLoading:n}),a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>e.state.xblState===Ic.Loaded&&e.data.relation!==wc.Self),[],[e])},a.createElement(a.Fragment,null,a.createElement("div",{className:"J35O9"},a.createElement(mg,{inputLegend:l(".compareStats"),onClick:o},l(".compareStats"))),a.createElement(om,{size:2})))),u=(0,r.useFacetMap)((e=>!e.loaded),[],[i]);return a.createElement(wf,{text:l(".tabNarration",[l(".statsTabButtonLabel"),"2","2"])},a.createElement(r.Mount,{when:u},a.createElement(om,{size:2})),a.createElement(FU,{gamepadAlias:"profile-stats-list",delegateFocusFromMemory:!0,data:c,renderItem:({itemFacet:e,index:t,listLengthFacet:n})=>a.createElement(Aj,{item:e,index:t,listLength:n}),loading:u,header:s,footer:a.createElement(a.Fragment,null,a.createElement(iE.Space,{extraSpace:a.createElement(om,{size:1})}),a.createElement(om,{size:1})),padSpinnerVertically:!0}))}const kQ=Km((()=>{const{t:e}=ec("RealmsNewStoryRoute.modals");return YD(e(".postingStoryTitle")),a.createElement(vE,null,a.createElement(vE.Header,null,e(".postingStoryTitle")),a.createElement(vE.Content,null,a.createElement(vE.Spinner,null)))})),TQ=Km((()=>{const{t:e}=ec("RealmsNewStoryRoute.modals"),t="pop-up-modal-postingStoryErrorModal",n=(0,r.useSharedFacet)(Wc),l=(0,r.useFacetCallback)((e=>()=>{e.clearPostStoryStatus()}),[],[n]);return a.createElement(vE,{defaultFocusAlias:t},a.createElement(vE.Header,{onClose:l},e(".errorModalTitle")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:e(".errorModalBody"),gamepadIndex:0},e(".errorModalBody"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:t,inputLegend:e(".close"),variant:"secondary",onClick:l},e(".close"))))})),IQ=n.p+"assets/add-image-dark-icon-7fb8f.png",PQ=n.p+"assets/add-image-grey-icon-9de10.png",xQ="juocW",OQ="A6Wiz";var AQ;function NQ(){const e=(0,r.useSharedFacet)(Wc),t=(0,r.useSharedFacet)(jc),n=(0,r.useSharedFacet)(Gc),l=(0,r.useSharedFacet)(Bc),o=(0,r.useSharedFacet)(Ss),i=EV(),c=(0,r.useSharedFacet)(il),s=(0,r.useSharedFacet)(Lc);(0,r.useFacetEffect)(((e,t)=>{t.fetchMembersStatus===ou.Idle&&e.fetchMembers()}),[],[e,n]);const u=sd(70,100);let d=3,p=6;"narrow"===u?(d=1,p=7):"tablet"===u&&(d=2,p=8);const g=m(),{t:E}=ec("RealmsNewStoryRoute"),h=(0,r.useFacetMap)((e=>e.players),[],[n]),v=(0,r.useFacetMap)(((e,{userXuid:t})=>{var n;return null!==(n=Uo(e,(e=>e.xuid===t)))&&void 0!==n?n:LU}),[],[h,l]),b=(0,r.useFacetMap)((e=>e.gamerIcon),[],[v]),y=(0,r.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[v]),F=(0,r.useFacetMap)((e=>!e.postInProgressBody.length&&!e.storyScreenshotSelectionFilePath.length),[],[t]),S=(0,r.useFacetMap)((e=>e.storyScreenshotSelectionFilePath.length>0),[],[t]),C=(0,r.useFacetMap)((e=>e.postStoryStatus),[],[o]),M=(0,r.useFacetMap)((e=>e===iu.InProgress||e===iu.Uploading||e===iu.Success),[],[C]),w=(0,r.useFacetMap)((e=>e===iu.InputInvalid||e===iu.InternalError||e===iu.PostingFailed||e===iu.UploadFailed),[],[C]),k=(0,r.useFacetMap)((e=>e===iu.RateLimit),[],[C]),T=(0,r.useFacetCallback)((e=>()=>{e.clearPostStoryStatus()}),[],[e]),I=(0,r.useFacetMap)(((e,t)=>{if(!t.storyScreenshotSelectionFilePath.length)return"";let n=null;return n=Uo(e.all,(e=>e.filePath===t.storyScreenshotSelectionFilePath)),null!=n?n.image:""}),[],[i,t]),P=(0,r.useFacetCallback)((e=>()=>{e.storyScreenshotSelectionFilePath=""}),[],[t]),x=(0,r.useFacetMap)((e=>e.postInProgressBody),[],[t]),O=(0,r.useFacetCallback)((e=>t=>{e.postInProgressBody=t}),[],[t]),A=(0,r.useFacetCallback)((e=>t=>{t.keyCode===pe.ENTER&&e.split("\n").length>=10&&t.preventDefault()}),[],[x]),[N,R]=my(!1),_=(0,r.useFacetCallback)(((e,t,n,a)=>()=>{t===iu.Idle&&(dy(n,a)?R.show():e.postStory())}),[R],[e,C,(0,r.useSharedFacet)(Dc),x]),L=(0,r.useFacetMap)(((e,t)=>{const n=[];return e?(n.push(AQ.ChangeScreenshotButton),n.push(AQ.RemoveScrenshotButton)):n.push(AQ.AddScreenshotButton),n.push(AQ.PostTextField),t||n.push(AQ.PostStoryButton),n.push(AQ.CancelPostButton),n}),[],[S,F]),D=(0,a.useCallback)(((e,t)=>{const n=e.indexOf(t);return-1===n?"":E(".enumeration",[`${n+1}`,`${e.length}`])}),[E]),W=(0,r.useFacetMap)((e=>D(e,AQ.AddScreenshotButton)),[D],[L]),B=(0,r.useFacetMap)((e=>D(e,AQ.ChangeScreenshotButton)),[D],[L]),U=(0,r.useFacetMap)((e=>D(e,AQ.RemoveScrenshotButton)),[D],[L]),z=(0,r.useFacetMap)((e=>D(e,AQ.PostTextField)),[D],[L]),j=(0,r.useFacetMap)((e=>D(e,AQ.PostStoryButton)),[D],[L]),H=(0,r.useFacetMap)((e=>D(e,AQ.CancelPostButton)),[D],[L]),V=(0,r.useFacetMap)(((e,t)=>e?[E(".disabled"),E(".postStoryHint")].join(" . "):t),[E],[F,j]),G=(0,r.useFacetMap)(((e,t)=>[E(".textBoxPlaceholder"),E(".inputField"),t,e.length>0?e:E(".inputFieldHint")].join(" . ")),[E],[x,z]),$=(0,r.useFacetMap)((e=>!e.getAllowCapturesResult),[],[s]),K=(0,r.useFacetMap)((e=>e?PQ:IQ),[],[$]),X=(0,r.useFacetCallback)((e=>()=>{e.openLink(bu.RealmsSafetyPage)}),[],[(0,r.useSharedFacet)(yu)]);!function(){const e=(0,r.useSharedFacet)(Wc),t=(0,r.useSharedFacet)(jc),n=(0,r.useSharedFacet)(Ss),a=m(),l=(0,r.useSharedFacet)(Ir),o=(0,r.useSharedFacet)(Bc),{t:i}=ec("RealmsStories"),c=(0,r.useFacetMap)((e=>e.postStoryStatus),[],[n]),s=(0,r.useFacetCallback)((e=>()=>e.clearPostStoryStatus()),[],[e]),u=(0,r.useFacetCallback)((e=>()=>{e.postInProgressBody="",e.storyScreenshotSelectionFilePath=""}),[],[t]),d=(0,r.useFacetCallback)((e=>()=>e.newPostAvailable=!0),[],[t]),p=(0,r.useFacetCallback)((e=>()=>{let t=0;for(;t<e.history.list.length&&(null===(n=e.history.list[t])||void 0===n||!n.pathname.includes("/post-to-realm-stories"));){var n;++t}t<e.history.list.length?a.go(t-e.history.list.length):a.goBack()}),[a],[l]),f=(0,r.useSharedFacet)(uc),g=(0,r.useFacetCallback)(((e,t,n)=>()=>{let a=0;for(;a<e.history.list.length&&(null===(r=e.history.list[a])||void 0===r||!r.pathname.includes("/post-to-realm-stories"));){var r;++a}a<e.history.list.length&&t.queueSnackbar(i(".postedTo",[n.name]))}),[i],[l,f,o]);(0,r.useFacetEffect)((e=>{e===iu.Success&&(g(),s(),u(),d(),p())}),[s,u,d,p,g],[c])}();const Y=f(),q=(0,r.useFacetMap)((e=>e.realmId),[],[Y]),Q=(0,r.useFacetCallback)((e=>()=>{g.push(`/realms-new-story/screenshot-gallery/${e}`)}),[g],[q]),J=Fr("neutral"),Z=(0,r.useFacetMap)((e=>!e.isOnline),[],[c]);return a.createElement(sr,{collection:LD},a.createElement(Iv,{role:"primary"},a.createElement($v,{onBackButton:g.goBack,center:a.createElement(fm,{type:"header5A"},E(".addStory")),gamepadAlias:"realms-new-story-route"},a.createElement(r.Mount,{when:M},a.createElement(kQ.Component,null)),a.createElement(r.Mount,{when:w},a.createElement(TQ.Component,null)),a.createElement(r.Mount,{when:k},a.createElement(rW.Component,{onClickClose:T})),a.createElement(r.Mount,{when:R.isVisible},a.createElement(ry.Component,{onClose:R.hide})),a.createElement(Yv,null,a.createElement(r.Mount,{when:Z},a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:d,narrowSize:0}),a.createElement(Yv.Column,{wideSize:p,narrowSize:8},a.createElement(om,{size:4}),a.createElement(nz,null)))),a.createElement(r.Mount,{when:Z,condition:!1},a.createElement(Yv.Row,{className:"v1A9Y"},a.createElement(Yv.Column,{wideSize:d,narrowSize:d},a.createElement(om,{size:4}),a.createElement("div",{className:"QTomy"},a.createElement(Ow,{status:y,src:b,variant:"large"}))),a.createElement(Yv.Column,{wideSize:p,narrowSize:p},a.createElement(Ef,null,a.createElement(om,{size:4}),a.createElement("div",{className:OQ},a.createElement(TO,null,a.createElement(r.DeferredMount,null,a.createElement(r.Mount,{when:$},a.createElement(Kf,null,a.createElement(GT,{role:"noticeTint"},a.createElement(GT.Text,null,E(".bannerText")),a.createElement(GT.Link,{onClick:X,gamepadIndex:0},E(".bannerLink")))))),a.createElement(r.DeferredMount,null,a.createElement(Kf,null,a.createElement(fm,{type:"body"},E(".selectScreenshot")),a.createElement(om,{size:2}),a.createElement(r.Mount,{when:S,condition:!1},a.createElement(dL,{shouldSkipLandmarkInVisual:!0},a.createElement(mg,{onClick:Q,inputLegend:E(".addScreenshot"),imgSrc:K,narrationPrefix:E(".addScreenshot"),narrationSuffix:W,disabled:$},E(".addScreenshot")))),a.createElement(r.Mount,{when:S},a.createElement(a.Fragment,null,a.createElement("div",{className:Dr()(OQ,J.border.base)},a.createElement(Mp,{src:I,aspectRatio:Mp.AspectRatio["16:9"]})),a.createElement(om,{size:2}),a.createElement(dL,{shouldSkipLandmarkInVisual:!0},a.createElement("div",{className:xQ},a.createElement(mg,{inputLegend:E(".changeScreenshotImage"),onClick:Q,narrationPrefix:E(".changeScreenshotImage"),narrationSuffix:B,horizontal:!0},E(".change")),a.createElement(om,{size:4}),a.createElement(mg,{inputLegend:E(".removeScreenshotImage"),onClick:P,narrationPrefix:E(".removeScreenshotImage"),narrationSuffix:U,horizontal:!0},E(".remove")))))))),a.createElement(r.DeferredMount,null,a.createElement(dL,{shouldSkipLandmarkInVisual:!0},a.createElement(gy,{"data-testid":"new-story-field-id",maxLength:350,rows:3,label:"",placeholder:E(".textBoxPlaceholder"),value:x,narrationOverride:G,onChange:O,onKeyDown:A,disabled:M,onBlur:N}))),a.createElement(Kf,null,a.createElement(dL,{shouldSkipLandmarkInVisual:!0},a.createElement("div",{className:xQ},a.createElement(mg,{inputLegend:E(".cancel"),onClick:g.goBack,horizontal:!0,narrationPrefix:E(".cancel"),narrationSuffix:H},E(".cancel")),a.createElement(om,{size:4}),a.createElement(mg,{inputLegend:E(".postStory"),variant:"primary",onClick:_,disabled:(0,r.useFacetMap)(((e,t)=>t||e),[],[F,M]),horizontal:!0,narrationPrefix:E(".postStory"),narrationSuffix:V},E(".post"))))))),a.createElement(om,{size:2})),a.createElement(iE.Space,null))))))))}!function(e){e[e.AddScreenshotButton=0]="AddScreenshotButton",e[e.ChangeScreenshotButton=1]="ChangeScreenshotButton",e[e.RemoveScrenshotButton=2]="RemoveScrenshotButton",e[e.PostTextField=3]="PostTextField",e[e.PostStoryButton=4]="PostStoryButton",e[e.CancelPostButton=5]="CancelPostButton"}(AQ||(AQ={}));const RQ=n.p+"assets/privacy_safety_help_qr-c5392.png",_Q="https://aka.ms/RealmsSafety";function LQ({addExtraSpace:e,onClose:t,children:n,isBrowserFriendly:l}){const{t:o}=ec("PrivacyAndOnlineSafetyModal"),i=(0,r.useSharedFacet)(Lc),c="privacy-and-online-safety-try-again-button",s=(0,r.useFacetCallback)((e=>()=>{e.openLink(bu.RealmsSafetyPage)}),[],[(0,r.useSharedFacet)(yu)]),u=(0,r.useFacetCallback)((e=>()=>{e.checkClubAndMultiplayerPermissions()}),[],[i]),d=(0,r.useFacetWrap)(e);return a.createElement(vE,{defaultFocusAlias:c},a.createElement(vE.Header,{onClose:t},o(".header")),a.createElement(vE.Content,null,a.createElement("div",{className:"IveWW"},a.createElement(r.Mount,{when:l,condition:!1},a.createElement("div",{className:"zo5W7"},a.createElement(Mp,{src:RQ,className:"HC86T"}))),a.createElement("div",{className:"L115_"},n,a.createElement("div",{className:"ufbEn"},a.createElement(r.Mount,{when:l},a.createElement(fm,{type:"captionLong"},a.createElement(BT,{onClick:s,gamepadIndex:1,withUnderlinePolyfill:!0},_Q))),a.createElement(r.Mount,{when:l,condition:!1},a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:d},a.createElement(om,{size:4})),a.createElement(fm,{type:"captionLong"},_Q))),a.createElement(om,{size:4}))))),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{gamepadAlias:c,gamepadIndex:0,inputLegend:o(".tryAgain"),horizontal:!0,onClick:u},o(".tryAgain")),a.createElement(r.Mount,{when:l},a.createElement(a.Fragment,null,a.createElement(om,{size:4}),a.createElement(mg,{onClick:s,Icon:nM.ExternalLink,inputLegend:o(".buttonAction"),variant:"primary",horizontal:!0,narrationSuffix:o(".linkButtonHint"),gamepadIndex:1},o(".externalLinkText"))))))}const DQ=Km((({closeCallback:e,isBrowserFriendly:t})=>{const{t:n}=ec("PrivacyAndOnlineSafetyModal"),l=(0,r.useFacetMap)((e=>{const t=e?null:n(".qrCodeHint");return[n(".fromOnlineSafety"),n(".toAccessRealmsStories"),n(".clubPermissionMessage"),t].join(" . ")}),[n],[t]);return a.createElement(LQ,{onClose:e,isBrowserFriendly:t},a.createElement(vE.Paragraphs,{gamepadIndex:0,spaceBetweenParagraphs:0,narrationText:l},a.createElement(fm,{type:"captionLong"},n(".fromOnlineSafety")),a.createElement(fm,{type:"captionLong"},n(".toAccessRealmsStories")),a.createElement(fm,{type:"captionLong"},n(".clubPermissionMessage"))))}));function WQ({closeCallback:e}){const t=(0,r.useSharedFacet)(Lc),n=(0,r.useSharedFacet)(il),l=(0,r.useFacetMap)((e=>!e.getClubCheckResult),[],[t]),o=(0,r.useFacetMap)((({platform:e})=>(e=>e===Ke.GOOGLE||e===Ke.IOS||e===Ke.MACOS||e===Ke.UWP||e===Ke.WIN32)(e)),[],[n]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:l},a.createElement(DQ.Component,{closeCallback:e,isBrowserFriendly:o})))}var BQ;function UQ(){const e=f(),t=E(),n=m(),l=p(),o=(0,r.useSharedFacet)(ws),i=(0,r.useSharedFacet)(Bc),c=(0,r.useSharedFacet)(jc),[s,u]=(0,r.useFacetState)(BQ.Enter),d=(0,r.useFacetMap)(((e,t,n)=>t&&e==BQ.Initializing&&!n.isFetchingRealmWorld&&!n.isRealmWorldValid),[],[s,l,i]),g=(0,r.useFacetMap)(((e,t,n)=>t&&e==BQ.FetchSettings&&(n.currentFetchState===ou.FetchFailed||n.currentFetchState===ou.InternalError)),[],[s,l,o]),h=(0,r.useFacetMap)(((e,t,n)=>t&&e==BQ.FetchSettings&&n.currentFetchState===ou.RateLimit),[],[s,l,o]),v=(0,r.useFacetMap)(((e,t,n,a,r)=>t&&e!=BQ.DataReady&&!n&&!a&&!r),[],[s,l,d,g,h]),b=(0,r.useFacetMap)((e=>e.getClubCheckResult),[],[(0,r.useSharedFacet)(Lc)]),y=(0,r.useFacetMap)(((e,t,n)=>t&&e==BQ.DataReady&&!n),[],[s,l,b]),F=(0,a.useCallback)((()=>{n.goBack()}),[n]),S=(0,r.useSharedFacet)(Ls),C=(0,r.useFacetMap)((e=>e.screenshots),[],[S]);return(0,r.useFacetEffect)(((e,t,a,r,l,o,i,c,s,d)=>{if(a)switch(t){case BQ.Enter:{if(!e.realmId)return;r.reset(),r.init(e.realmId);const t=d.get("screenshotId");if(null!=t){const e=s.find((e=>e.id===t));e&&(c.storyScreenshotSelectionFilePath=e.filePath)}u(BQ.FetchSettings)}break;case BQ.FetchSettings:o.currentFetchState===ou.Success&&(r.clearSettingsStatus(),u(BQ.DataReady));break;case BQ.DataReady:i&&(u(BQ.Finished),"new-story"===e.tab?n.replace(`/realms-new-story/${e.realmId}`):n.replace(`/realms-stories/${e.tab}/${e.realmId}`))}else u(BQ.Enter)}),[u,n],[e,s,l,(0,r.useSharedFacet)(Wc),i,o,b,c,C,t]),a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:v},a.createElement(eW,{onClickClose:F})),a.createElement(r.Mount,{when:d},a.createElement(nW.Component,{onClickClose:F})),a.createElement(r.Mount,{when:g},a.createElement(tW.Component,{onClickClose:F})),a.createElement(r.Mount,{when:h},a.createElement(rW.Component,{onClickClose:F})),a.createElement(r.Mount,{when:y},a.createElement(WQ,{closeCallback:F})))}!function(e){e[e.Enter=0]="Enter",e[e.Initializing=1]="Initializing",e[e.FetchSettings=2]="FetchSettings",e[e.DataReady=3]="DataReady",e[e.Finished=4]="Finished"}(BQ||(BQ={}));const zQ=e,jQ=t;function HQ({text:e,type:t="captionLong"}){return a.createElement(fm,{shouldNarrate:e,type:t,align:"left",indent:!0},(0,r.useFacetMap)((e=>` ${e}`),[],[e]))}function VQ(){const e=m(),{t}=ec("FirstTimeSignInRoute"),n="first-time-sign-in-button-alias",l=(0,r.useSharedFacet)(il),o=Ju(),i=Tv(Ii.DisableAnimatedSignInScreens),c=(0,r.useFacetMap)((e=>Xw(e.platform)?[t(".incentivizedSignInPromptFeature1"),t(".signInList4"),t(".signInList2PS"),t(".signInList3PS")]:[t(".incentivizedSignInPromptFeature1"),t(".signInList1"),t(".signInList2"),t(".signInList3"),t(".signInList4")]),[t],[l]),s=(0,r.useFacetCallback)((e=>()=>{e.openLink(bu.SignInCapeTerms)}),[],[(0,r.useSharedFacet)(yu)]);return a.createElement(Jx,{title:t(".signInHeader"),delegateFocusByAlias:n,leftContent:a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement("div",{className:"HmBw3"},a.createElement(iI,{gifSrc:eO,imageSrc:Zx,aspectRatio:{height:128,width:260},disableAnimation:i})),a.createElement(om,{size:8})),rightContent:a.createElement(Jx.Content,null,a.createElement(fm,{type:"paragraphs",align:"left",shouldNarrate:!0},t(".incentivizedSignInPrompt1")),a.createElement(om,{size:4}),a.createElement(fm,{type:"paragraphs",align:"left",shouldNarrate:!0},t(".incentivizedSignInPrompt2")),a.createElement(om,{size:4}),a.createElement(r.Map,{array:c},(e=>a.createElement(HQ,{type:"paragraphs",text:e}))),a.createElement(om,{size:4}),a.createElement(fm,{type:"paragraphs",align:"left",shouldNarrate:!0},t(".incentivizedSignInPrompt3")),a.createElement(om,{size:4}),a.createElement(fm,{type:"paragraphs",align:"left",verticalAlign:"center"},a.createElement(BT,{withUnderlinePolyfill:!0,onClick:s},t(".incentivizedSignInPrompt4")),a.createElement(om,{size:1}),a.createElement(pI,{className:"BeIc4"}))),buttons:[{variant:"primary",inputLegend:t(".incentivizedSignInButton"),onClick:()=>{o({screen:"FirstTimeSignIn",button:"SignInGetCape"});const t="&redirectTo="+encodeURIComponent("/cape-incentive-received-transient");e.replace("/sign-in?signInSource=FirstTimeSignInScreen_OreUI_CapeIncentive"+t)},children:t(".incentivizedSignInButton"),gamepadAlias:n},{variant:"secondary",inputLegend:t(".notNowButton"),onClick:()=>{o({screen:"FirstTimeSignIn",button:"NotNow"}),e.goBack()},children:t(".notNowButton")}],shouldEnumerateButtons:!0,onGoBack:()=>{o({screen:"FirstTimeSignIn",button:"Close"}),e.goBack()}})}const GQ=n.p+"assets/Sign-in_Prompts_Launch-7712e.png",$Q=n.p+"assets/Sign-in_Prompts_Launch Animated-d5ba8.gif";function KQ(){const e=m(),{t}=ec("FirstTimeSignInRoute"),n="first-time-sign-in-button-alias",l=(0,r.useSharedFacet)(il),o=Ju(),i=Tv(Ii.DisableAnimatedSignInScreens),c=(0,r.useFacetMap)((e=>Xw(e.platform)?[t(".signInList4"),t(".signInList2PS"),t(".signInList3PS")]:[t(".signInList1"),t(".signInList2"),t(".signInList3"),t(".signInList4")]),[t],[l]);return a.createElement(Jx,{title:t(".signInHeader"),delegateFocusByAlias:n,leftContent:a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement("div",{className:"pQRpF"},a.createElement(iI,{gifSrc:$Q,imageSrc:GQ,aspectRatio:{height:128,width:260},disableAnimation:i})),a.createElement(om,{size:8})),rightContent:a.createElement(Jx.Content,null,a.createElement(fm,{type:"captionLong",align:"left",shouldNarrate:!0},t(".signInPrompt")),a.createElement(om,{size:4}),a.createElement(r.Map,{array:c},(e=>a.createElement(HQ,{text:e}))),a.createElement(om,{size:4}),a.createElement(fm,{type:"captionLong",align:"left",shouldNarrate:!0},t(".createAccountPrompt"))),buttons:[{variant:"primary",inputLegend:t(".signInButton"),onClick:()=>{o({screen:"FirstTimeSignIn",button:"SignIn"}),e.replace("/sign-in?signInSource=FirstTimeSignInScreen_OreUI")},children:t(".signInButton"),gamepadAlias:n},{variant:"secondary",inputLegend:t(".laterButton"),onClick:()=>{o({screen:"FirstTimeSignIn",button:"MaybeLater"}),e.goBack()},children:t(".laterButton")}],shouldEnumerateButtons:!0,onGoBack:()=>{o({screen:"FirstTimeSignIn",button:"Close"}),e.goBack()}})}function XQ(){const e=m(),{t}=ec("FirstTimeSignInRoute"),n=(0,r.useSharedFacet)(il),l=Ju(),o=Tv(Ii.DisableAnimatedSignInScreens),i=no(),c=(0,r.useFacetMap)((e=>e&&!o),[o],[i]),s=(0,r.useFacetMap)((e=>e?$Q:GQ),[],[c]),u=(0,r.useFacetMap)((e=>Xw(e.platform)?[t(".signInList4"),t(".signInList2PS"),t(".signInList3PS")]:[t(".signInList1"),t(".signInList2"),t(".signInList3"),t(".signInList4")]),[t],[n]);return a.createElement(vE,{defaultFocusAlias:"firstTimeSignInButton"},a.createElement(vE.Header,{onClose:()=>{l({screen:"FirstTimeSignIn",button:"Close"}),e.goBack()}},t(".signInHeader")),a.createElement(vE.Content,null,a.createElement(om,{size:4}),a.createElement(Mp,{src:s,className:"Tak3V",imageRendering:"pixelated"}),a.createElement(vE.Text,{narrationText:t(".signInPrompt")},t(".signInPrompt")),a.createElement(vE.List,{items:u}),a.createElement(vE.Text,{narrationText:t(".createAccountPrompt")},t(".createAccountPrompt"))),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{inputLegend:t(".laterButton"),variant:"secondary",onClick:()=>{l({screen:"FirstTimeSignIn",button:"MaybeLater"}),e.goBack()},horizontal:!0},t(".laterButton")),a.createElement(om,{size:4}),a.createElement(mg,{gamepadAlias:"firstTimeSignInButton",inputLegend:t(".signInButton"),variant:"primary",onClick:()=>{l({screen:"FirstTimeSignIn",button:"SignIn"}),e.replace("/sign-in?signInSource=FirstTimeSignInScreen_OreUI")},horizontal:!0},t(".signInButton"))))}function YQ(){const e=f(),t=(0,r.useFacetMap)((e=>e.version),[],[e]);return a.createElement(wl,{data:t},(e=>"incentive"===e?a.createElement(VQ,null):"hero"===e?a.createElement(KQ,null):a.createElement(XQ,null)))}const qQ="NFkG9";function QQ(){return QQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},QQ.apply(this,arguments)}const JQ={Root:e=>{let{dollColumn:t,bodyColumn:n,title:r}=e,l=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["dollColumn","bodyColumn","title"]);const o=Fr("neutral80");return a.createElement(AP,QQ({title:r},l),(({})=>a.createElement(Xa,{role:"neutral80"},a.createElement("div",{className:"gaoyB"},a.createElement("div",{className:qQ}),a.createElement("div",{className:"w_WF1"},t),a.createElement("div",{className:Dr()("yxzJY",o.background.base,o.border.base,o.text.base)},n),a.createElement("div",{className:qQ})))))},Body:Vx.Body,Footer:Vx.Footer},ZQ=({onClick:e})=>{const{t}=ec("NewPlayerPathRoute.SkipButton");return a.createElement(ep,{className:"mezkd",narrationText:t(".skip"),inputLegend:t(".skip"),onClick:e},a.createElement(om,{size:3}),a.createElement(fm,{type:"body"},t(".skip")),a.createElement(om,{size:1}),a.createElement(Nv,{className:"p8Bl9"}),a.createElement(om,{size:3}))},eJ={ALEX_UUID:"b789cb38-5f14-4dc9-be15-e10dc52ba91b",ARI_UUID:"2e662265-1aab-40ce-80c2-934a0a20d41a",EFE_UUID:"399bae94-f074-4d64-af8a-b4634ef0fc15",KAI_UUID:"a40ade20-c28a-4d34-973b-233ec1284d5a",MAKENA_UUID:"fd5c1e0a-5ba3-4467-951b-17103e740a94",NOOR_UUID:"f15a3e5c-26ce-48fc-a2b1-080d18d2acfa",STEVE_UUID:"6c8f57cb-fb91-42d2-b621-cd806784cdab",SUNNY_UUID:"a3dd013e-2f63-4379-b17e-3c35450305ca",ZURI_UUID:"820a57a6-6eb4-4c1a-9a8d-328c107b477d"},tJ=Object.keys(eJ).length,nJ=(0,r.sharedFacet)("vanilla.character-selector"),aJ=n.p+"assets/alex-doll-e1097.png",rJ=n.p+"assets/ari-doll-53034.png",lJ=n.p+"assets/efe-doll-481bd.png",oJ=n.p+"assets/kai-doll-68b6b.png",iJ=n.p+"assets/makena-doll-d5ff0.png",cJ=n.p+"assets/noor-doll-7c17a.png",sJ=n.p+"assets/steve-doll-ae6ff.png",uJ=n.p+"assets/sunny-doll-2d60f.png",dJ=n.p+"assets/zuri-doll-ae75b.png";function mJ(e){const t=(0,r.useSharedFacet)(nJ);return{setSelected:(0,r.useFacetCallback)(((e,t)=>()=>t.setSelectedCharacter(e.id)),[],[e,t]),isSelected:(0,r.useFacetMap)(((e,t)=>e.id===t.selectedCharacterId),[],[e,t])}}const pJ={[eJ.ALEX_UUID]:aJ,[eJ.ARI_UUID]:rJ,[eJ.EFE_UUID]:lJ,[eJ.KAI_UUID]:oJ,[eJ.MAKENA_UUID]:iJ,[eJ.NOOR_UUID]:cJ,[eJ.STEVE_UUID]:sJ,[eJ.SUNNY_UUID]:uJ,[eJ.ZURI_UUID]:dJ};function fJ({character:e}){const{isSelected:t}=mJ(e),n=(0,r.useFacetMap)((e=>Dr()("lOOMa",{AWn7u:e})),[],[t]),l=(0,r.useFacetMap)((e=>pJ[e.id]),[],[e]),o=(0,r.useFacetMap)(((e,t)=>t?`character-doll-${e.id}`:void 0),[],[e,t]);return a.createElement("fast-div",{"data-testid":o,className:n},a.createElement(Mp,{className:"NEJqO",src:l}))}function gJ(){const e=function(){const e=(0,r.useSharedFacet)(nJ),t=(0,r.useFacetMap)((e=>Object.fromEntries(e.selectableCharacters.map((e=>[e.id,e])))),[],[e]);return(0,r.useFacetMap)(((e,t)=>e[t.selectedCharacterId]),[],[t,e])}(),t=(0,r.useFacetMap)((e=>e.name),[],[e]),n=(0,r.useFacetMap)((e=>e.selectableCharacters),[],[(0,r.useSharedFacet)(nJ)]);return a.createElement("div",{className:"A608G"},a.createElement(cy,{align:"center",role:"neutralAlpha60"},t),a.createElement(om,{size:2}),a.createElement("div",{className:"lEZIf"},a.createElement(r.Map,{array:n},(e=>a.createElement(fJ,{character:e})))))}const EJ=()=>{const e=(0,r.useSharedFacet)(ku),t=(0,r.useSharedFacet)(ju);return a.createElement(r.Mount,{when:(0,r.useFacetMap)(((e,t)=>null!=e.saveLocalWorldError||t.startLocalWorldResult===Uu.WorldNotInLevelList||t.startLocalWorldResult===Uu.GameServerStarterNotReady),[],[e,t])},a.createElement(lN.Component,null))},hJ=n.p+"assets/alex-thumb-3f5f2.png",vJ=n.p+"assets/ari-thumb-dc3aa.png",bJ=n.p+"assets/efe-thumb-84401.png",yJ=n.p+"assets/kai-thumb-a4b5c.png",FJ=n.p+"assets/makena-thumb-ee0d4.png",SJ=n.p+"assets/noor-thumb-f0399.png",CJ=n.p+"assets/steve-thumb-c5651.png",MJ=n.p+"assets/sunny-thumb-e4107.png",wJ=n.p+"assets/zuri-thumb-a44d4.png",kJ={thumbnail:"bmLyj",outer:"vnT7D",image:"oYGS5",pressed:"s6zih",edge:"zyDNO",reflection:"loo8y"},TJ={[eJ.ALEX_UUID]:hJ,[eJ.ARI_UUID]:vJ,[eJ.EFE_UUID]:bJ,[eJ.KAI_UUID]:yJ,[eJ.MAKENA_UUID]:FJ,[eJ.NOOR_UUID]:SJ,[eJ.STEVE_UUID]:CJ,[eJ.SUNNY_UUID]:MJ,[eJ.ZURI_UUID]:wJ};function IJ({character:e,gamepadAlias:t,groupIndex:n,groupSize:l}){const{t:o}=ec("Toggle"),{t:i}=ec("NewPlayerPathRoute.CharacterSelector"),c="neutral",s=Fr(c),u=kr(),{isSelected:d,setSelected:m}=mJ(e),p=(0,r.useFacetMap)((e=>`character-thumbnail-${e.id}`),[],[e]),f=(0,r.useFacetMap)((e=>Dr()(kJ.thumbnail,s.border.base,s.background.interactive,{[u.pressed]:e,[kJ.pressed]:e})),[u,s],[d]),g=(0,r.useFacetMap)(((e,t)=>!t&&e.name),[],[e,d]),E=(0,r.useFacetMap)((e=>TJ[e.id]),[],[e]),h=(0,r.useFacetMap)(((e,t)=>[e.name,o(".narrationOptionType"),o(".count",[`${n+1}`,`${l}`]),o(t?".narrationSelected":".narrationUnselected"),i(".character")].join(" . ")),[n,l,o,i],[e,d]);return a.createElement(em,{gamepadAlias:t,className:f,classNameFocused:Dr()(kJ.focused,Zm),classNamePressed:kJ.pressed,onClick:m,gamepadIndex:0,inputLegend:g,"data-testid":p,narrationText:h},a.createElement(Jm,{role:c}),a.createElement("div",null,a.createElement(cp,{role:c,className:kJ.reflection}),a.createElement("div",{className:kJ.outer},a.createElement(Mp,{src:E,className:kJ.image}))),a.createElement("div",{className:Dr()(kJ.edge,s.shadow.base)}))}const PJ="oXg4g";function xJ({gamepadAlias:e}){const t=(0,r.useSharedFacet)(nJ),n=(0,r.useFacetMap)((e=>e.selectableCharacters.slice(0,5)),[],[t]),l=(0,r.useFacetMap)((e=>e.selectableCharacters.slice(5)),[],[t]);return a.createElement("div",{className:"HNmrm"},a.createElement("div",{className:PJ},a.createElement(r.Map,{array:n},((t,n)=>a.createElement(IJ,{gamepadAlias:0===n?e:void 0,character:t,groupIndex:n,groupSize:tJ})))),a.createElement(om,{size:4}),a.createElement("div",{className:PJ},a.createElement(r.Map,{array:l},((e,t)=>a.createElement(IJ,{character:e,groupIndex:5+t,groupSize:tJ})))))}const OJ=()=>{const e=(0,r.useSharedFacet)(ku),t=(0,r.useSharedFacet)(ju),n=(0,r.useFacetMap)((e=>e.saveLocalWorldTaskState),[],[e]);return uk(((e,t)=>function*(a,r){e.saveLocalWorldTaskState===ck.IDLE&&(e.addWorld(),e.worldData.general.gameMode=a,e.worldData.general.difficulty=r,e.saveLocalWorld(e.currentWorldId),yield n,t.startLocalWorld(e.currentWorldId))}),[n],[e,t])},AJ={[$i.EASY]:"easy",[$i.HARD]:"hard",[$i.NORMAL]:"normal",[$i.PEACEFUL]:"peaceful"};function NJ(){return(0,r.useFacetMap)((e=>{const t=parseInt(e.difficulty,10),n=parseInt(e.mode,10);return{mode:n,modeKey:n==eu.CREATIVE?"creative":"survival",difficulty:t,difficultyKey:AJ[t],translationKey:n==eu.CREATIVE?".creative":`.survival.${AJ[t]}`}}),[],[f()])}function RJ(){return(0,r.useFacetMap)(((e,t)=>{const n=e.currentInputType===Ge.TOUCH,a=t.platform===Ke.NX_HANDHELD;return n&&!a}),[],[(0,r.useSharedFacet)(jn),(0,r.useSharedFacet)(il)])}const _J=(e,t)=>`/new-player-path/character-selector/${e}/${t}`,LJ=(e,t)=>`/new-player-path/${e}/${t}/touch-control-selection`,DJ=(e,t)=>`/new-player-path/summary/${e}/${t}`;function WJ(){const e=Tv(Ii.NewPlayerPathV3_B_NoSignInScreen),t=Tv(Ii.NewPlayerPathV3_D_NoControlScreen);return e?Ii.NewPlayerPathV3_B_NoSignInScreen:t?Ii.NewPlayerPathV3_D_NoControlScreen:"no-variant"}const BJ="new-player-path-route-character-selector/first-character",UJ="new-player-path-route-mode/survival",zJ="new-player-path-route-difficulty/easy",jJ="NewPlayerPathMode",HJ="NewPlayerPathDifficulty",VJ="NewPlayerPathRouteCharacterSelector",GJ="NewPlayerPathRouteSummary",$J="NewPlayerPathRouteTouchControlsSelection";function KJ(){const{t:e}=ec("NewPlayerPathRoute.CharacterSelector"),t=Ju(),n=Cr("neutral"),{skip:l,next:o}=function(){const e=WJ(),t=NJ(),n=RJ(),a=m(),l=(0,r.useFacetCallback)(((t,n)=>()=>{switch(e){case Ii.NewPlayerPathV3_B_NoSignInScreen:return n?a.push(LJ(t.mode,t.difficulty)):a.push(DJ(t.mode,t.difficulty));case Ii.NewPlayerPathV3_D_NoControlScreen:return a.push(DJ(t.mode,t.difficulty));default:throw Error("This should not be reachable")}}),[a,e],[t,n]),o=(0,r.useFacetCallback)((e=>()=>{e.setSelectedCharacter(e.selectableCharacters[0].id),l()}),[l],[(0,r.useSharedFacet)(nJ)]);return{next:l,skip:o}}(),i=(0,a.useCallback)((()=>{t({screen:VJ,button:"Skip"}),l()}),[t,l]),c=(0,a.useCallback)((()=>{t({screen:VJ,button:"Next"}),o()}),[t,o]);return a.createElement(JQ.Root,{navbarRight:a.createElement(a.Fragment,null,a.createElement($v.Divider,null),a.createElement(ZQ,{onClick:i})),title:e(".title"),screenAnalyticsId:VJ,gamepadAlias:"new-player-path-route-character-selector",delegateByAlias:BJ,dollColumn:a.createElement(gJ,null),bodyColumn:a.createElement(wf,{text:e(".controlChangeDoesNotAffectGamePlay")},a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}),a.createElement(EJ,null),a.createElement(JQ.Body,null,a.createElement(xJ,{gamepadAlias:BJ}),a.createElement(om,{size:3}),a.createElement(fm,{shouldNarrate:!0,align:"center",type:"captionShort",variant:"dimmer"},e(".controlChangeDoesNotAffectGamePlay"))),a.createElement(JQ.Footer,null,a.createElement(mg,{variant:"primary",horizontal:!0,"data-testid":"character-selector-next",soundEffectPressed:n.press,onClick:c,inputLegend:e(".next")},e(".next"))))})}const XJ=e=>`url(${e}?filtering=point)`,YJ=e=>{const t=(0,a.useRef)(null),[n,l]=(0,r.useFacetState)("0px"),o=cd(e),i=(0,r.useFacetCallback)((e=>({width:t})=>{l(`${Math.max(.5625*t,e)}px`)}),[l],[o]);return pd(t,i),[t,n]},qJ={control:n.p+"assets/controls-a12e1.png",creative:n.p+"assets/creative-b5f9d.png",survival:n.p+"assets/survival-7a34d.png",hard:n.p+"assets/hard-9efeb.png",normal:n.p+"assets/normal-2da8d.png",easy:n.p+"assets/easy-d8e2b.png",peaceful:n.p+"assets/peaceful-329cb.png"};function QJ({visibleType:e,entry:[t,n]}){const l=(0,r.useFacetMap)((e=>Dr()("dfY3H",{jbO5T:t===e})),[t],[(0,r.useFacetWrap)(e)]);return a.createElement(Mp,{imageRendering:"pixelated",className:l,src:n})}function JJ({type:e}){const t=(0,r.useFacetWrap)(e);return a.createElement("div",{className:"x5DAD"},Object.entries(qJ).map((e=>a.createElement(QJ,{key:e[0],entry:e,visibleType:t}))))}const ZJ=({image:e,title:t,iconType:n,description:r,inputLegend:l,gamepadAlias:o,onClick:i,groupIndex:c,groupSize:s})=>{const[u,d]=YJ(16.2),{t:m}=ec("Common.narration"),p=m(".position",[`${c}`,`${s}`]),f=[t,m(".roles.button"),p,r].join(" . ");return a.createElement(Kz,{gamepadIndex:0,inputLegend:l,gamepadAlias:o,onClick:i,narrateCardRole:!1},a.createElement("fast-div",{ref:u,className:"Bt2LC",style:{backgroundImage:XJ(e),paddingTop:d}}),a.createElement(Kz.Information,{narrationText:f},a.createElement("div",{className:"Ifk_D"},a.createElement(fm,{type:"body",verticalAlign:"center"},t),a.createElement(om,{size:1}),a.createElement(JJ,{type:n})),a.createElement(fm,{type:"captionShort",variant:"dimmer"},r)))},eZ=n.p+"assets/survival-6ff33.png",tZ=n.p+"assets/creative-34775.png";function nZ(){const{t:e}=ec("NewPlayerPathRoute.Mode"),{next:t}=function(){const e=m(),t=WJ(),n=RJ(),a=OJ();return{next:(0,r.useFacetCallback)((n=>r=>{if(r==eu.SURVIVAL)return e.push("/new-player-path/survival/difficulty");if(r==eu.CREATIVE)switch(t){case Ii.NewPlayerPathV3_B_NoSignInScreen:case Ii.NewPlayerPathV3_D_NoControlScreen:return e.push(_J(eu.CREATIVE,$i.NORMAL));default:return n?e.push(LJ(eu.CREATIVE,$i.NORMAL)):a(eu.CREATIVE,$i.NORMAL)}}),[e,t,a],[n])}}(),n=Ju(),l=(0,a.useCallback)((e=>{n({screen:jJ,button:e==eu.CREATIVE?"CreativeCard":"SurvivalCard"}),t(e)}),[n,t]);return a.createElement(AP,{title:e(".title"),screenAnalyticsId:jJ,gamepadAlias:"new-player-path-route-mode",delegateByAlias:UJ},(()=>a.createElement(a.Fragment,null,a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}),a.createElement(EJ,null),a.createElement(Ef,{delegateFocusByAlias:zJ},a.createElement(Yv,{maxWidth:96,centerContentVertically:!0},a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{wideSize:5,narrowSize:4},a.createElement(ZJ,{gamepadAlias:UJ,title:e(".survivalTitle"),iconType:"survival",description:e(".survivalDescription"),inputLegend:e(".survivalInputLegend"),image:eZ,onClick:()=>l(eu.SURVIVAL),groupIndex:1,groupSize:2})),a.createElement(Yv.Column,{wideSize:5,narrowSize:4},a.createElement(ZJ,{title:e(".creativeTitle"),iconType:"creative",description:e(".creativeDescription"),inputLegend:e(".creativeInputLegend"),image:tZ,onClick:()=>l(eu.CREATIVE),groupIndex:2,groupSize:2}))))))))}const aZ=({image:e,title:t,iconType:n,inputLegend:r,description:l,gamepadAlias:o,onClick:i,groupIndex:c,groupSize:s})=>{const[u,d]=YJ(14),{t:m}=ec("Common.narration"),p=m(".position",[`${c}`,`${s}`]),f=[t,m(".roles.button"),p,l].join(" . ");return a.createElement(Kz,{gamepadIndex:0,inputLegend:r,gamepadAlias:o,onClick:i,narrateCardRole:!1},a.createElement("fast-div",{ref:u,className:"dZltg",style:{backgroundImage:XJ(e),paddingTop:d}}),a.createElement(Kz.Information,{narrationText:f},a.createElement("div",{className:"D63gL"},a.createElement(fm,{type:"body",verticalAlign:"center"},t),a.createElement(om,{size:1}),a.createElement(JJ,{type:n})),a.createElement(fm,{type:"captionShort",variant:"dimmer"},l)))},rZ=({image:e,title:t,iconType:n,description:r,inputLegend:l,gamepadAlias:o,onClick:i,groupIndex:c,groupSize:s})=>{const{t:u}=ec("Common.narration"),d=u(".position",[`${c}`,`${s}`]),m=[t,u(".roles.button"),d,r].join(" . ");return a.createElement(TM,{tall:!0},a.createElement(TM.Action,{inputLegend:l,narrationText:m,gamepadAlias:o,onClick:i},a.createElement(TM.Cell,null,a.createElement("div",{className:"anWx0",style:{backgroundImage:XJ(e)}})),a.createElement(TM.Main,null,a.createElement("div",{className:"bK9_T"},a.createElement(fm,{type:"body"},t),a.createElement(om,{size:1}),a.createElement(JJ,{type:n})),a.createElement(fm,{type:"captionShort",variant:"dimmer"},r))))},lZ=n.p+"assets/easy-8c5d9.png",oZ=n.p+"assets/normal-6b57a.png",iZ=n.p+"assets/hard-bd518.png",cZ=n.p+"assets/peaceful-95e19.png";function sZ(){const{t:e}=ec("NewPlayerPathRoute.Difficulty"),t=dd(48),{next:n}=function(){const e=m(),t=WJ(),n=RJ(),a=OJ();return{next:(0,r.useFacetCallback)((n=>r=>{switch(t){case Ii.NewPlayerPathV3_B_NoSignInScreen:case Ii.NewPlayerPathV3_D_NoControlScreen:return e.push(_J(eu.SURVIVAL,r));default:return n?e.push(LJ(eu.SURVIVAL,r)):a(eu.SURVIVAL,r)}}),[e,t,a],[n])}}(),l=Ju(),o=(0,a.useCallback)(((e,t)=>{l({screen:HJ,button:t}),n(e)}),[l,n]),i=a.createElement(Yv,{nonFullScreen:!0,centerContentVertically:!0},a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:3,narrowSize:2},a.createElement(aZ,{title:e(".peacefulTitle"),iconType:"peaceful",description:e(".peacefulDescription"),inputLegend:e(".createInputLegend"),image:cZ,onClick:()=>o($i.PEACEFUL,"Peaceful"),groupIndex:1,groupSize:4})),a.createElement(Yv.Column,{wideSize:3,narrowSize:2},a.createElement(aZ,{gamepadAlias:zJ,title:e(".easyTitle"),iconType:"easy",description:e(".easyDescription"),inputLegend:e(".createInputLegend"),image:lZ,onClick:()=>o($i.EASY,"Easy"),groupIndex:2,groupSize:4})),a.createElement(Yv.Column,{wideSize:3,narrowSize:2},a.createElement(aZ,{title:e(".normalTitle"),iconType:"normal",description:e(".normalDescription"),inputLegend:e(".createInputLegend"),image:oZ,onClick:()=>o($i.NORMAL,"Normal"),groupIndex:3,groupSize:4})),a.createElement(Yv.Column,{wideSize:3,narrowSize:2},a.createElement(aZ,{title:e(".hardTitle"),iconType:"hard",description:e(".hardDescription"),inputLegend:e(".createInputLegend"),image:iZ,onClick:()=>o($i.HARD,"Hard"),groupIndex:4,groupSize:4})))),c=a.createElement(Yv,{nonFullScreen:!0,centerContentVertically:!0},a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:12,narrowSize:8},a.createElement(rZ,{title:e(".peacefulTitle"),iconType:"peaceful",description:e(".peacefulDescription"),inputLegend:e(".createInputLegend"),image:cZ,onClick:()=>o($i.PEACEFUL,"Peaceful"),groupIndex:1,groupSize:4}),a.createElement(rZ,{gamepadAlias:zJ,iconType:"easy",title:e(".easyTitle"),description:e(".easyDescription"),inputLegend:e(".createInputLegend"),image:lZ,onClick:()=>o($i.EASY,"Easy"),groupIndex:2,groupSize:4}),a.createElement(rZ,{title:e(".normalTitle"),iconType:"normal",description:e(".normalDescription"),inputLegend:e(".createInputLegend"),image:oZ,onClick:()=>o($i.NORMAL,"Normal"),groupIndex:3,groupSize:4}),a.createElement(rZ,{title:e(".hardTitle"),iconType:"hard",description:e(".hardDescription"),inputLegend:e(".createInputLegend"),image:iZ,onClick:()=>o($i.HARD,"Hard"),groupIndex:4,groupSize:4}))));return a.createElement(AP,{title:e(".title"),screenAnalyticsId:HJ,gamepadAlias:"new-player-path-route-difficulty",delegateByAlias:zJ},(()=>a.createElement(a.Fragment,null,a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}),a.createElement(EJ,null),a.createElement(Ef,{delegateFocusByAlias:zJ},a.createElement(wl,{data:t},(e=>e?c:i))))))}const uZ=n.p+"assets/video_crosshair-76970.webm",dZ=n.p+"assets/video_touch-e5021.webm",mZ=n.p+"assets/video_classic-fbc33.webm",pZ={wrapper:"C9Ox8",wrapperDisabled:"chklf",RadioBox:"UYLxr",innerBox:"mNihg",innerBoxTileLeft:"Rugdi",innerBoxTileRight:"TG2vJ",RadioBoxCheckedDisabled:"OGJXs",label:"aS_mB",labelInner:"T4t4A"};function fZ({onClick:e,checked:t,label:n,description:l,disabled:o,extraSpeechProps:{index:i,groupSize:c}={index:1,groupSize:1},onFocusChanged:s,omitDescription:u=!1,readDescription:d=!1,checkedRole:m="primary",uncheckedRole:p="neutral50",textRole:f="neutral",soundEffectPressed:g}){const{t:E}=ec("RadioBox"),h=(0,r.useFacetWrap)(t),v=Fr(m),b=Fr(p),y=Cr("inherit"),F=(0,r.useFacetMap)((e=>[...null!=n?[n]:[],e?E(".selected"):"",e&&d&&null!=l?l+". ":"",o?E(".disabled"):"",E(".count",[`${i+1}`,`${c}`])].join(" . ")),[d,l,n,i,c,o,E],[h]),S=(0,r.useFacetMap)((e=>{var t,n,a,r;return Dr()(pZ.RadioBox,{[null!==(t=v.background.interactive)&&void 0!==t?t:""]:e,[null!==(n=v.border.interactive)&&void 0!==n?n:""]:e,[null!==(a=b.background.interactive)&&void 0!==a?a:""]:!e,[null!==(r=b.border.interactive)&&void 0!==r?r:""]:!e})}),[v,b],[h]);return a.createElement(em,{className:pZ.wrapper,classNameFocused:Dr()(pZ.focused,Zm),classNameDisabled:pZ.wrapperDisabled,narrationText:F,onClick:e,onFocusChanged:s,inputLegend:!1,disabled:o,soundEffectPressed:null!=g?g:y.toggle},a.createElement("fast-div",{className:S},a.createElement(Jm,null),a.createElement(cp,{effect:"specular"}),a.createElement(r.Mount,{when:h},a.createElement("div",{className:pZ.innerBox},a.createElement("div",{className:pZ.innerBoxTileLeft}),a.createElement("div",{className:pZ.innerBoxTileRight})))),Boolean(n)&&a.createElement("div",{className:Dr()(pZ.label)},Boolean(!u)&&Boolean(l)&&a.createElement(om,{size:4}),a.createElement(fm,{type:"body",role:f,variant:o?"dimmer":void 0},n),Boolean(!u)&&Boolean(l)&&a.createElement(a.Fragment,null,a.createElement(fm,{type:"captionShort",role:f,variant:"dimmer"},a.createElement("div",{className:pZ.labelInner},l)),a.createElement(om,{size:4}))))}let gZ=0;const EZ=()=>{};function hZ({options:e,title:t,onChange:n=EZ,value:r,disabled:l=!1,disabledValues:o,onFocusChanged:i,checkedRole:c,uncheckedRole:s,wrapperRole:u="neutral",soundEffectPressed:d}){const m=(0,a.useRef)(null),p=Fr(u),f=Cr(u);-1===e.findIndex((e=>e.value===r))&&console.warn("The provided default value does not match any of the provided options. This means that no option is selected, which is a broken state for RadioGroup.");const g=(0,a.useRef)("MCT-"+gZ++);return a.createElement(Xa,{role:u},a.createElement(Fp,{delegateFocusFromMemory:!0,disabled:l,delegateFocusByAlias:g.current,containerRef:m},a.createElement("div",{className:Dr()("d41i7",p.background.base)},a.createElement(cp,{effect:"specular",thin:!0,left:!1,right:!1,bottom:!1}),null!=t&&""!=t&&a.createElement(a.Fragment,null,a.createElement(om,{size:4}),a.createElement("div",{className:"dTZYj"},a.createElement(fm,{type:"body",role:u,variant:l?"dimmer":void 0},t))),a.createElement(om,{size:4}),e.map(((t,m)=>a.createElement(fZ,{disabled:!!(l||o&&o.indexOf(t.value)>-1),key:m,label:t.label,description:t.description,omitDescription:t.omitDescription,readDescription:t.readDescription,gamepad:{index:m},checked:t.value===r,onClick:()=>{r!==t.value&&n(t.value)},extraSpeechProps:{index:m,groupSize:e.length},onFocusChanged:i,checkedRole:c,uncheckedRole:s,textRole:u,soundEffectPressed:null!=d?d:f.toggle}))),a.createElement(om,{size:4}))))}const vZ="t5A6n";function bZ({startWorld:e,navbarRight:t,role:n="neutral80"}){const[l,o]=(0,r.useFacetState)("0px"),i=(0,a.useRef)(null),c=Yr(),{t:s}=ec("TouchControlSelectionRoute"),u=(0,r.useSharedFacet)(pc),[d,m]=(0,a.useState)(mc.CLASSIC),p=(0,r.useSharedFacet)(bi),f=(0,r.useFacetCallback)((e=>()=>{e.inWorldCreation=!1,c.goBack()}),[c],[p]),g=(0,r.useFacetCallback)((t=>()=>{t.touchControlScheme=d,t.showTouchControlSelectionScreen=!1,e()}),[d,e],[u]),E=Fr(n),h="touch",v="classic",b="crosshair",y=(0,a.useRef)(null),F=(0,a.useRef)(null),S=(0,a.useRef)(null),C=(0,a.useMemo)((()=>[y,S,F]),[]),M=(0,r.useFacetCallback)((e=>t=>{let n=mc.TOUCH;if(t==v?n=mc.CLASSIC:t==b&&(n=mc.CROSSHAIR),e.playVideoInTouchControlSelectionScreen)for(let e=mc.TOUCH;e<=mc.CLASSIC;++e){const t=C[e].current;e==n?null!=t&&(t.currentTime=0,t.play()):null==t||t.pause()}m(n)}),[C],[u]);(0,r.useFacetEffect)((e=>{switch(e.touchControlScheme){case mc.CLASSIC:M(v);break;case mc.TOUCH:M(h);break;case mc.CROSSHAIR:M(b)}}),[M],[u]);const w=(0,a.useCallback)((()=>{if(i.current){const{width:e}=i.current.getBoundingClientRect();e>0?o(.48*e+"px"):requestAnimationFrame(w)}}),[o]);function k(e){return d==e?"100%":"0px"}function T(e){return d==e?"100%":"0px"}(0,a.useEffect)((()=>(w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w))),[w]);const I=[s(".header")+". ",s(".title")+". ",(d==mc.CLASSIC?s(".classicLabel"):d==mc.TOUCH?s(".touchLabel"):s(".crosshairLabel"))+". ",s(".selected")+". ",d==mc.CLASSIC?s(".classicInfo"):d==mc.TOUCH?s(".touchInfo"):s(".crosshairInfo")].join(" . ");return a.createElement(Iv,null,a.createElement(kv,{text:I}),a.createElement($v,{onBackButton:f,center:a.createElement(fm,{type:"header5A"},s(".header")),gamepadAlias:"touch-control-selection",right:t},a.createElement(Yv,null,a.createElement(Yv.Row,{gamepadIndex:0},a.createElement(Yv.Column,{gamepadIndex:0,wideSize:8,narrowSize:4},a.createElement(Ef,{gamepadIndex:0},a.createElement(om,{size:4}),a.createElement("div",{className:Dr()(vZ,E.border.base)},a.createElement("fast-div",{ref:i,style:{height:l}},a.createElement("div",{className:Dr()("B9zyI",E.background.base)},a.createElement("div",{className:"XIpaQ"},a.createElement("div",{className:"_7xRa"},a.createElement(ff,null)))),a.createElement("video",{ref:C[mc.CLASSIC],style:{width:k(mc.CLASSIC),height:T(mc.CLASSIC),position:"absolute"},src:mZ,loop:!0}),a.createElement("video",{ref:C[mc.CROSSHAIR],style:{width:k(mc.CROSSHAIR),height:T(mc.CROSSHAIR),position:"absolute"},src:uZ,loop:!0}),a.createElement("video",{ref:C[mc.TOUCH],style:{width:k(mc.TOUCH),height:T(mc.TOUCH),position:"absolute"},src:dZ,loop:!0})),a.createElement("div",{className:Dr()("U6ayg",E.background.base)},a.createElement(fm,{type:"body",variant:"dimmer"},d==mc.CLASSIC?s(".classicInfo"):d==mc.TOUCH?s(".touchInfo"):s(".crosshairInfo")))))),a.createElement(Yv.Column,{gamepadIndex:1,wideSize:4,narrowSize:4},a.createElement(Ef,{gamepadIndex:1},a.createElement(om,{size:4}),a.createElement("div",{className:Dr()(vZ,E.border.base)},a.createElement(hZ,{wrapperRole:n,title:s(".title"),gamepad:{index:0},options:[{label:s(".touchLabel"),value:h,description:s(".touchInfo"),omitDescription:!0,readDescription:!0},{label:s(".classicLabel"),value:v,description:s(".classicInfo"),omitDescription:!0,readDescription:!0},{label:s(".crosshairLabel"),value:b,description:s(".crosshairInfo"),omitDescription:!0,readDescription:!0}],onChange:e=>M(e),value:d==mc.CLASSIC?v:d==mc.TOUCH?h:b})),a.createElement(om,{size:4}),a.createElement(mg,{variant:"hero",gamepadIndex:1,onClick:g,inputLegend:s(".select"),autofocus:!0,"data-testid":"select-touch-control-button",narrationSuffix:d==mc.CLASSIC?s(".classicLabel"):d==mc.TOUCH?s(".touchLabel"):s(".crosshairLabel")},s(".select"))))))))}function yZ(){const e=Ju(),{skip:t,next:n}=function(){const e=WJ(),t=NJ(),n=OJ(),a=m();return{skip:(0,r.useFacetCallback)((t=>()=>{switch(e){case Ii.NewPlayerPathV3_B_NoSignInScreen:return a.push(DJ(t.mode,t.difficulty));case Ii.NewPlayerPathV3_D_NoControlScreen:default:throw Error("This should not be reachable")}}),[a,e],[t]),next:(0,r.useFacetCallback)((t=>()=>{switch(e){case Ii.NewPlayerPathV3_B_NoSignInScreen:case Ii.NewPlayerPathV3_D_NoControlScreen:return a.push(DJ(t.mode,t.difficulty));default:return n(t.mode,t.difficulty)}}),[a,e,n],[t])}}(),[l,o]=(0,a.useState)(),i=(0,r.useFacetCallback)((n=>()=>{e({screen:$J,button:"Skip"}),t(),n.touchControlScheme=mc.TOUCH,o("skipped"),o(void 0)}),[e,t],[(0,r.useSharedFacet)(pc)]),c=(0,a.useCallback)((()=>{e({screen:$J,button:"Next"}),n()}),[e,n]);return a.createElement(bZ,{key:l,startWorld:c,navbarRight:a.createElement(a.Fragment,null,a.createElement($v.Divider,null),a.createElement(ZQ,{onClick:i}))})}function FZ(){const{t:e}=ec("NewPlayerPathRoute.Summary"),t=Cr("neutral"),n=NJ(),{next:l}=function(){const e=OJ(),t=WJ(),n=NJ(),a=(0,r.useSharedFacet)(nJ);return{next:(0,r.useFacetCallback)(((n,a)=>()=>{[Ii.NewPlayerPathV3_B_NoSignInScreen,Ii.NewPlayerPathV3_D_NoControlScreen].includes(t)&&a.applySelectedCharacterSkin(),e(n.mode,n.difficulty)}),[e,t],[n,a])}}(),o=Ju(),i=(0,a.useCallback)((()=>{o({screen:GJ,button:"Play"}),l()}),[o,l]),c=(0,r.useFacetMap)((({modeKey:t})=>e(`.${t}.heading`)),[e],[n]),s=(0,r.useFacetMap)((({translationKey:t})=>e(t+".paragraph1")),[e],[n]),u=(0,r.useFacetMap)((({translationKey:t})=>e(t+".paragraph2")),[e],[n]),d=(0,r.useFacetMap)((({modeKey:e})=>e),[],[n]),m=(0,r.useFacetMap)((({modeKey:t})=>e(`.${t}`)),[e],[n]),p=(0,r.useFacetMap)((({mode:e})=>e==eu.SURVIVAL),[],[n]),f=(0,r.useFacetMap)((({difficultyKey:e})=>e),[],[n]),g=(0,r.useFacetMap)((({difficultyKey:t})=>e(`.${t}`)),[e],[n]),E=Tv(Ii.NewPlayerPathV3_B_NoSignInScreen),h=(0,r.useSharedFacet)(pc),v=(0,r.useFacetMap)((e=>E&&e),[E],[RJ()]),b=(0,r.useFacetMap)((t=>{switch(t.touchControlScheme){case mc.TOUCH:return e(".controlTouchLabel");case mc.CLASSIC:return e(".controlClassicLabel");case mc.CROSSHAIR:return e(".controlCrosshairLabel")}}),[e],[h]),y=(0,r.useFacetMap)(((...e)=>e.join(" . ")),[],[c,s,u]);return a.createElement(JQ.Root,{gamepadAlias:"new-player-path-route-summary",screenAnalyticsId:GJ,title:e(".title"),dollColumn:a.createElement(gJ,null),bodyColumn:a.createElement(wf,{text:y},a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}),a.createElement(EJ,null),a.createElement(JQ.Body,null,a.createElement(fm,{shouldNarrate:!0,type:"body"},c),a.createElement(om,{size:2}),a.createElement("div",{className:"vigLS"},a.createElement(fm,{shouldNarrate:!0,type:"captionShort",variant:"dimmer"},s),a.createElement(om,{size:3}),a.createElement(fm,{shouldNarrate:!0,type:"captionShort",variant:"dimmer"},u)),a.createElement(om,{size:6}),a.createElement("div",{className:"D4cIH"},a.createElement(cy,{icon:a.createElement(JJ,{type:d}),role:"neutralAlpha60"},m),a.createElement(r.Mount,{when:p},a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(cy,{icon:a.createElement(JJ,{type:f}),role:"neutralAlpha60"},g))),a.createElement(r.Mount,{when:v},a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(cy,{icon:a.createElement(JJ,{type:"control"}),role:"neutralAlpha60"},b))))),a.createElement(JQ.Footer,null,a.createElement(mg,{variant:"hero",horizontal:!0,"data-testid":"play-minecraft",soundEffectPressed:t.press,onClick:i,inputLegend:e(".playMinecraft")},e(".playMinecraft"))))})}function SZ(){const e=m(),t=(0,r.useFacetCallback)(((t,n)=>()=>{t.inWorldCreation?(t.inWorldCreation=!1,n.fireEventButtonPressed("Create_World_Button_OreUI",{}),t.createWorld()):e.goBack()}),[e],[(0,r.useSharedFacet)(bi),(0,r.useSharedFacet)($s)]);return a.createElement(bZ,{startWorld:t})}function CZ(){const e=qr(),t=(0,r.useSharedFacet)(XV),n=decodeURIComponent(e.id),l=(0,r.useFacetMap)((e=>e.localWorlds.find((e=>e.allContentOwned&&e.id===n))),[n],[t]),o=$V(l);return a.createElement(bZ,{startWorld:o})}let MZ;function wZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function kZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wZ(Object(n),!0).forEach((function(t){TZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TZ(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IZ(){const e=(0,r.useSharedFacet)(Ps);return(0,r.useFacetMap)((e=>{const t=[];return e.playerList.forEach((e=>{t.push(kZ(kZ({},e),{},{gamerTag:e.gamertag,isCurrentlyPlaying:!1,titleHistory:_k.Unknown,favoriteStatus:Tc.UNKNOWN,presenceMessage:e.description,presence:Pc.Online,titleName:"Minecraft"}))})),t}),[],[e])}!function(e){e[e.VISUAL=1]="VISUAL"}(MZ||(MZ={}));function PZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PZ(Object(n),!0).forEach((function(t){OZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OZ(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AZ({player:e,index:t,sectionIndex:n,listLengthFacet:l,profileEntryPoints:o}){const i=XI(),c=(0,r.useFacetCallback)((e=>()=>{i({xuid:e.xuid,platformId:e.platformId})}),[i],[e]);return a.createElement(Ck,{item:e,index:t,listLength:l,onMainActionClick:()=>c(),profileEntryPoint:(0,r.useFacetMap)((e=>e[n]),[n],[o]),testId:"party-invite-list",gamepadAlias:`party-invite-list-item-${n}-${t}`})}function NZ({listData:e,invitedXuids:t}){const n=function(e,t){return(0,r.useFacetMap)(((e,t)=>e.map((e=>xZ(xZ({},e),{},{playerList:e.playerList.filter((({presence:e})=>e===Pc.Online||e===Pc.Away)).map((e=>xZ(xZ({},e),{},{variant:t.includes(e.xuid)?"party-sent-invite":"party-invite"})))})))),[],[e,t])}(e,t),{t:l}=tc("PartyInviteListGroup"),o=(0,r.useFacetMap)((e=>e.map((e=>({role:e.role,title:e.showLength?l(".titleWithLength",[e.title,e.playerList.length.toString()]):e.title,data:e.playerList})))),[l],[n]),i=(0,r.useFacetMap)((e=>e.map((e=>e.profileEntryPoint))),[],[n]);return a.createElement(pw,{gamepadAlias:"party-invite-list",data:o,sectionSeparator:a.createElement(om,{size:2}),renderSectionHeader:(e,t)=>a.createElement(eF,{role:t,label:e}),renderItem:({itemFacet:e,index:t,sectionIndex:n,listLengthFacet:r})=>a.createElement(AZ,{player:e,index:t,sectionIndex:n,listLengthFacet:r,profileEntryPoints:i})})}function RZ(){const e=m(),{t}=ec("CreatePartyRoute"),{t:n}=ec("CreatePartyRoute.narration"),l=Fr("neutral80"),o=(0,r.useSharedFacet)(uw),i=(0,r.useFacetMap)((e=>e.partyPrivacy),[],[o]),c=(0,r.useFacetCallback)((e=>t=>{e.setPartyPrivacy(t)}),[],[o]),s=(0,r.useFacetMap)((e=>e.invitedPlayerXuids),[],[o]),u=[{label:t(".open"),description:t(".openDescription"),value:dw.Open},{label:t(".inviteOnly"),description:t(".inviteOnlyDescription"),value:dw.InviteOnly}],{friends:d}=Qk(),p=IZ(),f=(0,r.useFacetMap)(((e,n)=>{const a=[];return e.length>0&&a.push({playerList:e,title:t(".friendsTitle",[e.length.toString()]),role:"successTint",profileEntryPoint:xc.CreateParty_Friends,showLength:!0}),n.length>0&&a.push({playerList:n,title:t(".recentlyPlayedWithTitle"),role:"neutral",profileEntryPoint:xc.CreateParty_RecentlyPlayedWith}),a}),[t],[d,p]),g=[n(".createParty"),n(".screen")].join(" . "),E=[t(".partySettings"),n(".verticalMenu"),t(".maxPartyExplanation")].join(" . ");return a.createElement(Iv,null,a.createElement($v,{onBackButton:e.goBack,center:a.createElement(fm,{type:"header5A"},t(".createPartyHeader")),gamepadAlias:"create-party",narrationText:g},a.createElement(Yv,null,a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:4,narrowSize:3},a.createElement(wf,{text:E},a.createElement(om,{size:4}),a.createElement("div",{className:Dr()(l.border.base,"GImKk")},a.createElement(wO,{title:t(".partySettings"),description:t(".maxPartyExplanation")}),a.createElement(Mx,{onMountComplete:(0,r.useNotifyMountComplete)(),title:t(".partyPrivacy"),options:u,value:i,onChange:c,wrapToggleText:!0})))),a.createElement(Yv.Column,{wideSize:8,narrowSize:5},a.createElement(om,{size:4}),a.createElement(NZ,{listData:f,invitedXuids:s}))))))}function _Z(){const{t:e}=ec("InviteToPartyRoute"),t=(0,r.useSharedFacet)(uw),n=(0,r.useFacetMap)((e=>e.invitedPlayerXuids),[],[t]),{friends:l}=Qk(),o=IZ(),i=(0,r.useFacetMap)(((t,n)=>{const a=[];return t.length>0&&a.push({playerList:t,title:e(".friendsTitle",[t.length.toString()]),role:"successTint",profileEntryPoint:xc.InviteToParty_Friends,showLength:!0}),n.length>0&&a.push({playerList:n,title:e(".recentlyPlayedWithTitle"),role:"neutral",profileEntryPoint:xc.InviteToParty_RecentlyPlayedWith}),a}),[e],[l,o]);return a.createElement(AP,{title:e(".inviteToPartyHeader"),screenAnalyticsId:"InviteToParty",gamepadAlias:"invite-to-party"},(()=>a.createElement(Yv,null,a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:1,narrowSize:0}),a.createElement(Yv.Column,{wideSize:10,narrowSize:8},a.createElement(om,{size:4}),a.createElement(NZ,{listData:i,invitedXuids:n})),a.createElement(Yv.Column,{wideSize:1,narrowSize:0})))))}const LZ=n.p+"assets/sleep_steve-5b5b6.gif",DZ=n.p+"assets/sleep_steve_still-2a5f7.png",WZ=n.p+"assets/sleep_dream_apple-d5fc7.gif",BZ=n.p+"assets/sleep_dream_apple_still-326c4.png",UZ=n.p+"assets/sleep_dream_creeper-40220.gif",zZ=n.p+"assets/sleep_dream_creeper_still-3769b.png",jZ=n.p+"assets/sleep_dream_diamond-638b3.gif",HZ=n.p+"assets/sleep_dream_diamond_still-2565c.png",VZ=n.p+"assets/sleep_dream_dirthut-88c2f.gif",GZ=n.p+"assets/sleep_dream_dirthut_still-b48a2.png",$Z=n.p+"assets/sleep_dream_pickaxe-52045.gif",KZ=n.p+"assets/sleep_dream_pickaxe_still-6613a.png",XZ=n.p+"assets/sleep_dream_poppy-30c79.gif",YZ=n.p+"assets/sleep_dream_poppy_still-3ca37.png";function qZ({children:e,role:t="informative",className:n}){return a.createElement(Xa,{role:t},a.createElement("div",{className:Dr()("nu2D6",n)},e))}const QZ=[WZ,UZ,jZ,VZ,$Z,XZ],JZ=[BZ,zZ,HZ,GZ,KZ,YZ],ZZ=function(){const e=Math.floor(6*Math.random());return QZ[e]}(),e0=function(){const e=Math.floor(6*Math.random());return JZ[e]}(),t0=()=>{const[e,t]=An();(0,a.useEffect)((()=>(t(!0),()=>{t(!1)})),[t]);const{t:n}=tc("IdleScreenRoute");return a.createElement(Iv,null,a.createElement(Yv,null,a.createElement(Yv.Row,{gamepadIndex:0,fullHeight:!0},a.createElement(Yv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},a.createElement("div",{className:"ffguv"},a.createElement(qZ,{className:"UQGjo"},a.createElement("div",{className:"PaY7h"},a.createElement(iI,{gifSrc:LZ,imageSrc:DZ,className:"y2wEi"}),a.createElement(iI,{gifSrc:ZZ,imageSrc:e0,className:"xnhy1"})),a.createElement(fm,{align:"left",type:"body",className:"sKfdG"},n(".text")))))),a.createElement(iE.Space,null)))},n0=({open:e,isOpen:t})=>{const n=(0,r.useSharedFacet)(Hn);(0,r.useFacetEffect)((t=>{const n=t.screenAnimationEnabled?10:0,a=setTimeout(e,n);return()=>{clearTimeout(a)}}),[e],[n]);const l=m(),[o,i]=(0,a.useState)(!1);return(0,r.useFacetEffect)(((e,t)=>{if(!e&&o)return((e,t)=>{let n=!1;const a=setTimeout((()=>{n=!0,e()}),t);return()=>{clearTimeout(a),n||e()}})((()=>l.goBack()),t.screenAnimationEnabled?275:0);e&&i(!0)}),[l,o,i],[t,n]),null},a0={start:"Start",ingame:"Ingame"},r0=()=>{const e=(0,r.useFacetMap)((e=>{var t,n;const a=null!==(t=e.get("context"))&&void 0!==t?t:"";return null!==(n=a0[a])&&void 0!==n?n:""}),[],[E()]);return a.createElement(wl,{data:e},(e=>a.createElement(cP,{screenAnalyticsId:e,closeDrawerOnProfileClick:!1},(({openFriendsDrawer:e,isFriendsDrawerOpen:t})=>a.createElement(n0,{open:e,isOpen:t})))))},l0="W_NP7";function o0({tabs:e,gamepadAliasNamespace:t,value:n,onChange:l,narrationTitle:o,enableGamepadShortcuts:i,onTabHoveredSoundEffect:c,onTabPressedSoundEffect:s,isCondensed:u=!1,role:d="neutral",badgeRole:m}){const{t:p}=ec("TabBar"),f=(0,a.useRef)(null),g=(0,r.useFacetWrap)(null!=i&&i),E=(0,r.useFacetWrap)(e),h=(0,r.useFacetMap)((e=>e.length),[],[E]),v=(0,r.useFacetWrap)(n),b=(0,r.useFacetMap)((e=>`${p(".narrationGroup",[e])}`),[p],[(0,r.useFacetWrap)(o)]),y=Cr(d),F=ra(),S=(0,r.useFacetCallback)(((e,t)=>(n,a)=>{if(t===n)return;const r=null!=e?e:y.toggle;null!=r&&F(r),l(n,a)}),[l,y.toggle,F],[(0,r.useFacetWrap)(s),v]);return a.createElement(wf,{text:b},a.createElement("div",{ref:f,className:"nV5il"},a.createElement(r.Map,{array:E},((e,n)=>a.createElement(c0,{gamepadAliasNamespace:t,key:`tab_${n}`,index:n,length:h,tab:e,selectedTab:v,onChange:S,onTabHoveredSoundEffect:c,isCondensed:u,badgeRole:m}))),a.createElement(r.Mount,{when:g},a.createElement(i0,{value:v,onChange:S,tabs:E}))))}const i0=function({value:e,tabs:t,onChange:n}){var l;const o=rt(),i=(0,r.useFacetWrap)(null!==(l=Oy())&&void 0!==l&&l),c=(0,r.useFacetCallback)((e=>t=>e[t].value),[],[t]),s=(0,r.useFacetCallback)((e=>t=>e.findIndex((({value:e})=>e===t))),[],[t]),u=(0,r.useFacetMap)((e=>s(e)),[s],[e]),d=(0,r.useFacetCallback)((e=>()=>{const t=e-1;if(t>-1){const e=c(t);e!==r.NO_VALUE&&n(e,!0)}}),[c,n],[u]),m=(0,r.useFacetCallback)(((e,t)=>()=>{const a=t+1;if(a<e.length){const e=c(a);e!==r.NO_VALUE&&n(e,!0)}}),[c,n],[t,u]),p=vE.useIsAnyModalVisible(),f=(0,r.useFacetMap)(((e,t)=>({button:j.LEFT_BUMPER,disabled:e||t})),[],[p,i]),g=(0,r.useFacetMap)(((e,t)=>({button:j.RIGHT_BUMPER,disabled:e||t})),[],[p,i]);return a.createElement(r.Mount,{when:o},a.createElement(a.Fragment,null,a.createElement(Sf,{options:f,onClick:d}),a.createElement(Sf,{options:g,onClick:m}),a.createElement("div",{className:"eXLWo"},a.createElement(iE.Icon,{button:j.LEFT_BUMPER})),a.createElement("div",{className:"WP1BY"},a.createElement(iE.Icon,{button:j.RIGHT_BUMPER}))))};function c0({gamepadAliasNamespace:e,selectedTab:t,onChange:n,index:l,length:o,tab:i,onTabHoveredSoundEffect:c,onTabPressedSoundEffect:s,isCondensed:u=!1,role:d="neutral",badgeRole:m}){const{t:p}=ec("TabBar"),{narrateText:f}=gf(),g=Fr(d),E=(0,r.useFacetMap)((e=>{var t;return null!==(t=e["data-testid"])&&void 0!==t?t:`tab-${e.value}`}),[],[i]),h=(0,r.useFacetMap)(((e,t)=>e===t.value),[],[t,i]),v=(0,r.useFacetMap)((e=>!e),[],[h]),b=(0,r.useFacetMap)(((e,t,n)=>[e.label,p(".narrationComponentType"),p(".selectedTab",[`${l+1}`,`${n}`]),p("."+(t?"selected":"notSelected")),e.hint].filter((e=>e)).join(" . ")),[l,p],[i,h,o]),y=(0,r.useFacetMap)((e=>Dr()("J3E01",{xtU59:u,[l0]:e})),[u],[h]),F=(0,r.useFacetCallback)((e=>()=>{f(p(".selected")),n(e.value,!1)}),[f,n,p],[i]),S=(0,r.useFacetMap)((t=>s0(e,t.value)),[e],[i]),C=(0,r.useFacetMap)((e=>!e&&p(".open")),[p],[h]),M=(0,r.useFacetMap)(((e,t)=>{var n;return null===(n=e.icons)||void 0===n?void 0:n[t?"selected":"unselected"]}),[],[i,h]),w=(0,r.useFacetMap)((e=>null!=e.badge),[],[i]),k=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.badge)&&void 0!==t?t:0}),[],[i]),T=(0,r.useFacetMap)((e=>Dr()("zyskO",e?"ml42H":null)),[],[w]),I=(0,r.useFacetMap)((e=>e.label),[],[i]);return a.createElement(em,{className:y,classNameFocused:"a0eaC",classNamePressed:l0,classNameHovered:"CndCq",onClick:F,gamepadAlias:S,gamepadIndex:l,inputLegend:C,soundEffectHovered:c,soundEffectPressed:s,narrationText:b,"data-testid":E},a.createElement("fast-div",{className:T},a.createElement(fm,{type:"body",role:d,verticalAlign:"center",disableable:h,interactive:v},a.createElement(wl,{data:M},(e=>null!=e?a.createElement(a.Fragment,null,e,a.createElement(om,{size:2})):null)),a.createElement(am,null,I)),a.createElement(r.Mount,{when:w},a.createElement("div",{className:"ecuoc"},a.createElement(om,{size:2}),a.createElement(Ny,{role:m},k)))),a.createElement(r.Mount,{when:h},a.createElement("div",{className:Dr()("Im9Nz",g.icon.base)})))}function s0(e,t){return`tab-bar-${e}-${t}`}o0.getFocusAlias=s0;const u0=n.p+"assets/UI_Menu_ServerTab-e7c3c.png",d0=n.p+"assets/UI_Menu_RealmsTab-c7419.png",m0=n.p+"assets/UI_Menu_WorldsTab-dfd40.png",p0=n.p+"assets/UI_Menu_WorldsTab_Alt01-1d8f1.png",f0=n.p+"assets/UI_Menu_WorldsTab_Alt02-cc2f9.png",g0=n.p+"assets/Realms_Default_Thumbnail_3840-998f3.jpg",E0="k_PdS",h0="nKr6H",v0="HlT4l",b0="uzC0y",y0="TzgHG";function F0(e){switch(e){case eu.ADVENTURE:return".adventure";case eu.SURVIVAL:return".survival";case eu.CREATIVE:return".creative";default:return".unknown"}}let S0;!function(e){e.REALMS_INFORMATION="realms-information-focus-alias",e.REALMS_PLAY_BUTTON="realms-play-button-focus-alias"}(S0||(S0={}));const C0=n.p+"assets/enter-icon-31b5a.png";function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},M0.apply(this,arguments)}const w0=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("iWBnu",t);return a.createElement(Mp,M0({},n,{className:r,src:C0,imageRendering:"pixelated"}))},k0=n.p+"assets/icon-edit-56235.png";function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T0.apply(this,arguments)}const I0=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("wSJF7",t);return a.createElement(Mp,T0({},n,{className:r,src:k0,imageRendering:"pixelated"}))};var P0;!function(e){e[e.EDIT=0]="EDIT",e[e.REALM_SETTINGS=1]="REALM_SETTINGS"}(P0||(P0={}));const x0=Km((({onClose:e,realmId:t})=>{const{t:n}=ec("PlayScreen.realmsTab.realmOptionsModalMenu"),l=m(),o=(0,r.useFacetCallback)((t=>n=>{l.push(`/${n}/${t}`),e()}),[l,e],[t]);return a.createElement(lT,{onClose:e,onItemSelect:e=>{e===P0.EDIT&&o("edit-realm-world"),e===P0.REALM_SETTINGS&&o("realm-settings")},isOpen:!0,title:n(".title"),items:[{enumeration:n(".optionsEnumeration",["1","2"]),gamepadAlias:"sub",label:n(".edit"),value:P0.EDIT,Icon:I0,testId:"edit"},{enumeration:n(".optionsEnumeration",["2","2"]),gamepadAlias:"join",label:n(".realmSettings"),value:P0.REALM_SETTINGS,Icon:gT,testId:"realmSettings"}]})})),O0="realmsLeaveRealmModalCancel",A0=Km((({realmName:e,onClose:t,onLeaveRealm:n})=>{const{t:l}=ec("PlayScreen.realmsTab.realmsLeaveRealmModal"),o=(0,r.useFacetMap)((e=>l(".description",[e])),[l],[(0,r.useFacetWrap)(null!=e?e:"")]),i=(0,a.useCallback)((()=>{t(),n()}),[t,n]);return a.createElement(vE,{defaultFocusAlias:O0},a.createElement(vE.Header,null,l(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:o},o)),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{gamepadAlias:O0,inputLegend:l(".cancelAction"),horizontal:!0,onClick:t},l(".cancelAction")),a.createElement(om,{size:4}),a.createElement(mg,{onClick:i,inputLegend:l(".leaveRealmAction"),variant:"destructive",horizontal:!0,"data-testid":"confirm-leave-realm-button"},l(".leaveRealmAction"))))})),N0="realmsLeaveRealErrormModalClose",R0=Km((({onClose:e})=>{const{t}=ec("PlayScreen.realmsTab.realmsLeaveRealmErrorModal");return a.createElement(vE,{defaultFocusAlias:N0},a.createElement(vE.Header,{onClose:e},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:t(".description"),center:!0},t(".description"))),a.createElement(vE.Buttons,null,a.createElement(mg,{variant:"secondary",inputLegend:t(".closeAction"),onClick:e,gamepadAlias:N0},t(".closeAction"))))})),_0="renewRealmsInPreviewModalCancel",L0=Km((({onClose:e})=>{const{t}=ec("PlayScreen.realmsTab.renewRealmsInPreviewModal");return a.createElement(vE,{defaultFocusAlias:_0},a.createElement(vE.Header,null,t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:t(".description")},t(".description"))),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{"data-testid":"close",gamepadAlias:_0,inputLegend:t(".closeAction"),horizontal:!0,onClick:e},t(".closeAction"))))})),D0={wrapper:"wjq_6",right:"EIsfR",additionalPlayers:"t3B_O",transitionLoadingOpacity:"ydLu4",animateOpacity:"UlVBz",retriggeredAnimateOpacity:"gDaOM",hiddenContent:"eILwi",content:"OqLfI"},W0=(0,a.createContext)(null);function B0({full:e,amountOfPlayersOnline:t,visibleAvatarsOverride:n,playerAvatars:l,hideOnCollapse:o=!1,loading:i=(0,r.createFacet)({initialValue:!1}),worldId:c,alignment:s="left"}){const{t:u}=ec("PlayerAvatarsOnlineInWorld"),d=(0,r.useFacetWrap)(null!=l?l:[]),m=(0,a.useRef)(null),p=(0,a.useRef)(null),f=(0,r.useFacetMap)((({width:e})=>e),[],[md(m)]),g=(0,r.useFacetMap)((({width:e})=>e),[],[md(p)]),E=cd(Ow.VARIANT_SIZES.medium),h=(0,a.useContext)(W0),v=(0,r.useFacetMemo)(((e,t,n)=>{const a=Math.ceil(e),r=(null!=h?h:Math.ceil(t))-(2*a+n);return Math.max(Math.floor(r/e),0)}),[h],[E,f,g]),b=(0,r.useFacetMap)(((e,t)=>null!=n?e.slice(0,n):e.slice(0,t)),[n],[d,v]),y=(0,r.useFacetMap)(((e,t)=>function({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:n}){if(null!=n){if(e>0&&e>n&&0!=n)return"+"+(e-n);if(e===n)return""}else if(e>0&&e>t&&0!=t)return"+"+(e-t);return e===t||0===e?"":`${e}`}({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:n})),[n],[t,v]),F=(0,r.useFacetMap)(((e,t)=>null!=t&&null!=e&&0!=e.length),[],[b,y]),S=(0,r.useFacetMap)(((e,t)=>function({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:n,hideOnCollapse:a=!1}){return(!a||0!==t)&&e!==n&&e!==t&&(!a&&0!=e&&0===t||(null!=n?0!==n&&e>n:null==n&&0!==t&&e>t))}({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:n,hideOnCollapse:o})),[n,o],[t,v]),C=(0,r.useFacetMap)(((e,t)=>{if(null==n)return e&&0!=t}),[n],[i,v]);return a.createElement("div",{className:Dr()(D0.wrapper,{[D0.right]:"right"===s}),ref:m},a.createElement("fast-div",{key:c,className:(0,r.useFacetMap)(((e,t)=>Dr()(D0.content,D0.animateOpacity,{[D0.hiddenContent]:e,[D0.transitionLoadingOpacity]:t})),[],[i,no()])},a.createElement(r.Mount,{when:F},a.createElement(wl,{data:b},(e=>a.createElement(a.Fragment,null,e.map(((t,n)=>a.createElement(a.Fragment,{key:`${t.id}`},a.createElement(Ow,{variant:"medium",src:t.img,status:"online"}),n<e.length-1&&a.createElement(om,{size:1})))))))),a.createElement(r.Mount,{when:S},a.createElement("div",{className:D0.additionalPlayers},a.createElement(om,{size:1}),a.createElement(fm,{type:"captionShort"},y))),a.createElement("div",{className:D0.tagWrapper,ref:p},a.createElement(r.Mount,{when:(0,r.useFacetWrap)(null!=e&&e)},a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(cy,{role:"destructiveTint"},u(".full")))))),a.createElement(r.Mount,{when:C},a.createElement(ff,null)))}const U0="Zreqt",z0="c8oRe";function j0({amountOfPlayersOnline:e,maxPlayers:t,realmId:n,realmOwner:l,realmOwnerName:o,playersOnlineIds:i}){const{t:c}=ec("PlayScreen.realmsTab"),{border:s}=Fr("neutral"),u=(0,r.useFacetMap)(((e,t)=>!e&&t.length>0?c(".playersOnline.realmOwner",[t]):c(".playersOnline")),[c],[(0,r.useFacetWrap)(null==l||l),(0,r.useFacetWrap)(null!=o?o:"")]),d=(0,r.useFacetMap)(((e,t)=>`${e}/${t}`),[],[e,t]),m=(0,r.useSharedFacet)(Oc),p=(0,a.useRef)(null),f=(0,a.useRef)(null),g=(0,r.useFacetCallback)((e=>t=>{e.subscribeToProfile(t,"")}),[],[m]);(0,r.useFacetEffect)((e=>{e.map((e=>{g(e.xuid)}))}),[g],[i]);const E=$k(i),h=(0,r.useFacetMap)((e=>null==e||0===e.length?[]:e.map((e=>{if(null!=e){if(""!==e.data.xblProfilePic)return{img:e.data.xblProfilePic,id:e.data.xuid};if(""!==e.data.platformProfilePic)return{img:e.data.platformProfilePic,id:e.data.platformId}}return{img:"",id:"placeholder"}})).filter((e=>null!=e))),[],[E]),v=(0,r.useFacetMap)((e=>null!=e&&0!==e.length&&e.map((e=>null!=e&&null!=e.data.xuid&&e.state.xblState===Ic.Loading)).some((e=>e))),[],[E]),b=(0,r.useFacetMap)((e=>!e),[],[v]),y=Bb(b,1e4),F=(0,r.useFacetMap)(((e,t,n)=>e&&null!=n&&n.length>0?"avatars":0===n.length||t?"no-avatars":"loading"),[],[b,y,h]),S=(0,r.useFacetMap)((e=>"loading"===e),[],[F]);return a.createElement("div",{ref:p,className:Dr()(s.base,"SEFuB")},a.createElement("div",{className:"xbY1a",ref:f},a.createElement(fm,{type:"body"},u),a.createElement(om,{size:4}),a.createElement(wl,{data:e},(e=>a.createElement(a.Fragment,null,a.createElement("div",{className:Dr()(U0,{[z0]:e})},a.createElement(kK,{variant:"dimmer"})),a.createElement("div",{className:Dr()(U0,{[z0]:!e})},a.createElement(nM.Player,{role:"neutral",variant:"dimmer",width:24,height:24}))))),a.createElement(om,{size:3}),a.createElement(fm,{type:"body",variant:"dimmer"},d),a.createElement(om,{size:3})),a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>"no-avatars"!=e),[],[F])},a.createElement(wl,{data:n},(t=>a.createElement("div",{className:"lEGut"},a.createElement(B0,{alignment:"right",worldId:t,hideOnCollapse:!0,loading:S,amountOfPlayersOnline:e,playerAvatars:h}))))))}function H0(){const e=(0,r.useFacetMap)((e=>Xw(e.platform)||qw(e.platform)),[],[(0,r.useSharedFacet)(il)]);return(0,r.useFacetMap)(((e,t)=>e.userPermissions.multiplayer.denyReasons.includes(fu.XboxLive)||t&&!e.hasPremiumNetworkAccess),[],[(0,r.useSharedFacet)(hu),e])}function V0(){const e=m(),{t}=ec("ClaimPreviewOrBetaRealmBanner"),n=(0,r.useFacetMap)((e=>e.isBetaBuild?t(".text.beta"):t(".text.preview")),[t],[(0,r.useSharedFacet)(di)]);return a.createElement(sr,{collection:_D},a.createElement(GT,{role:"informative"},a.createElement(GT.Text,null,n),a.createElement(GT.Link,{"data-testId":"realms-tab-claim-preview-realm-banner-link",onClick:()=>e.push("/realms-choose-realm/realm-subscriptions")},t(".link"))))}function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},G0.apply(this,arguments)}function $0(e){let{children:t,imgSrc:n,Icon:l,linebreak:o=!1,disabledTextOverride:i,disabled:c,variant:s="secondary",narrationPrefix:u,showBadge:d=!0,badgeRole:m,badgeCount:p,badgeOverflowCount:f}=e,g=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["children","imgSrc","Icon","linebreak","disabledTextOverride","disabled","variant","narrationPrefix","showBadge","badgeRole","badgeCount","badgeOverflowCount"]);const E=(0,r.useFacetWrap)(c),h=(0,r.useFacetMap)((e=>"hero"===s&&!e),[s],[E]),v="hero"===s?"primary":s,b=(0,r.useFacetWrap)(d);return a.createElement(ug,G0({disabled:c,variant:s,narrationPrefix:null!=u?u:t},g),a.createElement(a.Fragment,null,a.createElement(dg,{buttonVariant:s,imgSrc:n,Icon:l,linebreak:o,disabledTextOverride:i,role:v,hasShadow:h},t),a.createElement(r.Mount,{when:b},a.createElement("div",{className:"cHQ4F"},a.createElement(Ny,{role:m,overflowCount:f},p)))))}const K0=n.p+"assets/generic-error-art-8fa35.png";function X0({context:e}){const{t}=ec(`PlayScreen.genericError.${e}`),n=t(".title"),l=t(".description"),o=Wb({wide:8,narrow:6,width:256}),i=(0,r.useFacetMap)((e=>e?"zqoSy":"Xn65Q"),[],[o]);return a.createElement(a.Fragment,null,a.createElement(cb,{title:n,text:l,imgSrc:K0,imgClass:i}),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))}const Y0=a.createContext({});function q0({loading:e}){const{t,f:n}=ec("PlayScreen.realmsTab"),l=Ju(),o=Fr("neutral80"),i=m(),c=f(),s=(0,r.useSharedFacet)(uc),u=(0,r.useSharedFacet)(hs),d=(0,r.useSharedFacet)(bs),p=(0,r.useFacetMap)(((e,t)=>{var n;return null===(n=e.realms)||void 0===n?void 0:n.find((e=>`${e.world.id}`===t.id))}),[],[u,c]),g=(0,r.useFacetMap)((e=>e),[],[(0,r.useFacetWrap)(null!=e&&e)]),E=(0,r.useFacetMap)((e=>null!=e?"defined":"undefined"),[],[p]),h=(0,r.useFacetMap)((e=>null!=e?e.world.id.toString():""),[],[p]),v=(0,r.useFacetMap)((e=>null!=e?e.world.realmName:""),[],[p]),b=(0,r.useFacetMap)((e=>null!=e?e.world.slotName:""),[],[p]),y=(0,r.useFacetMap)((e=>null!=e&&null!=e.world&&e.world.expired),[],[p]),F=(0,r.useFacetMap)((e=>null!=e&&null!=e.world&&e.world.closed),[],[p]),S=(0,r.useFacetMap)((e=>null!=e&&e.isOwner),[],[p]),C=(0,r.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.world.ownerXuid)&&void 0!==t?t:""}),[],[p]),M=(0,r.useFacetMap)(((e,t)=>{if(null!=e){if(t)return!1;if(null!=e.world)return e.world.full}return!1}),[],[p,S]),w=(0,r.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.world.description)&&void 0!==t?t:"-"}),[],[p]),k=(0,r.useFacetMap)((e=>{var t;return null!=e&&""!=(null===(t=e.world)||void 0===t?void 0:t.description)}),[],[p]),{profileName:T}=Hk({ownerId:C}),I=(0,r.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.areStoriesNotificationsEnabled)&&void 0!==t&&t}),[],[p]),P=(0,r.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.unreadStoryCount)&&void 0!==t?t:0}),[],[p]),x=(0,r.useFacetMap)((e=>null!=e&&null!=e.world.maxPlayers?e.world.maxPlayers:0),[],[p]),O=(0,r.useFacetMap)((e=>function(e,t){const n=[];for(let e=0;e<t.length;e++)n.push(t[e]);return n}(0,null!=e&&null!=e.world.onlinePlayers?e.world.onlinePlayers:[])),[],[p]),A=(0,r.useFacetMap)(((e,t)=>{{const n=null==t||null==t.world.ownerXuid?"":t.world.ownerXuid;return e.filter((e=>e.xuid!==n)).length}}),[],[O,p]),N=(0,r.useFacetMap)(((e,t)=>!t&&!e),[],[y,F]),R=(0,r.useFacetMap)((e=>0===e.length?[]:e.map((e=>({xuid:e.xuid,platformId:""})))),[],[O]),_=x0.useModal(),L=A0.useModal(),D=R0.useModal(),W=(0,r.useSharedFacet)(cc),B=(0,r.useFacetMap)((e=>null!=e.joinRealmResult&&e.joinRealmResult!==oc.Ok&&e.joinRealmResult!==oc.InvalidCrossPlatformMultiplayerSkin),[],[W]),U=(0,r.useFacetMap)((e=>null!=e.joinRealmResult&&e.joinRealmResult===oc.InvalidCrossPlatformMultiplayerSkin),[],[W]),z=(0,r.useFacetCallback)((e=>()=>{e.clearJoinRealmTaskState()}),[],[W]),j=(0,r.useSharedFacet)(ds),H=(0,r.useFacetMap)((e=>e.leaveRealmProgress),[],[j]),V=(0,r.useFacetMap)((e=>e==ck.RUNNING),[],[H]),G=m(),$=uk(((e,n,a,r,o)=>function*(){if(""===r)return;l({screen:"RealmsTabContent",button:"LeaveRealm",details:{realmId:r}});const i=function(e,t){const n=1===e.realms.length,a=e.realms[0].world.id===Number(t);return n?"":a?e.realms[1].world.id.toString():e.realms[0].world.id.toString()}(e,r);n.clearLeaveRealm(),n.leaveRealm(Number(r)),yield H,n.leaveRealmResult===us.Success?(a.queueSnackbar(t(".leaveRealmNotification",[o])),G.replace(`/play/realms/${i}`)):n.leaveRealmResult!==us.Unknown&&D.show()}),[H,G,D,l,t],[u,j,s,h,v]),K=(0,r.useSharedFacet)(pi),X=function(e,t){const{t:n}=ec("RealmTag");return(0,r.useFacetMap)(((e,t)=>{const a=[];return null==e?[]:(e.isOwner?a.push({label:n(t?".previewRealmOwner":".realmOwner"),role:"primaryTint"}):a.push({label:n(t?".invitedToPreviewRealm":".invitedToRealm"),role:"primaryTint"}),a.push({label:n(".maxPlayers",[`${e.world.maxPlayers}`]),role:"neutral100",narrationString:n(".maxPlayersNarration",[`${e.world.maxPlayers}`])}),e.world.isHardcore?a.push({label:n(".hardcore"),role:"destructiveTint"}):null!=e.world.gameMode&&a.push({label:n(F0(e.world.gameMode)),role:"neutral100"}),a)}),[n],[e,t])}(p,K),Y=(0,r.useIsPaused)(),q=(0,r.useFacetMap)((e=>Y||e),[Y],[g]),Q=(0,r.useFacetUnwrap)(no()),J=sd(),Z=(0,a.useMemo)((()=>({isRealmOwner:S,expired:y,closed:F,full:M,realmId:h,realmName:v,realmOwnerName:T,areStoriesNotificationsEnabled:I,storiesUnreadCount:P})),[S,y,F,M,h,v,T,I,P]),ee=(0,r.useFacetMap)((e=>null!=e&&null!=e.world.lastSaved?n.getHowLongAgoAsString(e.world.lastSaved):"-"),[n],[(0,r.useFacetWrap)(null!=p?p:void 0)]),te=(0,r.useFacetCallback)(((e,t)=>()=>{l({button:"Stories",screen:"RealmsTabContent",details:{realmId:e}}),t.clearRealmUnreadCount(e),i.push(`/realms-story-entry-route/feed/${e}`)}),[i,l],[h,d]),ne=(0,r.useFacetMap)(((e,t)=>Dr()({Rqwg0:e||t})),[],[F,y]),ae=(0,r.useFacetMap)(((e,t)=>e&&null!=t.realms&&0!=t.realms.length),[],[K,(0,r.useSharedFacet)(mu)]),re=(0,r.useFacetMap)((e=>[t(".realmsDescription"),e].join(" . ")),[t],[w]),le=(0,r.useFacetMap)(((e,t)=>e&&!t),[],[F,y]);return a.createElement(Y0.Provider,{value:Z},a.createElement(Ef,{alwaysVisibleChildren:a.createElement(om,{size:"narrow"===J?1:2}),floating:"desktop"!==J,loading:q,defaultFocusedChildBehavior:"remember",spinnerBackgroundColor:!0===Q?void 0:"#48494A"},a.createElement(r.Mount,{when:ae},a.createElement(a.Fragment,null,a.createElement(V0,null),a.createElement(om,{size:2}))),a.createElement(wl,{data:E},(e=>"defined"===e?a.createElement("div",{className:Dr()("OWgvt",o.background.base,o.border.base)},a.createElement(sr,{collection:LD},a.createElement(r.Mount,{when:y},a.createElement("div",{className:E0},a.createElement(GT,{role:"destructiveTint"},a.createElement(GT.Text,null,t(".bannerExpired"))))),a.createElement(r.Mount,{when:le},a.createElement("div",{className:E0},a.createElement(GT,{role:"destructiveTint"},a.createElement(GT.Text,null,t(".bannerClosed"))))),a.createElement(r.Mount,{when:M},a.createElement("div",{className:E0},a.createElement(GT,{role:"noticeTint"},a.createElement(GT.Text,null,t(".bannerFull"))))),a.createElement("div",{className:"KYpkI"},a.createElement(Mp,{aspectRatio:Mp.AspectRatio["10:3"],src:g0,className:ne}),a.createElement(r.Mount,{when:N},a.createElement("div",{className:"ED0__"},a.createElement(j0,{realmId:h,realmOwner:S,realmOwnerName:T,amountOfPlayersOnline:A,playersOnlineIds:R,maxPlayers:x})))),a.createElement(Q0,{realmName:v,slotName:b,tags:X}),a.createElement(Z0,{lastPlayedString:ee},a.createElement(e1,{onLeaveRealm:L.show,navigateToRealmsStories:te,showSettingsModal:_.show})),a.createElement(r.Mount,{when:B},a.createElement(SV.Component,{worldId:h})),a.createElement(r.Mount,{when:U},a.createElement(wV.Component,{onClose:z,onChangeSkin:()=>{G.push("/persona")}})),a.createElement(r.Mount,{when:k},a.createElement(Kf,{focusable:!0,role:"neutral80",narrationText:re},a.createElement(Yf,null,t(".realmsDescription")),a.createElement(om,{size:2}),a.createElement(qf,null,w))),a.createElement(r.Mount,{when:_.isVisible},a.createElement(x0.Component,{onClose:_.hide,realmId:h})))):a.createElement(X0,{context:"realmDetails"}))),a.createElement(om,{size:"narrow"===J?1:2}),a.createElement(ST,{tab:"realms"}),a.createElement(om,{size:"narrow"===J?1:2})),a.createElement(r.Mount,{when:V},a.createElement(ay.Component,{title:t(".leaveRealmProgressMessage")})),a.createElement(r.Mount,{when:L.isVisible},a.createElement(A0.Component,{onClose:L.hide,onLeaveRealm:$,realmName:v})),a.createElement(r.Mount,{when:D.isVisible},a.createElement(R0.Component,{onClose:D.hide})))}function Q0({realmName:e,slotName:t,tags:n}){const{isRealmOwner:l,expired:o,closed:i,full:c}=(0,a.useContext)(Y0),s=(0,r.useFacetMap)(((e,t,n,a)=>(t||n||a)&&!e),[],[(0,r.useFacetWrap)(null!=l&&l),(0,r.useFacetWrap)(null!=o&&o),(0,r.useFacetWrap)(null!=i&&i),(0,r.useFacetWrap)(null!=c&&c)]),{t:u}=ec("PlayScreen.realmsTab.narration"),d=(0,r.useFacetMap)((e=>e.map(((t,n)=>{const a=e.length>n;return null!=t.narrationString?a?t.narrationString+" . ":t.narrationString:a?t.label+" . ":t.label}))),[],[n]),m=(0,r.useFacetMap)(((e,t,n)=>[u(".realmInformation"),e,t,n.join(" . ")].join(" . ")),[u],[e,t,d]);return a.createElement(Kf,{focusable:s,role:"neutral80",narrationText:m},a.createElement("div",{className:h0},a.createElement("div",{className:v0},a.createElement(Yf,null,e),a.createElement(om,{size:2}),a.createElement(qf,null,t),a.createElement(om,{size:2}),a.createElement(sy,{tags:n})),a.createElement(om,{size:3}),a.createElement("div",{className:Dr()(v0,"GsfCG")},a.createElement(J0,null))))}function J0(){const{t:e}=ec("PlayScreen.realmsTab"),{t}=ec("PlayScreen.realmsTab.narration"),{isRealmOwner:n,expired:l,closed:o,full:i,realmId:c}=(0,a.useContext)(Y0),s=(0,r.useFacetMap)((e=>e.doNotShowMultiplayerOnlineSafetyWarning),[],[(0,r.useSharedFacet)(sc)]),u=(0,r.useFacetMap)(((e,t,n,a)=>t||n||a?t&&e?"renew":n&&e?"re-open":"disabled-play":"play"),[],[(0,r.useFacetWrap)(null!=n&&n),(0,r.useFacetWrap)(null!=l&&l),(0,r.useFacetWrap)(null!=o&&o),(0,r.useFacetWrap)(null!=i&&i)]),d=(0,r.useFacetWrap)(null!=c?c:""),p=jO({worldId:d,screen:"RealmsTabContent",button:"PlayRealm",telemetryLocation:ic.PlayScreen}),f=m(),g=H0(),E=vk.useModal(),h=(0,r.useFacetCallback)(((e,t,n)=>()=>{n.onlyCellularAvailable&&n.showCellularDataFee?E.show():e?p():f.push(`/online-play-warning/${FX(tu.Realm)}/${t}`)}),[p,f,E],[s,d,(0,r.useSharedFacet)(il)]),v=(0,r.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0,p()}),[p],[(0,r.useSharedFacet)(pc)]),b=L0.useModal(),y=m(),F=(0,r.useFacetCallback)((e=>()=>{e.isAnyBeta?b.show():y.push("/settings/view_subscriptions")}),[b,y],[(0,r.useSharedFacet)(di)]),S=(0,r.useFacetCallback)(((e,t)=>()=>{e.openRealm(parseInt(t))}),[],[(0,r.useSharedFacet)(Hc),d]);return a.createElement("div",{className:b0},a.createElement(wl,{data:u},(n=>{switch(n){case"play":return a.createElement(mg,{gamepadAlias:S0.REALMS_PLAY_BUTTON,inputLegend:e(".play"),variant:"hero",delayedClick:!0,horizontal:!0,onClick:h,narrationSuffix:t(".buttonSiblings",["1","3"]),"data-testid":"play-realm-button",disabled:g},e(".play"));case"renew":return a.createElement(mg,{"data-testid":"renew-realm-button",inputLegend:e(".renew"),variant:"primary",delayedClick:!0,horizontal:!0,onClick:F,narrationSuffix:t(".buttonSiblings",["1","3"]),disabled:g},e(".renew"));case"re-open":return a.createElement(mg,{"data-testid":"reopen-realm-button",inputLegend:e(".reOpen"),variant:"primary",delayedClick:!0,horizontal:!0,onClick:S,narrationSuffix:t(".buttonSiblings",["1","3"]),disabled:g},e(".reOpen"));case"disabled-play":return a.createElement(mg,{inputLegend:e(".play"),variant:"hero",delayedClick:!0,horizontal:!0,onClick:()=>{},narrationSuffix:t(".buttonSiblings",["1","3"]),disabled:!0},e(".play"))}})),a.createElement(r.Mount,{when:b.isVisible},a.createElement(L0.Component,{onClose:b.hide})),a.createElement(r.Mount,{when:E.isVisible},a.createElement(vk.Component,{onClose:E.hide,joinServer:v})))}function Z0({lastPlayedString:e,children:t}){const{t:n}=ec("PlayScreen.realmsTab");return a.createElement(Kf,{role:"neutral80",narrationText:(0,r.useFacetMap)((e=>[n(".lastPlayed"),e].join(" . ")),[n],[e])},a.createElement("div",{className:h0},a.createElement("div",{className:"CTAQr"},a.createElement("div",{className:y0},a.createElement(fm,{type:"body"},n(".lastPlayed"))),a.createElement(om,{size:1}),a.createElement("div",{className:y0},a.createElement(fm,{type:"captionShort",variant:"dimmer"},e))),a.createElement(om,{size:3}),a.createElement("div",{className:b0},a.createElement("div",{className:"MTO0s"},t))))}function e1({onLeaveRealm:e,navigateToRealmsStories:t,showSettingsModal:n}){const{t:l}=ec("PlayScreen.realmsTab"),{t:o}=ec("PlayScreen.realmsTab.narration"),{isRealmOwner:i,areStoriesNotificationsEnabled:c,storiesUnreadCount:s}=(0,a.useContext)(Y0),u=sd(),d=(0,r.useFacetMap)((e=>e?"options":"leave-realm"),[],[(0,r.useFacetWrap)(null!=i&&i)]),m=(0,r.useFacetWrap)(null!=s?s:0),p=(0,r.useFacetWrap)(null!=c&&c),f=(0,r.useFacetMap)((e=>e>0),[],[m]),g=(0,r.useFacetMap)(((e,t)=>e&&t),[],[p,f]),E=(0,r.useFacetMap)(((e,t)=>{const n=[o(".buttonSiblings",["2","3"])];if(e){const e=1===t?o(".realmInformation.storiesUnreadBadgeCount.single"):o(".realmInformation.storiesUnreadBadgeCount.multiple",[`${t}`]);n.push(e)}return n.join(" . ")}),[o],[g,m]);return a.createElement(a.Fragment,null,a.createElement("div",{className:b0},a.createElement($0,{Icon:()=>a.createElement(wl,{data:g},(e=>a.createElement(a.Fragment,null,e?a.createElement(nM.RealmsStoriesUnread,{role:"inherit",width:24,height:24}):a.createElement(nM.RealmsStories,{role:"inherit",width:24,height:24}),a.createElement(om,{size:1})))),inputLegend:l(".realmsStories"),variant:"secondary",delayedClick:!0,horizontal:!0,onClick:t,narrationSuffix:E,"data-testid":"realm-stories-button",showBadge:g,badgeRole:"neutral",badgeCount:m},l(".realmsStories"))),a.createElement(om,{size:2}),a.createElement(wl,{data:d},(t=>{switch(t){case"options":return a.createElement("div",{className:b0},a.createElement(mg,{Icon:nM.Options,"data-testid":"realm-options-button",inputLegend:l(".options"),variant:"secondary",delayedClick:!0,horizontal:!0,onClick:n,narrationSuffix:o(".buttonSiblings",["3","3"])},l(".options")));case"leave-realm":return a.createElement("div",{className:b0},a.createElement(mg,{inputLegend:l(".leaveRealm"),variant:"destructive",delayedClick:!0,horizontal:!0,onClick:e,narrationSuffix:[o(".buttonSiblings",["3","3"]),l(".options")].join(" . "),Icon:"narrow"!==u?w0:void 0,"data-testid":"leave-realm-button"},l(".leaveRealm")));default:return null}})))}const t1=n.p+"assets/icon-info-5845d.png";function n1(){return n1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},n1.apply(this,arguments)}const a1=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("CBnkY",t);return a.createElement(Mp,n1({},n,{className:r,src:t1,imageRendering:"pixelated"}))},r1=n.p+"assets/icon-plus-48f3d.png";function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l1.apply(this,arguments)}const o1=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("ks93w",t);return a.createElement(Mp,l1({},n,{className:r,src:r1,imageRendering:"pixelated"}))};var i1;!function(e){e[e.ADD=0]="ADD",e[e.JOIN=1]="JOIN",e[e.LEARN=2]="LEARN"}(i1||(i1={}));const c1=Km((({onClose:e,onAddRealmSubscription:t,onJoinExistingRealm:n})=>{const{t:l}=ec("PlayScreen.realmsTab.joinRealmOptionsModalMenu"),o=m(),i=a.useCallback((a=>{a===i1.ADD&&(t(),e()),a===i1.JOIN&&(n(),e()),a===i1.LEARN&&(o.push("/realms-pdp"),e())}),[t,n,e,o]),c=(0,r.useFacetMap)((e=>e.isAnyBeta?[{enumeration:l(".optionsEnumeration",["1","1"]),gamepadAlias:"join",label:l(".joinRealm"),value:i1.JOIN,Icon:w0,testId:"realm-join-existing-button"},{enumeration:l(".optionsEnumeration",["2","2"]),gamepadAlias:"learn",label:l(".learnMore"),value:i1.LEARN,Icon:a1,testId:"realm-learn-more-button"}]:[{enumeration:l(".optionsEnumeration",["1","3"]),gamepadAlias:"sub",label:l(".addRealm"),value:i1.ADD,Icon:o1,testId:"realm-add-subscription-button"},{enumeration:l(".optionsEnumeration",["2","3"]),gamepadAlias:"join",label:l(".joinRealm"),value:i1.JOIN,Icon:w0,testId:"realm-join-existing-button"},{enumeration:l(".optionsEnumeration",["3","3"]),gamepadAlias:"learn",label:l(".learnMore"),value:i1.LEARN,Icon:a1,testId:"realm-learn-more-button"}]),[l],[(0,r.useSharedFacet)(di)]);return a.createElement(lT,{onClose:e,onItemSelect:i,isOpen:!0,title:l(".title"),items:c})}));function s1(e){return{label:e.world.realmName,value:`${e.world.id}`,expired:e.world.expired,closed:e.world.closed,full:e.world.full,amountOfPlayersOnline:null==e.world.onlinePlayers?0:e.world.onlinePlayers.filter((e=>e.isOnline)).length,playersOnline:null!=e.world.onlinePlayers&&e.world.onlinePlayers.filter((e=>e.isOnline)).length>0,ownsRealm:e.isOwner,ownerXuid:e.world.ownerXuid,areStoriesNotificationsEnabled:e.areStoriesNotificationsEnabled,storiesUnreadCount:e.unreadStoryCount}}function u1(e){if(null==e.realms)return{ownedRealms:{realms:[]},joinedRealms:{realms:[]}};const t=(n=e.realms.map(s1),[...n].sort(d1));var n;const[a,r]=t.reduce((([e,t],n)=>(n.ownsRealm?e.push(n):t.push(n),[e,t])),[[],[]]);return{ownedRealms:{realms:a},joinedRealms:{realms:r}}}function d1(e,t){return e.expired&&!t.expired?1:!e.expired&&t.expired?-1:e.closed&&!t.closed?1:!e.closed&&t.closed?-1:!e.ownsRealm&&t.ownsRealm?1:e.ownsRealm&&!t.ownsRealm?-1:!e.playersOnline&&t.playersOnline?1:e.playersOnline&&!t.playersOnline?-1:0}const m1=()=>(0,r.useFacetMemo)((e=>function(e){const t=u1(e);return null!=t.ownedRealms.realms&&0!==t.ownedRealms.realms.length?t.ownedRealms.realms[0].value:0===t.ownedRealms.realms.length&&null!=t.joinedRealms.realms&&0!==t.joinedRealms.realms.length?t.joinedRealms.realms[0].value:""}(e)),[],[(0,r.useSharedFacet)(hs)]),p1="RealmsTabList",f1="RealmsTabListOptions";function g1({item:e}){const t=Ju(),n=(0,r.useFacetMap)((e=>e.value),[],[e]),l=(0,r.useFacetMap)((e=>e.label),[],[e]),o=(0,r.useFacetMap)((e=>e.expired),[],[e]),i=(0,r.useFacetMap)((e=>e.closed),[],[e]),c=(0,r.useFacetMap)((e=>e.full),[],[e]),s=(0,r.useFacetMap)((e=>e.ownerXuid),[],[e]),u=(0,r.useFacetMap)((e=>e.ownsRealm),[],[e]),d=(0,r.useFacetMap)((e=>e.playersOnline),[],[e]),p=(0,r.useFacetMap)((e=>e.amountOfPlayersOnline),[],[e]),g=(0,r.useFacetMap)((e=>e.areStoriesNotificationsEnabled&&e.storiesUnreadCount>0),[],[e]),E=f(),h=m(),{t:v}=ec("PlayScreen.realmsTab.sideMenu"),{t:b}=ec("PlayScreen.realmsTab.sideMenu.narration"),y=function(e){const{t}=ec("RealmTag");return(0,r.useFacetMap)(((e,n)=>e.expired?{label:t(".expired"),role:"destructiveTint"}:!e.expired&&e.closed?{label:t(".closed"),role:"destructiveTint"}:e.full&&e.ownerXuid!==n.currentXuid?{label:t(".full"),role:"noticeTint"}:void 0),[t],[e,(0,r.useSharedFacet)(hu)])}(e),F=(0,r.useFacetMap)(((e,t,n,a,r,l,o)=>{const i=[];return e&&!t?v(".closed"):e&&t||t?v(".expired"):l&&!o?v(".full"):n?1===a?b(".onePlayerOnline",["1"]):b(".playersOnlineAmount",[`${a}`]):(r&&i.push(b(".hasNotification")),i.join(" . "))}),[v,b],[i,o,d,p,g,c,u]),S=(0,r.useFacetCallback)((e=>t=>{e.subscribeToProfile(t,"")}),[],[(0,r.useSharedFacet)(Oc)]);(0,r.useFacetEffect)((e=>{S(e)}),[S],[s]);const C=(0,r.useFacetMap)(((e,t)=>`${t.id}`===e.value),[],[e,E]),M=Vk((0,r.useFacetMap)((e=>({xuid:e,platformId:""})),[],[s])),w=(0,r.useFacetMap)((e=>{if(null!=e){if(""!==e.data.xblProfilePic)return e.data.xblProfilePic;if(""!==e.data.platformProfilePic)return e.data.platformProfilePic}return""}),[],[M]),k=(0,r.useFacetMap)((e=>{if(null!=e){if(""!==e.data.xblName)return e.data.xblName;if(""!==e.data.platformName)return e.data.platformName}return""}),[],[M]),T=(0,r.useFacetMap)((e=>e?"online":"offline"),[],[d]),I=(0,r.useFacetCallback)(((e,n)=>()=>{e.value!==n.id&&(t({button:"SelectRealm",screen:p1,details:{realmId:e.value}}),h.replace(`/play/realms/${e.value}`))}),[h,t],[e,E]);return a.createElement(r.DeferredMount,null,a.createElement(RP.ListItem,{narrationText:l,narrationSuffix:F,selected:C,value:n,onSelect:I,inputLegend:v(".inputLegend"),hasSubtitle:!0,testId:(0,r.useFacetMap)((e=>e?"realm-list-item-your-realm":"realm-list-item-joined-realm"),[],[u])},a.createElement(RP.ItemCell,null,a.createElement(Ow,{grayscaleAvatar:(0,r.useFacetMap)(((e,t)=>e||t),[],[i,o]),variant:"large",src:w,status:T})),a.createElement(RP.ItemMain,null,a.createElement(fm,{type:"body"},a.createElement(am,null,l)),a.createElement(fm,{type:"captionShort",variant:"dimmer",role:"neutral"},a.createElement(am,null,k))),a.createElement(RP.ItemCell,null,a.createElement(wl,{data:y},(e=>null!=e&&null!=e.role?a.createElement(cy,{role:e.role},e.label):a.createElement(a.Fragment,null)))),a.createElement(r.Mount,{when:g},a.createElement(RP.ItemCell,null,a.createElement(Ny,null)))))}const E1=(0,r.createStaticFacet)(!1);function h1({loading:e=E1}){return a.createElement(r.DeferredMountProvider,null,a.createElement(v1,{loading:e}))}function v1({loading:e}){const t=(0,r.useSharedFacet)(hs),n=Ju(),l=sd(),o="neutralAlpha60",{t:i}=ec("PlayScreen.realmsTab.sideMenu"),{t:c}=ec("PlayScreen.realmsTab.sideMenu.narration"),s=m(),u=H0(),d=(0,r.useSharedFacet)(Ui),p=(0,r.useFacetMap)((e=>Wi(e.categoryData,Li.INVITES)),[],[d]),f=(0,r.useFacetMap)((e=>c(".buttonSiblings",["1","2"])+" . "+c(".invitationsAmount",[`${e}`])),[c],[p]),g=(0,r.useFacetMap)((e=>e>0),[],[p]),E=a.createElement(om,{size:"narrow"===l?1:2}),h=c1.useModal(),v=(0,r.useFacetMap)((e=>e?c(".buttonSiblings",["2","2"]):""),[c],[g]),b=(0,r.useFacetMap)((e=>e.isAnyBeta?i(".joinRealm"):i(".addOrJoinRealm")),[i],[(0,r.useSharedFacet)(di)]),y=a.useCallback((()=>{n({screen:p1,button:"AddJoinRealmServer"}),h.show()}),[n,h]),F=a.useCallback((()=>{n({screen:p1,button:"InvitationsPending"}),s.push("/inbox/"+Li.INVITES)}),[n,s]),S=a.useCallback((()=>{n({screen:f1,button:"JoinExistingRealm"}),s.push("/join-realms-server")}),[n,s]),C=a.useCallback((()=>{n({screen:f1,button:"AddRealmSubscription"}),s.push("/realms-plan-picker")}),[n,s]),M=(0,r.useFacetMap)((e=>u1(e)),[],[t]),w=(0,r.useFacetMap)((e=>null!=e.ownedRealms.realms&&e.ownedRealms.realms.length>0),[],[M]),k=(0,r.useFacetMap)((e=>null!=e.joinedRealms.realms&&e.joinedRealms.realms.length>0),[],[M]),T=(0,r.useFacetMap)((e=>i(".ownedRealms",[`${e.ownedRealms.realms.length}`])),[i],[M]),I=(0,r.useFacetMap)((e=>i(".joinedRealms",[`${e.joinedRealms.realms.length}`])),[i],[M]),P=(0,r.useFacetMap)((e=>e.joinedRealms.realms),[],[M]);return a.createElement(Xa,{role:o},a.createElement(wf,{text:c(".context")},a.createElement(RP,{loading:(0,r.useFacetMap)(((e,t)=>e||t),[],[e,(0,r.useIsDeferring)()]),spacingAroundSideMenu:E,autofocus:!0,delegateFocusByAlias:"remember",role:o},a.createElement(r.Mount,{when:g},a.createElement(a.Fragment,null,a.createElement(RP.Item,null,a.createElement($0,{inputLegend:i(".invitations"),narrationPrefix:c(".invitations"),narrationSuffix:f,variant:"secondary",onClick:F,"data-testid":"realm-invitations-button",showBadge:!0,badgeRole:"neutral",badgeCount:p},i(".invitations"))))),a.createElement(r.Mount,{when:w},a.createElement(a.Fragment,null,a.createElement(RP.Divider,{label:a.createElement("fast-text",{text:T})}),a.createElement(wf,{text:T},a.createElement(RP.ItemList,{items:(0,r.useFacetMap)((e=>e.ownedRealms.realms),[],[M]),renderItem:g1})))),a.createElement(r.Mount,{when:k},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(RP.Divider,{label:a.createElement("fast-text",{text:I})}),a.createElement(wf,{text:I},a.createElement(RP.ItemList,{items:P,renderItem:g1})))),a.createElement(om,{size:2}),a.createElement(RP.Item,null,a.createElement(mg,{Icon:nM.Plus,inputLegend:b,narrationSuffix:v,variant:"secondary",onClick:y,"data-testid":"realm-add-join-button",disabled:u},b)),a.createElement(r.Mount,{when:h.isVisible},a.createElement(c1.Component,{onClose:h.hide,onJoinExistingRealm:S,onAddRealmSubscription:C})))))}const b1="KnRI1",y1=n.p+"assets/Realms-Missing-84884.png",F1=n.p+"assets/Realms-Empty-714f9.png",S1=n.p+"assets/preproduction-access-art-realms-7007a.png";function C1({expiration:e}){const{t}=ec("PlayScreen.RealmsBannedMessage"),n=(0,r.useFacetMap)((e=>wI(e)),[],[e]),l=(0,r.useFacetMap)((e=>e?".Suspended":".Banned"),[],[n]),o=(0,r.useFacetMap)((e=>t(`${e}.title`)),[t],[l]),i=(0,r.useFacetMap)((e=>t(`${e}.bodyFirstParagraph`)),[t],[l]),c=(0,r.useFacetMap)((e=>t(`${e}.bodySecondParagraph`)),[t],[l]),s=t(".role"),u=(0,r.useFacetMap)(((e,t,n)=>[e,s,t,n].join(" . ")),[s],[o,i,c]),d=(0,r.useFacetMap)((e=>t(`${e}.helpButton`)),[t],[l]);return a.createElement(LI,{narrationText:u,title:o,bodyFirstParagraph:i,bodySecondParagraph:c,helpButtonCopy:d,banExpiration:e})}function M1({realmsFetchRetry:e,showUnknownError:t=!1}){const n=(0,r.useSharedFacet)(ys),l=(0,r.useSharedFacet)(hs),o=(0,r.useFacetMap)((e=>{var n;return t?gs.Unknown:null!==(n=e.error)&&void 0!==n?n:gs.None}),[t],[l]),i=(0,r.useFacetMap)((e=>e.compatibility),[],[l]),c=(0,r.useFacetWrap)(""),s=(0,r.useFacetMap)(((e,t)=>e===fs.UserNotAllowed&&t.isRealmsPreproductionEnvironment),[],[i,n]);return a.createElement(Ef,{floating:!0,flexShrinkWrapper:!0},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(wl,{data:o},(t=>{switch(t){case gs.ServiceError:return a.createElement(T1,{realmsFetchRetry:e});case gs.RateLimit:return a.createElement(k1,null);case gs.Compatibility:return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:s},a.createElement(I1,null)),a.createElement(r.Mount,{when:s,condition:!1},a.createElement(X0,{context:"realms"})));case gs.RealmsBan:return a.createElement(C1,{expiration:c});case gs.NetworkError:case gs.Unknown:default:return a.createElement(X0,{context:"realms"})}}))))}function w1({title:e,text:t,imgSrc:n,borderless:l=!1,buttons:o}){const i=Wb({wide:8,narrow:6,width:256}),c=(0,r.useFacetMap)((e=>e?"CzcXX":"MvbSk"),[],[i]);return a.createElement(a.Fragment,null,a.createElement(cb,{borderless:l,title:e,text:t,imgSrc:n,imgClass:c,buttons:o}),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))}function k1(){const{t:e}=tc("PlayScreen.realmsTab.realmsTabErrorStates.realmsRateLimitError");return a.createElement(w1,{title:e(".title"),text:e(".text"),imgSrc:y1})}function T1({realmsFetchRetry:e}){const{t}=tc("PlayScreen.realmsTab.realmsTabErrorStates.realmsServiceError");return a.createElement(w1,{title:t(".title"),text:t(null!=e?".text.tryAgain":".text.wait"),imgSrc:F1,buttons:e?[{text:t(".button.text"),inputLegend:t(".button.inputLegend"),onClick:e}]:void 0})}function I1(){const{t:e}=tc("PlayScreen.realmsTab.realmsTabErrorStates.realmsPreprodError"),t=(0,r.useFacetCallback)((e=>()=>{e.openLink(bu.PreproductionRealmsGuide)}),[],[(0,r.useSharedFacet)(yu)]);return a.createElement(w1,{title:e(".title"),text:e(".text"),imgSrc:S1,buttons:[{text:e(".button.text"),imgSrc:tP.imgSrc,inputLegend:e(".button.inputLegend"),onClick:t}]})}const P1=n.p+"assets/generic-empty-6e7cd.png";function x1(){const{t:e}=ec("PlayScreen.PlatformMultiplayerDisabledMessage"),t=(0,r.useSharedFacet)(il),n=(0,r.useFacetMap)((t=>Xw(t.platform)?e(".textForPlayStation"):e(".text")),[e],[t]),l=Wb({wide:8,narrow:6,width:256}),o=(0,r.useFacetMap)((e=>e?"oVILw":"athFQ"),[],[l]);return a.createElement(a.Fragment,null,a.createElement(cb.Wrapper,{borderless:!1},a.createElement(cb.Title,null,e(".title")),a.createElement(cb.Image,{imgClass:o,imgSrc:P1}),a.createElement(cb.Text,null,n)),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))}function O1(){return(0,r.useFacetMap)((e=>e.thirdPartyServersStatus===Ks.Win32DevBuildWarning),[],[(0,r.useSharedFacet)(Xs)])}function A1(e){return(0,r.useFacetMap)(((t,n,a,r,l,o)=>r.isOnline?t?"trial-mode":!n.isSignedInPlatformNetwork&&qw(r.platform)?"platform-guest-nintendo":!n.isSignedInPlatformNetwork&&Xw(r.platform)?"platform-guest-playstation":!n.isLoggedInWithMicrosoftAccount&&qw(r.platform)?"msa-guest-nintendo":!n.isLoggedInWithMicrosoftAccount&&Xw(r.platform)?"msa-guest-playstation":a?"not-signed-in":n.userPermissions.multiplayer.denyReasons.includes(fu.XboxLive_Parental)?"parental-online-safety":n.isBanned?"banned":n.userPermissions.multiplayer.denyReasons.includes(fu.XboxLive)?"multiplayer-disabled":!n.hasPremiumNetworkAccess&&Xw(r.platform)?"no-online-subscription-playstation":!n.hasPremiumNetworkAccess&&qw(r.platform)?"no-online-subscription-nintendo":n.userPermissions.multiplayer.denyReasons.includes(fu.Platform_PlayStation)||n.userPermissions.multiplayer.denyReasons.includes(fu.Platform_NintendoSwitch)?"platform-multiplayer-disabled":e!==xY.SERVERS||l.fetchThirdPartyWorldsTaskState!==ck.DONE||null!=l.thirdPartyWorlds&&0!==l.thirdPartyWorlds.length||o?"content":"no-content":"offline"),[e],[(0,r.useSharedFacet)(vu),(0,r.useSharedFacet)(hu),OY(e),(0,r.useSharedFacet)(il),(0,r.useSharedFacet)(Xs),O1()])}function N1({disableHeaderButtons:e=!1}){const t=(0,r.useSharedFacet)(hs),n=(0,r.useFacetMap)((e=>e.state===Es.Loading||e.state===Es.Unknown),[],[t]),l=(0,r.useFacetMap)((e=>e.state===Es.Error),[],[t]),o=(0,r.useFacetMap)((e=>null==e.realms||0==e.realms.length),[],[t]),i=(0,r.useFacetMap)((({id:e})=>e),[],[f()]),c=(0,r.useFacetMap)(((e,t,n,a)=>n?"realms-fetch-failed":a||!t&&e?!t&&e?"no-realms":"content":"no-id"),[],[o,n,l,i]),s=(0,a.useRef)(null),u=(0,a.useRef)(null),d=(0,r.useFacetMap)(((e,t)=>e?null!=t.realms&&0!=t.realms.length?"claim-preview-realm-banner":"purchase-on-retail-banner":"no-preview-banner"),[],[(0,r.useSharedFacet)(pi),(0,r.useSharedFacet)(mu)]);return a.createElement(sr,{collection:LD},a.createElement(wl,{data:c},(t=>{switch(t){case"realms-fetch-failed":return a.createElement(M1,null);case"no-id":return a.createElement(D1,null);case"content":return a.createElement(Fp,{containerRef:s,delegateFocusByAlias:S0.REALMS_INFORMATION,delegateFocusFromMemory:!0},a.createElement(Yv.Row,{innerRef:s},a.createElement(Yv.Column,{wideSize:4,narrowSize:3},a.createElement(h1,{loading:n})),a.createElement(Fp,{containerRef:u,delegateFocusByAlias:S0.REALMS_PLAY_BUTTON,alias:S0.REALMS_INFORMATION},a.createElement(Yv.Column,{innerRef:u,wideSize:8,narrowSize:5},a.createElement(q0,{loading:n})))));default:return a.createElement(NW,{hideUpsellButton:!0,header:a.createElement(a.Fragment,null,a.createElement(wl,{data:d},(e=>{switch(e){case"claim-preview-realm-banner":return a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(V0,null));case"purchase-on-retail-banner":return a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(RW,null));default:return null}})),a.createElement(om,{size:2}),a.createElement(_1,{disabled:e}),a.createElement(om,{size:2})),footer:a.createElement(om,{size:2}),screenAnalyticsId:"RealmsTabPDP",shouldShowDesignPreview:!0})}})))}function R1(){const e=A1(xY.REALMS),{t}=tc("PlayScreen.realmsTab");return a.createElement(a.Fragment,null,a.createElement(wl,{data:e},(e=>{switch(e){case"banned":return a.createElement(DI.InTab,null);case"offline":return a.createElement(L1,null,a.createElement(MI,{text:t(".noInternetMessage")}));case"parental-online-safety":return a.createElement(DW,{variant:"parental"});case"trial-mode":return a.createElement(hI,{context:EI.REALMS});case"no-online-subscription-nintendo":case"no-online-subscription-playstation":case"multiplayer-disabled":return a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(YW,{tab:zW.RealmsTab}),a.createElement(N1,{disableHeaderButtons:!0}));case"platform-guest-nintendo":return a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(VI,{context:HI.Nintendo}));case"platform-guest-playstation":return a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(VI,{context:HI.Playstation}));case"platform-multiplayer-disabled":return a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(x1,null));case"msa-guest-playstation":case"msa-guest-nintendo":case"not-signed-in":return a.createElement(NW,{hideUpsellButton:!0,header:a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(YW,{tab:zW.RealmsTab}),a.createElement(om,{size:2}),a.createElement(_1,{disabled:!0}),a.createElement(om,{size:2})),footer:a.createElement(om,{size:2}),screenAnalyticsId:"RealmsTabPDP",shouldShowDesignPreview:!0});case"content":return a.createElement(N1,null);default:return a.createElement(M1,{showUnknownError:!0})}})),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))}function _1({disabled:e=!1}){const t=m(),n=(0,r.useSharedFacet)(Ui),{t:l}=tc("PlayScreen.realmsTab.buttonHeader"),{t:o}=tc("PlayScreen.realmsTab.buttonHeader.narration"),i=(0,r.useSharedFacet)(pi),c=(0,r.useSharedFacet)(dc),s=gW(),u=(0,r.useFacetMap)(((e,t)=>e||t===fW.ACTIVE?2:3),[],[i,s]),d=(0,r.useFacetMap)((e=>Wi(e.categoryData,Li.INVITES)),[],[n]),p=o(".buttonSiblings",["1","3"]),f=(0,r.useFacetMap)(((e,t,n,a)=>o(".buttonSiblings",[n||a===fW.ACTIVE?"1":"2",`${t}`])+" . "+o(".invitationsAmount",[`${e}`])),[o],[d,u,i,s]),g=(0,r.useFacetMap)(((e,t,n)=>o(".buttonSiblings",[t||n===fW.ACTIVE?"2":"3",`${e}`])),[o],[u,i,s]),E=(0,r.useFacetMap)(((e,t,n,a,r)=>e?"no-upsell":qw(n.platform)?"subscribe-now":a===fW.ACTIVE?"loading":t.isRealmsTrialAvailable&&r.isFinishedQueryingProductsAndPurchases&&r.isRealmsTrialOfferAvailable?"free-trial":"buy-now"),[],[i,(0,r.useSharedFacet)(ms),(0,r.useSharedFacet)(il),s,c]),h=(0,r.useFacetMap)((e=>!e.isLoggedInWithMicrosoftAccount),[],[(0,r.useSharedFacet)(hu)]);return a.createElement("div",{className:"ncBL5"},a.createElement(wl,{data:E},(n=>{switch(n){case"loading":return a.createElement("div",{className:"A52x8"},a.createElement(ff,null));case"free-trial":return a.createElement("div",{className:b1},a.createElement(mg,{inputLegend:l(".freeTrialUpsell"),narrationSuffix:p,variant:"primary",onClick:()=>t.push("/realms-plan-picker"),disabled:e,"data-testid":"pdp-header-free-trial-realm-button"},l(".freeTrialUpsell")));case"buy-now":return a.createElement("div",{className:b1},a.createElement(mg,{inputLegend:l(".buyNowUpsell"),narrationSuffix:p,variant:"primary",onClick:()=>t.push("/realms-plan-picker"),disabled:e,"data-testid":"pdp-header-buy-now-realm-button"},l(".buyNowUpsell")));case"subscribe-now":return a.createElement("div",{className:b1},a.createElement(mg,{inputLegend:l(".subscribeNowUpsell"),narrationSuffix:p,variant:"primary",onClick:()=>t.push("/realms-plan-picker"),disabled:e,"data-testid":"pdp-header-subscribe-now-realm-button"},l(".subscribeNowUpsell")));default:return a.createElement(a.Fragment,null)}})),a.createElement(om,{size:2}),a.createElement("div",{className:b1},a.createElement($0,{inputLegend:l(".invitations"),narrationSuffix:f,variant:"secondary",onClick:()=>t.push("/inbox/invites"),disabled:h,"data-testid":"pdp-header-invitation-realm-button",showBadge:(0,r.useFacetMap)(((e,t)=>!t&&null!=e&&0!=e),[],[d,h]),badgeRole:"neutral",badgeCount:d},l(".invitations"))),a.createElement(om,{size:2}),a.createElement("div",{className:b1},a.createElement(mg,{inputLegend:l(".joinRealm"),narrationSuffix:g,variant:"secondary",onClick:()=>t.push("/join-realms-server"),disabled:e,"data-testid":"pdp-header-join-realm-button"},l(".joinRealm"))))}function L1({children:e}){return a.createElement(Ef,{floating:!0},a.createElement(om,{size:2}),e)}const D1=()=>{const e=m();return(0,r.useFacetEffect)((t=>{e.replace(`/play/realms/${t}`)}),[e],[m1()]),a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(Ef,{loading:!0},a.createElement(a.Fragment,null)),a.createElement(om,{size:2}))};function W1(){const e=(0,r.useFacetMap)((e=>Xw(e.platform)||qw(e.platform)),[],[(0,r.useSharedFacet)(il)]);return(0,r.useFacetMap)(((e,t,n)=>!n&&(!e.isLoggedInWithMicrosoftAccount||e.userPermissions.multiplayer.denyReasons.includes(fu.XboxLive)||t&&!e.hasPremiumNetworkAccess)),[],[(0,r.useSharedFacet)(hu),e,O1()])}let B1;!function(e){e.SERVER_SIDE_MENU="server-side-menu-focus-alias",e.SERVER_DESCRIPTION="server-description-focus-alias"}(B1||(B1={}));function U1({label:e,value:t,image:n,subtitle:l,inputLegend:o,selected:i,onSelect:c}){const s=(0,r.useFacetWrap)(null!=l?l:""),u=(0,r.useFacetWrap)(null!=n?n:""),d=(0,r.useFacetMap)((e=>Boolean(e)),[],[u]),m=(0,r.useFacetMap)((e=>Boolean(e)),[],[s]),p=(0,r.useFacetMap)(((e,t)=>[e,t].filter((e=>null!=e&&""!==e)).join(" . ")),[],[e,s]);return a.createElement(RP.ListItem,{narrationText:p,selected:i,value:t,onSelect:c,inputLegend:o,hasSubtitle:!0},a.createElement(r.Mount,{when:d},a.createElement(r.DeferredMount,null,a.createElement(RP.ItemCell,null,a.createElement(uO,{variant:"large",border:!0,iconSrc:u,selected:i})))),a.createElement(RP.ItemMain,null,a.createElement(fm,{type:"body",overflowEllipsis:!0},e),a.createElement(r.Mount,{when:m},a.createElement("div",{className:Dr()("xFP4p")},a.createElement(fm,{type:"captionShort",variant:"dimmer",role:"neutral",overflowEllipsis:!0},s)))))}function z1({item:e}){const t=m(),n=(0,r.useSharedFacet)(rc),{t:l}=ec("PlayScreen.serverTab"),o=(0,r.useFacetMap)((e=>e.label),[],[e]),i=(0,r.useFacetMap)((e=>e.value),[],[e]),c=(0,r.useFacetMap)((e=>null!=e.message?e.message:""),[],[e]),s=(0,r.useFacetMap)((e=>null!=e.image?e.image:r.NO_VALUE),[],[e]),u=(0,r.useFacetMap)(((e,t)=>e===t.networkDetails.id),[],[i,n]),d=(0,r.useFacetMap)((e=>e.type===tu.ThirdParty),[],[e]),p=Ju(),f=(0,r.useFacetCallback)((e=>()=>{switch(e.type){case tu.ThirdParty:p({button:"SelectThirdPartyServer",screen:vX.ServerTab});break;case tu.External:p({button:"SelectExternalServer",screen:vX.ServerTab})}t.replace(`/play/servers/${e.value}/${FX(e.type)}`)}),[t,p],[e]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:d},a.createElement(U1,{label:o,value:i,image:s,subtitle:c,inputLegend:l(".sideMenuInputLegend"),selected:u,onSelect:f})),a.createElement(r.Mount,{when:d,condition:!1},a.createElement(RP.ListItem,{value:i,onSelect:f,selected:u,narrationText:o,inputLegend:l(".sideMenuInputLegend")},a.createElement(RP.ItemMain,null,a.createElement(fm,{type:"body"},a.createElement(am,null,o))))))}function j1({loading:e}){const{t}=ec("PlayScreen.serverTab"),{t:n}=ec("PlayScreen.serverTab.narration"),l=(0,r.useSharedFacet)(Xs),o=(0,r.useSharedFacet)(Ti),i=(0,r.useSharedFacet)(il),c=t(".addServer"),s=m(),u=Ju(),d="neutralAlpha60",p=sd(),f=W1(),g=(0,a.useCallback)((()=>{u({button:"AddServer",screen:vX.ServerTab}),s.push("/play/servers/add")}),[s,u]),E=(0,r.useFacetMap)((e=>e.thirdPartyWorlds.map((e=>({message:e.msgOfTheDay,image:e.image,label:e.name,type:tu.ThirdParty,value:e.id})))),[],[l]),h=(0,r.useFacetMap)((e=>t(".featuredServer",[e.thirdPartyWorlds.length.toString()])),[t],[l]),v=(0,r.useFacetMap)((e=>e.externalServerWorlds.map((e=>({label:e.name,value:e.id,type:tu.External})))),[],[o]),b=(0,r.useFacetMap)((e=>t(".externalServer",[e.externalServerWorlds.length.toString()])),[t],[o]),y=(0,r.useFacetMap)((e=>e.externalServerWorlds.length>0),[],[o]),F=(0,r.useFacetMap)((e=>e.supportsManualAddedServers),[],[i]),S=a.createElement(om,{size:"narrow"===p?1:2});return a.createElement(Xa,{role:d},a.createElement(wf,{text:n(".context")},a.createElement(RP,{spacingAroundSideMenu:S,loading:e,gamepadAlias:B1.SERVER_SIDE_MENU,delegateFocusByAlias:"remember",role:d},a.createElement(r.Mount,{when:F},a.createElement(RP.Item,null,a.createElement(mg,{onClick:g,Icon:nM.Plus,inputLegend:c,variant:"secondary",disabled:f},c))),a.createElement(wf,{text:h},a.createElement(RP.Divider,{label:a.createElement("fast-text",{text:h})}),a.createElement(RP.ItemList,{items:E,renderItem:z1})),a.createElement(r.Mount,{when:y},a.createElement(wf,{text:b},a.createElement(RP.Divider,{label:a.createElement("fast-text",{text:b})}),a.createElement(RP.ItemList,{items:v,renderItem:z1}))),a.createElement(om,{size:4}))))}const H1="show-server-address-button",V1=Km((({showServerAddress:e,closeModal:t})=>{const{t:n}=ec("PlayScreen.serverTab.ShowServerAddressModal"),r=(0,a.useCallback)((()=>{e(),t()}),[e,t]);return a.createElement(vE,{onOverlayClick:t,defaultFocusAlias:H1},a.createElement(vE.Header,{onClose:t},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:n(".firstParagraph"),center:!0},n(".firstParagraph")),a.createElement(vE.Text,{narrationText:n(".secondParagraph"),center:!0},n(".secondParagraph"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:H1,variant:"primary",inputLegend:n(".primaryButton"),onClick:r,"data-testId":H1},n(".primaryButton")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:n(".secondaryButton"),onClick:t},n(".secondaryButton"))))}));function G1(){const e=V1.useModal(),t=(0,r.useSharedFacet)(rc),n=(0,r.useFacetMap)((e=>e.networkDetails),[],[t]),l=m(),o=f(),[i,c]=(0,r.useFacetState)(!1),s=(0,r.useFacetCallback)((t=>()=>{t?c(!1):e.show()}),[c,e],[i]),u=(0,r.useFacetMap)(((e,t)=>[{fieldData:e.name,fieldName:"name"},{fieldData:e.address,fieldName:"address",showFieldData:t,handleShowFieldData:s},{fieldData:e.port.toString(),fieldName:"port"}]),[s],[n,i]),d=(0,r.useFacetMap)((e=>e.id),[],[n]),p=(0,r.useFacetCallback)((e=>()=>{l.push(`/play/servers/${e}/${FX(tu.External)}/edit`)}),[l],[d]),g="narrow"===sd(),E=W1();return(0,r.useFacetEffect)((()=>{c(!1)}),[c],[o]),a.createElement(a.Fragment,null,a.createElement(FU,{data:u,renderItem:$1,footer:!g&&a.createElement(K1,{handleOnClick:p,disabled:E})}),g&&a.createElement(K1,{handleOnClick:p,disabled:E}),a.createElement(r.Mount,{when:e.isVisible},a.createElement(V1.Component,{showServerAddress:()=>c(!0),closeModal:e.hide})))}function $1({itemFacet:e}){const t=ia(),{t:n}=ec("PlayScreen.serverTab.externalServerDetails"),l=(0,r.useFacetMap)((e=>!1===e.showFieldData?n(".placeholder"):e.fieldData),[n],[e]),o=(0,r.useFacetMap)((e=>n(`.${e.fieldName.toLowerCase()}`)),[n],[e]),i=(0,r.useFacetMap)(((e,t)=>n(`.${e.fieldName.toLowerCase()}`)+" . "+t),[n],[e,l]),c=(0,r.useFacetMap)((e=>null!=e.showFieldData),[],[e]),s=(0,r.useFacetMap)((e=>e.showFieldData?n(".hideButton"):n(".showButton")),[n],[e]),u=(0,r.useFacetMap)((e=>e.showFieldData?n(".hideButtonHint"):n(".showButtonHint")),[n],[e]),d=(0,r.useFacetCallback)((e=>()=>e.handleShowFieldData&&e.handleShowFieldData()),[],[e]);return a.createElement(r.DeferredMount,null,a.createElement(Kf,{role:"neutral80",focusable:t,narrationText:i},a.createElement("div",{className:"iPaB4"},a.createElement("div",null,a.createElement(Yf,null,l),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionShort",variant:"dimmer"},o)),a.createElement(r.Mount,{when:c},a.createElement("div",{className:"S3H4s"},a.createElement(mg,{inputLegend:s,onClick:d,narrationSuffix:u,"data-testid":"show-address-button"},s))))))}function K1({handleOnClick:e,disabled:t}){const n=Fr("neutral"),{t:r}=ec("PlayScreen.serverTab.externalServerDetails");return a.createElement("div",{className:Dr()("HW8v5","tbmLl",n.background.base,n.border.base)},a.createElement(cp,{effect:"bevel",left:!1,right:!1}),a.createElement(mg,{inputLegend:r(".editButton"),onClick:e,narrationSuffix:r(".editBtnHint"),disabled:t,"data-testid":"edit-server-button"},r(".editButton")))}function X1({activity:e,narration:t}){const n=(0,r.useFacetMap)((e=>e.title),[],[e]),l=(0,r.useFacetMap)((e=>e.subtitle),[],[e]),o=(0,r.useFacetMap)((e=>e.description),[],[e]),i=(0,r.useFacetMap)((e=>e.imagePath),[],[e]),c=Fr("neutral");return a.createElement(Kf,{compact:!0,narrationText:t,className:"Qz37R",focusable:!0},a.createElement(r.Mount,{when:(0,r.useFacetMap)(Boolean,[],[i])},a.createElement(a.Fragment,null,a.createElement("div",{className:"BnQuf"},a.createElement(om,{size:3}),a.createElement(Mp,{className:Dr()(c.border.base,"PDeJi"),aspectRatio:Mp.AspectRatio["1:1"],src:i}),a.createElement(om,{size:3})),a.createElement(om,{size:3}))),a.createElement("div",{className:"ztHqE"},a.createElement(om,{size:3}),a.createElement(Yf,null,n),a.createElement(fm,{type:"captionLong",variant:"dimmer"},l),a.createElement(om,{size:2}),a.createElement(qf,null,o),a.createElement(om,{size:3})))}function Y1(){const{t:e}=ec("PlayScreen.serverTab"),t=(0,r.useSharedFacet)(rc),n=(0,r.useFacetMap)((e=>e.networkDetails.newsTitle),[],[t]),l=(0,r.useFacetMap)((e=>e.networkDetails.newsDescription),[],[t]),o=(0,r.useFacetMap)(((t,n)=>`${e(".newsTitle")} . ${t} . ${n}`),[e],[n,l]);return a.createElement(Kf,{role:"neutral80",focusable:!0,narrationText:o},a.createElement(om,{size:3}),a.createElement(Yf,null,e(".newsTitle")),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionShort",variant:"dimmer"},n),a.createElement(om,{size:3}),a.createElement(qf,null,l),a.createElement(om,{size:6}))}const q1="WrIbC";function Q1({playerCount:e,maximumCapacity:t}){const n=(0,r.useFacetMap)(((e,t)=>0!==e&&e===t),[],[e,t]),{t:l}=ec("PlayScreen.serverCapacity");return a.createElement("div",{className:"WoDZ4"},a.createElement(kK,null),a.createElement(om,{size:1}),a.createElement(fm,{type:"body",variant:"dimmer"},e),a.createElement(r.Mount,{when:n},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(cy,{role:"destructiveTint"},l(".fullLabel")))))}const J1=n.p+"assets/pingAnimation-4d7a0.png",Z1=()=>a.createElement("div",{className:"Xjxgl"},a.createElement(pF,{src:J1,frames:6,duration:700,width:11.2,height:2,repeat:"infinite",imageRendering:"pixelated"})),e2=e=>{switch(e){case nu.Low:return a.createElement(vM,null);case nu.High:return a.createElement(FM,null);case nu.Medium:return a.createElement(MM,null);default:return a.createElement(Z1,null)}};function t2({pingStatus:e}){const t=n2(e);return a.createElement("div",{className:"qgs3j"},a.createElement(wl,{data:e,children:e2}),a.createElement(om,{size:1}),a.createElement(fm,{type:"body",variant:"dimmer"},t))}const n2=e=>{const{t}=ec("PlayScreen.ServerPing");return(0,r.useFacetMap)((e=>{switch(e){case nu.Low:return t(".lowPing");case nu.Medium:return t(".mediumPing");case nu.High:return t(".highPing");default:return t(".loadingPing")}}),[t],[e])};function a2(e){switch(e){case lc.NoInternetError:return".NoInternetError";case lc.ThirdPartyBadIPError:return".ThirdPartyBadIPError";case lc.InvalidUserError:case lc.UserNeedsToBeSignedInError:case lc.BlockedByPlatformError:case lc.BlockedByVersionError:case lc.BlockedByXBLError:case lc.UserBannedError:case lc.ThirdPartyNoServerOrServerLockedError:case lc.UnknownError:default:return".UnknownError"}}t2.useLabel=n2;const r2=Km((({onClose:e})=>{const t=(0,r.useSharedFacet)(cc),[n,l]=(0,r.useFacetState)(null),{t:o}=ec("PlayScreen.serverTab.joinServerErrorModal"),i=(0,r.useFacetMap)((e=>e.joinThirdPartyServerResult),[],[t]),c=(0,r.useFacetMap)((e=>e.joinExternalServerResult),[],[t]);(0,r.useFacetEffect)(((e,t)=>{const n=null!=e&&e!==lc.OK,a=null!=t&&t!==lc.OK;(n||a)&&l(n?e:t)}),[l],[i,c]);const s=(0,r.useFacetMap)((e=>o(`${a2(e)}.title`)),[o],[n]),u=(0,r.useFacetMap)((e=>o(`${a2(e)}.message`)),[o],[n]);return a.createElement(vE,null,a.createElement(vE.Header,null,s),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:u,center:!0},u)),a.createElement(vE.Buttons,null,a.createElement(mg,{inputLegend:o(".cancel"),variant:"secondary",onClick:e},o(".cancel"))))}));function l2({loading:e,showServerDetails:t=!1}){const n=(0,r.useSharedFacet)(rc),l=(0,r.useSharedFacet)(sc),o=(0,r.useSharedFacet)(cc),i=r2.useModal(),c=m(),s=Zu(),u=bX(),d=Fr("neutral100"),{t:p}=ec("PlayScreen.serverTab"),f="narrow"===sd(),g=(0,r.useFacetMap)((e=>e.networkDetails.playerCount),[],[n]),E=(0,r.useFacetMap)((e=>e.networkDetails.capacity),[],[n]),h=(0,r.useFacetMap)((e=>e.doNotShowMultiplayerOnlineSafetyWarning),[],[l]),v=(0,r.useFacetMap)((e=>e.doNotShowMultiplayerIpSafetyWarning),[],[l]),b=(0,r.useFacetMap)((e=>e.joinThirdPartyServerResult),[],[o]),y=(0,r.useFacetMap)((e=>e.joinExternalServerResult),[],[o]),F=(0,r.useFacetMap)((e=>e.networkDetails.type),[],[n]);(0,r.useFacetEffect)(((e,t)=>{const n=null!=e&&e!==lc.OK,a=null!=t&&t!==lc.OK;if(n||a){let r;i.show(),null!=e&&n?r={modalReason:lc[e]}:null!=t&&a&&(r={modalReason:lc[t]}),s({modal:n?"JoinThirdPartyError":"JoinExternalError",screen:vX.ServerTab,details:r})}}),[i,s],[b,y]);const S=(0,r.useFacetCallback)((e=>()=>{e.clearJoinThirdPartyServerTaskState(),e.clearJoinExternalServerTaskState(),i.hide()}),[i],[o]),C=(0,r.useFacetCallback)((e=>()=>{e.networkDetails.type===tu.ThirdParty&&u.thirdParty(),e.networkDetails.type===tu.External&&u.external()}),[u],[n]),M=(0,r.useFacetCallback)(((e,t,n)=>()=>{const a=n===tu.ThirdParty;a&&e||!a&&t?C():c.push(`/online-play-warning/${FX(n)}`)}),[C,c],[h,v,F]),w=(0,r.useFacetMap)((e=>e.networkDetails.pingStatus),[],[n]),k=(0,r.useFacetMap)(((e,t)=>e.networkDetails.type===tu.External?function(e,t,n){const a=n(1===t?".PlaySuffixExtServerOnePlayer":".PlaySuffixExtServerManyPlayers",[String(t)]);return`${function(){switch(e){case nu.Low:return n(".PlaySuffixExtServerLowPing");case nu.Medium:return n(".PlaySuffixExtServerMediumPing");case nu.High:return n(".PlaySuffixExtServerHighPing");default:return n(".PlaySuffixExtServerUnavailablePing")}}()} ${a}`}(t,e.networkDetails.playerCount,p):p(".PlaySuffix")),[p],[n,w]),T=(0,a.useRef)(null),I=W1(),P=(0,r.useFacetMap)(((e,t)=>e||t),[],[e,I]);return a.createElement(a.Fragment,null,t?a.createElement(Fp,{containerRef:T},a.createElement("div",{className:Dr()("aRWEg",d.background.base),ref:T},a.createElement("div",{className:f?"pegMe":"olUnj"},a.createElement(t2,{pingStatus:w}),a.createElement(om,{size:f?1:6}),a.createElement(Q1,{playerCount:g,maximumCapacity:E})),a.createElement(om,{size:4}),a.createElement("div",{className:q1},a.createElement(mg,{inputLegend:p(".Play"),variant:"hero",delayedClick:!0,horizontal:!0,onClick:M,narrationSuffix:k,gamepadAlias:B1.SERVER_DESCRIPTION,disabled:P,"data-testid":"server-play-button"},p(".Play"))))):a.createElement("div",{className:q1},a.createElement(mg,{inputLegend:p(".Play"),variant:"hero",delayedClick:!0,horizontal:!0,onClick:M,narrationSuffix:k,gamepadAlias:B1.SERVER_DESCRIPTION,disabled:P,"data-testid":"server-play-button"},p(".Play"))),a.createElement(r.Mount,{when:i.isVisible},a.createElement(r2.Component,{onClose:S})))}function o2({loading:e}){const t=(0,r.useSharedFacet)(rc),n=(0,r.useFacetMap)((e=>e.networkDetails.activities.length>0),[],[t]),l=(0,r.useFacetMap)((e=>null!=e.networkDetails.newsTitle||""!=e.networkDetails.newsTitle),[],[t]),o=Fr("neutral80");return a.createElement("div",{className:Dr()("Wg3u9",o.border.base)},a.createElement(i2,{loading:e}),a.createElement(r.Mount,{when:n},a.createElement(c2,null)),a.createElement(r.Mount,{when:l},a.createElement(Y1,null)))}function i2({loading:e}){const{t}=ec("PlayScreen.serverTab"),n=(0,r.useSharedFacet)(rc),l=Fr("neutral80"),o=(0,r.useFacetMap)((e=>e.networkDetails.name),[],[n]),i=(0,r.useFacetMap)((e=>e.networkDetails.imagePath),[],[n]),c=(0,r.useFacetMap)((e=>e.networkDetails.description),[],[n]),s=(0,r.useFacetMap)(((e,n)=>[e,t(".narrationRoleTextBlock"),n].join(" . ")),[t],[o,c]),u="narrow"===sd(),d=(0,r.useFacetMap)((e=>e.networkDetails.playerCount),[],[n]),m=(0,r.useFacetMap)((e=>e.networkDetails.capacity),[],[n]),p=(0,r.useFacetMap)((e=>e.networkDetails.pingStatus),[],[n]);return a.createElement("div",{className:l.background.base},a.createElement("div",{className:"axqzC"},a.createElement(Mp,{aspectRatio:Mp.AspectRatio["10:3"],src:i,className:Dr()(l.border.base,"zHJnA")}),a.createElement("div",{className:Dr()("lJyMF","zQHkp",{Y4dmn:u,Vv7fd:!u})},a.createElement(t2,{pingStatus:p}),a.createElement(om,{size:u?1:6}),a.createElement(Q1,{playerCount:d,maximumCapacity:m}))),a.createElement(Kf,{role:"neutral80"},a.createElement("div",{className:"iUvXe"},a.createElement("div",{className:"ikxA6"},a.createElement(Yf,null,o)),a.createElement(om,{size:1}),a.createElement(l2,{loading:e}))),a.createElement(Kf,{focusable:!0,role:"neutral80",narrationText:s},a.createElement(Yf,null,t(".ServerDescription.title")),a.createElement(om,{size:2}),a.createElement(qf,null,c)))}function c2(){const{t:e}=ec("PlayScreen.serverTab"),{background:t}=Fr("neutral80"),n=(0,r.useSharedFacet)(rc),l=(0,r.useFacetMap)((e=>e.networkDetails.activities),[],[n]),o=(0,r.useFacetMap)((e=>e.length),[],[l]),i=[e(".narrationTitleActivities"),e(".narrationRoleGroup")].join(" . ");return a.createElement(wf,{text:i},a.createElement(Kf,{role:"neutral80",className:Dr()("OkQgW",t.base)},a.createElement(om,{size:3}),a.createElement(Yf,{className:"Gj7Ut"},e(".Activities")),a.createElement(om,{size:3}),a.createElement(r.Map,{array:l},((e,t)=>a.createElement(s2,{activity:e,index:t,activitiesCount:o})))))}const s2=({index:e,activitiesCount:t,activity:n})=>{const{t:l}=ec("PlayScreen.serverTab"),o=(0,r.useFacetMap)(((t,n)=>{const{title:a,subtitle:r,description:o}=t;return[a,r,o,l(".sectionEnumeration",[String(e+1),String(n)])].join(" . ")}),[l,e],[n,t]);return a.createElement(X1,{activity:n,narration:o})};function u2(){const{t:e}=ec("PlayScreen.serverTab.ServerNotifications"),t=(0,r.useFacetMap)((e=>e.networkDetails.pingStatus===nu.High),[],[(0,r.useSharedFacet)(rc)]),n=(0,r.useFacetMap)(((e,t)=>t?"win32-build":e?"high-ping":void 0),[],[t,O1()]);return a.createElement(a.Fragment,null,a.createElement(wl,{data:n},(t=>{switch(t){case"high-ping":return a.createElement(GT,{role:"noticeTint"},a.createElement(GT.Text,null,e(".highPingWarning")));case"win32-build":return a.createElement(GT,{role:"noticeTint"},a.createElement(GT.Text,null,"Third party servers are not available in Win32 builds, to access this type of servers use an UWP build"));default:return a.createElement(a.Fragment,null)}})))}function d2({loading:e,scrollViewRef:t}){const{t:n}=ec("PlayScreen.serverTab"),l=(0,r.useSharedFacet)(rc),o=(0,r.useFacetMap)((e=>e.networkDetails.type===tu.External),[],[l]),i=(0,r.useFacetMap)((e=>Boolean(e.networkDetails.id)),[],[l]),c=(0,r.useFacetMap)((e=>e.networkDetails.name),[],[l]),s=(0,r.useFacetMap)((e=>e.networkDetails.pingStatus),[],[l]),u=(0,r.useFacetMap)((e=>e.networkDetails.playerCount),[],[l]),d=sd(),m=a.createElement(a.Fragment,null,"narrow"===d&&a.createElement(om,{size:1}),("desktop"===d||"tablet"===d)&&a.createElement(om,{size:2})),p=(0,r.useFacetMap)(((e,t,a)=>[n(".narrationScreen",[String(e)]),n(`.ServerDescription.${m2(t)}`),n(".ServerDescription."+(1===a?"personPlaying":"peoplePlaying"),[String(a)])].join(" . ")),[n],[c,s,u]);return a.createElement(a.Fragment,null,m,a.createElement(wf,{text:p},a.createElement(u2,null),a.createElement(r.Mount,{when:i},a.createElement(a.Fragment,null,a.createElement(Ef,{loading:e,innerRef:t,floating:!0},a.createElement(r.Mount,{when:o,condition:!1},a.createElement(a.Fragment,null,a.createElement(o2,{loading:e}),a.createElement(om,{size:"narrow"===d?1:2}),a.createElement(ST,{tab:"servers"}),a.createElement(om,{size:"narrow"===d?1:2}))),a.createElement(r.Mount,{when:o,condition:!0},a.createElement(a.Fragment,null,a.createElement(l2,{loading:e,showServerDetails:!0}),a.createElement(G1,null))))))))}function m2(e){switch(e){case nu.Low:return"lowPing";case nu.Medium:return"mediumPing";case nu.High:return"highPing";default:return"unavailablePing"}}function p2(){const e=(0,r.useSharedFacet)(rc),t=(0,r.useSharedFacet)(di),n=(0,r.useSharedFacet)(Ti),l=(0,r.useSharedFacet)(Xs),o=(0,a.useRef)(null),i=(0,a.useRef)(null),c=(0,r.useFacetMap)((e=>e.fetchThirdPartyWorldsTaskState===ck.DONE),[],[l]),s=(0,r.useFacetMap)((e=>e.isDevBuild),[],[t]),u=(0,r.useFacetMap)(((e,t)=>!e&&!t),[],[c,s]),d=(0,r.useFacetMap)(((e,t)=>!e.hasLoadedDetails||t),[],[e,u]),m=(0,a.useRef)(null),p=f(),g=(0,r.useFacetMap)((e=>null==e?void 0:e.id),[],[p]),E=(0,r.useFacetMap)((e=>(null==e?void 0:e.type)===FX(tu.External)?tu.External:tu.ThirdParty),[],[p]),h=(0,r.useFacetCallback)((e=>(t,n)=>{e.loadNetworkWorldDetails(t,n),m.current&&(m.current.scrollTop=0)}),[],[e]),v=(0,r.useFacetMap)((e=>e.externalServerWorlds),[],[n]),b=(0,r.useFacetMap)((e=>e.thirdPartyWorlds.length>0?e.thirdPartyWorlds[0].id:""),[],[l]);return(0,r.useFacetEffect)(((e,t,n,a)=>{null==t||null==n||n===tu.External&&!a.some((e=>e.id===t))?h(e,tu.ThirdParty):h(t,n)}),[h],[b,g,E,v]),a.createElement(Fp,{containerRef:o,delegateFocusByAlias:B1.SERVER_SIDE_MENU,delegateFocusFromMemory:!0},a.createElement(Yv.Row,{innerRef:o},a.createElement(Yv.Column,{wideSize:4,narrowSize:3},a.createElement(j1,{loading:u})),a.createElement(Fp,{containerRef:i,delegateFocusByAlias:B1.SERVER_DESCRIPTION},a.createElement(Yv.Column,{wideSize:8,narrowSize:5,innerRef:i},a.createElement(d2,{loading:d,scrollViewRef:m})))))}function f2(){const{t:e}=ec("PlayScreen.serverTab"),t=A1(xY.SERVERS);return a.createElement(a.Fragment,null,a.createElement(wl,{data:t},(t=>{switch(t){case"banned":return a.createElement(DI.InTab,null);case"offline":return a.createElement(g2,null,a.createElement(MI,{text:e(".noInternetMessage")}));case"parental-online-safety":return a.createElement(DW,{variant:"parental"});case"online-safety":return a.createElement(DW,{variant:"online"});case"no-online-subscription-playstation":case"no-online-subscription-nintendo":case"multiplayer-disabled":case"msa-guest-playstation":case"msa-guest-nintendo":case"not-signed-in":return a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(YW,{tab:zW.ServersTab}),a.createElement(p2,null));case"platform-guest-nintendo":return a.createElement(g2,null,a.createElement(VI,{context:HI.Nintendo}));case"platform-guest-playstation":return a.createElement(g2,null,a.createElement(VI,{context:HI.Playstation}));case"platform-multiplayer-disabled":return a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(x1,null));case"content":return a.createElement(p2,null);case"trial-mode":return a.createElement(hI,{context:EI.SERVERS});default:return a.createElement(g2,null,a.createElement(X0,{context:"servers"}))}})),a.createElement(ly,{type:"contentful",renderingCompleted:!0}),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}))}function g2({children:e}){return a.createElement(Ef,{floating:!0},a.createElement(om,{size:2}),e)}function E2(e){const{f:t}=ec("WorldListItem"),{t:n}=ec("WorldListItem.narration");return(0,r.useFacetMap)((e=>{if(null==e||e<1)return[];const a=t.formatDate(e);return[{displayText:a,narrationText:n(".lastSaved",[a])}]}),[t,n],[e])}function h2(e){const t=(0,r.useFacetMap)((e=>e.fileSize),[],[e]),n=(0,r.useFacetMap)((e=>e.lastSaved),[],[e]),a=function(e){const{t}=ec("WorldListItem.narration");return(0,r.useFacetMap)((e=>null==e?[]:[{displayText:e,narrationText:t(".worldSize",[e])}]),[t],[e])}(t),l=E2(n);return(0,r.useFacetMap)(((e,t)=>[...e,...t]),[],[a,l])}function v2(e){const t=m(),n=(0,r.useSharedFacet)(Su),a=(0,r.useFacetMap)((e=>e.syncWorldTaskState),[],[n]);return uk(((e,n)=>function*(){const r=n.id;n.requiresCloudSync&&(e.syncWorld(r),yield a,e.clearSyncWorldTaskState()),t.push(`/edit-world/${encodeURIComponent(r)}`)}),[a,t],[n,e])}function b2({rangeStart:e,rangeEnd:t,lanWorlds:n,localWorlds:a}){const r=[],l=[],o=n.length+a.length;for(let i=e;i<Math.min(t,o);i++)i<n.length?r.push(n[i]):l.push(a[i-n.length]);return{lanWorlds:r,localWorlds:l}}function y2({worldsPerPage:e,localWorlds:t,lanWorlds:n,totalAmountOfPages:a}){const l=m(),o=E(),i=(0,r.useFacetMap)((e=>{var t;return Number(null!==(t=e.get("page"))&&void 0!==t?t:"1")}),[],[o]),c=(0,r.useFacetMemo)(((t,n,a)=>{const r=(a-1)*e;return b2({rangeStart:r,rangeEnd:r+e,lanWorlds:t,localWorlds:n})}),[e],[n,t,i]),s=(0,r.useFacetMap)((e=>e.lanWorlds),[],[c]),u=(0,r.useFacetMap)((e=>e.localWorlds),[],[c]),d=(0,r.useFacetMap)((e=>e.length),[],[s]);return(0,r.useFacetEffect)(((e,t)=>{e<t&&setTimeout((()=>{l.replace("/play/all")}),1)}),[l],[a,i]),{numberOfLanWorldsIndexOffset:d,currentLanWorldData:s,currentLocalWorldData:u,changeWorldGridPage:(0,r.useFacetCallback)((e=>t=>{e!=t&&l.replace(`/play/all/?page=${t}`)}),[l],[i])}}const F2=(0,a.createContext)({getSelectedWorldId:()=>(0,r.createFacet)({initialValue:""}),setSelectedWorldId:()=>{}}),S2=()=>(0,a.useContext)(F2);function C2({world:e,index:t,indexOffset:n,totalNrOfWorlds:l,onWorldClick:o}){const i=(0,r.useFacetMap)((e=>e.id),[],[e]),c=(0,r.useFacetMap)((e=>e.name),[],[e]),s=(0,r.useFacetMap)((e=>e.isMultiplayerEnabled),[],[e]),u=WK(e,LK.LIST),d=(0,r.useFacetMap)((e=>e.previewImgPath),[],[e]),m=(0,r.useFacetMap)((e=>e.requiresCloudSync),[],[e]),p=(0,r.useFacetMap)((e=>e+t+1),[t],[n]),f=(0,r.useFacetMap)((e=>e.isHardcore),[],[e]),g=(0,r.useFacetMap)((e=>e.playerHasDied),[],[e]),E=h2(e),h=$V(e),v=(0,r.useFacetCallback)((e=>()=>{o(e),h()}),[h,o],[i]);return a.createElement(AK,{id:i,title:c,tags:u,imageSrc:d,requiresCloudSync:m,containerListLength:l,narrationIndex:p,onEdit:v2(e),onWorldClick:v,isMultiplayerWorld:s,isHardcore:f,playerHasDied:g,metadataList:E})}function M2({lanWorld:e,index:t,numberOfWorlds:n,onWorldClick:l}){const{t:o}=ec("WorldList"),i=(0,r.useFacetMap)((e=>e.id),[],[e]),c=(0,r.useFacetMap)((e=>e.name),[],[e]),s=(0,r.useFacetMap)((e=>e.ownerName?o(".lanWorldOwner",[e.ownerName]):void 0),[o],[e]),u=DK(e,LK.LIST),d=(0,r.useFacetMap)((e=>e.playerCount),[],[e]),p=(0,r.useFacetMap)((e=>e.capacity>0&&e.capacity===e.playerCount),[],[e]),f=yX(i),g=(0,r.useFacetMap)((e=>e.doNotShowMultiplayerOnlineSafetyWarning),[],[(0,r.useSharedFacet)(sc)]),E=m(),h=(0,r.useFacetCallback)(((e,t)=>()=>{t?(l(e),f()):E.push(`/online-play-warning/${FX(tu.LAN)}/${e}`)}),[E,f,l],[i,g]);return a.createElement(AK,{testId:`lan-world-list-item-${t}`,id:i,title:c,subtitle:s,tags:u,containerListLength:n,narrationIndex:t+1,onWorldClick:h,amountOfPlayersOnline:d,worldFull:p,isMultiplayerWorld:(0,r.useFacetWrap)(!0)})}function w2({localWorlds:e,lanWorlds:t,onPagination:n}){const{setSelectedWorldId:l}=S2(),o=(0,a.useCallback)((e=>{l(e)}),[l]),i=(0,r.useFacetMap)((e=>e.length),[],[t]),c=(0,r.useFacetMap)(((e,t)=>e.length+t),[],[e,i]),s=(0,r.useFacetMap)((e=>Math.ceil(e/12)),[],[c]),{delegationEventFacet:u,delegateFocus:d}=mp(),m=(0,a.useRef)(null),p=(0,a.useRef)(null),f=E(),g=(0,r.useFacetMap)((e=>{var t;return Number(null!==(t=e.get("page"))&&void 0!==t?t:"1")}),[],[f]),{numberOfLanWorldsIndexOffset:h,currentLanWorldData:v,currentLocalWorldData:b,changeWorldGridPage:y}=y2({worldsPerPage:12,lanWorlds:t,localWorlds:e,totalAmountOfPages:s});return(0,r.useFacetEffect)((()=>{n(),d.first()}),[d,n],[f]),a.createElement(a.Fragment,null,a.createElement(fp,{delegationEvent:u},a.createElement(Fp,{containerRef:m,delegateFocusFromMemory:!0},a.createElement("div",{ref:m},a.createElement(r.Map,{array:v},((e,t)=>a.createElement(a.Fragment,null,t>0&&a.createElement(om,{size:2}),a.createElement(M2,{lanWorld:e,index:t,numberOfWorlds:c,onWorldClick:o})))),a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>e>0),[],[h])},a.createElement(om,{size:2})),a.createElement(r.Map,{array:b},((e,t)=>a.createElement(a.Fragment,null,t>0&&a.createElement(om,{size:2}),a.createElement(C2,{world:e,indexOffset:h,index:t,totalNrOfWorlds:c,onWorldClick:o})))),a.createElement(om,{size:3})))),a.createElement(Fp,{containerRef:p},a.createElement("div",{ref:p},a.createElement(LT,{totalPages:s,currentPage:g,onChange:y}))))}const k2="Kyzei";function T2({id:e,title:t,subtitle:n,imageSrc:l,requiresCloudSync:o,tags:i,onWorldClick:c,narrationIndex:s,onEdit:u,containerListLength:d,amountOfPlayersOnline:m,worldFull:p,isMultiplayerWorld:f,isHardcore:g,playerHasDied:E,className:h,testId:v,innerRef:b}){const{t:y}=ec("WorldCard"),{t:F}=ec("WorldCard.narration"),S=(0,r.useFacetWrap)(null!=o&&o),C=(0,r.useFacetWrap)(null!=m?m:0),M=(0,r.useFacetWrap)(null!=p&&p),w=(0,r.useFacetMap)((e=>e>0),[],[C]),k=(0,r.useFacetWrap)(null!=g&&g),T=(0,r.useFacetWrap)(null!=E&&E),I=(0,r.useFacetMap)((e=>null!=e?e:""),[],[(0,r.useFacetWrap)(null!=n?n:"")]),[P,x]=(0,r.useFacetState)(!1),O=null!=u,A=nt(),N=(0,r.useFacetMap)((e=>O&&!e),[O],[A]),R=(0,r.useFacetMap)((e=>O&&e),[O],[A]),_=(0,r.useFacetMap)((e=>Dr()({MltQY:!O&&!e,S3i1t:O&&e})),[O],[A]),L=(0,r.useFacetWrap)(s),D=(0,r.useFacetMap)(((e,t,n,a)=>[e,F(".componentRole"),t>0?F(".gridAmountContext",[`${a}`,`${t}`]):void 0,,n.map((e=>e.label)).join(", ")].filter(Boolean).join(" . ")),[F],[t,d,i,L]),W=(0,r.useFacetMap)(((e,t)=>t?vK:null!=e&&e.length>0?e:hK),[],[(0,r.useFacetWrap)(l),S]),B=(0,r.useFacetCallback)((e=>()=>u&&u(e)),[u],[e]),U=(0,r.useFacetMap)((e=>e?[F(".play"),F(".buttonSiblings",["1","2"])].join(" . "):[F(".play"),y(".button")].join(" . ")),[y,F],[N]),z=(0,r.useFacetMap)((e=>e.length>0),[],[I]),H=CV.useModal(),V=OK.useModal(),G=TI(),$=PK(f),K=xK(f),X=(0,r.useFacetMap)(((e,t)=>t&&e),[],[f,G]),Y=(0,r.useFacetCallback)(((e,t)=>()=>{t?V.show():e?H.show():c()}),[c,H,V],[$,X]),q=(0,a.useRef)(null),Q=b||q;return a.createElement(Gr,null,a.createElement(wf,{text:D},a.createElement(cY,{containerRef:Q,className:h},a.createElement(Fp,{containerRef:Q,delegateFocusFromMemory:!0,isGrid:!0,gridCellSizeAuto:!0,alias:(0,r.useFacetMap)((e=>`world-wrapper-${e}`),[],[e])},a.createElement(cY.Action,{testId:(0,r.useFacetMap)(((e,t,n)=>null!=n?n:e?"multiplayer-world-card-primary-action-"+(t-1):"world-card-primary-action-"+(t-1)),[],[f,L,(0,r.useFacetWrap)(v)]),inputLegend:y(".play"),narrationText:U,onClick:Y,onFocusChanged:x,onHoverChanged:x,gamepadAlias:(0,r.useFacetMap)((e=>`world-card-${e}`),[],[e]),className:_},a.createElement("div",{className:"q5c9z"},a.createElement(Mp,{src:W,isGrayscale:$,aspectRatio:Mp.AspectRatio["16:9"]}),a.createElement(r.Mount,{when:$},a.createElement("div",{className:k2},a.createElement(cy,{role:"destructiveTint"},y(".multiplayerDisabled")))),a.createElement(r.Mount,{when:K},a.createElement("div",{className:k2},a.createElement(cy,{role:"destructiveTint"},y(".multiplayerWorldOffline")))),a.createElement(r.Mount,{when:S},a.createElement(SK,null)),a.createElement(r.Mount,{when:k},a.createElement(fO,{className:"eQDHb",animate:P,startFrame:8,dead:T})),a.createElement(r.Mount,{when:k},a.createElement(IK,{className:"Je5Dc",useGreyBorder:T})),a.createElement(r.Mount,{when:w},a.createElement(TK.Panel,{className:"Mj7So"},a.createElement(TK,{amountOfPlayersOnline:C,full:M})))),a.createElement(cY.Information,{narrationText:t},a.createElement(fm,{type:"body",overflowEllipsis:!0},t),a.createElement(r.Mount,{when:z},a.createElement(fm,{type:"body",variant:"dimmer",overflowEllipsis:!0},I)),a.createElement(sy,{fixedHeight:4.4,tags:i,className:"quia1"}))),a.createElement(r.Mount,{when:N},a.createElement(cY.AdditionalAction,{narrationText:[F(".edit"),F(".buttonSiblings",["2","2"])].join(" . "),inputLegend:y(".edit"),onClick:B,gamepadAlias:(0,r.useFacetMap)((e=>`world-button-${e}`),[],[e])},a.createElement("div",{className:"UzBDX"},a.createElement(nM.Edit,null),a.createElement(om,{size:2}),a.createElement(fm,{type:"body",role:"inherit",verticalAlign:"center"},y(".edit"))))),a.createElement(r.Mount,{when:R},a.createElement(Sf,{options:{button:j.X,inputLegend:y(".edit")},onClick:B})),a.createElement(r.Mount,{when:V.isVisible},a.createElement(OK.Component,{onClose:V.hide})),a.createElement(r.Mount,{when:H.isVisible},a.createElement(CV.Component,{onClose:H.hide}))))))}const I2="laCEc",P2="fplHH";function x2({localWorld:e,index:t,indexOffset:n,totalNrOfWorlds:l,onWorldClick:o}){const i=(0,r.useFacetMap)((e=>e.isMultiplayerEnabled),[],[e]),c=(0,r.useFacetMap)((e=>e.id),[],[e]),s=(0,r.useFacetMap)((e=>e.name),[],[e]),u=WK(e,LK.GRID),d=(0,r.useFacetMap)((e=>e.previewImgPath),[],[e]),m=(0,r.useFacetMap)((e=>e.requiresCloudSync),[],[e]),p=(0,r.useFacetMap)((e=>e+t+1),[t],[n]),f=(0,r.useFacetMap)((e=>e.isHardcore),[],[e]),g=(0,r.useFacetMap)((e=>e.playerHasDied),[],[e]),E=$V(e),h=(0,r.useFacetCallback)((e=>()=>{o(e),E()}),[o,E],[c]),v=(0,a.useRef)(null);return a.createElement("div",{ref:v,className:I2},a.createElement(T2,{id:c,className:P2,title:s,imageSrc:d,requiresCloudSync:m,tags:u,containerListLength:l,narrationIndex:p,isHardcore:f,playerHasDied:g,onEdit:v2(e),onWorldClick:h,isMultiplayerWorld:i,innerRef:v}))}function O2({lanWorld:e,index:t,totalNrOfWorlds:n,onWorldClick:l}){const{t:o}=ec("WorldGrid"),i=(0,r.useFacetMap)((e=>e.id),[],[e]),c=(0,r.useFacetMap)((e=>e.name),[],[e]),s=(0,r.useFacetMap)((e=>e.ownerName?o(".lanWorldOwner",[e.ownerName]):void 0),[o],[e]),u=DK(e,LK.GRID),d=(0,r.useFacetMap)((e=>e.playerCount),[],[e]),p=(0,r.useFacetMap)((e=>e.capacity>0&&e.capacity===e.playerCount),[],[e]),f=yX(i),g=(0,r.useFacetMap)((e=>e.doNotShowMultiplayerOnlineSafetyWarning),[],[(0,r.useSharedFacet)(sc)]),E=m(),h=(0,r.useFacetCallback)(((e,t)=>()=>{t?(l(e),f()):E.push(`/online-play-warning/${FX(tu.LAN)}/${e}`)}),[E,f,l],[i,g]),v=(0,a.useRef)(null);return a.createElement("div",{ref:v,className:I2},a.createElement(T2,{testId:`lan-world-card-${t}`,id:i,className:P2,title:c,subtitle:s,tags:u,amountOfPlayersOnline:d,worldFull:p,containerListLength:n,narrationIndex:t+1,onWorldClick:h,isMultiplayerWorld:(0,r.useFacetWrap)(!0),innerRef:v}))}function A2({localWorlds:e,lanWorlds:t,onPagination:n}){const{setSelectedWorldId:l}=S2(),o=(0,r.useFacetMap)((e=>e.length),[],[t]),i=(0,r.useFacetMap)(((e,t)=>e.length+t),[],[e,o]),c=(0,a.useCallback)((e=>{l(e)}),[l]),s=(0,r.useFacetMap)((e=>Math.ceil(e/12)),[],[i]),{delegationEventFacet:u,delegateFocus:d}=mp(),m=(0,a.useRef)(null),p=(0,a.useRef)(null),f=E(),g=(0,r.useFacetMap)((e=>{var t;return Number(null!==(t=e.get("page"))&&void 0!==t?t:"1")}),[],[f]),{numberOfLanWorldsIndexOffset:h,currentLanWorldData:v,currentLocalWorldData:b,changeWorldGridPage:y}=y2({worldsPerPage:12,lanWorlds:t,localWorlds:e,totalAmountOfPages:s});return(0,r.useFacetEffect)((()=>{n(),d.first()}),[d,n],[f]),a.createElement(a.Fragment,null,a.createElement(fp,{delegationEvent:u},a.createElement(Fp,{containerRef:m,delegateFocusFromMemory:!0,isGrid:!0,gridCellSizeAuto:!0},a.createElement("div",{className:"SeRr5",ref:m},a.createElement(r.Map,{array:v},((e,t)=>a.createElement(O2,{lanWorld:e,index:t,totalNrOfWorlds:i,onWorldClick:c}))),a.createElement(r.Map,{array:b},((e,t)=>a.createElement(x2,{localWorld:e,index:t,indexOffset:h,totalNrOfWorlds:i,onWorldClick:c})))),a.createElement(om,{size:3}))),a.createElement(Fp,{containerRef:p,delegateFocusFromMemory:!0},a.createElement("div",{ref:p},a.createElement(LT,{totalPages:s,currentPage:g,onChange:y}))))}const N2=n.p+"assets/no-worlds-yet-art-446b1.png";function R2(){const{t:e}=ec("PlayScreen.allWorlds"),t=(0,r.useSharedFacet)(vu),n=(0,r.useFacetMap)((t=>e(t?".emptyStateText.trialMode":".emptyStateText")),[e],[t]),l=Db({wide:8,narrow:6,width:224});return a.createElement(cb,{title:e(".emptyStateTitle"),text:n,imgSrc:N2,imgClass:l?"zmGo3":"lCcwm"})}const _2=Km((()=>{const{t:e}=ec("PlayScreen.worldMissingEntitlementModal"),t="pop-up-modal-worldMissingEntitlementModal",n=(0,r.useSharedFacet)(XV),l=$m(),[o,i]=(0,r.useFacetState)(!1),c=(0,r.useFacetMap)((e=>e.localWorlds.filter((e=>!e.allContentOwned))),[],[n]),s=(0,r.useFacetMap)((e=>e.length),[],[c]),u=(0,r.useFacetMemo)((e=>e.map((({name:e})=>e))),[],[c]),d=(0,r.useFacetMap)((t=>e(".body",[`${t}`])),[e],[s]),m=(0,r.useFacetCallback)(((e,t)=>()=>{e.doNotShowEntitlementsWarning=t,l()}),[l],[(0,r.useSharedFacet)(sc),o]);return a.createElement(vE,{onOverlayClick:l,defaultFocusAlias:t},a.createElement(vE.Header,{onClose:l},(0,r.useFacetMap)((t=>e(".title",[`${t}`])),[e],[s])),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:d},d),a.createElement(vE.List,{items:u,gamepadIndex:1}),a.createElement(om,{size:4})),a.createElement(vE.Buttons,{header:a.createElement(vE.Checkbox,{value:o,onChange:e=>i(!!e),title:e(".doNotShowAgain")})},a.createElement(mg,{gamepadAlias:t,inputLegend:e(".close"),variant:"secondary",onClick:m},e(".close"))))})),L2=Km((()=>{const{t:e}=ec("PlayScreen.cloudSyncWorldProgressModal");return a.createElement(vE,null,a.createElement(vE.Header,null,e(".title")),a.createElement(vE.Content,null,a.createElement(vE.Spinner,null)))})),D2=Km((()=>{const e="pop-up-modal-cloudSyncWorldConnectionError",{t}=ec("PlayScreen.cloudSyncWorldConnectionError"),n=(0,r.useSharedFacet)(Su),l=$m(),o=(0,r.useFacetCallback)((e=>()=>{e.clearSyncWorldTaskState(),l()}),[l],[n]),i=t(".text");return a.createElement(vE,{onOverlayClick:o,defaultFocusAlias:e},a.createElement(vE.Header,{onClose:o},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:e,inputLegend:t(".close"),variant:"secondary",onClick:o},t(".close"))))})),W2=Km((()=>{const{t:e}=ec("PlayScreen.copyingWorldModal"),t=e(".body"),n=e(".title");return a.createElement(vE,null,a.createElement(vE.Header,null,n),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:t,center:!0},t),a.createElement(vE.Spinner,null)))})),B2=Km((({onHandleStorage:e})=>{const{t}=ec("PlayScreen.insufficientDiskSpaceModal"),n="pop-up-modal-insufficientDiskSpaceModal",l=(0,r.useFacetCallback)((e=>()=>{e.backupThenStartLocalWorld.clear()}),[],[(0,r.useSharedFacet)(ju)]);return a.createElement(vE,{defaultFocusAlias:n},a.createElement(vE.Header,{onClose:l},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:t(".body"),gamepadIndex:0},t(".body"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:n,inputLegend:t(".action"),variant:"primary",onClick:l},t(".action")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:t(".secondaryAction"),variant:"secondary",onClick:()=>{e(),l()}},t(".secondaryAction"))))})),U2=Km((()=>{const e="pop-up-modal-unknown-error",{t}=ec("PlayScreen.unknownErrorModal"),n=(0,r.useSharedFacet)(ju),l=(0,r.useFacetMap)((e=>{var n;const a=(null===(n=e.backupThenStartLocalWorld.result)||void 0===n?void 0:n.backupResult)===zu.IncorrectWorldId?zu.IncorrectWorldId:zu.UnknownError;return t(".errorCode",[`${a}`])}),[t],[n]),o=(0,r.useFacetCallback)((e=>()=>{e.backupThenStartLocalWorld.clear()}),[],[n]),i=t(".body");return a.createElement(vE,{defaultFocusAlias:e},a.createElement(vE.Header,{onClose:o},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Paragraphs,{center:!0,narrationText:(0,r.useFacetMap)((e=>[i,e].join(" . ")),[i],[l]),spaceBetweenParagraphs:2,gamepadIndex:0},a.createElement(fm,{type:"captionLong"},i),a.createElement(fm,{type:"captionLong"},l))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:e,inputLegend:t(".action"),variant:"secondary",onClick:o},t(".action"))))}));function z2(e){switch(e){case lc.BlockedByVersionError:return".blockedByVersion";case lc.InvalidUserError:case lc.UserNeedsToBeSignedInError:case lc.BlockedByPlatformError:case lc.BlockedByXBLError:case lc.ThirdPartyBadIPError:case lc.ThirdPartyNoServerOrServerLockedError:case lc.UnknownError:default:return".UnknownError"}}const j2=Km((()=>{const e=(0,r.useSharedFacet)(cc),{t}=ec("FriendsDrawer.joinFriendServerErrorModal"),n=(0,r.useFacetMap)((e=>e.joinFriendServerResult),[],[e]),l=(0,r.useFacetCallback)((e=>()=>{e.clearJoinFriendServerTaskState()}),[],[e]),o=(0,r.useFacetMap)((e=>t(`${z2(null!=e?e:void 0)}.title`)),[t],[n]),i=(0,r.useFacetMap)((e=>t(`${z2(null!=e?e:void 0)}.message`)),[t],[n]);return a.createElement(vE,null,a.createElement(vE.Header,null,o),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadIndex:1,inputLegend:t(".cancel"),variant:"secondary",onClick:l},t(".cancel"))))})),H2=Km((()=>{const{t:e}=ec("PlayScreen.importWorldProgressModal"),t=(0,r.useSharedFacet)(Vu),n=(0,r.useFacetMap)((e=>{var t;return null!==(t=e.importWorld.progress)&&void 0!==t?t:0}),[],[t]),l=e(".body");return a.createElement(vE,null,a.createElement(vE.Header,null,e(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:l,center:!0},l),a.createElement(vE.Progress,{percentage:n})))})),V2=Km((()=>{const{t:e}=ec("PlayScreen.importWorldErrorModal"),t=(0,r.useSharedFacet)(Vu),n="import-world-error-button-focus",l=(0,r.useFacetCallback)((e=>()=>{e.importWorld.clear()}),[],[t]),o=e(".close"),i=e(".unknownError.body");return a.createElement(vE,{defaultFocusAlias:n},a.createElement(vE.Header,{onClose:l},e(".unknownError.title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),a.createElement(vE.Buttons,null,a.createElement(mg,{variant:"secondary",inputLegend:o,onClick:l,gamepadAlias:n},o)))}));function G2(){const{t:e}=tc("PlayScreen"),t=hA.useModal(),{getSelectedWorldId:n,setSelectedWorldId:l}=S2(),o=m(),i=(0,r.useSharedFacet)(ju),c=(0,r.useSharedFacet)(Su),s=(0,r.useSharedFacet)(Vu),u=(0,r.useSharedFacet)(XV),d=(0,r.useSharedFacet)(ju),p=(0,r.useSharedFacet)(sc),f=(0,r.useSharedFacet)(uc),g=(0,r.useSharedFacet)(Bu),E=(0,r.useFacetMap)((e=>e.isReadyForDownload),[],[g]),h=(0,r.useFacetMap)((e=>{var t;return e.importWorld.state===au.InProgress&&(null!==(t=e.importWorld.progress)&&void 0!==t?t:0)>0}),[],[s]),v=(0,r.useFacetMap)((e=>null!=e.importWorld.result&&e.importWorld.result!==Hu.Success&&e.importWorld.result!==Hu.InterruptedByUser),[],[s]),b=(0,r.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&t===Uu.HasUnownedPacks}),[],[i]),y=(0,r.useFacetMap)(((e,{doNotShowEntitlementsWarning:t})=>{const n=e.localWorlds.filter((e=>!e.allContentOwned)).length>0;return!t&&n}),[],[u,p]),F=(0,r.useFacetMap)((e=>null!=e.packDownloadError||null!=e.lastConsultedPackSizesError),[],[g]),S=(0,r.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&(t===Uu.WorldNotInLevelList||t===Uu.UnknownError)}),[],[i]),C=(0,r.useFacetMap)((e=>e.syncWorldTaskState===ck.RUNNING),[],[c]),M=(0,r.useFacetMap)((e=>e.syncWorldTaskState===ck.FAILED),[],[c]),w=(0,r.useFacetMap)((e=>e.backupThenStartLocalWorld.state===au.InProgress),[],[i]),k=(0,r.useFacetMap)((e=>{var t,n;return(null===(t=e.backupThenStartLocalWorld.result)||void 0===t?void 0:t.backupResult)===zu.IncorrectWorldId||(null===(n=e.backupThenStartLocalWorld.result)||void 0===n?void 0:n.backupResult)===zu.UnknownError}),[],[i]),T=(0,r.useFacetMap)((e=>{var t;return(null===(t=e.backupThenStartLocalWorld.result)||void 0===t?void 0:t.backupResult)===zu.InsufficientDiskSpace}),[],[i]),I=(0,r.useFacetMap)((e=>null!=e.joinFriendServerResult&&e.joinFriendServerResult!==lc.OK&&e.joinFriendServerResult!==lc.UserBannedError&&e.joinFriendServerResult!==lc.NoInternetError),[],[(0,r.useSharedFacet)(cc)]),P=(0,r.useFacetMap)((e=>e.startLocalWorldTaskState===ck.RUNNING),[],[i]),x=n(),{downloadAssetsAndStartWorld:O,hasMissingPacks:A,hasMissingTemplate:N}=xV(),R=(0,r.useFacetCallback)(((n,a,r)=>()=>{null!=n&&(r||t.show(),O(encodeURI(n),(()=>{a.queueSnackbar(e(".missingDependenciesModal.downloadComplete"))})))}),[O,e,t],[x,f,E]),_=(0,r.useFacetCallback)((e=>()=>{l(null),e.clearStartLocalWorldResult()}),[l],[d]),L=(0,r.useFacetMap)(((e,t)=>null!=e&&t.startLocalWorldResult===Uu.MissingDependencies),[],[x,d]),D=(0,r.useFacetMap)((e=>e.startLocalWorldResult===Uu.DlcMissingContentKey),[],[d]);return(0,r.useFacetEffect)((e=>{(e.packDownloadError===Wu.InitializationTimeout||e.isReadyForDownload)&&t.hide()}),[t],[g]),a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:S},a.createElement(NV.Component,null)),a.createElement(r.Mount,{when:b},a.createElement(AV.Component,null)),a.createElement(r.Mount,{when:y},a.createElement(_2.Component,null)),a.createElement(r.Mount,{when:C},a.createElement(L2.Component,null)),a.createElement(r.Mount,{when:M},a.createElement(D2.Component,null)),a.createElement(r.Mount,{when:w},a.createElement(W2.Component,null)),a.createElement(r.Mount,{when:T},a.createElement(B2.Component,{onHandleStorage:()=>o.push("/settings/storage")})),a.createElement(r.Mount,{when:F},a.createElement(oA.Component,null)),a.createElement(r.Mount,{when:k},a.createElement(U2.Component,null)),a.createElement(r.Mount,{when:I},a.createElement(j2.Component,null)),a.createElement(r.Mount,{when:P},a.createElement(ay.Component,{title:e(".startLocalWorldModal.title")})),a.createElement(r.Mount,{when:h},a.createElement(H2.Component,null)),a.createElement(r.Mount,{when:v},a.createElement(V2.Component,null)),a.createElement(r.Mount,{when:D},a.createElement(LO.Component,null)),a.createElement(r.Mount,{when:L},a.createElement(IV.Component,{onClose:_,onAccept:R,hasMissingPacks:A,hasMissingTemplate:N})),a.createElement(r.Mount,{when:t.isVisible},a.createElement(hA.Component,{onClose:t.hide})))}const $2=n.p+"assets/import-world-icon-4e8aa.png";function K2(){}function X2({item:e,index:t,numberOfButtons:n,t:l,breakpoint:o}){const i=(0,r.useFacetMap)((({narrationSuffix:e},n)=>[l(".buttonSiblings",[`${t+1}`,`${n}`]),e].join(" . ")),[l,t],[e,n]),c=(0,r.useFacetMap)((({text:e})=>e),[],[e]),s=(0,r.useFacetMap)((({imgSrc:e})=>e),[],[e]),u=(0,r.useFacetMap)((({gamepadAlias:e})=>e),[],[e]),d=(0,r.useFacetMap)((({inputLegend:e,text:t})=>null!=e?e:t),[],[e]),m=(0,r.useFacetMap)((e=>t<e-1),[t],[n]),p=(0,r.useFacetCallback)((({onClick:e})=>null!=e?e:K2),[],[e]),f=(0,r.useFacetMap)((({variant:e})=>e),[],[e]);return a.createElement(wl,{data:f},(e=>a.createElement(a.Fragment,null,a.createElement("div",{className:"kZ8mJ"},a.createElement(mg,{inputLegend:d,narrationSuffix:i,variant:null!=e?e:"secondary",onClick:p,imgSrc:s,gamepadAlias:u},c)),a.createElement(r.Mount,{when:m},a.createElement(om,{size:"narrow"===o?2:4})))))}function Y2({navigationButtons:e,layoutButton:t,filterButton:n}){const{t:l}=ec("PlayScreen.ButtonHeader.narration"),o=sd(),i=(0,r.useFacetMap)((e=>e.length),[],[e]),c="narrow"===sd(102);return a.createElement(q2,{layoutButton:c?null:t,filterButton:n},a.createElement("div",{className:"mkMlk"},a.createElement(r.Map,{array:e},((e,t)=>a.createElement(X2,{t:l,breakpoint:o,item:e,index:t,numberOfButtons:i})))))}function q2({layoutButton:e,filterButton:t,children:n}){return null==e&&null==t?a.createElement(a.Fragment,null,n):a.createElement("div",{className:"Eb1R3"},a.createElement("div",{className:"GC5Vz"},null!=e&&a.createElement(a.Fragment,null,e,a.createElement(om,{size:2})),null!=t&&a.createElement(a.Fragment,null,t,a.createElement(om,{size:2})),a.createElement(om,{size:2})),a.createElement("div",{className:"WdnuD"},n))}function Q2({text:e,link:t,onClose:n=(()=>{}),onCloseTestId:r}){const l=m();return a.createElement(GT,{"close-button-test-id":r,role:"neutral100",onClose:n},a.createElement(GT.Text,null,e),a.createElement(GT.Link,{onClick:()=>l.push("/settings/storage")},t))}function J2({onClose:e,variant:t,onCloseTestId:n}){const r=m(),{t:l}=ec(`PlayScreen.outdatedOrRetailWorldsBanner.${t}`),{t:o}=ec("PlayScreen.outdatedOrRetailWorldsBanner");return a.createElement(GT,{role:"informative",onClose:e,"close-button-test-id":n},a.createElement(GT.Text,null,l(".text")),a.createElement(GT.Link,{onClick:()=>r.push("/settings/storage")},o(".link")))}function Z2(){const e=(0,r.useSharedFacet)(il),t=(0,r.useSharedFacet)(sc),{t:n}=ec("PlayScreen.storageBanner"),{t:l}=ec("StorageIndicator"),o=(0,r.useFacetMap)((({platform:e,isStorageFull:t,isStorageLow:n})=>Qw(e)&&(t||n)),[],[e]),i=function(){const e=HK(),t=(0,r.useSharedFacet)(il),n=(0,r.useFacetMap)((e=>e.storageType),[],[t]),a=(0,r.useFacetMap)(((e,t,n)=>!n&&!t.doNotShowOldWorldsWarning&&Qw(e.platform)),[],[t,(0,r.useSharedFacet)(sc),(0,r.useSharedFacet)(pi)]),l=(0,r.useFacetMap)(((e,t,n)=>n&&!t.doNotShowOldWorldsWarning&&Qw(e.platform)&&e.platform!==Ke.PS5),[],[t,(0,r.useSharedFacet)(sc),(0,r.useSharedFacet)(pi)]),o=(0,r.useFacetMap)(((e,t,n)=>n&&!t.doNotShowOldWorldsWarning&&e.platform===Ke.PS5),[],[t,(0,r.useSharedFacet)(sc),(0,r.useSharedFacet)(pi)]),i=(0,r.useFacetMap)(((e,t,n)=>!t&&e&&!n.doNotShowHiddenAlternativeStorageWorldsWarning),[],[e.alternativeStorageHasWorlds,e.isEmpty,(0,r.useSharedFacet)(sc)]),c=(0,r.useFacetMap)(((e,t,n)=>e===ll.EXTERNAL&&!t&&!n.doNotShowUsingExternalStorageWarning),[],[n,e.alternativeStorageHasWorlds,(0,r.useSharedFacet)(sc)]),s=(0,r.useFacetMap)(((e,t,n)=>e===ll.EXTERNAL&&t&&!n.doNotShowHiddenLocalWorldsWarning),[],[n,i,(0,r.useSharedFacet)(sc)]),u=(0,r.useFacetMap)(((e,t)=>e===ll.APPDATA&&t),[],[n,i]),d=(0,r.useFacetMap)(((e,t,n)=>e&&n&&!t.doNotShowAlternativeStorageHasWorlds),[],[e.isEmpty,(0,r.useSharedFacet)(sc),e.alternativeStorageHasWorlds]);return{possiblyOldWorldsAvailableRetail:a,possiblyRetailWorldsAvailablePreview:l,possiblyOldWorldsAndRetailWorldsAvailablePreviewOnPS5:o,worldsOnAlternativeStorageAndCurrentStorage:i,alternativeStorageHasWorlds:e.alternativeStorageHasWorlds,worldsOnlyOnAlternativeStorageWhenOnRegular:d,worldsUsingAlternativeStorage:c,worldsOnBothStoragesUsingAlternativeStorage:s,worldsOnBothStoragesUsingRegularStorage:u}}(),c=(0,r.useFacetCallback)((e=>()=>{e.doNotShowOldWorldsWarning=!0}),[],[t]),s=(0,r.useFacetCallback)((e=>()=>{e.doNotShowHiddenLocalWorldsWarning=!0}),[],[t]),u=(0,r.useFacetCallback)((e=>()=>{e.doNotShowHiddenAlternativeStorageWorldsWarning=!0}),[],[t]),d=(0,r.useFacetCallback)((e=>()=>{e.doNotShowUsingExternalStorageWarning=!0}),[],[t]),m=(0,r.useFacetCallback)((e=>()=>{e.doNotShowAlternativeStorageHasWorlds=!0}),[],[(0,r.useSharedFacet)(sc)]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:o},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(kA,{labelFull:l(".storageLabelFullEnterWorld"),labelLow:l(".storageLabelAlmostFullEnterWorld")}))),a.createElement(r.Mount,{when:i.worldsUsingAlternativeStorage},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(Q2,{onCloseTestId:"worlds-using-alternative-storage",onClose:d,text:n(".externalStorageWarningText"),link:n(".manageStorageLink")}))),a.createElement(r.Mount,{when:i.worldsOnlyOnAlternativeStorageWhenOnRegular},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(Q2,{onCloseTestId:"worlds-only-on-alternative-storage-when-on-regular",text:n(".changeStorageText"),link:n(".changeStorageLink"),onClose:m}))),a.createElement(r.Mount,{when:i.worldsOnBothStoragesUsingRegularStorage},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(Q2,{onCloseTestId:"worlds-on-both-storages-using-regular-storage",text:n(".alternativeStorageWorldsHiddenText"),link:n(".changeStorageLink"),onClose:u}))),a.createElement(r.Mount,{when:i.worldsOnBothStoragesUsingAlternativeStorage},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(Q2,{onCloseTestId:"worlds-on-both-storages-using-alternative-storage",text:n(".localWorldsHiddenText"),link:n(".changeStorageLink"),onClose:s}))),a.createElement(r.Mount,{when:i.possiblyOldWorldsAvailableRetail},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(J2,{onCloseTestId:"possibly-old-worlds-available-retail",onClose:c,variant:"retail"}))),a.createElement(r.Mount,{when:i.possiblyRetailWorldsAvailablePreview},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(J2,{onCloseTestId:"possibly-retail-worlds-available-preview",onClose:c,variant:"preview"}))),a.createElement(r.Mount,{when:i.possiblyOldWorldsAndRetailWorldsAvailablePreviewOnPS5},a.createElement(a.Fragment,null,a.createElement(om,{size:2}),a.createElement(J2,{onCloseTestId:"possibly-retail-and-old-worlds-available-preview",onClose:c,variant:"previewPS5"}))))}const e3=Km((({onClose:e})=>{const{t}=ec("PlayScreen.templateScreenNotAvailableInPreview"),n="backButton";return a.createElement(vE,{defaultFocusAlias:n},a.createElement(vE.Header,{onClose:e},t(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{center:!0,gamepadIndex:0,narrationText:t(".text")},t(".text"))),a.createElement(vE.Buttons,null,a.createElement(mg,{delayedClick:!0,onClick:e,autofocus:!0,gamepadAlias:n,inputLegend:t(".close"),variant:"primary"},t(".close")),a.createElement(om,{size:1})))})),t3="a8UZU";function n3({onClick:e,isShowingLanWorlds:t}){const{t:n}=ec("PlayScreen.filterButton"),l=(0,r.useFacetMap)((e=>n(e?".hideLanWorlds":".showLanWorlds")),[n],[t]),o=(0,r.useFacetMap)((e=>e?`${n(".hideLanWorlds")} . ${n(".componentRole")}`:`${n(".showLanWorlds")} . ${n(".componentRole")}`),[n],[t]),i=(0,r.useFacetCallback)(((t,a)=>()=>{e(),t.queueSnackbar(n(a?".hideLanWorldsNotification":".showLanWorldsNotification"))}),[e,n],[(0,r.useSharedFacet)(uc),t]);return a.createElement(hT,{inputLegend:l,narrationText:o,onClick:i,height:4.4,className:t3,variant:"neutral60",reflection:"bevel","data-testid":"all-worlds-filter-lan-button"},a.createElement(nM.LanHidden,{width:24,height:24,style:{display:(0,r.useFacetMap)((e=>e?"flex":"none"),[],[t])}}),a.createElement(nM.Lan,{width:24,height:24,style:{display:(0,r.useFacetMap)((e=>e?"none":"flex"),[],[t])}}))}function a3({isListLayout:e,onClick:t}){const{t:n}=ec("PlayScreen.layoutButton"),l=`${n(".toggleGrid")} . ${n(".componentRole")} . ${n(".toggleGridHint")}`,o=`${n(".toggleList")} . ${n(".componentRole")} . ${n(".toggleListHint")}`,i=`${n(".toggledLayout")} . ${n(".worldsInGrid")} . ${n(".pressToList")}`,c=`${n(".toggledLayout")} . ${n(".worldsInList")} . ${n(".pressToGrid")}`,{narrateText:s}=gf();return a.createElement(hT,{inputLegend:(0,r.useFacetMap)((e=>n(e?".toggleGrid":".toggleList")),[n],[e]),narrationText:(0,r.useFacetMap)((e=>e?l:o),[l,o],[e]),onClick:(0,r.useFacetCallback)((e=>()=>{t(),s(e?i:c)}),[t,s,i,c],[e]),height:4.4,variant:"neutral60",reflection:"bevel",className:t3,"data-testid":"all-worlds-layout-button"},a.createElement(nM.Grid,{width:24,height:24,style:{display:(0,r.useFacetMap)((e=>e?"flex":"none"),[],[e])}}),a.createElement(nM.List,{width:24,height:24,style:{display:(0,r.useFacetMap)((e=>e?"none":"flex"),[],[e])}}))}const r3="OFLmB",l3=n.p+"assets/world-preview-default-d0210.jpg",o3=n.p+"assets/cloud-sync-default-c5ac6.png";function i3(){const e=Fr();return a.createElement("div",{className:Dr()("JH_98",e.neutral80.background.base,e.neutral80.border.base)},a.createElement(FK,null))}function c3({amountOfPlayersOnline:e}){const t=(0,r.useFacetMap)((e=>e>0),[],[e]);return a.createElement(r.Mount,{when:t},a.createElement("div",{className:"zUh5O"},a.createElement(kK,{className:"oefxl"}),a.createElement(fm,{type:"captionShort"},e)))}const s3=Km((({onClose:e})=>{const{t}=ec("BannedOrSuspendedMessage"),{title:n,reasonCopy:l,bodyFirstParagraph:o,bodySecondParagraph:i,helpButtonCopy:c}=kI(),s=II(),u=(0,r.useFacetCallback)((e=>()=>{e.openLink(bu.BannedHelpPage)}),[],[(0,r.useSharedFacet)(yu)]);return a.createElement(vE,null,a.createElement(vE.Header,{onClose:e},n),a.createElement(vE.Content,null,a.createElement(vE.Text,{gamepadIndex:0,narrationText:l,center:!0},l),a.createElement(vE.Text,{gamepadIndex:0,narrationText:o,center:!0},o),a.createElement(vE.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),a.createElement(vE.Buttons,{horizontal:!0},a.createElement(mg,{horizontal:!0,variant:"secondary",inputLegend:t(".close"),onClick:e},t(".close")),a.createElement(om,{size:1}),a.createElement(wl,{data:s},(e=>a.createElement(mg,{"data-testid":"help-button-"+(e?"suspended":"banned"),horizontal:!0,variant:"primary",Icon:nM.ExternalLink,inputLegend:c,onClick:u},c)))))}));function u3({className:e,useGreyBorder:t}){const n=(0,r.useFacetMap)((t=>Dr()("zi9ei",{t9JFf:t},e)),[e],[(0,r.useFacetWrap)(null!=t&&t)]);return a.createElement("fast-div",{className:n})}function d3(e){const t=TI(),n=ok();return(0,r.useFacetMap)(((e,t,n)=>e&&(t||n)),[],[e,n,t])}function m3(e){const t=d3(e),n=rk();return(0,r.useFacetMap)(((e,t,n,a)=>!e&&t&&(n||!a.isOnline)),[],[t,e,n,(0,r.useSharedFacet)(il)])}function p3({children:e,className:t,position:n}){const r="top"==n?"hQAHC":"HeFdg",l=Fr("neutral80");return a.createElement("div",{className:Dr()("iyHX3",l.background.base,l.border.base,r,t)},a.createElement("div",{className:"AMHQv"},e))}function f3({id:e,title:t,subtitle:n,imageSrc:l,requiresCloudSync:o,tags:i,autofocus:c,onWorldClick:s,narrationIndex:u,onEdit:d,containerListLength:m,isMultiplayerWorld:p,amountOfPlayersOnline:f,isHardcore:g,playerHasDied:E,disable:h,metadataList:v,testId:b,itemRole:y,itemInputLegend:F,isLanWorld:S,hidePlayButton:C=!1}){const{t:M}=ec("WorldListItem"),{t:w}=ec("WorldListItem.narration"),k=Fr("neutral"),T=(0,r.useFacetWrap)(y),I=null!=d,P=(0,r.useFacetWrap)(null!=f?f:0),x=(0,r.useFacetMap)((e=>e>0),[],[P]),O=(0,r.useFacetWrap)(null!=v?v:[]),A=(0,r.useFacetMap)((e=>e.length>0),[],[O]),N=(0,r.useFacetMap)((e=>e.map((e=>e.displayText))),[],[O]),R=(0,r.useFacetWrap)(null!=o&&o),_=(0,r.useFacetWrap)(null!=g&&g),L=(0,r.useFacetWrap)(null!=E&&E),[D,W]=(0,r.useFacetState)(!1),B=(0,r.useFacetUnwrap)(e),U=(0,r.useFacetMap)(((e,t)=>t?o3:null!=e&&e.length?e:l3),[],[(0,r.useFacetWrap)(l),R]),z=(0,r.useFacetWrap)(u),j=(0,r.useFacetMap)(((e,t,n,a,r)=>[e,null!=r?r:w(S?".componentRoleLan":".componentRoleLocal"),t>0?w(".listLengthContext",[`${a}`,`${t}`]):void 0,n.map((e=>e.label)).join(", ")].filter(Boolean).join(" . ")),[w,S],[t,m,i,z,T]),H=(0,r.useFacetMap)((e=>{const t=[];return C||t.push([w(".play"),I?w(".buttonSiblings",["1","2"]):w(".button")]),t.push(...e.map((e=>e.narrationText))),t.filter(Boolean).join(" . ")}),[C,w,I],[O]),V=(0,r.useFacetCallback)((e=>()=>d&&d(e)),[d],[e]),G=(0,r.useFacetMap)((e=>null!=e?e:""),[],[(0,r.useFacetWrap)(null!=n?n:"")]),$=(0,r.useFacetMap)((e=>e.length>0),[],[G]),K=CV.useModal(),X=s3.useModal(),Y=TI(),q=d3(p),Q=m3(p),J=(0,r.useFacetMap)(((e,t)=>t&&e),[],[p,Y]),Z=(0,r.useFacetCallback)(((e,t)=>()=>{t?X.show():e?K.show():s()}),[s,X,K],[q,J]),ee=(0,r.useFacetMap)(((e,t,n)=>null!=n?n:e?"multiplayer-world-list-item-primary-action-"+(t-1):"world-list-item-primary-action-"+(t-1)),[],[p,z,(0,r.useFacetWrap)(b)]),te=(0,r.useFacetWrap)(S);return B==r.NO_VALUE?null:a.createElement(wf,{text:j,key:B},a.createElement(vw,{tall:!0,disableDeferredMount:!0},a.createElement(vw.Action,{testId:ee,autofocus:c,className:"cBqSA",inputLegend:null!=F?F:M(".play"),narrationText:H,onClick:Z,onFocusChanged:W,onHoverChanged:W,disabled:h},a.createElement("div",{className:Dr()("KeN0O",k.border.base,"CItpz")},a.createElement(r.Mount,{when:R},a.createElement(i3,null)),a.createElement(r.Mount,{when:te},a.createElement(p3,{position:"top"},a.createElement(nM.Lan,null))),a.createElement(Mp,{src:U,aspectRatio:Mp.AspectRatio["16:9"],isGrayscale:q}),a.createElement(r.Mount,{when:_},a.createElement(fO,{className:"wYfyI",animate:D,startFrame:8,dead:L})),a.createElement(r.Mount,{when:q},a.createElement("div",{className:r3},a.createElement(cy,{role:"destructiveTint"},M(".multiplayerDisabled")))),a.createElement(r.Mount,{when:Q},a.createElement("div",{className:r3},a.createElement(cy,{role:"destructiveTint"},M(".multiplayerWorldOffline")))),a.createElement(r.Mount,{when:_},a.createElement(u3,{useGreyBorder:L}))),a.createElement(vw.Main,null,a.createElement(fm,{type:"body",overflowEllipsis:!0},t),a.createElement(r.Mount,{when:$},a.createElement(fm,{type:"body",variant:"dimmer",overflowEllipsis:!0},G)),a.createElement("div",{className:"z4Nws"},a.createElement(r.Map,{array:i},(e=>a.createElement(g3,{tag:e}))))),a.createElement(r.Mount,{when:A},a.createElement("div",{className:"nebvH"},a.createElement(r.Map,{array:N},((e,t)=>a.createElement(fm,{type:"captionShort",variant:"dimmest",key:t,overflowEllipsis:!0},e))))),a.createElement(r.Mount,{when:x},a.createElement(vw.Cell,null,a.createElement("div",{className:"WQKAh"},a.createElement(c3,{amountOfPlayersOnline:P}))))),a.createElement(vw.AdditionalAction,{narrationText:[w(".edit"),w(".buttonSiblings",["2","2"])].join(" . "),inputLegend:M(".edit"),onClick:V,hidden:!I},a.createElement(nM.Edit,null),a.createElement(om,{size:2}),a.createElement(fm,{type:"captionShort",overflowEllipsis:!0},M(".edit"))),a.createElement(r.Mount,{when:X.isVisible},a.createElement(s3.Component,{onClose:X.hide})),a.createElement(r.Mount,{when:K.isVisible},a.createElement(CV.Component,{onClose:K.hide}))))}function g3({tag:e}){const t=(0,r.useFacetMap)((e=>e.role),[],[e]),n=(0,r.useFacetMap)((e=>e.label),[],[e]);return a.createElement(cy,{role:t},n)}function E3(e,t,n,a){let r=e>1?t*(e-1):0;return n&&a>1&&(r-=1),r}function h3({worldsPerPage:e,localWorlds:t,lanWorlds:n,lastPlayedWorld:a,totalAmountOfPages:l,heroItemSlots:o}){const i=m(),c=E(),s=(0,r.useFacetMap)((e=>{var t;return Number(null!==(t=e.get("page"))&&void 0!==t?t:"1")}),[],[c]),u=(0,r.useFacetMap)(((e,t)=>1==e&&null!=t),[],[s,a]),d=(0,r.useFacetMap)(((e,t)=>e>1&&null!=t),[],[s,a]),p=(0,r.useFacetMemo)(((e,t,n,a,r,l)=>{let i=(n-1)*a,c=i+a;return!r&&l&&1!=n&&(i-=o,c-=o),b2({rangeStart:i,rangeEnd:c,lanWorlds:e,localWorlds:t})}),[o],[n,t,s,e,u,d]),f=(0,r.useFacetMap)((e=>e.lanWorlds),[],[p]),g=(0,r.useFacetMap)((e=>e.localWorlds),[],[p]),h=(0,r.useFacetMap)(((e,t,n,a)=>e?1:E3(t,n,a,o)),[o],[u,s,e,d]),v=(0,r.useFacetMap)(((e,t,n,a,r)=>a?1+e.length:E3(n,t,r,o)+e.length),[o],[f,e,s,u,d]);return(0,r.useFacetEffect)(((e,t)=>{e<t&&setTimeout((()=>{i.replace("/play/all")}),1)}),[i],[l,s]),{currentLanWorldData:f,currentLocalWorldData:g,changeWorldGridPage:(0,r.useFacetCallback)((e=>t=>{e!=t&&i.replace(`/play/all/?page=${t}`)}),[i],[s]),localWorldIndexOffset:v,lanWorldIndexOffset:h}}function v3({world:e,index:t,indexOffset:n,totalNrOfWorlds:l,onWorldClick:o}){const i=(0,r.useFacetMap)((e=>e.id),[],[e]),c=(0,r.useFacetMap)((e=>e.name),[],[e]),s=(0,r.useFacetMap)((e=>e.isMultiplayerEnabled),[],[e]),u=WK(e,LK.LIST),d=(0,r.useFacetMap)((e=>e.previewImgPath),[],[e]),m=(0,r.useFacetMap)((e=>e.requiresCloudSync),[],[e]),p=(0,r.useFacetMap)((e=>e+t+1),[t],[n]),f=(0,r.useFacetMap)((e=>e.isHardcore),[],[e]),g=(0,r.useFacetMap)((e=>e.playerHasDied),[],[e]),E=h2(e),h=$V(e),v=(0,r.useFacetCallback)((e=>()=>{o(e),h()}),[h,o],[i]);return a.createElement(f3,{id:i,title:c,tags:u,imageSrc:d,requiresCloudSync:m,containerListLength:l,narrationIndex:p,onEdit:v2(e),onWorldClick:v,isMultiplayerWorld:s,isHardcore:f,playerHasDied:g,metadataList:E})}function b3({lanWorld:e,index:t,indexOffset:n,numberOfWorlds:l,onWorldClick:o}){const{t:i}=ec("WorldList"),c=(0,r.useFacetMap)((e=>e+t+1),[t],[n]),s=(0,r.useFacetMap)((e=>e.id),[],[e]),u=(0,r.useFacetMap)((e=>e.name),[],[e]),d=(0,r.useFacetMap)((e=>e.ownerName?i(".lanWorldOwner",[e.ownerName]):void 0),[i],[e]),p=DK(e,LK.LIST),f=(0,r.useFacetMap)((e=>e.playerCount),[],[e]),g=(0,r.useFacetMap)((e=>e.capacity>0&&e.capacity===e.playerCount),[],[e]),E=yX(s),h=(0,r.useFacetMap)((e=>e.doNotShowMultiplayerOnlineSafetyWarning),[],[(0,r.useSharedFacet)(sc)]),v=m(),b=(0,r.useFacetCallback)(((e,t)=>()=>{t?(o(e),E()):v.push(`/online-play-warning/${FX(tu.LAN)}/${e}`)}),[v,E,o],[s,h]);return a.createElement(f3,{testId:`lan-world-list-item-${t}`,id:s,title:u,subtitle:d,tags:p,containerListLength:l,narrationIndex:c,onWorldClick:b,amountOfPlayersOnline:f,worldFull:g,isMultiplayerWorld:(0,r.useFacetWrap)(!0),isLanWorld:!0})}function y3({lastPlayedWorld:e,localWorlds:t,lanWorlds:n,totalNrOfWorlds:l,onPagination:o}){const{setSelectedWorldId:i}=S2(),c=(0,a.useCallback)((e=>{i(e)}),[i]),s=(0,r.useFacetMap)((e=>Math.ceil(e/12)),[],[l]),{delegationEventFacet:u,delegateFocus:d}=mp(),m=(0,a.useRef)(null),p=(0,a.useRef)(null),f=E(),g=(0,r.useFacetMap)((e=>{var t;return Number(null!==(t=e.get("page"))&&void 0!==t?t:"1")}),[],[f]),h=(0,r.useFacetMap)(((e,t)=>1==e&&null!=t),[],[g,e]),v=(0,r.useFacetMap)(((e,t)=>1==e&&null!=t),[],[g,e]),b=(0,r.useFacetMap)((e=>e?11:12),[],[v]),{localWorldIndexOffset:y,currentLanWorldData:F,lanWorldIndexOffset:S,currentLocalWorldData:C,changeWorldGridPage:M}=h3({worldsPerPage:b,lanWorlds:n,localWorlds:t,lastPlayedWorld:e,totalAmountOfPages:s,heroItemSlots:1});return(0,r.useFacetEffect)((()=>{o(),d.first()}),[d,o],[f]),a.createElement(a.Fragment,null,a.createElement(fp,{delegationEvent:u},a.createElement(Fp,{containerRef:m,delegateFocusFromMemory:!0},a.createElement("div",{ref:m},a.createElement(r.Mount,{when:h},a.createElement(a.Fragment,null,a.createElement(v3,{world:e,indexOffset:(0,r.useFacetWrap)(0),index:0,totalNrOfWorlds:l,onWorldClick:c}),a.createElement(om,{size:2}))),a.createElement(r.Map,{array:F},((e,t)=>a.createElement(a.Fragment,null,t>0&&a.createElement(om,{size:2}),a.createElement(b3,{lanWorld:e,index:t,indexOffset:S,numberOfWorlds:l,onWorldClick:c})))),a.createElement(r.Mount,{when:(0,r.useFacetMap)((e=>e>0),[],[S])},a.createElement(om,{size:2})),a.createElement(r.Map,{array:C},((e,t)=>a.createElement(a.Fragment,null,t>0&&a.createElement(om,{size:2}),a.createElement(v3,{world:e,indexOffset:y,index:t,totalNrOfWorlds:l,onWorldClick:c})))),a.createElement(om,{size:3})))),a.createElement(Fp,{containerRef:p},a.createElement("div",{ref:p},a.createElement(LT,{totalPages:s,currentPage:g,onChange:M}))))}function F3(){return F3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},F3.apply(this,arguments)}function S3({children:e,role:t="neutral",className:n,containerRef:r}){const l=Fr(t),o=Dr()(l.text.base,l.border.base,n,"lEdfX");return a.createElement(Xa,{role:t},a.createElement("div",{ref:r,className:o},e))}function C3({children:e,onClick:t,inputLegend:n,onFocusChanged:l,onHoverChanged:o,narrationText:i,gamepadAlias:c,disabled:s=!1,testId:u,className:d,isAdditionalAction:m=!1}){const p=Fr("neutral"),f=Cr("neutral"),g=(0,r.useFacetMap)((e=>!0===e),[],[(0,r.useFacetWrap)(s)]),E=(0,r.useFacetWrap)(!1===n?"":n),h=(0,r.useFacetMap)(((e,t)=>!t&&e),[],[E,g]),v=(0,r.useFacetMap)((e=>Dr()(m?"":"nRqBl",e?"oBgkQ":p.background.base,p.background.hover,p.background.press,p.border.base)),[p,m],[g]),b=(0,r.useFacetMap)((e=>Dr()("Jc8Rm",e)),[],[(0,r.useFacetWrap)(null!=d?d:void 0)]),y=(0,r.useFacetMap)((e=>!0===e?void 0:f.press),[f],[g]),F=(0,r.useFacetCallback)((e=>()=>{e||t()}),[t],[g]);return a.createElement(em,{className:v,gamepadAlias:c,inputLegend:h,narrationText:i,onClick:F,onFocusChanged:l,onHoverChanged:o,soundEffectPressed:y,classNameDisabled:Ya.pressed,classNameFocused:Zm,"data-testid":u},a.createElement(Jm,null),a.createElement("fast-div",{className:b},e))}S3.Information=function({children:e,innerRef:t,narrationText:n,role:r="inherit",spacingSize:l=3,className:o}){Gz(n);const i=Fr(r),c=Dr()("nDjUk",i.text.base,i.border.base,o);return a.createElement("div",{className:c,ref:t},a.createElement(om,{size:l}),e)},S3.ActionWrapper=function({children:e}){const t=Fr(Ka()),n=Dr()(t.border.base,"SB02Y");return a.createElement("div",{className:n},e)},S3.Action=C3,S3.AdditionalAction=e=>a.createElement(C3,F3({},e,{isAdditionalAction:!0}));const M3="Kt3Zc",w3="yOzcR";function k3({src:e,isGrayscale:t,onClick:n}){const l=(0,a.useContext)(ld),o=cd(1.6),[i,c]=(0,r.useFacetState)(0),s=(0,a.useRef)(null),u=md(s);return(0,r.useFacetEffect)((({width:e},t,n)=>{if(0==e)return;const a=nd(n);c((e-(t+2*a))/(32/9)/e*100)}),[c],[u,o,l]),a.createElement("div",{ref:s,onClick:n,className:w3},a.createElement(Mp,{src:e,isGrayscale:t,paddingTopPercentage:i}))}function T3({src:e,isHero:t,isGrayscale:n,onClick:r}){return t?a.createElement(k3,{src:e,isGrayscale:n,onClick:r}):a.createElement("div",{onClick:r,className:w3},a.createElement(Mp,{src:e,isGrayscale:n,aspectRatio:Mp.AspectRatio["16:9"]}))}function I3({id:e,title:t,subtitle:n,imageSrc:l,requiresCloudSync:o,isLanWorld:i,tags:c,onWorldClick:s,narrationIndex:u,onEdit:d,containerListLength:m,amountOfPlayersOnline:p,isMultiplayerWorld:f,isHardcore:g,playerHasDied:E,className:h,testId:v,innerRef:b,isHero:y=!1,lastSaved:F}){const{t:S}=ec("WorldCard"),{t:C}=ec("WorldCard.narration"),M=(0,r.useFacetWrap)(null!=o&&o),w=(0,r.useFacetWrap)(null!=p?p:0),k=(0,r.useFacetWrap)(null!=g&&g),T=(0,r.useFacetWrap)(null!=E&&E),I=(0,r.useFacetMap)((e=>null!=e?e:""),[],[(0,r.useFacetWrap)(null!=n?n:"")]),[P,x]=(0,r.useFacetState)(!1),O=null!=d,A=nt(),N=(0,r.useFacetMap)((e=>O&&!e),[O],[A]),R=(0,r.useFacetMap)((e=>O&&e),[O],[A]),_=(0,r.useFacetWrap)(u),L=(0,r.useFacetMap)(((e,t,n,a)=>[e,C(i?".componentRoleLan":".componentRoleLocal"),t>0?C(".gridAmountContext",[`${a}`,`${t}`]):void 0,,n.map((e=>e.label)).join(", ")].filter(Boolean).join(" . ")),[C,i],[t,m,c,_]),D=(0,r.useFacetMap)(((e,t)=>t?o3:null!=e&&e.length>0?e:l3),[],[(0,r.useFacetWrap)(l),M]),W=(0,r.useFacetCallback)((e=>()=>d&&d(e)),[d],[e]),B=(0,r.useFacetMap)((e=>e?[C(".play"),C(".buttonSiblings",["1","2"])].join(" . "):[C(".play"),S(".button")].join(" . ")),[S,C],[N]),U=(0,r.useFacetMap)((e=>e.length>0),[],[I]),z=CV.useModal(),H=s3.useModal(),V=TI(),G=d3(f),$=m3(f),K=(0,r.useFacetMap)(((e,t)=>t&&e),[],[f,V]),X=(0,r.useFacetCallback)(((e,t)=>()=>{t?H.show():e?z.show():s()}),[s,z,H],[G,K]),Y=(0,a.useRef)(null),q=b||Y,Q=(0,r.useFacetMap)((e=>null!=e&&e.length>0),[],[(0,r.useFacetWrap)(null!=F?F:"")]),J=(0,r.useFacetWrap)(null!=i&&i);return a.createElement(Gr,null,a.createElement(wf,{text:L},a.createElement(S3,{containerRef:q,className:h},a.createElement(Fp,{containerRef:q,isGrid:!0,gridCellSizeAuto:!0,alias:(0,r.useFacetMap)((e=>`world-wrapper-${e}`),[],[e])},a.createElement("div",{className:"Iyhmu"},a.createElement(T3,{src:D,isGrayscale:G,isHero:y,onClick:X}),a.createElement(r.Mount,{when:G},a.createElement("div",{className:M3},a.createElement(cy,{role:"destructiveTint"},S(".multiplayerDisabled")))),a.createElement(r.Mount,{when:$},a.createElement("div",{className:M3},a.createElement(cy,{role:"destructiveTint"},S(".multiplayerWorldOffline")))),a.createElement(r.Mount,{when:M},a.createElement(p3,{position:"top"},a.createElement(FK,null))),a.createElement(r.Mount,{when:J},a.createElement(p3,{position:"top"},a.createElement(nM.Lan,null))),a.createElement(r.Mount,{when:k},a.createElement(fO,{className:"Mla9J",animate:P,startFrame:8,dead:T})),a.createElement(r.Mount,{when:k},a.createElement(u3,{className:"cu5Bl",useGreyBorder:T})),a.createElement(p3,{className:"VJxSb",position:"bottom"},a.createElement("div",{className:"C1eYK"},a.createElement(r.Map,{array:c},(e=>a.createElement(P3,{tag:e})))))),a.createElement(S3.ActionWrapper,null,a.createElement(S3.Action,{testId:(0,r.useFacetMap)(((e,t,n)=>null!=n?n:e?"multiplayer-world-card-primary-action-"+(t-1):"world-card-primary-action-"+(t-1)),[],[f,_,(0,r.useFacetWrap)(v)]),inputLegend:S(".play"),narrationText:B,onClick:X,onFocusChanged:x,onHoverChanged:x,gamepadAlias:(0,r.useFacetMap)((e=>`world-card-${e}`),[],[e])},a.createElement(cp,{effect:"bevel"}),a.createElement(S3.Information,{narrationText:t},a.createElement("div",{className:"m4dmf"},a.createElement("div",{className:"uzT7N"},a.createElement(fm,{type:"body",overflowEllipsis:!0},t),a.createElement(r.Mount,{when:U},a.createElement(fm,{type:"body",variant:"dimmer",overflowEllipsis:!0},I)),a.createElement(r.Mount,{when:Q},a.createElement(a.Fragment,null,a.createElement(om,{size:1}),a.createElement(fm,{type:"captionShort",variant:"dimmest",overflowEllipsis:!0},F)))),a.createElement("div",{className:"we6ve"},a.createElement(c3,{amountOfPlayersOnline:w}))))),a.createElement(r.Mount,{when:N},a.createElement(S3.AdditionalAction,{narrationText:[C(".edit"),C(".buttonSiblings",["2","2"])].join(" . "),inputLegend:S(".edit"),onClick:W,gamepadAlias:(0,r.useFacetMap)((e=>`world-button-${e}`),[],[e])},a.createElement("div",{className:"EAgZN"},a.createElement(cp,{effect:"bevel"}),a.createElement(nM.Edit,null))))),a.createElement(r.Mount,{when:R},a.createElement(Sf,{options:{button:j.X,inputLegend:S(".edit")},onClick:W})),a.createElement(r.Mount,{when:H.isVisible},a.createElement(s3.Component,{onClose:H.hide})),a.createElement(r.Mount,{when:z.isVisible},a.createElement(CV.Component,{onClose:z.hide}))))))}function P3({tag:e}){const t=(0,r.useFacetMap)((e=>e.role),[],[e]),n=(0,r.useFacetMap)((e=>e.label),[],[e]);return a.createElement(cy,{role:t},n)}const x3="NQ0qV",O3="MDEUm";function A3({localWorld:e,index:t,indexOffset:n,totalNrOfWorlds:l,onWorldClick:o,isHero:i=!1}){const c=(0,r.useFacetMap)((e=>e.isMultiplayerEnabled),[],[e]),s=(0,r.useFacetMap)((e=>e.id),[],[e]),u=(0,r.useFacetMap)((e=>e.name),[],[e]),d=E2((0,r.useFacetMap)((e=>e.lastSaved),[],[e])),m=(0,r.useFacetMap)((e=>{if(!(e.length<1))return e[0].displayText}),[],[d]),p=(0,r.useFacetMap)((e=>e.previewImgPath),[],[e]),f=WK(e,LK.GRID),g=(0,r.useFacetMap)((e=>e.requiresCloudSync),[],[e]),E=(0,r.useFacetMap)((e=>e+t+1),[t],[n]),h=(0,r.useFacetMap)((e=>e.isHardcore),[],[e]),v=(0,r.useFacetMap)((e=>e.playerHasDied),[],[e]),b=$V(e),y=(0,a.useRef)(null),F=i?"WMuG6":x3,S=(0,r.useFacetCallback)((e=>()=>{o(e),b()}),[o,b],[s]);return a.createElement("div",{ref:y,className:F},a.createElement(I3,{id:s,className:O3,title:u,imageSrc:p,requiresCloudSync:g,tags:f,containerListLength:l,narrationIndex:E,isHardcore:h,playerHasDied:v,onEdit:v2(e),onWorldClick:S,isMultiplayerWorld:c,innerRef:y,isHero:i,lastSaved:m}))}function N3({lanWorld:e,index:t,indexOffset:n,totalNrOfWorlds:l,onWorldClick:o}){const{t:i}=ec("WorldGrid"),c=(0,r.useFacetMap)((e=>e+t+1),[t],[n]),s=(0,r.useFacetMap)((e=>e.id),[],[e]),u=(0,r.useFacetMap)((e=>e.name),[],[e]),d=(0,r.useFacetMap)((e=>e.ownerName?i(".lanWorldOwner",[e.ownerName]):void 0),[i],[e]),p=DK(e,LK.GRID),f=(0,r.useFacetMap)((e=>e.playerCount),[],[e]),g=(0,r.useFacetMap)((e=>e.capacity>0&&e.capacity===e.playerCount),[],[e]),E=yX(s),h=(0,r.useFacetMap)((e=>e.doNotShowMultiplayerOnlineSafetyWarning),[],[(0,r.useSharedFacet)(sc)]),v=m(),b=(0,r.useFacetCallback)(((e,t)=>()=>{t?(o(e),E()):v.push(`/online-play-warning/${FX(tu.LAN)}/${e}`)}),[v,E,o],[s,h]),y=(0,a.useRef)(null);return a.createElement("div",{ref:y,className:x3},a.createElement(I3,{testId:`lan-world-card-${t}`,id:s,className:O3,title:u,subtitle:d,tags:p,amountOfPlayersOnline:f,worldFull:g,containerListLength:l,narrationIndex:c,onWorldClick:b,isMultiplayerWorld:(0,r.useFacetWrap)(!0),innerRef:y,isLanWorld:!0}))}function R3({lastPlayedWorld:e,localWorlds:t,lanWorlds:n,totalNrOfWorlds:l,onPagination:o}){const{setSelectedWorldId:i}=S2(),c=(0,a.useCallback)((e=>{i(e)}),[i]),s=(0,r.useFacetMap)(((e,t,n)=>{let a=t.length+n.length;return null!=e&&(a+=2),Math.ceil(a/12)}),[],[e,t,n]),{delegationEventFacet:u,delegateFocus:d}=mp(),m=(0,a.useRef)(null),p=(0,a.useRef)(null),f=E(),g=(0,r.useFacetMap)((e=>{var t;return Number(null!==(t=e.get("page"))&&void 0!==t?t:"1")}),[],[f]),h=(0,r.useFacetMap)(((e,t)=>1==e&&null!=t),[],[g,e]),v=(0,r.useFacetMap)((e=>e?10:12),[],[h]),{localWorldIndexOffset:b,currentLanWorldData:y,lanWorldIndexOffset:F,currentLocalWorldData:S,changeWorldGridPage:C}=h3({worldsPerPage:v,lanWorlds:n,localWorlds:t,lastPlayedWorld:e,totalAmountOfPages:s,heroItemSlots:2});return(0,r.useFacetEffect)((()=>{o(),d.first()}),[d,o],[f]),a.createElement(a.Fragment,null,a.createElement(fp,{delegationEvent:u},a.createElement(Fp,{containerRef:m,isGrid:!0,gridCellSizeAuto:!0},a.createElement("div",{className:"HSQD4",ref:m},a.createElement(r.Mount,{when:h},a.createElement(A3,{localWorld:e,index:0,indexOffset:(0,r.useFacetWrap)(0),totalNrOfWorlds:l,onWorldClick:c,isHero:!0})),a.createElement(r.Map,{array:y},((e,t)=>a.createElement(N3,{lanWorld:e,index:t,indexOffset:F,totalNrOfWorlds:l,onWorldClick:c}))),a.createElement(r.Map,{array:S},((e,t)=>a.createElement(A3,{localWorld:e,index:t,indexOffset:b,totalNrOfWorlds:l,onWorldClick:c})))),a.createElement(om,{size:3}))),a.createElement(Fp,{containerRef:p,delegateFocusFromMemory:!0},a.createElement("div",{ref:p},a.createElement(LT,{totalPages:s,currentPage:g,onChange:C}))))}function _3(){const e=(0,r.useSharedFacet)(KV),t=nk(),n=rk(),a=(0,r.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(fu.Platform_PlayStation)||e.userPermissions.multiplayer.denyReasons.includes(fu.Platform_NintendoSwitch)),[],[(0,r.useSharedFacet)(hu)]);return(0,r.useFacetMap)(((e,t,n,a,r)=>{const l=e.isLANAllowed&&!a&&!n&&!r;return{worlds:null!=t.lanWorlds&&l?t.lanWorlds:[],areLANWorldsAllowed:l}}),[],[(0,r.useSharedFacet)(il),e,t,n,a])}function L3(){const[e,t]=(0,r.useFacetState)(null),n=a.useMemo((()=>({getSelectedWorldId:()=>e,setSelectedWorldId:e=>t(e)})),[t,e]),l=(0,r.useSharedFacet)(Rs),o=(0,r.useSharedFacet)(vu),i=HK(),c=_3(),s=(0,r.useFacetMap)((e=>e.length>0?e[0]:null),[],[i.data]),u=(0,r.useFacetMap)((e=>e.slice(1)),[],[i.data]),d=(0,r.useFacetMap)(((e,t,n)=>(e?1:0)+t.length+n.worlds.length),[],[s,u,c]),f=(0,r.useFacetMap)((e=>e.playScreenShowLanWorlds),[],[l]),g=(0,r.useFacetMap)((e=>e.areLANWorldsAllowed),[],[c]),E=(0,r.useFacetMap)(((e,t,n)=>e&&n?t.worlds:[]),[],[f,c,g]),h=e3.useModal(),v=function(e){const{t}=ec("PlayScreen.AllWorldsTab.ButtonHeader"),n=Ju(),a=(0,r.useSharedFacet)(il),l=(0,r.useSharedFacet)(Vu),o=(0,r.useSharedFacet)(qu),i=(0,r.useSharedFacet)(vu),c=Tv(Ii.NewPlayScreenB),s=Tv(Ii.NewPlayScreenD),u=Tv(Ii.NewTrialModeFlow),d=Tv(Ii.CreateFromAddOn),p=(0,r.useFacetMap)((e=>e&&u),[u],[i]),f=(0,r.useFacetMap)(((e,t)=>t.isTemplateScreenAvailable&&(e||c||s)),[c,s],[p,o]),g=iq(),E=function({templatesNotAvailableInPreview:e}){const t=m(),n=(0,r.useSharedFacet)(il),a=(0,r.useSharedFacet)(qu),l=Ju();return(0,r.useFacetCallback)(((n,a)=>()=>{if(l({button:"CreateFromTemplate",screen:"Play"}),!a.isTemplateScreenAvailable)return void e();const r=`/start-from-template/${n.isOnline?tY.MarketplacePass:tY.OwnedByMe}`;t.push(r)}),[l,t,e],[n,a])}(e),h=(0,r.useFacetCallback)((e=>()=>{n({button:"ImportWorld",screen:"Play"}),e.importWorld.run()}),[n],[l]),v=(0,r.useFacetMap)((e=>Zw(e.platform,e.arvrPlatform)),[],[a]),b=(0,r.useFacetMemo)(((e,n,a)=>{const r=n?[{variant:"primary",text:t(".createNewWorld"),narrationSuffix:t(".createNewWorldNarration"),onClick:a?g:E,gamepadAlias:"play-cnw-button"}]:[{variant:"primary",text:t(".createNewWorld"),narrationSuffix:t(".createNewWorldNarration"),onClick:g,gamepadAlias:"play-cnw-button"},{variant:"secondary",text:t(d?".createFromContent":".createFromTemplate"),narrationSuffix:t(d?".createFromContentNarration":".createFromTemplateNarration"),onClick:E}];if(e&&!a){const e={text:t(".importWorld"),variant:"secondary",narrationSuffix:t(".importWorldNarration"),onClick:h,imgSrc:$2};r.push(e)}return r}),[t,g,E,h,d],[v,f,p]);return b}({templatesNotAvailableInPreview:h.show});!function(){const e=(0,r.useSharedFacet)(Vu),t=(0,r.useFacetCallback)((e=>()=>{e.importWorld.clear()}),[],[e]),n=(0,r.useFacetMap)((e=>e.importWorld.result),[],[e]);(0,r.useFacetEffect)((e=>{(e===Hu.Success||Hu.InterruptedByUser)&&t()}),[t],[n])}();const b="narrow"===sd(102),y=(0,a.useRef)(!0),F=(0,r.useFacetMap)((e=>y.current&&e.playScreenWorldLayoutMode===Ns.Default?b:e.playScreenWorldLayoutMode===Ns.List),[b],[l]),S=(0,r.useFacetCallback)(((e,t)=>()=>{y.current=!1,e.playScreenWorldLayoutMode=t?Ns.Grid:Ns.List}),[],[l,F]),C=(0,r.useFacetCallback)(((e,t)=>()=>e.playScreenShowLanWorlds=!t),[],[l,f]),M=(0,r.useFacetMap)(((e,t)=>e&&t.length<1),[],[i.isEmpty,E]),w=(0,r.useFacetMap)(((e,t)=>!e&&t),[],[o,g]),k=function(){const e=(0,a.useRef)(null);return(0,r.useFacetLayoutEffect)((t=>{!t&&e.current&&(e.current.scrollTop=0)}),[],[p()]),e}(),T=(0,a.useCallback)((()=>{k.current&&(k.current.scrollTop=0)}),[k]),I=(0,a.useRef)(null),P=(0,r.useFacetMap)(((e,t)=>e?"no-worlds":t?"list-layout":"grid-layout"),[],[M,F]),x=(0,r.useFacetWrap)(Tv(Ii.NewAllWorldsDesign));return a.createElement(F2.Provider,{value:n},a.createElement(wl,{data:P},(e=>"no-worlds"===e?a.createElement(W3,null,a.createElement(Y2,{filterButton:a.createElement(r.Mount,{when:w},a.createElement(n3,{isShowingLanWorlds:f,onClick:C})),navigationButtons:v})):a.createElement(D3,{innerRef:k,alwaysVisibleChildren:a.createElement(Fp,{containerRef:I,delegateFocusFromMemory:!0,alias:"play-screen-button-headers",delegateFocusByAlias:"play-cnw-button"},a.createElement("div",{ref:I},a.createElement(Z2,null),a.createElement(om,{size:2}),a.createElement(Y2,{layoutButton:a.createElement(a3,{isListLayout:F,onClick:S}),filterButton:a.createElement(r.Mount,{when:w},a.createElement(n3,{isShowingLanWorlds:f,onClick:C})),navigationButtons:v}),a.createElement(om,{size:2})))},"list-layout"===e?a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:x,condition:!1},a.createElement(w2,{onPagination:T,localWorlds:i.data,lanWorlds:E})),a.createElement(r.Mount,{when:x},a.createElement(y3,{onPagination:T,lastPlayedWorld:s,localWorlds:u,lanWorlds:E,totalNrOfWorlds:d}))):a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:x,condition:!1},a.createElement(A2,{onPagination:T,localWorlds:i.data,lanWorlds:E})),a.createElement(r.Mount,{when:x},a.createElement(R3,{onPagination:T,lastPlayedWorld:s,localWorlds:u,lanWorlds:E,totalNrOfWorlds:d})))))),a.createElement(r.Mount,{when:h.isVisible},a.createElement(e3.Component,{onClose:h.hide})),a.createElement(G2,null),a.createElement(ly,{type:"contentful",renderingCompleted:!0}))}function D3({children:e,alwaysVisibleChildren:t,innerRef:n}){const l=(0,r.useIsPaused)();return a.createElement(Ef,{alwaysVisibleChildren:t,loading:l,innerRef:n,gamepadAlias:"content-wrapper",delegateFocusByAlias:"play-screen-button-headers",delegateFocusFromMemory:!0,renderTracker:e=>a.createElement(ly,{renderingCompleted:e,type:"meaningful"})},e,a.createElement(om,{size:2}),a.createElement(ST,{tab:"all"}),a.createElement(om,{size:1}))}function W3({children:e}){return a.createElement(Ef,{floating:!0,renderTracker:e=>a.createElement(Hr,{renderingCompleted:e,type:"meaningful"})},a.createElement(Z2,null),a.createElement(om,{size:2}),e,a.createElement(om,{size:2}),a.createElement(R2,null),a.createElement(ly,{type:"meaningful",renderingCompleted:!0}),a.createElement(om,{size:3}),a.createElement(ST,{tab:"all"}))}const B3="Play";var U3;!function(e){e.All="all",e.Realms="realms",e.Servers="servers"}(U3||(U3={}));const z3={[U3.All]:"AllWorldsTab",[U3.Servers]:"ServersTab",[U3.Realms]:"RealmsTab"},j3=()=>{const{t:e}=ec("PlayScreen");return a.createElement(AP,{debugDrawer:["create-test-world","debug-import-worlds"],friendsDrawer:!0,gamepadAlias:"play-layout-content",delegateByAlias:"play-screen-tab-bar-wrapper",screenAnalyticsId:B3,title:e(".title")},(({isAnyDrawerOpen:e})=>a.createElement(a.Fragment,null,a.createElement(Yv,null,a.createElement(Yv.Row,{gamepadIndex:0},a.createElement(Yv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},a.createElement(om,{size:2}),a.createElement(G3,{disableShortcuts:e}))),a.createElement(iy,{route:"all",Component:L3,wideSize:12,narrowSize:8}),a.createElement(iy,{route:"realms",Component:R1,wideSize:12,narrowSize:8}),a.createElement(iy,{route:"servers",Component:f2,wideSize:12,narrowSize:8}),a.createElement(iE.Space,null)))))},H3=Math.ceil(100*Math.random()),V3=9600===Math.ceil(9600*Math.random())?f0:10===H3?p0:m0,G3=({disableShortcuts:e})=>{const t=Se(),n="play-screen",{t:l}=ec("PlayScreen"),o=Yr(),i=qr(),c=Ju(),s=(0,r.useFacetMap)((e=>!e),[],[e]),u=(0,r.useFacetCallback)((e=>a=>{c({button:z3[a],screen:B3}),"realms"===a&&null!=e?o.replace(`/play/realms/${e}`):o.replace(`/play/${a}`),t(o0.getFocusAlias(n,a))}),[o,t,c],[m1()]),d=HK(),m=(0,r.useFacetMap)((e=>e.worlds),[],[_3()]),p=(0,r.useFacetMap)(((e,t)=>Jw(e.platform)&&!t?[l(".narration.title"),l(".friendsDrawerShortcut",["Y"])].join(" . "):-1!==e.inputMethods.indexOf(Ge.TOUCH)?[l(".narration.title"),l(".mobileFriendsDrawerNarration")].join(" . "):""),[l],[(0,r.useSharedFacet)(il),nt()]),f=function(e,t){const n=(0,r.useSharedFacet)(Rs);return(0,r.useFacetMap)(((e,t,n)=>{const a=n.playScreenShowLanWorlds?t.length:0;return e.length+a}),[],[e,t,n])}(d.data,m),g=(0,r.useFacetMap)((e=>l(".allWorlds",[`${e}`])),[l],[f]),E=(0,r.useFacetMap)((e=>[{label:e,value:U3.All,icons:{selected:a.createElement(uO,{iconSrc:V3,selected:!0}),unselected:a.createElement(uO,{iconSrc:V3,selected:!1})},"data-testid":"play-screen-tab-bar-all"},{label:l(".realms"),value:U3.Realms,icons:{selected:a.createElement(uO,{iconSrc:d0,selected:!0}),unselected:a.createElement(uO,{iconSrc:d0,selected:!1})},"data-testid":"play-screen-tab-bar-realms"},{label:l(".servers"),value:U3.Servers,icons:{selected:a.createElement(uO,{iconSrc:u0,selected:!0}),unselected:a.createElement(uO,{iconSrc:u0,selected:!1})},"data-testid":"play-screen-tab-bar-servers"}]),[l],[g]);return a.createElement(o0,{gamepadAliasNamespace:n,value:i.tab?i.tab:U3.All,onChange:u,tabs:E,enableGamepadShortcuts:s,narrationTitle:p})},$3="LJYQ9",K3=n.p+"assets/save-27aad.png";function X3(){return X3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},X3.apply(this,arguments)}const Y3=e=>{let{className:t}=e,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className"]);const r=Ip("E5OBz",t);return a.createElement(Mp,X3({},n,{className:r,src:K3,imageRendering:"pixelated"}))};let q3;!function(e){e.ExternalServer="ExternalServer"}(q3||(q3={}));const Q3=Km((({externalServerWorldError:e,onClose:t})=>{const{t:n}=ec("PlayScreen.serverTab.addServerError"),r="pop-up-modal-AddServerErrorModal",l=$m(),o=function(e){switch(e){case ki.NameIsEmpty:return".nameError";case ki.AddressIsEmpty:return".addressError";case ki.InvalidIpAddress:return".ipAddressError";case ki.InvalidPortNumber:return".portError";case ki.IdNotFound:case ki.UnknownError:default:return".genericError"}}(e),i=()=>{l(),t()};return a.createElement(vE,{defaultFocusAlias:r},a.createElement(vE.Header,{onClose:i},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:n(o),gamepadIndex:0,center:!0},n(o))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:r,inputLegend:n(".closeButton"),onClick:i},n(".closeButton"))))})),J3="go-back-server-modal",Z3=Km((({onDeleteServer:e,onClose:t})=>{const{t:n}=ec("PlayScreen.serverTab.confirmDeletion");return a.createElement(vE,{defaultFocusAlias:J3},a.createElement(vE.Header,{onClose:t},n(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:n(".message"),gamepadIndex:0,center:!0},n(".message"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:J3,inputLegend:n(".goBackButton"),variant:"secondary",onClick:t},n(".goBackButton")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:n(".deleteButtonInputLegend"),variant:"destructive",onClick:()=>{e(),t()}},n(".deleteButton"))))})),e5="save-button-unsaved-changes-server-modal",t5=Km((({onSaveChanges:e,onDiscardChanges:t,onClose:n,localization:l="unsavedChanges"})=>{const{t:o}=ec(`PlayScreen.serverTab.${l}`),i=(0,r.useFacetCallback)((()=>()=>{n(),t()}),[t,n],[]);return a.createElement(vE,{defaultFocusAlias:e5},a.createElement(vE.Header,{onClose:n},o(".title")),a.createElement(vE.Content,null,a.createElement(vE.Text,{narrationText:o(".message"),gamepadIndex:0,center:!0},o(".message"))),a.createElement(vE.Buttons,null,a.createElement(mg,{gamepadAlias:e5,inputLegend:o(".discardChangesButtonInputLegend"),variant:"secondary",onClick:i},o(".discardChangesButton")),a.createElement(om,{size:1}),a.createElement(mg,{inputLegend:o(".saveChangesButtonInputLegend"),variant:"primary",onClick:()=>{e(),n()}},o(".saveChangesButton"))))})),n5=19132,a5=65535,r5=()=>{const e=(0,r.useSharedFacet)(rc),t=(0,r.useSharedFacet)(Ti),n=(0,r.useSharedFacet)(cc),l=(0,r.useSharedFacet)(uc),o=(0,r.useSharedFacet)(sc),i=Q3.useModal(),c=Z3.useModal(),s=t5.useModal(),u=Zu(),[d,p]=(0,a.useState)(void 0),[g,E]=(0,r.useFacetState)(!1),h=m(),v=function(){const e=f();return(0,r.useFacetMap)((e=>e.id),[],[e])}(),b=Fr("neutral"),y=(0,r.useFacetMap)((e=>null!=e),[],[v]),F="narrow"===sd(),{t:S}=tc("PlayScreen.serverTab.serverForm"),[C,M]=(0,r.useFacetState)(!1),[w,k]=(0,r.useFacetState)(""),T=(0,r.useFacetMap)((e=>e.networkDetails.name),[],[e]),I=(0,r.useFacetMap)((e=>e.networkDetails.port.toString()),[],[e]),[P,x]=(0,r.useFacetState)(n5.toString()),O=(0,r.useFacetMap)((e=>e.networkDetails.address),[],[e]),A=(0,r.useFacetMap)((e=>e.doNotShowMultiplayerIpSafetyWarning),[],[o]),[N,R]=(0,r.useFacetState)(""),_=(0,r.useFacetCallback)((()=>e=>{k(e),E(!0)}),[k,E],[]),L=(0,r.useFacetCallback)((()=>e=>{R(e),E(!0)}),[R,E],[]),D=(0,r.useFacetCallback)((()=>e=>{x(e),E(!0)}),[x,E],[]),W=(0,r.useFacetCallback)((e=>t=>{if(e)return;i.show(),p(t);const n={modalReason:ki[t]};u({modal:"AddJoinExternalServerError",screen:q3.ExternalServer,details:n})}),[p,i,u],[i.isVisible]),B=(0,a.useCallback)((()=>{k(""),R(""),x(n5.toString()),E(!1)}),[k,R,x,E]),U=(0,r.useFacetCallback)((e=>t=>{e.queueSnackbar(t)}),[],[l]),z=(0,r.useFacetCallback)(((e,t,n,a)=>()=>{const r=e.addExternalServerWorld(t,n,parseInt(a));return E(!0),null!=r?W(r):(U(S(".serverAddedNotification")),null!=e.addedServerId?(h.goBack(),h.replace(`/play/servers/${e.addedServerId}/${FX(tu.External)}`)):h.goBack(),B()),r}),[E,U,S,W,h,B],[t,w,N,P]),j=(0,r.useFacetMap)((e=>e.joinExternalServerTaskState),[],[n]),H=(0,r.useFacetMap)((e=>e.joinExternalServerResult),[],[n]),V=(0,r.useFacetCallback)((e=>()=>{e.clearJoinExternalServerTaskState()}),[],[n]),G=uk((e=>function*(t){e.joinExternalServer(t),yield j,e.clearJoinExternalServerTaskState()}),[j],[n]),$=(0,r.useFacetCallback)(((e,t)=>()=>{null==z()&&(t?G(String(e.addedServerId)):h.push(`/online-play-warning/${FX(tu.External)}/${e.addedServerId}`))}),[G,z,h],[t,A]),K=(0,r.useFacetCallback)(((e,t)=>()=>{if(null!=t){const n=e.removeExternalServerWorld(parseInt(t));n?W(n):(M(!0),U(S(".serverDeletedNotification")),h.goBack())}}),[W,U,S,M,h],[t,v]),X=(0,r.useFacetCallback)(((e,t,n,a,r)=>()=>{if(null!=t){const l=e.editExternalServerWorld(parseInt(t),n,a,parseInt(r));l?W(l):(U(S(".serverEditedNotification")),h.goBack())}}),[W,U,S,h],[t,v,w,N,P]),Y=(0,r.useFacetCallback)((e=>()=>{e?s.show():(B(),h.goBack())}),[h,s,B],[g]);(0,r.useFacetEffect)(((e,t,n,a)=>{a&&(k(e),R(t),x(n))}),[k,R,x],[T,O,I,y]);const q=(0,r.useFacetMap)((e=>null!=e&&e!==lc.OK),[],[H]);return a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:C,condition:!1},a.createElement(Iv,null,a.createElement(wl,{data:y},(e=>e?a.createElement(wf,{text:S(".editServerNarration")},a.createElement($v,{onBackButton:Y,center:a.createElement(fm,{type:"header5A"},S(".editServerTitle")),footer:F?a.createElement(a.Fragment,null,a.createElement(l5,{isEditing:!0,primaryCallback:X,secondaryCallback:c.show}),a.createElement(iE.Space,null)):a.createElement(iE.Space,null),gamepadAlias:"external-server-form-creating"},a.createElement(Ef,null,a.createElement(Yv,null,a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:1,narrowSize:1,disabled:!0}),a.createElement(Yv.Column,{wideSize:10,narrowSize:6},a.createElement("div",{className:Dr()(b.border.base,$3)},a.createElement(gy,{label:S(".serverNameLabel"),value:w,onChange:_,placeholder:S(".serverNamePlaceholder"),filterProfanity:!0}),a.createElement(o5,{address:N,setAddress:L}),a.createElement(i5,{port:P,setPort:D}),F?null:a.createElement(l5,{isEditing:!0,primaryCallback:X,secondaryCallback:c.show}))),a.createElement(Yv.Column,{wideSize:1,narrowSize:1,disabled:!0})))))):a.createElement(wf,{text:S(".newServerNarration")},a.createElement($v,{onBackButton:Y,center:a.createElement(fm,{type:"header5A"},S(".newServerTitle")),footer:F?a.createElement(a.Fragment,null,a.createElement(l5,{primaryCallback:$,secondaryCallback:z,isEditing:!1}),a.createElement(iE.Space,null)):a.createElement(iE.Space,null),gamepadAlias:"external-server-form-creating"},a.createElement(Ef,null,a.createElement(Yv,null,a.createElement(Yv.Row,null,a.createElement(Yv.Column,{wideSize:1,narrowSize:1}),a.createElement(Yv.Column,{wideSize:10,narrowSize:6},a.createElement("div",{className:Dr()(b.border.base,$3)},a.createElement(gy,{label:S(".serverNameLabel"),value:w,onChange:_,placeholder:S(".serverNamePlaceholder"),filterProfanity:!0}),a.createElement(o5,{address:N,setAddress:L}),a.createElement(i5,{port:P,setPort:D}),F?null:a.createElement(l5,{primaryCallback:$,secondaryCallback:z,isEditing:!1})))))))))),a.createElement(r.Mount,{when:i.isVisible},a.createElement(Q3.Component,{externalServerWorldError:d,onClose:i.hide})),a.createElement(r.Mount,{when:c.isVisible},a.createElement(Z3.Component,{onDeleteServer:K,onClose:c.hide})),a.createElement(r.Mount,{when:s.isVisible},a.createElement(a.Fragment,null,a.createElement(r.Mount,{when:y},a.createElement(t5.Component,{onSaveChanges:X,onDiscardChanges:h.goBack,onClose:s.hide})),a.createElement(r.Mount,{when:y,condition:!1},a.createElement(t5.Component,{onSaveChanges:s.hide,onDiscardChanges:h.goBack,onClose:s.hide,localization:"unsavedAddChanges"})))))),a.createElement(r.Mount,{when:q},a.createElement(r2.Component,{onClose:V})))};function l5({isEditing:e,primaryCallback:t,secondaryCallback:n}){const r=Fr("neutral"),{t:l}=tc("PlayScreen.serverTab.serverForm");return a.createElement("div",{className:Dr()("tjKwl",r.background.base,r.bevel.base,"qVLLi")},a.createElement(mg,{horizontal:!0,inputLegend:l(e?".deleteServerButton":".addServerButton"),onClick:n,variant:e?"destructive":"secondary",Icon:e?Dw:void 0},l(e?".deleteServerButton":".addServerButton")),a.createElement(FT.ButtonSpacing,null),a.createElement(mg,{horizontal:!0,inputLegend:l(e?".saveChangesButton":".addAndPlayButton"),onClick:t,variant:"primary",Icon:e?Y3:void 0},l(e?".saveChangesButton":".addAndPlayButton")))}function o5({address:e,setAddress:t}){const{t:n}=tc("PlayScreen.serverTab.serverForm");return a.createElement(gy,{label:n(".serverAddressLabel"),onChange:t,placeholder:n(".serverAddressPlaceholder"),value:e,filterProfanity:!0})}function i5({port:e,setPort:t}){const{t:n}=tc("PlayScreen.serverTab.serverForm"),{narrateText:r}=gf({interruptible:!1}),l=(0,a.useCallback)(((e,t)=>{const a=e.match(/^[0-9]*$/g);return 0!==e.length&&a?parseInt(e)>a5?(r(n(".serverPortNotWithinRange",[a5.toString()])),t(a5.toString()),Sg.ValidationResult.INVALID):Sg.ValidationResult.VALID:(r(n(".serverPortInvalidValue",[n5.toString()])),t(n5.toString()),Sg.ValidationResult.INVALID)}),[r,n]);return a.createElement(gy,{label:n(".serverPortLabel"),onBlur:l,onChange:t,value:e,isNumber:!0})}function c5(){return a.createElement(sv,{scalingMode:"legacy",defaultRoute:"/create-new-world",scope:["in-game","out-of-game"],errorComponent:Sv,gamepadAdapterVersion:MZ.VISUAL,semanticCollection:_D},a.createElement(Qr,{route:"/idle-route",component:t0,modes:["overlay","grab-mouse"],transitionComponent:Kr}),a.createElement(Qr,{route:"/friends-drawer",modes:["overlay"],component:r0,transitionComponent:Kr}),a.createElement(Qr,{route:"/achievements/:tab?",component:WM,transitionComponent:Cv}),a.createElement(Qr,{route:"/achievement-detail/:id",component:hy,transitionComponent:Cv}),a.createElement(M,{from:"/new-player-path",to:"/new-player-path/mode"}),a.createElement(Qr,{route:"/new-player-path/mode",component:nZ,transitionComponent:Cv}),a.createElement(Qr,{route:"/new-player-path/survival/difficulty",component:sZ,transitionComponent:Cv}),a.createElement(Qr,{route:"/new-player-path/character-selector/:mode/:difficulty",component:KJ,transitionComponent:Cv}),a.createElement(Qr,{route:"/new-player-path/:mode/:difficulty/touch-control-selection",component:yZ,transitionComponent:Cv}),a.createElement(Qr,{route:"/new-player-path/summary/:mode/:difficulty",component:FZ,transitionComponent:Cv}),a.createElement(Qr,{route:"/create-new-world/seed-templates",component:zQ.SeedTemplatesRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/create-new-world/:tab/:worldTemplateId?",component:zQ.CreateNewWorldRoute,transitionComponent:Cv}),a.createElement(M,{from:"/create-new-world",to:"/create-new-world/general"}),!1,a.createElement(Qr,{route:"/play/touch-control-selection/:id",component:CZ,transitionComponent:Cv}),a.createElement(Qr,{route:"/realms-pdp",component:zQ.RealmsPDPRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/realms-plan-picker",component:zQ.RealmsPlanPickerRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/join-realms-server",component:zQ.JoinRealmsServerRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/join-realms-server/:code",component:zQ.JoinRealmsServerTransientRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/play/servers/add",component:r5,transitionComponent:Cv}),a.createElement(Qr,{route:"/play/:tab/:id?/:type?",component:j3,transitionComponent:Cv}),a.createElement(Qr,{route:"/play/servers/:id/:type/edit",component:r5,transitionComponent:Cv}),a.createElement(Qr,{component:zQ.OnlinePlayWarningTransientRoute,route:"/online-play-warning/:type/:id?",transitionComponent:Cv}),a.createElement(M,{from:"/play",to:"/play/all"}),a.createElement(Qr,{route:"/start-from-template/:tab",component:zQ.StartFromTemplateRoute,transitionComponent:Cv}),a.createElement(M,{from:"/start-from-template",to:"/start-from-template/marketplace-pass"}),a.createElement(Qr,{route:"/mobile-data-blocked-modal/show-modal",component:zQ.MobileDataBlockedModalRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/render-distance-warning-modal",component:zx,transitionComponent:Kr}),a.createElement(Qr,{route:"/touch-control-selection",component:SZ,transitionComponent:Cv}),a.createElement(Qr,{route:"/realms-choose-realm/:tab",component:zQ.ChooseRealmRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/realms-choose-slot/:id",component:zQ.ChooseSlotRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/realms-stories/:tab/:realmId?",component:zQ.RealmsStoriesRoute,transitionComponent:Cv}),a.createElement(M,{from:"/realms-stories",to:"/realms-stories/feed"}),a.createElement(Qr,{route:"/realms-stories-opted-out-members/:realmId?",component:zQ.RealmsStoriesOptedOutMembersRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/realms-story-comments/:id/:realmId?",component:zQ.RealmsStoriesCommentsRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/realms-story-entry-route/:tab/:realmId?",component:jQ.RealmsStoryEntryRoute,modes:["overlay"]}),a.createElement(M,{from:"/realms-story-entry-route",to:"/realms-story-entry-route/feed"}),a.createElement(Qr,{route:"/post-to-realm-stories",component:zQ.PostToRealmStoriesRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/realms-story-share-link-modal-route/:realmId?",component:jQ.RealmsStoryShareLinkModalRoute,transitionComponent:Cv,modes:["overlay"]}),a.createElement(Qr,{route:"/hardcore-mode-world-warning-modal-route/:realmId?",component:jQ.HardcoreModeWorldWarningModalRoute,transitionComponent:Cv,modes:["overlay"]}),a.createElement(Qr,{route:"/realms-new-story/:realmId?",component:zQ.RealmsNewStoryRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/realms-new-story/screenshot-gallery/:realmId?",component:zQ.RealmsStoriesScreenshotGalleryRoute,transitionComponent:Cv,disabledCached:!0}),a.createElement(Qr,{route:"/timeline-opt-in-required",component:zQ.RealmsStoriesTimelineRequiredRoute,transitionComponent:Cv,disabledCached:!0}),a.createElement(Qr,{route:"/announcement-modal/:id",component:zQ.AnnouncementModalRoute,transitionComponent:Kr,modes:["overlay"]}),a.createElement(Qr,{route:"/realms-stories-report-feed-item/:postType/:realmId?",component:zQ.RealmsStoriesReportFeedItemRoute,transitionComponent:Kr}),a.createElement(Qr,{route:"/realms-stories-settings/:realmId?",component:zQ.RealmsStoriesSettingsRoute,transitionComponent:Kr}),a.createElement(Qr,{route:"/player-banned-modal",component:zQ.PlayerBannedModalRoute,transitionComponent:Kr}),a.createElement(Qr,{route:"/player-report",component:zQ.ReportPlayerRoute,transitionComponent:Kr}),a.createElement(Qr,{route:"/sign-in-achievements",component:zQ.SignInAchievementsRoute,transitionComponent:Cv,disabledCached:!0}),a.createElement(Qr,{route:"/sign-in-add-friend",component:zQ.SignInAddFriendRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/sign-in-play-on-server",component:zQ.SignInPlayOnServerRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/sign-in-save-purchases",component:zQ.SignInSavePurchasesRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/sign-in-dressing-room",component:zQ.SignInDressingRoomRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/sign-in-marketplace",component:zQ.SignInMarketplaceRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/sign-in-worlds-friends-servers",component:zQ.SignInWorldsFriendsServersRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/first-time-sign-in/:version?",component:YQ,transitionComponent:Cv}),a.createElement(Qr,{route:"/inbox/:tab?",component:zQ.InboxRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/inbox-settings",component:zQ.InboxSettingsRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/message/:messageId/:instanceId?",component:zQ.InboxMessageDetailsRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/edit-realm-world/:id/:tab/:worldTemplateId?",component:zQ.EditRealmWorldRoute,transitionComponent:Cv}),a.createElement(M,{from:"/edit-realm-world/:id",to:"/edit-realm-world/:id/general"}),a.createElement(Qr,{route:"/edit-world/:id/:tab/:worldTemplateId?",component:zQ.EditWorldRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/edit-world-thumbnail/:id",component:zQ.EditWorldThumbnailRoute,transitionComponent:Cv}),a.createElement(M,{from:"/edit-world/:id",to:"/edit-world/:id/general"}),a.createElement(Qr,{component:zQ.ExportWorldRoute,route:"/export-world/:id/:type",transitionComponent:Cv}),a.createElement(Qr,{route:"/realms-create-preview-with-only-one-subscription",component:zQ.CreatePreviewRealmWithOnlyOneSubscriptionRoute,modes:["overlay"]}),a.createElement(Qr,{route:"/realms-purchase-subscription/:subscription",component:zQ.RealmsPurchaseSubscriptionRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/add-friend",component:zQ.AddFriendRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/disconnected",component:zQ.ConnectionErrorRoute,transitionComponent:Cv}),a.createElement(M,{from:"/profile",to:"/profile/overview",keepQuery:!0}),a.createElement(Qr,{route:"/profile/:tab",component:zQ.ProfileRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/screenshot-gallery",component:zQ.ScreenshotGalleryRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/screenshot-showcase",component:zQ.ScreenshotShowcaseRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/manage-showcase",component:zQ.ManageShowcaseRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/screenshot-details/:id",component:zQ.ScreenshotDetailsRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/set-world-thumbnail/:thumbnailId",component:zQ.SetWorldThumbnailRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/showcase-details/:id",component:zQ.ShowcaseDetailsRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/cape-incentive-received-transient",component:Xx,transitionComponent:Cv}),a.createElement(Qr,{route:"/account-unlink",component:zQ.AccountUnlinkRoute,transitionComponent:Cv}),a.createElement(Qr,{route:"/player-permissions/:playerId",component:Ux,transitionComponent:Cv}),a.createElement(Qr,{route:"/create-party",component:RZ,transitionComponent:Cv}),a.createElement(Qr,{route:"/invite-to-party",component:_Z,transitionComponent:Cv}),a.createElement(iE,null))}var s5,u5;s5=a.createElement(c5,null),u5=document.getElementById("root"),(0,r.render)(s5,u5)})()})();