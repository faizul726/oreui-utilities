/*! Debug tab & export world label by Stivusik, legacy world type by Hamsteroonie, spectator mode by 8crafter */
(()=>{var e={34753:(e,t,a)=>{window.__globalDevCoreUISoundDefinitions=window.__globalDevCoreUISoundDefinitions||{},Object.assign(window.__globalDevCoreUISoundDefinitions,{"tokens.vanilla.release":{category:"ui",sounds:[{name:a(99373)}]},"tokens.vanilla.snes_pop":{category:"ui",sounds:[{name:a(43464)}]},"tokens.vanilla.modal_hide":{category:"ui",sounds:[{name:a(60197)}]}})},77941:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Map=void 0;const r=n(a(3464)),l=a(33580),o=a(29115),i=a(50333),c=a(78233);t.Map=({array:e,children:t,equalityCheck:a})=>{const n=(0,o.useFacetUnwrap)((0,i.useFacetMap)((e=>e.length),[],[e])),l=n!==c.NO_VALUE?n:0;return r.default.createElement(r.default.Fragment,null,d((n=>void 0!==a?r.default.createElement(s,{key:n,arrayFacet:e,index:n,length:l,equalityCheck:a,children:t}):r.default.createElement(u,{key:n,arrayFacet:e,index:n,length:l,children:t})),l))};const s=({arrayFacet:e,index:t,length:a,children:n,equalityCheck:r})=>n((0,l.useFacetMemo)((e=>t<e.length?e[t]:c.NO_VALUE),[t],[e],r),t,a),u=({arrayFacet:e,index:t,length:a,children:n})=>n((0,i.useFacetMap)((e=>t<e.length?e[t]:c.NO_VALUE),[t],[e]),t,a),d=(e,t)=>{const a=[];for(let n=0;n<t;n++)a.push(e(n));return a}},73286:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mount=void 0;const n=a(29115);t.Mount=({when:e,children:t,condition:a=!0})=>(0,n.useFacetUnwrap)(e)===a?t:null},97951:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.With=void 0;const n=a(33580),r=a(29115),l=a(50333),o=a(78233);t.With=({data:e,children:t})=>{const a=(0,l.useFacetMap)((e=>null!=e),[],[e]),i=(0,r.useFacetUnwrap)(a),c=(0,n.useFacetMemo)((e=>null!=e?e:o.NO_VALUE),[],[e]);return!0===i?t(c):null}},79309:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(77941),t),r(a(73286),t),r(a(97951),t)},79465:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOptionalValueEqualityCheck=t.createObjectWithKeySpecificEqualityCheck=t.createUniformArrayEqualityCheck=t.createUniformObjectEqualityCheck=t.createNullableEqualityCheck=void 0;const n=a(78233);t.createNullableEqualityCheck=e=>{const t=e();let a=n.NO_VALUE;return e=>null==e||null==a?e===a||(a=e,!1):(a=e,t(e))},t.createUniformObjectEqualityCheck=e=>()=>{const t={};let a=new Set,n=!1;return r=>{var l;let o=!0;for(const n in r)n in t||(t[n]=e()),(null===(l=t[n])||void 0===l?void 0:l.call(t,r[n]))||(o=!1),a.delete(n);if(a.size>0){for(const e of a)delete t[e];o=!1}a=new Set;for(const e in r)a.add(e);return n?o:(n=!0,!1)}},t.createUniformArrayEqualityCheck=e=>()=>{const t=[];let a=!1;return n=>{var r,l;const o=Math.max(null!==(r=null==t?void 0:t.length)&&void 0!==r?r:0,null!==(l=null==n?void 0:n.length)&&void 0!==l?l:0);let i=!0;for(let a=0;a<o;a++)void 0===t[a]&&(t[a]=e()),t[a](n[a])||(i=!1);return a?i:(a=!0,!1)}},t.createObjectWithKeySpecificEqualityCheck=e=>()=>{const t={};for(const a in e)t[a]=e[a]();const a=t;return e=>{let t=!0;for(const n in e)a[n](e[n])||(t=!1);return t}},t.createOptionalValueEqualityCheck=e=>()=>{let t=!0,a=e();return n=>null==n?!!t||(a=e(),t=!0,!1):(t=!1,a(n))}},67842:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFacetContext=void 0;const n=a(3464);t.createFacetContext=function(e){const t={get:()=>e,observe:t=>(t(e),()=>{})};return(0,n.createContext)(t)}},87647:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultEqualityCheck=t.nullableShallowArrayEqualityCheck=t.nullableShallowObjectArrayEqualityCheck=t.nullableShallowObjectEqualityCheck=t.shallowArrayEqualityCheck=t.shallowObjectArrayEqualityCheck=t.shallowObjectEqualityCheck=t.strictEqualityCheck=void 0;const n=a(79465),r=a(78233);t.strictEqualityCheck=()=>{let e=r.NO_VALUE;return t=>e===t||(e=t,!1)},t.shallowObjectEqualityCheck=(0,n.createUniformObjectEqualityCheck)(t.strictEqualityCheck),t.shallowObjectArrayEqualityCheck=(0,n.createUniformArrayEqualityCheck)(t.shallowObjectEqualityCheck),t.shallowArrayEqualityCheck=(0,n.createUniformArrayEqualityCheck)(t.strictEqualityCheck),t.nullableShallowObjectEqualityCheck=()=>(0,n.createNullableEqualityCheck)((0,n.createUniformObjectEqualityCheck)(t.strictEqualityCheck)),t.nullableShallowObjectArrayEqualityCheck=(0,n.createNullableEqualityCheck)((0,n.createUniformArrayEqualityCheck)(t.shallowObjectEqualityCheck)),t.nullableShallowArrayEqualityCheck=(0,n.createNullableEqualityCheck)((0,n.createUniformArrayEqualityCheck)(t.strictEqualityCheck)),t.defaultEqualityCheck=()=>{let e=r.NO_VALUE;return t=>{const a=typeof t;return!("number"!==a&&"string"!==a&&"boolean"!==a&&null!=t||t!==e&&(e=t,1))}}},57011:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFacet=void 0;const n=a(87647),r=a(78233),l=a(18910);t.createFacet=function({initialValue:e,startSubscription:t,equalityCheck:a=n.defaultEqualityCheck}){const o=new Set;let i,c=e;const s=null==a?void 0:a(),u=e=>{if(void 0!==a)if(a===n.defaultEqualityCheck){const t=typeof e;if(("number"===t||"string"===t||"boolean"===t||null==e)&&c===e)return}else if(void 0!==s&&s(e))return;(0,l.batch)((()=>{c=e;for(const e of o)e(c)}))};return{set:u,setWithCallback:e=>{const t=e(c);t===r.NO_VALUE?c=r.NO_VALUE:u(t)},get:()=>c,observe:a=>(o.add(a),c!==r.NO_VALUE&&a(c),1===o.size&&t&&(i=t(u)),()=>{o.delete(a),0===o.size&&i&&(c=e,i())})}}},62191:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createReadOnlyFacet=void 0;const n=a(57011);t.createReadOnlyFacet=function(e){return(0,n.createFacet)(e)}},91863:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStaticFacet=void 0,t.createStaticFacet=function(e){return{get:()=>e,observe:t=>(t(e),()=>{})}}},86097:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(57011),t),r(a(62191),t),r(a(91863),t)},66666:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areAllDefinedValues=void 0;const n=a(89615);t.areAllDefinedValues=e=>{for(let t=0;t<e.length;t++)if(!(0,n.hasDefinedValue)(e[t]))return!1;return!0}},89615:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasDefinedValue=void 0;const n=a(78233);t.hasDefinedValue=e=>null!=e&&e!==n.NO_VALUE},84275:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(66666),t),r(a(89615),t),r(a(47414),t)},47414:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiObserve=void 0;const n=a(78233);t.multiObserve=function(e,t){if(1===t.length)return t[0].observe(e);let a,r=!1;const l=[],o=t.map((()=>n.NO_VALUE));for(let i=0;i<t.length;i++)l[i]=t[i].observe((t=>{o[i]=t,r=r||o.every((e=>e!==n.NO_VALUE)),r&&(void 0!==a&&a(),a=e(...o))}));return()=>{for(let e=0;e<l.length;e++)l[e]();void 0!==a&&a()}}},73556:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(69777),t),r(a(48212),t),r(a(86743),t),r(a(50333),t),r(a(33580),t),r(a(39607),t),r(a(68705),t),r(a(18708),t),r(a(40841),t),r(a(29115),t),r(a(17463),t)},69777:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetCallback=void 0;const n=a(3464),r=a(78233);t.useFacetCallback=function(e,t,a,l){(0,n.useLayoutEffect)((()=>{const e=a.map((e=>e.observe((()=>{}))));return()=>{e.forEach((e=>e()))}}),a);const o=(0,n.useCallback)(e,t),i=(0,n.useRef)(a);return i.current=a,(0,n.useCallback)(((...e)=>{const t=i.current.map((e=>e.get()));for(const e of t)if(e===r.NO_VALUE)return void 0!==l?l:r.NO_VALUE;return o(...t)(...e)}),[o,l])}},48212:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetEffect=t.createUseFacetEffect=void 0;const n=a(3464),r=a(78233),l=a(18910);t.createUseFacetEffect=e=>function(t,a,o){const i=(0,n.useCallback)(t,a);e((()=>{let e;if(1===o.length){const t=o[0].observe((t=>{void 0!==e&&e(),e=i(t)}));return()=>{t(),void 0!==e&&e()}}let t=!1;const a=[],n=o.map((()=>r.NO_VALUE)),c=()=>{t=t||n.every((e=>e!==r.NO_VALUE)),t&&(void 0!==e&&e(),e=i(...n))};return o.forEach(((e,r)=>{a[r]=e.observe((e=>{n[r]=e,t?(0,l.scheduleTask)(c):c()}))})),()=>{(0,l.cancelScheduledTask)(c),a.forEach((e=>e())),void 0!==e&&e()}}),[i,...o])},t.useFacetEffect=(0,t.createUseFacetEffect)(n.useEffect)},86743:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetLayoutEffect=void 0;const n=a(3464),r=a(48212);t.useFacetLayoutEffect=(0,r.createUseFacetEffect)(n.useLayoutEffect)},50333:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetMap=void 0;const n=a(3464),r=a(87647),l=a(48954);t.useFacetMap=function(e,t,a,o=r.defaultEqualityCheck){const i=(0,n.useCallback)(e,t);return(0,n.useMemo)((()=>(0,l.mapFacetsLightweight)(a,i,o)),[i,o,...a])}},33580:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetMemo=void 0;const n=a(3464),r=a(87647),l=a(48954);t.useFacetMemo=function(e,t,a,o=r.defaultEqualityCheck){const i=(0,n.useCallback)(e,t);return(0,n.useMemo)((()=>(0,l.mapFacetsCached)(a,i,o)),[i,o,...a])}},39607:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetPropSetter=void 0;const n=a(3464),r=a(78233);t.useFacetPropSetter=function(e,t){return(0,n.useMemo)((()=>a=>{e.setWithCallback((e=>Object.assign(Object.assign({},e!==r.NO_VALUE?e:{}),{[t]:a})))}),[e,t])}},18708:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetReducer=void 0;const n=a(3464),r=a(87647),l=a(40841);t.useFacetReducer=(e,t,a=r.defaultEqualityCheck)=>{const[o,i]=(0,l.useFacetState)(t,a);return[o,(0,n.useCallback)((t=>{i((a=>e(a,t)))}),[e,i])]}},68705:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetRef=void 0;const n=a(3464),r=a(48212),l=a(78233);t.useFacetRef=function(e,t){let a=e.get();a===l.NO_VALUE&&void 0!==t&&(a=t);const o=(0,n.useRef)(a);return(0,r.useFacetEffect)((e=>{o.current=e}),[],[e]),o}},40841:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetState=void 0;const n=a(3464),r=a(87647),l=a(86097);t.useFacetState=(e,t=r.defaultEqualityCheck)=>(0,n.useMemo)((()=>{const a=(0,l.createFacet)({initialValue:e,equalityCheck:t});return[a,e=>{o(e)?a.setWithCallback(e):a.set(e)}]}),[]);const o=e=>"function"==typeof e},29115:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetUnwrap=void 0;const n=a(3464),r=a(78233),l=a(87647);t.useFacetUnwrap=function(e,t=l.defaultEqualityCheck){const[a,o]=(0,n.useState)((()=>(0,r.isFacet)(e)?{value:e.get()}:{value:e}));return(0,n.useLayoutEffect)((()=>{if((0,r.isFacet)(e)){const a=t(),n=e.get();return n!==r.NO_VALUE&&a(n),e.observe((e=>{o((n=>{const{value:o}=n;if(t===l.defaultEqualityCheck){const t=typeof o;return"number"!==t&&"string"!==t&&"boolean"!==t&&null!=e||e!==o?{value:e}:n}return o!==r.NO_VALUE&&a(e)?n:{value:e}}))}))}}),[e,t]),(0,r.isFacet)(e)?a.value:e}},17463:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetWrap=void 0;const n=a(3464),r=a(87647),l=a(86097),o=a(78233);t.useFacetWrap=function(e,t=r.defaultEqualityCheck){const a=(0,o.isFacet)(e),i=(0,n.useMemo)((()=>a?void 0:(0,l.createFacet)({initialValue:e,equalityCheck:t})),[a]);return void 0===i?e:(i.set(e),i)}},68912:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.batch=void 0,r(a(79309),t),r(a(79465),t),r(a(67842),t),r(a(87647),t),r(a(86097),t),r(a(84275),t),r(a(73556),t),r(a(48954),t),r(a(78233),t);var l=a(18910);Object.defineProperty(t,"batch",{enumerable:!0,get:function(){return l.batch}})},48954:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(27074),t)},73961:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetArrayCached=void 0;const n=a(78233),r=a(43181),l=a(86097);t.mapFacetArrayCached=function(e,t,a){const o=(0,l.createFacet)({startSubscription:(0,r.mapIntoObserveArray)(e,t,a),initialValue:n.NO_VALUE});return{get:()=>{const a=o.get();if(a!==n.NO_VALUE)return a;const r=e.map((e=>e.get()));if(!r.reduce(((e,t)=>e&&t!==n.NO_VALUE),!0))return n.NO_VALUE;const l=t(...r);return l!==n.NO_VALUE&&o.set(l),l},observe:o.observe}}},22933:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetArrayLightweight=void 0;const n=a(43181),r=a(78233);t.mapFacetArrayLightweight=function(e,t,a){return{get:()=>{const a=e.map((e=>e.get()));return a.reduce(((e,t)=>e&&t!==r.NO_VALUE),!0)?t(...a):r.NO_VALUE},observe:(0,n.mapIntoObserveArray)(e,t,a)}}},50480:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetSingleCached=void 0;const n=a(78233),r=a(10305),l=a(86097);t.mapFacetSingleCached=function(e,t,a){const o=(0,l.createFacet)({startSubscription:(0,r.mapIntoObserveSingle)(e,t,a),initialValue:n.NO_VALUE});return{get:()=>{const a=o.get();if(a!==n.NO_VALUE)return a;const r=e.get();if(r===n.NO_VALUE)return n.NO_VALUE;const l=t(r);return l!==n.NO_VALUE&&o.set(l),l},observe:o.observe}}},49347:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetSingleLightweight=void 0;const n=a(78233),r=a(10305);t.mapFacetSingleLightweight=function(e,t,a){return{get:()=>{const a=e.get();return a===n.NO_VALUE?n.NO_VALUE:t(a)},observe:(0,r.mapIntoObserveSingle)(e,t,a)}}},27074:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetsCached=t.mapFacetsLightweight=void 0;const n=a(73961),r=a(22933),l=a(50480),o=a(49347);t.mapFacetsLightweight=function(e,t,a){return 1===e.length?(0,o.mapFacetSingleLightweight)(e[0],t,a):(0,r.mapFacetArrayLightweight)(e,t,a)},t.mapFacetsCached=function(e,t,a){return 1===e.length?(0,l.mapFacetSingleCached)(e[0],t,a):(0,n.mapFacetArrayCached)(e,t,a)}},43181:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapIntoObserveArray=void 0;const n=a(18910),r=a(87647),l=a(78233);t.mapIntoObserveArray=function(e,t,a){return o=>{let i=l.NO_VALUE;const c=null==a?void 0:a(),s=e.map((()=>l.NO_VALUE));let u=!1;const d=void 0===c?()=>{if(u=u||s.every((e=>e!==l.NO_VALUE)),!u)return;const e=t(...s);e!==l.NO_VALUE&&o(e)}:a===r.defaultEqualityCheck?()=>{if(u=u||s.every((e=>e!==l.NO_VALUE)),!u)return;const e=t(...s);if(e===l.NO_VALUE)return;const a=typeof i;("number"!==a&&"string"!==a&&"boolean"!==a&&null!=i||i!==e)&&(i=e,o(e))}:()=>{if(u=u||s.every((e=>e!==l.NO_VALUE)),!u)return;const e=t(...s);e!==l.NO_VALUE&&(c(e)||o(e))},m=e.map(((e,t)=>e.observe((e=>{s[t]=e,u?(0,n.scheduleTask)(d):d()}))));return()=>{(0,n.cancelScheduledTask)(d),m.forEach((e=>e()))}}}},10305:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapIntoObserveSingle=void 0;const n=a(87647),r=a(78233);t.mapIntoObserveSingle=function(e,t,a){return void 0===a?a=>e.observe((e=>{const n=t(e);n!==r.NO_VALUE&&a(n)})):a===n.defaultEqualityCheck?a=>{let n=r.NO_VALUE;return e.observe((e=>{const l=t(e);if(l===r.NO_VALUE)return;const o=typeof n;("number"!==o&&"string"!==o&&"boolean"!==o&&null!=n||n!==l)&&(n=l,a(l))}))}:n=>{const l=a();return e.observe((e=>{const a=t(e);a!==r.NO_VALUE&&(l(a)||n(a))}))}}},18910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.batch=t.cancelScheduledTask=t.scheduleTask=void 0;let a=0,n=[];t.scheduleTask=e=>{0!==a?e.scheduled||(e.scheduled=!0,n.push(e)):e()},t.cancelScheduledTask=e=>{e.scheduled=!1},t.batch=e=>{a+=1;try{if(e(),1===a)do{const e=n;n=[];try{for(let t=0;t<e.length;t++){const a=e[t];a.scheduled&&(a.scheduled=!1,a())}}catch(t){for(let t=0;t<e.length;t++)e[t].scheduled=!1;throw n=[],t}}while(n.length>0)}finally{a-=1}}},78233:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NO_VALUE=t.isFacet=t.FACET_FACTORY=void 0,t.FACET_FACTORY=Symbol("facet-factory"),t.isFacet=e=>null!=e&&void 0!==e.observe&&void 0!==e.get,t.NO_VALUE=Symbol.for("NoValue")},8060:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&n(t,e,a);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PauseMountProvider=t.ImmediateMount=t.useIsPaused=t.useIsDeferring=t.DeferredMountWithCallback=t.useNotifyMountComplete=t.DeferredMount=t.DeferredMountProvider=t.InnerDeferredMountProvider=t.DeferredMountConfigProvider=void 0;const o=l(a(3464)),i=a(68912),c=(0,o.createContext)({forceImmediateMount:!1});function s({children:e,frameTimeBudget:t=16}){const[a,n]=(0,i.useFacetState)(!0),[r,l]=(0,i.useFacetState)(!1),c=(0,o.useRef)(!1),s=(0,o.useRef)([]),u=(0,o.useCallback)((e=>(l(!0),s.current.push(e),()=>{if(0===s.current.length&&!c.current)return;const t=s.current.indexOf(e);-1!==t&&s.current.splice(t,1)})),[l]);return(0,i.useFacetEffect)((e=>{if(!e&&0===s.current.length&&!c.current)return;const a=e=>{const o=s.current;r=o.length>0||c.current?window.requestAnimationFrame(a):-1;let i=0,u=e;for(;o.length>0&&u-e+i<t&&!c.current;){const e=u,t=o.shift()(!1),n=performance.now();i=n-e,u=n,"function"==typeof t&&(c.current=!0,t((()=>{c.current=!1,-1===r&&(r=window.requestAnimationFrame(a))})))}0!==o.length||c.current||(n(!1),l(!1))};let r=window.requestAnimationFrame(a);return()=>{window.cancelAnimationFrame(r)}}),[t,n,l],[r]),o.default.createElement(m.Provider,{value:a},o.default.createElement(d.Provider,{value:u},e))}t.DeferredMountConfigProvider=function({config:e,children:t}){return o.default.createElement(c.Provider,{value:e},t)},t.InnerDeferredMountProvider=s,t.DeferredMountProvider=function(e){return(0,o.useContext)(c).forceImmediateMount?o.default.createElement(o.default.Fragment,null,e.children):o.default.createElement(s,Object.assign({},e))},t.DeferredMount=function({children:e}){const t=(0,o.useContext)(d),[a,n]=(0,o.useState)(void 0!==t);return(0,o.useEffect)((()=>{t&&t(n)}),[t]),a?null:e};const u=(0,o.createContext)((()=>{}));t.useNotifyMountComplete=()=>(0,o.useContext)(u),t.DeferredMountWithCallback=function({children:e}){const t=(0,o.useContext)(d),[a,n]=(0,o.useState)(void 0!==t),r=(0,o.useRef)(),l=(0,o.useRef)(!1),i=(0,o.useCallback)((()=>{void 0!==r.current?r.current():l.current=!0}),[]);return(0,o.useEffect)((()=>{t&&t((e=>t=>{n(e),l.current?t():r.current=t}))}),[t,i]),a?null:o.default.createElement(u.Provider,{value:i},e)},t.useIsDeferring=function(){return(0,o.useContext)(m)},t.useIsPaused=function(){return(0,o.useContext)(p)},t.ImmediateMount=function({children:e}){return e};const d=(0,o.createContext)(void 0),m=(0,o.createContext)((0,i.createFacet)({initialValue:!1})),p=(0,o.createContext)(!1);t.PauseMountProvider=function({paused:e,children:t}){const a=(0,o.useRef)(!e);return(0,o.useEffect)((()=>{e||(a.current=!0)}),[e]),o.default.createElement(p.Provider,{value:!a.current&&e},t)}},23682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFiberRoot=void 0,t.createFiberRoot=e=>t=>e.createContainer({children:new Set,element:t,styleUnsubscribers:new Map,style:t.style},!1,!1)},86193:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPortal=void 0;const a=Symbol.for("react.portal");t.createPortal=function(e,t,n){return{$$typeof:a,key:n,children:e,containerInfo:{children:new Set,element:t,styleUnsubscribers:new Map,style:t.style}}}},81935:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createReconciler=void 0;const r=n(a(74054)),l=a(65575);t.createReconciler=()=>(0,r.default)((0,l.setupHostConfig)())},31545:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;const l=a(23682),o=a(81935);r(a(13525),t),r(a(86193),t),r(a(23682),t),r(a(81935),t),t.render=function(e,t){if(null===t)return()=>{};const a=(0,o.createReconciler)(),n=(0,l.createFiberRoot)(a)(t);return a.updateContainer(e,n,null,(()=>{})),()=>{a.updateContainer(null,n,null,(()=>{}))}}},67936:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupAttributeUpdate=t.setupViewBoxUpdate=t.setupTextUpdate=t.setupSrcUpdate=t.setupValueUpdate=t.setupRowsUpdate=t.setupMaxLengthUpdate=t.setupIdUpdate=t.setupClassUpdate=void 0;const n=a(68912);t.setupClassUpdate=(e,t)=>{const a=t;if((0,n.isFacet)(e))return e.observe((e=>{a.className=void 0!==e?e:""}));a.className=void 0!==e?e:""},t.setupIdUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{t.id=void 0!==e?e:""}));t.id=void 0!==e?e:""},t.setupMaxLengthUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{t.maxLength=void 0!==e?e:Number.MAX_SAFE_INTEGER}));t.maxLength=void 0!==e?e:Number.MAX_SAFE_INTEGER},t.setupRowsUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{t.rows=void 0!==e?e:Number.MAX_SAFE_INTEGER}));t.rows=void 0!==e?e:Number.MAX_SAFE_INTEGER};const r=(e,t)=>{const a=e;"number"===a.type&&isNaN(Number(t))||(void 0!==t?(a.value=t,a.setAttribute("value",t)):(a.value="",a.removeAttribute("value")))};t.setupValueUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>r(t,e)));r(t,e)},t.setupSrcUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{t.src=void 0!==e?e:""}));t.src=void 0!==e?e:""},t.setupTextUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{t.nodeValue=void 0!==e?e:""}));t.nodeValue=void 0!==e?e:""},t.setupViewBoxUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{void 0!==e?t.setAttributeNS(null,"viewBox",e):t.removeAttributeNS(null,"viewBox")}));void 0!==e?t.setAttributeNS(null,"viewBox",e):t.removeAttributeNS(null,"viewBox")},t.setupAttributeUpdate=(e,t,a)=>{if((0,n.isFacet)(t))return t.observe((t=>{!0===t?a.setAttribute(e,""):!1===t?a.removeAttribute(e):void 0!==t?a.setAttribute(e,t):a.removeAttribute(e)}));!0===t?a.setAttribute(e,""):!1===t?a.removeAttribute(e):void 0!==t?a.setAttribute(e,t):a.removeAttribute(e)}},65575:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupHostConfig=void 0;const n=a(13525),r=a(68912),l=a(67936);t.setupHostConfig=()=>({isPrimaryRenderer:!0,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,now:Date.now,setTimeout:"undefined"!=typeof window?window.setTimeout:(e,t)=>window.setTimeout(e,t),clearTimeout:"undefined"!=typeof window?window.clearTimeout:e=>window.clearTimeout(e),noTimeout:i,scheduleDeferredCallback:function(e,t){return window.setTimeout(e,t?t.timeout:0)},cancelDeferredCallback:function(e){return window.clearTimeout(e)},getRootHostContext:function(){return c},getChildHostContext:function(){return c},shouldSetTextContent:function(){return!1},createTextInstance:function(e){return{element:document.createTextNode(e)}},createInstance:function(e,t){var a;if("fast-text"===e){const e=document.createTextNode("");return{children:new Set,element:e,text:(0,l.setupTextUpdate)(t.text,e)}}const n=null!==(a=s[e])&&void 0!==a?a:e,o=u[e],i=void 0!==o?document.createElementNS("http://www.w3.org/2000/svg",o):document.createElement(n);let c,d;if(void 0!==t.style){c=i.style,d=new Map;const e=c,a=d,n=t.style;for(const t in n){const l=n[t];void 0!==l&&((0,r.isFacet)(l)?a.set(t,l.observe((a=>{e[t]=a}))):e[t]=l)}}return void 0!==t.dangerouslySetInnerHTML&&(i.innerHTML=t.dangerouslySetInnerHTML.__html),t.onClick&&i.addEventListener("click",t.onClick),t.onFocus&&i.addEventListener("focus",t.onFocus),t.onBlur&&i.addEventListener("blur",t.onBlur),t.onMouseDown&&i.addEventListener("mousedown",t.onMouseDown),t.onMouseMove&&i.addEventListener("mousemove",t.onMouseMove),t.onMouseUp&&i.addEventListener("mouseup",t.onMouseUp),t.onTouchStart&&i.addEventListener("touchstart",t.onTouchStart),t.onTouchMove&&i.addEventListener("touchmove",t.onTouchMove),t.onTouchEnd&&i.addEventListener("touchend",t.onTouchEnd),t.onMouseEnter&&i.addEventListener("mouseenter",t.onMouseEnter),t.onMouseLeave&&i.addEventListener("mouseleave",t.onMouseLeave),t.onKeyPress&&i.addEventListener("keypress",t.onKeyPress),t.onKeyDown&&i.addEventListener("keydown",t.onKeyDown),t.onKeyUp&&i.addEventListener("keyup",t.onKeyUp),{element:i,styleUnsubscribers:d,style:c,children:new Set,className:void 0!==t.className?(0,l.setupClassUpdate)(t.className,i):void 0,id:void 0!==t.id?(0,l.setupIdUpdate)(t.id,i):void 0,autoPlay:void 0!==t.autoPlay?(0,l.setupAttributeUpdate)("autoplay",t.autoPlay,i):void 0,loop:void 0!==t.loop?(0,l.setupAttributeUpdate)("loop",t.loop,i):void 0,href:void 0!==t.href?(0,l.setupAttributeUpdate)("href",t.href,i):void 0,target:void 0!==t.target?(0,l.setupAttributeUpdate)("target",t.target,i):void 0,disabled:void 0!==t.disabled?(0,l.setupAttributeUpdate)("disabled",t.disabled,i):void 0,maxLength:void 0!==t.maxLength?(0,l.setupMaxLengthUpdate)(t.maxLength,i):void 0,rows:void 0!==t.rows?(0,l.setupRowsUpdate)(t.rows,i):void 0,type:void 0!==t.type?(0,l.setupAttributeUpdate)("type",t.type,i):void 0,value:void 0!==t.value?(0,l.setupValueUpdate)(t.value,i):void 0,src:void 0!==t.src?(0,l.setupSrcUpdate)(t.src,i):void 0,d:void 0!==t.d?(0,l.setupAttributeUpdate)("d",t.d,i):void 0,fill:void 0!==t.fill?(0,l.setupAttributeUpdate)("fill",t.fill,i):void 0,height:void 0!==t.height?(0,l.setupAttributeUpdate)("height",t.height,i):void 0,stroke:void 0!==t.stroke?(0,l.setupAttributeUpdate)("stroke",t.stroke,i):void 0,x:void 0!==t.x?(0,l.setupAttributeUpdate)("x",t.x,i):void 0,width:void 0!==t.width?(0,l.setupAttributeUpdate)("width",t.width,i):void 0,y:void 0!==t.y?(0,l.setupAttributeUpdate)("y",t.y,i):void 0,cx:void 0!==t.cx?(0,l.setupAttributeUpdate)("cx",t.cx,i):void 0,cy:void 0!==t.cy?(0,l.setupAttributeUpdate)("cy",t.cy,i):void 0,r:void 0!==t.r?(0,l.setupAttributeUpdate)("r",t.r,i):void 0,rx:void 0!==t.rx?(0,l.setupAttributeUpdate)("rx",t.rx,i):void 0,ry:void 0!==t.ry?(0,l.setupAttributeUpdate)("ry",t.ry,i):void 0,x1:void 0!==t.x1?(0,l.setupAttributeUpdate)("x1",t.x1,i):void 0,x2:void 0!==t.x2?(0,l.setupAttributeUpdate)("x2",t.x2,i):void 0,y1:void 0!==t.y1?(0,l.setupAttributeUpdate)("y1",t.y1,i):void 0,y2:void 0!==t.y2?(0,l.setupAttributeUpdate)("y2",t.y2,i):void 0,strokeWidth:void 0!==t.strokeWidth?(0,l.setupAttributeUpdate)("stroke-width",t.strokeWidth,i):void 0,viewBox:void 0!==t.viewBox?(0,l.setupViewBoxUpdate)(t.viewBox,i):void 0,xLinkHref:void 0!==t.xLinkHref?(0,l.setupAttributeUpdate)("xlink:href",t.xLinkHref,i):void 0,fillOpacity:void 0!==t.fillOpacity?(0,l.setupAttributeUpdate)("fill-opacity",t.fillOpacity,i):void 0,strokeOpacity:void 0!==t.strokeOpacity?(0,l.setupAttributeUpdate)("stroke-opacity",t.strokeOpacity,i):void 0,strokeLinecap:void 0!==t.strokeLinecap?(0,l.setupAttributeUpdate)("stroke-linecap",t.strokeLinecap,i):void 0,strokeLinejoin:void 0!==t.strokeLinejoin?(0,l.setupAttributeUpdate)("stroke-linejoin",t.strokeLinejoin,i):void 0,points:void 0!==t.points?(0,l.setupAttributeUpdate)("points",t.points,i):void 0,offset:void 0!==t.offset?(0,l.setupAttributeUpdate)("offset",t.offset,i):void 0,stopColor:void 0!==t.stopColor?(0,l.setupAttributeUpdate)("stop-color",t.stopColor,i):void 0,stopOpacity:void 0!==t.stopOpacity?(0,l.setupAttributeUpdate)("stop-opacity",t.stopOpacity,i):void 0,fontFamily:void 0!==t.fontFamily?(0,l.setupAttributeUpdate)("font-family",t.fontFamily,i):void 0,fontSize:void 0!==t.fontSize?(0,l.setupAttributeUpdate)("font-size",t.fontSize,i):void 0,"data-droppable":void 0!==t["data-droppable"]?(0,l.setupAttributeUpdate)("data-droppable",t["data-droppable"],i):void 0,"data-narrate":void 0!==t["data-narrate"]?(0,l.setupAttributeUpdate)("data-narrate",t["data-narrate"],i):void 0,"data-narrate-as":void 0!==t["data-narrate-as"]?(0,l.setupAttributeUpdate)("data-narrate-as",t["data-narrate-as"],i):void 0,"data-narrate-before":void 0!==t["data-narrate-before"]?(0,l.setupAttributeUpdate)("data-narrate-before",t["data-narrate-before"],i):void 0,"data-narrate-after":void 0!==t["data-narrate-after"]?(0,l.setupAttributeUpdate)("data-narrate-after",t["data-narrate-after"],i):void 0,"data-testid":void 0!==t["data-testid"]?(0,l.setupAttributeUpdate)("data-testid",t["data-testid"],i):void 0,"data-x-ray":void 0!==t["data-x-ray"]?(0,l.setupAttributeUpdate)("data-x-ray",t["data-x-ray"],i):void 0,cohinline:void 0!==t.cohinline?(0,l.setupAttributeUpdate)("cohinline",t.cohinline,i):void 0}},finalizeInitialChildren:function(){return!1},prepareForCommit:function(){},resetAfterCommit:function(){},commitMount:function(){},prepareUpdate:function(){return!0},commitUpdate:function(e,t,a,n,o){var i,c,s,u,d,m,p,f,g,E,h,b,v,y,F,S,C,M,w,k,T,P,I,x,A,O,N,R,L,_,D,W,B,U,z,H,j,V,G,$,K,Y,X,q,Q,Z,J,ee,te,ae,ne;const{element:re}=e;if("fast-text"===a){const t=re;return void(o.text!==n.text&&(null===(i=e.text)||void 0===i||i.call(e),e.text=(0,l.setupTextUpdate)(o.text,t)))}const le=re;if(o.style!==n.style){const t=e.style||le.style,a=e.styleUnsubscribers||new Map;e.style=t,e.styleUnsubscribers=a;const l=t,i=n.style,s=o.style;if(void 0!==i)for(const e in i){const t=i[e];t===(null==s?void 0:s[e])&&void 0!==s||(0,r.isFacet)(t)&&(null===(c=a.get(e))||void 0===c||c())}if(void 0!==s)for(const e in s){const t=null==i?void 0:i[e],n=s[e];t===n&&void 0!==i||((0,r.isFacet)(n)?a.set(e,n.observe((t=>{l[e]=t}))):l[e]=n)}}o.dangerouslySetInnerHTML!==n.dangerouslySetInnerHTML&&(void 0!==o.dangerouslySetInnerHTML?le.innerHTML=o.dangerouslySetInnerHTML.__html:le.innerHTML=""),o.autoPlay!==n.autoPlay&&(null===(s=e.autoPlay)||void 0===s||s.call(e),void 0===o.autoPlay?le.removeAttribute("autoplay"):e.autoPlay=(0,l.setupAttributeUpdate)("autoplay",o.autoPlay,le)),o.className!==n.className&&(null===(u=e.className)||void 0===u||u.call(e),void 0===o.className?le.className="":e.className=(0,l.setupClassUpdate)(o.className,le)),o.d!==n.d&&(null===(d=e.d)||void 0===d||d.call(e),void 0===o.d?le.removeAttribute("d"):e.d=(0,l.setupAttributeUpdate)("d",o.d,le)),o["data-droppable"]!==n["data-droppable"]&&(null===(m=e["data-droppable"])||void 0===m||m.call(e),void 0===o["data-droppable"]?le.removeAttribute("data-droppable"):e["data-droppable"]=(0,l.setupAttributeUpdate)("data-droppable",o["data-droppable"],le)),o["data-narrate"]!==n["data-narrate"]&&(null===(p=e["data-narrate"])||void 0===p||p.call(e),void 0===o["data-narrate"]?le.removeAttribute("data-narrate"):e["data-narrate"]=(0,l.setupAttributeUpdate)("data-narrate",o["data-narrate"],le)),o["data-narrate-as"]!==n["data-narrate-as"]&&(null===(f=e["data-narrate-as"])||void 0===f||f.call(e),void 0===o["data-narrate-as"]?le.removeAttribute("data-narrate-as"):e["data-narrate-as"]=(0,l.setupAttributeUpdate)("data-narrate-as",o["data-narrate-as"],le)),o["data-narrate-after"]!==n["data-narrate-after"]&&(null===(g=e["data-narrate-after"])||void 0===g||g.call(e),void 0===o["data-narrate-after"]?le.removeAttribute("data-narrate-after"):e["data-narrate-after"]=(0,l.setupAttributeUpdate)("data-narrate-after",o["data-narrate-after"],le)),o["data-narrate-before"]!==n["data-narrate-before"]&&(null===(E=e["data-narrate-before"])||void 0===E||E.call(e),void 0===o["data-narrate-before"]?le.removeAttribute("data-narrate-before"):e["data-narrate-before"]=(0,l.setupAttributeUpdate)("data-narrate-before",o["data-narrate-before"],le)),o["data-testid"]!==n["data-testid"]&&(null===(h=e["data-testid"])||void 0===h||h.call(e),void 0===o["data-testid"]?le.removeAttribute("data-testid"):e["data-testid"]=(0,l.setupAttributeUpdate)("data-testid",o["data-testid"],le)),o["data-x-ray"]!==n["data-x-ray"]&&(null===(b=e["data-x-ray"])||void 0===b||b.call(e),void 0===o["data-x-ray"]?le.removeAttribute("data-x-ray"):e["data-x-ray"]=(0,l.setupAttributeUpdate)("data-x-ray",o["data-x-ray"],le)),o.fill!==n.fill&&(null===(v=e.fill)||void 0===v||v.call(e),void 0===o.fill?le.removeAttribute("fill"):e.fill=(0,l.setupAttributeUpdate)("fill",o.fill,le)),o.id!==n.id&&(null===(y=e.id)||void 0===y||y.call(e),void 0===o.id?le.id="":e.id=(0,l.setupIdUpdate)(o.id,le)),o.loop!==n.loop&&(null===(F=e.loop)||void 0===F||F.call(e),void 0===o.loop?le.removeAttribute("loop"):e.loop=(0,l.setupAttributeUpdate)("loop",o.loop,le)),o.href!==n.href&&(null===(S=e.href)||void 0===S||S.call(e),void 0===o.href?le.removeAttribute("href"):e.href=(0,l.setupAttributeUpdate)("href",o.href,le)),o.target!==n.target&&(null===(C=e.target)||void 0===C||C.call(e),void 0===o.target?le.removeAttribute("target"):e.target=(0,l.setupAttributeUpdate)("target",o.target,le)),o.disabled!==n.disabled&&(null===(M=e.disabled)||void 0===M||M.call(e),void 0===o.disabled?le.removeAttribute("disabled"):e.disabled=(0,l.setupAttributeUpdate)("disabled",o.disabled,le)),o.height!==n.height&&(null===(w=e.height)||void 0===w||w.call(e),void 0===o.height?le.removeAttribute("height"):e.height=(0,l.setupAttributeUpdate)("height",o.height,le)),o.maxLength!==n.maxLength&&(null===(k=e.maxLength)||void 0===k||k.call(e),void 0===o.maxLength?le.removeAttribute("maxlength"):e.maxLength=(0,l.setupMaxLengthUpdate)(o.maxLength,le)),o.rows!==n.rows&&(null===(T=e.rows)||void 0===T||T.call(e),void 0===o.rows?le.removeAttribute("rows"):e.rows=(0,l.setupRowsUpdate)(o.rows,le)),o.stroke!==n.stroke&&(null===(P=e.stroke)||void 0===P||P.call(e),void 0===o.stroke?le.removeAttribute("stroke"):e.stroke=(0,l.setupAttributeUpdate)("stroke",o.stroke,le)),o.type!==n.type&&(null===(I=e.type)||void 0===I||I.call(e),void 0===o.type?le.removeAttribute("type"):e.type=(0,l.setupAttributeUpdate)("type",o.type,le)),o.value!==n.value&&(null===(x=e.value)||void 0===x||x.call(e),void 0===o.value?le.removeAttribute("value"):e.value=(0,l.setupValueUpdate)(o.value,le)),o.x!==n.x&&(null===(A=e.x)||void 0===A||A.call(e),void 0===o.x?le.removeAttribute("x"):e.x=(0,l.setupAttributeUpdate)("x",o.x,le)),o.width!==n.width&&(null===(O=e.width)||void 0===O||O.call(e),void 0===o.width?le.removeAttribute("width"):e.width=(0,l.setupAttributeUpdate)("width",o.width,le)),o.y!==n.y&&(null===(N=e.y)||void 0===N||N.call(e),void 0===o.y?le.removeAttribute("y"):e.y=(0,l.setupAttributeUpdate)("y",o.y,le)),o.cx!==n.cx&&(null===(R=e.cx)||void 0===R||R.call(e),void 0===o.cx?le.removeAttribute("cx"):e.cx=(0,l.setupAttributeUpdate)("cx",o.cx,le)),o.r!==n.r&&(null===(L=e.r)||void 0===L||L.call(e),void 0===o.r?le.removeAttribute("r"):e.r=(0,l.setupAttributeUpdate)("r",o.r,le)),o.cy!==n.cy&&(null===(_=e.cy)||void 0===_||_.call(e),void 0===o.cy?le.removeAttribute("cy"):e.cy=(0,l.setupAttributeUpdate)("cy",o.cy,le)),o.rx!==n.rx&&(null===(D=e.rx)||void 0===D||D.call(e),void 0===o.rx?le.removeAttribute("rx"):e.rx=(0,l.setupAttributeUpdate)("rx",o.rx,le)),o.ry!==n.ry&&(null===(W=e.ry)||void 0===W||W.call(e),void 0===o.ry?le.removeAttribute("ry"):e.ry=(0,l.setupAttributeUpdate)("ry",o.ry,le)),o.x1!==n.x1&&(null===(B=e.x1)||void 0===B||B.call(e),void 0===o.x1?le.removeAttribute("x1"):e.x1=(0,l.setupAttributeUpdate)("x1",o.x1,le)),o.x2!==n.x2&&(null===(U=e.x2)||void 0===U||U.call(e),void 0===o.x2?le.removeAttribute("x2"):e.x2=(0,l.setupAttributeUpdate)("x2",o.x2,le)),o.y1!==n.y1&&(null===(z=e.y1)||void 0===z||z.call(e),void 0===o.y1?le.removeAttribute("y1"):e.y1=(0,l.setupAttributeUpdate)("y1",o.y1,le)),o.y2!==n.y2&&(null===(H=e.y2)||void 0===H||H.call(e),void 0===o.y2?le.removeAttribute("y2"):e.y2=(0,l.setupAttributeUpdate)("y2",o.y2,le)),o.strokeWidth!==n.strokeWidth&&(null===(j=e.strokeWidth)||void 0===j||j.call(e),void 0===o.strokeWidth?le.removeAttribute("strokeWidth"):e.strokeWidth=(0,l.setupAttributeUpdate)("stroke-width",o.strokeWidth,le)),o.viewBox!==n.viewBox&&(null===(V=e.viewBox)||void 0===V||V.call(e),void 0===o.viewBox?le.removeAttribute("viewBox"):e.viewBox=(0,l.setupViewBoxUpdate)(o.viewBox,le)),o.xLinkHref!==n.xLinkHref&&(null===(G=e.xLinkHref)||void 0===G||G.call(e),void 0===o.xLinkHref?le.removeAttribute("xlink:href"):e.xLinkHref=(0,l.setupAttributeUpdate)("xlink:href",o.xLinkHref,le)),o.fillOpacity!==n.fillOpacity&&(null===($=e.fillOpacity)||void 0===$||$.call(e),void 0===o.fillOpacity?le.removeAttribute("fill-opacity"):e.fillOpacity=(0,l.setupAttributeUpdate)("fill-opacity",o.fillOpacity,le)),o.strokeOpacity!==n.strokeOpacity&&(null===(K=e.strokeOpacity)||void 0===K||K.call(e),void 0===o.strokeOpacity?le.removeAttribute("stroke-opacity"):e.strokeOpacity=(0,l.setupAttributeUpdate)("stroke-opacity",o.strokeOpacity,le)),o.strokeLinecap!==n.strokeLinecap&&(null===(Y=e.strokeLinecap)||void 0===Y||Y.call(e),void 0===o.strokeLinecap?le.removeAttribute("stroke-linecap"):e.strokeLinecap=(0,l.setupAttributeUpdate)("stroke-linecap",o.strokeLinecap,le)),o.strokeLinejoin!==n.strokeLinejoin&&(null===(X=e.strokeLinejoin)||void 0===X||X.call(e),void 0===o.strokeLinejoin?le.removeAttribute("stroke-linejoin"):e.strokeLinejoin=(0,l.setupAttributeUpdate)("stroke-linejoin",o.strokeLinejoin,le)),o.points!==n.points&&(null===(q=e.points)||void 0===q||q.call(e),void 0===o.points?le.removeAttribute("points"):e.points=(0,l.setupAttributeUpdate)("points",o.points,le)),o.offset!==n.offset&&(null===(Q=e.offset)||void 0===Q||Q.call(e),void 0===o.offset?le.removeAttribute("offset"):e.offset=(0,l.setupAttributeUpdate)("offset",o.offset,le)),o.stopColor!==n.stopColor&&(null===(Z=e.stopColor)||void 0===Z||Z.call(e),void 0===o.stopColor?le.removeAttribute("stop-color"):e.stopColor=(0,l.setupAttributeUpdate)("stop-color",o.stopColor,le)),o.stopOpacity!==n.stopOpacity&&(null===(J=e.stopOpacity)||void 0===J||J.call(e),void 0===o.stopOpacity?le.removeAttribute("stop-opacity"):e.stopOpacity=(0,l.setupAttributeUpdate)("stop-opacity",o.stopOpacity,le)),o.fontFamily!==n.fontFamily&&(null===(ee=e.fontFamily)||void 0===ee||ee.call(e),void 0===o.fontFamily?le.removeAttribute("font-family"):e.fontFamily=(0,l.setupAttributeUpdate)("font-family",o.fontFamily,le)),o.fontSize!==n.fontSize&&(null===(te=e.fontSize)||void 0===te||te.call(e),void 0===o.fontSize?le.removeAttribute("font-size"):e.fontSize=(0,l.setupAttributeUpdate)("font-size",o.fontSize,le)),o.src!==n.src&&(null===(ae=e.src)||void 0===ae||ae.call(e),void 0===o.src?le.removeAttribute("src"):e.src=(0,l.setupSrcUpdate)(o.src,le)),o.cohinline!==n.cohinline&&(null===(ne=e.cohinline)||void 0===ne||ne.call(e),void 0===o.cohinline?le.removeAttribute("cohinline"):e.cohinline=(0,l.setupAttributeUpdate)("cohinline",o.cohinline,le)),o.onClick!==n.onClick&&(n.onClick&&le.removeEventListener("click",n.onClick),o.onClick&&le.addEventListener("click",o.onClick)),o.onFocus!==n.onFocus&&(n.onFocus&&le.removeEventListener("focus",n.onFocus),o.onFocus&&le.addEventListener("focus",o.onFocus)),o.onBlur!==n.onBlur&&(n.onBlur&&le.removeEventListener("blur",n.onBlur),o.onBlur&&le.addEventListener("blur",o.onBlur)),o.onMouseDown!==n.onMouseDown&&(n.onMouseDown&&le.removeEventListener("mousedown",n.onMouseDown),o.onMouseDown&&le.addEventListener("mousedown",o.onMouseDown)),o.onMouseMove!==n.onMouseMove&&(n.onMouseMove&&le.removeEventListener("mousemove",n.onMouseMove),o.onMouseMove&&le.addEventListener("mousemove",o.onMouseMove)),o.onMouseEnter!==n.onMouseEnter&&(n.onMouseEnter&&le.removeEventListener("mouseenter",n.onMouseEnter),o.onMouseEnter&&le.addEventListener("mouseenter",o.onMouseEnter)),o.onMouseLeave!==n.onMouseLeave&&(n.onMouseLeave&&le.removeEventListener("mouseleave",n.onMouseLeave),o.onMouseLeave&&le.addEventListener("mouseleave",o.onMouseLeave)),o.onMouseUp!==n.onMouseUp&&(n.onMouseUp&&le.removeEventListener("mouseup",n.onMouseUp),o.onMouseUp&&le.addEventListener("mouseup",o.onMouseUp)),o.onTouchStart!==n.onTouchStart&&(n.onTouchStart&&le.removeEventListener("touchstart",n.onTouchStart),o.onTouchStart&&le.addEventListener("touchstart",o.onTouchStart)),o.onTouchMove!==n.onTouchMove&&(n.onTouchMove&&le.removeEventListener("touchmove",n.onTouchMove),o.onTouchMove&&le.addEventListener("touchmove",o.onTouchMove)),o.onTouchEnd!==n.onTouchEnd&&(n.onTouchEnd&&le.removeEventListener("touchend",n.onTouchEnd),o.onTouchEnd&&le.addEventListener("touchend",o.onTouchEnd)),o.onTouchMove!==n.onTouchMove&&(n.onTouchMove&&le.removeEventListener("touchmove",n.onTouchMove),o.onTouchMove&&le.addEventListener("touchmove",o.onTouchMove)),o.onTouchEnd!==n.onTouchEnd&&(n.onTouchEnd&&le.removeEventListener("touchend",n.onTouchEnd),o.onTouchEnd&&le.addEventListener("touchend",o.onTouchEnd)),o.onKeyPress!==n.onKeyPress&&(n.onKeyPress&&le.removeEventListener("keypress",n.onKeyPress),o.onKeyPress&&le.addEventListener("keypress",o.onKeyPress)),o.onKeyDown!==n.onKeyDown&&(n.onKeyDown&&le.removeEventListener("keydown",n.onKeyDown),o.onKeyDown&&le.addEventListener("keydown",o.onKeyDown)),o.onKeyUp!==n.onKeyUp&&(n.onKeyUp&&le.removeEventListener("keyup",n.onKeyUp),o.onKeyUp&&le.addEventListener("keyup",o.onKeyUp))},commitTextUpdate:function(e,t,a){e.element.nodeValue=a},appendInitialChild:function(e,t){(0,n.isElementContainer)(t)&&e.children.add(t),e.element.appendChild(t.element)},appendChildToContainer:function(e,t){(0,n.isElementContainer)(t)&&e.children.add(t),e.element.appendChild(t.element)},appendChild:function(e,t){(0,n.isElementContainer)(t)&&e.children.add(t),e.element.appendChild(t.element)},insertBefore:function(e,t,a){(0,n.isElementContainer)(t)&&e.children.add(t),e.element.insertBefore(t.element,a.element)},removeChild:function(e,t){(0,n.isElementContainer)(t)&&o(e,t),e.element.removeChild(t.element)},insertInContainerBefore:function(e,t,a){(0,n.isElementContainer)(t)&&e.children.add(t),e.element.insertBefore(t.element,a.element)},removeChildFromContainer:function(e,t){(0,n.isElementContainer)(t)&&o(e,t),e.element.removeChild(t.element)},resetTextContent:function(e){e.element.textContent=""},shouldDeprioritizeSubtree:function(){return!1},getPublicInstance:function(e){return e.element}});const o=(e,t)=>{var a,n,r,l,i,c,s,u,d,m,p,f,g,E,h,b,v,y,F,S,C,M,w,k,T,P,I,x,A,O,N,R,L,_,D,W,B,U,z,H,j,V,G,$,K,Y,X,q,Q,Z,J,ee;e.children.delete(t),null===(a=t.styleUnsubscribers)||void 0===a||a.forEach((e=>e())),null===(n=t.styleUnsubscribers)||void 0===n||n.clear(),t.children.forEach(o),t.children.clear(),null===(r=t.className)||void 0===r||r.call(t),null===(l=t.cx)||void 0===l||l.call(t),null===(i=t.cy)||void 0===i||i.call(t),null===(c=t.d)||void 0===c||c.call(t),null===(s=t["data-droppable"])||void 0===s||s.call(t),null===(u=t["data-narrate"])||void 0===u||u.call(t),null===(d=t["data-narrate-as"])||void 0===d||d.call(t),null===(m=t["data-narrate-after"])||void 0===m||m.call(t),null===(p=t["data-narrate-before"])||void 0===p||p.call(t),null===(f=t["data-testid"])||void 0===f||f.call(t),null===(g=t["data-x-ray"])||void 0===g||g.call(t),null===(E=t.fill)||void 0===E||E.call(t),null===(h=t.id)||void 0===h||h.call(t),null===(b=t.src)||void 0===b||b.call(t),null===(v=t.height)||void 0===v||v.call(t),null===(y=t.href)||void 0===y||y.call(t),null===(F=t.target)||void 0===F||F.call(t),null===(S=t.autoPlay)||void 0===S||S.call(t),null===(C=t.loop)||void 0===C||C.call(t),null===(M=t.disabled)||void 0===M||M.call(t),null===(w=t.maxLength)||void 0===w||w.call(t),null===(k=t.r)||void 0===k||k.call(t),null===(T=t.rx)||void 0===T||T.call(t),null===(P=t.ry)||void 0===P||P.call(t),null===(I=t.rows)||void 0===I||I.call(t),null===(x=t.stroke)||void 0===x||x.call(t),null===(A=t.strokeWidth)||void 0===A||A.call(t),null===(O=t.type)||void 0===O||O.call(t),null===(N=t.text)||void 0===N||N.call(t),null===(R=t.value)||void 0===R||R.call(t),null===(L=t.x)||void 0===L||L.call(t),null===(_=t.x1)||void 0===_||_.call(t),null===(D=t.x2)||void 0===D||D.call(t),null===(W=t.width)||void 0===W||W.call(t),null===(B=t.y)||void 0===B||B.call(t),null===(U=t.y1)||void 0===U||U.call(t),null===(z=t.y2)||void 0===z||z.call(t),null===(H=t.viewBox)||void 0===H||H.call(t),null===(j=t.xLinkHref)||void 0===j||j.call(t),null===(V=t.fillOpacity)||void 0===V||V.call(t),null===(G=t.strokeOpacity)||void 0===G||G.call(t),null===($=t.strokeLinecap)||void 0===$||$.call(t),null===(K=t.strokeLinejoin)||void 0===K||K.call(t),null===(Y=t.points)||void 0===Y||Y.call(t),null===(X=t.offset)||void 0===X||X.call(t),null===(q=t.stopColor)||void 0===q||q.call(t),null===(Q=t.stopOpacity)||void 0===Q||Q.call(t),null===(Z=t.fontFamily)||void 0===Z||Z.call(t),null===(J=t.fontSize)||void 0===J||J.call(t),null===(ee=t.cohinline)||void 0===ee||ee.call(t)},i=()=>{},c={},s={"fast-a":"a","fast-div":"div","fast-p":"p","fast-img":"img","fast-input":"input","fast-span":"span","fast-textarea":"textarea","fast-text":"span",a:"a",div:"div",p:"p",img:"img",textarea:"textarea",input:"input",style:"style"},u={"fast-circle":"circle","fast-ellipse":"ellipse","fast-line":"line","fast-path":"path","fast-rect":"rect","fast-svg":"svg","fast-foreignObject":"foreignObject","fast-use":"use","fast-polyline":"polyline","fast-polygon":"polygon","fast-linearGradient":"linearGradient","fast-radialGradient":"radialGradient","fast-stop":"stop","fast-svg-text":"text","fast-pattern":"pattern",circle:"circle",ellipse:"ellipse",line:"line",path:"path",rect:"rect",svg:"svg",foreignObject:"foreignObject",symbol:"symbol",g:"g",use:"use",defs:"defs",polyline:"polyline",polygon:"polygon",linearGradient:"linearGradient",radialGradient:"radialGradient",stop:"stop",text:"text",pattern:"pattern"}},13525:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isElementContainer=void 0,t.isElementContainer=e=>"children"in e},84654:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSharedFacet=t.SharedFacetDriverProvider=t.sharedFacetDriverContext=void 0;const n=a(3464);t.sharedFacetDriverContext=(0,n.createContext)((()=>()=>{})),t.SharedFacetDriverProvider=t.sharedFacetDriverContext.Provider,t.useSharedFacet=e=>e((0,n.useContext)(t.sharedFacetDriverContext))},69358:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(84654),t),r(a(68911),t),r(a(93976),t),r(a(27639),t),r(a(95600),t),r(a(48357),t)},91176:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=new Map;return a=>{const n=t.get(a);if(n)return n;const r=e(a);return t.set(a,r),r}}},68911:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sharedDynamicSelector=void 0;const r=n(a(91176)),l=a(68912),o=a(27639);t.sharedDynamicSelector=function(e,t=l.defaultEqualityCheck){return(0,r.default)((a=>{const[n,i]=e(a),c=(0,r.default)((e=>o.sharedSelector(n,i,t)(e)));return c.factory=l.FACET_FACTORY,c}))}},93976:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sharedFacet=void 0;const r=n(a(91176)),l=a(68912);t.sharedFacet=function(e,t=l.NO_VALUE){const a=(0,r.default)((a=>(0,l.createFacet)({initialValue:t,startSubscription:t=>a(e,t)})));return a.factory=l.FACET_FACTORY,a}},27639:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sharedSelector=void 0;const r=n(a(91176)),l=a(68912);t.sharedSelector=function(e,t,a=l.defaultEqualityCheck){const n=(0,r.default)((n=>(0,l.mapFacetsCached)(t.map((e=>e(n))),e,a)));return n.factory=l.FACET_FACTORY,n}},95600:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},48357:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSharedFacetPropSetter=void 0;const n=a(68912),r=a(84654);t.useSharedFacetPropSetter=function(e,t){return(0,n.useFacetCallback)((e=>a=>{e[t]=a}),[t],[(0,r.useSharedFacet)(e)])}},69931:(e,t)=>{var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var l=typeof a;if("string"===l||"number"===l)e.push(a);else if(Array.isArray(a)&&a.length){var o=r.apply(null,a);o&&e.push(o)}else if("object"===l)for(var i in a)n.call(a,i)&&a[i]&&e.push(i)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},33020:(e,t,a)=>{var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,o=/^0o[0-7]+$/i,i=parseInt,c="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g,s="object"==typeof self&&self&&self.Object===Object&&self,u=c||s||Function("return this")(),d=Object.prototype.toString,m=Math.max,p=Math.min,f=function(){return u.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function E(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var a=l.test(e);return a||o.test(e)?i(e.slice(2),a?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,a){var n,r,l,o,i,c,s=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var a=n,l=r;return n=r=void 0,s=t,o=e.apply(l,a)}function v(e){return s=e,i=setTimeout(F,t),u?b(e):o}function y(e){var a=e-c;return void 0===c||a>=t||a<0||d&&e-s>=l}function F(){var e=f();if(y(e))return S(e);i=setTimeout(F,function(e){var a=t-(e-c);return d?p(a,l-(e-s)):a}(e))}function S(e){return i=void 0,h&&n?b(e):(n=r=void 0,o)}function C(){var e=f(),a=y(e);if(n=arguments,r=this,c=e,a){if(void 0===i)return v(c);if(d)return i=setTimeout(F,t),b(c)}return void 0===i&&(i=setTimeout(F,t)),o}return t=E(t)||0,g(a)&&(u=!!a.leading,l=(d="maxWait"in a)?m(E(a.maxWait)||0,t):l,h="trailing"in a?!!a.trailing:h),C.cancel=function(){void 0!==i&&clearTimeout(i),s=0,n=c=r=i=void 0},C.flush=function(){return void 0===i?o:S(f())},C}},29584:(e,t,a)=>{var n="Expected a function",r=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,c=parseInt,s="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=s||u||Function("return this")(),m=Object.prototype.toString,p=Math.max,f=Math.min,g=function(){return d.Date.now()};function E(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==m.call(e)}(e))return NaN;if(E(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=E(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var a=o.test(e);return a||i.test(e)?c(e.slice(2),a?2:8):l.test(e)?NaN:+e}e.exports=function(e,t,a){var r=!0,l=!0;if("function"!=typeof e)throw new TypeError(n);return E(a)&&(r="leading"in a?!!a.leading:r,l="trailing"in a?!!a.trailing:l),function(e,t,a){var r,l,o,i,c,s,u=0,d=!1,m=!1,b=!0;if("function"!=typeof e)throw new TypeError(n);function v(t){var a=r,n=l;return r=l=void 0,u=t,i=e.apply(n,a)}function y(e){return u=e,c=setTimeout(S,t),d?v(e):i}function F(e){var a=e-s;return void 0===s||a>=t||a<0||m&&e-u>=o}function S(){var e=g();if(F(e))return C(e);c=setTimeout(S,function(e){var a=t-(e-s);return m?f(a,o-(e-u)):a}(e))}function C(e){return c=void 0,b&&r?v(e):(r=l=void 0,i)}function M(){var e=g(),a=F(e);if(r=arguments,l=this,s=e,a){if(void 0===c)return y(s);if(m)return c=setTimeout(S,t),v(s)}return void 0===c&&(c=setTimeout(S,t)),i}return t=h(t)||0,E(a)&&(d=!!a.leading,o=(m="maxWait"in a)?p(h(a.maxWait)||0,t):o,b="trailing"in a?!!a.trailing:b),M.cancel=function(){void 0!==c&&clearTimeout(c),u=0,r=s=l=c=void 0},M.flush=function(){return void 0===c?i:C(g())},M}(e,t,{leading:r,maxWait:t,trailing:l})}},42255:(e,t,a)=>{var n=a(8671).runInContext();e.exports=a(47482)(n,n)},47482:(e,t,a)=>{var n=a(17938),r=a(45546),l=Array.prototype.push;function o(e,t){return 2==t?function(t,a){return e(t,a)}:function(t){return e(t)}}function i(e){for(var t=e?e.length:0,a=Array(t);t--;)a[t]=e[t];return a}function c(e,t){return function(){var a=arguments.length;if(a){for(var n=Array(a);a--;)n[a]=arguments[a];var r=n[0]=t.apply(void 0,n);return e.apply(void 0,n),r}}}e.exports=function e(t,a,s,u){var d="function"==typeof a,m=a===Object(a);if(m&&(u=s,s=a,a=void 0),null==s)throw new TypeError;u||(u={});var p=!("cap"in u)||u.cap,f=!("curry"in u)||u.curry,g=!("fixed"in u)||u.fixed,E=!("immutable"in u)||u.immutable,h=!("rearg"in u)||u.rearg,b=d?s:r,v="curry"in u&&u.curry,y="fixed"in u&&u.fixed,F="rearg"in u&&u.rearg,S=d?s.runInContext():void 0,C=d?s:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},M=C.ary,w=C.assign,k=C.clone,T=C.curry,P=C.forEach,I=C.isArray,x=C.isError,A=C.isFunction,O=C.isWeakMap,N=C.keys,R=C.rearg,L=C.toInteger,_=C.toPath,D=N(n.aryMethod),W={castArray:function(e){return function(){var t=arguments[0];return I(t)?e(i(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],a=arguments[1],n=e(t,a),r=n.length;return p&&"number"==typeof a?(a=a>2?a-2:1,r&&r<=a?n:o(n,a)):n}},mixin:function(e){return function(t){var a=this;if(!A(a))return e(a,Object(t));var n=[];return P(N(t),(function(e){A(t[e])&&n.push([e,a.prototype[e]])})),e(a,Object(t)),P(n,(function(e){var t=e[1];A(t)?a.prototype[e[0]]=t:delete a.prototype[e[0]]})),a}},nthArg:function(e){return function(t){var a=t<0?1:L(t)+1;return T(e(t),a)}},rearg:function(e){return function(t,a){var n=a?a.length:0;return T(e(t,a),n)}},runInContext:function(a){return function(n){return e(t,a(n),u)}}};function B(e,t,a){if(g&&(y||!n.skipFixed[e])){var r=n.methodSpread[e],o=r&&r.start;return void 0===o?M(t,a):function(e,t){return function(){for(var a=arguments.length,n=a-1,r=Array(a);a--;)r[a]=arguments[a];var o=r[t],i=r.slice(0,t);return o&&l.apply(i,o),t!=n&&l.apply(i,r.slice(t+1)),e.apply(this,i)}}(t,o)}return t}function U(e,t,a){return h&&a>1&&(F||!n.skipRearg[e])?R(t,n.methodRearg[e]||n.aryRearg[a]):t}function z(e,t){for(var a=-1,n=(t=_(t)).length,r=n-1,l=k(Object(e)),o=l;null!=o&&++a<n;){var i=t[a],c=o[i];null==c||A(c)||x(c)||O(c)||(o[i]=k(a==r?c:Object(c))),o=o[i]}return l}function H(t,a){var r=n.aliasToReal[t]||t,l=n.remap[r]||r,o=u;return function(t){var n=d?S:C,i=d?S[l]:a,c=w(w({},o),t);return e(n,r,i,c)}}function j(e,t){return function(){var a=arguments.length;if(!a)return e();for(var n=Array(a);a--;)n[a]=arguments[a];var r=h?0:a-1;return n[r]=t(n[r]),e.apply(void 0,n)}}function V(e,t,a){var r,l=n.aliasToReal[e]||e,s=t,u=W[l];return u?s=u(t):E&&(n.mutate.array[l]?s=c(t,i):n.mutate.object[l]?s=c(t,function(e){return function(t){return e({},t)}}(t)):n.mutate.set[l]&&(s=c(t,z))),P(D,(function(e){return P(n.aryMethod[e],(function(t){if(l==t){var a=n.methodSpread[l],i=a&&a.afterRearg;return r=i?B(l,U(l,s,e),e):U(l,B(l,s,e),e),r=function(e,t,a){return v||f&&a>1?T(t,a):t}(0,r=function(e,t){if(p){var a=n.iterateeRearg[e];if(a)return function(e,t){return j(e,(function(e){var a=t.length;return function(e,t){return 2==t?function(t,a){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(R(o(e,a),t),a)}))}(t,a);var r=!d&&n.iterateeAry[e];if(r)return function(e,t){return j(e,(function(e){return"function"==typeof e?o(e,t):e}))}(t,r)}return t}(l,r),e),!1}})),!r})),r||(r=s),r==t&&(r=v?T(r,1):function(){return t.apply(this,arguments)}),r.convert=H(l,t),r.placeholder=t.placeholder=a,r}if(!m)return V(a,s,b);var G=s,$=[];return P(D,(function(e){P(n.aryMethod[e],(function(e){var t=G[n.remap[e]||e];t&&$.push([e,V(e,t,G)])}))})),P(N(G),(function(e){var t=G[e];if("function"==typeof t){for(var a=$.length;a--;)if($[a][0]==e)return;t.convert=H(e,t),$.push([e,t])}})),P($,(function(e){G[e[0]]=e[1]})),G.convert=function(e){return G.runInContext.convert(e)(void 0)},G.placeholder=G,P(N(G),(function(e){P(n.realToAlias[e]||[],(function(t){G[t]=G[e]}))})),G}},17938:(e,t)=>{t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,a=t.aliasToReal,n={};for(var r in a){var l=a[r];e.call(n,l)?n[l].push(r):n[l]=[r]}return n}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},45546:e=>{e.exports={}},78136:function(e,t,a){var n;e=a.nmd(e),function(){var r,l="Expected a function",o="__lodash_hash_undefined__",i="__lodash_placeholder__",c=32,s=128,u=1/0,d=9007199254740991,m=NaN,p=4294967295,f=[["ary",s],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],g="[object Arguments]",E="[object Array]",h="[object Boolean]",b="[object Date]",v="[object Error]",y="[object Function]",F="[object GeneratorFunction]",S="[object Map]",C="[object Number]",M="[object Object]",w="[object Promise]",k="[object RegExp]",T="[object Set]",P="[object String]",I="[object Symbol]",x="[object WeakMap]",A="[object ArrayBuffer]",O="[object DataView]",N="[object Float32Array]",R="[object Float64Array]",L="[object Int8Array]",_="[object Int16Array]",D="[object Int32Array]",W="[object Uint8Array]",B="[object Uint8ClampedArray]",U="[object Uint16Array]",z="[object Uint32Array]",H=/\b__p \+= '';/g,j=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,K=RegExp(G.source),Y=RegExp($.source),X=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(te.source),ne=/^\s+/,re=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,oe=/\{\n\/\* \[wrapped with (.+)\] \*/,ie=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,se=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,Ee=/^0o[0-7]+$/i,he=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ve=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,Fe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Me="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",we="["+Me+"]",ke="["+Fe+"]",Te="\\d+",Pe="["+Se+"]",Ie="[^\\ud800-\\udfff"+Me+Te+"\\u2700-\\u27bf"+Se+Ce+"]",xe="\\ud83c[\\udffb-\\udfff]",Ae="[^\\ud800-\\udfff]",Oe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",Re="["+Ce+"]",Le="(?:"+Pe+"|"+Ie+")",_e="(?:"+Re+"|"+Ie+")",De="(?:['’](?:d|ll|m|re|s|t|ve))?",We="(?:['’](?:D|LL|M|RE|S|T|VE))?",Be="(?:"+ke+"|"+xe+")?",Ue="[\\ufe0e\\ufe0f]?",ze=Ue+Be+"(?:\\u200d(?:"+[Ae,Oe,Ne].join("|")+")"+Ue+Be+")*",He="(?:"+["[\\u2700-\\u27bf]",Oe,Ne].join("|")+")"+ze,je="(?:"+[Ae+ke+"?",ke,Oe,Ne,"[\\ud800-\\udfff]"].join("|")+")",Ve=RegExp("['’]","g"),Ge=RegExp(ke,"g"),$e=RegExp(xe+"(?="+xe+")|"+je+ze,"g"),Ke=RegExp([Re+"?"+Pe+"+"+De+"(?="+[we,Re,"$"].join("|")+")",_e+"+"+We+"(?="+[we,Re+Le,"$"].join("|")+")",Re+"?"+Le+"+"+De,Re+"+"+We,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Te,He].join("|"),"g"),Ye=RegExp("[\\u200d\\ud800-\\udfff"+Fe+"\\ufe0e\\ufe0f]"),Xe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qe=-1,Ze={};Ze[N]=Ze[R]=Ze[L]=Ze[_]=Ze[D]=Ze[W]=Ze[B]=Ze[U]=Ze[z]=!0,Ze[g]=Ze[E]=Ze[A]=Ze[h]=Ze[O]=Ze[b]=Ze[v]=Ze[y]=Ze[S]=Ze[C]=Ze[M]=Ze[k]=Ze[T]=Ze[P]=Ze[x]=!1;var Je={};Je[g]=Je[E]=Je[A]=Je[O]=Je[h]=Je[b]=Je[N]=Je[R]=Je[L]=Je[_]=Je[D]=Je[S]=Je[C]=Je[M]=Je[k]=Je[T]=Je[P]=Je[I]=Je[W]=Je[B]=Je[U]=Je[z]=!0,Je[v]=Je[y]=Je[x]=!1;var et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tt=parseFloat,at=parseInt,nt="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g,rt="object"==typeof self&&self&&self.Object===Object&&self,lt=nt||rt||Function("return this")(),ot=t&&!t.nodeType&&t,it=ot&&e&&!e.nodeType&&e,ct=it&&it.exports===ot,st=ct&&nt.process,ut=function(){try{return it&&it.require&&it.require("util").types||st&&st.binding&&st.binding("util")}catch(e){}}(),dt=ut&&ut.isArrayBuffer,mt=ut&&ut.isDate,pt=ut&&ut.isMap,ft=ut&&ut.isRegExp,gt=ut&&ut.isSet,Et=ut&&ut.isTypedArray;function ht(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function bt(e,t,a,n){for(var r=-1,l=null==e?0:e.length;++r<l;){var o=e[r];t(n,o,a(o),e)}return n}function vt(e,t){for(var a=-1,n=null==e?0:e.length;++a<n&&!1!==t(e[a],a,e););return e}function yt(e,t){for(var a=null==e?0:e.length;a--&&!1!==t(e[a],a,e););return e}function Ft(e,t){for(var a=-1,n=null==e?0:e.length;++a<n;)if(!t(e[a],a,e))return!1;return!0}function St(e,t){for(var a=-1,n=null==e?0:e.length,r=0,l=[];++a<n;){var o=e[a];t(o,a,e)&&(l[r++]=o)}return l}function Ct(e,t){return!(null==e||!e.length)&&Nt(e,t,0)>-1}function Mt(e,t,a){for(var n=-1,r=null==e?0:e.length;++n<r;)if(a(t,e[n]))return!0;return!1}function wt(e,t){for(var a=-1,n=null==e?0:e.length,r=Array(n);++a<n;)r[a]=t(e[a],a,e);return r}function kt(e,t){for(var a=-1,n=t.length,r=e.length;++a<n;)e[r+a]=t[a];return e}function Tt(e,t,a,n){var r=-1,l=null==e?0:e.length;for(n&&l&&(a=e[++r]);++r<l;)a=t(a,e[r],r,e);return a}function Pt(e,t,a,n){var r=null==e?0:e.length;for(n&&r&&(a=e[--r]);r--;)a=t(a,e[r],r,e);return a}function It(e,t){for(var a=-1,n=null==e?0:e.length;++a<n;)if(t(e[a],a,e))return!0;return!1}var xt=Dt("length");function At(e,t,a){var n;return a(e,(function(e,a,r){if(t(e,a,r))return n=a,!1})),n}function Ot(e,t,a,n){for(var r=e.length,l=a+(n?1:-1);n?l--:++l<r;)if(t(e[l],l,e))return l;return-1}function Nt(e,t,a){return t==t?function(e,t,a){for(var n=a-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}(e,t,a):Ot(e,Lt,a)}function Rt(e,t,a,n){for(var r=a-1,l=e.length;++r<l;)if(n(e[r],t))return r;return-1}function Lt(e){return e!=e}function _t(e,t){var a=null==e?0:e.length;return a?Ut(e,t)/a:m}function Dt(e){return function(t){return null==t?r:t[e]}}function Wt(e){return function(t){return null==e?r:e[t]}}function Bt(e,t,a,n,r){return r(e,(function(e,r,l){a=n?(n=!1,e):t(a,e,r,l)})),a}function Ut(e,t){for(var a,n=-1,l=e.length;++n<l;){var o=t(e[n]);o!==r&&(a=a===r?o:a+o)}return a}function zt(e,t){for(var a=-1,n=Array(e);++a<e;)n[a]=t(a);return n}function Ht(e){return e?e.slice(0,oa(e)+1).replace(ne,""):e}function jt(e){return function(t){return e(t)}}function Vt(e,t){return wt(t,(function(t){return e[t]}))}function Gt(e,t){return e.has(t)}function $t(e,t){for(var a=-1,n=e.length;++a<n&&Nt(t,e[a],0)>-1;);return a}function Kt(e,t){for(var a=e.length;a--&&Nt(t,e[a],0)>-1;);return a}function Yt(e,t){for(var a=e.length,n=0;a--;)e[a]===t&&++n;return n}var Xt=Wt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),qt=Wt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Qt(e){return"\\"+et[e]}function Zt(e){return Ye.test(e)}function Jt(e){var t=-1,a=Array(e.size);return e.forEach((function(e,n){a[++t]=[n,e]})),a}function ea(e,t){return function(a){return e(t(a))}}function ta(e,t){for(var a=-1,n=e.length,r=0,l=[];++a<n;){var o=e[a];o!==t&&o!==i||(e[a]=i,l[r++]=a)}return l}function aa(e){var t=-1,a=Array(e.size);return e.forEach((function(e){a[++t]=e})),a}function na(e){var t=-1,a=Array(e.size);return e.forEach((function(e){a[++t]=[e,e]})),a}function ra(e){return Zt(e)?function(e){for(var t=$e.lastIndex=0;$e.test(e);)++t;return t}(e):xt(e)}function la(e){return Zt(e)?function(e){return e.match($e)||[]}(e):function(e){return e.split("")}(e)}function oa(e){for(var t=e.length;t--&&re.test(e.charAt(t)););return t}var ia=Wt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ca=function e(t){var a,n=(t=null==t?lt:ca.defaults(lt.Object(),t,ca.pick(lt,qe))).Array,re=t.Date,Fe=t.Error,Se=t.Function,Ce=t.Math,Me=t.Object,we=t.RegExp,ke=t.String,Te=t.TypeError,Pe=n.prototype,Ie=Se.prototype,xe=Me.prototype,Ae=t["__core-js_shared__"],Oe=Ie.toString,Ne=xe.hasOwnProperty,Re=0,Le=(a=/[^.]+$/.exec(Ae&&Ae.keys&&Ae.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"",_e=xe.toString,De=Oe.call(Me),We=lt._,Be=we("^"+Oe.call(Ne).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=ct?t.Buffer:r,ze=t.Symbol,He=t.Uint8Array,je=Ue?Ue.allocUnsafe:r,$e=ea(Me.getPrototypeOf,Me),Ye=Me.create,et=xe.propertyIsEnumerable,nt=Pe.splice,rt=ze?ze.isConcatSpreadable:r,ot=ze?ze.iterator:r,it=ze?ze.toStringTag:r,st=function(){try{var e=sl(Me,"defineProperty");return e({},"",{}),e}catch(e){}}(),ut=t.clearTimeout!==lt.clearTimeout&&t.clearTimeout,xt=re&&re.now!==lt.Date.now&&re.now,Wt=t.setTimeout!==lt.setTimeout&&t.setTimeout,sa=Ce.ceil,ua=Ce.floor,da=Me.getOwnPropertySymbols,ma=Ue?Ue.isBuffer:r,pa=t.isFinite,fa=Pe.join,ga=ea(Me.keys,Me),Ea=Ce.max,ha=Ce.min,ba=re.now,va=t.parseInt,ya=Ce.random,Fa=Pe.reverse,Sa=sl(t,"DataView"),Ca=sl(t,"Map"),Ma=sl(t,"Promise"),wa=sl(t,"Set"),ka=sl(t,"WeakMap"),Ta=sl(Me,"create"),Pa=ka&&new ka,Ia={},xa=Wl(Sa),Aa=Wl(Ca),Oa=Wl(Ma),Na=Wl(wa),Ra=Wl(ka),La=ze?ze.prototype:r,_a=La?La.valueOf:r,Da=La?La.toString:r;function Wa(e){if(ai(e)&&!Go(e)&&!(e instanceof Ha)){if(e instanceof za)return e;if(Ne.call(e,"__wrapped__"))return Bl(e)}return new za(e)}var Ba=function(){function e(){}return function(t){if(!ti(t))return{};if(Ye)return Ye(t);e.prototype=t;var a=new e;return e.prototype=r,a}}();function Ua(){}function za(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function Ha(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function ja(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function Va(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function Ga(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function $a(e){var t=-1,a=null==e?0:e.length;for(this.__data__=new Ga;++t<a;)this.add(e[t])}function Ka(e){var t=this.__data__=new Va(e);this.size=t.size}function Ya(e,t){var a=Go(e),n=!a&&Vo(e),r=!a&&!n&&Xo(e),l=!a&&!n&&!r&&ui(e),o=a||n||r||l,i=o?zt(e.length,ke):[],c=i.length;for(var s in e)!t&&!Ne.call(e,s)||o&&("length"==s||r&&("offset"==s||"parent"==s)||l&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||El(s,c))||i.push(s);return i}function Xa(e){var t=e.length;return t?e[$n(0,t-1)]:r}function qa(e,t){return Nl(Tr(e),ln(t,0,e.length))}function Qa(e){return Nl(Tr(e))}function Za(e,t,a){(a!==r&&!zo(e[t],a)||a===r&&!(t in e))&&nn(e,t,a)}function Ja(e,t,a){var n=e[t];Ne.call(e,t)&&zo(n,a)&&(a!==r||t in e)||nn(e,t,a)}function en(e,t){for(var a=e.length;a--;)if(zo(e[a][0],t))return a;return-1}function tn(e,t,a,n){return dn(e,(function(e,r,l){t(n,e,a(e),l)})),n}function an(e,t){return e&&Pr(t,Oi(t),e)}function nn(e,t,a){"__proto__"==t&&st?st(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function rn(e,t){for(var a=-1,l=t.length,o=n(l),i=null==e;++a<l;)o[a]=i?r:Ti(e,t[a]);return o}function ln(e,t,a){return e==e&&(a!==r&&(e=e<=a?e:a),t!==r&&(e=e>=t?e:t)),e}function on(e,t,a,n,l,o){var i,c=1&t,s=2&t,u=4&t;if(a&&(i=l?a(e,n,l,o):a(e)),i!==r)return i;if(!ti(e))return e;var d=Go(e);if(d){if(i=function(e){var t=e.length,a=new e.constructor(t);return t&&"string"==typeof e[0]&&Ne.call(e,"index")&&(a.index=e.index,a.input=e.input),a}(e),!c)return Tr(e,i)}else{var m=ml(e),p=m==y||m==F;if(Xo(e))return Fr(e,c);if(m==M||m==g||p&&!l){if(i=s||p?{}:fl(e),!c)return s?function(e,t){return Pr(e,dl(e),t)}(e,function(e,t){return e&&Pr(t,Ni(t),e)}(i,e)):function(e,t){return Pr(e,ul(e),t)}(e,an(i,e))}else{if(!Je[m])return l?e:{};i=function(e,t,a){var n,r=e.constructor;switch(t){case A:return Sr(e);case h:case b:return new r(+e);case O:return function(e,t){var a=t?Sr(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}(e,a);case N:case R:case L:case _:case D:case W:case B:case U:case z:return Cr(e,a);case S:return new r;case C:case P:return new r(e);case k:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case T:return new r;case I:return n=e,_a?Me(_a.call(n)):{}}}(e,m,c)}}o||(o=new Ka);var f=o.get(e);if(f)return f;o.set(e,i),ii(e)?e.forEach((function(n){i.add(on(n,t,a,n,e,o))})):ni(e)&&e.forEach((function(n,r){i.set(r,on(n,t,a,r,e,o))}));var E=d?r:(u?s?al:tl:s?Ni:Oi)(e);return vt(E||e,(function(n,r){E&&(n=e[r=n]),Ja(i,r,on(n,t,a,r,e,o))})),i}function cn(e,t,a){var n=a.length;if(null==e)return!n;for(e=Me(e);n--;){var l=a[n],o=t[l],i=e[l];if(i===r&&!(l in e)||!o(i))return!1}return!0}function sn(e,t,a){if("function"!=typeof e)throw new Te(l);return Il((function(){e.apply(r,a)}),t)}function un(e,t,a,n){var r=-1,l=Ct,o=!0,i=e.length,c=[],s=t.length;if(!i)return c;a&&(t=wt(t,jt(a))),n?(l=Mt,o=!1):t.length>=200&&(l=Gt,o=!1,t=new $a(t));e:for(;++r<i;){var u=e[r],d=null==a?u:a(u);if(u=n||0!==u?u:0,o&&d==d){for(var m=s;m--;)if(t[m]===d)continue e;c.push(u)}else l(t,d,n)||c.push(u)}return c}Wa.templateSettings={escape:X,evaluate:q,interpolate:Q,variable:"",imports:{_:Wa}},Wa.prototype=Ua.prototype,Wa.prototype.constructor=Wa,za.prototype=Ba(Ua.prototype),za.prototype.constructor=za,Ha.prototype=Ba(Ua.prototype),Ha.prototype.constructor=Ha,ja.prototype.clear=function(){this.__data__=Ta?Ta(null):{},this.size=0},ja.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ja.prototype.get=function(e){var t=this.__data__;if(Ta){var a=t[e];return a===o?r:a}return Ne.call(t,e)?t[e]:r},ja.prototype.has=function(e){var t=this.__data__;return Ta?t[e]!==r:Ne.call(t,e)},ja.prototype.set=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=Ta&&t===r?o:t,this},Va.prototype.clear=function(){this.__data__=[],this.size=0},Va.prototype.delete=function(e){var t=this.__data__,a=en(t,e);return!(a<0||(a==t.length-1?t.pop():nt.call(t,a,1),--this.size,0))},Va.prototype.get=function(e){var t=this.__data__,a=en(t,e);return a<0?r:t[a][1]},Va.prototype.has=function(e){return en(this.__data__,e)>-1},Va.prototype.set=function(e,t){var a=this.__data__,n=en(a,e);return n<0?(++this.size,a.push([e,t])):a[n][1]=t,this},Ga.prototype.clear=function(){this.size=0,this.__data__={hash:new ja,map:new(Ca||Va),string:new ja}},Ga.prototype.delete=function(e){var t=il(this,e).delete(e);return this.size-=t?1:0,t},Ga.prototype.get=function(e){return il(this,e).get(e)},Ga.prototype.has=function(e){return il(this,e).has(e)},Ga.prototype.set=function(e,t){var a=il(this,e),n=a.size;return a.set(e,t),this.size+=a.size==n?0:1,this},$a.prototype.add=$a.prototype.push=function(e){return this.__data__.set(e,o),this},$a.prototype.has=function(e){return this.__data__.has(e)},Ka.prototype.clear=function(){this.__data__=new Va,this.size=0},Ka.prototype.delete=function(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a},Ka.prototype.get=function(e){return this.__data__.get(e)},Ka.prototype.has=function(e){return this.__data__.has(e)},Ka.prototype.set=function(e,t){var a=this.__data__;if(a instanceof Va){var n=a.__data__;if(!Ca||n.length<199)return n.push([e,t]),this.size=++a.size,this;a=this.__data__=new Ga(n)}return a.set(e,t),this.size=a.size,this};var dn=Ar(vn),mn=Ar(yn,!0);function pn(e,t){var a=!0;return dn(e,(function(e,n,r){return a=!!t(e,n,r)})),a}function fn(e,t,a){for(var n=-1,l=e.length;++n<l;){var o=e[n],i=t(o);if(null!=i&&(c===r?i==i&&!si(i):a(i,c)))var c=i,s=o}return s}function gn(e,t){var a=[];return dn(e,(function(e,n,r){t(e,n,r)&&a.push(e)})),a}function En(e,t,a,n,r){var l=-1,o=e.length;for(a||(a=gl),r||(r=[]);++l<o;){var i=e[l];t>0&&a(i)?t>1?En(i,t-1,a,n,r):kt(r,i):n||(r[r.length]=i)}return r}var hn=Or(),bn=Or(!0);function vn(e,t){return e&&hn(e,t,Oi)}function yn(e,t){return e&&bn(e,t,Oi)}function Fn(e,t){return St(t,(function(t){return Zo(e[t])}))}function Sn(e,t){for(var a=0,n=(t=hr(t,e)).length;null!=e&&a<n;)e=e[Dl(t[a++])];return a&&a==n?e:r}function Cn(e,t,a){var n=t(e);return Go(e)?n:kt(n,a(e))}function Mn(e){return null==e?e===r?"[object Undefined]":"[object Null]":it&&it in Me(e)?function(e){var t=Ne.call(e,it),a=e[it];try{e[it]=r;var n=!0}catch(e){}var l=_e.call(e);return n&&(t?e[it]=a:delete e[it]),l}(e):function(e){return _e.call(e)}(e)}function wn(e,t){return e>t}function kn(e,t){return null!=e&&Ne.call(e,t)}function Tn(e,t){return null!=e&&t in Me(e)}function Pn(e,t,a){for(var l=a?Mt:Ct,o=e[0].length,i=e.length,c=i,s=n(i),u=1/0,d=[];c--;){var m=e[c];c&&t&&(m=wt(m,jt(t))),u=ha(m.length,u),s[c]=!a&&(t||o>=120&&m.length>=120)?new $a(c&&m):r}m=e[0];var p=-1,f=s[0];e:for(;++p<o&&d.length<u;){var g=m[p],E=t?t(g):g;if(g=a||0!==g?g:0,!(f?Gt(f,E):l(d,E,a))){for(c=i;--c;){var h=s[c];if(!(h?Gt(h,E):l(e[c],E,a)))continue e}f&&f.push(E),d.push(g)}}return d}function In(e,t,a){var n=null==(e=wl(e,t=hr(t,e)))?e:e[Dl(ql(t))];return null==n?r:ht(n,e,a)}function xn(e){return ai(e)&&Mn(e)==g}function An(e,t,a,n,l){return e===t||(null==e||null==t||!ai(e)&&!ai(t)?e!=e&&t!=t:function(e,t,a,n,l,o){var i=Go(e),c=Go(t),s=i?E:ml(e),u=c?E:ml(t),d=(s=s==g?M:s)==M,m=(u=u==g?M:u)==M,p=s==u;if(p&&Xo(e)){if(!Xo(t))return!1;i=!0,d=!1}if(p&&!d)return o||(o=new Ka),i||ui(e)?Jr(e,t,a,n,l,o):function(e,t,a,n,r,l,o){switch(a){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case A:return!(e.byteLength!=t.byteLength||!l(new He(e),new He(t)));case h:case b:case C:return zo(+e,+t);case v:return e.name==t.name&&e.message==t.message;case k:case P:return e==t+"";case S:var i=Jt;case T:var c=1&n;if(i||(i=aa),e.size!=t.size&&!c)return!1;var s=o.get(e);if(s)return s==t;n|=2,o.set(e,t);var u=Jr(i(e),i(t),n,r,l,o);return o.delete(e),u;case I:if(_a)return _a.call(e)==_a.call(t)}return!1}(e,t,s,a,n,l,o);if(!(1&a)){var f=d&&Ne.call(e,"__wrapped__"),y=m&&Ne.call(t,"__wrapped__");if(f||y){var F=f?e.value():e,w=y?t.value():t;return o||(o=new Ka),l(F,w,a,n,o)}}return!!p&&(o||(o=new Ka),function(e,t,a,n,l,o){var i=1&a,c=tl(e),s=c.length;if(s!=tl(t).length&&!i)return!1;for(var u=s;u--;){var d=c[u];if(!(i?d in t:Ne.call(t,d)))return!1}var m=o.get(e),p=o.get(t);if(m&&p)return m==t&&p==e;var f=!0;o.set(e,t),o.set(t,e);for(var g=i;++u<s;){var E=e[d=c[u]],h=t[d];if(n)var b=i?n(h,E,d,t,e,o):n(E,h,d,e,t,o);if(!(b===r?E===h||l(E,h,a,n,o):b)){f=!1;break}g||(g="constructor"==d)}if(f&&!g){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,a,n,l,o))}(e,t,a,n,An,l))}function On(e,t,a,n){var l=a.length,o=l,i=!n;if(null==e)return!o;for(e=Me(e);l--;){var c=a[l];if(i&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++l<o;){var s=(c=a[l])[0],u=e[s],d=c[1];if(i&&c[2]){if(u===r&&!(s in e))return!1}else{var m=new Ka;if(n)var p=n(u,d,s,e,t,m);if(!(p===r?An(d,u,3,n,m):p))return!1}}return!0}function Nn(e){return!(!ti(e)||(t=e,Le&&Le in t))&&(Zo(e)?Be:ge).test(Wl(e));var t}function Rn(e){return"function"==typeof e?e:null==e?rc:"object"==typeof e?Go(e)?Bn(e[0],e[1]):Wn(e):pc(e)}function Ln(e){if(!Fl(e))return ga(e);var t=[];for(var a in Me(e))Ne.call(e,a)&&"constructor"!=a&&t.push(a);return t}function _n(e,t){return e<t}function Dn(e,t){var a=-1,r=Ko(e)?n(e.length):[];return dn(e,(function(e,n,l){r[++a]=t(e,n,l)})),r}function Wn(e){var t=cl(e);return 1==t.length&&t[0][2]?Cl(t[0][0],t[0][1]):function(a){return a===e||On(a,e,t)}}function Bn(e,t){return bl(e)&&Sl(t)?Cl(Dl(e),t):function(a){var n=Ti(a,e);return n===r&&n===t?Pi(a,e):An(t,n,3)}}function Un(e,t,a,n,l){e!==t&&hn(t,(function(o,i){if(l||(l=new Ka),ti(o))!function(e,t,a,n,l,o,i){var c=Tl(e,a),s=Tl(t,a),u=i.get(s);if(u)Za(e,a,u);else{var d=o?o(c,s,a+"",e,t,i):r,m=d===r;if(m){var p=Go(s),f=!p&&Xo(s),g=!p&&!f&&ui(s);d=s,p||f||g?Go(c)?d=c:Yo(c)?d=Tr(c):f?(m=!1,d=Fr(s,!0)):g?(m=!1,d=Cr(s,!0)):d=[]:li(s)||Vo(s)?(d=c,Vo(c)?d=bi(c):ti(c)&&!Zo(c)||(d=fl(s))):m=!1}m&&(i.set(s,d),l(d,s,n,o,i),i.delete(s)),Za(e,a,d)}}(e,t,i,a,Un,n,l);else{var c=n?n(Tl(e,i),o,i+"",e,t,l):r;c===r&&(c=o),Za(e,i,c)}}),Ni)}function zn(e,t){var a=e.length;if(a)return El(t+=t<0?a:0,a)?e[t]:r}function Hn(e,t,a){t=t.length?wt(t,(function(e){return Go(e)?function(t){return Sn(t,1===e.length?e[0]:e)}:e})):[rc];var n=-1;t=wt(t,jt(ol()));var r=Dn(e,(function(e,a,r){var l=wt(t,(function(t){return t(e)}));return{criteria:l,index:++n,value:e}}));return function(e,t){var n=e.length;for(e.sort((function(e,t){return function(e,t,a){for(var n=-1,r=e.criteria,l=t.criteria,o=r.length,i=a.length;++n<o;){var c=Mr(r[n],l[n]);if(c)return n>=i?c:c*("desc"==a[n]?-1:1)}return e.index-t.index}(e,t,a)}));n--;)e[n]=e[n].value;return e}(r)}function jn(e,t,a){for(var n=-1,r=t.length,l={};++n<r;){var o=t[n],i=Sn(e,o);a(i,o)&&Qn(l,hr(o,e),i)}return l}function Vn(e,t,a,n){var r=n?Rt:Nt,l=-1,o=t.length,i=e;for(e===t&&(t=Tr(t)),a&&(i=wt(e,jt(a)));++l<o;)for(var c=0,s=t[l],u=a?a(s):s;(c=r(i,u,c,n))>-1;)i!==e&&nt.call(i,c,1),nt.call(e,c,1);return e}function Gn(e,t){for(var a=e?t.length:0,n=a-1;a--;){var r=t[a];if(a==n||r!==l){var l=r;El(r)?nt.call(e,r,1):sr(e,r)}}return e}function $n(e,t){return e+ua(ya()*(t-e+1))}function Kn(e,t){var a="";if(!e||t<1||t>d)return a;do{t%2&&(a+=e),(t=ua(t/2))&&(e+=e)}while(t);return a}function Yn(e,t){return xl(Ml(e,t,rc),e+"")}function Xn(e){return Xa(zi(e))}function qn(e,t){var a=zi(e);return Nl(a,ln(t,0,a.length))}function Qn(e,t,a,n){if(!ti(e))return e;for(var l=-1,o=(t=hr(t,e)).length,i=o-1,c=e;null!=c&&++l<o;){var s=Dl(t[l]),u=a;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(l!=i){var d=c[s];(u=n?n(d,s,c):r)===r&&(u=ti(d)?d:El(t[l+1])?[]:{})}Ja(c,s,u),c=c[s]}return e}var Zn=Pa?function(e,t){return Pa.set(e,t),e}:rc,Jn=st?function(e,t){return st(e,"toString",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:rc;function er(e){return Nl(zi(e))}function tr(e,t,a){var r=-1,l=e.length;t<0&&(t=-t>l?0:l+t),(a=a>l?l:a)<0&&(a+=l),l=t>a?0:a-t>>>0,t>>>=0;for(var o=n(l);++r<l;)o[r]=e[r+t];return o}function ar(e,t){var a;return dn(e,(function(e,n,r){return!(a=t(e,n,r))})),!!a}function nr(e,t,a){var n=0,r=null==e?n:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;n<r;){var l=n+r>>>1,o=e[l];null!==o&&!si(o)&&(a?o<=t:o<t)?n=l+1:r=l}return r}return rr(e,t,rc,a)}function rr(e,t,a,n){var l=0,o=null==e?0:e.length;if(0===o)return 0;for(var i=(t=a(t))!=t,c=null===t,s=si(t),u=t===r;l<o;){var d=ua((l+o)/2),m=a(e[d]),p=m!==r,f=null===m,g=m==m,E=si(m);if(i)var h=n||g;else h=u?g&&(n||p):c?g&&p&&(n||!f):s?g&&p&&!f&&(n||!E):!f&&!E&&(n?m<=t:m<t);h?l=d+1:o=d}return ha(o,4294967294)}function lr(e,t){for(var a=-1,n=e.length,r=0,l=[];++a<n;){var o=e[a],i=t?t(o):o;if(!a||!zo(i,c)){var c=i;l[r++]=0===o?0:o}}return l}function or(e){return"number"==typeof e?e:si(e)?m:+e}function ir(e){if("string"==typeof e)return e;if(Go(e))return wt(e,ir)+"";if(si(e))return Da?Da.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function cr(e,t,a){var n=-1,r=Ct,l=e.length,o=!0,i=[],c=i;if(a)o=!1,r=Mt;else if(l>=200){var s=t?null:Kr(e);if(s)return aa(s);o=!1,r=Gt,c=new $a}else c=t?[]:i;e:for(;++n<l;){var u=e[n],d=t?t(u):u;if(u=a||0!==u?u:0,o&&d==d){for(var m=c.length;m--;)if(c[m]===d)continue e;t&&c.push(d),i.push(u)}else r(c,d,a)||(c!==i&&c.push(d),i.push(u))}return i}function sr(e,t){return null==(e=wl(e,t=hr(t,e)))||delete e[Dl(ql(t))]}function ur(e,t,a,n){return Qn(e,t,a(Sn(e,t)),n)}function dr(e,t,a,n){for(var r=e.length,l=n?r:-1;(n?l--:++l<r)&&t(e[l],l,e););return a?tr(e,n?0:l,n?l+1:r):tr(e,n?l+1:0,n?r:l)}function mr(e,t){var a=e;return a instanceof Ha&&(a=a.value()),Tt(t,(function(e,t){return t.func.apply(t.thisArg,kt([e],t.args))}),a)}function pr(e,t,a){var r=e.length;if(r<2)return r?cr(e[0]):[];for(var l=-1,o=n(r);++l<r;)for(var i=e[l],c=-1;++c<r;)c!=l&&(o[l]=un(o[l]||i,e[c],t,a));return cr(En(o,1),t,a)}function fr(e,t,a){for(var n=-1,l=e.length,o=t.length,i={};++n<l;){var c=n<o?t[n]:r;a(i,e[n],c)}return i}function gr(e){return Yo(e)?e:[]}function Er(e){return"function"==typeof e?e:rc}function hr(e,t){return Go(e)?e:bl(e,t)?[e]:_l(vi(e))}var br=Yn;function vr(e,t,a){var n=e.length;return a=a===r?n:a,!t&&a>=n?e:tr(e,t,a)}var yr=ut||function(e){return lt.clearTimeout(e)};function Fr(e,t){if(t)return e.slice();var a=e.length,n=je?je(a):new e.constructor(a);return e.copy(n),n}function Sr(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function Cr(e,t){var a=t?Sr(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function Mr(e,t){if(e!==t){var a=e!==r,n=null===e,l=e==e,o=si(e),i=t!==r,c=null===t,s=t==t,u=si(t);if(!c&&!u&&!o&&e>t||o&&i&&s&&!c&&!u||n&&i&&s||!a&&s||!l)return 1;if(!n&&!o&&!u&&e<t||u&&a&&l&&!n&&!o||c&&a&&l||!i&&l||!s)return-1}return 0}function wr(e,t,a,r){for(var l=-1,o=e.length,i=a.length,c=-1,s=t.length,u=Ea(o-i,0),d=n(s+u),m=!r;++c<s;)d[c]=t[c];for(;++l<i;)(m||l<o)&&(d[a[l]]=e[l]);for(;u--;)d[c++]=e[l++];return d}function kr(e,t,a,r){for(var l=-1,o=e.length,i=-1,c=a.length,s=-1,u=t.length,d=Ea(o-c,0),m=n(d+u),p=!r;++l<d;)m[l]=e[l];for(var f=l;++s<u;)m[f+s]=t[s];for(;++i<c;)(p||l<o)&&(m[f+a[i]]=e[l++]);return m}function Tr(e,t){var a=-1,r=e.length;for(t||(t=n(r));++a<r;)t[a]=e[a];return t}function Pr(e,t,a,n){var l=!a;a||(a={});for(var o=-1,i=t.length;++o<i;){var c=t[o],s=n?n(a[c],e[c],c,a,e):r;s===r&&(s=e[c]),l?nn(a,c,s):Ja(a,c,s)}return a}function Ir(e,t){return function(a,n){var r=Go(a)?bt:tn,l=t?t():{};return r(a,e,ol(n,2),l)}}function xr(e){return Yn((function(t,a){var n=-1,l=a.length,o=l>1?a[l-1]:r,i=l>2?a[2]:r;for(o=e.length>3&&"function"==typeof o?(l--,o):r,i&&hl(a[0],a[1],i)&&(o=l<3?r:o,l=1),t=Me(t);++n<l;){var c=a[n];c&&e(t,c,n,o)}return t}))}function Ar(e,t){return function(a,n){if(null==a)return a;if(!Ko(a))return e(a,n);for(var r=a.length,l=t?r:-1,o=Me(a);(t?l--:++l<r)&&!1!==n(o[l],l,o););return a}}function Or(e){return function(t,a,n){for(var r=-1,l=Me(t),o=n(t),i=o.length;i--;){var c=o[e?i:++r];if(!1===a(l[c],c,l))break}return t}}function Nr(e){return function(t){var a=Zt(t=vi(t))?la(t):r,n=a?a[0]:t.charAt(0),l=a?vr(a,1).join(""):t.slice(1);return n[e]()+l}}function Rr(e){return function(t){return Tt(Zi(Vi(t).replace(Ve,"")),e,"")}}function Lr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var a=Ba(e.prototype),n=e.apply(a,t);return ti(n)?n:a}}function _r(e){return function(t,a,n){var l=Me(t);if(!Ko(t)){var o=ol(a,3);t=Oi(t),a=function(e){return o(l[e],e,l)}}var i=e(t,a,n);return i>-1?l[o?t[i]:i]:r}}function Dr(e){return el((function(t){var a=t.length,n=a,o=za.prototype.thru;for(e&&t.reverse();n--;){var i=t[n];if("function"!=typeof i)throw new Te(l);if(o&&!c&&"wrapper"==rl(i))var c=new za([],!0)}for(n=c?n:a;++n<a;){var s=rl(i=t[n]),u="wrapper"==s?nl(i):r;c=u&&vl(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[rl(u[0])].apply(c,u[3]):1==i.length&&vl(i)?c[s]():c.thru(i)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&Go(n))return c.plant(n).value();for(var r=0,l=a?t[r].apply(this,e):n;++r<a;)l=t[r].call(this,l);return l}}))}function Wr(e,t,a,l,o,i,c,u,d,m){var p=t&s,f=1&t,g=2&t,E=24&t,h=512&t,b=g?r:Lr(e);return function r(){for(var s=arguments.length,v=n(s),y=s;y--;)v[y]=arguments[y];if(E)var F=ll(r),S=Yt(v,F);if(l&&(v=wr(v,l,o,E)),i&&(v=kr(v,i,c,E)),s-=S,E&&s<m){var C=ta(v,F);return Gr(e,t,Wr,r.placeholder,a,v,C,u,d,m-s)}var M=f?a:this,w=g?M[e]:e;return s=v.length,u?v=kl(v,u):h&&s>1&&v.reverse(),p&&d<s&&(v.length=d),this&&this!==lt&&this instanceof r&&(w=b||Lr(w)),w.apply(M,v)}}function Br(e,t){return function(a,n){return function(e,t,a,n){return vn(e,(function(e,r,l){t(n,a(e),r,l)})),n}(a,e,t(n),{})}}function Ur(e,t){return function(a,n){var l;if(a===r&&n===r)return t;if(a!==r&&(l=a),n!==r){if(l===r)return n;"string"==typeof a||"string"==typeof n?(a=ir(a),n=ir(n)):(a=or(a),n=or(n)),l=e(a,n)}return l}}function zr(e){return el((function(t){return t=wt(t,jt(ol())),Yn((function(a){var n=this;return e(t,(function(e){return ht(e,n,a)}))}))}))}function Hr(e,t){var a=(t=t===r?" ":ir(t)).length;if(a<2)return a?Kn(t,e):t;var n=Kn(t,sa(e/ra(t)));return Zt(t)?vr(la(n),0,e).join(""):n.slice(0,e)}function jr(e){return function(t,a,l){return l&&"number"!=typeof l&&hl(t,a,l)&&(a=l=r),t=fi(t),a===r?(a=t,t=0):a=fi(a),function(e,t,a,r){for(var l=-1,o=Ea(sa((t-e)/(a||1)),0),i=n(o);o--;)i[r?o:++l]=e,e+=a;return i}(t,a,l=l===r?t<a?1:-1:fi(l),e)}}function Vr(e){return function(t,a){return"string"==typeof t&&"string"==typeof a||(t=hi(t),a=hi(a)),e(t,a)}}function Gr(e,t,a,n,l,o,i,s,u,d){var m=8&t;t|=m?c:64,4&(t&=~(m?64:c))||(t&=-4);var p=[e,t,l,m?o:r,m?i:r,m?r:o,m?r:i,s,u,d],f=a.apply(r,p);return vl(e)&&Pl(f,p),f.placeholder=n,Al(f,e,t)}function $r(e){var t=Ce[e];return function(e,a){if(e=hi(e),(a=null==a?0:ha(gi(a),292))&&pa(e)){var n=(vi(e)+"e").split("e");return+((n=(vi(t(n[0]+"e"+(+n[1]+a)))+"e").split("e"))[0]+"e"+(+n[1]-a))}return t(e)}}var Kr=wa&&1/aa(new wa([,-0]))[1]==u?function(e){return new wa(e)}:sc;function Yr(e){return function(t){var a=ml(t);return a==S?Jt(t):a==T?na(t):function(e,t){return wt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xr(e,t,a,o,u,d,m,p){var f=2&t;if(!f&&"function"!=typeof e)throw new Te(l);var g=o?o.length:0;if(g||(t&=-97,o=u=r),m=m===r?m:Ea(gi(m),0),p=p===r?p:gi(p),g-=u?u.length:0,64&t){var E=o,h=u;o=u=r}var b=f?r:nl(e),v=[e,t,a,o,u,E,h,d,m,p];if(b&&function(e,t){var a=e[1],n=t[1],r=a|n,l=r<131,o=n==s&&8==a||n==s&&256==a&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==a;if(!l&&!o)return e;1&n&&(e[2]=t[2],r|=1&a?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?wr(u,c,t[4]):c,e[4]=u?ta(e[3],i):t[4]}(c=t[5])&&(u=e[5],e[5]=u?kr(u,c,t[6]):c,e[6]=u?ta(e[5],i):t[6]),(c=t[7])&&(e[7]=c),n&s&&(e[8]=null==e[8]?t[8]:ha(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}(v,b),e=v[0],t=v[1],a=v[2],o=v[3],u=v[4],!(p=v[9]=v[9]===r?f?0:e.length:Ea(v[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?function(e,t,a){var l=Lr(e);return function o(){for(var i=arguments.length,c=n(i),s=i,u=ll(o);s--;)c[s]=arguments[s];var d=i<3&&c[0]!==u&&c[i-1]!==u?[]:ta(c,u);return(i-=d.length)<a?Gr(e,t,Wr,o.placeholder,r,c,d,r,r,a-i):ht(this&&this!==lt&&this instanceof o?l:e,this,c)}}(e,t,p):t!=c&&33!=t||u.length?Wr.apply(r,v):function(e,t,a,r){var l=1&t,o=Lr(e);return function t(){for(var i=-1,c=arguments.length,s=-1,u=r.length,d=n(u+c),m=this&&this!==lt&&this instanceof t?o:e;++s<u;)d[s]=r[s];for(;c--;)d[s++]=arguments[++i];return ht(m,l?a:this,d)}}(e,t,a,o);else var y=function(e,t,a){var n=1&t,r=Lr(e);return function t(){return(this&&this!==lt&&this instanceof t?r:e).apply(n?a:this,arguments)}}(e,t,a);return Al((b?Zn:Pl)(y,v),e,t)}function qr(e,t,a,n){return e===r||zo(e,xe[a])&&!Ne.call(n,a)?t:e}function Qr(e,t,a,n,l,o){return ti(e)&&ti(t)&&(o.set(t,e),Un(e,t,r,Qr,o),o.delete(t)),e}function Zr(e){return li(e)?r:e}function Jr(e,t,a,n,l,o){var i=1&a,c=e.length,s=t.length;if(c!=s&&!(i&&s>c))return!1;var u=o.get(e),d=o.get(t);if(u&&d)return u==t&&d==e;var m=-1,p=!0,f=2&a?new $a:r;for(o.set(e,t),o.set(t,e);++m<c;){var g=e[m],E=t[m];if(n)var h=i?n(E,g,m,t,e,o):n(g,E,m,e,t,o);if(h!==r){if(h)continue;p=!1;break}if(f){if(!It(t,(function(e,t){if(!Gt(f,t)&&(g===e||l(g,e,a,n,o)))return f.push(t)}))){p=!1;break}}else if(g!==E&&!l(g,E,a,n,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function el(e){return xl(Ml(e,r,Gl),e+"")}function tl(e){return Cn(e,Oi,ul)}function al(e){return Cn(e,Ni,dl)}var nl=Pa?function(e){return Pa.get(e)}:sc;function rl(e){for(var t=e.name+"",a=Ia[t],n=Ne.call(Ia,t)?a.length:0;n--;){var r=a[n],l=r.func;if(null==l||l==e)return r.name}return t}function ll(e){return(Ne.call(Wa,"placeholder")?Wa:e).placeholder}function ol(){var e=Wa.iteratee||lc;return e=e===lc?Rn:e,arguments.length?e(arguments[0],arguments[1]):e}function il(e,t){var a,n,r=e.__data__;return("string"==(n=typeof(a=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==a:null===a)?r["string"==typeof t?"string":"hash"]:r.map}function cl(e){for(var t=Oi(e),a=t.length;a--;){var n=t[a],r=e[n];t[a]=[n,r,Sl(r)]}return t}function sl(e,t){var a=function(e,t){return null==e?r:e[t]}(e,t);return Nn(a)?a:r}var ul=da?function(e){return null==e?[]:(e=Me(e),St(da(e),(function(t){return et.call(e,t)})))}:Ec,dl=da?function(e){for(var t=[];e;)kt(t,ul(e)),e=$e(e);return t}:Ec,ml=Mn;function pl(e,t,a){for(var n=-1,r=(t=hr(t,e)).length,l=!1;++n<r;){var o=Dl(t[n]);if(!(l=null!=e&&a(e,o)))break;e=e[o]}return l||++n!=r?l:!!(r=null==e?0:e.length)&&ei(r)&&El(o,r)&&(Go(e)||Vo(e))}function fl(e){return"function"!=typeof e.constructor||Fl(e)?{}:Ba($e(e))}function gl(e){return Go(e)||Vo(e)||!!(rt&&e&&e[rt])}function El(e,t){var a=typeof e;return!!(t=null==t?d:t)&&("number"==a||"symbol"!=a&&he.test(e))&&e>-1&&e%1==0&&e<t}function hl(e,t,a){if(!ti(a))return!1;var n=typeof t;return!!("number"==n?Ko(a)&&El(t,a.length):"string"==n&&t in a)&&zo(a[t],e)}function bl(e,t){if(Go(e))return!1;var a=typeof e;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=e&&!si(e))||J.test(e)||!Z.test(e)||null!=t&&e in Me(t)}function vl(e){var t=rl(e),a=Wa[t];if("function"!=typeof a||!(t in Ha.prototype))return!1;if(e===a)return!0;var n=nl(a);return!!n&&e===n[0]}(Sa&&ml(new Sa(new ArrayBuffer(1)))!=O||Ca&&ml(new Ca)!=S||Ma&&ml(Ma.resolve())!=w||wa&&ml(new wa)!=T||ka&&ml(new ka)!=x)&&(ml=function(e){var t=Mn(e),a=t==M?e.constructor:r,n=a?Wl(a):"";if(n)switch(n){case xa:return O;case Aa:return S;case Oa:return w;case Na:return T;case Ra:return x}return t});var yl=Ae?Zo:hc;function Fl(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xe)}function Sl(e){return e==e&&!ti(e)}function Cl(e,t){return function(a){return null!=a&&a[e]===t&&(t!==r||e in Me(a))}}function Ml(e,t,a){return t=Ea(t===r?e.length-1:t,0),function(){for(var r=arguments,l=-1,o=Ea(r.length-t,0),i=n(o);++l<o;)i[l]=r[t+l];l=-1;for(var c=n(t+1);++l<t;)c[l]=r[l];return c[t]=a(i),ht(e,this,c)}}function wl(e,t){return t.length<2?e:Sn(e,tr(t,0,-1))}function kl(e,t){for(var a=e.length,n=ha(t.length,a),l=Tr(e);n--;){var o=t[n];e[n]=El(o,a)?l[o]:r}return e}function Tl(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Pl=Ol(Zn),Il=Wt||function(e,t){return lt.setTimeout(e,t)},xl=Ol(Jn);function Al(e,t,a){var n=t+"";return xl(e,function(e,t){var a=t.length;if(!a)return e;var n=a-1;return t[n]=(a>1?"& ":"")+t[n],t=t.join(a>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return vt(f,(function(a){var n="_."+a[0];t&a[1]&&!Ct(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(oe);return t?t[1].split(ie):[]}(n),a)))}function Ol(e){var t=0,a=0;return function(){var n=ba(),l=16-(n-a);if(a=n,l>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Nl(e,t){var a=-1,n=e.length,l=n-1;for(t=t===r?n:t;++a<t;){var o=$n(a,l),i=e[o];e[o]=e[a],e[a]=i}return e.length=t,e}var Rl,Ll,_l=(Rl=Lo((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,a,n,r){t.push(n?r.replace(ue,"$1"):a||e)})),t}),(function(e){return 500===Ll.size&&Ll.clear(),e})),Ll=Rl.cache,Rl);function Dl(e){if("string"==typeof e||si(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Wl(e){if(null!=e){try{return Oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Bl(e){if(e instanceof Ha)return e.clone();var t=new za(e.__wrapped__,e.__chain__);return t.__actions__=Tr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ul=Yn((function(e,t){return Yo(e)?un(e,En(t,1,Yo,!0)):[]})),zl=Yn((function(e,t){var a=ql(t);return Yo(a)&&(a=r),Yo(e)?un(e,En(t,1,Yo,!0),ol(a,2)):[]})),Hl=Yn((function(e,t){var a=ql(t);return Yo(a)&&(a=r),Yo(e)?un(e,En(t,1,Yo,!0),r,a):[]}));function jl(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var r=null==a?0:gi(a);return r<0&&(r=Ea(n+r,0)),Ot(e,ol(t,3),r)}function Vl(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var l=n-1;return a!==r&&(l=gi(a),l=a<0?Ea(n+l,0):ha(l,n-1)),Ot(e,ol(t,3),l,!0)}function Gl(e){return null!=e&&e.length?En(e,1):[]}function $l(e){return e&&e.length?e[0]:r}var Kl=Yn((function(e){var t=wt(e,gr);return t.length&&t[0]===e[0]?Pn(t):[]})),Yl=Yn((function(e){var t=ql(e),a=wt(e,gr);return t===ql(a)?t=r:a.pop(),a.length&&a[0]===e[0]?Pn(a,ol(t,2)):[]})),Xl=Yn((function(e){var t=ql(e),a=wt(e,gr);return(t="function"==typeof t?t:r)&&a.pop(),a.length&&a[0]===e[0]?Pn(a,r,t):[]}));function ql(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Ql=Yn(Zl);function Zl(e,t){return e&&e.length&&t&&t.length?Vn(e,t):e}var Jl=el((function(e,t){var a=null==e?0:e.length,n=rn(e,t);return Gn(e,wt(t,(function(e){return El(e,a)?+e:e})).sort(Mr)),n}));function eo(e){return null==e?e:Fa.call(e)}var to=Yn((function(e){return cr(En(e,1,Yo,!0))})),ao=Yn((function(e){var t=ql(e);return Yo(t)&&(t=r),cr(En(e,1,Yo,!0),ol(t,2))})),no=Yn((function(e){var t=ql(e);return t="function"==typeof t?t:r,cr(En(e,1,Yo,!0),r,t)}));function ro(e){if(!e||!e.length)return[];var t=0;return e=St(e,(function(e){if(Yo(e))return t=Ea(e.length,t),!0})),zt(t,(function(t){return wt(e,Dt(t))}))}function lo(e,t){if(!e||!e.length)return[];var a=ro(e);return null==t?a:wt(a,(function(e){return ht(t,r,e)}))}var oo=Yn((function(e,t){return Yo(e)?un(e,t):[]})),io=Yn((function(e){return pr(St(e,Yo))})),co=Yn((function(e){var t=ql(e);return Yo(t)&&(t=r),pr(St(e,Yo),ol(t,2))})),so=Yn((function(e){var t=ql(e);return t="function"==typeof t?t:r,pr(St(e,Yo),r,t)})),uo=Yn(ro),mo=Yn((function(e){var t=e.length,a=t>1?e[t-1]:r;return a="function"==typeof a?(e.pop(),a):r,lo(e,a)}));function po(e){var t=Wa(e);return t.__chain__=!0,t}function fo(e,t){return t(e)}var go=el((function(e){var t=e.length,a=t?e[0]:0,n=this.__wrapped__,l=function(t){return rn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Ha&&El(a)?((n=n.slice(a,+a+(t?1:0))).__actions__.push({func:fo,args:[l],thisArg:r}),new za(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(l)})),Eo=Ir((function(e,t,a){Ne.call(e,a)?++e[a]:nn(e,a,1)})),ho=_r(jl),bo=_r(Vl);function vo(e,t){return(Go(e)?vt:dn)(e,ol(t,3))}function yo(e,t){return(Go(e)?yt:mn)(e,ol(t,3))}var Fo=Ir((function(e,t,a){Ne.call(e,a)?e[a].push(t):nn(e,a,[t])})),So=Yn((function(e,t,a){var r=-1,l="function"==typeof t,o=Ko(e)?n(e.length):[];return dn(e,(function(e){o[++r]=l?ht(t,e,a):In(e,t,a)})),o})),Co=Ir((function(e,t,a){nn(e,a,t)}));function Mo(e,t){return(Go(e)?wt:Dn)(e,ol(t,3))}var wo=Ir((function(e,t,a){e[a?0:1].push(t)}),(function(){return[[],[]]})),ko=Yn((function(e,t){if(null==e)return[];var a=t.length;return a>1&&hl(e,t[0],t[1])?t=[]:a>2&&hl(t[0],t[1],t[2])&&(t=[t[0]]),Hn(e,En(t,1),[])})),To=xt||function(){return lt.Date.now()};function Po(e,t,a){return t=a?r:t,t=e&&null==t?e.length:t,Xr(e,s,r,r,r,r,t)}function Io(e,t){var a;if("function"!=typeof t)throw new Te(l);return e=gi(e),function(){return--e>0&&(a=t.apply(this,arguments)),e<=1&&(t=r),a}}var xo=Yn((function(e,t,a){var n=1;if(a.length){var r=ta(a,ll(xo));n|=c}return Xr(e,n,t,a,r)})),Ao=Yn((function(e,t,a){var n=3;if(a.length){var r=ta(a,ll(Ao));n|=c}return Xr(t,n,e,a,r)}));function Oo(e,t,a){var n,o,i,c,s,u,d=0,m=!1,p=!1,f=!0;if("function"!=typeof e)throw new Te(l);function g(t){var a=n,l=o;return n=o=r,d=t,c=e.apply(l,a)}function E(e){return d=e,s=Il(b,t),m?g(e):c}function h(e){var a=e-u;return u===r||a>=t||a<0||p&&e-d>=i}function b(){var e=To();if(h(e))return v(e);s=Il(b,function(e){var a=t-(e-u);return p?ha(a,i-(e-d)):a}(e))}function v(e){return s=r,f&&n?g(e):(n=o=r,c)}function y(){var e=To(),a=h(e);if(n=arguments,o=this,u=e,a){if(s===r)return E(u);if(p)return yr(s),s=Il(b,t),g(u)}return s===r&&(s=Il(b,t)),c}return t=hi(t)||0,ti(a)&&(m=!!a.leading,i=(p="maxWait"in a)?Ea(hi(a.maxWait)||0,t):i,f="trailing"in a?!!a.trailing:f),y.cancel=function(){s!==r&&yr(s),d=0,n=u=o=s=r},y.flush=function(){return s===r?c:v(To())},y}var No=Yn((function(e,t){return sn(e,1,t)})),Ro=Yn((function(e,t,a){return sn(e,hi(t)||0,a)}));function Lo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Te(l);var a=function(){var n=arguments,r=t?t.apply(this,n):n[0],l=a.cache;if(l.has(r))return l.get(r);var o=e.apply(this,n);return a.cache=l.set(r,o)||l,o};return a.cache=new(Lo.Cache||Ga),a}function _o(e){if("function"!=typeof e)throw new Te(l);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Lo.Cache=Ga;var Do=br((function(e,t){var a=(t=1==t.length&&Go(t[0])?wt(t[0],jt(ol())):wt(En(t,1),jt(ol()))).length;return Yn((function(n){for(var r=-1,l=ha(n.length,a);++r<l;)n[r]=t[r].call(this,n[r]);return ht(e,this,n)}))})),Wo=Yn((function(e,t){var a=ta(t,ll(Wo));return Xr(e,c,r,t,a)})),Bo=Yn((function(e,t){var a=ta(t,ll(Bo));return Xr(e,64,r,t,a)})),Uo=el((function(e,t){return Xr(e,256,r,r,r,t)}));function zo(e,t){return e===t||e!=e&&t!=t}var Ho=Vr(wn),jo=Vr((function(e,t){return e>=t})),Vo=xn(function(){return arguments}())?xn:function(e){return ai(e)&&Ne.call(e,"callee")&&!et.call(e,"callee")},Go=n.isArray,$o=dt?jt(dt):function(e){return ai(e)&&Mn(e)==A};function Ko(e){return null!=e&&ei(e.length)&&!Zo(e)}function Yo(e){return ai(e)&&Ko(e)}var Xo=ma||hc,qo=mt?jt(mt):function(e){return ai(e)&&Mn(e)==b};function Qo(e){if(!ai(e))return!1;var t=Mn(e);return t==v||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!li(e)}function Zo(e){if(!ti(e))return!1;var t=Mn(e);return t==y||t==F||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Jo(e){return"number"==typeof e&&e==gi(e)}function ei(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function ti(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ai(e){return null!=e&&"object"==typeof e}var ni=pt?jt(pt):function(e){return ai(e)&&ml(e)==S};function ri(e){return"number"==typeof e||ai(e)&&Mn(e)==C}function li(e){if(!ai(e)||Mn(e)!=M)return!1;var t=$e(e);if(null===t)return!0;var a=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&Oe.call(a)==De}var oi=ft?jt(ft):function(e){return ai(e)&&Mn(e)==k},ii=gt?jt(gt):function(e){return ai(e)&&ml(e)==T};function ci(e){return"string"==typeof e||!Go(e)&&ai(e)&&Mn(e)==P}function si(e){return"symbol"==typeof e||ai(e)&&Mn(e)==I}var ui=Et?jt(Et):function(e){return ai(e)&&ei(e.length)&&!!Ze[Mn(e)]},di=Vr(_n),mi=Vr((function(e,t){return e<=t}));function pi(e){if(!e)return[];if(Ko(e))return ci(e)?la(e):Tr(e);if(ot&&e[ot])return function(e){for(var t,a=[];!(t=e.next()).done;)a.push(t.value);return a}(e[ot]());var t=ml(e);return(t==S?Jt:t==T?aa:zi)(e)}function fi(e){return e?(e=hi(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function gi(e){var t=fi(e),a=t%1;return t==t?a?t-a:t:0}function Ei(e){return e?ln(gi(e),0,p):0}function hi(e){if("number"==typeof e)return e;if(si(e))return m;if(ti(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ti(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ht(e);var a=fe.test(e);return a||Ee.test(e)?at(e.slice(2),a?2:8):pe.test(e)?m:+e}function bi(e){return Pr(e,Ni(e))}function vi(e){return null==e?"":ir(e)}var yi=xr((function(e,t){if(Fl(t)||Ko(t))Pr(t,Oi(t),e);else for(var a in t)Ne.call(t,a)&&Ja(e,a,t[a])})),Fi=xr((function(e,t){Pr(t,Ni(t),e)})),Si=xr((function(e,t,a,n){Pr(t,Ni(t),e,n)})),Ci=xr((function(e,t,a,n){Pr(t,Oi(t),e,n)})),Mi=el(rn),wi=Yn((function(e,t){e=Me(e);var a=-1,n=t.length,l=n>2?t[2]:r;for(l&&hl(t[0],t[1],l)&&(n=1);++a<n;)for(var o=t[a],i=Ni(o),c=-1,s=i.length;++c<s;){var u=i[c],d=e[u];(d===r||zo(d,xe[u])&&!Ne.call(e,u))&&(e[u]=o[u])}return e})),ki=Yn((function(e){return e.push(r,Qr),ht(Li,r,e)}));function Ti(e,t,a){var n=null==e?r:Sn(e,t);return n===r?a:n}function Pi(e,t){return null!=e&&pl(e,t,Tn)}var Ii=Br((function(e,t,a){null!=t&&"function"!=typeof t.toString&&(t=_e.call(t)),e[t]=a}),tc(rc)),xi=Br((function(e,t,a){null!=t&&"function"!=typeof t.toString&&(t=_e.call(t)),Ne.call(e,t)?e[t].push(a):e[t]=[a]}),ol),Ai=Yn(In);function Oi(e){return Ko(e)?Ya(e):Ln(e)}function Ni(e){return Ko(e)?Ya(e,!0):function(e){if(!ti(e))return function(e){var t=[];if(null!=e)for(var a in Me(e))t.push(a);return t}(e);var t=Fl(e),a=[];for(var n in e)("constructor"!=n||!t&&Ne.call(e,n))&&a.push(n);return a}(e)}var Ri=xr((function(e,t,a){Un(e,t,a)})),Li=xr((function(e,t,a,n){Un(e,t,a,n)})),_i=el((function(e,t){var a={};if(null==e)return a;var n=!1;t=wt(t,(function(t){return t=hr(t,e),n||(n=t.length>1),t})),Pr(e,al(e),a),n&&(a=on(a,7,Zr));for(var r=t.length;r--;)sr(a,t[r]);return a})),Di=el((function(e,t){return null==e?{}:function(e,t){return jn(e,t,(function(t,a){return Pi(e,a)}))}(e,t)}));function Wi(e,t){if(null==e)return{};var a=wt(al(e),(function(e){return[e]}));return t=ol(t),jn(e,a,(function(e,a){return t(e,a[0])}))}var Bi=Yr(Oi),Ui=Yr(Ni);function zi(e){return null==e?[]:Vt(e,Oi(e))}var Hi=Rr((function(e,t,a){return t=t.toLowerCase(),e+(a?ji(t):t)}));function ji(e){return Qi(vi(e).toLowerCase())}function Vi(e){return(e=vi(e))&&e.replace(be,Xt).replace(Ge,"")}var Gi=Rr((function(e,t,a){return e+(a?"-":"")+t.toLowerCase()})),$i=Rr((function(e,t,a){return e+(a?" ":"")+t.toLowerCase()})),Ki=Nr("toLowerCase"),Yi=Rr((function(e,t,a){return e+(a?"_":"")+t.toLowerCase()})),Xi=Rr((function(e,t,a){return e+(a?" ":"")+Qi(t)})),qi=Rr((function(e,t,a){return e+(a?" ":"")+t.toUpperCase()})),Qi=Nr("toUpperCase");function Zi(e,t,a){return e=vi(e),(t=a?r:t)===r?function(e){return Xe.test(e)}(e)?function(e){return e.match(Ke)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Ji=Yn((function(e,t){try{return ht(e,r,t)}catch(e){return Qo(e)?e:new Fe(e)}})),ec=el((function(e,t){return vt(t,(function(t){t=Dl(t),nn(e,t,xo(e[t],e))})),e}));function tc(e){return function(){return e}}var ac=Dr(),nc=Dr(!0);function rc(e){return e}function lc(e){return Rn("function"==typeof e?e:on(e,1))}var oc=Yn((function(e,t){return function(a){return In(a,e,t)}})),ic=Yn((function(e,t){return function(a){return In(e,a,t)}}));function cc(e,t,a){var n=Oi(t),r=Fn(t,n);null!=a||ti(t)&&(r.length||!n.length)||(a=t,t=e,e=this,r=Fn(t,Oi(t)));var l=!(ti(a)&&"chain"in a&&!a.chain),o=Zo(e);return vt(r,(function(a){var n=t[a];e[a]=n,o&&(e.prototype[a]=function(){var t=this.__chain__;if(l||t){var a=e(this.__wrapped__),r=a.__actions__=Tr(this.__actions__);return r.push({func:n,args:arguments,thisArg:e}),a.__chain__=t,a}return n.apply(e,kt([this.value()],arguments))})})),e}function sc(){}var uc=zr(wt),dc=zr(Ft),mc=zr(It);function pc(e){return bl(e)?Dt(Dl(e)):function(e){return function(t){return Sn(t,e)}}(e)}var fc=jr(),gc=jr(!0);function Ec(){return[]}function hc(){return!1}var bc,vc=Ur((function(e,t){return e+t}),0),yc=$r("ceil"),Fc=Ur((function(e,t){return e/t}),1),Sc=$r("floor"),Cc=Ur((function(e,t){return e*t}),1),Mc=$r("round"),wc=Ur((function(e,t){return e-t}),0);return Wa.after=function(e,t){if("function"!=typeof t)throw new Te(l);return e=gi(e),function(){if(--e<1)return t.apply(this,arguments)}},Wa.ary=Po,Wa.assign=yi,Wa.assignIn=Fi,Wa.assignInWith=Si,Wa.assignWith=Ci,Wa.at=Mi,Wa.before=Io,Wa.bind=xo,Wa.bindAll=ec,Wa.bindKey=Ao,Wa.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Go(e)?e:[e]},Wa.chain=po,Wa.chunk=function(e,t,a){t=(a?hl(e,t,a):t===r)?1:Ea(gi(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var o=0,i=0,c=n(sa(l/t));o<l;)c[i++]=tr(e,o,o+=t);return c},Wa.compact=function(e){for(var t=-1,a=null==e?0:e.length,n=0,r=[];++t<a;){var l=e[t];l&&(r[n++]=l)}return r},Wa.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),a=arguments[0],r=e;r--;)t[r-1]=arguments[r];return kt(Go(a)?Tr(a):[a],En(t,1))},Wa.cond=function(e){var t=null==e?0:e.length,a=ol();return e=t?wt(e,(function(e){if("function"!=typeof e[1])throw new Te(l);return[a(e[0]),e[1]]})):[],Yn((function(a){for(var n=-1;++n<t;){var r=e[n];if(ht(r[0],this,a))return ht(r[1],this,a)}}))},Wa.conforms=function(e){return function(e){var t=Oi(e);return function(a){return cn(a,e,t)}}(on(e,1))},Wa.constant=tc,Wa.countBy=Eo,Wa.create=function(e,t){var a=Ba(e);return null==t?a:an(a,t)},Wa.curry=function e(t,a,n){var l=Xr(t,8,r,r,r,r,r,a=n?r:a);return l.placeholder=e.placeholder,l},Wa.curryRight=function e(t,a,n){var l=Xr(t,16,r,r,r,r,r,a=n?r:a);return l.placeholder=e.placeholder,l},Wa.debounce=Oo,Wa.defaults=wi,Wa.defaultsDeep=ki,Wa.defer=No,Wa.delay=Ro,Wa.difference=Ul,Wa.differenceBy=zl,Wa.differenceWith=Hl,Wa.drop=function(e,t,a){var n=null==e?0:e.length;return n?tr(e,(t=a||t===r?1:gi(t))<0?0:t,n):[]},Wa.dropRight=function(e,t,a){var n=null==e?0:e.length;return n?tr(e,0,(t=n-(t=a||t===r?1:gi(t)))<0?0:t):[]},Wa.dropRightWhile=function(e,t){return e&&e.length?dr(e,ol(t,3),!0,!0):[]},Wa.dropWhile=function(e,t){return e&&e.length?dr(e,ol(t,3),!0):[]},Wa.fill=function(e,t,a,n){var l=null==e?0:e.length;return l?(a&&"number"!=typeof a&&hl(e,t,a)&&(a=0,n=l),function(e,t,a,n){var l=e.length;for((a=gi(a))<0&&(a=-a>l?0:l+a),(n=n===r||n>l?l:gi(n))<0&&(n+=l),n=a>n?0:Ei(n);a<n;)e[a++]=t;return e}(e,t,a,n)):[]},Wa.filter=function(e,t){return(Go(e)?St:gn)(e,ol(t,3))},Wa.flatMap=function(e,t){return En(Mo(e,t),1)},Wa.flatMapDeep=function(e,t){return En(Mo(e,t),u)},Wa.flatMapDepth=function(e,t,a){return a=a===r?1:gi(a),En(Mo(e,t),a)},Wa.flatten=Gl,Wa.flattenDeep=function(e){return null!=e&&e.length?En(e,u):[]},Wa.flattenDepth=function(e,t){return null!=e&&e.length?En(e,t=t===r?1:gi(t)):[]},Wa.flip=function(e){return Xr(e,512)},Wa.flow=ac,Wa.flowRight=nc,Wa.fromPairs=function(e){for(var t=-1,a=null==e?0:e.length,n={};++t<a;){var r=e[t];n[r[0]]=r[1]}return n},Wa.functions=function(e){return null==e?[]:Fn(e,Oi(e))},Wa.functionsIn=function(e){return null==e?[]:Fn(e,Ni(e))},Wa.groupBy=Fo,Wa.initial=function(e){return null!=e&&e.length?tr(e,0,-1):[]},Wa.intersection=Kl,Wa.intersectionBy=Yl,Wa.intersectionWith=Xl,Wa.invert=Ii,Wa.invertBy=xi,Wa.invokeMap=So,Wa.iteratee=lc,Wa.keyBy=Co,Wa.keys=Oi,Wa.keysIn=Ni,Wa.map=Mo,Wa.mapKeys=function(e,t){var a={};return t=ol(t,3),vn(e,(function(e,n,r){nn(a,t(e,n,r),e)})),a},Wa.mapValues=function(e,t){var a={};return t=ol(t,3),vn(e,(function(e,n,r){nn(a,n,t(e,n,r))})),a},Wa.matches=function(e){return Wn(on(e,1))},Wa.matchesProperty=function(e,t){return Bn(e,on(t,1))},Wa.memoize=Lo,Wa.merge=Ri,Wa.mergeWith=Li,Wa.method=oc,Wa.methodOf=ic,Wa.mixin=cc,Wa.negate=_o,Wa.nthArg=function(e){return e=gi(e),Yn((function(t){return zn(t,e)}))},Wa.omit=_i,Wa.omitBy=function(e,t){return Wi(e,_o(ol(t)))},Wa.once=function(e){return Io(2,e)},Wa.orderBy=function(e,t,a,n){return null==e?[]:(Go(t)||(t=null==t?[]:[t]),Go(a=n?r:a)||(a=null==a?[]:[a]),Hn(e,t,a))},Wa.over=uc,Wa.overArgs=Do,Wa.overEvery=dc,Wa.overSome=mc,Wa.partial=Wo,Wa.partialRight=Bo,Wa.partition=wo,Wa.pick=Di,Wa.pickBy=Wi,Wa.property=pc,Wa.propertyOf=function(e){return function(t){return null==e?r:Sn(e,t)}},Wa.pull=Ql,Wa.pullAll=Zl,Wa.pullAllBy=function(e,t,a){return e&&e.length&&t&&t.length?Vn(e,t,ol(a,2)):e},Wa.pullAllWith=function(e,t,a){return e&&e.length&&t&&t.length?Vn(e,t,r,a):e},Wa.pullAt=Jl,Wa.range=fc,Wa.rangeRight=gc,Wa.rearg=Uo,Wa.reject=function(e,t){return(Go(e)?St:gn)(e,_o(ol(t,3)))},Wa.remove=function(e,t){var a=[];if(!e||!e.length)return a;var n=-1,r=[],l=e.length;for(t=ol(t,3);++n<l;){var o=e[n];t(o,n,e)&&(a.push(o),r.push(n))}return Gn(e,r),a},Wa.rest=function(e,t){if("function"!=typeof e)throw new Te(l);return Yn(e,t=t===r?t:gi(t))},Wa.reverse=eo,Wa.sampleSize=function(e,t,a){return t=(a?hl(e,t,a):t===r)?1:gi(t),(Go(e)?qa:qn)(e,t)},Wa.set=function(e,t,a){return null==e?e:Qn(e,t,a)},Wa.setWith=function(e,t,a,n){return n="function"==typeof n?n:r,null==e?e:Qn(e,t,a,n)},Wa.shuffle=function(e){return(Go(e)?Qa:er)(e)},Wa.slice=function(e,t,a){var n=null==e?0:e.length;return n?(a&&"number"!=typeof a&&hl(e,t,a)?(t=0,a=n):(t=null==t?0:gi(t),a=a===r?n:gi(a)),tr(e,t,a)):[]},Wa.sortBy=ko,Wa.sortedUniq=function(e){return e&&e.length?lr(e):[]},Wa.sortedUniqBy=function(e,t){return e&&e.length?lr(e,ol(t,2)):[]},Wa.split=function(e,t,a){return a&&"number"!=typeof a&&hl(e,t,a)&&(t=a=r),(a=a===r?p:a>>>0)?(e=vi(e))&&("string"==typeof t||null!=t&&!oi(t))&&!(t=ir(t))&&Zt(e)?vr(la(e),0,a):e.split(t,a):[]},Wa.spread=function(e,t){if("function"!=typeof e)throw new Te(l);return t=null==t?0:Ea(gi(t),0),Yn((function(a){var n=a[t],r=vr(a,0,t);return n&&kt(r,n),ht(e,this,r)}))},Wa.tail=function(e){var t=null==e?0:e.length;return t?tr(e,1,t):[]},Wa.take=function(e,t,a){return e&&e.length?tr(e,0,(t=a||t===r?1:gi(t))<0?0:t):[]},Wa.takeRight=function(e,t,a){var n=null==e?0:e.length;return n?tr(e,(t=n-(t=a||t===r?1:gi(t)))<0?0:t,n):[]},Wa.takeRightWhile=function(e,t){return e&&e.length?dr(e,ol(t,3),!1,!0):[]},Wa.takeWhile=function(e,t){return e&&e.length?dr(e,ol(t,3)):[]},Wa.tap=function(e,t){return t(e),e},Wa.throttle=function(e,t,a){var n=!0,r=!0;if("function"!=typeof e)throw new Te(l);return ti(a)&&(n="leading"in a?!!a.leading:n,r="trailing"in a?!!a.trailing:r),Oo(e,t,{leading:n,maxWait:t,trailing:r})},Wa.thru=fo,Wa.toArray=pi,Wa.toPairs=Bi,Wa.toPairsIn=Ui,Wa.toPath=function(e){return Go(e)?wt(e,Dl):si(e)?[e]:Tr(_l(vi(e)))},Wa.toPlainObject=bi,Wa.transform=function(e,t,a){var n=Go(e),r=n||Xo(e)||ui(e);if(t=ol(t,4),null==a){var l=e&&e.constructor;a=r?n?new l:[]:ti(e)&&Zo(l)?Ba($e(e)):{}}return(r?vt:vn)(e,(function(e,n,r){return t(a,e,n,r)})),a},Wa.unary=function(e){return Po(e,1)},Wa.union=to,Wa.unionBy=ao,Wa.unionWith=no,Wa.uniq=function(e){return e&&e.length?cr(e):[]},Wa.uniqBy=function(e,t){return e&&e.length?cr(e,ol(t,2)):[]},Wa.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?cr(e,r,t):[]},Wa.unset=function(e,t){return null==e||sr(e,t)},Wa.unzip=ro,Wa.unzipWith=lo,Wa.update=function(e,t,a){return null==e?e:ur(e,t,Er(a))},Wa.updateWith=function(e,t,a,n){return n="function"==typeof n?n:r,null==e?e:ur(e,t,Er(a),n)},Wa.values=zi,Wa.valuesIn=function(e){return null==e?[]:Vt(e,Ni(e))},Wa.without=oo,Wa.words=Zi,Wa.wrap=function(e,t){return Wo(Er(t),e)},Wa.xor=io,Wa.xorBy=co,Wa.xorWith=so,Wa.zip=uo,Wa.zipObject=function(e,t){return fr(e||[],t||[],Ja)},Wa.zipObjectDeep=function(e,t){return fr(e||[],t||[],Qn)},Wa.zipWith=mo,Wa.entries=Bi,Wa.entriesIn=Ui,Wa.extend=Fi,Wa.extendWith=Si,cc(Wa,Wa),Wa.add=vc,Wa.attempt=Ji,Wa.camelCase=Hi,Wa.capitalize=ji,Wa.ceil=yc,Wa.clamp=function(e,t,a){return a===r&&(a=t,t=r),a!==r&&(a=(a=hi(a))==a?a:0),t!==r&&(t=(t=hi(t))==t?t:0),ln(hi(e),t,a)},Wa.clone=function(e){return on(e,4)},Wa.cloneDeep=function(e){return on(e,5)},Wa.cloneDeepWith=function(e,t){return on(e,5,t="function"==typeof t?t:r)},Wa.cloneWith=function(e,t){return on(e,4,t="function"==typeof t?t:r)},Wa.conformsTo=function(e,t){return null==t||cn(e,t,Oi(t))},Wa.deburr=Vi,Wa.defaultTo=function(e,t){return null==e||e!=e?t:e},Wa.divide=Fc,Wa.endsWith=function(e,t,a){e=vi(e),t=ir(t);var n=e.length,l=a=a===r?n:ln(gi(a),0,n);return(a-=t.length)>=0&&e.slice(a,l)==t},Wa.eq=zo,Wa.escape=function(e){return(e=vi(e))&&Y.test(e)?e.replace($,qt):e},Wa.escapeRegExp=function(e){return(e=vi(e))&&ae.test(e)?e.replace(te,"\\$&"):e},Wa.every=function(e,t,a){var n=Go(e)?Ft:pn;return a&&hl(e,t,a)&&(t=r),n(e,ol(t,3))},Wa.find=ho,Wa.findIndex=jl,Wa.findKey=function(e,t){return At(e,ol(t,3),vn)},Wa.findLast=bo,Wa.findLastIndex=Vl,Wa.findLastKey=function(e,t){return At(e,ol(t,3),yn)},Wa.floor=Sc,Wa.forEach=vo,Wa.forEachRight=yo,Wa.forIn=function(e,t){return null==e?e:hn(e,ol(t,3),Ni)},Wa.forInRight=function(e,t){return null==e?e:bn(e,ol(t,3),Ni)},Wa.forOwn=function(e,t){return e&&vn(e,ol(t,3))},Wa.forOwnRight=function(e,t){return e&&yn(e,ol(t,3))},Wa.get=Ti,Wa.gt=Ho,Wa.gte=jo,Wa.has=function(e,t){return null!=e&&pl(e,t,kn)},Wa.hasIn=Pi,Wa.head=$l,Wa.identity=rc,Wa.includes=function(e,t,a,n){e=Ko(e)?e:zi(e),a=a&&!n?gi(a):0;var r=e.length;return a<0&&(a=Ea(r+a,0)),ci(e)?a<=r&&e.indexOf(t,a)>-1:!!r&&Nt(e,t,a)>-1},Wa.indexOf=function(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var r=null==a?0:gi(a);return r<0&&(r=Ea(n+r,0)),Nt(e,t,r)},Wa.inRange=function(e,t,a){return t=fi(t),a===r?(a=t,t=0):a=fi(a),function(e,t,a){return e>=ha(t,a)&&e<Ea(t,a)}(e=hi(e),t,a)},Wa.invoke=Ai,Wa.isArguments=Vo,Wa.isArray=Go,Wa.isArrayBuffer=$o,Wa.isArrayLike=Ko,Wa.isArrayLikeObject=Yo,Wa.isBoolean=function(e){return!0===e||!1===e||ai(e)&&Mn(e)==h},Wa.isBuffer=Xo,Wa.isDate=qo,Wa.isElement=function(e){return ai(e)&&1===e.nodeType&&!li(e)},Wa.isEmpty=function(e){if(null==e)return!0;if(Ko(e)&&(Go(e)||"string"==typeof e||"function"==typeof e.splice||Xo(e)||ui(e)||Vo(e)))return!e.length;var t=ml(e);if(t==S||t==T)return!e.size;if(Fl(e))return!Ln(e).length;for(var a in e)if(Ne.call(e,a))return!1;return!0},Wa.isEqual=function(e,t){return An(e,t)},Wa.isEqualWith=function(e,t,a){var n=(a="function"==typeof a?a:r)?a(e,t):r;return n===r?An(e,t,r,a):!!n},Wa.isError=Qo,Wa.isFinite=function(e){return"number"==typeof e&&pa(e)},Wa.isFunction=Zo,Wa.isInteger=Jo,Wa.isLength=ei,Wa.isMap=ni,Wa.isMatch=function(e,t){return e===t||On(e,t,cl(t))},Wa.isMatchWith=function(e,t,a){return a="function"==typeof a?a:r,On(e,t,cl(t),a)},Wa.isNaN=function(e){return ri(e)&&e!=+e},Wa.isNative=function(e){if(yl(e))throw new Fe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nn(e)},Wa.isNil=function(e){return null==e},Wa.isNull=function(e){return null===e},Wa.isNumber=ri,Wa.isObject=ti,Wa.isObjectLike=ai,Wa.isPlainObject=li,Wa.isRegExp=oi,Wa.isSafeInteger=function(e){return Jo(e)&&e>=-9007199254740991&&e<=d},Wa.isSet=ii,Wa.isString=ci,Wa.isSymbol=si,Wa.isTypedArray=ui,Wa.isUndefined=function(e){return e===r},Wa.isWeakMap=function(e){return ai(e)&&ml(e)==x},Wa.isWeakSet=function(e){return ai(e)&&"[object WeakSet]"==Mn(e)},Wa.join=function(e,t){return null==e?"":fa.call(e,t)},Wa.kebabCase=Gi,Wa.last=ql,Wa.lastIndexOf=function(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var l=n;return a!==r&&(l=(l=gi(a))<0?Ea(n+l,0):ha(l,n-1)),t==t?function(e,t,a){for(var n=a+1;n--;)if(e[n]===t)return n;return n}(e,t,l):Ot(e,Lt,l,!0)},Wa.lowerCase=$i,Wa.lowerFirst=Ki,Wa.lt=di,Wa.lte=mi,Wa.max=function(e){return e&&e.length?fn(e,rc,wn):r},Wa.maxBy=function(e,t){return e&&e.length?fn(e,ol(t,2),wn):r},Wa.mean=function(e){return _t(e,rc)},Wa.meanBy=function(e,t){return _t(e,ol(t,2))},Wa.min=function(e){return e&&e.length?fn(e,rc,_n):r},Wa.minBy=function(e,t){return e&&e.length?fn(e,ol(t,2),_n):r},Wa.stubArray=Ec,Wa.stubFalse=hc,Wa.stubObject=function(){return{}},Wa.stubString=function(){return""},Wa.stubTrue=function(){return!0},Wa.multiply=Cc,Wa.nth=function(e,t){return e&&e.length?zn(e,gi(t)):r},Wa.noConflict=function(){return lt._===this&&(lt._=We),this},Wa.noop=sc,Wa.now=To,Wa.pad=function(e,t,a){e=vi(e);var n=(t=gi(t))?ra(e):0;if(!t||n>=t)return e;var r=(t-n)/2;return Hr(ua(r),a)+e+Hr(sa(r),a)},Wa.padEnd=function(e,t,a){e=vi(e);var n=(t=gi(t))?ra(e):0;return t&&n<t?e+Hr(t-n,a):e},Wa.padStart=function(e,t,a){e=vi(e);var n=(t=gi(t))?ra(e):0;return t&&n<t?Hr(t-n,a)+e:e},Wa.parseInt=function(e,t,a){return a||null==t?t=0:t&&(t=+t),va(vi(e).replace(ne,""),t||0)},Wa.random=function(e,t,a){if(a&&"boolean"!=typeof a&&hl(e,t,a)&&(t=a=r),a===r&&("boolean"==typeof t?(a=t,t=r):"boolean"==typeof e&&(a=e,e=r)),e===r&&t===r?(e=0,t=1):(e=fi(e),t===r?(t=e,e=0):t=fi(t)),e>t){var n=e;e=t,t=n}if(a||e%1||t%1){var l=ya();return ha(e+l*(t-e+tt("1e-"+((l+"").length-1))),t)}return $n(e,t)},Wa.reduce=function(e,t,a){var n=Go(e)?Tt:Bt,r=arguments.length<3;return n(e,ol(t,4),a,r,dn)},Wa.reduceRight=function(e,t,a){var n=Go(e)?Pt:Bt,r=arguments.length<3;return n(e,ol(t,4),a,r,mn)},Wa.repeat=function(e,t,a){return t=(a?hl(e,t,a):t===r)?1:gi(t),Kn(vi(e),t)},Wa.replace=function(){var e=arguments,t=vi(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Wa.result=function(e,t,a){var n=-1,l=(t=hr(t,e)).length;for(l||(l=1,e=r);++n<l;){var o=null==e?r:e[Dl(t[n])];o===r&&(n=l,o=a),e=Zo(o)?o.call(e):o}return e},Wa.round=Mc,Wa.runInContext=e,Wa.sample=function(e){return(Go(e)?Xa:Xn)(e)},Wa.size=function(e){if(null==e)return 0;if(Ko(e))return ci(e)?ra(e):e.length;var t=ml(e);return t==S||t==T?e.size:Ln(e).length},Wa.snakeCase=Yi,Wa.some=function(e,t,a){var n=Go(e)?It:ar;return a&&hl(e,t,a)&&(t=r),n(e,ol(t,3))},Wa.sortedIndex=function(e,t){return nr(e,t)},Wa.sortedIndexBy=function(e,t,a){return rr(e,t,ol(a,2))},Wa.sortedIndexOf=function(e,t){var a=null==e?0:e.length;if(a){var n=nr(e,t);if(n<a&&zo(e[n],t))return n}return-1},Wa.sortedLastIndex=function(e,t){return nr(e,t,!0)},Wa.sortedLastIndexBy=function(e,t,a){return rr(e,t,ol(a,2),!0)},Wa.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var a=nr(e,t,!0)-1;if(zo(e[a],t))return a}return-1},Wa.startCase=Xi,Wa.startsWith=function(e,t,a){return e=vi(e),a=null==a?0:ln(gi(a),0,e.length),t=ir(t),e.slice(a,a+t.length)==t},Wa.subtract=wc,Wa.sum=function(e){return e&&e.length?Ut(e,rc):0},Wa.sumBy=function(e,t){return e&&e.length?Ut(e,ol(t,2)):0},Wa.template=function(e,t,a){var n=Wa.templateSettings;a&&hl(e,t,a)&&(t=r),e=vi(e),t=Si({},t,n,qr);var l,o,i=Si({},t.imports,n.imports,qr),c=Oi(i),s=Vt(i,c),u=0,d=t.interpolate||ve,m="__p += '",p=we((t.escape||ve).source+"|"+d.source+"|"+(d===Q?de:ve).source+"|"+(t.evaluate||ve).source+"|$","g"),f="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Qe+"]")+"\n";e.replace(p,(function(t,a,n,r,i,c){return n||(n=r),m+=e.slice(u,c).replace(ye,Qt),a&&(l=!0,m+="' +\n__e("+a+") +\n'"),i&&(o=!0,m+="';\n"+i+";\n__p += '"),n&&(m+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),m+="';\n";var g=Ne.call(t,"variable")&&t.variable;if(g){if(se.test(g))throw new Fe("Invalid `variable` option passed into `_.template`")}else m="with (obj) {\n"+m+"\n}\n";m=(o?m.replace(H,""):m).replace(j,"$1").replace(V,"$1;"),m="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(l?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var E=Ji((function(){return Se(c,f+"return "+m).apply(r,s)}));if(E.source=m,Qo(E))throw E;return E},Wa.times=function(e,t){if((e=gi(e))<1||e>d)return[];var a=p,n=ha(e,p);t=ol(t),e-=p;for(var r=zt(n,t);++a<e;)t(a);return r},Wa.toFinite=fi,Wa.toInteger=gi,Wa.toLength=Ei,Wa.toLower=function(e){return vi(e).toLowerCase()},Wa.toNumber=hi,Wa.toSafeInteger=function(e){return e?ln(gi(e),-9007199254740991,d):0===e?e:0},Wa.toString=vi,Wa.toUpper=function(e){return vi(e).toUpperCase()},Wa.trim=function(e,t,a){if((e=vi(e))&&(a||t===r))return Ht(e);if(!e||!(t=ir(t)))return e;var n=la(e),l=la(t);return vr(n,$t(n,l),Kt(n,l)+1).join("")},Wa.trimEnd=function(e,t,a){if((e=vi(e))&&(a||t===r))return e.slice(0,oa(e)+1);if(!e||!(t=ir(t)))return e;var n=la(e);return vr(n,0,Kt(n,la(t))+1).join("")},Wa.trimStart=function(e,t,a){if((e=vi(e))&&(a||t===r))return e.replace(ne,"");if(!e||!(t=ir(t)))return e;var n=la(e);return vr(n,$t(n,la(t))).join("")},Wa.truncate=function(e,t){var a=30,n="...";if(ti(t)){var l="separator"in t?t.separator:l;a="length"in t?gi(t.length):a,n="omission"in t?ir(t.omission):n}var o=(e=vi(e)).length;if(Zt(e)){var i=la(e);o=i.length}if(a>=o)return e;var c=a-ra(n);if(c<1)return n;var s=i?vr(i,0,c).join(""):e.slice(0,c);if(l===r)return s+n;if(i&&(c+=s.length-c),oi(l)){if(e.slice(c).search(l)){var u,d=s;for(l.global||(l=we(l.source,vi(me.exec(l))+"g")),l.lastIndex=0;u=l.exec(d);)var m=u.index;s=s.slice(0,m===r?c:m)}}else if(e.indexOf(ir(l),c)!=c){var p=s.lastIndexOf(l);p>-1&&(s=s.slice(0,p))}return s+n},Wa.unescape=function(e){return(e=vi(e))&&K.test(e)?e.replace(G,ia):e},Wa.uniqueId=function(e){var t=++Re;return vi(e)+t},Wa.upperCase=qi,Wa.upperFirst=Qi,Wa.each=vo,Wa.eachRight=yo,Wa.first=$l,cc(Wa,(bc={},vn(Wa,(function(e,t){Ne.call(Wa.prototype,t)||(bc[t]=e)})),bc),{chain:!1}),Wa.VERSION="4.17.21",vt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Wa[e].placeholder=Wa})),vt(["drop","take"],(function(e,t){Ha.prototype[e]=function(a){a=a===r?1:Ea(gi(a),0);var n=this.__filtered__&&!t?new Ha(this):this.clone();return n.__filtered__?n.__takeCount__=ha(a,n.__takeCount__):n.__views__.push({size:ha(a,p),type:e+(n.__dir__<0?"Right":"")}),n},Ha.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),vt(["filter","map","takeWhile"],(function(e,t){var a=t+1,n=1==a||3==a;Ha.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ol(e,3),type:a}),t.__filtered__=t.__filtered__||n,t}})),vt(["head","last"],(function(e,t){var a="take"+(t?"Right":"");Ha.prototype[e]=function(){return this[a](1).value()[0]}})),vt(["initial","tail"],(function(e,t){var a="drop"+(t?"":"Right");Ha.prototype[e]=function(){return this.__filtered__?new Ha(this):this[a](1)}})),Ha.prototype.compact=function(){return this.filter(rc)},Ha.prototype.find=function(e){return this.filter(e).head()},Ha.prototype.findLast=function(e){return this.reverse().find(e)},Ha.prototype.invokeMap=Yn((function(e,t){return"function"==typeof e?new Ha(this):this.map((function(a){return In(a,e,t)}))})),Ha.prototype.reject=function(e){return this.filter(_o(ol(e)))},Ha.prototype.slice=function(e,t){e=gi(e);var a=this;return a.__filtered__&&(e>0||t<0)?new Ha(a):(e<0?a=a.takeRight(-e):e&&(a=a.drop(e)),t!==r&&(a=(t=gi(t))<0?a.dropRight(-t):a.take(t-e)),a)},Ha.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ha.prototype.toArray=function(){return this.take(p)},vn(Ha.prototype,(function(e,t){var a=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),l=Wa[n?"take"+("last"==t?"Right":""):t],o=n||/^find/.test(t);l&&(Wa.prototype[t]=function(){var t=this.__wrapped__,i=n?[1]:arguments,c=t instanceof Ha,s=i[0],u=c||Go(t),d=function(e){var t=l.apply(Wa,kt([e],i));return n&&m?t[0]:t};u&&a&&"function"==typeof s&&1!=s.length&&(c=u=!1);var m=this.__chain__,p=!!this.__actions__.length,f=o&&!m,g=c&&!p;if(!o&&u){t=g?t:new Ha(this);var E=e.apply(t,i);return E.__actions__.push({func:fo,args:[d],thisArg:r}),new za(E,m)}return f&&g?e.apply(this,i):(E=this.thru(d),f?n?E.value()[0]:E.value():E)})})),vt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Pe[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Wa.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var r=this.value();return t.apply(Go(r)?r:[],e)}return this[a]((function(a){return t.apply(Go(a)?a:[],e)}))}})),vn(Ha.prototype,(function(e,t){var a=Wa[t];if(a){var n=a.name+"";Ne.call(Ia,n)||(Ia[n]=[]),Ia[n].push({name:t,func:a})}})),Ia[Wr(r,2).name]=[{name:"wrapper",func:r}],Ha.prototype.clone=function(){var e=new Ha(this.__wrapped__);return e.__actions__=Tr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Tr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Tr(this.__views__),e},Ha.prototype.reverse=function(){if(this.__filtered__){var e=new Ha(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Ha.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,a=Go(e),n=t<0,r=a?e.length:0,l=function(e,t,a){for(var n=-1,r=a.length;++n<r;){var l=a[n],o=l.size;switch(l.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=ha(t,e+o);break;case"takeRight":e=Ea(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=l.start,i=l.end,c=i-o,s=n?i:o-1,u=this.__iteratees__,d=u.length,m=0,p=ha(c,this.__takeCount__);if(!a||!n&&r==c&&p==c)return mr(e,this.__actions__);var f=[];e:for(;c--&&m<p;){for(var g=-1,E=e[s+=t];++g<d;){var h=u[g],b=h.iteratee,v=h.type,y=b(E);if(2==v)E=y;else if(!y){if(1==v)continue e;break e}}f[m++]=E}return f},Wa.prototype.at=go,Wa.prototype.chain=function(){return po(this)},Wa.prototype.commit=function(){return new za(this.value(),this.__chain__)},Wa.prototype.next=function(){this.__values__===r&&(this.__values__=pi(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},Wa.prototype.plant=function(e){for(var t,a=this;a instanceof Ua;){var n=Bl(a);n.__index__=0,n.__values__=r,t?l.__wrapped__=n:t=n;var l=n;a=a.__wrapped__}return l.__wrapped__=e,t},Wa.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Ha){var t=e;return this.__actions__.length&&(t=new Ha(this)),(t=t.reverse()).__actions__.push({func:fo,args:[eo],thisArg:r}),new za(t,this.__chain__)}return this.thru(eo)},Wa.prototype.toJSON=Wa.prototype.valueOf=Wa.prototype.value=function(){return mr(this.__wrapped__,this.__actions__)},Wa.prototype.first=Wa.prototype.head,ot&&(Wa.prototype[ot]=function(){return this}),Wa}();lt._=ca,(n=function(){return ca}.call(t,a,t,e))===r||(e.exports=n)}.call(this)},8671:function(e,t,a){var n;e=a.nmd(e),function(){function r(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function l(e,t,a,n){for(var r=-1,l=null==e?0:e.length;++r<l;){var o=e[r];t(n,o,a(o),e)}return n}function o(e,t){for(var a=-1,n=null==e?0:e.length;++a<n&&!1!==t(e[a],a,e););return e}function i(e,t){for(var a=null==e?0:e.length;a--&&!1!==t(e[a],a,e););return e}function c(e,t){for(var a=-1,n=null==e?0:e.length;++a<n;)if(!t(e[a],a,e))return!1;return!0}function s(e,t){for(var a=-1,n=null==e?0:e.length,r=0,l=[];++a<n;){var o=e[a];t(o,a,e)&&(l[r++]=o)}return l}function u(e,t){return!(null==e||!e.length)&&v(e,t,0)>-1}function d(e,t,a){for(var n=-1,r=null==e?0:e.length;++n<r;)if(a(t,e[n]))return!0;return!1}function m(e,t){for(var a=-1,n=null==e?0:e.length,r=Array(n);++a<n;)r[a]=t(e[a],a,e);return r}function p(e,t){for(var a=-1,n=t.length,r=e.length;++a<n;)e[r+a]=t[a];return e}function f(e,t,a,n){var r=-1,l=null==e?0:e.length;for(n&&l&&(a=e[++r]);++r<l;)a=t(a,e[r],r,e);return a}function g(e,t,a,n){var r=null==e?0:e.length;for(n&&r&&(a=e[--r]);r--;)a=t(a,e[r],r,e);return a}function E(e,t){for(var a=-1,n=null==e?0:e.length;++a<n;)if(t(e[a],a,e))return!0;return!1}function h(e,t,a){var n;return a(e,(function(e,a,r){if(t(e,a,r))return n=a,!1})),n}function b(e,t,a,n){for(var r=e.length,l=a+(n?1:-1);n?l--:++l<r;)if(t(e[l],l,e))return l;return-1}function v(e,t,a){return t==t?function(e,t,a){for(var n=a-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}(e,t,a):b(e,F,a)}function y(e,t,a,n){for(var r=a-1,l=e.length;++r<l;)if(n(e[r],t))return r;return-1}function F(e){return e!=e}function S(e,t){var a=null==e?0:e.length;return a?k(e,t)/a:ee}function C(e){return function(t){return null==t?$:t[e]}}function M(e){return function(t){return null==e?$:e[t]}}function w(e,t,a,n,r){return r(e,(function(e,r,l){a=n?(n=!1,e):t(a,e,r,l)})),a}function k(e,t){for(var a,n=-1,r=e.length;++n<r;){var l=t(e[n]);l!==$&&(a=a===$?l:a+l)}return a}function T(e,t){for(var a=-1,n=Array(e);++a<e;)n[a]=t(a);return n}function P(e){return e?e.slice(0,V(e)+1).replace(Ge,""):e}function I(e){return function(t){return e(t)}}function x(e,t){return m(t,(function(t){return e[t]}))}function A(e,t){return e.has(t)}function O(e,t){for(var a=-1,n=e.length;++a<n&&v(t,e[a],0)>-1;);return a}function N(e,t){for(var a=e.length;a--&&v(t,e[a],0)>-1;);return a}function R(e,t){for(var a=e.length,n=0;a--;)e[a]===t&&++n;return n}function L(e){return"\\"+Kt[e]}function _(e){return zt.test(e)}function D(e){return Ht.test(e)}function W(e){var t=-1,a=Array(e.size);return e.forEach((function(e,n){a[++t]=[n,e]})),a}function B(e,t){return function(a){return e(t(a))}}function U(e,t){for(var a=-1,n=e.length,r=0,l=[];++a<n;){var o=e[a];o!==t&&o!==X||(e[a]=X,l[r++]=a)}return l}function z(e){var t=-1,a=Array(e.size);return e.forEach((function(e){a[++t]=e})),a}function H(e){return _(e)?function(e){for(var t=Bt.lastIndex=0;Bt.test(e);)++t;return t}(e):ua(e)}function j(e){return _(e)?function(e){return e.match(Bt)||[]}(e):function(e){return e.split("")}(e)}function V(e){for(var t=e.length;t--&&$e.test(e.charAt(t)););return t}function G(e){return e.match(Ut)||[]}var $,K="Expected a function",Y="__lodash_hash_undefined__",X="__lodash_placeholder__",q=32,Q=128,Z=1/0,J=9007199254740991,ee=NaN,te=4294967295,ae=[["ary",Q],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",q],["partialRight",64],["rearg",256]],ne="[object Arguments]",re="[object Array]",le="[object Boolean]",oe="[object Date]",ie="[object Error]",ce="[object Function]",se="[object GeneratorFunction]",ue="[object Map]",de="[object Number]",me="[object Object]",pe="[object Promise]",fe="[object RegExp]",ge="[object Set]",Ee="[object String]",he="[object Symbol]",be="[object WeakMap]",ve="[object ArrayBuffer]",ye="[object DataView]",Fe="[object Float32Array]",Se="[object Float64Array]",Ce="[object Int8Array]",Me="[object Int16Array]",we="[object Int32Array]",ke="[object Uint8Array]",Te="[object Uint8ClampedArray]",Pe="[object Uint16Array]",Ie="[object Uint32Array]",xe=/\b__p \+= '';/g,Ae=/\b(__p \+=) '' \+/g,Oe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ne=/&(?:amp|lt|gt|quot|#39);/g,Re=/[&<>"']/g,Le=RegExp(Ne.source),_e=RegExp(Re.source),De=/<%-([\s\S]+?)%>/g,We=/<%([\s\S]+?)%>/g,Be=/<%=([\s\S]+?)%>/g,Ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ze=/^\w*$/,He=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,je=/[\\^$.*+?()[\]{}|]/g,Ve=RegExp(je.source),Ge=/^\s+/,$e=/\s/,Ke=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ye=/\{\n\/\* \[wrapped with (.+)\] \*/,Xe=/,? & /,qe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Qe=/[()=,{}\[\]\/\s]/,Ze=/\\(\\)?/g,Je=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,et=/\w*$/,tt=/^[-+]0x[0-9a-f]+$/i,at=/^0b[01]+$/i,nt=/^\[object .+?Constructor\]$/,rt=/^0o[0-7]+$/i,lt=/^(?:0|[1-9]\d*)$/,ot=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,it=/($^)/,ct=/['\n\r\u2028\u2029\\]/g,st="\\ud800-\\udfff",ut="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\u2700-\\u27bf",mt="a-z\\xdf-\\xf6\\xf8-\\xff",pt="A-Z\\xc0-\\xd6\\xd8-\\xde",ft="\\ufe0e\\ufe0f",gt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Et="["+st+"]",ht="["+gt+"]",bt="["+ut+"]",vt="\\d+",yt="["+dt+"]",Ft="["+mt+"]",St="[^"+st+gt+vt+dt+mt+pt+"]",Ct="\\ud83c[\\udffb-\\udfff]",Mt="[^"+st+"]",wt="(?:\\ud83c[\\udde6-\\uddff]){2}",kt="[\\ud800-\\udbff][\\udc00-\\udfff]",Tt="["+pt+"]",Pt="(?:"+Ft+"|"+St+")",It="(?:"+Tt+"|"+St+")",xt="(?:['’](?:d|ll|m|re|s|t|ve))?",At="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ot="(?:"+bt+"|"+Ct+")?",Nt="["+ft+"]?",Rt=Nt+Ot+"(?:\\u200d(?:"+[Mt,wt,kt].join("|")+")"+Nt+Ot+")*",Lt="(?:"+[yt,wt,kt].join("|")+")"+Rt,_t="(?:"+[Mt+bt+"?",bt,wt,kt,Et].join("|")+")",Dt=RegExp("['’]","g"),Wt=RegExp(bt,"g"),Bt=RegExp(Ct+"(?="+Ct+")|"+_t+Rt,"g"),Ut=RegExp([Tt+"?"+Ft+"+"+xt+"(?="+[ht,Tt,"$"].join("|")+")",It+"+"+At+"(?="+[ht,Tt+Pt,"$"].join("|")+")",Tt+"?"+Pt+"+"+xt,Tt+"+"+At,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vt,Lt].join("|"),"g"),zt=RegExp("[\\u200d"+st+ut+ft+"]"),Ht=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vt=-1,Gt={};Gt[Fe]=Gt[Se]=Gt[Ce]=Gt[Me]=Gt[we]=Gt[ke]=Gt[Te]=Gt[Pe]=Gt[Ie]=!0,Gt[ne]=Gt[re]=Gt[ve]=Gt[le]=Gt[ye]=Gt[oe]=Gt[ie]=Gt[ce]=Gt[ue]=Gt[de]=Gt[me]=Gt[fe]=Gt[ge]=Gt[Ee]=Gt[be]=!1;var $t={};$t[ne]=$t[re]=$t[ve]=$t[ye]=$t[le]=$t[oe]=$t[Fe]=$t[Se]=$t[Ce]=$t[Me]=$t[we]=$t[ue]=$t[de]=$t[me]=$t[fe]=$t[ge]=$t[Ee]=$t[he]=$t[ke]=$t[Te]=$t[Pe]=$t[Ie]=!0,$t[ie]=$t[ce]=$t[be]=!1;var Kt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yt=parseFloat,Xt=parseInt,qt="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g,Qt="object"==typeof self&&self&&self.Object===Object&&self,Zt=qt||Qt||Function("return this")(),Jt=t&&!t.nodeType&&t,ea=Jt&&e&&!e.nodeType&&e,ta=ea&&ea.exports===Jt,aa=ta&&qt.process,na=function(){try{return ea&&ea.require&&ea.require("util").types||aa&&aa.binding&&aa.binding("util")}catch(e){}}(),ra=na&&na.isArrayBuffer,la=na&&na.isDate,oa=na&&na.isMap,ia=na&&na.isRegExp,ca=na&&na.isSet,sa=na&&na.isTypedArray,ua=C("length"),da=M({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),ma=M({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),pa=M({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),fa=function e(t){function a(e){if(_r(e)&&!ki(e)&&!(e instanceof $e)){if(e instanceof M)return e;if(wl.call(e,"__wrapped__"))return cr(e)}return new M(e)}function n(){}function M(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=$}function $e(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function st(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function ut(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function dt(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function mt(e){var t=-1,a=null==e?0:e.length;for(this.__data__=new dt;++t<a;)this.add(e[t])}function pt(e){this.size=(this.__data__=new ut(e)).size}function ft(e,t){var a=ki(e),n=!a&&wi(e),r=!a&&!n&&Pi(e),l=!a&&!n&&!r&&Ni(e),o=a||n||r||l,i=o?T(e.length,bl):[],c=i.length;for(var s in e)!t&&!wl.call(e,s)||o&&("length"==s||r&&("offset"==s||"parent"==s)||l&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Gn(s,c))||i.push(s);return i}function gt(e){var t=e.length;return t?e[Ta(0,t-1)]:$}function Et(e,t){return rr(rn(e),wt(t,0,e.length))}function ht(e){return rr(rn(e))}function bt(e,t,a){(a===$||Pr(e[t],a))&&(a!==$||t in e)||Ct(e,t,a)}function vt(e,t,a){var n=e[t];wl.call(e,t)&&Pr(n,a)&&(a!==$||t in e)||Ct(e,t,a)}function yt(e,t){for(var a=e.length;a--;)if(Pr(e[a][0],t))return a;return-1}function Ft(e,t,a,n){return Mo(e,(function(e,r,l){t(n,e,a(e),l)})),n}function St(e,t){return e&&ln(t,qr(t),e)}function Ct(e,t,a){"__proto__"==t&&jl?jl(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function Mt(e,t){for(var a=-1,n=t.length,r=dl(n),l=null==e;++a<n;)r[a]=l?$:Yr(e,t[a]);return r}function wt(e,t,a){return e==e&&(a!==$&&(e=e<=a?e:a),t!==$&&(e=e>=t?e:t)),e}function kt(e,t,a,n,r,l){var i,c=1&t,s=2&t,u=4&t;if(a&&(i=r?a(e,n,r,l):a(e)),i!==$)return i;if(!Lr(e))return e;var d=ki(e);if(d){if(i=function(e){var t=e.length,a=new e.constructor(t);return t&&"string"==typeof e[0]&&wl.call(e,"index")&&(a.index=e.index,a.input=e.input),a}(e),!c)return rn(e,i)}else{var m=_o(e),p=m==ce||m==se;if(Pi(e))return Za(e,c);if(m==me||m==ne||p&&!r){if(i=s||p?{}:jn(e),!c)return s?function(e,t){return ln(e,Lo(e),t)}(e,function(e,t){return e&&ln(t,Qr(t),e)}(i,e)):function(e,t){return ln(e,Ro(e),t)}(e,St(i,e))}else{if(!$t[m])return r?e:{};i=function(e,t,a){var n=e.constructor;switch(t){case ve:return Ja(e);case le:case oe:return new n(+e);case ye:return function(e,t){return new e.constructor(t?Ja(e.buffer):e.buffer,e.byteOffset,e.byteLength)}(e,a);case Fe:case Se:case Ce:case Me:case we:case ke:case Te:case Pe:case Ie:return en(e,a);case ue:return new n;case de:case Ee:return new n(e);case fe:return function(e){var t=new e.constructor(e.source,et.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ge:return new n;case he:return function(e){return Fo?El(Fo.call(e)):{}}(e)}}(e,m,c)}}l||(l=new pt);var f=l.get(e);if(f)return f;l.set(e,i),Oi(e)?e.forEach((function(n){i.add(kt(n,t,a,n,e,l))})):xi(e)&&e.forEach((function(n,r){i.set(r,kt(n,t,a,r,e,l))}));var g=d?$:(u?s?Ln:Rn:s?Qr:qr)(e);return o(g||e,(function(n,r){g&&(n=e[r=n]),vt(i,r,kt(n,t,a,r,e,l))})),i}function Tt(e,t,a){var n=a.length;if(null==e)return!n;for(e=El(e);n--;){var r=a[n],l=t[r],o=e[r];if(o===$&&!(r in e)||!l(o))return!1}return!0}function Pt(e,t,a){if("function"!=typeof e)throw new vl(K);return Bo((function(){e.apply($,a)}),t)}function It(e,t,a,n){var r=-1,l=u,o=!0,i=e.length,c=[],s=t.length;if(!i)return c;a&&(t=m(t,I(a))),n?(l=d,o=!1):t.length>=200&&(l=A,o=!1,t=new mt(t));e:for(;++r<i;){var p=e[r],f=null==a?p:a(p);if(p=n||0!==p?p:0,o&&f==f){for(var g=s;g--;)if(t[g]===f)continue e;c.push(p)}else l(t,f,n)||c.push(p)}return c}function xt(e,t){var a=!0;return Mo(e,(function(e,n,r){return a=!!t(e,n,r)})),a}function At(e,t,a){for(var n=-1,r=e.length;++n<r;){var l=e[n],o=t(l);if(null!=o&&(i===$?o==o&&!Ur(o):a(o,i)))var i=o,c=l}return c}function Ot(e,t){var a=[];return Mo(e,(function(e,n,r){t(e,n,r)&&a.push(e)})),a}function Nt(e,t,a,n,r){var l=-1,o=e.length;for(a||(a=Vn),r||(r=[]);++l<o;){var i=e[l];t>0&&a(i)?t>1?Nt(i,t-1,a,n,r):p(r,i):n||(r[r.length]=i)}return r}function Rt(e,t){return e&&ko(e,t,qr)}function Lt(e,t){return e&&To(e,t,qr)}function _t(e,t){return s(t,(function(t){return Or(e[t])}))}function Bt(e,t){for(var a=0,n=(t=qa(t,e)).length;null!=e&&a<n;)e=e[lr(t[a++])];return a&&a==n?e:$}function Ut(e,t,a){var n=t(e);return ki(e)?n:p(n,a(e))}function zt(e){return null==e?e===$?"[object Undefined]":"[object Null]":Hl&&Hl in El(e)?function(e){var t=wl.call(e,Hl),a=e[Hl];try{e[Hl]=$;var n=!0}catch(e){}var r=Pl.call(e);return n&&(t?e[Hl]=a:delete e[Hl]),r}(e):function(e){return Pl.call(e)}(e)}function Ht(e,t){return e>t}function Kt(e,t){return null!=e&&wl.call(e,t)}function qt(e,t){return null!=e&&t in El(e)}function Qt(e,t,a){for(var n=a?d:u,r=e[0].length,l=e.length,o=l,i=dl(l),c=1/0,s=[];o--;){var p=e[o];o&&t&&(p=m(p,I(t))),c=to(p.length,c),i[o]=!a&&(t||r>=120&&p.length>=120)?new mt(o&&p):$}p=e[0];var f=-1,g=i[0];e:for(;++f<r&&s.length<c;){var E=p[f],h=t?t(E):E;if(E=a||0!==E?E:0,!(g?A(g,h):n(s,h,a))){for(o=l;--o;){var b=i[o];if(!(b?A(b,h):n(e[o],h,a)))continue e}g&&g.push(h),s.push(E)}}return s}function Jt(e,t,a){var n=null==(e=Jn(e,t=qa(t,e)))?e:e[lr(pr(t))];return null==n?$:r(n,e,a)}function ea(e){return _r(e)&&zt(e)==ne}function aa(e,t,a,n,r){return e===t||(null==e||null==t||!_r(e)&&!_r(t)?e!=e&&t!=t:function(e,t,a,n,r,l){var o=ki(e),i=ki(t),c=o?re:_o(e),s=i?re:_o(t),u=(c=c==ne?me:c)==me,d=(s=s==ne?me:s)==me,m=c==s;if(m&&Pi(e)){if(!Pi(t))return!1;o=!0,u=!1}if(m&&!u)return l||(l=new pt),o||Ni(e)?On(e,t,a,n,r,l):function(e,t,a,n,r,l,o){switch(a){case ye:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ve:return!(e.byteLength!=t.byteLength||!l(new Rl(e),new Rl(t)));case le:case oe:case de:return Pr(+e,+t);case ie:return e.name==t.name&&e.message==t.message;case fe:case Ee:return e==t+"";case ue:var i=W;case ge:var c=1&n;if(i||(i=z),e.size!=t.size&&!c)return!1;var s=o.get(e);if(s)return s==t;n|=2,o.set(e,t);var u=On(i(e),i(t),n,r,l,o);return o.delete(e),u;case he:if(Fo)return Fo.call(e)==Fo.call(t)}return!1}(e,t,c,a,n,r,l);if(!(1&a)){var p=u&&wl.call(e,"__wrapped__"),f=d&&wl.call(t,"__wrapped__");if(p||f){var g=p?e.value():e,E=f?t.value():t;return l||(l=new pt),r(g,E,a,n,l)}}return!!m&&(l||(l=new pt),function(e,t,a,n,r,l){var o=1&a,i=Rn(e),c=i.length;if(c!=Rn(t).length&&!o)return!1;for(var s=c;s--;){var u=i[s];if(!(o?u in t:wl.call(t,u)))return!1}var d=l.get(e),m=l.get(t);if(d&&m)return d==t&&m==e;var p=!0;l.set(e,t),l.set(t,e);for(var f=o;++s<c;){var g=e[u=i[s]],E=t[u];if(n)var h=o?n(E,g,u,t,e,l):n(g,E,u,e,t,l);if(!(h===$?g===E||r(g,E,a,n,l):h)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var b=e.constructor,v=t.constructor;b!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v)&&(p=!1)}return l.delete(e),l.delete(t),p}(e,t,a,n,r,l))}(e,t,a,n,aa,r))}function na(e,t,a,n){var r=a.length,l=r,o=!n;if(null==e)return!l;for(e=El(e);r--;){var i=a[r];if(o&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++r<l;){var c=(i=a[r])[0],s=e[c],u=i[1];if(o&&i[2]){if(s===$&&!(c in e))return!1}else{var d=new pt;if(n)var m=n(s,u,c,e,t,d);if(!(m===$?aa(u,s,3,n,d):m))return!1}}return!0}function ua(e){return!(!Lr(e)||function(e){return!!Tl&&Tl in e}(e))&&(Or(e)?Al:nt).test(or(e))}function ga(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?ki(e)?ya(e[0],e[1]):va(e):cl(e)}function Ea(e){if(!Xn(e))return Jl(e);var t=[];for(var a in El(e))wl.call(e,a)&&"constructor"!=a&&t.push(a);return t}function ha(e,t){return e<t}function ba(e,t){var a=-1,n=Ir(e)?dl(e.length):[];return Mo(e,(function(e,r,l){n[++a]=t(e,r,l)})),n}function va(e){var t=Un(e);return 1==t.length&&t[0][2]?Qn(t[0][0],t[0][1]):function(a){return a===e||na(a,e,t)}}function ya(e,t){return Kn(e)&&qn(t)?Qn(lr(e),t):function(a){var n=Yr(a,e);return n===$&&n===t?Xr(a,e):aa(t,n,3)}}function Fa(e,t,a,n,r){e!==t&&ko(t,(function(l,o){if(r||(r=new pt),Lr(l))!function(e,t,a,n,r,l,o){var i=tr(e,a),c=tr(t,a),s=o.get(c);if(s)return bt(e,a,s),$;var u=l?l(i,c,a+"",e,t,o):$,d=u===$;if(d){var m=ki(c),p=!m&&Pi(c),f=!m&&!p&&Ni(c);u=c,m||p||f?ki(i)?u=i:xr(i)?u=rn(i):p?(d=!1,u=Za(c,!0)):f?(d=!1,u=en(c,!0)):u=[]:Wr(c)||wi(c)?(u=i,wi(i)?u=$r(i):Lr(i)&&!Or(i)||(u=jn(c))):d=!1}d&&(o.set(c,u),r(u,c,n,l,o),o.delete(c)),bt(e,a,u)}(e,t,o,a,Fa,n,r);else{var i=n?n(tr(e,o),l,o+"",e,t,r):$;i===$&&(i=l),bt(e,o,i)}}),Qr)}function Sa(e,t){var a=e.length;if(a)return Gn(t+=t<0?a:0,a)?e[t]:$}function Ca(e,t,a){t=t.length?m(t,(function(e){return ki(e)?function(t){return Bt(t,1===e.length?e[0]:e)}:e})):[rl];var n=-1;return t=m(t,I(Wn())),function(e,t){var a=e.length;for(e.sort(t);a--;)e[a]=e[a].value;return e}(ba(e,(function(e,a,r){return{criteria:m(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return function(e,t,a){for(var n=-1,r=e.criteria,l=t.criteria,o=r.length,i=a.length;++n<o;){var c=tn(r[n],l[n]);if(c)return n>=i?c:c*("desc"==a[n]?-1:1)}return e.index-t.index}(e,t,a)}))}function Ma(e,t,a){for(var n=-1,r=t.length,l={};++n<r;){var o=t[n],i=Bt(e,o);a(i,o)&&Oa(l,qa(o,e),i)}return l}function wa(e,t,a,n){var r=n?y:v,l=-1,o=t.length,i=e;for(e===t&&(t=rn(t)),a&&(i=m(e,I(a)));++l<o;)for(var c=0,s=t[l],u=a?a(s):s;(c=r(i,u,c,n))>-1;)i!==e&&Bl.call(i,c,1),Bl.call(e,c,1);return e}function ka(e,t){for(var a=e?t.length:0,n=a-1;a--;){var r=t[a];if(a==n||r!==l){var l=r;Gn(r)?Bl.call(e,r,1):Ha(e,r)}}return e}function Ta(e,t){return e+Yl(ro()*(t-e+1))}function Pa(e,t){var a="";if(!e||t<1||t>J)return a;do{t%2&&(a+=e),(t=Yl(t/2))&&(e+=e)}while(t);return a}function Ia(e,t){return Uo(Zn(e,t,rl),e+"")}function xa(e){return gt(Jr(e))}function Aa(e,t){var a=Jr(e);return rr(a,wt(t,0,a.length))}function Oa(e,t,a,n){if(!Lr(e))return e;for(var r=-1,l=(t=qa(t,e)).length,o=l-1,i=e;null!=i&&++r<l;){var c=lr(t[r]),s=a;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(r!=o){var u=i[c];(s=n?n(u,c,i):$)===$&&(s=Lr(u)?u:Gn(t[r+1])?[]:{})}vt(i,c,s),i=i[c]}return e}function Na(e){return rr(Jr(e))}function Ra(e,t,a){var n=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(a=a>r?r:a)<0&&(a+=r),r=t>a?0:a-t>>>0,t>>>=0;for(var l=dl(r);++n<r;)l[n]=e[n+t];return l}function La(e,t){var a;return Mo(e,(function(e,n,r){return!(a=t(e,n,r))})),!!a}function _a(e,t,a){var n=0,r=null==e?n:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;n<r;){var l=n+r>>>1,o=e[l];null!==o&&!Ur(o)&&(a?o<=t:o<t)?n=l+1:r=l}return r}return Da(e,t,rl,a)}function Da(e,t,a,n){var r=0,l=null==e?0:e.length;if(0===l)return 0;for(var o=(t=a(t))!=t,i=null===t,c=Ur(t),s=t===$;r<l;){var u=Yl((r+l)/2),d=a(e[u]),m=d!==$,p=null===d,f=d==d,g=Ur(d);if(o)var E=n||f;else E=s?f&&(n||m):i?f&&m&&(n||!p):c?f&&m&&!p&&(n||!g):!p&&!g&&(n?d<=t:d<t);E?r=u+1:l=u}return to(l,4294967294)}function Wa(e,t){for(var a=-1,n=e.length,r=0,l=[];++a<n;){var o=e[a],i=t?t(o):o;if(!a||!Pr(i,c)){var c=i;l[r++]=0===o?0:o}}return l}function Ba(e){return"number"==typeof e?e:Ur(e)?ee:+e}function Ua(e){if("string"==typeof e)return e;if(ki(e))return m(e,Ua)+"";if(Ur(e))return So?So.call(e):"";var t=e+"";return"0"==t&&1/e==-Z?"-0":t}function za(e,t,a){var n=-1,r=u,l=e.length,o=!0,i=[],c=i;if(a)o=!1,r=d;else if(l>=200){var s=t?null:Oo(e);if(s)return z(s);o=!1,r=A,c=new mt}else c=t?[]:i;e:for(;++n<l;){var m=e[n],p=t?t(m):m;if(m=a||0!==m?m:0,o&&p==p){for(var f=c.length;f--;)if(c[f]===p)continue e;t&&c.push(p),i.push(m)}else r(c,p,a)||(c!==i&&c.push(p),i.push(m))}return i}function Ha(e,t){return null==(e=Jn(e,t=qa(t,e)))||delete e[lr(pr(t))]}function ja(e,t,a,n){return Oa(e,t,a(Bt(e,t)),n)}function Va(e,t,a,n){for(var r=e.length,l=n?r:-1;(n?l--:++l<r)&&t(e[l],l,e););return a?Ra(e,n?0:l,n?l+1:r):Ra(e,n?l+1:0,n?r:l)}function Ga(e,t){var a=e;return a instanceof $e&&(a=a.value()),f(t,(function(e,t){return t.func.apply(t.thisArg,p([e],t.args))}),a)}function $a(e,t,a){var n=e.length;if(n<2)return n?za(e[0]):[];for(var r=-1,l=dl(n);++r<n;)for(var o=e[r],i=-1;++i<n;)i!=r&&(l[r]=It(l[r]||o,e[i],t,a));return za(Nt(l,1),t,a)}function Ka(e,t,a){for(var n=-1,r=e.length,l=t.length,o={};++n<r;)a(o,e[n],n<l?t[n]:$);return o}function Ya(e){return xr(e)?e:[]}function Xa(e){return"function"==typeof e?e:rl}function qa(e,t){return ki(e)?e:Kn(e,t)?[e]:zo(Kr(e))}function Qa(e,t,a){var n=e.length;return a=a===$?n:a,!t&&a>=n?e:Ra(e,t,a)}function Za(e,t){if(t)return e.slice();var a=e.length,n=Ll?Ll(a):new e.constructor(a);return e.copy(n),n}function Ja(e){var t=new e.constructor(e.byteLength);return new Rl(t).set(new Rl(e)),t}function en(e,t){return new e.constructor(t?Ja(e.buffer):e.buffer,e.byteOffset,e.length)}function tn(e,t){if(e!==t){var a=e!==$,n=null===e,r=e==e,l=Ur(e),o=t!==$,i=null===t,c=t==t,s=Ur(t);if(!i&&!s&&!l&&e>t||l&&o&&c&&!i&&!s||n&&o&&c||!a&&c||!r)return 1;if(!n&&!l&&!s&&e<t||s&&a&&r&&!n&&!l||i&&a&&r||!o&&r||!c)return-1}return 0}function an(e,t,a,n){for(var r=-1,l=e.length,o=a.length,i=-1,c=t.length,s=eo(l-o,0),u=dl(c+s),d=!n;++i<c;)u[i]=t[i];for(;++r<o;)(d||r<l)&&(u[a[r]]=e[r]);for(;s--;)u[i++]=e[r++];return u}function nn(e,t,a,n){for(var r=-1,l=e.length,o=-1,i=a.length,c=-1,s=t.length,u=eo(l-i,0),d=dl(u+s),m=!n;++r<u;)d[r]=e[r];for(var p=r;++c<s;)d[p+c]=t[c];for(;++o<i;)(m||r<l)&&(d[p+a[o]]=e[r++]);return d}function rn(e,t){var a=-1,n=e.length;for(t||(t=dl(n));++a<n;)t[a]=e[a];return t}function ln(e,t,a,n){var r=!a;a||(a={});for(var l=-1,o=t.length;++l<o;){var i=t[l],c=n?n(a[i],e[i],i,a,e):$;c===$&&(c=e[i]),r?Ct(a,i,c):vt(a,i,c)}return a}function on(e,t){return function(a,n){var r=ki(a)?l:Ft,o=t?t():{};return r(a,e,Wn(n,2),o)}}function cn(e){return Ia((function(t,a){var n=-1,r=a.length,l=r>1?a[r-1]:$,o=r>2?a[2]:$;for(l=e.length>3&&"function"==typeof l?(r--,l):$,o&&$n(a[0],a[1],o)&&(l=r<3?$:l,r=1),t=El(t);++n<r;){var i=a[n];i&&e(t,i,n,l)}return t}))}function sn(e,t){return function(a,n){if(null==a)return a;if(!Ir(a))return e(a,n);for(var r=a.length,l=t?r:-1,o=El(a);(t?l--:++l<r)&&!1!==n(o[l],l,o););return a}}function un(e){return function(t,a,n){for(var r=-1,l=El(t),o=n(t),i=o.length;i--;){var c=o[e?i:++r];if(!1===a(l[c],c,l))break}return t}}function dn(e){return function(t){var a=_(t=Kr(t))?j(t):$,n=a?a[0]:t.charAt(0),r=a?Qa(a,1).join(""):t.slice(1);return n[e]()+r}}function mn(e){return function(t){return f(al(tl(t).replace(Dt,"")),e,"")}}function pn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var a=Co(e.prototype),n=e.apply(a,t);return Lr(n)?n:a}}function fn(e,t,a){var n=pn(e);return function l(){for(var o=arguments.length,i=dl(o),c=o,s=Dn(l);c--;)i[c]=arguments[c];var u=o<3&&i[0]!==s&&i[o-1]!==s?[]:U(i,s);return(o-=u.length)<a?wn(e,t,hn,l.placeholder,$,i,u,$,$,a-o):r(this&&this!==Zt&&this instanceof l?n:e,this,i)}}function gn(e){return function(t,a,n){var r=El(t);if(!Ir(t)){var l=Wn(a,3);t=qr(t),a=function(e){return l(r[e],e,r)}}var o=e(t,a,n);return o>-1?r[l?t[o]:o]:$}}function En(e){return Nn((function(t){var a=t.length,n=a,r=M.prototype.thru;for(e&&t.reverse();n--;){var l=t[n];if("function"!=typeof l)throw new vl(K);if(r&&!o&&"wrapper"==_n(l))var o=new M([],!0)}for(n=o?n:a;++n<a;){var i=_n(l=t[n]),c="wrapper"==i?No(l):$;o=c&&Yn(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?o[_n(c[0])].apply(o,c[3]):1==l.length&&Yn(l)?o[i]():o.thru(l)}return function(){var e=arguments,n=e[0];if(o&&1==e.length&&ki(n))return o.plant(n).value();for(var r=0,l=a?t[r].apply(this,e):n;++r<a;)l=t[r].call(this,l);return l}}))}function hn(e,t,a,n,r,l,o,i,c,s){var u=t&Q,d=1&t,m=2&t,p=24&t,f=512&t,g=m?$:pn(e);return function E(){for(var h=arguments.length,b=dl(h),v=h;v--;)b[v]=arguments[v];if(p)var y=Dn(E),F=R(b,y);if(n&&(b=an(b,n,r,p)),l&&(b=nn(b,l,o,p)),h-=F,p&&h<s)return wn(e,t,hn,E.placeholder,a,b,U(b,y),i,c,s-h);var S=d?a:this,C=m?S[e]:e;return h=b.length,i?b=er(b,i):f&&h>1&&b.reverse(),u&&c<h&&(b.length=c),this&&this!==Zt&&this instanceof E&&(C=g||pn(C)),C.apply(S,b)}}function bn(e,t){return function(a,n){return function(e,t,a,n){return Rt(e,(function(e,r,l){t(n,a(e),r,l)})),n}(a,e,t(n),{})}}function vn(e,t){return function(a,n){var r;if(a===$&&n===$)return t;if(a!==$&&(r=a),n!==$){if(r===$)return n;"string"==typeof a||"string"==typeof n?(a=Ua(a),n=Ua(n)):(a=Ba(a),n=Ba(n)),r=e(a,n)}return r}}function yn(e){return Nn((function(t){return t=m(t,I(Wn())),Ia((function(a){var n=this;return e(t,(function(e){return r(e,n,a)}))}))}))}function Fn(e,t){var a=(t=t===$?" ":Ua(t)).length;if(a<2)return a?Pa(t,e):t;var n=Pa(t,Kl(e/H(t)));return _(t)?Qa(j(n),0,e).join(""):n.slice(0,e)}function Sn(e,t,a,n){var l=1&t,o=pn(e);return function t(){for(var i=-1,c=arguments.length,s=-1,u=n.length,d=dl(u+c),m=this&&this!==Zt&&this instanceof t?o:e;++s<u;)d[s]=n[s];for(;c--;)d[s++]=arguments[++i];return r(m,l?a:this,d)}}function Cn(e){return function(t,a,n){return n&&"number"!=typeof n&&$n(t,a,n)&&(a=n=$),t=Hr(t),a===$?(a=t,t=0):a=Hr(a),function(e,t,a,n){for(var r=-1,l=eo(Kl((t-e)/(a||1)),0),o=dl(l);l--;)o[n?l:++r]=e,e+=a;return o}(t,a,n=n===$?t<a?1:-1:Hr(n),e)}}function Mn(e){return function(t,a){return"string"==typeof t&&"string"==typeof a||(t=Gr(t),a=Gr(a)),e(t,a)}}function wn(e,t,a,n,r,l,o,i,c,s){var u=8&t;t|=u?q:64,4&(t&=~(u?64:q))||(t&=-4);var d=[e,t,r,u?l:$,u?o:$,u?$:l,u?$:o,i,c,s],m=a.apply($,d);return Yn(e)&&Wo(m,d),m.placeholder=n,ar(m,e,t)}function kn(e){var t=gl[e];return function(e,a){if(e=Gr(e),(a=null==a?0:to(jr(a),292))&&Ql(e)){var n=(Kr(e)+"e").split("e");return+((n=(Kr(t(n[0]+"e"+(+n[1]+a)))+"e").split("e"))[0]+"e"+(+n[1]-a))}return t(e)}}function Tn(e){return function(t){var a=_o(t);return a==ue?W(t):a==ge?function(e){var t=-1,a=Array(e.size);return e.forEach((function(e){a[++t]=[e,e]})),a}(t):function(e,t){return m(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Pn(e,t,a,n,r,l,o,i){var c=2&t;if(!c&&"function"!=typeof e)throw new vl(K);var s=n?n.length:0;if(s||(t&=-97,n=r=$),o=o===$?o:eo(jr(o),0),i=i===$?i:jr(i),s-=r?r.length:0,64&t){var u=n,d=r;n=r=$}var m=c?$:No(e),p=[e,t,a,n,r,u,d,l,o,i];if(m&&function(e,t){var a=e[1],n=t[1],r=a|n,l=r<131,o=n==Q&&8==a||n==Q&&256==a&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==a;if(!l&&!o)return e;1&n&&(e[2]=t[2],r|=1&a?0:4);var i=t[3];if(i){var c=e[3];e[3]=c?an(c,i,t[4]):i,e[4]=c?U(e[3],X):t[4]}(i=t[5])&&(c=e[5],e[5]=c?nn(c,i,t[6]):i,e[6]=c?U(e[5],X):t[6]),(i=t[7])&&(e[7]=i),n&Q&&(e[8]=null==e[8]?t[8]:to(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}(p,m),e=p[0],t=p[1],a=p[2],n=p[3],r=p[4],!(i=p[9]=p[9]===$?c?0:e.length:eo(p[9]-s,0))&&24&t&&(t&=-25),t&&1!=t)f=8==t||16==t?fn(e,t,i):t!=q&&33!=t||r.length?hn.apply($,p):Sn(e,t,a,n);else var f=function(e,t,a){var n=1&t,r=pn(e);return function t(){return(this&&this!==Zt&&this instanceof t?r:e).apply(n?a:this,arguments)}}(e,t,a);return ar((m?Po:Wo)(f,p),e,t)}function In(e,t,a,n){return e===$||Pr(e,Sl[a])&&!wl.call(n,a)?t:e}function xn(e,t,a,n,r,l){return Lr(e)&&Lr(t)&&(l.set(t,e),Fa(e,t,$,xn,l),l.delete(t)),e}function An(e){return Wr(e)?$:e}function On(e,t,a,n,r,l){var o=1&a,i=e.length,c=t.length;if(i!=c&&!(o&&c>i))return!1;var s=l.get(e),u=l.get(t);if(s&&u)return s==t&&u==e;var d=-1,m=!0,p=2&a?new mt:$;for(l.set(e,t),l.set(t,e);++d<i;){var f=e[d],g=t[d];if(n)var h=o?n(g,f,d,t,e,l):n(f,g,d,e,t,l);if(h!==$){if(h)continue;m=!1;break}if(p){if(!E(t,(function(e,t){if(!A(p,t)&&(f===e||r(f,e,a,n,l)))return p.push(t)}))){m=!1;break}}else if(f!==g&&!r(f,g,a,n,l)){m=!1;break}}return l.delete(e),l.delete(t),m}function Nn(e){return Uo(Zn(e,$,dr),e+"")}function Rn(e){return Ut(e,qr,Ro)}function Ln(e){return Ut(e,Qr,Lo)}function _n(e){for(var t=e.name+"",a=fo[t],n=wl.call(fo,t)?a.length:0;n--;){var r=a[n],l=r.func;if(null==l||l==e)return r.name}return t}function Dn(e){return(wl.call(a,"placeholder")?a:e).placeholder}function Wn(){var e=a.iteratee||ll;return e=e===ll?ga:e,arguments.length?e(arguments[0],arguments[1]):e}function Bn(e,t){var a=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?a["string"==typeof t?"string":"hash"]:a.map}function Un(e){for(var t=qr(e),a=t.length;a--;){var n=t[a],r=e[n];t[a]=[n,r,qn(r)]}return t}function zn(e,t){var a=function(e,t){return null==e?$:e[t]}(e,t);return ua(a)?a:$}function Hn(e,t,a){for(var n=-1,r=(t=qa(t,e)).length,l=!1;++n<r;){var o=lr(t[n]);if(!(l=null!=e&&a(e,o)))break;e=e[o]}return l||++n!=r?l:!!(r=null==e?0:e.length)&&Rr(r)&&Gn(o,r)&&(ki(e)||wi(e))}function jn(e){return"function"!=typeof e.constructor||Xn(e)?{}:Co(_l(e))}function Vn(e){return ki(e)||wi(e)||!!(Ul&&e&&e[Ul])}function Gn(e,t){var a=typeof e;return!!(t=null==t?J:t)&&("number"==a||"symbol"!=a&&lt.test(e))&&e>-1&&e%1==0&&e<t}function $n(e,t,a){if(!Lr(a))return!1;var n=typeof t;return!!("number"==n?Ir(a)&&Gn(t,a.length):"string"==n&&t in a)&&Pr(a[t],e)}function Kn(e,t){if(ki(e))return!1;var a=typeof e;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=e&&!Ur(e))||ze.test(e)||!Ue.test(e)||null!=t&&e in El(t)}function Yn(e){var t=_n(e),n=a[t];if("function"!=typeof n||!(t in $e.prototype))return!1;if(e===n)return!0;var r=No(n);return!!r&&e===r[0]}function Xn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Sl)}function qn(e){return e==e&&!Lr(e)}function Qn(e,t){return function(a){return null!=a&&a[e]===t&&(t!==$||e in El(a))}}function Zn(e,t,a){return t=eo(t===$?e.length-1:t,0),function(){for(var n=arguments,l=-1,o=eo(n.length-t,0),i=dl(o);++l<o;)i[l]=n[t+l];l=-1;for(var c=dl(t+1);++l<t;)c[l]=n[l];return c[t]=a(i),r(e,this,c)}}function Jn(e,t){return t.length<2?e:Bt(e,Ra(t,0,-1))}function er(e,t){for(var a=e.length,n=to(t.length,a),r=rn(e);n--;){var l=t[n];e[n]=Gn(l,a)?r[l]:$}return e}function tr(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function ar(e,t,a){var n=t+"";return Uo(e,function(e,t){var a=t.length;if(!a)return e;var n=a-1;return t[n]=(a>1?"& ":"")+t[n],t=t.join(a>2?", ":" "),e.replace(Ke,"{\n/* [wrapped with "+t+"] */\n")}(n,ir(function(e){var t=e.match(Ye);return t?t[1].split(Xe):[]}(n),a)))}function nr(e){var t=0,a=0;return function(){var n=ao(),r=16-(n-a);if(a=n,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply($,arguments)}}function rr(e,t){var a=-1,n=e.length,r=n-1;for(t=t===$?n:t;++a<t;){var l=Ta(a,r),o=e[l];e[l]=e[a],e[a]=o}return e.length=t,e}function lr(e){if("string"==typeof e||Ur(e))return e;var t=e+"";return"0"==t&&1/e==-Z?"-0":t}function or(e){if(null!=e){try{return Ml.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ir(e,t){return o(ae,(function(a){var n="_."+a[0];t&a[1]&&!u(e,n)&&e.push(n)})),e.sort()}function cr(e){if(e instanceof $e)return e.clone();var t=new M(e.__wrapped__,e.__chain__);return t.__actions__=rn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function sr(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var r=null==a?0:jr(a);return r<0&&(r=eo(n+r,0)),b(e,Wn(t,3),r)}function ur(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var r=n-1;return a!==$&&(r=jr(a),r=a<0?eo(n+r,0):to(r,n-1)),b(e,Wn(t,3),r,!0)}function dr(e){return null!=e&&e.length?Nt(e,1):[]}function mr(e){return e&&e.length?e[0]:$}function pr(e){var t=null==e?0:e.length;return t?e[t-1]:$}function fr(e,t){return e&&e.length&&t&&t.length?wa(e,t):e}function gr(e){return null==e?e:lo.call(e)}function Er(e){if(!e||!e.length)return[];var t=0;return e=s(e,(function(e){if(xr(e))return t=eo(e.length,t),!0})),T(t,(function(t){return m(e,C(t))}))}function hr(e,t){if(!e||!e.length)return[];var a=Er(e);return null==t?a:m(a,(function(e){return r(t,$,e)}))}function br(e){var t=a(e);return t.__chain__=!0,t}function vr(e,t){return t(e)}function yr(e,t){return(ki(e)?o:Mo)(e,Wn(t,3))}function Fr(e,t){return(ki(e)?i:wo)(e,Wn(t,3))}function Sr(e,t){return(ki(e)?m:ba)(e,Wn(t,3))}function Cr(e,t,a){return t=a?$:t,t=e&&null==t?e.length:t,Pn(e,Q,$,$,$,$,t)}function Mr(e,t){var a;if("function"!=typeof t)throw new vl(K);return e=jr(e),function(){return--e>0&&(a=t.apply(this,arguments)),e<=1&&(t=$),a}}function wr(e,t,a){function n(t){var a=s,n=u;return s=u=$,g=t,m=e.apply(n,a)}function r(e){return g=e,p=Bo(o,t),E?n(e):m}function l(e){var a=e-f;return f===$||a>=t||a<0||h&&e-g>=d}function o(){var e=fi();return l(e)?i(e):(p=Bo(o,function(e){var a=t-(e-f);return h?to(a,d-(e-g)):a}(e)),$)}function i(e){return p=$,b&&s?n(e):(s=u=$,m)}function c(){var e=fi(),a=l(e);if(s=arguments,u=this,f=e,a){if(p===$)return r(f);if(h)return Ao(p),p=Bo(o,t),n(f)}return p===$&&(p=Bo(o,t)),m}var s,u,d,m,p,f,g=0,E=!1,h=!1,b=!0;if("function"!=typeof e)throw new vl(K);return t=Gr(t)||0,Lr(a)&&(E=!!a.leading,d=(h="maxWait"in a)?eo(Gr(a.maxWait)||0,t):d,b="trailing"in a?!!a.trailing:b),c.cancel=function(){p!==$&&Ao(p),g=0,s=f=u=p=$},c.flush=function(){return p===$?m:i(fi())},c}function kr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new vl(K);var a=function(){var n=arguments,r=t?t.apply(this,n):n[0],l=a.cache;if(l.has(r))return l.get(r);var o=e.apply(this,n);return a.cache=l.set(r,o)||l,o};return a.cache=new(kr.Cache||dt),a}function Tr(e){if("function"!=typeof e)throw new vl(K);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Pr(e,t){return e===t||e!=e&&t!=t}function Ir(e){return null!=e&&Rr(e.length)&&!Or(e)}function xr(e){return _r(e)&&Ir(e)}function Ar(e){if(!_r(e))return!1;var t=zt(e);return t==ie||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Wr(e)}function Or(e){if(!Lr(e))return!1;var t=zt(e);return t==ce||t==se||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Nr(e){return"number"==typeof e&&e==jr(e)}function Rr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=J}function Lr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function _r(e){return null!=e&&"object"==typeof e}function Dr(e){return"number"==typeof e||_r(e)&&zt(e)==de}function Wr(e){if(!_r(e)||zt(e)!=me)return!1;var t=_l(e);if(null===t)return!0;var a=wl.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&Ml.call(a)==Il}function Br(e){return"string"==typeof e||!ki(e)&&_r(e)&&zt(e)==Ee}function Ur(e){return"symbol"==typeof e||_r(e)&&zt(e)==he}function zr(e){if(!e)return[];if(Ir(e))return Br(e)?j(e):rn(e);if(zl&&e[zl])return function(e){for(var t,a=[];!(t=e.next()).done;)a.push(t.value);return a}(e[zl]());var t=_o(e);return(t==ue?W:t==ge?z:Jr)(e)}function Hr(e){return e?(e=Gr(e))===Z||e===-Z?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function jr(e){var t=Hr(e),a=t%1;return t==t?a?t-a:t:0}function Vr(e){return e?wt(jr(e),0,te):0}function Gr(e){if("number"==typeof e)return e;if(Ur(e))return ee;if(Lr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Lr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=P(e);var a=at.test(e);return a||rt.test(e)?Xt(e.slice(2),a?2:8):tt.test(e)?ee:+e}function $r(e){return ln(e,Qr(e))}function Kr(e){return null==e?"":Ua(e)}function Yr(e,t,a){var n=null==e?$:Bt(e,t);return n===$?a:n}function Xr(e,t){return null!=e&&Hn(e,t,qt)}function qr(e){return Ir(e)?ft(e):Ea(e)}function Qr(e){return Ir(e)?ft(e,!0):function(e){if(!Lr(e))return function(e){var t=[];if(null!=e)for(var a in El(e))t.push(a);return t}(e);var t=Xn(e),a=[];for(var n in e)("constructor"!=n||!t&&wl.call(e,n))&&a.push(n);return a}(e)}function Zr(e,t){if(null==e)return{};var a=m(Ln(e),(function(e){return[e]}));return t=Wn(t),Ma(e,a,(function(e,a){return t(e,a[0])}))}function Jr(e){return null==e?[]:x(e,qr(e))}function el(e){return lc(Kr(e).toLowerCase())}function tl(e){return(e=Kr(e))&&e.replace(ot,da).replace(Wt,"")}function al(e,t,a){return e=Kr(e),(t=a?$:t)===$?D(e)?G(e):function(e){return e.match(qe)||[]}(e):e.match(t)||[]}function nl(e){return function(){return e}}function rl(e){return e}function ll(e){return ga("function"==typeof e?e:kt(e,1))}function ol(e,t,a){var n=qr(t),r=_t(t,n);null!=a||Lr(t)&&(r.length||!n.length)||(a=t,t=e,e=this,r=_t(t,qr(t)));var l=!(Lr(a)&&"chain"in a&&!a.chain),i=Or(e);return o(r,(function(a){var n=t[a];e[a]=n,i&&(e.prototype[a]=function(){var t=this.__chain__;if(l||t){var a=e(this.__wrapped__);return(a.__actions__=rn(this.__actions__)).push({func:n,args:arguments,thisArg:e}),a.__chain__=t,a}return n.apply(e,p([this.value()],arguments))})})),e}function il(){}function cl(e){return Kn(e)?C(lr(e)):function(e){return function(t){return Bt(t,e)}}(e)}function sl(){return[]}function ul(){return!1}var dl=(t=null==t?Zt:fa.defaults(Zt.Object(),t,fa.pick(Zt,jt))).Array,ml=t.Date,pl=t.Error,fl=t.Function,gl=t.Math,El=t.Object,hl=t.RegExp,bl=t.String,vl=t.TypeError,yl=dl.prototype,Fl=fl.prototype,Sl=El.prototype,Cl=t["__core-js_shared__"],Ml=Fl.toString,wl=Sl.hasOwnProperty,kl=0,Tl=function(){var e=/[^.]+$/.exec(Cl&&Cl.keys&&Cl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Pl=Sl.toString,Il=Ml.call(El),xl=Zt._,Al=hl("^"+Ml.call(wl).replace(je,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ol=ta?t.Buffer:$,Nl=t.Symbol,Rl=t.Uint8Array,Ll=Ol?Ol.allocUnsafe:$,_l=B(El.getPrototypeOf,El),Dl=El.create,Wl=Sl.propertyIsEnumerable,Bl=yl.splice,Ul=Nl?Nl.isConcatSpreadable:$,zl=Nl?Nl.iterator:$,Hl=Nl?Nl.toStringTag:$,jl=function(){try{var e=zn(El,"defineProperty");return e({},"",{}),e}catch(e){}}(),Vl=t.clearTimeout!==Zt.clearTimeout&&t.clearTimeout,Gl=ml&&ml.now!==Zt.Date.now&&ml.now,$l=t.setTimeout!==Zt.setTimeout&&t.setTimeout,Kl=gl.ceil,Yl=gl.floor,Xl=El.getOwnPropertySymbols,ql=Ol?Ol.isBuffer:$,Ql=t.isFinite,Zl=yl.join,Jl=B(El.keys,El),eo=gl.max,to=gl.min,ao=ml.now,no=t.parseInt,ro=gl.random,lo=yl.reverse,oo=zn(t,"DataView"),io=zn(t,"Map"),co=zn(t,"Promise"),so=zn(t,"Set"),uo=zn(t,"WeakMap"),mo=zn(El,"create"),po=uo&&new uo,fo={},go=or(oo),Eo=or(io),ho=or(co),bo=or(so),vo=or(uo),yo=Nl?Nl.prototype:$,Fo=yo?yo.valueOf:$,So=yo?yo.toString:$,Co=function(){function e(){}return function(t){if(!Lr(t))return{};if(Dl)return Dl(t);e.prototype=t;var a=new e;return e.prototype=$,a}}();a.templateSettings={escape:De,evaluate:We,interpolate:Be,variable:"",imports:{_:a}},a.prototype=n.prototype,a.prototype.constructor=a,M.prototype=Co(n.prototype),M.prototype.constructor=M,$e.prototype=Co(n.prototype),$e.prototype.constructor=$e,st.prototype.clear=function(){this.__data__=mo?mo(null):{},this.size=0},st.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},st.prototype.get=function(e){var t=this.__data__;if(mo){var a=t[e];return a===Y?$:a}return wl.call(t,e)?t[e]:$},st.prototype.has=function(e){var t=this.__data__;return mo?t[e]!==$:wl.call(t,e)},st.prototype.set=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=mo&&t===$?Y:t,this},ut.prototype.clear=function(){this.__data__=[],this.size=0},ut.prototype.delete=function(e){var t=this.__data__,a=yt(t,e);return!(a<0||(a==t.length-1?t.pop():Bl.call(t,a,1),--this.size,0))},ut.prototype.get=function(e){var t=this.__data__,a=yt(t,e);return a<0?$:t[a][1]},ut.prototype.has=function(e){return yt(this.__data__,e)>-1},ut.prototype.set=function(e,t){var a=this.__data__,n=yt(a,e);return n<0?(++this.size,a.push([e,t])):a[n][1]=t,this},dt.prototype.clear=function(){this.size=0,this.__data__={hash:new st,map:new(io||ut),string:new st}},dt.prototype.delete=function(e){var t=Bn(this,e).delete(e);return this.size-=t?1:0,t},dt.prototype.get=function(e){return Bn(this,e).get(e)},dt.prototype.has=function(e){return Bn(this,e).has(e)},dt.prototype.set=function(e,t){var a=Bn(this,e),n=a.size;return a.set(e,t),this.size+=a.size==n?0:1,this},mt.prototype.add=mt.prototype.push=function(e){return this.__data__.set(e,Y),this},mt.prototype.has=function(e){return this.__data__.has(e)},pt.prototype.clear=function(){this.__data__=new ut,this.size=0},pt.prototype.delete=function(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a},pt.prototype.get=function(e){return this.__data__.get(e)},pt.prototype.has=function(e){return this.__data__.has(e)},pt.prototype.set=function(e,t){var a=this.__data__;if(a instanceof ut){var n=a.__data__;if(!io||n.length<199)return n.push([e,t]),this.size=++a.size,this;a=this.__data__=new dt(n)}return a.set(e,t),this.size=a.size,this};var Mo=sn(Rt),wo=sn(Lt,!0),ko=un(),To=un(!0),Po=po?function(e,t){return po.set(e,t),e}:rl,Io=jl?function(e,t){return jl(e,"toString",{configurable:!0,enumerable:!1,value:nl(t),writable:!0})}:rl,xo=Ia,Ao=Vl||function(e){return Zt.clearTimeout(e)},Oo=so&&1/z(new so([,-0]))[1]==Z?function(e){return new so(e)}:il,No=po?function(e){return po.get(e)}:il,Ro=Xl?function(e){return null==e?[]:(e=El(e),s(Xl(e),(function(t){return Wl.call(e,t)})))}:sl,Lo=Xl?function(e){for(var t=[];e;)p(t,Ro(e)),e=_l(e);return t}:sl,_o=zt;(oo&&_o(new oo(new ArrayBuffer(1)))!=ye||io&&_o(new io)!=ue||co&&_o(co.resolve())!=pe||so&&_o(new so)!=ge||uo&&_o(new uo)!=be)&&(_o=function(e){var t=zt(e),a=t==me?e.constructor:$,n=a?or(a):"";if(n)switch(n){case go:return ye;case Eo:return ue;case ho:return pe;case bo:return ge;case vo:return be}return t});var Do=Cl?Or:ul,Wo=nr(Po),Bo=$l||function(e,t){return Zt.setTimeout(e,t)},Uo=nr(Io),zo=function(e){var t=kr((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(He,(function(e,a,n,r){t.push(n?r.replace(Ze,"$1"):a||e)})),t}),(function(e){return 500===a.size&&a.clear(),e})),a=t.cache;return t}(),Ho=Ia((function(e,t){return xr(e)?It(e,Nt(t,1,xr,!0)):[]})),jo=Ia((function(e,t){var a=pr(t);return xr(a)&&(a=$),xr(e)?It(e,Nt(t,1,xr,!0),Wn(a,2)):[]})),Vo=Ia((function(e,t){var a=pr(t);return xr(a)&&(a=$),xr(e)?It(e,Nt(t,1,xr,!0),$,a):[]})),Go=Ia((function(e){var t=m(e,Ya);return t.length&&t[0]===e[0]?Qt(t):[]})),$o=Ia((function(e){var t=pr(e),a=m(e,Ya);return t===pr(a)?t=$:a.pop(),a.length&&a[0]===e[0]?Qt(a,Wn(t,2)):[]})),Ko=Ia((function(e){var t=pr(e),a=m(e,Ya);return(t="function"==typeof t?t:$)&&a.pop(),a.length&&a[0]===e[0]?Qt(a,$,t):[]})),Yo=Ia(fr),Xo=Nn((function(e,t){var a=null==e?0:e.length,n=Mt(e,t);return ka(e,m(t,(function(e){return Gn(e,a)?+e:e})).sort(tn)),n})),qo=Ia((function(e){return za(Nt(e,1,xr,!0))})),Qo=Ia((function(e){var t=pr(e);return xr(t)&&(t=$),za(Nt(e,1,xr,!0),Wn(t,2))})),Zo=Ia((function(e){var t=pr(e);return t="function"==typeof t?t:$,za(Nt(e,1,xr,!0),$,t)})),Jo=Ia((function(e,t){return xr(e)?It(e,t):[]})),ei=Ia((function(e){return $a(s(e,xr))})),ti=Ia((function(e){var t=pr(e);return xr(t)&&(t=$),$a(s(e,xr),Wn(t,2))})),ai=Ia((function(e){var t=pr(e);return t="function"==typeof t?t:$,$a(s(e,xr),$,t)})),ni=Ia(Er),ri=Ia((function(e){var t=e.length,a=t>1?e[t-1]:$;return a="function"==typeof a?(e.pop(),a):$,hr(e,a)})),li=Nn((function(e){var t=e.length,a=t?e[0]:0,n=this.__wrapped__,r=function(t){return Mt(t,e)};return!(t>1||this.__actions__.length)&&n instanceof $e&&Gn(a)?((n=n.slice(a,+a+(t?1:0))).__actions__.push({func:vr,args:[r],thisArg:$}),new M(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push($),e}))):this.thru(r)})),oi=on((function(e,t,a){wl.call(e,a)?++e[a]:Ct(e,a,1)})),ii=gn(sr),ci=gn(ur),si=on((function(e,t,a){wl.call(e,a)?e[a].push(t):Ct(e,a,[t])})),ui=Ia((function(e,t,a){var n=-1,l="function"==typeof t,o=Ir(e)?dl(e.length):[];return Mo(e,(function(e){o[++n]=l?r(t,e,a):Jt(e,t,a)})),o})),di=on((function(e,t,a){Ct(e,a,t)})),mi=on((function(e,t,a){e[a?0:1].push(t)}),(function(){return[[],[]]})),pi=Ia((function(e,t){if(null==e)return[];var a=t.length;return a>1&&$n(e,t[0],t[1])?t=[]:a>2&&$n(t[0],t[1],t[2])&&(t=[t[0]]),Ca(e,Nt(t,1),[])})),fi=Gl||function(){return Zt.Date.now()},gi=Ia((function(e,t,a){var n=1;if(a.length){var r=U(a,Dn(gi));n|=q}return Pn(e,n,t,a,r)})),Ei=Ia((function(e,t,a){var n=3;if(a.length){var r=U(a,Dn(Ei));n|=q}return Pn(t,n,e,a,r)})),hi=Ia((function(e,t){return Pt(e,1,t)})),bi=Ia((function(e,t,a){return Pt(e,Gr(t)||0,a)}));kr.Cache=dt;var vi=xo((function(e,t){var a=(t=1==t.length&&ki(t[0])?m(t[0],I(Wn())):m(Nt(t,1),I(Wn()))).length;return Ia((function(n){for(var l=-1,o=to(n.length,a);++l<o;)n[l]=t[l].call(this,n[l]);return r(e,this,n)}))})),yi=Ia((function(e,t){return Pn(e,q,$,t,U(t,Dn(yi)))})),Fi=Ia((function(e,t){return Pn(e,64,$,t,U(t,Dn(Fi)))})),Si=Nn((function(e,t){return Pn(e,256,$,$,$,t)})),Ci=Mn(Ht),Mi=Mn((function(e,t){return e>=t})),wi=ea(function(){return arguments}())?ea:function(e){return _r(e)&&wl.call(e,"callee")&&!Wl.call(e,"callee")},ki=dl.isArray,Ti=ra?I(ra):function(e){return _r(e)&&zt(e)==ve},Pi=ql||ul,Ii=la?I(la):function(e){return _r(e)&&zt(e)==oe},xi=oa?I(oa):function(e){return _r(e)&&_o(e)==ue},Ai=ia?I(ia):function(e){return _r(e)&&zt(e)==fe},Oi=ca?I(ca):function(e){return _r(e)&&_o(e)==ge},Ni=sa?I(sa):function(e){return _r(e)&&Rr(e.length)&&!!Gt[zt(e)]},Ri=Mn(ha),Li=Mn((function(e,t){return e<=t})),_i=cn((function(e,t){if(Xn(t)||Ir(t))return ln(t,qr(t),e),$;for(var a in t)wl.call(t,a)&&vt(e,a,t[a])})),Di=cn((function(e,t){ln(t,Qr(t),e)})),Wi=cn((function(e,t,a,n){ln(t,Qr(t),e,n)})),Bi=cn((function(e,t,a,n){ln(t,qr(t),e,n)})),Ui=Nn(Mt),zi=Ia((function(e,t){e=El(e);var a=-1,n=t.length,r=n>2?t[2]:$;for(r&&$n(t[0],t[1],r)&&(n=1);++a<n;)for(var l=t[a],o=Qr(l),i=-1,c=o.length;++i<c;){var s=o[i],u=e[s];(u===$||Pr(u,Sl[s])&&!wl.call(e,s))&&(e[s]=l[s])}return e})),Hi=Ia((function(e){return e.push($,xn),r(Ki,$,e)})),ji=bn((function(e,t,a){null!=t&&"function"!=typeof t.toString&&(t=Pl.call(t)),e[t]=a}),nl(rl)),Vi=bn((function(e,t,a){null!=t&&"function"!=typeof t.toString&&(t=Pl.call(t)),wl.call(e,t)?e[t].push(a):e[t]=[a]}),Wn),Gi=Ia(Jt),$i=cn((function(e,t,a){Fa(e,t,a)})),Ki=cn((function(e,t,a,n){Fa(e,t,a,n)})),Yi=Nn((function(e,t){var a={};if(null==e)return a;var n=!1;t=m(t,(function(t){return t=qa(t,e),n||(n=t.length>1),t})),ln(e,Ln(e),a),n&&(a=kt(a,7,An));for(var r=t.length;r--;)Ha(a,t[r]);return a})),Xi=Nn((function(e,t){return null==e?{}:function(e,t){return Ma(e,t,(function(t,a){return Xr(e,a)}))}(e,t)})),qi=Tn(qr),Qi=Tn(Qr),Zi=mn((function(e,t,a){return t=t.toLowerCase(),e+(a?el(t):t)})),Ji=mn((function(e,t,a){return e+(a?"-":"")+t.toLowerCase()})),ec=mn((function(e,t,a){return e+(a?" ":"")+t.toLowerCase()})),tc=dn("toLowerCase"),ac=mn((function(e,t,a){return e+(a?"_":"")+t.toLowerCase()})),nc=mn((function(e,t,a){return e+(a?" ":"")+lc(t)})),rc=mn((function(e,t,a){return e+(a?" ":"")+t.toUpperCase()})),lc=dn("toUpperCase"),oc=Ia((function(e,t){try{return r(e,$,t)}catch(e){return Ar(e)?e:new pl(e)}})),ic=Nn((function(e,t){return o(t,(function(t){t=lr(t),Ct(e,t,gi(e[t],e))})),e})),cc=En(),sc=En(!0),uc=Ia((function(e,t){return function(a){return Jt(a,e,t)}})),dc=Ia((function(e,t){return function(a){return Jt(e,a,t)}})),mc=yn(m),pc=yn(c),fc=yn(E),gc=Cn(),Ec=Cn(!0),hc=vn((function(e,t){return e+t}),0),bc=kn("ceil"),vc=vn((function(e,t){return e/t}),1),yc=kn("floor"),Fc=vn((function(e,t){return e*t}),1),Sc=kn("round"),Cc=vn((function(e,t){return e-t}),0);return a.after=function(e,t){if("function"!=typeof t)throw new vl(K);return e=jr(e),function(){if(--e<1)return t.apply(this,arguments)}},a.ary=Cr,a.assign=_i,a.assignIn=Di,a.assignInWith=Wi,a.assignWith=Bi,a.at=Ui,a.before=Mr,a.bind=gi,a.bindAll=ic,a.bindKey=Ei,a.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ki(e)?e:[e]},a.chain=br,a.chunk=function(e,t,a){t=(a?$n(e,t,a):t===$)?1:eo(jr(t),0);var n=null==e?0:e.length;if(!n||t<1)return[];for(var r=0,l=0,o=dl(Kl(n/t));r<n;)o[l++]=Ra(e,r,r+=t);return o},a.compact=function(e){for(var t=-1,a=null==e?0:e.length,n=0,r=[];++t<a;){var l=e[t];l&&(r[n++]=l)}return r},a.concat=function(){var e=arguments.length;if(!e)return[];for(var t=dl(e-1),a=arguments[0],n=e;n--;)t[n-1]=arguments[n];return p(ki(a)?rn(a):[a],Nt(t,1))},a.cond=function(e){var t=null==e?0:e.length,a=Wn();return e=t?m(e,(function(e){if("function"!=typeof e[1])throw new vl(K);return[a(e[0]),e[1]]})):[],Ia((function(a){for(var n=-1;++n<t;){var l=e[n];if(r(l[0],this,a))return r(l[1],this,a)}}))},a.conforms=function(e){return function(e){var t=qr(e);return function(a){return Tt(a,e,t)}}(kt(e,1))},a.constant=nl,a.countBy=oi,a.create=function(e,t){var a=Co(e);return null==t?a:St(a,t)},a.curry=function e(t,a,n){var r=Pn(t,8,$,$,$,$,$,a=n?$:a);return r.placeholder=e.placeholder,r},a.curryRight=function e(t,a,n){var r=Pn(t,16,$,$,$,$,$,a=n?$:a);return r.placeholder=e.placeholder,r},a.debounce=wr,a.defaults=zi,a.defaultsDeep=Hi,a.defer=hi,a.delay=bi,a.difference=Ho,a.differenceBy=jo,a.differenceWith=Vo,a.drop=function(e,t,a){var n=null==e?0:e.length;return n?Ra(e,(t=a||t===$?1:jr(t))<0?0:t,n):[]},a.dropRight=function(e,t,a){var n=null==e?0:e.length;return n?Ra(e,0,(t=n-(t=a||t===$?1:jr(t)))<0?0:t):[]},a.dropRightWhile=function(e,t){return e&&e.length?Va(e,Wn(t,3),!0,!0):[]},a.dropWhile=function(e,t){return e&&e.length?Va(e,Wn(t,3),!0):[]},a.fill=function(e,t,a,n){var r=null==e?0:e.length;return r?(a&&"number"!=typeof a&&$n(e,t,a)&&(a=0,n=r),function(e,t,a,n){var r=e.length;for((a=jr(a))<0&&(a=-a>r?0:r+a),(n=n===$||n>r?r:jr(n))<0&&(n+=r),n=a>n?0:Vr(n);a<n;)e[a++]=t;return e}(e,t,a,n)):[]},a.filter=function(e,t){return(ki(e)?s:Ot)(e,Wn(t,3))},a.flatMap=function(e,t){return Nt(Sr(e,t),1)},a.flatMapDeep=function(e,t){return Nt(Sr(e,t),Z)},a.flatMapDepth=function(e,t,a){return a=a===$?1:jr(a),Nt(Sr(e,t),a)},a.flatten=dr,a.flattenDeep=function(e){return null!=e&&e.length?Nt(e,Z):[]},a.flattenDepth=function(e,t){return null!=e&&e.length?Nt(e,t=t===$?1:jr(t)):[]},a.flip=function(e){return Pn(e,512)},a.flow=cc,a.flowRight=sc,a.fromPairs=function(e){for(var t=-1,a=null==e?0:e.length,n={};++t<a;){var r=e[t];n[r[0]]=r[1]}return n},a.functions=function(e){return null==e?[]:_t(e,qr(e))},a.functionsIn=function(e){return null==e?[]:_t(e,Qr(e))},a.groupBy=si,a.initial=function(e){return null!=e&&e.length?Ra(e,0,-1):[]},a.intersection=Go,a.intersectionBy=$o,a.intersectionWith=Ko,a.invert=ji,a.invertBy=Vi,a.invokeMap=ui,a.iteratee=ll,a.keyBy=di,a.keys=qr,a.keysIn=Qr,a.map=Sr,a.mapKeys=function(e,t){var a={};return t=Wn(t,3),Rt(e,(function(e,n,r){Ct(a,t(e,n,r),e)})),a},a.mapValues=function(e,t){var a={};return t=Wn(t,3),Rt(e,(function(e,n,r){Ct(a,n,t(e,n,r))})),a},a.matches=function(e){return va(kt(e,1))},a.matchesProperty=function(e,t){return ya(e,kt(t,1))},a.memoize=kr,a.merge=$i,a.mergeWith=Ki,a.method=uc,a.methodOf=dc,a.mixin=ol,a.negate=Tr,a.nthArg=function(e){return e=jr(e),Ia((function(t){return Sa(t,e)}))},a.omit=Yi,a.omitBy=function(e,t){return Zr(e,Tr(Wn(t)))},a.once=function(e){return Mr(2,e)},a.orderBy=function(e,t,a,n){return null==e?[]:(ki(t)||(t=null==t?[]:[t]),ki(a=n?$:a)||(a=null==a?[]:[a]),Ca(e,t,a))},a.over=mc,a.overArgs=vi,a.overEvery=pc,a.overSome=fc,a.partial=yi,a.partialRight=Fi,a.partition=mi,a.pick=Xi,a.pickBy=Zr,a.property=cl,a.propertyOf=function(e){return function(t){return null==e?$:Bt(e,t)}},a.pull=Yo,a.pullAll=fr,a.pullAllBy=function(e,t,a){return e&&e.length&&t&&t.length?wa(e,t,Wn(a,2)):e},a.pullAllWith=function(e,t,a){return e&&e.length&&t&&t.length?wa(e,t,$,a):e},a.pullAt=Xo,a.range=gc,a.rangeRight=Ec,a.rearg=Si,a.reject=function(e,t){return(ki(e)?s:Ot)(e,Tr(Wn(t,3)))},a.remove=function(e,t){var a=[];if(!e||!e.length)return a;var n=-1,r=[],l=e.length;for(t=Wn(t,3);++n<l;){var o=e[n];t(o,n,e)&&(a.push(o),r.push(n))}return ka(e,r),a},a.rest=function(e,t){if("function"!=typeof e)throw new vl(K);return Ia(e,t=t===$?t:jr(t))},a.reverse=gr,a.sampleSize=function(e,t,a){return t=(a?$n(e,t,a):t===$)?1:jr(t),(ki(e)?Et:Aa)(e,t)},a.set=function(e,t,a){return null==e?e:Oa(e,t,a)},a.setWith=function(e,t,a,n){return n="function"==typeof n?n:$,null==e?e:Oa(e,t,a,n)},a.shuffle=function(e){return(ki(e)?ht:Na)(e)},a.slice=function(e,t,a){var n=null==e?0:e.length;return n?(a&&"number"!=typeof a&&$n(e,t,a)?(t=0,a=n):(t=null==t?0:jr(t),a=a===$?n:jr(a)),Ra(e,t,a)):[]},a.sortBy=pi,a.sortedUniq=function(e){return e&&e.length?Wa(e):[]},a.sortedUniqBy=function(e,t){return e&&e.length?Wa(e,Wn(t,2)):[]},a.split=function(e,t,a){return a&&"number"!=typeof a&&$n(e,t,a)&&(t=a=$),(a=a===$?te:a>>>0)?(e=Kr(e))&&("string"==typeof t||null!=t&&!Ai(t))&&!(t=Ua(t))&&_(e)?Qa(j(e),0,a):e.split(t,a):[]},a.spread=function(e,t){if("function"!=typeof e)throw new vl(K);return t=null==t?0:eo(jr(t),0),Ia((function(a){var n=a[t],l=Qa(a,0,t);return n&&p(l,n),r(e,this,l)}))},a.tail=function(e){var t=null==e?0:e.length;return t?Ra(e,1,t):[]},a.take=function(e,t,a){return e&&e.length?Ra(e,0,(t=a||t===$?1:jr(t))<0?0:t):[]},a.takeRight=function(e,t,a){var n=null==e?0:e.length;return n?Ra(e,(t=n-(t=a||t===$?1:jr(t)))<0?0:t,n):[]},a.takeRightWhile=function(e,t){return e&&e.length?Va(e,Wn(t,3),!1,!0):[]},a.takeWhile=function(e,t){return e&&e.length?Va(e,Wn(t,3)):[]},a.tap=function(e,t){return t(e),e},a.throttle=function(e,t,a){var n=!0,r=!0;if("function"!=typeof e)throw new vl(K);return Lr(a)&&(n="leading"in a?!!a.leading:n,r="trailing"in a?!!a.trailing:r),wr(e,t,{leading:n,maxWait:t,trailing:r})},a.thru=vr,a.toArray=zr,a.toPairs=qi,a.toPairsIn=Qi,a.toPath=function(e){return ki(e)?m(e,lr):Ur(e)?[e]:rn(zo(Kr(e)))},a.toPlainObject=$r,a.transform=function(e,t,a){var n=ki(e),r=n||Pi(e)||Ni(e);if(t=Wn(t,4),null==a){var l=e&&e.constructor;a=r?n?new l:[]:Lr(e)&&Or(l)?Co(_l(e)):{}}return(r?o:Rt)(e,(function(e,n,r){return t(a,e,n,r)})),a},a.unary=function(e){return Cr(e,1)},a.union=qo,a.unionBy=Qo,a.unionWith=Zo,a.uniq=function(e){return e&&e.length?za(e):[]},a.uniqBy=function(e,t){return e&&e.length?za(e,Wn(t,2)):[]},a.uniqWith=function(e,t){return t="function"==typeof t?t:$,e&&e.length?za(e,$,t):[]},a.unset=function(e,t){return null==e||Ha(e,t)},a.unzip=Er,a.unzipWith=hr,a.update=function(e,t,a){return null==e?e:ja(e,t,Xa(a))},a.updateWith=function(e,t,a,n){return n="function"==typeof n?n:$,null==e?e:ja(e,t,Xa(a),n)},a.values=Jr,a.valuesIn=function(e){return null==e?[]:x(e,Qr(e))},a.without=Jo,a.words=al,a.wrap=function(e,t){return yi(Xa(t),e)},a.xor=ei,a.xorBy=ti,a.xorWith=ai,a.zip=ni,a.zipObject=function(e,t){return Ka(e||[],t||[],vt)},a.zipObjectDeep=function(e,t){return Ka(e||[],t||[],Oa)},a.zipWith=ri,a.entries=qi,a.entriesIn=Qi,a.extend=Di,a.extendWith=Wi,ol(a,a),a.add=hc,a.attempt=oc,a.camelCase=Zi,a.capitalize=el,a.ceil=bc,a.clamp=function(e,t,a){return a===$&&(a=t,t=$),a!==$&&(a=(a=Gr(a))==a?a:0),t!==$&&(t=(t=Gr(t))==t?t:0),wt(Gr(e),t,a)},a.clone=function(e){return kt(e,4)},a.cloneDeep=function(e){return kt(e,5)},a.cloneDeepWith=function(e,t){return kt(e,5,t="function"==typeof t?t:$)},a.cloneWith=function(e,t){return kt(e,4,t="function"==typeof t?t:$)},a.conformsTo=function(e,t){return null==t||Tt(e,t,qr(t))},a.deburr=tl,a.defaultTo=function(e,t){return null==e||e!=e?t:e},a.divide=vc,a.endsWith=function(e,t,a){e=Kr(e),t=Ua(t);var n=e.length,r=a=a===$?n:wt(jr(a),0,n);return(a-=t.length)>=0&&e.slice(a,r)==t},a.eq=Pr,a.escape=function(e){return(e=Kr(e))&&_e.test(e)?e.replace(Re,ma):e},a.escapeRegExp=function(e){return(e=Kr(e))&&Ve.test(e)?e.replace(je,"\\$&"):e},a.every=function(e,t,a){var n=ki(e)?c:xt;return a&&$n(e,t,a)&&(t=$),n(e,Wn(t,3))},a.find=ii,a.findIndex=sr,a.findKey=function(e,t){return h(e,Wn(t,3),Rt)},a.findLast=ci,a.findLastIndex=ur,a.findLastKey=function(e,t){return h(e,Wn(t,3),Lt)},a.floor=yc,a.forEach=yr,a.forEachRight=Fr,a.forIn=function(e,t){return null==e?e:ko(e,Wn(t,3),Qr)},a.forInRight=function(e,t){return null==e?e:To(e,Wn(t,3),Qr)},a.forOwn=function(e,t){return e&&Rt(e,Wn(t,3))},a.forOwnRight=function(e,t){return e&&Lt(e,Wn(t,3))},a.get=Yr,a.gt=Ci,a.gte=Mi,a.has=function(e,t){return null!=e&&Hn(e,t,Kt)},a.hasIn=Xr,a.head=mr,a.identity=rl,a.includes=function(e,t,a,n){e=Ir(e)?e:Jr(e),a=a&&!n?jr(a):0;var r=e.length;return a<0&&(a=eo(r+a,0)),Br(e)?a<=r&&e.indexOf(t,a)>-1:!!r&&v(e,t,a)>-1},a.indexOf=function(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var r=null==a?0:jr(a);return r<0&&(r=eo(n+r,0)),v(e,t,r)},a.inRange=function(e,t,a){return t=Hr(t),a===$?(a=t,t=0):a=Hr(a),function(e,t,a){return e>=to(t,a)&&e<eo(t,a)}(e=Gr(e),t,a)},a.invoke=Gi,a.isArguments=wi,a.isArray=ki,a.isArrayBuffer=Ti,a.isArrayLike=Ir,a.isArrayLikeObject=xr,a.isBoolean=function(e){return!0===e||!1===e||_r(e)&&zt(e)==le},a.isBuffer=Pi,a.isDate=Ii,a.isElement=function(e){return _r(e)&&1===e.nodeType&&!Wr(e)},a.isEmpty=function(e){if(null==e)return!0;if(Ir(e)&&(ki(e)||"string"==typeof e||"function"==typeof e.splice||Pi(e)||Ni(e)||wi(e)))return!e.length;var t=_o(e);if(t==ue||t==ge)return!e.size;if(Xn(e))return!Ea(e).length;for(var a in e)if(wl.call(e,a))return!1;return!0},a.isEqual=function(e,t){return aa(e,t)},a.isEqualWith=function(e,t,a){var n=(a="function"==typeof a?a:$)?a(e,t):$;return n===$?aa(e,t,$,a):!!n},a.isError=Ar,a.isFinite=function(e){return"number"==typeof e&&Ql(e)},a.isFunction=Or,a.isInteger=Nr,a.isLength=Rr,a.isMap=xi,a.isMatch=function(e,t){return e===t||na(e,t,Un(t))},a.isMatchWith=function(e,t,a){return a="function"==typeof a?a:$,na(e,t,Un(t),a)},a.isNaN=function(e){return Dr(e)&&e!=+e},a.isNative=function(e){if(Do(e))throw new pl("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ua(e)},a.isNil=function(e){return null==e},a.isNull=function(e){return null===e},a.isNumber=Dr,a.isObject=Lr,a.isObjectLike=_r,a.isPlainObject=Wr,a.isRegExp=Ai,a.isSafeInteger=function(e){return Nr(e)&&e>=-J&&e<=J},a.isSet=Oi,a.isString=Br,a.isSymbol=Ur,a.isTypedArray=Ni,a.isUndefined=function(e){return e===$},a.isWeakMap=function(e){return _r(e)&&_o(e)==be},a.isWeakSet=function(e){return _r(e)&&"[object WeakSet]"==zt(e)},a.join=function(e,t){return null==e?"":Zl.call(e,t)},a.kebabCase=Ji,a.last=pr,a.lastIndexOf=function(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var r=n;return a!==$&&(r=(r=jr(a))<0?eo(n+r,0):to(r,n-1)),t==t?function(e,t,a){for(var n=a+1;n--;)if(e[n]===t)return n;return n}(e,t,r):b(e,F,r,!0)},a.lowerCase=ec,a.lowerFirst=tc,a.lt=Ri,a.lte=Li,a.max=function(e){return e&&e.length?At(e,rl,Ht):$},a.maxBy=function(e,t){return e&&e.length?At(e,Wn(t,2),Ht):$},a.mean=function(e){return S(e,rl)},a.meanBy=function(e,t){return S(e,Wn(t,2))},a.min=function(e){return e&&e.length?At(e,rl,ha):$},a.minBy=function(e,t){return e&&e.length?At(e,Wn(t,2),ha):$},a.stubArray=sl,a.stubFalse=ul,a.stubObject=function(){return{}},a.stubString=function(){return""},a.stubTrue=function(){return!0},a.multiply=Fc,a.nth=function(e,t){return e&&e.length?Sa(e,jr(t)):$},a.noConflict=function(){return Zt._===this&&(Zt._=xl),this},a.noop=il,a.now=fi,a.pad=function(e,t,a){e=Kr(e);var n=(t=jr(t))?H(e):0;if(!t||n>=t)return e;var r=(t-n)/2;return Fn(Yl(r),a)+e+Fn(Kl(r),a)},a.padEnd=function(e,t,a){e=Kr(e);var n=(t=jr(t))?H(e):0;return t&&n<t?e+Fn(t-n,a):e},a.padStart=function(e,t,a){e=Kr(e);var n=(t=jr(t))?H(e):0;return t&&n<t?Fn(t-n,a)+e:e},a.parseInt=function(e,t,a){return a||null==t?t=0:t&&(t=+t),no(Kr(e).replace(Ge,""),t||0)},a.random=function(e,t,a){if(a&&"boolean"!=typeof a&&$n(e,t,a)&&(t=a=$),a===$&&("boolean"==typeof t?(a=t,t=$):"boolean"==typeof e&&(a=e,e=$)),e===$&&t===$?(e=0,t=1):(e=Hr(e),t===$?(t=e,e=0):t=Hr(t)),e>t){var n=e;e=t,t=n}if(a||e%1||t%1){var r=ro();return to(e+r*(t-e+Yt("1e-"+((r+"").length-1))),t)}return Ta(e,t)},a.reduce=function(e,t,a){var n=ki(e)?f:w,r=arguments.length<3;return n(e,Wn(t,4),a,r,Mo)},a.reduceRight=function(e,t,a){var n=ki(e)?g:w,r=arguments.length<3;return n(e,Wn(t,4),a,r,wo)},a.repeat=function(e,t,a){return t=(a?$n(e,t,a):t===$)?1:jr(t),Pa(Kr(e),t)},a.replace=function(){var e=arguments,t=Kr(e[0]);return e.length<3?t:t.replace(e[1],e[2])},a.result=function(e,t,a){var n=-1,r=(t=qa(t,e)).length;for(r||(r=1,e=$);++n<r;){var l=null==e?$:e[lr(t[n])];l===$&&(n=r,l=a),e=Or(l)?l.call(e):l}return e},a.round=Sc,a.runInContext=e,a.sample=function(e){return(ki(e)?gt:xa)(e)},a.size=function(e){if(null==e)return 0;if(Ir(e))return Br(e)?H(e):e.length;var t=_o(e);return t==ue||t==ge?e.size:Ea(e).length},a.snakeCase=ac,a.some=function(e,t,a){var n=ki(e)?E:La;return a&&$n(e,t,a)&&(t=$),n(e,Wn(t,3))},a.sortedIndex=function(e,t){return _a(e,t)},a.sortedIndexBy=function(e,t,a){return Da(e,t,Wn(a,2))},a.sortedIndexOf=function(e,t){var a=null==e?0:e.length;if(a){var n=_a(e,t);if(n<a&&Pr(e[n],t))return n}return-1},a.sortedLastIndex=function(e,t){return _a(e,t,!0)},a.sortedLastIndexBy=function(e,t,a){return Da(e,t,Wn(a,2),!0)},a.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var a=_a(e,t,!0)-1;if(Pr(e[a],t))return a}return-1},a.startCase=nc,a.startsWith=function(e,t,a){return e=Kr(e),a=null==a?0:wt(jr(a),0,e.length),t=Ua(t),e.slice(a,a+t.length)==t},a.subtract=Cc,a.sum=function(e){return e&&e.length?k(e,rl):0},a.sumBy=function(e,t){return e&&e.length?k(e,Wn(t,2)):0},a.template=function(e,t,n){var r=a.templateSettings;n&&$n(e,t,n)&&(t=$),e=Kr(e),t=Wi({},t,r,In);var l,o,i=Wi({},t.imports,r.imports,In),c=qr(i),s=x(i,c),u=0,d=t.interpolate||it,m="__p += '",p=hl((t.escape||it).source+"|"+d.source+"|"+(d===Be?Je:it).source+"|"+(t.evaluate||it).source+"|$","g"),f="//# sourceURL="+(wl.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vt+"]")+"\n";e.replace(p,(function(t,a,n,r,i,c){return n||(n=r),m+=e.slice(u,c).replace(ct,L),a&&(l=!0,m+="' +\n__e("+a+") +\n'"),i&&(o=!0,m+="';\n"+i+";\n__p += '"),n&&(m+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),m+="';\n";var g=wl.call(t,"variable")&&t.variable;if(g){if(Qe.test(g))throw new pl("Invalid `variable` option passed into `_.template`")}else m="with (obj) {\n"+m+"\n}\n";m=(o?m.replace(xe,""):m).replace(Ae,"$1").replace(Oe,"$1;"),m="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(l?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var E=oc((function(){return fl(c,f+"return "+m).apply($,s)}));if(E.source=m,Ar(E))throw E;return E},a.times=function(e,t){if((e=jr(e))<1||e>J)return[];var a=te,n=to(e,te);t=Wn(t),e-=te;for(var r=T(n,t);++a<e;)t(a);return r},a.toFinite=Hr,a.toInteger=jr,a.toLength=Vr,a.toLower=function(e){return Kr(e).toLowerCase()},a.toNumber=Gr,a.toSafeInteger=function(e){return e?wt(jr(e),-J,J):0===e?e:0},a.toString=Kr,a.toUpper=function(e){return Kr(e).toUpperCase()},a.trim=function(e,t,a){if((e=Kr(e))&&(a||t===$))return P(e);if(!e||!(t=Ua(t)))return e;var n=j(e),r=j(t);return Qa(n,O(n,r),N(n,r)+1).join("")},a.trimEnd=function(e,t,a){if((e=Kr(e))&&(a||t===$))return e.slice(0,V(e)+1);if(!e||!(t=Ua(t)))return e;var n=j(e);return Qa(n,0,N(n,j(t))+1).join("")},a.trimStart=function(e,t,a){if((e=Kr(e))&&(a||t===$))return e.replace(Ge,"");if(!e||!(t=Ua(t)))return e;var n=j(e);return Qa(n,O(n,j(t))).join("")},a.truncate=function(e,t){var a=30,n="...";if(Lr(t)){var r="separator"in t?t.separator:r;a="length"in t?jr(t.length):a,n="omission"in t?Ua(t.omission):n}var l=(e=Kr(e)).length;if(_(e)){var o=j(e);l=o.length}if(a>=l)return e;var i=a-H(n);if(i<1)return n;var c=o?Qa(o,0,i).join(""):e.slice(0,i);if(r===$)return c+n;if(o&&(i+=c.length-i),Ai(r)){if(e.slice(i).search(r)){var s,u=c;for(r.global||(r=hl(r.source,Kr(et.exec(r))+"g")),r.lastIndex=0;s=r.exec(u);)var d=s.index;c=c.slice(0,d===$?i:d)}}else if(e.indexOf(Ua(r),i)!=i){var m=c.lastIndexOf(r);m>-1&&(c=c.slice(0,m))}return c+n},a.unescape=function(e){return(e=Kr(e))&&Le.test(e)?e.replace(Ne,pa):e},a.uniqueId=function(e){var t=++kl;return Kr(e)+t},a.upperCase=rc,a.upperFirst=lc,a.each=yr,a.eachRight=Fr,a.first=mr,ol(a,function(){var e={};return Rt(a,(function(t,n){wl.call(a.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),a.VERSION="4.17.21",o(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){a[e].placeholder=a})),o(["drop","take"],(function(e,t){$e.prototype[e]=function(a){a=a===$?1:eo(jr(a),0);var n=this.__filtered__&&!t?new $e(this):this.clone();return n.__filtered__?n.__takeCount__=to(a,n.__takeCount__):n.__views__.push({size:to(a,te),type:e+(n.__dir__<0?"Right":"")}),n},$e.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),o(["filter","map","takeWhile"],(function(e,t){var a=t+1,n=1==a||3==a;$e.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Wn(e,3),type:a}),t.__filtered__=t.__filtered__||n,t}})),o(["head","last"],(function(e,t){var a="take"+(t?"Right":"");$e.prototype[e]=function(){return this[a](1).value()[0]}})),o(["initial","tail"],(function(e,t){var a="drop"+(t?"":"Right");$e.prototype[e]=function(){return this.__filtered__?new $e(this):this[a](1)}})),$e.prototype.compact=function(){return this.filter(rl)},$e.prototype.find=function(e){return this.filter(e).head()},$e.prototype.findLast=function(e){return this.reverse().find(e)},$e.prototype.invokeMap=Ia((function(e,t){return"function"==typeof e?new $e(this):this.map((function(a){return Jt(a,e,t)}))})),$e.prototype.reject=function(e){return this.filter(Tr(Wn(e)))},$e.prototype.slice=function(e,t){e=jr(e);var a=this;return a.__filtered__&&(e>0||t<0)?new $e(a):(e<0?a=a.takeRight(-e):e&&(a=a.drop(e)),t!==$&&(a=(t=jr(t))<0?a.dropRight(-t):a.take(t-e)),a)},$e.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},$e.prototype.toArray=function(){return this.take(te)},Rt($e.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),l=a[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);l&&(a.prototype[t]=function(){var t=this.__wrapped__,i=r?[1]:arguments,c=t instanceof $e,s=i[0],u=c||ki(t),d=function(e){var t=l.apply(a,p([e],i));return r&&m?t[0]:t};u&&n&&"function"==typeof s&&1!=s.length&&(c=u=!1);var m=this.__chain__,f=!!this.__actions__.length,g=o&&!m,E=c&&!f;if(!o&&u){t=E?t:new $e(this);var h=e.apply(t,i);return h.__actions__.push({func:vr,args:[d],thisArg:$}),new M(h,m)}return g&&E?e.apply(this,i):(h=this.thru(d),g?r?h.value()[0]:h.value():h)})})),o(["pop","push","shift","sort","splice","unshift"],(function(e){var t=yl[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);a.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var a=this.value();return t.apply(ki(a)?a:[],e)}return this[n]((function(a){return t.apply(ki(a)?a:[],e)}))}})),Rt($e.prototype,(function(e,t){var n=a[t];if(n){var r=n.name+"";wl.call(fo,r)||(fo[r]=[]),fo[r].push({name:t,func:n})}})),fo[hn($,2).name]=[{name:"wrapper",func:$}],$e.prototype.clone=function(){var e=new $e(this.__wrapped__);return e.__actions__=rn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=rn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=rn(this.__views__),e},$e.prototype.reverse=function(){if(this.__filtered__){var e=new $e(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},$e.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,a=ki(e),n=t<0,r=a?e.length:0,l=function(e,t,a){for(var n=-1,r=a.length;++n<r;){var l=a[n],o=l.size;switch(l.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=to(t,e+o);break;case"takeRight":e=eo(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=l.start,i=l.end,c=i-o,s=n?i:o-1,u=this.__iteratees__,d=u.length,m=0,p=to(c,this.__takeCount__);if(!a||!n&&r==c&&p==c)return Ga(e,this.__actions__);var f=[];e:for(;c--&&m<p;){for(var g=-1,E=e[s+=t];++g<d;){var h=u[g],b=h.iteratee,v=h.type,y=b(E);if(2==v)E=y;else if(!y){if(1==v)continue e;break e}}f[m++]=E}return f},a.prototype.at=li,a.prototype.chain=function(){return br(this)},a.prototype.commit=function(){return new M(this.value(),this.__chain__)},a.prototype.next=function(){this.__values__===$&&(this.__values__=zr(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?$:this.__values__[this.__index__++]}},a.prototype.plant=function(e){for(var t,a=this;a instanceof n;){var r=cr(a);r.__index__=0,r.__values__=$,t?l.__wrapped__=r:t=r;var l=r;a=a.__wrapped__}return l.__wrapped__=e,t},a.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof $e){var t=e;return this.__actions__.length&&(t=new $e(this)),(t=t.reverse()).__actions__.push({func:vr,args:[gr],thisArg:$}),new M(t,this.__chain__)}return this.thru(gr)},a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=function(){return Ga(this.__wrapped__,this.__actions__)},a.prototype.first=a.prototype.head,zl&&(a.prototype[zl]=function(){return this}),a}();Zt._=fa,void 0===(n=function(){return fa}.call(t,a,t,e))||(e.exports=n)}.call(this)},44744:e=>{"use strict";var t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,l){for(var o,i,c=r(e),s=1;s<arguments.length;s++){for(var u in o=Object(arguments[s]))a.call(o,u)&&(c[u]=o[u]);if(t){i=t(o);for(var d=0;d<i.length;d++)n.call(o,i[d])&&(c[i[d]]=o[i[d]])}}return c}},36707:(e,t,a)=>{var n=a(25733),r=a(45598)((function(e,t){return n(e.length,(function(){return e.apply(t,arguments)}))}));e.exports=r},17145:(e,t,a)=>{var n=a(25733),r=a(20567),l=a(45598),o=a(38e3),i=l((function(e,t){return 1===e?r(t):n(e,o(e,[],t))}));e.exports=i},77357:(e,t,a)=>{var n=a(45598),r=a(8102),l=n((function(e,t){return r(e,t,[],[])}));e.exports=l},29654:(e,t,a)=>{var n=a(45598),r=a(2199),l=a(52110),o=a(45093),i=a(29996),c=a(42959),s=a(8382),u=n(r(["filter"],c,(function(e,t){return o(t)?i((function(a,n){return e(t[n])&&(a[n]=t[n]),a}),{},s(t)):l(e,t)})));e.exports=u},94551:(e,t,a)=>{var n=a(45598)(a(2199)(["find"],a(92554),(function(e,t){for(var a=0,n=t.length;a<n;){if(e(t[a]))return t[a];a+=1}})));e.exports=n},634:(e,t,a)=>{var n=a(20567),r=a(17145),l=n((function(e){return r(e.length,(function(t,a){var n=Array.prototype.slice.call(arguments,0);return n[0]=a,n[1]=t,e.apply(this,n)}))}));e.exports=l},71768:(e,t,a)=>{var n=a(24289),r=a(45598)(n);e.exports=r},25733:e=>{e.exports=function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,a){return t.apply(this,arguments)};case 3:return function(e,a,n){return t.apply(this,arguments)};case 4:return function(e,a,n,r){return t.apply(this,arguments)};case 5:return function(e,a,n,r,l){return t.apply(this,arguments)};case 6:return function(e,a,n,r,l,o){return t.apply(this,arguments)};case 7:return function(e,a,n,r,l,o,i){return t.apply(this,arguments)};case 8:return function(e,a,n,r,l,o,i,c){return t.apply(this,arguments)};case 9:return function(e,a,n,r,l,o,i,c,s){return t.apply(this,arguments)};case 10:return function(e,a,n,r,l,o,i,c,s,u){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},92402:e=>{e.exports=function(e){for(var t,a=[];!(t=e.next()).done;)a.push(t.value);return a}},58514:(e,t,a)=>{var n=a(17694);e.exports=function(e,t){return function(){var a=arguments.length;if(0===a)return t();var r=arguments[a-1];return n(r)||"function"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,a-1))}}},9798:e=>{e.exports=function(e){return function(){return!e.apply(this,arguments)}}},20567:(e,t,a)=>{var n=a(13132);e.exports=function(e){return function t(a){return 0===arguments.length||n(a)?t:e.apply(this,arguments)}}},45598:(e,t,a)=>{var n=a(20567),r=a(13132);e.exports=function(e){return function t(a,l){switch(arguments.length){case 0:return t;case 1:return r(a)?t:n((function(t){return e(a,t)}));default:return r(a)&&r(l)?t:r(a)?n((function(t){return e(t,l)})):r(l)?n((function(t){return e(a,t)})):e(a,l)}}}},98748:(e,t,a)=>{var n=a(20567),r=a(45598),l=a(13132);e.exports=function(e){return function t(a,o,i){switch(arguments.length){case 0:return t;case 1:return l(a)?t:r((function(t,n){return e(a,t,n)}));case 2:return l(a)&&l(o)?t:l(a)?r((function(t,a){return e(t,o,a)})):l(o)?r((function(t,n){return e(a,t,n)})):n((function(t){return e(a,o,t)}));default:return l(a)&&l(o)&&l(i)?t:l(a)&&l(o)?r((function(t,a){return e(t,a,i)})):l(a)&&l(i)?r((function(t,a){return e(t,o,a)})):l(o)&&l(i)?r((function(t,n){return e(a,t,n)})):l(a)?n((function(t){return e(t,o,i)})):l(o)?n((function(t){return e(a,t,i)})):l(i)?n((function(t){return e(a,o,t)})):e(a,o,i)}}}},38e3:(e,t,a)=>{var n=a(25733),r=a(13132);e.exports=function e(t,a,l){return function(){for(var o=[],i=0,c=t,s=0;s<a.length||i<arguments.length;){var u;s<a.length&&(!r(a[s])||i>=arguments.length)?u=a[s]:(u=arguments[i],i+=1),o[s]=u,r(u)||(c-=1),s+=1}return c<=0?l.apply(this,o):n(c,e(t,o,l))}}},2199:(e,t,a)=>{var n=a(17694),r=a(77986);e.exports=function(e,t,a){return function(){if(0===arguments.length)return a();var l=Array.prototype.slice.call(arguments,0),o=l.pop();if(!n(o)){for(var i=0;i<e.length;){if("function"==typeof o[e[i]])return o[e[i]].apply(o,l);i+=1}if(r(o)){var c=t.apply(null,l);return c(o)}}return a.apply(this,arguments)}}},8102:(e,t,a)=>{var n=a(92402),r=a(3481),l=a(90442),o=a(48555),i=a(51237),c=a(8382),s=a(8703);function u(e,t,a,l){var o=n(e),i=n(t);function c(e,t){return d(e,t,a.slice(),l.slice())}return!r((function(e,t){return!r(c,t,e)}),i,o)}function d(e,t,a,n){if(i(e,t))return!0;var r=s(e);if(r!==s(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(r){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===l(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!i(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!i(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var m=a.length-1;m>=0;){if(a[m]===e)return n[m]===t;m-=1}switch(r){case"Map":return e.size===t.size&&u(e.entries(),t.entries(),a.concat([e]),n.concat([t]));case"Set":return e.size===t.size&&u(e.values(),t.values(),a.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var p=c(e);if(p.length!==c(t).length)return!1;var f=a.concat([e]),g=n.concat([t]);for(m=p.length-1;m>=0;){var E=p[m];if(!o(E,t)||!d(t[E],e[E],f,g))return!1;m-=1}return!0}e.exports=d},52110:e=>{e.exports=function(e,t){for(var a=0,n=t.length,r=[];a<n;)e(t[a])&&(r[r.length]=t[a]),a+=1;return r}},90442:e=>{e.exports=function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}},48555:e=>{e.exports=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)}},24289:(e,t,a)=>{var n=a(4268);e.exports=function(e,t){return n(t,e,0)>=0}},3481:e=>{e.exports=function(e,t,a){for(var n=0,r=a.length;n<r;){if(e(t,a[n]))return!0;n+=1}return!1}},4268:(e,t,a)=>{var n=a(77357);e.exports=function(e,t,a){var r,l;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(r=1/t;a<e.length;){if(0===(l=e[a])&&1/l===r)return a;a+=1}return-1}if(t!=t){for(;a<e.length;){if("number"==typeof(l=e[a])&&l!=l)return a;a+=1}return-1}return e.indexOf(t,a);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,a);case"object":if(null===t)return e.indexOf(t,a)}for(;a<e.length;){if(n(e[a],t))return a;a+=1}return-1}},66022:(e,t,a)=>{var n=a(48555),r=Object.prototype.toString,l=function(){return"[object Arguments]"===r.call(arguments)?function(e){return"[object Arguments]"===r.call(e)}:function(e){return n("callee",e)}}();e.exports=l},17694:e=>{e.exports=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)}},35553:(e,t,a)=>{var n=a(20567),r=a(17694),l=a(95493),o=n((function(e){return!!r(e)||!!e&&"object"==typeof e&&!l(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))}));e.exports=o},45093:e=>{e.exports=function(e){return"[object Object]"===Object.prototype.toString.call(e)}},13132:e=>{e.exports=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}},95493:e=>{e.exports=function(e){return"[object String]"===Object.prototype.toString.call(e)}},77986:e=>{e.exports=function(e){return null!=e&&"function"==typeof e["@@transducer/step"]}},51237:e=>{e.exports="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},29996:(e,t,a)=>{var n=a(35553),r=a(70125),l=a(36707);function o(e,t,a){for(var n=a.next();!n.done;){if((t=e["@@transducer/step"](t,n.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=a.next()}return e["@@transducer/result"](t)}function i(e,t,a,n){return e["@@transducer/result"](a[n](l(e["@@transducer/step"],e),t))}var c="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";e.exports=function(e,t,a){if("function"==typeof e&&(e=r(e)),n(a))return function(e,t,a){for(var n=0,r=a.length;n<r;){if((t=e["@@transducer/step"](t,a[n]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}(e,t,a);if("function"==typeof a["fantasy-land/reduce"])return i(e,t,a,"fantasy-land/reduce");if(null!=a[c])return o(e,t,a[c]());if("function"==typeof a.next)return o(e,t,a);if("function"==typeof a.reduce)return i(e,t,a,"reduce");throw new TypeError("reduce: list must be array or iterable")}},70768:e=>{e.exports=function(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}},14565:e=>{e.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}}},42959:(e,t,a)=>{var n=a(45598),r=a(14565),l=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=r.init,e.prototype["@@transducer/result"]=r.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}(),o=n((function(e,t){return new l(e,t)}));e.exports=o},92554:(e,t,a)=>{var n=a(45598),r=a(70768),l=a(14565),o=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=l.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=r(this.xf["@@transducer/step"](e,t))),e},e}(),i=n((function(e,t){return new o(e,t)}));e.exports=i},70125:e=>{var t=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();e.exports=function(e){return new t(e)}},8382:(e,t,a)=>{var n=a(20567),r=a(48555),l=a(66022),o=!{toString:null}.propertyIsEnumerable("toString"),i=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],c=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),s=function(e,t){for(var a=0;a<e.length;){if(e[a]===t)return!0;a+=1}return!1},u="function"!=typeof Object.keys||c?n((function(e){if(Object(e)!==e)return[];var t,a,n=[],u=c&&l(e);for(t in e)!r(t,e)||u&&"length"===t||(n[n.length]=t);if(o)for(a=i.length-1;a>=0;)r(t=i[a],e)&&!s(n,t)&&(n[n.length]=t),a-=1;return n})):n((function(e){return Object(e)!==e?[]:Object.keys(e)}));e.exports=u},49836:(e,t,a)=>{var n=a(98748),r=a(77357),l=n((function(e,t,a){return r(t,a[e])}));e.exports=l},99022:(e,t,a)=>{var n=a(9798),r=a(45598),l=a(29654),o=r((function(e,t){return l(n(e),t)}));e.exports=o},39359:(e,t,a)=>{var n=a(58514),r=a(98748)(n("slice",(function(e,t,a){return Array.prototype.slice.call(a,e,t)})));e.exports=r},31717:(e,t,a)=>{var n=a(45598),r=a(39359),l=n((function(e,t){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var a=[],n=0;n<t.length;)a.push(r(n,n+=e,t));return a}));e.exports=l},66139:(e,t,a)=>{var n=a(45598)((function(e,t){var a,n=Number(t),r=0;if(n<0||isNaN(n))throw new RangeError("n must be a non-negative number");for(a=new Array(n);r<n;)a[r]=e(r),r+=1;return a}));e.exports=n},8703:(e,t,a)=>{var n=a(20567)((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));e.exports=n},97744:(e,t,a)=>{var n=a(24289),r=a(45598),l=a(634),o=a(99022),i=r((function(e,t){return o(l(n)(e),t)}));e.exports=i},46430:(e,t,a)=>{e.exports=function t(n){"use strict";var r=a(44744),l=a(3464),o=a(26990);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;c.hasOwnProperty("ReactCurrentDispatcher")||(c.ReactCurrentDispatcher={current:null}),c.hasOwnProperty("ReactCurrentBatchConfig")||(c.ReactCurrentBatchConfig={suspense:null});var s="function"==typeof Symbol&&Symbol.for,u=s?Symbol.for("react.element"):60103,d=s?Symbol.for("react.portal"):60106,m=s?Symbol.for("react.fragment"):60107,p=s?Symbol.for("react.strict_mode"):60108,f=s?Symbol.for("react.profiler"):60114,g=s?Symbol.for("react.provider"):60109,E=s?Symbol.for("react.context"):60110,h=s?Symbol.for("react.concurrent_mode"):60111,b=s?Symbol.for("react.forward_ref"):60112,v=s?Symbol.for("react.suspense"):60113,y=s?Symbol.for("react.suspense_list"):60120,F=s?Symbol.for("react.memo"):60115,S=s?Symbol.for("react.lazy"):60116;s&&Symbol.for("react.fundamental"),s&&Symbol.for("react.responder"),s&&Symbol.for("react.scope");var C="function"==typeof Symbol&&Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}function w(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case d:return"Portal";case f:return"Profiler";case p:return"StrictMode";case v:return"Suspense";case y:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case E:return"Context.Consumer";case g:return"Context.Provider";case b:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case F:return w(e.type);case S:if(e=1===e._status?e._result:null)return w(e)}return null}function k(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(a=t.return),e=t.return}while(e)}return 3===t.tag?a:null}function T(e){if(k(e)!==e)throw Error(i(188))}function P(e){var t=e.alternate;if(!t){if(null===(t=k(e)))throw Error(i(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(n=r.return)){a=n;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===a)return T(r),e;if(l===n)return T(r),t;l=l.sibling}throw Error(i(188))}if(a.return!==n.return)a=r,n=l;else{for(var o=!1,c=r.child;c;){if(c===a){o=!0,a=r,n=l;break}if(c===n){o=!0,n=r,a=l;break}c=c.sibling}if(!o){for(c=l.child;c;){if(c===a){o=!0,a=l,n=r;break}if(c===n){o=!0,n=l,a=r;break}c=c.sibling}if(!o)throw Error(i(189))}}if(a.alternate!==n)throw Error(i(190))}if(3!==a.tag)throw Error(i(188));return a.stateNode.current===a?e:t}function I(e){if(!(e=P(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var x=n.getPublicInstance,A=n.getRootHostContext,O=n.getChildHostContext,N=n.prepareForCommit,R=n.resetAfterCommit,L=n.createInstance,_=n.appendInitialChild,D=n.finalizeInitialChildren,W=n.prepareUpdate,B=n.shouldSetTextContent,U=n.shouldDeprioritizeSubtree,z=n.createTextInstance,H=n.setTimeout,j=n.clearTimeout,V=n.noTimeout,G=n.isPrimaryRenderer,$=n.supportsMutation,K=n.supportsPersistence,Y=n.supportsHydration,X=n.appendChild,q=n.appendChildToContainer,Q=n.commitTextUpdate,Z=n.commitMount,J=n.commitUpdate,ee=n.insertBefore,te=n.insertInContainerBefore,ae=n.removeChild,ne=n.removeChildFromContainer,re=n.resetTextContent,le=n.hideInstance,oe=n.hideTextInstance,ie=n.unhideInstance,ce=n.unhideTextInstance,se=n.cloneInstance,ue=n.createContainerChildSet,de=n.appendChildToContainerChildSet,me=n.finalizeContainerChildren,pe=n.replaceContainerChildren,fe=n.cloneHiddenInstance,ge=n.cloneHiddenTextInstance,Ee=n.canHydrateInstance,he=n.canHydrateTextInstance,be=n.isSuspenseInstancePending,ve=n.isSuspenseInstanceFallback,ye=n.getNextHydratableSibling,Fe=n.getFirstHydratableChild,Se=n.hydrateInstance,Ce=n.hydrateTextInstance,Me=n.getNextHydratableInstanceAfterSuspenseInstance,we=n.commitHydratedContainer,ke=n.commitHydratedSuspenseInstance,Te=/^(.*)[\\\/]/;function Pe(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var a="";break e;default:var n=e._debugOwner,r=e._debugSource,l=w(e.type);a=null,n&&(a=w(n.type)),n=l,l="",r?l=" (at "+r.fileName.replace(Te,"")+":"+r.lineNumber+")":a&&(l=" (created by "+a+")"),a="\n    in "+(n||"Unknown")+l}t+=a,e=e.return}while(e);return t}new Set;var Ie=[],xe=-1;function Ae(e){0>xe||(e.current=Ie[xe],Ie[xe]=null,xe--)}function Oe(e,t){xe++,Ie[xe]=e.current,e.current=t}var Ne={},Re={current:Ne},Le={current:!1},_e=Ne;function De(e,t){var a=e.type.contextTypes;if(!a)return Ne;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r,l={};for(r in a)l[r]=t[r];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function We(e){return null!=e.childContextTypes}function Be(e){Ae(Le),Ae(Re)}function Ue(e){Ae(Le),Ae(Re)}function ze(e,t,a){if(Re.current!==Ne)throw Error(i(168));Oe(Re,t),Oe(Le,a)}function He(e,t,a){var n=e.stateNode;if(e=t.childContextTypes,"function"!=typeof n.getChildContext)return a;for(var l in n=n.getChildContext())if(!(l in e))throw Error(i(108,w(t)||"Unknown",l));return r({},a,{},n)}function je(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Ne,_e=Re.current,Oe(Re,t),Oe(Le,Le.current),!0}function Ve(e,t,a){var n=e.stateNode;if(!n)throw Error(i(169));a?(t=He(e,t,_e),n.__reactInternalMemoizedMergedChildContext=t,Ae(Le),Ae(Re),Oe(Re,t)):Ae(Le),Oe(Le,a)}var Ge=o.unstable_runWithPriority,$e=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Xe=o.unstable_requestPaint,qe=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,Je=o.unstable_UserBlockingPriority,et=o.unstable_NormalPriority,tt=o.unstable_LowPriority,at=o.unstable_IdlePriority,nt={},rt=void 0!==Xe?Xe:function(){},lt=null,ot=null,it=!1,ct=qe(),st=1e4>ct?qe:function(){return qe()-ct};function ut(){switch(Qe()){case Ze:return 99;case Je:return 98;case et:return 97;case tt:return 96;case at:return 95;default:throw Error(i(332))}}function dt(e){switch(e){case 99:return Ze;case 98:return Je;case 97:return et;case 96:return tt;case 95:return at;default:throw Error(i(332))}}function mt(e,t){return e=dt(e),Ge(e,t)}function pt(e,t,a){return e=dt(e),$e(e,t,a)}function ft(e){return null===lt?(lt=[e],ot=$e(Ze,Et)):lt.push(e),nt}function gt(){if(null!==ot){var e=ot;ot=null,Ke(e)}Et()}function Et(){if(!it&&null!==lt){it=!0;var e=0;try{var t=lt;mt(99,(function(){for(;e<t.length;e++){var a=t[e];do{a=a(!0)}while(null!==a)}})),lt=null}catch(t){throw null!==lt&&(lt=lt.slice(e+1)),$e(Ze,gt),t}finally{it=!1}}}var ht=3;function bt(e,t,a){return 1073741821-(1+((1073741821-e+t/10)/(a/=10)|0))*a}var vt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},yt=Object.prototype.hasOwnProperty;function Ft(e,t){if(vt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++)if(!yt.call(t,a[n])||!vt(e[a[n]],t[a[n]]))return!1;return!0}function St(e,t){if(e&&e.defaultProps)for(var a in t=r({},t),e=e.defaultProps)void 0===t[a]&&(t[a]=e[a]);return t}var Ct={current:null},Mt=null,wt=null,kt=null;function Tt(){kt=wt=Mt=null}function Pt(e,t){var a=e.type._context;G?(Oe(Ct,a._currentValue),a._currentValue=t):(Oe(Ct,a._currentValue2),a._currentValue2=t)}function It(e){var t=Ct.current;Ae(Ct),e=e.type._context,G?e._currentValue=t:e._currentValue2=t}function xt(e,t){for(;null!==e;){var a=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==a&&a.childExpirationTime<t&&(a.childExpirationTime=t);else{if(!(null!==a&&a.childExpirationTime<t))break;a.childExpirationTime=t}e=e.return}}function At(e,t){Mt=e,kt=wt=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(mn=!0),e.firstContext=null)}function Ot(e,t){if(kt!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(kt=e,t=1073741823),t={context:e,observedBits:t,next:null},null===wt){if(null===Mt)throw Error(i(308));wt=t,Mt.dependencies={expirationTime:0,firstContext:t,responders:null}}else wt=wt.next=t;return G?e._currentValue:e._currentValue2}var Nt=!1;function Rt(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Lt(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function _t(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Dt(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Wt(e,t){var a=e.alternate;if(null===a){var n=e.updateQueue,r=null;null===n&&(n=e.updateQueue=Rt(e.memoizedState))}else n=e.updateQueue,r=a.updateQueue,null===n?null===r?(n=e.updateQueue=Rt(e.memoizedState),r=a.updateQueue=Rt(a.memoizedState)):n=e.updateQueue=Lt(r):null===r&&(r=a.updateQueue=Lt(n));null===r||n===r?Dt(n,t):null===n.lastUpdate||null===r.lastUpdate?(Dt(n,t),Dt(r,t)):(Dt(n,t),r.lastUpdate=t)}function Bt(e,t){var a=e.updateQueue;null===(a=null===a?e.updateQueue=Rt(e.memoizedState):Ut(e,a)).lastCapturedUpdate?a.firstCapturedUpdate=a.lastCapturedUpdate=t:(a.lastCapturedUpdate.next=t,a.lastCapturedUpdate=t)}function Ut(e,t){var a=e.alternate;return null!==a&&t===a.updateQueue&&(t=e.updateQueue=Lt(t)),t}function zt(e,t,a,n,l,o){switch(a.tag){case 1:return"function"==typeof(e=a.payload)?e.call(o,n,l):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(l="function"==typeof(e=a.payload)?e.call(o,n,l):e))break;return r({},n,l);case 2:Nt=!0}return n}function Ht(e,t,a,n,r){Nt=!1;for(var l=(t=Ut(e,t)).baseState,o=null,i=0,c=t.firstUpdate,s=l;null!==c;){var u=c.expirationTime;u<r?(null===o&&(o=c,l=s),i<u&&(i=u)):(Br(u,c.suspenseConfig),s=zt(e,0,c,s,a,n),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(u=null,c=t.firstCapturedUpdate;null!==c;){var d=c.expirationTime;d<r?(null===u&&(u=c,null===o&&(l=s)),i<d&&(i=d)):(s=zt(e,0,c,s,a,n),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===o&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===u&&(l=s),t.baseState=l,t.firstUpdate=o,t.firstCapturedUpdate=u,Ur(i),e.expirationTime=i,e.memoizedState=s}function jt(e,t,a){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Vt(t.firstEffect,a),t.firstEffect=t.lastEffect=null,Vt(t.firstCapturedEffect,a),t.firstCapturedEffect=t.lastCapturedEffect=null}function Vt(e,t){for(;null!==e;){var a=e.callback;if(null!==a){e.callback=null;var n=t;if("function"!=typeof a)throw Error(i(191,a));a.call(n)}e=e.nextEffect}}var Gt=c.ReactCurrentBatchConfig,$t=(new l.Component).refs;function Kt(e,t,a,n){a=null==(a=a(n,t=e.memoizedState))?t:r({},t,a),e.memoizedState=a,null!==(n=e.updateQueue)&&0===e.expirationTime&&(n.baseState=a)}var Yt={isMounted:function(e){return!!(e=e._reactInternalFiber)&&k(e)===e},enqueueSetState:function(e,t,a){e=e._reactInternalFiber;var n=Tr(),r=Gt.suspense;(r=_t(n=Pr(n,e,r),r)).payload=t,null!=a&&(r.callback=a),Wt(e,r),Ir(e,n)},enqueueReplaceState:function(e,t,a){e=e._reactInternalFiber;var n=Tr(),r=Gt.suspense;(r=_t(n=Pr(n,e,r),r)).tag=1,r.payload=t,null!=a&&(r.callback=a),Wt(e,r),Ir(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var a=Tr(),n=Gt.suspense;(n=_t(a=Pr(a,e,n),n)).tag=2,null!=t&&(n.callback=t),Wt(e,n),Ir(e,a)}};function Xt(e,t,a,n,r,l,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,l,o):!(t.prototype&&t.prototype.isPureReactComponent&&Ft(a,n)&&Ft(r,l))}function qt(e,t,a){var n=!1,r=Ne,l=t.contextType;return"object"==typeof l&&null!==l?l=Ot(l):(r=We(t)?_e:Re.current,l=(n=null!=(n=t.contextTypes))?De(e,r):Ne),t=new t(a,l),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Yt,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=l),t}function Qt(e,t,a,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(a,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Yt.enqueueReplaceState(t,t.state,null)}function Zt(e,t,a,n){var r=e.stateNode;r.props=a,r.state=e.memoizedState,r.refs=$t;var l=t.contextType;"object"==typeof l&&null!==l?r.context=Ot(l):(l=We(t)?_e:Re.current,r.context=De(e,l)),null!==(l=e.updateQueue)&&(Ht(e,l,a,r,n),r.state=e.memoizedState),"function"==typeof(l=t.getDerivedStateFromProps)&&(Kt(e,t,l,a),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Yt.enqueueReplaceState(r,r.state,null),null!==(l=e.updateQueue)&&(Ht(e,l,a,r,n),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var Jt=Array.isArray;function ea(e,t,a){if(null!==(e=a.ref)&&"function"!=typeof e&&"object"!=typeof e){if(a._owner){if(a=a._owner){if(1!==a.tag)throw Error(i(309));var n=a.stateNode}if(!n)throw Error(i(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=n.refs;t===$t&&(t=n.refs={}),null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!=typeof e)throw Error(i(284));if(!a._owner)throw Error(i(290,e))}return e}function ta(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function aa(e){function t(t,a){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=a,t.lastEffect=a):t.firstEffect=t.lastEffect=a,a.nextEffect=null,a.effectTag=8}}function a(a,n){if(!e)return null;for(;null!==n;)t(a,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t,a){return(e=ol(e,t)).index=0,e.sibling=null,e}function l(t,a,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<a?(t.effectTag=2,a):n:(t.effectTag=2,a):a}function o(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,a,n){return null===t||6!==t.tag?((t=sl(a,e.mode,n)).return=e,t):((t=r(t,a)).return=e,t)}function s(e,t,a,n){return null!==t&&t.elementType===a.type?((n=r(t,a.props)).ref=ea(e,t,a),n.return=e,n):((n=il(a.type,a.key,a.props,null,e.mode,n)).ref=ea(e,t,a),n.return=e,n)}function p(e,t,a,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?((t=ul(a,e.mode,n)).return=e,t):((t=r(t,a.children||[])).return=e,t)}function f(e,t,a,n,l){return null===t||7!==t.tag?((t=cl(a,e.mode,n,l)).return=e,t):((t=r(t,a)).return=e,t)}function g(e,t,a){if("string"==typeof t||"number"==typeof t)return(t=sl(""+t,e.mode,a)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case u:return(a=il(t.type,t.key,t.props,null,e.mode,a)).ref=ea(e,null,t),a.return=e,a;case d:return(t=ul(t,e.mode,a)).return=e,t}if(Jt(t)||M(t))return(t=cl(t,e.mode,a,null)).return=e,t;ta(e,t)}return null}function E(e,t,a,n){var r=null!==t?t.key:null;if("string"==typeof a||"number"==typeof a)return null!==r?null:c(e,t,""+a,n);if("object"==typeof a&&null!==a){switch(a.$$typeof){case u:return a.key===r?a.type===m?f(e,t,a.props.children,n,r):s(e,t,a,n):null;case d:return a.key===r?p(e,t,a,n):null}if(Jt(a)||M(a))return null!==r?null:f(e,t,a,n,null);ta(e,a)}return null}function h(e,t,a,n,r){if("string"==typeof n||"number"==typeof n)return c(t,e=e.get(a)||null,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case u:return e=e.get(null===n.key?a:n.key)||null,n.type===m?f(t,e,n.props.children,r,n.key):s(t,e,n,r);case d:return p(t,e=e.get(null===n.key?a:n.key)||null,n,r)}if(Jt(n)||M(n))return f(t,e=e.get(a)||null,n,r,null);ta(t,n)}return null}function b(r,o,i,c){for(var s=null,u=null,d=o,m=o=0,p=null;null!==d&&m<i.length;m++){d.index>m?(p=d,d=null):p=d.sibling;var f=E(r,d,i[m],c);if(null===f){null===d&&(d=p);break}e&&d&&null===f.alternate&&t(r,d),o=l(f,o,m),null===u?s=f:u.sibling=f,u=f,d=p}if(m===i.length)return a(r,d),s;if(null===d){for(;m<i.length;m++)null!==(d=g(r,i[m],c))&&(o=l(d,o,m),null===u?s=d:u.sibling=d,u=d);return s}for(d=n(r,d);m<i.length;m++)null!==(p=h(d,r,m,i[m],c))&&(e&&null!==p.alternate&&d.delete(null===p.key?m:p.key),o=l(p,o,m),null===u?s=p:u.sibling=p,u=p);return e&&d.forEach((function(e){return t(r,e)})),s}function v(r,o,c,s){var u=M(c);if("function"!=typeof u)throw Error(i(150));if(null==(c=u.call(c)))throw Error(i(151));for(var d=u=null,m=o,p=o=0,f=null,b=c.next();null!==m&&!b.done;p++,b=c.next()){m.index>p?(f=m,m=null):f=m.sibling;var v=E(r,m,b.value,s);if(null===v){null===m&&(m=f);break}e&&m&&null===v.alternate&&t(r,m),o=l(v,o,p),null===d?u=v:d.sibling=v,d=v,m=f}if(b.done)return a(r,m),u;if(null===m){for(;!b.done;p++,b=c.next())null!==(b=g(r,b.value,s))&&(o=l(b,o,p),null===d?u=b:d.sibling=b,d=b);return u}for(m=n(r,m);!b.done;p++,b=c.next())null!==(b=h(m,r,p,b.value,s))&&(e&&null!==b.alternate&&m.delete(null===b.key?p:b.key),o=l(b,o,p),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(r,e)})),u}return function(e,n,l,c){var s="object"==typeof l&&null!==l&&l.type===m&&null===l.key;s&&(l=l.props.children);var p="object"==typeof l&&null!==l;if(p)switch(l.$$typeof){case u:e:{for(p=l.key,s=n;null!==s;){if(s.key===p){if(7===s.tag?l.type===m:s.elementType===l.type){a(e,s.sibling),(n=r(s,l.type===m?l.props.children:l.props)).ref=ea(e,s,l),n.return=e,e=n;break e}a(e,s);break}t(e,s),s=s.sibling}l.type===m?((n=cl(l.props.children,e.mode,c,l.key)).return=e,e=n):((c=il(l.type,l.key,l.props,null,e.mode,c)).ref=ea(e,n,l),c.return=e,e=c)}return o(e);case d:e:{for(s=l.key;null!==n;){if(n.key===s){if(4===n.tag&&n.stateNode.containerInfo===l.containerInfo&&n.stateNode.implementation===l.implementation){a(e,n.sibling),(n=r(n,l.children||[])).return=e,e=n;break e}a(e,n);break}t(e,n),n=n.sibling}(n=ul(l,e.mode,c)).return=e,e=n}return o(e)}if("string"==typeof l||"number"==typeof l)return l=""+l,null!==n&&6===n.tag?(a(e,n.sibling),(n=r(n,l)).return=e,e=n):(a(e,n),(n=sl(l,e.mode,c)).return=e,e=n),o(e);if(Jt(l))return b(e,n,l,c);if(M(l))return v(e,n,l,c);if(p&&ta(e,l),void 0===l&&!s)switch(e.tag){case 1:case 0:throw e=e.type,Error(i(152,e.displayName||e.name||"Component"))}return a(e,n)}}var na=aa(!0),ra=aa(!1),la={},oa={current:la},ia={current:la},ca={current:la};function sa(e){if(e===la)throw Error(i(174));return e}function ua(e,t){Oe(ca,t),Oe(ia,e),Oe(oa,la),t=A(t),Ae(oa),Oe(oa,t)}function da(e){Ae(oa),Ae(ia),Ae(ca)}function ma(e){var t=sa(ca.current),a=sa(oa.current);a!==(t=O(a,e.type,t))&&(Oe(ia,e),Oe(oa,t))}function pa(e){ia.current===e&&(Ae(oa),Ae(ia))}var fa={current:0};function ga(e){for(var t=e;null!==t;){if(13===t.tag){var a=t.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||be(a)||ve(a)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ea(e,t){return{responder:e,props:t}}var ha=c.ReactCurrentDispatcher,ba=c.ReactCurrentBatchConfig,va=0,ya=null,Fa=null,Sa=null,Ca=null,Ma=null,wa=null,ka=0,Ta=null,Pa=0,Ia=!1,xa=null,Aa=0;function Oa(){throw Error(i(321))}function Na(e,t){if(null===t)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!vt(e[a],t[a]))return!1;return!0}function Ra(e,t,a,n,r,l){if(va=l,ya=t,Sa=null!==e?e.memoizedState:null,ha.current=null===Sa?Ja:en,t=a(n,r),Ia){do{Ia=!1,Aa+=1,Sa=null!==e?e.memoizedState:null,wa=Ca,Ta=Ma=Fa=null,ha.current=en,t=a(n,r)}while(Ia);xa=null,Aa=0}if(ha.current=Za,(e=ya).memoizedState=Ca,e.expirationTime=ka,e.updateQueue=Ta,e.effectTag|=Pa,e=null!==Fa&&null!==Fa.next,va=0,wa=Ma=Ca=Sa=Fa=ya=null,ka=0,Ta=null,Pa=0,e)throw Error(i(300));return t}function La(){ha.current=Za,va=0,wa=Ma=Ca=Sa=Fa=ya=null,ka=0,Ta=null,Pa=0,Ia=!1,xa=null,Aa=0}function _a(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Ma?Ca=Ma=e:Ma=Ma.next=e,Ma}function Da(){if(null!==wa)wa=(Ma=wa).next,Sa=null!==(Fa=Sa)?Fa.next:null;else{if(null===Sa)throw Error(i(310));var e={memoizedState:(Fa=Sa).memoizedState,baseState:Fa.baseState,queue:Fa.queue,baseUpdate:Fa.baseUpdate,next:null};Ma=null===Ma?Ca=e:Ma.next=e,Sa=Fa.next}return Ma}function Wa(e,t){return"function"==typeof t?t(e):t}function Ba(e){var t=Da(),a=t.queue;if(null===a)throw Error(i(311));if(a.lastRenderedReducer=e,0<Aa){var n=a.dispatch;if(null!==xa){var r=xa.get(a);if(void 0!==r){xa.delete(a);var l=t.memoizedState;do{l=e(l,r.action),r=r.next}while(null!==r);return vt(l,t.memoizedState)||(mn=!0),t.memoizedState=l,t.baseUpdate===a.last&&(t.baseState=l),a.lastRenderedState=l,[l,n]}}return[t.memoizedState,n]}n=a.last;var o=t.baseUpdate;if(l=t.baseState,null!==o?(null!==n&&(n.next=null),n=o.next):n=null!==n?n.next:null,null!==n){var c=r=null,s=n,u=!1;do{var d=s.expirationTime;d<va?(u||(u=!0,c=o,r=l),d>ka&&Ur(ka=d)):(Br(d,s.suspenseConfig),l=s.eagerReducer===e?s.eagerState:e(l,s.action)),o=s,s=s.next}while(null!==s&&s!==n);u||(c=o,r=l),vt(l,t.memoizedState)||(mn=!0),t.memoizedState=l,t.baseUpdate=c,t.baseState=r,a.lastRenderedState=l}return[t.memoizedState,a.dispatch]}function Ua(e){var t=_a();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:e}).dispatch=Qa.bind(null,ya,e),[t.memoizedState,e]}function za(e){return Ba(Wa)}function Ha(e,t,a,n){return e={tag:e,create:t,destroy:a,deps:n,next:null},null===Ta?(Ta={lastEffect:null}).lastEffect=e.next=e:null===(t=Ta.lastEffect)?Ta.lastEffect=e.next=e:(a=t.next,t.next=e,e.next=a,Ta.lastEffect=e),e}function ja(e,t,a,n){var r=_a();Pa|=e,r.memoizedState=Ha(t,a,void 0,void 0===n?null:n)}function Va(e,t,a,n){var r=Da();n=void 0===n?null:n;var l=void 0;if(null!==Fa){var o=Fa.memoizedState;if(l=o.destroy,null!==n&&Na(n,o.deps))return void Ha(0,a,l,n)}Pa|=e,r.memoizedState=Ha(t,a,l,n)}function Ga(e,t){return ja(516,192,e,t)}function $a(e,t){return Va(516,192,e,t)}function Ka(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(){}function Xa(e,t){return _a().memoizedState=[e,void 0===t?null:t],e}function qa(e,t){var a=Da();t=void 0===t?null:t;var n=a.memoizedState;return null!==n&&null!==t&&Na(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Qa(e,t,a){if(!(25>Aa))throw Error(i(301));var n=e.alternate;if(e===ya||null!==n&&n===ya)if(Ia=!0,e={expirationTime:va,suspenseConfig:null,action:a,eagerReducer:null,eagerState:null,next:null},null===xa&&(xa=new Map),void 0===(a=xa.get(t)))xa.set(t,e);else{for(t=a;null!==t.next;)t=t.next;t.next=e}else{var r=Tr(),l=Gt.suspense;l={expirationTime:r=Pr(r,e,l),suspenseConfig:l,action:a,eagerReducer:null,eagerState:null,next:null};var o=t.last;if(null===o)l.next=l;else{var c=o.next;null!==c&&(l.next=c),o.next=l}if(t.last=l,0===e.expirationTime&&(null===n||0===n.expirationTime)&&null!==(n=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=n(s,a);if(l.eagerReducer=n,l.eagerState=u,vt(u,s))return}catch(e){}Ir(e,r)}}var Za={readContext:Ot,useCallback:Oa,useContext:Oa,useEffect:Oa,useImperativeHandle:Oa,useLayoutEffect:Oa,useMemo:Oa,useReducer:Oa,useRef:Oa,useState:Oa,useDebugValue:Oa,useResponder:Oa,useDeferredValue:Oa,useTransition:Oa},Ja={readContext:Ot,useCallback:Xa,useContext:Ot,useEffect:Ga,useImperativeHandle:function(e,t,a){return a=null!=a?a.concat([e]):null,ja(4,36,Ka.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ja(4,36,e,t)},useMemo:function(e,t){var a=_a();return t=void 0===t?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var n=_a();return t=void 0!==a?a(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Qa.bind(null,ya,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},_a().memoizedState=e},useState:Ua,useDebugValue:Ya,useResponder:Ea,useDeferredValue:function(e,t){var a=Ua(e),n=a[0],r=a[1];return Ga((function(){o.unstable_next((function(){var a=ba.suspense;ba.suspense=void 0===t?null:t;try{r(e)}finally{ba.suspense=a}}))}),[e,t]),n},useTransition:function(e){var t=Ua(!1),a=t[0],n=t[1];return[Xa((function(t){n(!0),o.unstable_next((function(){var a=ba.suspense;ba.suspense=void 0===e?null:e;try{n(!1),t()}finally{ba.suspense=a}}))}),[e,a]),a]}},en={readContext:Ot,useCallback:qa,useContext:Ot,useEffect:$a,useImperativeHandle:function(e,t,a){return a=null!=a?a.concat([e]):null,Va(4,36,Ka.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Va(4,36,e,t)},useMemo:function(e,t){var a=Da();t=void 0===t?null:t;var n=a.memoizedState;return null!==n&&null!==t&&Na(t,n[1])?n[0]:(e=e(),a.memoizedState=[e,t],e)},useReducer:Ba,useRef:function(){return Da().memoizedState},useState:za,useDebugValue:Ya,useResponder:Ea,useDeferredValue:function(e,t){var a=za(),n=a[0],r=a[1];return $a((function(){o.unstable_next((function(){var a=ba.suspense;ba.suspense=void 0===t?null:t;try{r(e)}finally{ba.suspense=a}}))}),[e,t]),n},useTransition:function(e){var t=za(),a=t[0],n=t[1];return[qa((function(t){n(!0),o.unstable_next((function(){var a=ba.suspense;ba.suspense=void 0===e?null:e;try{n(!1),t()}finally{ba.suspense=a}}))}),[e,a]),a]}},tn=null,an=null,nn=!1;function rn(e,t){var a=rl(5,null,null,0);a.elementType="DELETED",a.type="DELETED",a.stateNode=t,a.return=e,a.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=a,e.lastEffect=a):e.firstEffect=e.lastEffect=a}function ln(e,t){switch(e.tag){case 5:return null!==(t=Ee(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=he(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function on(e){if(nn){var t=an;if(t){var a=t;if(!ln(e,t)){if(!(t=ye(a))||!ln(e,t))return e.effectTag=-1025&e.effectTag|2,nn=!1,void(tn=e);rn(tn,a)}tn=e,an=Fe(t)}else e.effectTag=-1025&e.effectTag|2,nn=!1,tn=e}}function cn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;tn=e}function sn(e){if(!Y||e!==tn)return!1;if(!nn)return cn(e),nn=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!B(t,e.memoizedProps))for(t=an;t;)rn(e,t),t=ye(t);if(cn(e),13===e.tag){if(!Y)throw Error(i(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));an=Me(e)}else an=tn?ye(e.stateNode):null;return!0}function un(){Y&&(an=tn=null,nn=!1)}var dn=c.ReactCurrentOwner,mn=!1;function pn(e,t,a,n){t.child=null===e?ra(t,null,a,n):na(t,e.child,a,n)}function fn(e,t,a,n,r){a=a.render;var l=t.ref;return At(t,r),n=Ra(e,t,a,n,l,r),null===e||mn?(t.effectTag|=1,pn(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),An(e,t,r))}function gn(e,t,a,n,r,l){if(null===e){var o=a.type;return"function"!=typeof o||ll(o)||void 0!==o.defaultProps||null!==a.compare||void 0!==a.defaultProps?((e=il(a.type,null,n,null,t.mode,l)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,En(e,t,o,n,r,l))}return o=e.child,r<l&&(r=o.memoizedProps,(a=null!==(a=a.compare)?a:Ft)(r,n)&&e.ref===t.ref)?An(e,t,l):(t.effectTag|=1,(e=ol(o,n)).ref=t.ref,e.return=t,t.child=e)}function En(e,t,a,n,r,l){return null!==e&&Ft(e.memoizedProps,n)&&e.ref===t.ref&&(mn=!1,r<l)?An(e,t,l):bn(e,t,a,n,l)}function hn(e,t){var a=t.ref;(null===e&&null!==a||null!==e&&e.ref!==a)&&(t.effectTag|=128)}function bn(e,t,a,n,r){var l=We(a)?_e:Re.current;return l=De(t,l),At(t,r),a=Ra(e,t,a,n,l,r),null===e||mn?(t.effectTag|=1,pn(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),An(e,t,r))}function vn(e,t,a,n,r){if(We(a)){var l=!0;je(t)}else l=!1;if(At(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),qt(t,a,n),Zt(t,a,n,r),n=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,s=a.contextType;s="object"==typeof s&&null!==s?Ot(s):De(t,s=We(a)?_e:Re.current);var u=a.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(i!==n||c!==s)&&Qt(t,o,n,s),Nt=!1;var m=t.memoizedState;c=o.state=m;var p=t.updateQueue;null!==p&&(Ht(t,p,n,o,r),c=t.memoizedState),i!==n||m!==c||Le.current||Nt?("function"==typeof u&&(Kt(t,a,u,n),c=t.memoizedState),(i=Nt||Xt(t,a,i,n,m,c,s))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=s,n=i):("function"==typeof o.componentDidMount&&(t.effectTag|=4),n=!1)}else o=t.stateNode,i=t.memoizedProps,o.props=t.type===t.elementType?i:St(t.type,i),c=o.context,s="object"==typeof(s=a.contextType)&&null!==s?Ot(s):De(t,s=We(a)?_e:Re.current),(d="function"==typeof(u=a.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(i!==n||c!==s)&&Qt(t,o,n,s),Nt=!1,c=t.memoizedState,m=o.state=c,null!==(p=t.updateQueue)&&(Ht(t,p,n,o,r),m=t.memoizedState),i!==n||c!==m||Le.current||Nt?("function"==typeof u&&(Kt(t,a,u,n),m=t.memoizedState),(u=Nt||Xt(t,a,i,n,c,m,s))?(d||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(n,m,s),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,m,s)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=s,n=u):("function"!=typeof o.componentDidUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),n=!1);return yn(e,t,a,n,l,r)}function yn(e,t,a,n,r,l){hn(e,t);var o=0!=(64&t.effectTag);if(!n&&!o)return r&&Ve(t,a,!1),An(e,t,l);n=t.stateNode,dn.current=t;var i=o&&"function"!=typeof a.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&o?(t.child=na(t,e.child,null,l),t.child=na(t,null,i,l)):pn(e,t,i,l),t.memoizedState=n.state,r&&Ve(t,a,!0),t.child}function Fn(e){var t=e.stateNode;t.pendingContext?ze(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ze(0,t.context,!1),ua(e,t.containerInfo)}var Sn,Cn,Mn,wn,kn={dehydrated:null,retryTime:0};function Tn(e,t,a){var n,r=t.mode,l=t.pendingProps,o=fa.current,i=!1;if((n=0!=(64&t.effectTag))||(n=0!=(2&o)&&(null===e||null!==e.memoizedState)),n?(i=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===l.fallback||!0===l.unstable_avoidThisFallback||(o|=1),Oe(fa,1&o),null===e){if(void 0!==l.fallback&&on(t),i){if(i=l.fallback,(l=cl(null,r,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,l.child=e;null!==e;)e.return=l,e=e.sibling;return(a=cl(i,r,a,null)).return=t,l.sibling=a,t.memoizedState=kn,t.child=l,a}return r=l.children,t.memoizedState=null,t.child=ra(t,null,r,a)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,i){if(l=l.fallback,(a=ol(e,e.pendingProps)).return=t,0==(2&t.mode)&&(i=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(a.child=i;null!==i;)i.return=a,i=i.sibling;return(r=ol(r,l,r.expirationTime)).return=t,a.sibling=r,a.childExpirationTime=0,t.memoizedState=kn,t.child=a,r}return a=na(t,e.child,l.children,a),t.memoizedState=null,t.child=a}if(e=e.child,i){if(i=l.fallback,(l=cl(null,r,0,null)).return=t,l.child=e,null!==e&&(e.return=l),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,l.child=e;null!==e;)e.return=l,e=e.sibling;return(a=cl(i,r,a,null)).return=t,l.sibling=a,a.effectTag|=2,l.childExpirationTime=0,t.memoizedState=kn,t.child=l,a}return t.memoizedState=null,t.child=na(t,e,l.children,a)}function Pn(e,t){e.expirationTime<t&&(e.expirationTime=t);var a=e.alternate;null!==a&&a.expirationTime<t&&(a.expirationTime=t),xt(e.return,t)}function In(e,t,a,n,r,l){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,last:n,tail:a,tailExpiration:0,tailMode:r,lastEffect:l}:(o.isBackwards=t,o.rendering=null,o.last=n,o.tail=a,o.tailExpiration=0,o.tailMode=r,o.lastEffect=l)}function xn(e,t,a){var n=t.pendingProps,r=n.revealOrder,l=n.tail;if(pn(e,t,n.children,a),0!=(2&(n=fa.current)))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Pn(e,a);else if(19===e.tag)Pn(e,a);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oe(fa,n),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(a=t.child,r=null;null!==a;)null!==(e=a.alternate)&&null===ga(e)&&(r=a),a=a.sibling;null===(a=r)?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),In(t,!1,r,a,l,t.lastEffect);break;case"backwards":for(a=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ga(e)){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}In(t,!0,a,null,l,t.lastEffect);break;case"together":In(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function An(e,t,a){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&Ur(n),t.childExpirationTime<a)return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(a=ol(e=t.child,e.pendingProps,e.expirationTime),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=ol(e,e.pendingProps,e.expirationTime)).return=t;a.sibling=null}return t.child}function On(e){e.effectTag|=4}if($)Sn=function(e,t){for(var a=t.child;null!==a;){if(5===a.tag||6===a.tag)_(e,a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Cn=function(){},Mn=function(e,t,a,n,r){if((e=e.memoizedProps)!==n){var l=t.stateNode,o=sa(oa.current);a=W(l,a,e,n,r,o),(t.updateQueue=a)&&On(t)}},wn=function(e,t,a,n){a!==n&&On(t)};else if(K){Sn=function(e,t,a,n){for(var r=t.child;null!==r;){if(5===r.tag){var l=r.stateNode;a&&n&&(l=fe(l,r.type,r.memoizedProps,r)),_(e,l)}else if(6===r.tag)l=r.stateNode,a&&n&&(l=ge(l,r.memoizedProps,r)),_(e,l);else if(4!==r.tag){if(13===r.tag&&0!=(4&r.effectTag)&&(l=null!==r.memoizedState)){var o=r.child;if(null!==o&&(null!==o.child&&(o.child.return=o,Sn(e,o,!0,l)),null!==(l=o.sibling))){l.return=r,r=l;continue}}if(null!==r.child){r.child.return=r,r=r.child;continue}}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};var Nn=function(e,t,a,n){for(var r=t.child;null!==r;){if(5===r.tag){var l=r.stateNode;a&&n&&(l=fe(l,r.type,r.memoizedProps,r)),de(e,l)}else if(6===r.tag)l=r.stateNode,a&&n&&(l=ge(l,r.memoizedProps,r)),de(e,l);else if(4!==r.tag){if(13===r.tag&&0!=(4&r.effectTag)&&(l=null!==r.memoizedState)){var o=r.child;if(null!==o&&(null!==o.child&&(o.child.return=o,Nn(e,o,!0,l)),null!==(l=o.sibling))){l.return=r,r=l;continue}}if(null!==r.child){r.child.return=r,r=r.child;continue}}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Cn=function(e){var t=e.stateNode;if(null!==e.firstEffect){var a=t.containerInfo,n=ue(a);Nn(n,e,!1,!1),t.pendingChildren=n,On(e),me(a,n)}},Mn=function(e,t,a,n,r){var l=e.stateNode,o=e.memoizedProps;if((e=null===t.firstEffect)&&o===n)t.stateNode=l;else{var i=t.stateNode,c=sa(oa.current),s=null;o!==n&&(s=W(i,a,o,n,r,c)),e&&null===s?t.stateNode=l:(l=se(l,s,a,o,n,t,e,i),D(l,a,n,r,c)&&On(t),t.stateNode=l,e?On(t):Sn(l,t,!1,!1))}},wn=function(e,t,a,n){a!==n&&(e=sa(ca.current),a=sa(oa.current),t.stateNode=z(n,e,a,t),On(t))}}else Cn=function(){},Mn=function(){},wn=function(){};function Rn(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;null!==a;)null!==a.alternate&&(n=a),a=a.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ln(e){switch(e.tag){case 1:We(e.type)&&Be();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(da(),Ue(),0!=(64&(t=e.effectTag)))throw Error(i(285));return e.effectTag=-4097&t|64,e;case 5:return pa(e),null;case 13:return Ae(fa),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return Ae(fa),null;case 4:return da(),null;case 10:return It(e),null;default:return null}}function _n(e,t){return{value:e,source:t,stack:Pe(t)}}var Dn="function"==typeof WeakSet?WeakSet:Set;function Wn(e,t){var a=t.source,n=t.stack;null===n&&null!==a&&(n=Pe(a)),null!==a&&w(a.type),t=t.value,null!==e&&1===e.tag&&w(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function Bn(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Zr(e,t)}else t.current=null}function Un(e,t){switch(t.tag){case 0:case 11:case 15:zn(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var a=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?a:St(t.type,a),n),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}function zn(e,t,a){if(null!==(a=null!==(a=a.updateQueue)?a.lastEffect:null)){var n=a=a.next;do{if(0!=(n.tag&e)){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}0!=(n.tag&t)&&(r=n.create,n.destroy=r()),n=n.next}while(n!==a)}}function Hn(e,t,a){switch("function"==typeof al&&al(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e.next;mt(97<a?97:a,(function(){var e=n;do{var a=e.destroy;if(void 0!==a){var r=t;try{a()}catch(e){Zr(r,e)}}e=e.next}while(e!==n)}))}break;case 1:Bn(t),"function"==typeof(a=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Zr(e,t)}}(t,a);break;case 5:Bn(t);break;case 4:$?Kn(e,t,a):K&&function(e){if(K){e=e.stateNode.containerInfo;var t=ue(e);pe(e,t)}}(t)}}function jn(e,t,a){for(var n=t;;)if(Hn(e,n,a),null===n.child||$&&4===n.tag){if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else n.child.return=n,n=n.child}function Vn(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&Vn(t)}function Gn(e){return 5===e.tag||3===e.tag||4===e.tag}function $n(e){if($){e:{for(var t=e.return;null!==t;){if(Gn(t)){var a=t;break e}t=t.return}throw Error(i(160))}switch(t=a.stateNode,a.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(i(161))}16&a.effectTag&&(re(t),a.effectTag&=-17);e:t:for(a=e;;){for(;null===a.sibling;){if(null===a.return||Gn(a.return)){a=null;break e}a=a.return}for(a.sibling.return=a.return,a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(2&a.effectTag)continue t;if(null===a.child||4===a.tag)continue t;a.child.return=a,a=a.child}if(!(2&a.effectTag)){a=a.stateNode;break e}}for(var r=e;;){var l=5===r.tag||6===r.tag;if(l)l=l?r.stateNode:r.stateNode.instance,a?n?te(t,l,a):ee(t,l,a):n?q(t,l):X(t,l);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}}function Kn(e,t,a){for(var n,r,l=t,o=!1;;){if(!o){o=l.return;e:for(;;){if(null===o)throw Error(i(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===l.tag||6===l.tag)jn(e,l,a),r?ne(n,l.stateNode):ae(n,l.stateNode);else if(4===l.tag){if(null!==l.child){n=l.stateNode.containerInfo,r=!0,l.child.return=l,l=l.child;continue}}else if(Hn(e,l,a),null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)break;for(;null===l.sibling;){if(null===l.return||l.return===t)return;4===(l=l.return).tag&&(o=!1)}l.sibling.return=l.return,l=l.sibling}}function Yn(e,t){if($)switch(t.tag){case 0:case 11:case 14:case 15:zn(4,8,t);break;case 1:case 12:case 17:case 20:case 21:break;case 5:var a=t.stateNode;if(null!=a){var n=t.memoizedProps;e=null!==e?e.memoizedProps:n;var r=t.type,l=t.updateQueue;t.updateQueue=null,null!==l&&J(a,l,r,e,n,t)}break;case 6:if(null===t.stateNode)throw Error(i(162));a=t.memoizedProps,Q(t.stateNode,null!==e?e.memoizedProps:a,a);break;case 3:Y&&(t=t.stateNode).hydrate&&(t.hydrate=!1,we(t.containerInfo));break;case 13:Xn(t),qn(t);break;case 19:qn(t);break;default:throw Error(i(163))}else{switch(t.tag){case 0:case 11:case 14:case 15:return void zn(4,8,t);case 12:return;case 13:return Xn(t),void qn(t);case 19:return void qn(t);case 3:Y&&(a=t.stateNode).hydrate&&(a.hydrate=!1,we(a.containerInfo))}e:if(K)switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,pe(t.containerInfo,t.pendingChildren);break e;default:throw Error(i(163))}}}function Xn(e){var t=e;if(null===e.memoizedState)var a=!1;else a=!0,t=e.child,gr=st();if($&&null!==t)e:if(e=t,$)for(t=e;;){if(5===t.tag){var n=t.stateNode;a?le(n):ie(t.stateNode,t.memoizedProps)}else if(6===t.tag)n=t.stateNode,a?oe(n):ce(n,t.memoizedProps);else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(n=t.child.sibling).return=t,t=n;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}}function qn(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var a=e.stateNode;null===a&&(a=e.stateNode=new Dn),t.forEach((function(t){var n=el.bind(null,e,t);a.has(t)||(a.add(t),t.then(n,n))}))}}var Qn="function"==typeof WeakMap?WeakMap:Map;function Zn(e,t,a){(a=_t(a,null)).tag=3,a.payload={element:null};var n=t.value;return a.callback=function(){hr||(hr=!0,br=n),Wn(e,t)},a}function Jn(e,t,a){(a=_t(a,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var r=t.value;a.payload=function(){return Wn(e,t),n(r)}}var l=e.stateNode;return null!==l&&"function"==typeof l.componentDidCatch&&(a.callback=function(){"function"!=typeof n&&(null===vr?vr=new Set([this]):vr.add(this),Wn(e,t));var a=t.stack;this.componentDidCatch(t.value,{componentStack:null!==a?a:""})}),a}var er,tr=Math.ceil,ar=c.ReactCurrentDispatcher,nr=c.ReactCurrentOwner,rr=0,lr=null,or=null,ir=0,cr=0,sr=null,ur=1073741823,dr=1073741823,mr=null,pr=0,fr=!1,gr=0,Er=null,hr=!1,br=null,vr=null,yr=!1,Fr=null,Sr=90,Cr=null,Mr=0,wr=null,kr=0;function Tr(){return 0!=(48&rr)?1073741821-(st()/10|0):0!==kr?kr:kr=1073741821-(st()/10|0)}function Pr(e,t,a){if(0==(2&(t=t.mode)))return 1073741823;var n=ut();if(0==(4&t))return 99===n?1073741823:1073741822;if(0!=(16&rr))return ir;if(null!==a)e=bt(e,0|a.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=bt(e,150,100);break;case 97:case 96:e=bt(e,5e3,250);break;case 95:e=2;break;default:throw Error(i(326))}return null!==lr&&e===ir&&--e,e}function Ir(e,t){if(50<Mr)throw Mr=0,wr=null,Error(i(185));if(null!==(e=xr(e,t))){var a=ut();1073741823===t?0!=(8&rr)&&0==(48&rr)?Rr(e):(Or(e),0===rr&&gt()):Or(e),0==(4&rr)||98!==a&&99!==a||(null===Cr?Cr=new Map([[e,t]]):(void 0===(a=Cr.get(e))||a>t)&&Cr.set(e,t))}}function xr(e,t){e.expirationTime<t&&(e.expirationTime=t);var a=e.alternate;null!==a&&a.expirationTime<t&&(a.expirationTime=t);var n=e.return,r=null;if(null===n&&3===e.tag)r=e.stateNode;else for(;null!==n;){if(a=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==a&&a.childExpirationTime<t&&(a.childExpirationTime=t),null===n.return&&3===n.tag){r=n.stateNode;break}n=n.return}return null!==r&&(lr===r&&(Ur(t),4===cr&&pl(r,ir)),fl(r,t)),r}function Ar(e){var t=e.lastExpiredTime;return 0!==t?t:ml(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function Or(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=ft(Rr.bind(null,e));else{var t=Ar(e),a=e.callbackNode;if(0===t)null!==a&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=Tr();if(n=1073741823===t?99:1===t||2===t?95:0>=(n=10*(1073741821-t)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==a){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=n)return;a!==nt&&Ke(a)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?ft(Rr.bind(null,e)):pt(n,Nr.bind(null,e),{timeout:10*(1073741821-t)-st()}),e.callbackNode=t}}}function Nr(e,t){if(kr=0,t)return gl(e,t=Tr()),Or(e),null;var a=Ar(e);if(0!==a){if(t=e.callbackNode,0!=(48&rr))throw Error(i(327));if(Xr(),e===lr&&a===ir||_r(e,a),null!==or){var n=rr;rr|=16;for(var r=Wr();;)try{Hr();break}catch(t){Dr(e,t)}if(Tt(),rr=n,ar.current=r,1===cr)throw t=sr,_r(e,a),pl(e,a),Or(e),t;if(null===or)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=a,n=cr,lr=null,n){case 0:case 1:throw Error(i(345));case 2:gl(e,2<a?2:a);break;case 3:if(pl(e,a),a===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Gr(r)),1073741823===ur&&10<(r=gr+500-st())){if(fr){var l=e.lastPingedTime;if(0===l||l>=a){e.lastPingedTime=a,_r(e,a);break}}if(0!==(l=Ar(e))&&l!==a)break;if(0!==n&&n!==a){e.lastPingedTime=n;break}e.timeoutHandle=H($r.bind(null,e),r);break}$r(e);break;case 4:if(pl(e,a),a===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Gr(r)),fr&&(0===(r=e.lastPingedTime)||r>=a)){e.lastPingedTime=a,_r(e,a);break}if(0!==(r=Ar(e))&&r!==a)break;if(0!==n&&n!==a){e.lastPingedTime=n;break}if(1073741823!==dr?n=10*(1073741821-dr)-st():1073741823===ur?n=0:(n=10*(1073741821-ur)-5e3,0>(n=(r=st())-n)&&(n=0),(a=10*(1073741821-a)-r)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*tr(n/1960))-n)&&(n=a)),10<n){e.timeoutHandle=H($r.bind(null,e),n);break}$r(e);break;case 5:if(1073741823!==ur&&null!==mr){l=ur;var o=mr;if(0>=(n=0|o.busyMinDurationMs)?n=0:(r=0|o.busyDelayMs,n=(l=st()-(10*(1073741821-l)-(0|o.timeoutMs||5e3)))<=r?0:r+n-l),10<n){pl(e,a),e.timeoutHandle=H($r.bind(null,e),n);break}}$r(e);break;default:throw Error(i(329))}if(Or(e),e.callbackNode===t)return Nr.bind(null,e)}}return null}function Rr(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)$r(e);else{if(0!=(48&rr))throw Error(i(327));if(Xr(),e===lr&&t===ir||_r(e,t),null!==or){var a=rr;rr|=16;for(var n=Wr();;)try{zr();break}catch(t){Dr(e,t)}if(Tt(),rr=a,ar.current=n,1===cr)throw a=sr,_r(e,t),pl(e,t),Or(e),a;if(null!==or)throw Error(i(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,lr=null,$r(e),Or(e)}}return null}function Lr(e,t){if(0!=(48&rr))throw Error(i(187));var a=rr;rr|=1;try{return mt(99,e.bind(null,t))}finally{rr=a,gt()}}function _r(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var a=e.timeoutHandle;if(a!==V&&(e.timeoutHandle=V,j(a)),null!==or)for(a=or.return;null!==a;){var n=a;switch(n.tag){case 1:null!=n.type.childContextTypes&&Be();break;case 3:da(),Ue();break;case 5:pa(n);break;case 4:da();break;case 13:case 19:Ae(fa);break;case 10:It(n)}a=a.return}lr=e,or=ol(e.current,null),ir=t,cr=0,sr=null,dr=ur=1073741823,mr=null,pr=0,fr=!1}function Dr(e,t){for(;;){try{if(Tt(),La(),null===or||null===or.return)return cr=1,sr=t,null;e:{var a=e,n=or.return,r=or,l=t;if(t=ir,r.effectTag|=2048,r.firstEffect=r.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var o=l,i=0!=(1&fa.current),c=n;do{var s;if(s=13===c.tag){var u=c.memoizedState;if(null!==u)s=null!==u.dehydrated;else{var d=c.memoizedProps;s=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!i)}}if(s){var m=c.updateQueue;if(null===m){var p=new Set;p.add(o),c.updateQueue=p}else m.add(o);if(0==(2&c.mode)){if(c.effectTag|=64,r.effectTag&=-2981,1===r.tag)if(null===r.alternate)r.tag=17;else{var f=_t(1073741823,null);f.tag=2,Wt(r,f)}r.expirationTime=1073741823;break e}l=void 0,r=t;var g=a.pingCache;if(null===g?(g=a.pingCache=new Qn,l=new Set,g.set(o,l)):void 0===(l=g.get(o))&&(l=new Set,g.set(o,l)),!l.has(r)){l.add(r);var E=Jr.bind(null,a,o,r);o.then(E,E)}c.effectTag|=4096,c.expirationTime=t;break e}c=c.return}while(null!==c);l=Error((w(r.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Pe(r))}5!==cr&&(cr=2),l=_n(l,r),c=n;do{switch(c.tag){case 3:o=l,c.effectTag|=4096,c.expirationTime=t,Bt(c,Zn(c,o,t));break e;case 1:o=l;var h=c.type,b=c.stateNode;if(0==(64&c.effectTag)&&("function"==typeof h.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===vr||!vr.has(b)))){c.effectTag|=4096,c.expirationTime=t,Bt(c,Jn(c,o,t));break e}}c=c.return}while(null!==c)}or=Vr(or)}catch(e){t=e;continue}break}}function Wr(){var e=ar.current;return ar.current=Za,null===e?Za:e}function Br(e,t){e<ur&&2<e&&(ur=e),null!==t&&e<dr&&2<e&&(dr=e,mr=t)}function Ur(e){e>pr&&(pr=e)}function zr(){for(;null!==or;)or=jr(or)}function Hr(){for(;null!==or&&!Ye();)or=jr(or)}function jr(e){var t=er(e.alternate,e,ir);return e.memoizedProps=e.pendingProps,null===t&&(t=Vr(e)),nr.current=null,t}function Vr(e){or=e;do{var t=or.alternate;if(e=or.return,0==(2048&or.effectTag)){e:{var a=t,n=ir,r=(t=or).pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 20:case 21:break;case 1:case 17:We(t.type)&&Be();break;case 3:da(),Ue(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===a||null===a.child)&&sn(t)&&On(t),Cn(t);break;case 5:pa(t);var l=sa(ca.current);if(n=t.type,null!==a&&null!=t.stateNode)Mn(a,t,n,r,l),a.ref!==t.ref&&(t.effectTag|=128);else if(r){if(a=sa(oa.current),sn(t)){if(r=t,!Y)throw Error(i(175));a=Se(r.stateNode,r.type,r.memoizedProps,l,a,r),r.updateQueue=a,(a=null!==a)&&On(t)}else{var o=L(n,r,l,a,t);Sn(o,t,!1,!1),t.stateNode=o,D(o,n,r,l,a)&&On(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(i(166));break;case 6:if(a&&null!=t.stateNode)wn(a,t,a.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(a=sa(ca.current),l=sa(oa.current),sn(t)){if(a=t,!Y)throw Error(i(176));(a=Ce(a.stateNode,a.memoizedProps,a))&&On(t)}else t.stateNode=z(r,a,l,t)}break;case 13:if(Ae(fa),r=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=n;break e}r=null!==r,l=!1,null===a?void 0!==t.memoizedProps.fallback&&sn(t):(l=null!==(n=a.memoizedState),r||null===n||null!==(n=a.child.sibling)&&(null!==(o=t.firstEffect)?(t.firstEffect=n,n.nextEffect=o):(t.firstEffect=t.lastEffect=n,n.nextEffect=null),n.effectTag=8)),r&&!l&&0!=(2&t.mode)&&(null===a&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&fa.current)?0===cr&&(cr=3):(0!==cr&&3!==cr||(cr=4),0!==pr&&null!==lr&&(pl(lr,ir),fl(lr,pr)))),K&&r&&(t.effectTag|=4),$&&(r||l)&&(t.effectTag|=4);break;case 4:da(),Cn(t);break;case 10:It(t);break;case 19:if(Ae(fa),null===(r=t.memoizedState))break;if(l=0!=(64&t.effectTag),null===(o=r.rendering)){if(l)Rn(r,!1);else if(0!==cr||null!==a&&0!=(64&a.effectTag))for(a=t.child;null!==a;){if(null!==(o=ga(a))){for(t.effectTag|=64,Rn(r,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,a=n,r=t.child;null!==r;)n=a,(l=r).effectTag&=2,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null,null===(o=l.alternate)?(l.childExpirationTime=0,l.expirationTime=n,l.child=null,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null):(l.childExpirationTime=o.childExpirationTime,l.expirationTime=o.expirationTime,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,n=o.dependencies,l.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),r=r.sibling;Oe(fa,1&fa.current|2),t=t.child;break e}a=a.sibling}}else{if(!l)if(null!==(a=ga(o))){if(t.effectTag|=64,l=!0,null!==(a=a.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),Rn(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate){null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null);break}}else st()>r.tailExpiration&&1<n&&(t.effectTag|=64,l=!0,Rn(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(a=r.last)?a.sibling=o:t.child=o,r.last=o)}if(null!==r.tail){0===r.tailExpiration&&(r.tailExpiration=st()+500),a=r.tail,r.rendering=a,r.tail=a.sibling,r.lastEffect=t.lastEffect,a.sibling=null,r=fa.current,Oe(fa,r=l?1&r|2:1&r),t=a;break e}break;default:throw Error(i(156,t.tag))}t=null}if(a=or,1===ir||1!==a.childExpirationTime){for(r=0,l=a.child;null!==l;)(n=l.expirationTime)>r&&(r=n),(o=l.childExpirationTime)>r&&(r=o),l=l.sibling;a.childExpirationTime=r}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=or.firstEffect),null!==or.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=or.firstEffect),e.lastEffect=or.lastEffect),1<or.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=or:e.firstEffect=or,e.lastEffect=or))}else{if(null!==(t=Ln(or)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=or.sibling))return t;or=e}while(null!==or);return 0===cr&&(cr=5),null}function Gr(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function $r(e){var t=ut();return mt(99,Kr.bind(null,e,t)),null}function Kr(e,t){do{Xr()}while(null!==Fr);if(0!=(48&rr))throw Error(i(327));var a=e.finishedWork,n=e.finishedExpirationTime;if(null===a)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,a===e.current)throw Error(i(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=Gr(a);if(e.firstPendingTime=r,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===lr&&(or=lr=null,ir=0),1<a.effectTag?null!==a.lastEffect?(a.lastEffect.nextEffect=a,r=a.firstEffect):r=a:r=a.firstEffect,null!==r){var l=rr;rr|=32,nr.current=null,N(e.containerInfo),Er=r;do{try{Yr()}catch(e){if(null===Er)throw Error(i(330));Zr(Er,e),Er=Er.nextEffect}}while(null!==Er);Er=r;do{try{for(var o=e,c=t;null!==Er;){var s=Er.effectTag;if(16&s&&$&&re(Er.stateNode),128&s){var u=Er.alternate;if(null!==u){var d=u.ref;null!==d&&("function"==typeof d?d(null):d.current=null)}}switch(1038&s){case 2:$n(Er),Er.effectTag&=-3;break;case 6:$n(Er),Er.effectTag&=-3,Yn(Er.alternate,Er);break;case 1024:Er.effectTag&=-1025;break;case 1028:Er.effectTag&=-1025,Yn(Er.alternate,Er);break;case 4:Yn(Er.alternate,Er);break;case 8:var m=o,p=Er,f=c;$?Kn(m,p,f):jn(m,p,f),Vn(p)}Er=Er.nextEffect}}catch(e){if(null===Er)throw Error(i(330));Zr(Er,e),Er=Er.nextEffect}}while(null!==Er);R(e.containerInfo),e.current=a,Er=r;do{try{for(s=n;null!==Er;){var g=Er.effectTag;if(36&g){var E=Er.alternate;switch(d=s,(u=Er).tag){case 0:case 11:case 15:zn(16,32,u);break;case 1:var h=u.stateNode;if(4&u.effectTag)if(null===E)h.componentDidMount();else{var b=u.elementType===u.type?E.memoizedProps:St(u.type,E.memoizedProps);h.componentDidUpdate(b,E.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=u.updateQueue;null!==v&&jt(0,v,h);break;case 3:var y=u.updateQueue;if(null!==y){if(o=null,null!==u.child)switch(u.child.tag){case 5:o=x(u.child.stateNode);break;case 1:o=u.child.stateNode}jt(0,y,o)}break;case 5:var F=u.stateNode;null===E&&4&u.effectTag&&Z(F,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 20:case 21:break;case 13:if(Y&&null===u.memoizedState){var S=u.alternate;if(null!==S){var C=S.memoizedState;if(null!==C){var M=C.dehydrated;null!==M&&ke(M)}}}break;default:throw Error(i(163))}}if(128&g){u=void 0;var w=Er.ref;if(null!==w){var k=Er.stateNode;u=5===Er.tag?x(k):k,"function"==typeof w?w(u):w.current=u}}Er=Er.nextEffect}}catch(e){if(null===Er)throw Error(i(330));Zr(Er,e),Er=Er.nextEffect}}while(null!==Er);Er=null,rt(),rr=l}else e.current=a;if(yr)yr=!1,Fr=e,Sr=t;else for(Er=r;null!==Er;)t=Er.nextEffect,Er.nextEffect=null,Er=t;if(0===(t=e.firstPendingTime)&&(vr=null),1073741823===t?e===wr?Mr++:(Mr=0,wr=e):Mr=0,"function"==typeof tl&&tl(a.stateNode,n),Or(e),hr)throw hr=!1,e=br,br=null,e;return 0!=(8&rr)||gt(),null}function Yr(){for(;null!==Er;){var e=Er.effectTag;0!=(256&e)&&Un(Er.alternate,Er),0==(512&e)||yr||(yr=!0,pt(97,(function(){return Xr(),null}))),Er=Er.nextEffect}}function Xr(){if(90!==Sr){var e=97<Sr?97:Sr;return Sr=90,mt(e,qr)}}function qr(){if(null===Fr)return!1;var e=Fr;if(Fr=null,0!=(48&rr))throw Error(i(331));var t=rr;for(rr|=32,e=e.current.firstEffect;null!==e;){try{var a=e;if(0!=(512&a.effectTag))switch(a.tag){case 0:case 11:case 15:zn(128,0,a),zn(0,64,a)}}catch(t){if(null===e)throw Error(i(330));Zr(e,t)}a=e.nextEffect,e.nextEffect=null,e=a}return rr=t,gt(),!0}function Qr(e,t,a){Wt(e,t=Zn(e,t=_n(a,t),1073741823)),null!==(e=xr(e,1073741823))&&Or(e)}function Zr(e,t){if(3===e.tag)Qr(e,e,t);else for(var a=e.return;null!==a;){if(3===a.tag){Qr(a,e,t);break}if(1===a.tag){var n=a.stateNode;if("function"==typeof a.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===vr||!vr.has(n))){Wt(a,e=Jn(a,e=_n(t,e),1073741823)),null!==(a=xr(a,1073741823))&&Or(a);break}}a=a.return}}function Jr(e,t,a){var n=e.pingCache;null!==n&&n.delete(t),lr===e&&ir===a?4===cr||3===cr&&1073741823===ur&&st()-gr<500?_r(e,ir):fr=!0:ml(e,a)&&(0!==(t=e.lastPingedTime)&&t<a||(e.lastPingedTime=a,e.finishedExpirationTime===a&&(e.finishedExpirationTime=0,e.finishedWork=null),Or(e)))}function el(e,t){var a=e.stateNode;null!==a&&a.delete(t),0==(t=0)&&(t=Pr(t=Tr(),e,null)),null!==(e=xr(e,t))&&Or(e)}er=function(e,t,a){var n=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||Le.current)mn=!0;else{if(n<a){switch(mn=!1,t.tag){case 3:Fn(t),un();break;case 5:if(ma(t),4&t.mode&&1!==a&&U(t.type,r))return t.expirationTime=t.childExpirationTime=1,null;break;case 1:We(t.type)&&je(t);break;case 4:ua(t,t.stateNode.containerInfo);break;case 10:Pt(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=a?Tn(e,t,a):(Oe(fa,1&fa.current),null!==(t=An(e,t,a))?t.sibling:null);Oe(fa,1&fa.current);break;case 19:if(n=t.childExpirationTime>=a,0!=(64&e.effectTag)){if(n)return xn(e,t,a);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),Oe(fa,fa.current),!n)return null}return An(e,t,a)}mn=!1}}else mn=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=De(t,Re.current),At(t,a),r=Ra(null,t,n,e,r,a),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,La(),We(n)){var l=!0;je(t)}else l=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null;var o=n.getDerivedStateFromProps;"function"==typeof o&&Kt(t,n,o,e),r.updater=Yt,t.stateNode=r,r._reactInternalFiber=t,Zt(t,n,e,a),t=yn(null,t,n,!0,l,a)}else t.tag=0,pn(null,t,r,a),t=t.child;return t;case 16:if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,l=t.tag=function(e){if("function"==typeof e)return ll(e)?1:0;if(null!=e){if((e=e.$$typeof)===b)return 11;if(e===F)return 14}return 2}(r),e=St(r,e),l){case 0:t=bn(null,t,r,e,a);break;case 1:t=vn(null,t,r,e,a);break;case 11:t=fn(null,t,r,e,a);break;case 14:t=gn(null,t,r,St(r.type,e),n,a);break;default:throw Error(i(306,r,""))}return t;case 0:return n=t.type,r=t.pendingProps,bn(e,t,n,r=t.elementType===n?r:St(n,r),a);case 1:return n=t.type,r=t.pendingProps,vn(e,t,n,r=t.elementType===n?r:St(n,r),a);case 3:if(Fn(t),null===(n=t.updateQueue))throw Error(i(282));if(r=null!==(r=t.memoizedState)?r.element:null,Ht(t,n,t.pendingProps,null,a),(n=t.memoizedState.element)===r)un(),t=An(e,t,a);else{if((r=t.stateNode.hydrate)&&(Y?(an=Fe(t.stateNode.containerInfo),tn=t,r=nn=!0):r=!1),r)for(a=ra(t,null,n,a),t.child=a;a;)a.effectTag=-3&a.effectTag|1024,a=a.sibling;else pn(e,t,n,a),un();t=t.child}return t;case 5:return ma(t),null===e&&on(t),n=t.type,r=t.pendingProps,l=null!==e?e.memoizedProps:null,o=r.children,B(n,r)?o=null:null!==l&&B(n,l)&&(t.effectTag|=16),hn(e,t),4&t.mode&&1!==a&&U(n,r)?(t.expirationTime=t.childExpirationTime=1,t=null):(pn(e,t,o,a),t=t.child),t;case 6:return null===e&&on(t),null;case 13:return Tn(e,t,a);case 4:return ua(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=na(t,null,n,a):pn(e,t,n,a),t.child;case 11:return n=t.type,r=t.pendingProps,fn(e,t,n,r=t.elementType===n?r:St(n,r),a);case 7:return pn(e,t,t.pendingProps,a),t.child;case 8:case 12:return pn(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(n=t.type._context,r=t.pendingProps,o=t.memoizedProps,Pt(t,l=r.value),null!==o){var c=o.value;if(0==(l=vt(c,l)?0:0|("function"==typeof n._calculateChangedBits?n._calculateChangedBits(c,l):1073741823))){if(o.children===r.children&&!Le.current){t=An(e,t,a);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var s=c.dependencies;if(null!==s){o=c.child;for(var u=s.firstContext;null!==u;){if(u.context===n&&0!=(u.observedBits&l)){1===c.tag&&((u=_t(a,null)).tag=2,Wt(c,u)),c.expirationTime<a&&(c.expirationTime=a),null!==(u=c.alternate)&&u.expirationTime<a&&(u.expirationTime=a),xt(c.return,a),s.expirationTime<a&&(s.expirationTime=a);break}u=u.next}}else o=10===c.tag&&c.type===t.type?null:c.child;if(null!==o)o.return=c;else for(o=c;null!==o;){if(o===t){o=null;break}if(null!==(c=o.sibling)){c.return=o.return,o=c;break}o=o.return}c=o}}pn(e,t,r.children,a),t=t.child}return t;case 9:return r=t.type,n=(l=t.pendingProps).children,At(t,a),n=n(r=Ot(r,l.unstable_observedBits)),t.effectTag|=1,pn(e,t,n,a),t.child;case 14:return l=St(r=t.type,t.pendingProps),gn(e,t,r,l=St(r.type,l),n,a);case 15:return En(e,t,t.type,t.pendingProps,n,a);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:St(n,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,We(n)?(e=!0,je(t)):e=!1,At(t,a),qt(t,n,r),Zt(t,n,r,a),yn(null,t,n,!0,e,a);case 19:return xn(e,t,a)}throw Error(i(156,t.tag))};var tl=null,al=null;function nl(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function rl(e,t,a,n){return new nl(e,t,a,n)}function ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ol(e,t){var a=e.alternate;return null===a?((a=rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.effectTag=0,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null),a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function il(e,t,a,n,r,l){var o=2;if(n=e,"function"==typeof e)ll(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case m:return cl(a.children,r,l,t);case h:o=8,r|=7;break;case p:o=8,r|=1;break;case f:return(e=rl(12,a,t,8|r)).elementType=f,e.type=f,e.expirationTime=l,e;case v:return(e=rl(13,a,t,r)).type=v,e.elementType=v,e.expirationTime=l,e;case y:return(e=rl(19,a,t,r)).elementType=y,e.expirationTime=l,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case g:o=10;break e;case E:o=9;break e;case b:o=11;break e;case F:o=14;break e;case S:o=16,n=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=rl(o,a,t,r)).elementType=e,t.type=n,t.expirationTime=l,t}function cl(e,t,a,n){return(e=rl(7,e,n,t)).expirationTime=a,e}function sl(e,t,a){return(e=rl(6,e,null,t)).expirationTime=a,e}function ul(e,t,a){return(t=rl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dl(e,t,a){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=V,this.pendingContext=this.context=null,this.hydrate=a,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ml(e,t){var a=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==a&&a>=t&&e<=t}function pl(e,t){var a=e.firstSuspendedTime,n=e.lastSuspendedTime;a<t&&(e.firstSuspendedTime=t),(n>t||0===a)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function fl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var a=e.firstSuspendedTime;0!==a&&(t>=a?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function gl(e,t){var a=e.lastExpiredTime;(0===a||a>t)&&(e.lastExpiredTime=t)}function El(e){var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return null===(e=I(t))?null:e.stateNode}function hl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function bl(e,t){hl(e,t),(e=e.alternate)&&hl(e,t)}var vl={createContainer:function(e,t,a){return e=new dl(e,t,a),t=rl(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e},updateContainer:function(e,t,a,n){var r=t.current,l=Tr(),o=Gt.suspense;l=Pr(l,r,o);e:if(a){t:{if(k(a=a._reactInternalFiber)!==a||1!==a.tag)throw Error(i(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(We(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(i(171))}if(1===a.tag){var s=a.type;if(We(s)){a=He(a,s,c);break e}}a=c}else a=Ne;return null===t.context?t.context=a:t.pendingContext=a,(t=_t(l,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),Wt(r,t),Ir(r,l),l},batchedEventUpdates:function(e,t){var a=rr;rr|=2;try{return e(t)}finally{0===(rr=a)&&gt()}},batchedUpdates:function(e,t){var a=rr;rr|=1;try{return e(t)}finally{0===(rr=a)&&gt()}},unbatchedUpdates:function(e,t){var a=rr;rr&=-2,rr|=8;try{return e(t)}finally{0===(rr=a)&&gt()}},deferredUpdates:function(e){return mt(97,e)},syncUpdates:function(e,t,a,n){return mt(99,e.bind(null,t,a,n))},discreteUpdates:function(e,t,a,n){var r=rr;rr|=4;try{return mt(98,e.bind(null,t,a,n))}finally{0===(rr=r)&&gt()}},flushDiscreteUpdates:function(){0==(49&rr)&&(function(){if(null!==Cr){var e=Cr;Cr=null,e.forEach((function(e,t){gl(t,e),Or(t)})),gt()}}(),Xr())},flushControlled:function(e){var t=rr;rr|=1;try{mt(99,e)}finally{0===(rr=t)&&gt()}},flushSync:Lr,flushPassiveEffects:Xr,IsThisRendererActing:{current:!1},getPublicRootInstance:function(e){return(e=e.current).child?5===e.child.tag?x(e.child.stateNode):e.child.stateNode:null},attemptSynchronousHydration:function(e){switch(e.tag){case 3:var t=e.stateNode;t.hydrate&&function(e,t){gl(e,t),Or(e),0==(48&rr)&&gt()}(t,t.firstPendingTime);break;case 13:Lr((function(){return Ir(e,1073741823)})),t=bt(Tr(),150,100),bl(e,t)}},attemptUserBlockingHydration:function(e){if(13===e.tag){var t=bt(Tr(),150,100);Ir(e,t),bl(e,t)}},attemptContinuousHydration:function(e){if(13===e.tag){Tr();var t=ht++;Ir(e,t),bl(e,t)}},attemptHydrationAtCurrentPriority:function(e){if(13===e.tag){var t=Tr();Ir(e,t=Pr(t,e,null)),bl(e,t)}},findHostInstance:El,findHostInstanceWithWarning:function(e){return El(e)},findHostInstanceWithNoPortals:function(e){return null===(e=function(e){if(!(e=P(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},shouldSuspend:function(){return!1},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var a=t.inject(e);tl=function(e){try{t.onCommitFiberRoot(a,e,void 0,64==(64&e.current.effectTag))}catch(e){}},al=function(e){try{t.onCommitFiberUnmount(a,e)}catch(e){}}}catch(e){}return!0}(r({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=I(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}};e.exports=vl.default||vl;var yl=e.exports;return e.exports=t,yl}},74054:(e,t,a)=>{"use strict";e.exports=a(46430)},53414:(e,t)=>{"use strict";var a,n,r,l,o;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var i=null,c=null,s=function(){if(null!==i)try{var e=t.unstable_now();i(!0,e),i=null}catch(e){throw setTimeout(s,0),e}},u=Date.now();t.unstable_now=function(){return Date.now()-u},a=function(e){null!==i?setTimeout(a,0,e):(i=e,setTimeout(s,0))},n=function(e,t){c=setTimeout(e,t)},r=function(){clearTimeout(c)},l=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,m=window.Date,p=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var E=m.now();t.unstable_now=function(){return m.now()-E}}var h=!1,b=null,v=-1,y=5,F=0;l=function(){return t.unstable_now()>=F},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):y=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,C=S.port2;S.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();F=e+y;try{b(!0,e)?C.postMessage(null):(h=!1,b=null)}catch(e){throw C.postMessage(null),e}}else h=!1},a=function(e){b=e,h||(h=!0,C.postMessage(null))},n=function(e,a){v=p((function(){e(t.unstable_now())}),a)},r=function(){f(v),v=-1}}function M(e,t){var a=e.length;e.push(t);e:for(;;){var n=Math.floor((a-1)/2),r=e[n];if(!(void 0!==r&&0<T(r,t)))break e;e[n]=t,e[a]=r,a=n}}function w(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,r=e.length;n<r;){var l=2*(n+1)-1,o=e[l],i=l+1,c=e[i];if(void 0!==o&&0>T(o,a))void 0!==c&&0>T(c,o)?(e[n]=c,e[i]=a,n=i):(e[n]=o,e[l]=a,n=l);else{if(!(void 0!==c&&0>T(c,a)))break e;e[n]=c,e[i]=a,n=i}}}return t}return null}function T(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}var P=[],I=[],x=1,A=null,O=3,N=!1,R=!1,L=!1;function _(e){for(var t=w(I);null!==t;){if(null===t.callback)k(I);else{if(!(t.startTime<=e))break;k(I),t.sortIndex=t.expirationTime,M(P,t)}t=w(I)}}function D(e){if(L=!1,_(e),!R)if(null!==w(P))R=!0,a(W);else{var t=w(I);null!==t&&n(D,t.startTime-e)}}function W(e,a){R=!1,L&&(L=!1,r()),N=!0;var o=O;try{for(_(a),A=w(P);null!==A&&(!(A.expirationTime>a)||e&&!l());){var i=A.callback;if(null!==i){A.callback=null,O=A.priorityLevel;var c=i(A.expirationTime<=a);a=t.unstable_now(),"function"==typeof c?A.callback=c:A===w(P)&&k(P),_(a)}else k(P);A=w(P)}if(null!==A)var s=!0;else{var u=w(I);null!==u&&n(D,u.startTime-a),s=!1}return s}finally{A=null,O=o,N=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=o;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=O;O=e;try{return t()}finally{O=a}},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var a=O;O=t;try{return e()}finally{O=a}},t.unstable_scheduleCallback=function(e,l,o){var i=t.unstable_now();if("object"==typeof o&&null!==o){var c=o.delay;c="number"==typeof c&&0<c?i+c:i,o="number"==typeof o.timeout?o.timeout:B(e)}else o=B(e),c=i;return e={id:x++,callback:l,priorityLevel:e,startTime:c,expirationTime:o=c+o,sortIndex:-1},c>i?(e.sortIndex=c,M(I,e),null===w(P)&&e===w(I)&&(L?r():L=!0,n(D,c-i))):(e.sortIndex=o,M(P,e),R||N||(R=!0,a(W))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=O;return function(){var a=O;O=t;try{return e.apply(this,arguments)}finally{O=a}}},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_shouldYield=function(){var e=t.unstable_now();_(e);var a=w(P);return a!==A&&null!==A&&null!==a&&null!==a.callback&&a.startTime<=e&&a.expirationTime<A.expirationTime||l()},t.unstable_requestPaint=U,t.unstable_continueExecution=function(){R||N||(R=!0,a(W))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return w(P)},t.unstable_Profiling=null},26990:(e,t,a)=>{"use strict";e.exports=a(53414)},7255:(e,t,a)=>{"use strict";var n=a(44744),r="function"==typeof Symbol&&Symbol.for,l=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,m=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,E="function"==typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,a){this.props=e,this.context=t,this.refs=v,this.updater=a||b}function F(){}function S(e,t,a){this.props=e,this.context=t,this.refs=v,this.updater=a||b}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},F.prototype=y.prototype;var C=S.prototype=new F;C.constructor=S,n(C,y.prototype),C.isPureReactComponent=!0;var M={current:null},w=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,a){var n,r={},o=null,i=null;if(null!=t)for(n in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,n)&&!k.hasOwnProperty(n)&&(r[n]=t[n]);var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){for(var s=Array(c),u=0;u<c;u++)s[u]=arguments[u+2];r.children=s}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===r[n]&&(r[n]=c[n]);return{$$typeof:l,type:e,key:o,ref:i,props:r,_owner:M.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var I=/\/+/g,x=[];function A(e,t,a,n){if(x.length){var r=x.pop();return r.result=e,r.keyPrefix=t,r.func=a,r.context=n,r.count=0,r}return{result:e,keyPrefix:t,func:a,context:n,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>x.length&&x.push(e)}function N(e,t,a,n){var r=typeof e;"undefined"!==r&&"boolean"!==r||(e=null);var i=!1;if(null===e)i=!0;else switch(r){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case l:case o:i=!0}}if(i)return a(n,e,""===t?"."+L(e,0):t),1;if(i=0,t=""===t?".":t+":",Array.isArray(e))for(var c=0;c<e.length;c++){var s=t+L(r=e[c],c);i+=N(r,s,a,n)}else if("function"==typeof(s=null===e||"object"!=typeof e?null:"function"==typeof(s=E&&e[E]||e["@@iterator"])?s:null))for(e=s.call(e),c=0;!(r=e.next()).done;)i+=N(r=r.value,s=t+L(r,c++),a,n);else if("object"===r)throw a=""+e,Error(h(31,"[object Object]"===a?"object with keys {"+Object.keys(e).join(", ")+"}":a,""));return i}function R(e,t,a){return null==e?0:N(e,"",t,a)}function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function _(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,a){var n=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?W(e,n,a,(function(e){return e})):null!=e&&(P(e)&&(e=function(e,t){return{$$typeof:l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+a)),n.push(e))}function W(e,t,a,n,r){var l="";null!=a&&(l=(""+a).replace(I,"$&/")+"/"),R(e,D,t=A(t,l,n,r)),O(t)}var B={current:null};function U(){var e=B.current;if(null===e)throw Error(h(321));return e}var z={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:M,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,a){if(null==e)return e;var n=[];return W(e,n,null,t,a),n},forEach:function(e,t,a){if(null==e)return e;R(e,_,t=A(null,null,t,a)),O(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return W(e,t,null,(function(e){return e})),t},only:function(e){if(!P(e))throw Error(h(143));return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=S,t.StrictMode=c,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,a){if(null==e)throw Error(h(267,e));var r=n({},e.props),o=e.key,i=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,c=M.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)w.call(t,u)&&!k.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=a;else if(1<u){s=Array(u);for(var d=0;d<u;d++)s[d]=arguments[d+2];r.children=s}return{$$typeof:l,type:e.type,key:o,ref:i,props:r,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:m,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,a){return U().useImperativeHandle(e,t,a)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,a){return U().useReducer(e,t,a)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.13.1"},3464:(e,t,a)=>{"use strict";e.exports=a(7255)},63624:(e,t,a)=>{"use strict";var n=a(47897);e.exports={isRtlLang:n.isRtlLang,getLangDir:n.getLangDir}},47897:e=>{"use strict";var t,a=t={_regexEscape:/([\.\*\+\^\$\[\]\\\(\)\|\{\}\,\-\:\?])/g,_regexParseLocale:/^([a-zA-Z]*)([_\-a-zA-Z]*)$/,_escapeRegExpPattern:function(e){return"string"!=typeof e?e:e.replace(t._regexEscape,"\\$1")},_toLowerCase:function(e,t){return"string"!=typeof e?t&&e:e.toLowerCase()},_toUpperCase:function(e,t){return"string"!=typeof e?t&&e:e.toUpperCase()},_trim:function(e,a,n){var r,l=[],o=function(e){l.push("^"+e+"+|"+e+"+$")};if("boolean"==typeof a&&(n=a,a=null),"string"!=typeof e)return n&&e;if(Array.isArray(a)&&a.map((function(e){var a=t._escapeRegExpPattern(e);o(a)})),"string"==typeof a){var i=t._escapeRegExpPattern(a);o(i)}a||o("\\s");var c="("+l.join("|")+")";for(r=new RegExp(c,"g");e.match(r);)e=e.replace(r,"");return e},_parseLocale:function(e){var a,n=t._regexParseLocale.exec(e);if(e&&n)return n[2]=t._trim(n[2],["-","_"]),{lang:t._toLowerCase(n[1]),countryCode:a=t._toUpperCase(n[2])||a}},isRtlLang:function(e){var a=t._parseLocale(e);if(a)return t._BIDI_RTL_LANGS.indexOf(a.lang)>=0},getLangDir:function(e){return t.isRtlLang(e)?"rtl":"ltr"}};Object.defineProperty(t,"_BIDI_RTL_LANGS",{value:["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"],writable:!1,enumerable:!0,configurable:!1}),e.exports=a},89925:()=>{},52910:(e,t,a)=>{"use strict";a.d(t,{facet:()=>s,shallowObjectEqualityCheck:()=>c,strictShallowObjectEqualityCheck:()=>i});var n=a(68912);a.o(n,"DeferredMount")&&a.d(t,{DeferredMount:function(){return n.DeferredMount}}),a.o(n,"DeferredMountProvider")&&a.d(t,{DeferredMountProvider:function(){return n.DeferredMountProvider}}),a.o(n,"DeferredMountWithCallback")&&a.d(t,{DeferredMountWithCallback:function(){return n.DeferredMountWithCallback}}),a.o(n,"Map")&&a.d(t,{Map:function(){return n.Map}}),a.o(n,"Mount")&&a.d(t,{Mount:function(){return n.Mount}}),a.o(n,"NO_VALUE")&&a.d(t,{NO_VALUE:function(){return n.NO_VALUE}}),a.o(n,"PauseMountProvider")&&a.d(t,{PauseMountProvider:function(){return n.PauseMountProvider}}),a.o(n,"SharedFacetDriverProvider")&&a.d(t,{SharedFacetDriverProvider:function(){return n.SharedFacetDriverProvider}}),a.o(n,"With")&&a.d(t,{With:function(){return n.With}}),a.o(n,"createFacet")&&a.d(t,{createFacet:function(){return n.createFacet}}),a.o(n,"createFacetContext")&&a.d(t,{createFacetContext:function(){return n.createFacetContext}}),a.o(n,"createPortal")&&a.d(t,{createPortal:function(){return n.createPortal}}),a.o(n,"createStaticFacet")&&a.d(t,{createStaticFacet:function(){return n.createStaticFacet}}),a.o(n,"createUniformArrayEqualityCheck")&&a.d(t,{createUniformArrayEqualityCheck:function(){return n.createUniformArrayEqualityCheck}}),a.o(n,"isFacet")&&a.d(t,{isFacet:function(){return n.isFacet}}),a.o(n,"multiObserve")&&a.d(t,{multiObserve:function(){return n.multiObserve}}),a.o(n,"render")&&a.d(t,{render:function(){return n.render}}),a.o(n,"sharedDynamicSelector")&&a.d(t,{sharedDynamicSelector:function(){return n.sharedDynamicSelector}}),a.o(n,"sharedFacet")&&a.d(t,{sharedFacet:function(){return n.sharedFacet}}),a.o(n,"sharedSelector")&&a.d(t,{sharedSelector:function(){return n.sharedSelector}}),a.o(n,"useFacetCallback")&&a.d(t,{useFacetCallback:function(){return n.useFacetCallback}}),a.o(n,"useFacetEffect")&&a.d(t,{useFacetEffect:function(){return n.useFacetEffect}}),a.o(n,"useFacetLayoutEffect")&&a.d(t,{useFacetLayoutEffect:function(){return n.useFacetLayoutEffect}}),a.o(n,"useFacetMap")&&a.d(t,{useFacetMap:function(){return n.useFacetMap}}),a.o(n,"useFacetMemo")&&a.d(t,{useFacetMemo:function(){return n.useFacetMemo}}),a.o(n,"useFacetRef")&&a.d(t,{useFacetRef:function(){return n.useFacetRef}}),a.o(n,"useFacetState")&&a.d(t,{useFacetState:function(){return n.useFacetState}}),a.o(n,"useFacetUnwrap")&&a.d(t,{useFacetUnwrap:function(){return n.useFacetUnwrap}}),a.o(n,"useFacetWrap")&&a.d(t,{useFacetWrap:function(){return n.useFacetWrap}}),a.o(n,"useIsDeferring")&&a.d(t,{useIsDeferring:function(){return n.useIsDeferring}}),a.o(n,"useIsPaused")&&a.d(t,{useIsPaused:function(){return n.useIsPaused}}),a.o(n,"useNotifyMountComplete")&&a.d(t,{useNotifyMountComplete:function(){return n.useNotifyMountComplete}}),a.o(n,"useSharedFacet")&&a.d(t,{useSharedFacet:function(){return n.useSharedFacet}});var r=a(31545);a.o(r,"DeferredMount")&&a.d(t,{DeferredMount:function(){return r.DeferredMount}}),a.o(r,"DeferredMountProvider")&&a.d(t,{DeferredMountProvider:function(){return r.DeferredMountProvider}}),a.o(r,"DeferredMountWithCallback")&&a.d(t,{DeferredMountWithCallback:function(){return r.DeferredMountWithCallback}}),a.o(r,"Map")&&a.d(t,{Map:function(){return r.Map}}),a.o(r,"Mount")&&a.d(t,{Mount:function(){return r.Mount}}),a.o(r,"NO_VALUE")&&a.d(t,{NO_VALUE:function(){return r.NO_VALUE}}),a.o(r,"PauseMountProvider")&&a.d(t,{PauseMountProvider:function(){return r.PauseMountProvider}}),a.o(r,"SharedFacetDriverProvider")&&a.d(t,{SharedFacetDriverProvider:function(){return r.SharedFacetDriverProvider}}),a.o(r,"With")&&a.d(t,{With:function(){return r.With}}),a.o(r,"createFacet")&&a.d(t,{createFacet:function(){return r.createFacet}}),a.o(r,"createFacetContext")&&a.d(t,{createFacetContext:function(){return r.createFacetContext}}),a.o(r,"createPortal")&&a.d(t,{createPortal:function(){return r.createPortal}}),a.o(r,"createStaticFacet")&&a.d(t,{createStaticFacet:function(){return r.createStaticFacet}}),a.o(r,"createUniformArrayEqualityCheck")&&a.d(t,{createUniformArrayEqualityCheck:function(){return r.createUniformArrayEqualityCheck}}),a.o(r,"isFacet")&&a.d(t,{isFacet:function(){return r.isFacet}}),a.o(r,"multiObserve")&&a.d(t,{multiObserve:function(){return r.multiObserve}}),a.o(r,"render")&&a.d(t,{render:function(){return r.render}}),a.o(r,"sharedDynamicSelector")&&a.d(t,{sharedDynamicSelector:function(){return r.sharedDynamicSelector}}),a.o(r,"sharedFacet")&&a.d(t,{sharedFacet:function(){return r.sharedFacet}}),a.o(r,"sharedSelector")&&a.d(t,{sharedSelector:function(){return r.sharedSelector}}),a.o(r,"useFacetCallback")&&a.d(t,{useFacetCallback:function(){return r.useFacetCallback}}),a.o(r,"useFacetEffect")&&a.d(t,{useFacetEffect:function(){return r.useFacetEffect}}),a.o(r,"useFacetLayoutEffect")&&a.d(t,{useFacetLayoutEffect:function(){return r.useFacetLayoutEffect}}),a.o(r,"useFacetMap")&&a.d(t,{useFacetMap:function(){return r.useFacetMap}}),a.o(r,"useFacetMemo")&&a.d(t,{useFacetMemo:function(){return r.useFacetMemo}}),a.o(r,"useFacetRef")&&a.d(t,{useFacetRef:function(){return r.useFacetRef}}),a.o(r,"useFacetState")&&a.d(t,{useFacetState:function(){return r.useFacetState}}),a.o(r,"useFacetUnwrap")&&a.d(t,{useFacetUnwrap:function(){return r.useFacetUnwrap}}),a.o(r,"useFacetWrap")&&a.d(t,{useFacetWrap:function(){return r.useFacetWrap}}),a.o(r,"useIsDeferring")&&a.d(t,{useIsDeferring:function(){return r.useIsDeferring}}),a.o(r,"useIsPaused")&&a.d(t,{useIsPaused:function(){return r.useIsPaused}}),a.o(r,"useNotifyMountComplete")&&a.d(t,{useNotifyMountComplete:function(){return r.useNotifyMountComplete}}),a.o(r,"useSharedFacet")&&a.d(t,{useSharedFacet:function(){return r.useSharedFacet}});var l=a(69358);a.o(l,"DeferredMount")&&a.d(t,{DeferredMount:function(){return l.DeferredMount}}),a.o(l,"DeferredMountProvider")&&a.d(t,{DeferredMountProvider:function(){return l.DeferredMountProvider}}),a.o(l,"DeferredMountWithCallback")&&a.d(t,{DeferredMountWithCallback:function(){return l.DeferredMountWithCallback}}),a.o(l,"Map")&&a.d(t,{Map:function(){return l.Map}}),a.o(l,"Mount")&&a.d(t,{Mount:function(){return l.Mount}}),a.o(l,"NO_VALUE")&&a.d(t,{NO_VALUE:function(){return l.NO_VALUE}}),a.o(l,"PauseMountProvider")&&a.d(t,{PauseMountProvider:function(){return l.PauseMountProvider}}),a.o(l,"SharedFacetDriverProvider")&&a.d(t,{SharedFacetDriverProvider:function(){return l.SharedFacetDriverProvider}}),a.o(l,"With")&&a.d(t,{With:function(){return l.With}}),a.o(l,"createFacet")&&a.d(t,{createFacet:function(){return l.createFacet}}),a.o(l,"createFacetContext")&&a.d(t,{createFacetContext:function(){return l.createFacetContext}}),a.o(l,"createPortal")&&a.d(t,{createPortal:function(){return l.createPortal}}),a.o(l,"createStaticFacet")&&a.d(t,{createStaticFacet:function(){return l.createStaticFacet}}),a.o(l,"createUniformArrayEqualityCheck")&&a.d(t,{createUniformArrayEqualityCheck:function(){return l.createUniformArrayEqualityCheck}}),a.o(l,"isFacet")&&a.d(t,{isFacet:function(){return l.isFacet}}),a.o(l,"multiObserve")&&a.d(t,{multiObserve:function(){return l.multiObserve}}),a.o(l,"render")&&a.d(t,{render:function(){return l.render}}),a.o(l,"sharedDynamicSelector")&&a.d(t,{sharedDynamicSelector:function(){return l.sharedDynamicSelector}}),a.o(l,"sharedFacet")&&a.d(t,{sharedFacet:function(){return l.sharedFacet}}),a.o(l,"sharedSelector")&&a.d(t,{sharedSelector:function(){return l.sharedSelector}}),a.o(l,"useFacetCallback")&&a.d(t,{useFacetCallback:function(){return l.useFacetCallback}}),a.o(l,"useFacetEffect")&&a.d(t,{useFacetEffect:function(){return l.useFacetEffect}}),a.o(l,"useFacetLayoutEffect")&&a.d(t,{useFacetLayoutEffect:function(){return l.useFacetLayoutEffect}}),a.o(l,"useFacetMap")&&a.d(t,{useFacetMap:function(){return l.useFacetMap}}),a.o(l,"useFacetMemo")&&a.d(t,{useFacetMemo:function(){return l.useFacetMemo}}),a.o(l,"useFacetRef")&&a.d(t,{useFacetRef:function(){return l.useFacetRef}}),a.o(l,"useFacetState")&&a.d(t,{useFacetState:function(){return l.useFacetState}}),a.o(l,"useFacetUnwrap")&&a.d(t,{useFacetUnwrap:function(){return l.useFacetUnwrap}}),a.o(l,"useFacetWrap")&&a.d(t,{useFacetWrap:function(){return l.useFacetWrap}}),a.o(l,"useIsDeferring")&&a.d(t,{useIsDeferring:function(){return l.useIsDeferring}}),a.o(l,"useIsPaused")&&a.d(t,{useIsPaused:function(){return l.useIsPaused}}),a.o(l,"useNotifyMountComplete")&&a.d(t,{useNotifyMountComplete:function(){return l.useNotifyMountComplete}}),a.o(l,"useSharedFacet")&&a.d(t,{useSharedFacet:function(){return l.useSharedFacet}});var o=a(8060);a.o(o,"DeferredMount")&&a.d(t,{DeferredMount:function(){return o.DeferredMount}}),a.o(o,"DeferredMountProvider")&&a.d(t,{DeferredMountProvider:function(){return o.DeferredMountProvider}}),a.o(o,"DeferredMountWithCallback")&&a.d(t,{DeferredMountWithCallback:function(){return o.DeferredMountWithCallback}}),a.o(o,"Map")&&a.d(t,{Map:function(){return o.Map}}),a.o(o,"Mount")&&a.d(t,{Mount:function(){return o.Mount}}),a.o(o,"NO_VALUE")&&a.d(t,{NO_VALUE:function(){return o.NO_VALUE}}),a.o(o,"PauseMountProvider")&&a.d(t,{PauseMountProvider:function(){return o.PauseMountProvider}}),a.o(o,"SharedFacetDriverProvider")&&a.d(t,{SharedFacetDriverProvider:function(){return o.SharedFacetDriverProvider}}),a.o(o,"With")&&a.d(t,{With:function(){return o.With}}),a.o(o,"createFacet")&&a.d(t,{createFacet:function(){return o.createFacet}}),a.o(o,"createFacetContext")&&a.d(t,{createFacetContext:function(){return o.createFacetContext}}),a.o(o,"createPortal")&&a.d(t,{createPortal:function(){return o.createPortal}}),a.o(o,"createStaticFacet")&&a.d(t,{createStaticFacet:function(){return o.createStaticFacet}}),a.o(o,"createUniformArrayEqualityCheck")&&a.d(t,{createUniformArrayEqualityCheck:function(){return o.createUniformArrayEqualityCheck}}),a.o(o,"isFacet")&&a.d(t,{isFacet:function(){return o.isFacet}}),a.o(o,"multiObserve")&&a.d(t,{multiObserve:function(){return o.multiObserve}}),a.o(o,"render")&&a.d(t,{render:function(){return o.render}}),a.o(o,"sharedDynamicSelector")&&a.d(t,{sharedDynamicSelector:function(){return o.sharedDynamicSelector}}),a.o(o,"sharedFacet")&&a.d(t,{sharedFacet:function(){return o.sharedFacet}}),a.o(o,"sharedSelector")&&a.d(t,{sharedSelector:function(){return o.sharedSelector}}),a.o(o,"useFacetCallback")&&a.d(t,{useFacetCallback:function(){return o.useFacetCallback}}),a.o(o,"useFacetEffect")&&a.d(t,{useFacetEffect:function(){return o.useFacetEffect}}),a.o(o,"useFacetLayoutEffect")&&a.d(t,{useFacetLayoutEffect:function(){return o.useFacetLayoutEffect}}),a.o(o,"useFacetMap")&&a.d(t,{useFacetMap:function(){return o.useFacetMap}}),a.o(o,"useFacetMemo")&&a.d(t,{useFacetMemo:function(){return o.useFacetMemo}}),a.o(o,"useFacetRef")&&a.d(t,{useFacetRef:function(){return o.useFacetRef}}),a.o(o,"useFacetState")&&a.d(t,{useFacetState:function(){return o.useFacetState}}),a.o(o,"useFacetUnwrap")&&a.d(t,{useFacetUnwrap:function(){return o.useFacetUnwrap}}),a.o(o,"useFacetWrap")&&a.d(t,{useFacetWrap:function(){return o.useFacetWrap}}),a.o(o,"useIsDeferring")&&a.d(t,{useIsDeferring:function(){return o.useIsDeferring}}),a.o(o,"useIsPaused")&&a.d(t,{useIsPaused:function(){return o.useIsPaused}}),a.o(o,"useNotifyMountComplete")&&a.d(t,{useNotifyMountComplete:function(){return o.useNotifyMountComplete}}),a.o(o,"useSharedFacet")&&a.d(t,{useSharedFacet:function(){return o.useSharedFacet}});const i=n.shallowObjectEqualityCheck,c=n.shallowObjectEqualityCheck,s=l.sharedFacet},73595:()=>{},35140:()=>{},95799:()=>{},51637:()=>{},12821:()=>{},81442:(e,t,a)=>{"use strict";e.exports=a.p+"assets/animation-074ed0ba8c16bb30e36c.gif"},60197:(e,t,a)=>{"use strict";e.exports=a.p+"assets/modal_hide-2341f679f9c45068b44e.ogg"},99373:(e,t,a)=>{"use strict";e.exports=a.p+"assets/release-7c974538702e5e85134b.ogg"},43464:(e,t,a)=>{"use strict";e.exports=a.p+"assets/snes_pop-7a6d3229805769ea0345.ogg"}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var l=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.loaded=!0,l.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="/hbui/",window.HTMLIFrameElement=window.HTMLIFrameElement||function(){},(()=>{"use strict";var e={};a.r(e),a.d(e,{AccountUnlinkRoute:()=>lB,AddFriendRoute:()=>bU,ChooseRealmRoute:()=>ZU,ChooseSlotRoute:()=>IH,CompareStatsRoute:()=>oj,ConnectionErrorRoute:()=>AH,CreateNewWorldRoute:()=>aB,CreatePreviewRealmWithOnlyOneSubscriptionRoute:()=>EV,EditWorldRoute:()=>CG,EditWorldThumbnailRoute:()=>PG,ExportWorldRoute:()=>xG,GuidedCreateWorldRoute:()=>m$,JoinRealmsServerRoute:()=>OK,JoinRealmsServerTransientRoute:()=>jK,ManageShowcaseRoute:()=>qK,MobileDataBlockedModalRoute:()=>QK,OnlinePlayWarningTransientRoute:()=>nY,PlayerBannedModalRoute:()=>rY,PostToRealmStoriesRoute:()=>dY,ProfileFollowersListRoute:()=>gY,ProfileFriendsListRoute:()=>hY,ProfileRoute:()=>vX,RealmsNewStoryRoute:()=>RX,RealmsPDPRoute:()=>GB,RealmsPlanPickerRoute:()=>PU,RealmsPurchaseSubscriptionRoute:()=>VU,RealmsStoriesCommentsRoute:()=>fH,RealmsStoriesOptedOutMembersRoute:()=>jH,RealmsStoriesReportFeedItemRoute:()=>dH,RealmsStoriesRoute:()=>sV,RealmsStoriesScreenshotGalleryRoute:()=>YV,RealmsStoriesSettingsRoute:()=>kG,RealmsStoriesTimelineRequiredRoute:()=>gV,ReportPlayerRoute:()=>BG,ScreenshotDetailsRoute:()=>a$,ScreenshotGalleryRoute:()=>d$,ScreenshotPicker:()=>TG,ScreenshotShowcaseRoute:()=>k$,SeedTemplatesRoute:()=>_$,SetWorldThumbnailRoute:()=>mK,ShowcaseDetailsRoute:()=>$K});var t={};a.r(t),a.d(t,{ContentKeyErrorModal:()=>gO,HardcoreModeWorldWarningModalRoute:()=>MO,PacksLoadingModal:()=>qO,RealmsStoryEntryRoute:()=>zX,RealmsStoryShareLinkModalRoute:()=>tV,ResourcePacksDownloadErrorModal:()=>BO});var n={};a.r(n),a.d(n,{useCurrentPlayerProfileFacet:()=>OT,useLoadPlayerProfile:()=>xT,usePlayerProfileFacet:()=>AT,usePlayerProfilesFacet:()=>NT});var r=a(3464),l=a(52910);const o=(0,r.createContext)((0,l.createStaticFacet)({length:1,action:"PUSH",list:[{pathname:"",search:"",hash:"",state:""}]})),i=(0,r.createContext)({push:()=>{},replace:()=>{},goBack:()=>{},go:()=>{}}),c=(0,r.createContext)((0,l.createStaticFacet)(!1)),s=(0,r.createContext)((0,l.createStaticFacet)(!1)),u=(0,r.createContext)((0,l.createStaticFacet)({}));(0,r.createContext)((0,l.createStaticFacet)(!0));var d={};try{!function(e,t){if(new e("q=%2B").get("q")!==t||new e({q:t}).get("q")!==t||new e([["q",t]]).get("q")!==t||"q=%0A"!==new e("q=\n").toString()||"q=+%26"!==new e({q:" &"}).toString()||"q=%25zx"!==new e({q:"%zx"}).toString())throw e;d.URLSearchParams=e}(URLSearchParams,"+")}catch(e){!function(e,t,a){var n=e.create,r=e.defineProperty,l=/[!'\(\)~]|%20|%00/g,o=/%(?![0-9a-fA-F]{2})/g,i=/\+/g,c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},s={append:function(e,t){f(this._ungap,e,t)},delete:function(e){delete this._ungap[e]},get:function(e){return this.has(e)?this._ungap[e][0]:null},getAll:function(e){return this.has(e)?this._ungap[e].slice(0):[]},has:function(e){return e in this._ungap},set:function(e,a){this._ungap[e]=[t(a)]},forEach:function(e,a){var n=this;for(var r in n._ungap)n._ungap[r].forEach(l,r);function l(l){e.call(a,l,t(r),n)}},toJSON:function(){return{}},toString:function(){var e=[];for(var t in this._ungap)for(var a=E(t),n=0,r=this._ungap[t];n<r.length;n++)e.push(a+"="+E(r[n]));return e.join("&")}};for(var u in s)r(m.prototype,u,{configurable:!0,writable:!0,value:s[u]});function m(e){var t=n(null);switch(r(this,"_ungap",{value:t}),!0){case!e:break;case"string"==typeof e:"?"===e.charAt(0)&&(e=e.slice(1));for(var l=e.split("&"),o=0,i=l.length;o<i;o++){var c=(s=l[o]).indexOf("=");-1<c?f(t,g(s.slice(0,c)),g(s.slice(c+1))):s.length&&f(t,g(s),"")}break;case a(e):for(o=0,i=e.length;o<i;o++){var s;f(t,(s=e[o])[0],s[1])}break;case"forEach"in e:e.forEach(p,t);break;default:for(var u in e)f(t,u,e[u])}}function p(e,t){f(this,t,e)}function f(e,t,n){var r=a(n)?n.join(","):n;t in e?e[t].push(r):e[t]=[r]}function g(e){return decodeURIComponent(e.replace(o,"%25").replace(i," "))}function E(e){return encodeURIComponent(e).replace(l,h)}function h(e){return c[e]}d.URLSearchParams=m}(Object,String,Array.isArray)}!function(e){var t=!1;try{t=!!Symbol.iterator}catch(e){}function a(e,a){var n=[];return e.forEach(a,n),t?n[Symbol.iterator]():{next:function(){var e=n.shift();return{done:void 0===e,value:e}}}}"forEach"in e||(e.forEach=function(e,t){var a=this,n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(r){r.length&&!(r in n)&&(n[r]=a.getAll(r)).forEach((function(n){e.call(t,n,r,a)}))}))}),"keys"in e||(e.keys=function(){return a(this,(function(e,t){this.push(t)}))}),"values"in e||(e.values=function(){return a(this,(function(e,t){this.push(e)}))}),"entries"in e||(e.entries=function(){return a(this,(function(e,t){this.push([t,e])}))}),t&&!(Symbol.iterator in e)&&(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,a,n=this.entries(),r=n.next(),l=r.done,o=[],i=Object.create(null);!l;)t=(a=r.value)[0],o.push(t),t in i||(i[t]=[]),i[t].push(a[1]),l=(r=n.next()).done;for(o.sort(),e=0;e<o.length;e++)this.delete(o[e]);for(e=0;e<o.length;e++)t=o[e],this.append(t,i[t].shift())}),function(t){var a=t.defineProperty,n=t.getOwnPropertyDescriptor,r=function(t){var a=t.append;t.append=e.append,URLSearchParams.call(t,t._usp.search.slice(1)),t.append=a},l=function(e,t){if(!(e instanceof t))throw new TypeError("'searchParams' accessed on an object that does not implement interface "+t.name)},o=function(o){var i,c,s=o.prototype,u=n(s,"searchParams"),d=n(s,"href"),m=n(s,"search");!u&&m&&m.set&&(c=function(t){function n(a,n){e.append.call(this,a,n),a=this.toString(),t.set.call(this._usp,a?"?"+a:"")}function r(a){e.delete.call(this,a),a=this.toString(),t.set.call(this._usp,a?"?"+a:"")}function l(a,n){e.set.call(this,a,n),a=this.toString(),t.set.call(this._usp,a?"?"+a:"")}return function(e,t){return e.append=n,e.delete=r,e.set=l,a(e,"_usp",{configurable:!0,writable:!0,value:t})}}(m),i=function(e,t){return a(e,"_searchParams",{configurable:!0,writable:!0,value:c(t,e)}),t},t.defineProperties(s,{href:{get:function(){return d.get.call(this)},set:function(e){var t=this._searchParams;d.set.call(this,e),t&&r(t)}},search:{get:function(){return m.get.call(this)},set:function(e){var t=this._searchParams;m.set.call(this,e),t&&r(t)}},searchParams:{get:function(){return l(this,o),this._searchParams||i(this,new URLSearchParams(this.search.slice(1)))},set:function(e){l(this,o),i(this,e)}}}))};try{o(HTMLAnchorElement),/^function|object$/.test(typeof URL)&&URL.prototype&&o(URL)}catch(e){}}(Object)}(d.URLSearchParams.prototype);const m=d.URLSearchParams,p=()=>(0,r.useContext)(i),f=()=>(0,r.useContext)(c),g=()=>(0,l.useFacetMemo)(((e,t)=>t?e:l.NO_VALUE),[],[(0,r.useContext)(u),f()]),E=()=>(0,l.useFacetMemo)((({list:e},t)=>t?e[e.length-1].pathname:l.NO_VALUE),[],[(0,r.useContext)(o),f()]),h=()=>{const e=(0,l.useFacetMap)((({list:e})=>e[e.length-1].search),[],[(0,r.useContext)(o)]);return(0,l.useFacetMemo)(((e,t)=>t?new m(e):l.NO_VALUE),[],[e,f()])};function b(e,t){void 0===t&&(t={});for(var a=function(e){for(var t=[],a=0;a<e.length;){var n=e[a];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)t.push({type:"CHAR",index:a,value:e[a++]});else{var r=1,l="";if("?"===e[i=a+1])throw new TypeError('Pattern cannot start with "?" at '.concat(i));for(;i<e.length;)if("\\"!==e[i]){if(")"===e[i]){if(0==--r){i++;break}}else if("("===e[i]&&(r++,"?"!==e[i+1]))throw new TypeError("Capturing groups are not allowed at ".concat(i));l+=e[i++]}else l+=e[i++]+e[i++];if(r)throw new TypeError("Unbalanced pattern at ".concat(a));if(!l)throw new TypeError("Missing pattern at ".concat(a));t.push({type:"PATTERN",index:a,value:l}),a=i}else{for(var o="",i=a+1;i<e.length;){var c=e.charCodeAt(i);if(!(c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||95===c))break;o+=e[i++]}if(!o)throw new TypeError("Missing parameter name at ".concat(a));t.push({type:"NAME",index:a,value:o}),a=i}else t.push({type:"CLOSE",index:a,value:e[a++]});else t.push({type:"OPEN",index:a,value:e[a++]});else t.push({type:"ESCAPED_CHAR",index:a++,value:e[a++]});else t.push({type:"MODIFIER",index:a,value:e[a++]})}return t.push({type:"END",index:a,value:""}),t}(e),n=t.prefixes,r=void 0===n?"./":n,l=t.delimiter,o=void 0===l?"/#?":l,i=[],c=0,s=0,u="",d=function(e){if(s<a.length&&a[s].type===e)return a[s++].value},m=function(e){var t=d(e);if(void 0!==t)return t;var n=a[s],r=n.type,l=n.index;throw new TypeError("Unexpected ".concat(r," at ").concat(l,", expected ").concat(e))},p=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t},f=function(e){var t=i[i.length-1],a=e||(t&&"string"==typeof t?t:"");if(t&&!a)throw new TypeError('Must have text between two parameters, missing text after "'.concat(t.name,'"'));return!a||function(e){for(var t=0,a=o;t<a.length;t++){var n=a[t];if(e.indexOf(n)>-1)return!0}return!1}(a)?"[^".concat(y(o),"]+?"):"(?:(?!".concat(y(a),")[^").concat(y(o),"])+?")};s<a.length;){var g=d("CHAR"),E=d("NAME"),h=d("PATTERN");if(E||h){var b=g||"";-1===r.indexOf(b)&&(u+=b,b=""),u&&(i.push(u),u=""),i.push({name:E||c++,prefix:b,suffix:"",pattern:h||f(b),modifier:d("MODIFIER")||""})}else{var v=g||d("ESCAPED_CHAR");if(v)u+=v;else if(u&&(i.push(u),u=""),d("OPEN")){b=p();var F=d("NAME")||"",S=d("PATTERN")||"",C=p();m("CLOSE"),i.push({name:F||(S?c++:""),pattern:F&&!S?f(b):S,prefix:b,suffix:C,modifier:d("MODIFIER")||""})}else m("END")}}return i}function v(e,t){var a=[];return function(e,t,a){void 0===a&&(a={});var n=a.decode,r=void 0===n?function(e){return e}:n;return function(a){var n=e.exec(a);if(!n)return!1;for(var l=n[0],o=n.index,i=Object.create(null),c=function(e){if(void 0===n[e])return"continue";var a=t[e-1];"*"===a.modifier||"+"===a.modifier?i[a.name]=n[e].split(a.prefix+a.suffix).map((function(e){return r(e,a)})):i[a.name]=r(n[e],a)},s=1;s<n.length;s++)c(s);return{path:l,index:o,params:i}}}(S(e,a,t),a,t)}function y(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function F(e){return e&&e.sensitive?"":"i"}function S(e,t,a){return e instanceof RegExp?function(e,t){if(!t)return e;for(var a=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,r=a.exec(e.source);r;)t.push({name:r[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),r=a.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,a){var n=e.map((function(e){return S(e,t,a).source}));return new RegExp("(?:".concat(n.join("|"),")"),F(a))}(e,t,a):function(e,t,a){return function(e,t,a){void 0===a&&(a={});for(var n=a.strict,r=void 0!==n&&n,l=a.start,o=void 0===l||l,i=a.end,c=void 0===i||i,s=a.encode,u=void 0===s?function(e){return e}:s,d=a.delimiter,m=void 0===d?"/#?":d,p=a.endsWith,f="[".concat(y(void 0===p?"":p),"]|$"),g="[".concat(y(m),"]"),E=o?"^":"",h=0,b=e;h<b.length;h++){var v=b[h];if("string"==typeof v)E+=y(u(v));else{var S=y(u(v.prefix)),C=y(u(v.suffix));if(v.pattern)if(t&&t.push(v),S||C)if("+"===v.modifier||"*"===v.modifier){var M="*"===v.modifier?"?":"";E+="(?:".concat(S,"((?:").concat(v.pattern,")(?:").concat(C).concat(S,"(?:").concat(v.pattern,"))*)").concat(C,")").concat(M)}else E+="(?:".concat(S,"(").concat(v.pattern,")").concat(C,")").concat(v.modifier);else{if("+"===v.modifier||"*"===v.modifier)throw new TypeError('Can not repeat "'.concat(v.name,'" without a prefix and suffix'));E+="(".concat(v.pattern,")").concat(v.modifier)}else E+="(?:".concat(S).concat(C,")").concat(v.modifier)}}if(c)r||(E+="".concat(g,"?")),E+=a.endsWith?"(?=".concat(f,")"):"$";else{var w=e[e.length-1],k="string"==typeof w?g.indexOf(w[w.length-1])>-1:void 0===w;r||(E+="(?:".concat(g,"(?=").concat(f,"))?")),k||(E+="(?=".concat(g,"|").concat(f,")"))}return new RegExp(E,F(a))}(b(e,a),t,a)}(e,t,a)}function C(e,t){return e+(0===t.toString().length?"":`?${t.toString()}`)}const M=(0,l.createStaticFacet)(!1),w=({to:e,match:t=M,keepQuery:a=!1})=>{const n=(0,l.useFacetWrap)(t),i=p(),c=(0,r.useMemo)((()=>{return function(e,t){void 0===t&&(t={});var a=F(t),n=t.encode,r=void 0===n?function(e){return e}:n,l=t.validate,o=void 0===l||l,i=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),a)}));return function(t){for(var a="",n=0;n<e.length;n++){var l=e[n];if("string"!=typeof l){var c=t?t[l.name]:void 0,s="?"===l.modifier||"*"===l.modifier,u="*"===l.modifier||"+"===l.modifier;if(Array.isArray(c)){if(!u)throw new TypeError('Expected "'.concat(l.name,'" to not repeat, but got an array'));if(0===c.length){if(s)continue;throw new TypeError('Expected "'.concat(l.name,'" to not be empty'))}for(var d=0;d<c.length;d++){var m=r(c[d],l);if(o&&!i[n].test(m))throw new TypeError('Expected all "'.concat(l.name,'" to match "').concat(l.pattern,'", but got "').concat(m,'"'));a+=l.prefix+m+l.suffix}}else if("string"!=typeof c&&"number"!=typeof c){if(!s){var p=u?"an array":"a string";throw new TypeError('Expected "'.concat(l.name,'" to be ').concat(p))}}else{if(m=r(String(c),l),o&&!i[n].test(m))throw new TypeError('Expected "'.concat(l.name,'" to match "').concat(l.pattern,'", but got "').concat(m,'"'));a+=l.prefix+m+l.suffix}}else a+=l}return a}}(b(e,t),t);var t}),[e]),s=(0,l.useFacetMap)((e=>0!=e),[],[n]),u=(0,l.useFacetCallback)(((e,t)=>n=>{if(!n||0==e)return;const r=c(e.params);if(a){const e=t.list[t.list.length-1].search,a=new m(e);i.replace(C(r,a))}else i.replace(r)}),[i,c,a],[n,(0,r.useContext)(o)]);return(0,l.useFacetEffect)((e=>{u(e)}),[u],[s]),null},k=e=>{const t=Boolean(e.props)?e.props:{};return Boolean(t.route)&&Boolean(t.component)},T=e=>{const t=Boolean(e.props)?e.props:{};return Boolean(t.from)};function P({children:e,onNotFound:t}){const a=(0,r.useContext)(o),n=(0,l.useFacetMap)((e=>e.list[e.list.length-1].pathname),[],[a]),i=(0,l.useFacetMap)((({action:e})=>e),[],[a]),c=x(),s=(0,l.useFacetMemo)((t=>{let a=!1;return r.Children.forEach(e,((e,n)=>{if(0==a&&(0,r.isValidElement)(e)){if(k(e)){const r=c(e.props.route)(t);if(0!=r)return void(a={match:r,index:n})}if(T(e)){const r=c(e.props.from)(t);if(0!=r)return void(a={match:r,index:n})}}})),a}),[e,c],[n]),u=(0,l.useFacetMap)((e=>!1!==e),[],[s]);return(0,l.useFacetEffect)((e=>{e||null==t||t()}),[t],[u]),r.createElement(r.Fragment,null,r.Children.map(e,((e,t)=>(0,r.isValidElement)(e)?k(e)||T(e)?r.createElement(I,{index:t,switchMatchResult:s,child:e,action:i}):r.createElement(l.Mount,{when:u},e):null)))}const I=({switchMatchResult:e,index:t,action:a,child:n})=>{const o=(0,l.useFacetMemo)((e=>!1!==e&&e.index===t&&e.match),[t],[e]);return r.cloneElement(n,{match:o,action:a})},x=()=>{const e=(0,r.useRef)(new Map);return(0,r.useCallback)((t=>{const a=e.current.get(t);if(a)return a;const n=v(t);return e.current.set(t,n),n}),[])};a(73595);const A=({value:e,isInBackground:t,children:a})=>{const n=(0,l.useFacetWrap)(e),o=(0,l.useFacetWrap)(null!=t&&t),i=(0,l.useFacetMap)((e=>!e),[],[n]);return r.createElement(O,{disabled:i},r.createElement(c.Provider,{value:n},null!=t?r.createElement(s.Provider,{value:o},a):a))},O=({children:e,disabled:t})=>{const a=(0,r.useContext)(i),n=(0,l.useFacetCallback)((e=>()=>{e||a.goBack()}),[a],[t]),o=(0,l.useFacetCallback)((e=>t=>{e||a.push(t)}),[a],[t]),c=(0,l.useFacetCallback)((e=>t=>{e||a.replace(t)}),[a],[t]),s=(0,l.useFacetCallback)((e=>t=>{e||a.go(t)}),[a],[t]),u=(0,r.useMemo)((()=>({goBack:n,push:o,replace:c,go:s})),[n,o,c,s]);return r.createElement(i.Provider,{value:u},e)};var N=a(97744),R=a.n(N);const L=(0,r.createContext)([]),{Provider:_,Consumer:D}=L,W=L;let B,U,z,H,j;!function(e){e[e.Unknown=-1]="Unknown",e[e.Initial=0]="Initial",e[e.FocusInput=1]="FocusInput",e[e.PointerInput=2]="PointerInput",e[e.FocusTreeMutation=3]="FocusTreeMutation",e[e.URL=4]="URL",e[e.DebugTool=5]="DebugTool",e[e.ImperativeSetFocus=6]="ImperativeSetFocus",e[e.LandmarkController=7]="LandmarkController"}(B||(B={})),function(e){e[e.DefaultDelegation=0]="DefaultDelegation",e[e.FirstFoundDelegation=1]="FirstFoundDelegation",e[e.AliasDelegation=2]="AliasDelegation",e[e.MemoryDelegation=3]="MemoryDelegation",e[e.FocusableAliasMutation=4]="FocusableAliasMutation"}(U||(U={})),function(e){e[e.FIRST_CHILD=0]="FIRST_CHILD",e[e.MEMORY=1]="MEMORY",e[e.ALIAS=2]="ALIAS"}(z||(z={})),function(e){e[e.Unknown=-1]="Unknown",e[e.Mutation=1]="Mutation",e[e.UserInput=2]="UserInput"}(H||(H={})),function(e){e.A="A",e.B="B",e.X="X",e.Y="Y",e.START="START",e.SELECT="SELECT",e.XBOX="XBOX",e.RIGHT_TRIGGER="RT",e.LEFT_TRIGGER="LT",e.LEFT_BUMPER="LB",e.RIGHT_BUMPER="RB",e.L3="L3",e.R3="R3",e.LEFT="LEFT",e.RIGHT="RIGHT",e.UP="UP",e.DOWN="DOWN",e.NEXT="NEXT",e.PREV="PREV",e.LEFT_ANALOG_LEFT="L_LEFT",e.LEFT_ANALOG_RIGHT="L_RIGHT",e.LEFT_ANALOG_UP="L_UP",e.LEFT_ANALOG_DOWN="L_DOWN",e.RIGHT_ANALOG_LEFT="R_LEFT",e.RIGHT_ANALOG_RIGHT="R_RIGHT",e.RIGHT_ANALOG_UP="R_UP",e.RIGHT_ANALOG_DOWN="R_DOWN",e[e.LEFT_HORIZONTAL_AXIS=0]="LEFT_HORIZONTAL_AXIS",e[e.LEFT_VERTICAL_AXIS=1]="LEFT_VERTICAL_AXIS",e[e.RIGHT_HORIZONTAL_AXIS=2]="RIGHT_HORIZONTAL_AXIS",e[e.RIGHT_VERTICAL_AXIS=3]="RIGHT_VERTICAL_AXIS",e.PSEUDO_BUTTON_1="PSEUDO_BUTTON_1",e.PSEUDO_BUTTON_2="PSEUDO_BUTTON_2",e.PSEUDO_BUTTON_3="PSEUDO_BUTTON_3",e.PSEUDO_BUTTON_4="PSEUDO_BUTTON_4",e.PSEUDO_BUTTON_5="PSEUDO_BUTTON_5",e.PSEUDO_BUTTON_6="PSEUDO_BUTTON_6",e.PSEUDO_BUTTON_7="PSEUDO_BUTTON_7",e.PSEUDO_BUTTON_8="PSEUDO_BUTTON_8",e.PSEUDO_BUTTON_9="PSEUDO_BUTTON_9",e.PSEUDO_BUTTON_10="PSEUDO_BUTTON_10"}(j||(j={}));const V="data-landmark-id",G="data-focusable-id",$="data-focusable-debug-id";let K,Y,X;!function(e){e[e.ITEM=0]="ITEM",e[e.FOCUS_GROUP=1]="FOCUS_GROUP",e[e.LANDMARK=2]="LANDMARK",e[e.ROOT=3]="ROOT"}(K||(K={})),function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(Y||(Y={})),function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(X||(X={}));const q=[j.A,j.B,j.LEFT,j.DOWN,j.RIGHT,j.UP];let Q;!function(e){e[e.UP=0]="UP",e[e.RIGHT=1]="RIGHT",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT"}(Q||(Q={}));const Z={[j.LEFT_ANALOG_UP]:Q.UP,[j.UP]:Q.UP,[j.LEFT_ANALOG_DOWN]:Q.DOWN,[j.DOWN]:Q.DOWN,[j.LEFT_ANALOG_LEFT]:Q.LEFT,[j.LEFT]:Q.LEFT,[j.LEFT_ANALOG_RIGHT]:Q.RIGHT,[j.RIGHT]:Q.RIGHT},J={3:j.B};let ee;!function(e){e[e.NEXT=-1]="NEXT",e[e.PREVIOUS=1]="PREVIOUS"}(ee||(ee={}));const te=e=>e.type===K.ITEM||e.type===K.LANDMARK&&!0!==e.focusControlDisabled||e.type===K.ROOT,ae=e=>te(e)&&!e.disabled&&!e.hidden&&null!=e.ref,ne=e=>!e.disabled&&!e.hidden&&null!=e.ref,re=e=>!e.disabled&&!e.hidden,le=e=>te(e)?ne(e):re(e),oe=e=>null!=e&&e.type===K.ROOT,ie=e=>null!=e&&e.type===K.LANDMARK&&!0!==e.focusControlDisabled&&"getDelegatedFocus"in e,ce=e=>null!=e&&e.type===K.LANDMARK&&!0===e.isGrid,se=e=>null!=e&&e.type===K.LANDMARK&&!0===e.isGrid&&null!=e.ref,ue=e=>ie(e)&&"shouldBindFocus"in e&&!0===e.shouldBindFocus,de=(j.LEFT_ANALOG_LEFT,j.LEFT_ANALOG_RIGHT,j.LEFT_ANALOG_UP,j.LEFT_ANALOG_DOWN,j.RIGHT_ANALOG_LEFT,j.RIGHT_ANALOG_RIGHT,j.RIGHT_ANALOG_UP,j.RIGHT_ANALOG_DOWN,j.A,j.B,j.X,j.Y,j.START,j.SELECT,j.XBOX,j.RIGHT_TRIGGER,j.LEFT_TRIGGER,j.LEFT_BUMPER,j.RIGHT_BUMPER,j.L3,j.R3,j.LEFT,j.RIGHT,j.UP,j.DOWN,j.PSEUDO_BUTTON_1,j.PSEUDO_BUTTON_2,j.PSEUDO_BUTTON_3,j.PSEUDO_BUTTON_4,j.PSEUDO_BUTTON_5,j.PSEUDO_BUTTON_6,j.PSEUDO_BUTTON_7,j.PSEUDO_BUTTON_8,j.PSEUDO_BUTTON_9,j.PSEUDO_BUTTON_10,j.A,j.B,j.X,j.Y,j.START,j.SELECT,j.LEFT,j.RIGHT,j.UP,j.DOWN,j.L3,j.R3,j.LEFT_ANALOG_LEFT,j.RIGHT_ANALOG_LEFT,j.LEFT_BUMPER,j.RIGHT_BUMPER,j.LEFT_TRIGGER,j.RIGHT_TRIGGER,[j.A,j.B,j.X,j.Y,j.START,j.SELECT,j.LEFT_BUMPER,j.RIGHT_BUMPER,j.LEFT_TRIGGER,j.RIGHT_TRIGGER,j.R3,j.L3]),me=[j.A,j.B,j.X,j.Y,j.LEFT_BUMPER,j.RIGHT_BUMPER,j.LEFT_TRIGGER,j.RIGHT_TRIGGER,j.SELECT,j.START,j.L3,j.R3,j.UP,j.DOWN,j.LEFT,j.RIGHT,j.XBOX],pe=[j.LEFT,j.RIGHT,j.UP,j.DOWN];let fe,ge;var Ee;de.map((e=>me.indexOf(e))),pe.map((e=>me.indexOf(e))),(Ee=fe||(fe={}))[Ee.BACKSPACE=8]="BACKSPACE",Ee[Ee.TAB=9]="TAB",Ee[Ee.ENTER=13]="ENTER",Ee[Ee.SHIFT=16]="SHIFT",Ee[Ee.CTRL=17]="CTRL",Ee[Ee.ALT=18]="ALT",Ee[Ee.CAPS_LOCK=20]="CAPS_LOCK",Ee[Ee.ESCAPE=27]="ESCAPE",Ee[Ee.SPACE=32]="SPACE",Ee[Ee.PG_UP=33]="PG_UP",Ee[Ee.PG_DOWN=34]="PG_DOWN",Ee[Ee.END=35]="END",Ee[Ee.HOME=36]="HOME",Ee[Ee.LEFT=37]="LEFT",Ee[Ee.UP=38]="UP",Ee[Ee.RIGHT=39]="RIGHT",Ee[Ee.DOWN=40]="DOWN",Ee[Ee.INSERT=45]="INSERT",Ee[Ee.DELETE=46]="DELETE",Ee[Ee.KEY_0=48]="KEY_0",Ee[Ee.KEY_1=49]="KEY_1",Ee[Ee.KEY_2=50]="KEY_2",Ee[Ee.KEY_3=51]="KEY_3",Ee[Ee.KEY_4=52]="KEY_4",Ee[Ee.KEY_5=53]="KEY_5",Ee[Ee.KEY_6=54]="KEY_6",Ee[Ee.KEY_7=55]="KEY_7",Ee[Ee.KEY_8=56]="KEY_8",Ee[Ee.KEY_9=57]="KEY_9",Ee[Ee.SEMICOLON=59]="SEMICOLON",Ee[Ee.EQUALS=61]="EQUALS",Ee[Ee.KEY_A=65]="KEY_A",Ee[Ee.KEY_B=66]="KEY_B",Ee[Ee.KEY_C=67]="KEY_C",Ee[Ee.KEY_D=68]="KEY_D",Ee[Ee.KEY_E=69]="KEY_E",Ee[Ee.KEY_F=70]="KEY_F",Ee[Ee.KEY_G=71]="KEY_G",Ee[Ee.KEY_H=72]="KEY_H",Ee[Ee.KEY_I=73]="KEY_I",Ee[Ee.KEY_J=74]="KEY_J",Ee[Ee.KEY_K=75]="KEY_K",Ee[Ee.KEY_L=76]="KEY_L",Ee[Ee.KEY_M=77]="KEY_M",Ee[Ee.KEY_N=78]="KEY_N",Ee[Ee.KEY_O=79]="KEY_O",Ee[Ee.KEY_P=80]="KEY_P",Ee[Ee.KEY_Q=81]="KEY_Q",Ee[Ee.KEY_R=82]="KEY_R",Ee[Ee.KEY_S=83]="KEY_S",Ee[Ee.KEY_T=84]="KEY_T",Ee[Ee.KEY_U=85]="KEY_U",Ee[Ee.KEY_V=86]="KEY_V",Ee[Ee.KEY_W=87]="KEY_W",Ee[Ee.KEY_X=88]="KEY_X",Ee[Ee.KEY_Y=89]="KEY_Y",Ee[Ee.KEY_Z=90]="KEY_Z",Ee[Ee.NUMPAD_0=96]="NUMPAD_0",Ee[Ee.NUMPAD_1=97]="NUMPAD_1",Ee[Ee.NUMPAD_2=98]="NUMPAD_2",Ee[Ee.NUMPAD_3=99]="NUMPAD_3",Ee[Ee.NUMPAD_4=100]="NUMPAD_4",Ee[Ee.NUMPAD_5=101]="NUMPAD_5",Ee[Ee.NUMPAD_6=102]="NUMPAD_6",Ee[Ee.NUMPAD_7=103]="NUMPAD_7",Ee[Ee.NUMPAD_8=104]="NUMPAD_8",Ee[Ee.NUMPAD_9=105]="NUMPAD_9",Ee[Ee.MINUS=109]="MINUS",Ee[Ee.F1=112]="F1",Ee[Ee.F2=113]="F2",Ee[Ee.F3=114]="F3",Ee[Ee.F4=115]="F4",Ee[Ee.F5=116]="F5",Ee[Ee.F6=117]="F6",Ee[Ee.F7=118]="F7",Ee[Ee.F8=119]="F8",Ee[Ee.F9=120]="F9",Ee[Ee.F10=121]="F10",Ee[Ee.F11=122]="F11",Ee[Ee.F12=123]="F12",Ee[Ee.COMMA=188]="COMMA",Ee[Ee.PERIOD=190]="PERIOD",Ee[Ee.SLASH=191]="SLASH",Ee[Ee.GRAVE=192]="GRAVE",Ee[Ee.MOUSE_MOVEMENT=195]="MOUSE_MOVEMENT",Ee[Ee.MOUSE_BUTTON_LEFT=196]="MOUSE_BUTTON_LEFT",Ee[Ee.MOUSE_BUTTON_MIDDLE=197]="MOUSE_BUTTON_MIDDLE",Ee[Ee.MOUSE_BUTTON_RIGHT=198]="MOUSE_BUTTON_RIGHT",Ee[Ee.MOUSE_WHEEL=199]="MOUSE_WHEEL",Ee[Ee.PSEUDO_KEY_1=201]="PSEUDO_KEY_1",Ee[Ee.PSEUDO_KEY_2=202]="PSEUDO_KEY_2",Ee[Ee.PSEUDO_KEY_3=203]="PSEUDO_KEY_3",Ee[Ee.PSEUDO_KEY_4=204]="PSEUDO_KEY_4",Ee[Ee.PSEUDO_KEY_5=205]="PSEUDO_KEY_5",Ee[Ee.PSEUDO_KEY_6=206]="PSEUDO_KEY_6",Ee[Ee.PSEUDO_KEY_7=207]="PSEUDO_KEY_7",Ee[Ee.PSEUDO_KEY_8=208]="PSEUDO_KEY_8",Ee[Ee.PSEUDO_KEY_9=209]="PSEUDO_KEY_9",Ee[Ee.PSEUDO_KEY_10=210]="PSEUDO_KEY_10",Ee[Ee.BRACKET_OPEN=219]="BRACKET_OPEN",Ee[Ee.BACKSLASH=220]="BACKSLASH",Ee[Ee.BRACKET_CLOSE=221]="BRACKET_CLOSE",Ee[Ee.APOSTROPHE=222]="APOSTROPHE",function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward"}(ge||(ge={}));const he={[j.UP]:[fe.UP],[j.DOWN]:[fe.DOWN],[j.LEFT]:[fe.LEFT],[j.RIGHT]:[fe.RIGHT],[j.X]:[fe.KEY_X],[j.Y]:[fe.KEY_Y],[j.A]:[fe.ENTER,fe.SPACE],[j.B]:[fe.ESCAPE,fe.BACKSPACE],[j.LEFT_TRIGGER]:[fe.KEY_Q],[j.RIGHT_TRIGGER]:[fe.KEY_Z],[j.LEFT_BUMPER]:[fe.BRACKET_OPEN],[j.RIGHT_BUMPER]:[fe.BRACKET_CLOSE],[j.LEFT_ANALOG_LEFT]:[fe.KEY_9],[j.RIGHT_ANALOG_LEFT]:[fe.KEY_0],[j.START]:[fe.F10],[j.SELECT]:[fe.F11],[j.XBOX]:[fe.F1],[j.L3]:[fe.F2],[j.R3]:[fe.F3],[j.PSEUDO_BUTTON_1]:[fe.PSEUDO_KEY_1],[j.PSEUDO_BUTTON_2]:[fe.PSEUDO_KEY_2],[j.PSEUDO_BUTTON_3]:[fe.PSEUDO_KEY_3],[j.PSEUDO_BUTTON_4]:[fe.PSEUDO_KEY_4],[j.PSEUDO_BUTTON_5]:[fe.PSEUDO_KEY_5],[j.PSEUDO_BUTTON_6]:[fe.PSEUDO_KEY_6],[j.PSEUDO_BUTTON_7]:[fe.PSEUDO_KEY_7],[j.PSEUDO_BUTTON_8]:[fe.PSEUDO_KEY_8],[j.PSEUDO_BUTTON_9]:[fe.PSEUDO_KEY_9],[j.PSEUDO_BUTTON_10]:[fe.PSEUDO_KEY_10]},be={[j.UP]:[fe.UP],[j.DOWN]:[fe.DOWN],[j.LEFT]:[fe.LEFT],[j.RIGHT]:[fe.RIGHT],[j.X]:[fe.KEY_X,fe.KEY_E],[j.Y]:[fe.KEY_Y],[j.A]:[fe.ENTER,fe.SPACE,fe.KEY_Q],[j.B]:[fe.ESCAPE,fe.BACKSPACE],[j.LEFT_TRIGGER]:[fe.PG_UP],[j.RIGHT_TRIGGER]:[fe.PG_DOWN],[j.LEFT_BUMPER]:[fe.BRACKET_OPEN],[j.RIGHT_BUMPER]:[fe.BRACKET_CLOSE],[j.LEFT_ANALOG_LEFT]:[fe.KEY_9],[j.RIGHT_ANALOG_LEFT]:[fe.KEY_0],[j.START]:[fe.F10],[j.SELECT]:[fe.F11],[j.XBOX]:[fe.F1],[j.L3]:[fe.F2],[j.R3]:[fe.F3],[j.PSEUDO_BUTTON_1]:[fe.PSEUDO_KEY_1],[j.PSEUDO_BUTTON_2]:[fe.PSEUDO_KEY_2],[j.PSEUDO_BUTTON_3]:[fe.PSEUDO_KEY_3],[j.PSEUDO_BUTTON_4]:[fe.PSEUDO_KEY_4],[j.PSEUDO_BUTTON_5]:[fe.PSEUDO_KEY_5],[j.PSEUDO_BUTTON_6]:[fe.PSEUDO_KEY_6],[j.PSEUDO_BUTTON_7]:[fe.PSEUDO_KEY_7],[j.PSEUDO_BUTTON_8]:[fe.PSEUDO_KEY_8],[j.PSEUDO_BUTTON_9]:[fe.PSEUDO_KEY_9],[j.PSEUDO_BUTTON_10]:[fe.PSEUDO_KEY_10]},ve=(0,l.createStaticFacet)(he),ye=(0,r.createContext)([ve,()=>{}]),Fe=()=>(0,r.useContext)(ye),Se=(0,r.createContext)((()=>()=>{})),Ce=()=>(0,r.useContext)(Se),Me=(0,r.createContext)((0,l.createStaticFacet)(B.Initial)),we=()=>(0,r.useContext)(Me),ke=(0,l.createFacetContext)({isControllerHintsEnabled:!0,isKeyboardHintsEnabled:!1}),Te=()=>(0,r.useContext)(ke),Pe=ke.Provider,Ie=(ke.Consumer,(0,r.createContext)((0,l.createStaticFacet)({swapABButtons:!1,swapXYButtons:!1}))),xe=()=>(0,r.useContext)(Ie),Ae=Ie.Provider,Oe=(Ie.Consumer,()=>{}),Ne=(0,r.createContext)({current:{generateId:()=>(Oe(),-1),press:()=>{},isFocused:()=>(Oe(),!1),isFocusable:()=>(Oe(),!1),putNode:Oe,putShortcut:Oe,removeNode:Oe,removeShortcut:Oe,getElement:()=>{Oe()},isAncestorOf:()=>(Oe(),!1),getDynasty:()=>{Oe()},getEnabledBindingLandmarkDescendant:()=>{Oe()},containerHasEnabledItems:()=>(Oe(),!1),getClosestGrid:()=>(Oe(),null),updateGridNodeDimensions:()=>{Oe()}}}),{Provider:Re,Consumer:Le}=Ne,_e=Re,De=(0,r.createContext)({addAnalogListener:()=>()=>{},addDigitalListener:()=>()=>{},clickAtPoint:()=>{},focusAtPoint:()=>{}}),{Provider:We,Consumer:Be}=De,Ue=We,ze=(0,l.createFacetContext)({}),He=()=>(0,r.useContext)(ze),je=({value:e,children:t})=>r.createElement(ze.Provider,{value:e},t),Ve=(0,r.createContext)(void 0),Ge=()=>(0,r.useContext)(Ve),$e=({value:e,children:t})=>r.createElement(Ve.Provider,{value:e},t);let Ke,Ye,Xe,qe,Qe,Ze,Je;!function(e){e[e.TV_SCREEN_TYPE=0]="TV_SCREEN_TYPE",e[e.DESKTOP_SCREEN_TYPE=1]="DESKTOP_SCREEN_TYPE",e[e.HANDHELD_SCREEN_TYPE=2]="HANDHELD_SCREEN_TYPE",e[e.VR_SCREEN_TYPE=3]="VR_SCREEN_TYPE"}(Ke||(Ke={})),function(e){e[e.PHONE=0]="PHONE",e[e.TABLET=1]="TABLET"}(Ye||(Ye={})),function(e){e[e.GAMEPAD=0]="GAMEPAD",e[e.TOUCH=1]="TOUCH",e[e.MOUSE=2]="MOUSE",e[e.MOTION=3]="MOTION",e[e.KEYBOARD=4]="KEYBOARD"}(Xe||(Xe={})),function(e){e[e.ARVR_None=0]="ARVR_None",e[e.ARVR_Rift=1]="ARVR_Rift",e[e.ARVR_Holographic=2]="ARVR_Holographic",e[e.ARVR_WindowsMR=3]="ARVR_WindowsMR",e[e.ARVR_PSVR=4]="ARVR_PSVR",e[e.ARVR_GearVR=5]="ARVR_GearVR",e[e.ARVR_DesktopXR=6]="ARVR_DesktopXR"}(qe||(qe={})),function(e){e[e.IOS=0]="IOS",e[e.GOOGLE=1]="GOOGLE",e[e.AMAZON_HANDHELD=2]="AMAZON_HANDHELD",e[e.UWP=3]="UWP",e[e.XBOX=4]="XBOX",e[e.NX_HANDHELD=5]="NX_HANDHELD",e[e.PS4=6]="PS4",e[e.WIN32=7]="WIN32",e[e.MACOS=8]="MACOS",e[e.NX_TV=9]="NX_TV",e[e.PS5=10]="PS5"}(Qe||(Qe={})),function(e){e[e.SCALE_100_PERCENT=4]="SCALE_100_PERCENT",e[e.SCALE_125_PERCENT=5]="SCALE_125_PERCENT",e[e.SCALE_150_PERCENT=6]="SCALE_150_PERCENT",e[e.SCALE_175_PERCENT=7]="SCALE_175_PERCENT",e[e.SCALE_200_PERCENT=8]="SCALE_200_PERCENT"}(Ze||(Ze={})),function(e){e[e.XBOX=0]="XBOX",e[e.PS=1]="PS",e[e.STEAM=2]="STEAM",e[e.SWITCH=3]="SWITCH",e[e.QUEST=4]="QUEST"}(Je||(Je={}));const et=(0,r.createContext)({isPointerInputMouse:(0,l.createStaticFacet)(!1),isPointerInputTouch:(0,l.createStaticFacet)(!1),isPointerInputAvailable:(0,l.createStaticFacet)(!1),isFocusInputGamepad:(0,l.createStaticFacet)(!1),isFocusInputKeyboard:(0,l.createStaticFacet)(!1),isFocusInputAvailable:(0,l.createStaticFacet)(!1),isLastInputMouse:(0,l.createStaticFacet)(!1),isLastInputTouch:(0,l.createStaticFacet)(!1),isLastInputGamepad:(0,l.createStaticFacet)(!1),isLastInputKeyboard:(0,l.createStaticFacet)(!1),isLastInputPointer:(0,l.createStaticFacet)(!1),isLastInputFocus:(0,l.createStaticFacet)(!1),isGamepadSupported:(0,l.createStaticFacet)(!1),isKeyboardSupported:(0,l.createStaticFacet)(!1),isMouseSupported:(0,l.createStaticFacet)(!1),isTouchSupported:(0,l.createStaticFacet)(!1),isPointerSupported:(0,l.createStaticFacet)(!1),isFocusSupported:(0,l.createStaticFacet)(!1)}),tt=(0,r.createContext)((0,l.createStaticFacet)(Qe.XBOX)),at=(0,r.createContext)((0,l.createStaticFacet)(qe.ARVR_None)),nt=(0,r.createContext)((0,l.createStaticFacet)(Ke.TV_SCREEN_TYPE)),rt=(0,r.createContext)((0,l.createStaticFacet)(Je.XBOX)),lt=()=>(0,r.useContext)(et).isPointerInputMouse,ot=()=>(0,r.useContext)(et).isFocusInputGamepad,it=()=>(0,r.useContext)(et).isFocusInputKeyboard,ct=()=>(0,r.useContext)(et).isFocusInputAvailable,st=()=>(0,r.useContext)(et).isLastInputPointer,ut=()=>(0,r.useContext)(et).isLastInputFocus;var dt=a(71768),mt=a.n(dt);function pt(e,t){const a=e.elements.get(t);if(null!=a&&te(a))return null==a?void 0:a.alias}function ft(e,t){var a;const n=null!==(a=e.children.get(t.id))&&void 0!==a?a:[];for(const t of n){const a=e.elements.get(t);if(a)switch(a.type){case K.LANDMARK:if(!le(a))continue;if(ft(e,a))return!0;break;case K.FOCUS_GROUP:if(a.disabled||a.hidden)continue;if(ft(e,a))return!0;break;case K.ITEM:if(ne(a))return!0;case K.ROOT:}}return!1}function gt(e,t){return"string"==typeof t?e.aliases.get(t):null!=t&&e.elements.has(t)?t:void 0}function Et(e,t){const a=gt(e,t);if(null!=a)return e.elements.get(a)}function ht(e,t){const a=e.parents.get(t);return null==a?[]:[a,...ht(e,a)]}function bt(e,t,a){const n=e.parents.get(a);return n===t||null!=n&&bt(e,t,n)}function vt(e,t){const a=e.parents.get(t);if(null==a)return null;const n=e.elements.get(a);return null==n?null:ie(n)||oe(n)?n:vt(e,a)}function yt(e,t){const a=e.parents.get(t);if(null==a)return null;const n=e.elements.get(a);return null==n||ie(n)&&!ce(n)?null:ce(n)?n:yt(e,a)}function Ft(e,t){for(const a of t){const t=e.elements.get(a);if(t){if(ie(t)&&At(e,a))return!0;if(t.type===K.ITEM&&At(e,a))return!0}}return!1}const St=e=>{const t=(a,n)=>{const r=a.parents.get(n);if(null==r)return null;const l=a.elements.get(r);return null==l?null:e(l)?r:t(a,r)};return t},Ct=(e,t,a)=>{const n=ht(e,a);return null!=St((e=>ie(e)&&!mt()(e.id,n)))(e,t)},Mt=St((e=>e.disabled||e.hidden)),wt=(e,t)=>null!=Mt(e,t),kt=St(ue),Tt=St((e=>e.type===K.LANDMARK&&null!=e.scrollAxis)),Pt=(e,t,a)=>{const n=e.parents.get(t);return null!=n&&(n===a||Pt(e,n,a))},It=(e,t)=>{const a=xt(e,t);if(null!=a&&a.length>0){const t=Et(e,a[0]);return null!=t&&ue(t)?t:void 0}},xt=(e,t)=>{const a=e.bindingLandmarkDescendants.get(t);if(null==a)return;const n=[];for(const t of a)At(e,t)&&n.push(t);return n};function At(e,t){const a=Et(e,t);if(null==a)return!1;if(a.type===K.ROOT)return!0;if(!le(a))return!1;const n=ht(e,a.id);for(const t of n){const a=Et(e,t);if(null==a)return!1;if(a.type===K.ROOT)return!0;if(!le(a))return!1}return!0}const Ot=(e,t,a)=>{const n=gt(e,t);if(null==n)return;const r=e.elements.get(n);if(null!=r){if(r.type===K.ROOT||ie(r)&&At(e,n)){const e=r.getDelegatedFocus({delegationOrigin:a});return e!=l.NO_VALUE?e:void 0}return Ot(e,e.parents.get(n),a)}};function Nt(e,t,a){const n=e.elements.get(t);if(!n)return;if(At(e,t)){var r;const n=null===(r=e.shortcuts.get(t))||void 0===r?void 0:r.get(a);if(null!=n)return n}if(ue(n))return;const l=e.parents.get(t);return null!=l?Nt(e,l,a):void 0}function Rt(e,t,a){var n;return null===(n=Nt(e,t,a))||void 0===n?void 0:n.callback}function Lt(e,t){const a=[],n=ht(e,t);for(const t of n){const n=Et(e,t);if(null==n)return a;n.type!==K.LANDMARK&&n.type!==K.ROOT||!ne(n)||a.push(n)}return a}const _t=(e,t)=>a=>{var n;const r=null!==(n=a.getAttribute(G))&&void 0!==n?n:a.getAttribute(V);if(null==r)return!1;const l=parseInt(r,10);return t===l||bt(e,t,l)},Dt=(e,t)=>()=>{var a;const n=It(e,t);if(null!=n){const e=n.getDelegatedFocus({delegationOrigin:H.Mutation});if(null!=e&&e!==l.NO_VALUE)return e}const r={id:t,reason:U.DefaultDelegation},o=e.dynasty.get(t),i=Array.from(null!==(a=window.document.body.querySelectorAll("[data-focusable-id], [data-landmark-id]"))&&void 0!==a?a:[]);if(0===i.length)return r;for(let t=0;t<i.length;t++){const a=i[t].getAttribute(V),n=i[t].getAttribute(G);if(null!=a){const t=parseInt(a,10);if(null==o||!o.has(t))continue;const n=Et(e,t);if(!ie(n))continue;if(!At(e,t))continue;const r=_t(e,t),c=i.filter(r),s=n.getDelegatedFocus({cachedDescendantElements:c,delegationOrigin:H.Mutation});if(s!=l.NO_VALUE&&null!=s)return s}else if(null!=n){const t=parseInt(n,10);if(null!=o&&o.has(t)&&At(e,t))return{id:t,reason:U.FirstFoundDelegation}}}return r},Wt={[Q.UP]:ee.PREVIOUS,[Q.DOWN]:ee.NEXT,[Q.LEFT]:ee.PREVIOUS,[Q.RIGHT]:ee.NEXT},Bt={[Q.UP]:Q.DOWN,[Q.DOWN]:Q.UP,[Q.LEFT]:Q.RIGHT,[Q.RIGHT]:Q.LEFT},Ut={[Q.UP]:Y.VERTICAL,[Q.DOWN]:Y.VERTICAL,[Q.LEFT]:Y.HORIZONTAL,[Q.RIGHT]:Y.HORIZONTAL},zt={[Y.VERTICAL]:Y.HORIZONTAL,[Y.HORIZONTAL]:Y.VERTICAL},Ht=(e,t)=>{switch(t){case Q.DOWN:return e.top+e.height;case Q.UP:return e.top;case Q.RIGHT:return e.left+e.width;case Q.LEFT:return e.left}},jt=e=>[e.left+e.width/2,e.top+e.height/2],Vt=(e,t,a)=>{switch(a){case Y.HORIZONTAL:{const a=e.top+e.height,n=t.top+t.height,r=Math.max(t.top-e.top,0)+Math.max(a-n,0);return Math.max(e.height-r,0)/e.height}case Y.VERTICAL:{const a=e.left+e.width,n=t.left+t.width,r=Math.max(t.left-e.left,0)+Math.max(a-n,0);return Math.max(e.width-r,0)/e.width}}};function Gt(e,t){var a;const n=e.elements.get(t);if(null!=n&&"ref"in n)return null==n||null===(a=n.ref)||void 0===a?void 0:a.getBoundingClientRect()}function $t(e,t,a){for(const l of e.elements){var n,r;const o=l[1];if(o.type!==K.ITEM||!ae(o)||null==(null===(n=e.shortcuts.get(o.id))||void 0===n||null===(r=n.get(j.A))||void 0===r?void 0:r.callback))continue;const i=o.ref.getBoundingClientRect();if(t>=i.left&&t<=i.left+i.width&&a>=i.top&&a<=i.top+i.height)return o}}const Kt=e=>{let t=null,a=[1/0,1/0];for(const[r,l]of e.elements){var n;if(!te(l))continue;const o=null===(n=l.ref)||void 0===n?void 0:n.getBoundingClientRect();if(null==o)continue;if(l.type!==K.ITEM)continue;if(wt(e,l.id))continue;const i=jt(o),c=i[0]<a[0],s=i[0]===a[0]&&i[1]<a[1];(c||s)&&(t=r,a=i)}return t},Yt=e=>{const t=e.getAttribute(G);if(null!=t)return parseInt(t)};function Xt(e){const t={topLeftColumn:0,topLeftRow:0,columns:0,rows:0};if(0===e.length)return t;if(null==e)return t;const a=e.sort(((e,t)=>e[0]===t[0]?e[1]-t[1]:e[0]-t[0])),[n,r]=a[0],[l,o]=a[a.length-1];return t.topLeftColumn=r,t.topLeftRow=n,t.columns=o-r+1,t.rows=l-n+1,t}class qt{constructor(e=0,t=0){this._rows=e,this._columns=t,this._grid=new Array,this._itemIndices=new Map}_toIndex([e,t]){return e*this._columns+t}get columns(){return this._columns}_setColumns(e){if(!(e<=this._columns)){for(let e=this._grid.length-1;e>=0;e--)(e+1)%this._columns==0&&this._grid.splice(e,0,this._grid[e]);this._columns=e}}_setRows(e){if(e<=this._rows)return;const t=new Array(this._columns).fill(null).map(((e,t)=>{var a;return null!==(a=this._grid[this._grid.length-this._columns+t])&&void 0!==a?a:null}));this._grid.push(...t),this._rows=e}get rows(){return this._rows}get grid(){return this._grid}get itemIndices(){return this._itemIndices}getItemGridRect(e){const t=this._itemIndices.get(e);return null==t?{columns:0,rows:0,topLeftColumn:0,topLeftRow:0}:Xt(t)}getItemCenterCoords(e){const t=this._itemIndices.get(e);if(null==t)return;const a=t.sort(((e,t)=>e[0]===t[0]?e[1]-t[1]:e[0]-t[0]));return a[Math.floor((a.length-1)/2)]}get isPopulated(){var e;return null!==(e=(this._rows>0||this._columns>0)&&this._grid.length>0&&null!=this._itemIndices&&this._itemIndices.size>0)&&void 0!==e&&e}get length(){return this._grid.length}getCoords(e){return this._itemIndices.get(e)}setItem(e,t){this.removeItem(t);const a=e.map((e=>this.getItem(e))).filter((t=>{if(null==t)return!1;const a=this._itemIndices.get(t);return null==a?void 0:a.every((t=>{return a=t,e.some((e=>e[0]===a[0]&&e[1]===a[0]));var a}))})),n=a.length>0;e.forEach((([e,a])=>{const r=this.getItem([e,a]);if(null!=r){var l;const t=null===(l=this.itemIndices.get(r))||void 0===l?void 0:l.filter((([t,a])=>!(t===e&&a==a)));null!=t&&this._itemIndices.set(r,t)}const o=this._toIndex([e,a]);this._setColumns(Math.max(this._columns,a+1)),this._setRows(Math.max(this._rows,e+1)),n?function(e,t,a){if(a<0||a>e.length)throw new Error("Index out of bounds");e.length+=1;for(let t=e.length-1;t>a;t--)e[t]=e[t-1];e[a]=t}(this._grid,t,o):this._grid[o]=t}))}getItem(e){if(Array.isArray(e)){const t=this._toIndex(e);return this._grid[t]}if("string"==typeof e){const t=this._itemIndices.get(e);if(t&&t.length>0){const[e,a]=t[0];return this.getItem([e,a])}}return null}removeItem(e){if(Array.isArray(e)){const t=this._toIndex(e),a=this._grid[t];null!=a&&this._itemIndices.delete(a),this._grid[t]=null}else{if("number"!=typeof e)throw new Error("Invalid arguments provided for removeItem");{const t=this._itemIndices.get(e);t&&(t.forEach((([e,t])=>{const a=this._toIndex([e,t]);this._grid[a]=null})),this._itemIndices.delete(e))}}}printGrid(e){}}const Qt={0:"topLeftRow",1:"topLeftColumn"};function Zt(e,t){const a=e.grid.rows,n=e.grid.columns,r=t.grid.getCoords(e.nodeId);if(null==r)return[0,0];const l=Xt(r),[o,i]=[l.rows/a,l.columns/n];return[o,i]}function Jt(e,t,a,n,r=0){if(null==t)return;const o=yt(e,t);if(null!=o&&null!=o.ref){const i=e.grids.get(o.id);if(null==a&&(a=null==i?void 0:i.grid.getItemCenterCoords(t)),null==i)return;const c=ea(e,i,t,a,n,r);if(null!=c)return c;{const t=yt(e,o.id);if(null==t)return;const c=e.grids.get(t.id);if(null==c)return;const s=a,u=function(e,t,a){const n=t.grid.getItemGridRect(e.nodeId),[r,l]=Zt(e,t),[o,i]=null!=a?a:[0,0];return[Math.floor(o*r)+n.topLeftRow,Math.floor(i*l)+n.topLeftColumn]}(i,c,s),d=Jt(e,o.id,u,n,r);if(null==d)return;const[m,p]=d,f=e.elements.get(m);if(ce(f)){const t=e.grids.get(f.id);if(null!=t){const e=function(e,t,a,n,r,l){const o=[0,0],i=l.grid.getItemGridRect(r.nodeId),c=l.grid.getItemGridRect(n.nodeId);let s;switch(t){case Q.DOWN:s=1;break;case Q.UP:s=1,o[0]=r.grid.rows-1;break;case Q.RIGHT:s=0;break;case Q.LEFT:s=0,o[1]=r.grid.columns-1}if(null!=a){const e=a[s],t=Zt(n,l),u=Zt(r,l),d=t[s],m=u[s],p=i[Qt[s]]-c[Qt[s]],f=d/m;o[s]=Math.floor(e*d/m+p+f/2)}const u=r.grid.getItem(o);if(null!=u)return[u,o]}(0,n,s,i,t,c);if(null!=e)return e}}if(ie(f)){const t=f.getDelegatedFocus({delegationOrigin:H.UserInput});if(t!==l.NO_VALUE&&null!=t){const a=gt(e,t.id);if(null!=a)return[a,void 0]}}return[m,p]}}}function ea(e,t,a,n,r,l){const o=function(e,t,a,n,r){const l=null!=a?a:e.grid.getItemCenterCoords(t);if(null==l)return;const[o,i]=l,c=1+r;switch(n){case Q.DOWN:{const t=[o+c,i];if(t[0]>e.grid.rows-1)return;return t}case Q.UP:{const e=[o-c,i];if(e[0]<0)return;return e}case Q.RIGHT:{const t=[o,i+c];if(t[1]>e.grid.columns-1)return;return t}case Q.LEFT:{const e=[o,i-c];if(e[1]<0)return;return e}}}(t,a,null!=n&&function(e,t,a){const n=e.grid.getCoords(a);return null!=n&&n.some((e=>e[0]===t[0]&&e[1]===t[1]))}(t,n,a)?n:function(e,t){if(null==t)return;const a=gt(e,t);if(null==a)return;const n=yt(e,a);if(null==n)return;const r=e.grids.get(n.id);return null!=r?r.grid.getItemCenterCoords(a):void 0}(e,a),r,l);if(null!=o){const c=t.grid.getItem(o);if(null!=c){const s=Et(e,c);return null!=s&&(ae(s)||ce(i=s)&&re(i))&&s.id!==a?[c,o]:ea(e,t,a,n,r,l+1)}return ea(e,t,a,n,r,l+1)}var i}function ta(e){return Math.log(e/(1-e))}const aa=(e,t,a,n)=>{if(null==t)return 1;const r=e.elements.get(t);return null==r||r.type!==K.LANDMARK?1:Pt(e,a,t)&&r.scrollAxis==n?1e-6:1},na=Math.PI/12*5;function ra(e,t,a=!1){if(null==t)return;const n=document.body.querySelectorAll("[data-focusable-id]"),r=document.body.querySelector(`[data-focusable-id='${t}']`),l=kt(e,t);if(null==r){const t=Yt(n[0]);if(null==t)return;if(wt(e,t))return;if(null!=l&&!Pt(e,t,l))return;return t}const o=((e,t)=>{for(let a=0;a<t.length;a++)if(e===t[a])return a;return null})(r,n);if(null==o)return Yt(n[0]);let i=a?o-1:o+1;const c=()=>{a?i--:i++};for(;o!==i;){i<0&&(i=n.length-1),i>n.length-1&&(i=0);const t=Yt(n[i]);if(null!=t){const a=e.elements.get(t);if(null==a||wt(e,t)){c();continue}if(a.type!==K.ITEM||!0===a.disabled||!0===a.hidden){c();continue}if(null!=l&&!Pt(e,t,l)){c();continue}return t}c()}}const la=(e,t,a,n)=>{var r,o;if(null==t)return[null!==(o=Kt(e))&&void 0!==o?o:1,void 0];const i=e.elements.get(t);var c;if(null==i||!te(i))return[null!==(c=Kt(e))&&void 0!==c?c:1,void 0];const s=null==i||null===(r=i.ref)||void 0===r?void 0:r.getBoundingClientRect();var u;if(null==s)return[null!==(u=Kt(e))&&void 0!==u?u:t,void 0];const d=Jt(e,t,a,n);if(null!=d)return d;const m=jt(s);let p=t,f=1/0;const g=Ut[n],E=n===Q.LEFT||n===Q.RIGHT?X.HORIZONTAL:X.VERTICAL,h=zt[g],b=kt(e,t),v=Tt(e,t);(null==e.lastDirectionChange||!((e,t)=>{switch(e){case Q.DOWN:case Q.UP:return t===Q.UP||t===Q.DOWN;case Q.RIGHT:case Q.LEFT:return t===Q.LEFT||t===Q.RIGHT}})(e.lastDirectionChange[0],n)&&null!=t)&&(e.lastDirectionChange=[n,t]);for(const[a,r]of e.elements){var y,F;if(a===t)continue;if(!ae(r))continue;if(r.type===K.LANDMARK&&!ie(r))continue;if(r.type===K.LANDMARK&&bt(e,a,t))continue;if(null!=b&&!Pt(e,a,b))continue;if(wt(e,a))continue;if(Ct(e,a,t))continue;if(r.type===K.LANDMARK&&ie(r)&&!ft(e,r))continue;const l=null===(y=r.ref)||void 0===y?void 0:y.getBoundingClientRect();if(null==l)continue;const o=null!==(F=Gt(e,e.lastDirectionChange[1]))&&void 0!==F?F:Gt(e,t);if(null==o)continue;const i=jt(o),c=jt(l),u=(m[g]-c[g])*Wt[n],d=(Ht(s,n)-Ht(l,Bt[n]))*Wt[n],S=(Ht(s,n)-Ht(l,n))*Wt[n],C=d<0&&u>0?0:d;if(C<0)continue;const M=i[h]-c[h],w=m[h]-c[h],k=Math.max(C,1),T=Math.abs(u),P=Math.abs(M/(0===C?1:C)),I=Math.atan(P),x=Vt(s,l,g),A=1-x,O=Math.min(ta(A/2+.5),1e4),N=Vt(s,l,h),R=Math.min(ta(N/2+.5),7500),L=na*N**3,_=P*A,D=(I+L)*A,W=Math.abs(w/T),B=Math.abs(w/(0===S?1:S)),U=Math.atan(W)+L,z=Math.atan(B),H=(S<0||z>=na)&&0===x;if(D>=na&&(U>=na||H))continue;const j=(k+_+O+R)*aa(e,v,a,E);f>j&&(f=j,p=a)}const S=e.elements.get(p);if(ie(S)){const t=S.getDelegatedFocus({delegationOrigin:H.UserInput});if(t!==l.NO_VALUE&&null!=t){const a=gt(e,t.id);if(null!=a)return[a,void 0]}}return[p,void 0]},oa=(e,t)=>{if(!ue(t))return;e.bindingLandmarkStack.push(t.id);const a=t.getDelegatedFocus({delegationOrigin:H.Mutation});return a===l.NO_VALUE?void 0:a};function ia(e,t,a,n){const r=le(t)&&At(e,n);return{isFocusableEnabled:r,isFocusableBecomingEnabled:null!=a&&r&&!le(a),isFocusableBeingAddedEnabled:null==a&&r}}function ca(e,t,a,n){const r=function(e,t,a,n){return null==a&&null!=n&&(ie(n)||oe(n))?n:vt(e,null==a&&null!=(null==n?void 0:n.id)?n.id:t.id)}(e,t,a,n),l=null!=r?e.dynasty.get(r.id):void 0;return{closestDelegatingAncestor:r,maybeDynasty:l,closestDelegatingAncestorDynastyHasNoEnabledItems:null==l||!Ft(e,l),closestDelegatingLandmark:ie(r)?r:void 0}}const sa=e=>{const t=e.getDelegatedFocus({delegationOrigin:H.Mutation});if(null!=t&&t!==l.NO_VALUE)return t};function ua(e,t,a,n,r,o,i,c,s){const{isFocusableEnabled:u,isFocusableBecomingEnabled:d,isFocusableBeingAddedEnabled:m}=ia(e,t,a,null==n?void 0:n.id),p=null==o||!Ft(e,o);return{delegateFocusOnBindingLandmarkCase:function(){const r=le(t)&&At(e,null==n?void 0:n.id),o=null==a&&r,c=le(t)&&At(e,null==n?void 0:n.id),u=null!=a&&!ae(t)&&ae(a),d=function(e,t,a,n,r){if(!r)return null;const{newStack:o,discardedStack:i}=function(e,t){const a=[],n=new Set;return e.bindingLandmarkStack.forEach((r=>{bt(e,t,r)||t===r?n.add(r):a.push(r)})),{newStack:a,discardedStack:n}}(e,t.id);if(e.bindingLandmarkStack=o,n){const n=function(e,t,a){if(null!=t)for(const n of a)if(bt(e,n,t)&&e.bindingLandmarkStack.length>0){const t=Et(e,e.bindingLandmarkStack[e.bindingLandmarkStack.length-1]);if(null!=t&&ue(t)){const e=t.getDelegatedFocus({delegationOrigin:H.Mutation});if(null!=e&&e!==l.NO_VALUE)return e}}}(e,a,i);if(n)return n;if(function(e,t,a){if(null==t)return!1;const n=t===a;return bt(e,a,t)||n}(e,a,t.id))return Ot(e,t.id,H.Mutation)}}(e,t,i,s,u);if(null!=d)return d;const m=function(e,t,a,n,r){return a&&(n||r)?function(e,t){return oa(e,t)||function(e,t){const a=xt(e,t.id);if(null!=a&&a.length>0){const t=Et(e,a[0]);if(null!=t&&te(t))return oa(e,t)}return null}(e,t)||null}(e,t):null}(e,t,s,c,o);return m||void 0},delegateFocusOnLandmarkIdentityChanged:function(){const n=s&&null!=i&&null!=a&&ie(t)&&ie(a),r=i===t.id;if(n){const n=c.origin===B.FocusTreeMutation,o=a.delegateFocusByAlias!==t.delegateFocusByAlias,s=t.landmarkKey!==a.landmarkKey;if((o&&n||s)&&(r||bt(e,t.id,i))){const e=t.getDelegatedFocus({delegationOrigin:H.Mutation});if(null!=e&&e!==l.NO_VALUE)return e}}},delegateFocusIfFocusableAliasChanged:function(){const n=ie(r)?r:void 0;if((null==a||te(a))&&s&&u&&c.origin===B.FocusTreeMutation&&null!=i&&te(t)&&(null==a||a.alias!==t.alias||d||m)&&null!=n&&(null!=n.delegateFocusByAlias||null!=n.delegationMemoryStack)&&(n.id===i||bt(e,n.id,i))){const e=n.getDelegatedFocus({delegationOrigin:H.Mutation});if(null!=e&&e!==l.NO_VALUE)return e}},delegateFocusOnDelegatingAncestorHasNoEnabledChildren:function(){if(s&&(d||m)&&p&&null!=r&&null!=i&&r.id===i)return sa(r)}}}function da(e){var t,a;const n=e.id.toString(),r=e.type===K.LANDMARK;var l;null===(t=e.ref)||void 0===t||t.removeAttribute(r?G:V),null===(a=e.ref)||void 0===a||a.setAttribute(r?V:G,n),null!=window.__REACT_FACET_DEVTOOLS_GLOBAL_HOOK__&&(null===(l=e.ref)||void 0===l||l.setAttribute($,n))}function ma(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(a),!0).forEach((function(t){fa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ma(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function fa(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ga=e=>pa(pa({},e),{},{height:e.height,width:e.width,x:e.x,y:e.y,left:e.left,top:e.top,right:e.right,bottom:e.bottom}),Ea=(e,t,a)=>pa(pa({},e),{},{height:e.height,width:e.width,x:e.x-t.x+a.scrollLeft,y:e.y-t.y+a.scrollTop,left:e.left-t.left+a.scrollLeft,top:e.top-t.top+a.scrollTop,right:e.right-t.left+a.scrollLeft,bottom:e.bottom-t.top+a.scrollTop});function ha(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ba(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(a),!0).forEach((function(t){va(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ha(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function va(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ya(e,t){var a;const n=new Set([...t.keys()].map((e=>e)));return{nodeId:e.id,grid:new qt,itemElementsDimensions:t,dynasty:n,gridElementDomRef:null!==(a=e.ref)&&void 0!==a?a:void 0,resolution:{width:0,height:0},gridElementDimensions:void 0}}function Fa(e,t,a){var n,r;const{resolution:l,gridElementDimensions:o}=function(e,t){var a,n,r,l;const o=ga(e.ref.getBoundingClientRect()),i={width:0,height:0,gapHorizontal:0,gapVertical:0,offsetHorizontal:0,offsetVertical:0};if(i.width=null!=e.gridColumns?Math.ceil(o.width)/e.gridColumns:i.width,i.width=null!==(a=e.gridCellWidth)&&void 0!==a?a:i.width,i.height=null!=e.gridRows?Math.ceil(o.height)/e.gridRows:i.height,i.height=null!==(n=e.gridCellHeight)&&void 0!==n?n:i.height,i.offsetHorizontal=null!==(r=e.gridOffsetHorizontal)&&void 0!==r?r:0,i.offsetVertical=null!==(l=e.gridOffsetVertical)&&void 0!==l?l:0,e.gridCellSizeAuto&&null!=t&&t.size>0){var c,s;const e=[...t.values()],a=0===i.width||e.some((e=>e.width<i.width)),n=0===i.height||e.some((e=>e.height<i.height));(a||n)&&(i.width=a?Math.min(...e.map((e=>e.width))):i.width,i.height=n?Math.min(...e.map((e=>e.height))):i.height);const r={horizontal:0,vertical:0};if(0===i.offsetHorizontal||0===i.offsetVertical){const t=function(e){const t=e.sort(((e,t)=>e.x-t.x))[0],a=e.sort(((e,t)=>e.y-t.y))[0];return{offsetX:t.x,offsetY:a.y}}(e);i.offsetHorizontal=t.offsetX,i.offsetVertical=t.offsetY}i.gapHorizontal=null!==(c=r.horizontal)&&void 0!==c?c:0,i.gapVertical=null!==(s=r.vertical)&&void 0!==s?s:0}return{resolution:i,gridElementDimensions:o}}(t,a);e.resolution=l,e.gridElementDimensions=o;const i=null!==(n=e.resolution.gapVertical)&&void 0!==n?n:0,c=null!==(r=e.resolution.gapHorizontal)&&void 0!==r?r:0,s=e.resolution.height+i,u=e.resolution.width+c,d=0!==s?Math.floor(o.height/s):0,m=0!==s?Math.floor(o.width/u):0;return e.grid=new qt(d,m),ba(ba({},e),{},{resolution:l,gridElementDimensions:o,gridElementDomRef:t.ref})}function Sa(e,t){if(null!=t)return[...t].reduce(((t,a)=>{const n=e.elements.get(a);return null!=n&&"ref"in n&&null!=n.ref?(t.set(a,ga(n.ref.getBoundingClientRect())),t):t}),new Map);console.warn("Grid has no dynasty")}function Ca(e,t,a=!1){const n=e.grids.get(t.id);if(se(t)||null==n||e.grids.delete(t.id),se(t)){if(null!=n&&n.grid.isPopulated&&!a)return;const r=Sa(e,null==n?void 0:n.dynasty);if(null==r)return;Ma(e,t,r)}}const Ma=function(e,t,a={}){const n=new Map,{leading:r=!1,trailing:l=!0}=a;return function(a,o,i){const c=o.id,s=Date.now();let u=n.get(c);null==u&&(u={timeoutId:null,lastArgs:null,invokedLeading:!1,lastCallTime:null},n.set(c,u));const d=u;d.lastArgs=[a,o,i],(null==d.lastCallTime||s-d.lastCallTime>=t)&&r&&!d.invokedLeading&&(d.invokedLeading=!0,e(...d.lastArgs)),null!=d.timeoutId&&clearTimeout(d.timeoutId),l?d.timeoutId=setTimeout((()=>{(t=>{const a=n.get(t);null!=a&&a.lastArgs&&(e(...a.lastArgs),a.invokedLeading=!1,a.lastCallTime=Date.now()),null!=a&&n.set(t,ba(ba({},a),{},{timeoutId:null}))})(c)}),t):r||(d.lastCallTime=s),n.set(c,d)}}((function(e,t,a){const n=function(e,t,a){var n;const r=ya(t,a);r.itemElementsDimensions=null!==(n=Sa(e,r.dynasty))&&void 0!==n?n:r.itemElementsDimensions;let l=Fa(r,t,r.itemElementsDimensions);return l=function(e,t){return e.resolution.width<=0||e.resolution.height<=0?(console.warn("Tried to add items to grid with zero resolution"),e):(new Set([...t.keys()].map((e=>e))).forEach((a=>{const n=t.get(a);if(null==n)return;e.dynasty.has(a)||e.dynasty.add(a);const{startRow:r,startCol:l,endRow:o,endCol:i}=((e,t)=>{var a,n,r,l;if(0===e.resolution.height||0===e.resolution.width)return{startRow:0,startCol:0,endRow:0,endCol:0};const o=null!==(a=e.resolution.gapVertical)&&void 0!==a?a:0,i=null!==(n=e.resolution.gapHorizontal)&&void 0!==n?n:0,c=null!==(r=e.resolution.offsetVertical)&&void 0!==r?r:0,s=null!==(l=e.resolution.offsetHorizontal)&&void 0!==l?l:0,u=Math.floor(t.left-s),d=Math.floor(t.top-c),m=Math.floor(e.resolution.height+o),p=Math.floor(e.resolution.width+i),f=Math.min(t.height,m)/2,g=Math.min(t.width,p)/2,E=Math.floor((d+f)/m),h=Math.floor((u+g)/p),b=Math.floor((d+Math.floor(t.height)-f)/m),v=Math.floor((u+Math.floor(t.width)-g)/p);return{startRow:E<0?0:E,startCol:h<0?0:h,endRow:b<0?0:b,endCol:v<0?0:v}})(e,n),c=[];for(let e=r;e<=o;e++)for(let t=l;t<=i;t++)c.push([e,t]);e.grid.setItem(c,a),e.grid.itemIndices.set(a,c)})),e)}(l,l.itemElementsDimensions),l}(e,t,a);n.grid.printGrid(t.id),e.grids.set(t.id,n)}),100,{trailing:!0,leading:!1});function wa(e,t,a,n,r){if(null==(null==t?void 0:t.ref))return;if(!ce(a))return;const l=[t.id,null!=n?n:ga(t.ref.getBoundingClientRect())];let o=e.grids.get(null==a?void 0:a.id);if(null==o&&(o=ya(a,new Map([l])),e.grids.set(null==a?void 0:a.id,o)),o.dynasty.has(t.id)||(o.dynasty.add(t.id),o.itemElementsDimensions.set(l[0],l[1]),e.grids.set(null==a?void 0:a.id,o)),!se(a))return;let i=(c=o).resolution.width>0&&c.resolution.height>0&&null!=c.gridElementDimensions&&null!=c.gridElementDomRef?o:null;var c;null==i&&(i=Fa(o,a,o.itemElementsDimensions),e.grids.set(null==a?void 0:a.id,i));const s=l[1],u=i.grid.itemIndices.has(t.id),d=i.itemElementsDimensions.get(t.id),m=null!=d&&((e,t,a,n)=>{const r=Ea(e,a,n),l=Ea(t,a,n);return["top","left","width","height"].every((e=>Math.floor(r[e])===Math.floor(l[e])))})(s,d,i.gridElementDimensions,i.gridElementDomRef);var p,f;return null!=d&&m||(i.itemElementsDimensions.set(l[0],l[1]),e.grids.set(null==a?void 0:a.id,i)),(a.gridCellSizeAuto||r)&&(s.width<i.resolution.width||s.height<i.resolution.height||0===i.resolution.width||0===i.resolution.height||r)?(i.itemElementsDimensions=null!==(p=Sa(e,i.dynasty))&&void 0!==p?p:new Map,void Ma(e,a,i.itemElementsDimensions)):u&&m?void 0:(i.itemElementsDimensions=null!==(f=Sa(e,i.dynasty))&&void 0!==f?f:new Map,void Ma(e,a,i.itemElementsDimensions))}function ka(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ta(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(a),!0).forEach((function(t){Pa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ka(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Pa(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ia(e,t,a,n,r,l,o,i){const c=function(e,t,a){let n;if("alias"in t&&null!=t.alias){const a=e.aliases.get(t.alias);if(null!=a&&a!==t.id){const t=e.elements.get(a);null!=t&&e.elements.set(a,Ta(Ta({},t),{},{alias:void 0}))}}null==a&&"alias"in t&&null!=t.alias&&e.aliases.set(t.alias,t.id);const r="alias"in t?t.alias:void 0;if(a!==r){null!=a&&e.aliases.delete(a);const l=null!=r;l&&e.aliases.set(r,t.id),n=l?r:t.id}return n}(t,a,pt(t,a.id));if(t.elements.set(a.id,a),null!=r){var s;const e=null!==(s=t.children.get(r))&&void 0!==s?s:new Set;e.add(a.id),t.children.set(r,e),t.parents.set(a.id,r),function(e,t,a){if(ue(e))for(let r=t;null!=r;r=a.parents.get(r)){var n;const t=a.elements.get(r);if(null==t)break;const l=null!==(n=a.bindingLandmarkDescendants.get(t.id))&&void 0!==n?n:new Set;if(l.add(e.id),a.bindingLandmarkDescendants.set(t.id,l),ue(t))break}}(a,r,t)}return function(e,t,a,n,r){if(null!=e&&te(t)){const l=null!=a?a:new Set;l.add(t.id),n.dynasty.set(e.id,l),e.type===K.LANDMARK&&e.onDynastyUpdated(r)}}(l,a,o,t,i),function(e,t,a,n){null==t?e&&ie(a)&&xa(a,n):(e&&ie(t)&&!ie(a)&&n.dynasty.delete(a.id),e&&!ie(t)&&ie(a)&&xa(a,n))}(n,e,a,t),c}function xa(e,t){const a=t.children.get(e.id);if(null!=a){var n;const r=null!==(n=t.dynasty.get(e.id))&&void 0!==n?n:new Set,l=e=>{if(null!=e)for(const a of e){r.has(a)||r.add(a);const e=t.elements.get(a);if(!ie(e)){const e=t.children.get(a);l(e)}}};l(a),t.dynasty.set(e.id,r)}}function Aa(e){e.lastDirectionChange=void 0}const Oa=function(){const e=new Map;return(t,a,n)=>(a.forEach((a=>{var r,l,o,i;const c=a;if(c.type===K.ROOT)return;if(null==c.scrollAxis||!0===t.disableScrollIntoView)return;if(null==t.ref)return;if(null==c.ref)return;const s=e.get(c.id);s&&(s(),e.delete(c.id));const{scrollIntoView:u,stopScrolling:d}=function({disabledTransition:e=!1,speedFactor:t=1,align:a="center",scrollOffset:n=0,axis:r="y"}={}){let l,o,i,c,s;const u=300/t,d=()=>{if(!o)return;const t=Date.now()-s,a=t/u,n=t>u||e;o["x"===r?"scrollLeft":"scrollTop"]=Math.round(i+function(e){return--e*e*e+1}(n?1:a)*c),n||window.requestAnimationFrame(d)};return{scrollIntoView(e,t){o=e,l=t;const u=o.getBoundingClientRect(),m=u["x"===r?"width":"height"],p=l.getBoundingClientRect(),f="center"===a?m/2:0;c=("x"===r?p.left:p.top)-("x"===r?u.left:u.top)+("center"===a?p["x"===r?"width":"height"]/2:0)-f+n,i=o["x"===r?"scrollLeft":"scrollTop"],s=Date.now(),Math.abs(c)<5||window.requestAnimationFrame(d)},scrollTo(e,t){o=e,i=o["x"===r?"scrollLeft":"scrollTop"],c=t-i,s=Date.now(),window.requestAnimationFrame(d)},stopScrolling(){o=null,l=null}}}({disabledTransition:n,speedFactor:null!==(r=null!==(l=t.scrollSpeedFactor)&&void 0!==l?l:c.scrollIntoViewSpeedFactor)&&void 0!==r?r:1,align:(t.scrollAlign?t.scrollAlign:c.scrollIntoViewAlign)||"center",scrollOffset:(null!==(o=c.scrollIntoViewOffset)&&void 0!==o?o:0)+(null!==(i=t.scrollOffset)&&void 0!==i?i:0),axis:c.scrollAxis===X.HORIZONTAL?"x":"y"});u(c.ref,t.ref),e.set(c.id,d)})),()=>{for(const t of e.values())t();e.clear()})}();function Na(e,t){if(null==t)return{};const a=gt(e,t),n={};if(null==a)return n;const r=[a,...ht(e,a)];for(let a=0;a<r.length;a++){const l=r[a],o=e.shortcuts.get(l),i=e.elements.get(l);if(!i){console.error(`Missing element for id ${l} while constructing Input Legends after ${t} was focused`);break}if(null!=o){for(const[e,t]of o)e in n||(n[e]=t.inputLegend);if(ue(i))break}}return n}const Ra=(0,r.createContext)([(0,l.createStaticFacet)(!0),()=>{}]),La=()=>(0,r.useContext)(Ra),_a=({isNavigationDisabledFacet:e,setIsNavigationDisabled:t,children:a})=>{const n=(0,r.useMemo)((()=>[e,t]),[e,t]);return r.createElement(Ra.Provider,{value:n},a)},Da=(0,r.createContext)((0,l.createStaticFacet)(1)).Provider;var Wa=a(29584),Ba=a.n(Wa);function Ua(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function za(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(a),!0).forEach((function(t){Ha(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ua(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ha(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ja=[1];function Va({children:e,driver:t,initialFocusTree:a,initialFocusedId:n,notifyFocusRequest:o,onFocusedIdChange:i,onFocusTreeChange:c,onFocusedIdChangeFail:s,navigateToDirection:u=la,isControllerHintsEnabled:d=(0,l.createStaticFacet)(!0),isKeyboardHintsEnabled:m=(0,l.createStaticFacet)(!1),swapABButtons:p=(0,l.createStaticFacet)(!1),swapXYButtons:f=(0,l.createStaticFacet)(!1),disabledTransition:g=(0,l.createStaticFacet)(!1),keyboardGamepadMap:E,setKeyboardGamepadMap:h}){const b=(0,r.useRef)(2),[v,y]=(0,l.useFacetState)(!1),F=(0,l.useFacetWrap)(E),S={id:null!=n?n:1,gridCell:void 0,origin:B.Initial},[C,M]=(0,l.useFacetState)(S),w=(0,r.useRef)(S),k=(0,r.useCallback)(((e,t,a)=>{const n={id:e,gridCell:t,origin:a};w.current=n,M(n)}),[w,M]),T=(0,l.useFacetMap)((e=>e.origin),[],[C]),P=(0,r.useMemo)((()=>null==a?(()=>{const e={elements:new Map,candidates:new Set,children:new Map,parents:new Map,aliases:new Map,shortcuts:new Map,history:[],bindingLandmarkStack:[],dynasty:new Map,grids:new Map,bindingLandmarkDescendants:new Map},t={type:K.ROOT,id:1,alias:void 0,disabled:!1,hidden:!1,ref:null,scrollAxis:null,onDown:void 0,onUp:void 0,onRight:void 0,onLeft:void 0,onBlur:void 0,onFocus:void 0,disableScrollIntoView:void 0,getDelegatedFocus:Dt(e,1)};return e.elements.set(1,t),e})():a),[a]),[I,x]=(0,l.useFacetState)(P),[A,O]=(0,l.useFacetState)(Na(P,n)),N=(0,l.useFacetRef)(A),L=(0,l.useFacetMap)((e=>Object.entries(e).reduce(((e,[t,a])=>{const n=a.reduce(((e,a)=>za(za({},e),{},{[a]:t})),{});return za(za({},e),n)}),{})),[],[F]),_=(0,r.useRef)(void 0);(0,l.useFacetEffect)((e=>{_.current=e}),[],[L]);const D=ut(),z=(0,r.useCallback)((e=>{const t=Na(P,e);N.current!==l.NO_VALUE&&function(e,t){for(const a in e)if(!(a in t)||e[a]!==t[a])return!1;for(const a in t)if(!(a in e)||e[a]!==t[a])return!1;return!0}(t,N.current)||(O(t),N.current=t)}),[P,N,O]),V=(0,l.useFacetCallback)(((e,t)=>(a,n,r,l)=>{if(null!=a&&w.current.id!==a){const o=gt(P,w.current.id);k(a,n,r),null==i||i(a),((e,t,a,n)=>{const r=gt(e,t);if(null==r)return;let l;for(let o=e.parents.get(r);null!=o;o=e.parents.get(o)){const r=e.elements.get(o);if(ie(r)){if(null==l)r.onFocusableOfDynastyFocused(t,a,n);else{const t=e.elements.get(l),o=null!=t&&te(t)?null==t?void 0:t.alias:void 0;r.onFocusableOfDynastyFocused(null!=o?o:l,a,n)}l=o}}})(P,a,r,l),((e,t,a)=>{const n=gt(e,a),r=null!=t?e.elements.get(t):void 0;var l;null!=r&&te(r)&&r.id!==n&&(null===(l=r.onBlur)||void 0===l||l.call(r));const o=null!=n?e.elements.get(n):void 0;var i;null!=o&&te(o)&&(null===(i=o.onFocus)||void 0===i||i.call(o))})(P,o,a),z(a),e&&(re.current=((e,t,a)=>{if(null==t)return;const n=gt(e,t);if(null==n)return;const r=e.elements.get(n);if(!r||r.type==K.ROOT||!te(r))return;const l=Lt(e,n);return Oa(r,l,a)})(P,a,t))}}),[k,i,P,w,z],[D,g]),G=(0,l.useFacetCallback)((e=>(t,a,n)=>{var r;if(Aa(P),n){const t=Et(P,e.id);if(null!=t&&te(t)&&At(P,e.id))return()=>{}}const l="number"==typeof t&&null!==(r=pt(P,t))&&void 0!==r?r:t;return V(l,void 0,a),()=>{Aa(P);const t=Et(P,e.id);null!=t&&te(t)&&At(P,e.id)&&V(e.id,e.gridCell,e.origin)}}),[V,P],[C]),$=(0,r.useCallback)(((e,t,a=B.ImperativeSetFocus)=>{const n=Et(P,e);return null!=n&&!te(n)||!At(P,e)?()=>{}:G(e,a,t)}),[G,P,w]),Y=(0,r.useMemo)((()=>{const e=e=>{null==c||c(e)};return{generateId:()=>b.current++,press(e,t){const a=gt(P,w.current.id);if(null!=a){const t=((e,t,a)=>{const n="string"==typeof t?e.aliases.get(t):t;if(null==n)return!1;const r=Rt(e,n,a);return null!=r&&(r(),!0)})(P,a,e);if(t)return}if(e in Z){const r=Z[e];if(null!=r){var n;if(null!=a){const e=((e,t,a)=>{const n="string"==typeof t?e.aliases.get(t):t;if(null==n)return!1;const r=e.elements.get(n);if(null==r||!te(r))return!1;switch(a){case Q.LEFT:if(r.onLeft&&r.onLeft())return!0;break;case Q.RIGHT:if(r.onRight&&r.onRight())return!0;break;case Q.UP:if(r.onUp&&r.onUp())return!0;break;case Q.DOWN:if(r.onDown&&r.onDown())return!0}return!1})(P,a,r);if(e)return}const[e,l]=u(P,a,w.current.gridCell,r);e===a&&null!=s&&1!==e&&s();const o=null!==(n=pt(P,e))&&void 0!==n?n:e;V(o,l,t)}}else switch(e){case j.A:return void((e,t)=>{if(null==t)return;const a=e.elements.get(t);var n,r;null!=a&&a.type===K.ITEM&&(null===(n=e.shortcuts.get(t))||void 0===n||null===(r=n.get(j.A))||void 0===r||r.callback())})(P,a);case j.B:return;case j.NEXT:{const e=ra(P,a,!1);return void(null!=e&&V(e,void 0,B.FocusInput))}case j.PREV:{const e=ra(P,a,!0);return void(null!=e&&V(e,void 0,B.FocusInput))}}},putNode(t,a){const n=w.current,r=!(null!=n.id&&1!=n.id&&(n.origin===B.URL||n.origin===B.Initial))||null!=n.id,l=function(e,t,a,n,r){return te(t)?function(e,t,a,n,r){const l=Et(e,t.id),o=gt(e,n.id),i=Et(e,a),{closestDelegatingAncestor:c,maybeDynasty:s}=ca(e,t,l,i),{delegateFocusOnLandmarkIdentityChanged:u,delegateFocusOnBindingLandmarkCase:d,delegateFocusIfFocusableAliasChanged:m,delegateFocusOnDelegatingAncestorHasNoEnabledChildren:p}=ua(e,t,l,i,c,s,o,n,r);let f;switch(t.type){case K.LANDMARK:{f=Ia(l,e,t,!0,a,c,s,n),da(t),ce(t)&&requestAnimationFrame((()=>{Ca(e,t)}));const r=yt(e,t.id);ce(r)&&requestAnimationFrame((()=>{wa(e,t,r)}));const o=u();if(null!=o)return o;const i=d();if(null!=i)return i;break}case K.ITEM:{da(t),f=Ia(l,e,t,!1,a,c,s,n);const r=yt(e,t.id);ce(r)&&requestAnimationFrame((()=>{wa(e,t,r)}));break}}const g=m();if(g)return g;const E=p();if(E)return E;const h=function(e,t,a,n){const r=a===t.id;if(e&&r&&null!=n)return{id:n,reason:U.FocusableAliasMutation}}(r,t,o,f);return null!=h?h:void 0}(e,t,a,n,r):function(e,t,a,n,r){const l=gt(e,n.id),o=Et(e,t.id),i=Et(e,a),{closestDelegatingAncestor:c,maybeDynasty:s}=ca(e,t,o,i),{delegateFocusOnDelegatingAncestorHasNoEnabledChildren:u}=function(e,t,a,n,r,l,o,i,c){const{isFocusableBecomingEnabled:s,isFocusableBeingAddedEnabled:u}=ia(e,t,a,null==n?void 0:n.id),d=null==l||!Ft(e,l);return{delegateFocusOnDelegatingAncestorHasNoEnabledChildren:function(){if(c&&(s||u)&&d&&null!=r&&null!=o&&r.id===o)return sa(r)}}}(e,t,o,i,c,s,l,0,r),d=null!=o&&(p=t,!1===(m=o).disabled&&!0===p.disabled||!1===m.hidden&&!0===p.hidden);var m,p;const f=null!=l&&bt(e,t.id,l);if(Ia(o,e,t,!1,a,c,s,n),ce(t)){requestAnimationFrame((()=>{Ca(e,t)}));const a=yt(e,t.id);a&&requestAnimationFrame((()=>{wa(e,t,a)}))}return u()||(r&&d&&f&&null!=c?sa(c):void 0)}(e,t,a,n,r)}(P,t,a,w.current,r);null!=l&&V(l.id,void 0,B.FocusTreeMutation,l.reason),e(P)},updateGridNodeDimensions(t,a){const n=P.elements.get(t);if(null==n||n.type!==K.ITEM&&n.type!==K.LANDMARK)return;const r=yt(P,t);ce(r)&&requestAnimationFrame((()=>{wa(P,n,r,a),e(P)}))},putShortcut(t,a,n){!function(e,t,a,n){var r;const{shortcuts:l}=e;l.get(t)||l.set(t,new Map),null===(r=l.get(t))||void 0===r||r.set(a,n)}(P,t,a,n),z(w.current.id),e(P)},removeNode(t){const a=function(e,t,a){const n=e.elements.get(t);if(!n)return;const r=e.parents.get(t),o=yt(e,t),i=function(e,t,a,n){const r=a.id,l=gt(e,r),o=null!=l&&bt(e,t.id,l),i=l===t.id;return()=>{if(null!=n&&(o||i)){const t=Ot(e,n,H.Mutation);if(null!=t)return t}}}(e,n,a,r);if(te(n)&&null!=n.alias&&e.aliases.delete(n.alias),null!=r){const a=e.children.get(r);null!=a&&a.delete(t),e.parents.delete(t),function(e,t,a){if(se(a)){const n=e.grids.get(a.id);if(null==n)return;n.grid.removeItem(t.id),n.dynasty.delete(t.id),n.grid.itemIndices.delete(t.id),n.itemElementsDimensions.delete(t.id),e.grids.set(a.id,n),n.grid.printGrid(a.id)}}(e,n,o),se(n)&&e.grids.delete(t),function(e,t){const a=vt(e,t.id);if(null!=a){const n=e.dynasty.get(a.id);null!=n&&n.delete(t.id)}null!=a&&a.type!==K.ROOT&&null!=a.delegationMemoryStack&&a.delegationMemoryStack.forEach((e=>{const a=e.indexOf(t.id);e.splice(a,1)}))}(e,n),n.type===K.LANDMARK&&function(e,t){if(e.bindingLandmarkDescendants.delete(t.id),ue(t))for(const[a,n]of e.bindingLandmarkDescendants)n.delete(t.id)}(e,n)}if(e.parents.delete(t),e.elements.delete(t),e.shortcuts.delete(t),ue(n)){const t=e.bindingLandmarkStack.indexOf(n.id);if(-1!==t){const a=t===e.bindingLandmarkStack.length-1;if(e.bindingLandmarkStack.splice(t),a&&e.bindingLandmarkStack.length>0){const t=e.bindingLandmarkStack.filter((t=>At(e,t))),a=function(e){if(null!=e&&ue(e)){const t=e.getDelegatedFocus({delegationOrigin:H.Mutation});if(null!=t&&t!==l.NO_VALUE)return t}}(Et(e,t[e.bindingLandmarkStack.length-1]));if(null!=a)return a}}}const c=i();return null!=c?c:void 0}(P,t,w.current);null!=a&&V(a.id,void 0,B.FocusTreeMutation,a.reason),e(P)},removeShortcut(t,a){!function(e,t,a){const n=e.shortcuts.get(t);n&&(n.delete(a),0===n.size&&e.shortcuts.delete(t))}(P,t,a),z(w.current.id),e(P)},isFocused:(e,t)=>e===w.current.id||null!=t&&t===w.current.id,isFocusable:e=>{const t=Et(P,e);return null!=t&&te(t)&&At(P,e)},containerHasEnabledItems:e=>{const t=Et(P,e);return!(null==t||!(e=>e.type===K.LANDMARK||e.type===K.FOCUS_GROUP)(t))&&ft(P,t)},getElement:e=>Et(P,gt(P,e)),isAncestorOf:(e,t)=>bt(P,e,t),getDynasty:e=>P.dynasty.get(e),getEnabledBindingLandmarkDescendant:e=>It(P,e),getClosestGrid:e=>yt(P,e)}}),[w,P,V,u,s,c,x,z]),q=(0,r.useRef)(Y),J=(0,l.useFacetMap)((e=>e.id),[],[C]);(0,r.useCallback)((e=>V(e,void 0,B.DebugTool)),[V]);const ee=(0,r.useRef)([]),ae=(0,r.useRef)([]),ne=(0,r.useCallback)((e=>{const t=w.current,a=gt(P,t.id);if(null==a)return;const n=Rt(P,a,e);null==n||n()}),[P]),re=(0,r.useRef)(void 0),le=(0,r.useCallback)(((e,t=B.Unknown)=>{ae.current.forEach((t=>t(e))),Y.press(e,t)}),[Y]),oe=(0,r.useCallback)(Ba()((e=>{Y.press(e,B.FocusInput)}),125),[Y]),de=(0,r.useCallback)((e=>{ee.current.forEach((t=>t(e)));const t=((e,t,a,n)=>{if(null==t)return!1;const r=a[j.RIGHT_VERTICAL_AXIS],l=a[j.RIGHT_HORIZONTAL_AXIS];if(0===r&&0===l)return!1;const o=gt(e,t);if(null==o)return!1;const i=Lt(e,o).filter((e=>null!=e.scrollAxis));if(0===i.length)return!1;const c=i[0],s=c.scrollAxis===X.HORIZONTAL?l:r,u=c.scrollAxis===X.HORIZONTAL?"scrollLeft":"scrollTop";if(null==c.ref)return!1;if(!c.shouldScrollWithAnalog){if(c.scrollAxis===X.HORIZONTAL)return s>=0?"right":"left";if(c.scrollAxis===X.VERTICAL)return s>=0?"down":"up"}return c.ref[u]+=20*s,"scroll"})(P,w.current.id,e);!1!==t?("scroll"===t&&re.current&&re.current(),"down"===t?oe(j.LEFT_ANALOG_DOWN):"up"===t?oe(j.LEFT_ANALOG_UP):"left"===t?oe(j.LEFT_ANALOG_LEFT):"right"===t&&oe(j.LEFT_ANALOG_RIGHT)):oe.cancel()}),[P,ee,w,oe]);(0,l.useFacetLayoutEffect)(((e,a,n)=>e?void 0:t(le,de,a,n,_)),[t,de,le,p,f,_],[v,p,f]);const me=(0,r.useMemo)((()=>{const e={addAnalogListener:e=>(ee.current=[...ee.current,e],()=>{ee.current=R()([e],ee.current)}),addDigitalListener:e=>(ae.current=[...ae.current,e],()=>{ae.current=R()([e],ae.current)}),clickAtPoint:(e,t)=>{((e,t,a)=>{const n=$t(e,t,a);if(null!=n&&n.type===K.ITEM){var r;const t=e.shortcuts.get(n.id);null==t||null===(r=t.get(j.A))||void 0===r||r.callback()}})(P,e,t)},focusAtPoint:(e,t)=>{var a;const n=$t(P,e,t),r=null!==(a=null==n?void 0:n.alias)&&void 0!==a?a:null==n?void 0:n.id;null!=r&&G(r,B.PointerInput)}};return e}),[G,P]),pe=(0,l.useFacetMap)(((e,t)=>({swapABButtons:e,swapXYButtons:t})),[],[p,f]),fe=(0,r.useMemo)((()=>[F,h]),[F,h]),ge=(0,l.useFacetMap)(((e,t)=>({isControllerHintsEnabled:e,isKeyboardHintsEnabled:t})),[],[d,m]);return(0,r.useLayoutEffect)((()=>null==o?()=>{}:o((e=>G(e,B.URL)))),[G,o]),r.createElement(_a,{isNavigationDisabledFacet:v,setIsNavigationDisabled:y},r.createElement(W.Provider,{value:ja},r.createElement(ye.Provider,{value:fe},r.createElement(Se.Provider,{value:$},r.createElement(Me.Provider,{value:T},r.createElement(Pe,{value:ge},r.createElement(Ae,{value:pe},r.createElement(_e,{value:q},r.createElement(Ue,{value:me},r.createElement(je,{value:A},r.createElement($e,{value:ne},r.createElement(Da,{value:J},e))))))))))))}const Ga=(0,l.sharedFacet)("core.input"),$a=(0,l.sharedFacet)("core.animation");let Ka;!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(Ka||(Ka={}));const Ya=(0,l.sharedFacet)("core.splitScreen"),Xa=window.engine;function qa(e,t){const a=t;return Xa.on(e,a),()=>Xa.off(e,a)}const Qa=(e,t,a,n,r)=>{const l=Za(e,t),o=t=>{var a;if(document.activeElement!==document.body||null==r)return;const n=null===(a=r.current)||void 0===a?void 0:a[t.keyCode];return null!=n?(t.preventDefault(),void e(n,B.FocusInput)):t.keyCode===fe.TAB?(t.preventDefault(),void e(t.shiftKey?j.PREV:j.NEXT,B.FocusInput)):void 0},i=t=>{const a=J[t.button];null!=a&&e(a,B.PointerInput)};return document.addEventListener("keydown",o),document.addEventListener("mousedown",i),()=>{document.removeEventListener("keydown",o),l(),document.removeEventListener("mousedown",i)}},Za=(e,t)=>{const a=qa("engine:gamepad:onPress",(t=>{e(me[t],B.FocusInput)})),n=qa("engine:gamepad:onJoystickMovement",((e,a,n,r)=>{t([e,a,n,r])}));return()=>{a(),n()}};let Ja;function en({notifyFocusRequest:e,onFocusedIdChange:t,onFocusedIdChangeFail:a,children:n,keyboardGamepadMap:o,isKeyboardHintsEnabled:i=(0,l.createStaticFacet)(!1)}){const c=(0,l.useSharedFacet)($a),s=(0,l.useSharedFacet)(Ya),u=(0,l.useFacetMap)((e=>e.swapABButtons),[],[(0,l.useSharedFacet)(Ga)]),d=(0,l.useFacetMap)((e=>e.swapXYButtons),[],[(0,l.useSharedFacet)(Ga)]),m=(0,l.useFacetMap)((e=>e.enableControllerHints),[],[(0,l.useSharedFacet)(Ga)]),p=(0,l.useFacetMap)((e=>e.keyboardType),[],[(0,l.useSharedFacet)(Ga)]),f=(0,l.useFacetMap)(((e,t)=>!e.screenAnimationEnabled||t.numActivePlayers>1),[],[c,s]),[g,E]=(0,l.useFacetState)(o);return(0,l.useFacetEffect)((e=>E(e===Ja.FullKeyboard?be:o)),[o,E],[p]),r.createElement(Va,{notifyFocusRequest:e,onFocusedIdChange:t,onFocusedIdChangeFail:a,swapABButtons:u,swapXYButtons:d,disabledTransition:f,keyboardGamepadMap:g,setKeyboardGamepadMap:E,isControllerHintsEnabled:m,isKeyboardHintsEnabled:i,driver:Qa},n)}var tn;(tn=Ja||(Ja={}))[tn.Standard=0]="Standard",tn[tn.FullKeyboard=1]="FullKeyboard";const an=(0,r.createContext)((()=>()=>{})),{Provider:nn,Consumer:rn}=an,ln=()=>(0,r.useContext)(an),on="react-sound-effect.NoSound";function cn(){const e=ln();return(0,r.useCallback)(((t,a=0,n=1,r=1)=>{t!==on&&t&&e(t,a,n,r)}),[e])}const sn=(0,r.createContext)(!0),un=sn.Provider,dn=()=>(0,r.useContext)(sn),mn=["neutral","neutral20","neutral50","neutral60","neutral80","neutral100","primary","primaryTint","secondary","tertiary","success","successTint","destructive","destructiveTint","informative","informativeTint","notice","noticeTint","PDPCore","PDPPlus","dataViz01","dataViz02","dataViz03","dataViz04","dataViz05","dataViz06","dataViz07","dataVizLine","paper","neutralAlpha60"],pn="regular",fn=["dimmest","dimmer","stronger","strongest","reversed"],gn=[pn,...fn],En=["text","icon","border","caret"],hn=["specular","bevel"],bn=[...En,"background","shadow","outline","overlay","dropShadow",...hn,"highlight"],vn="default",yn="hovered",Fn="pressed",Sn="disabled",Cn="selected",Mn="focused",wn=[Cn,Mn,yn,Fn,Sn],kn=["default",...wn],Tn="base",Pn="hover",In="press",xn="disable",An="select",On="focus",Nn="interactive",Rn=[Pn,In,xn,An,On,Tn],Ln=[...Rn,Nn],_n={[vn]:Tn,[yn]:Pn,[Fn]:In,[Mn]:On,[Cn]:An,[Sn]:xn},Dn={[Tn]:vn,[Pn]:yn,[In]:Fn,[On]:Mn,[An]:Cn,[xn]:Sn},Wn={button:["text"],pressable:["main","border","text"],panel:["main"],inputLegend:["sideContainer","inputHint"]},Bn=Object.keys(Wn),Un=["reject","click","press","focus","hover","hoverExit","contract","expand","toggle","lift"],zn=e=>En.includes(e),Hn=e=>hn.includes(e),jn=(e,t="regular")=>void 0!==e&&t in e,Vn=e=>{if(null==e||"object"!=typeof e)return!1;const t=Object.keys(e);return t.length>0&&t.every((e=>kn.includes(e)))},Gn="semantic-tokens-collection-id-";function $n(e){if(e!==Nn)return Dn[e]}function Kn(e){return _n[e]}const Yn=(e,t,a)=>{switch(t){case"background":case"icon":case"shadow":case"highlight":case"overlay":case"dropShadow":return`${e} { background-color: ${a}; }`;case"border":case"outline":return`${e} { border-color: ${a}; }`;case"text":return`${e} { color: ${a}; }`;case"specular":case"bevel":const{top:t,bottom:n}=a;return e.includes("reversed")?`${e} { border-top-color: ${n}; border-left-color: ${n}; border-bottom-color: ${t};  border-right-color: ${t} }`:`${e} { border-top-color: ${t}; border-left-color: ${t}; border-bottom-color: ${n};  border-right-color: ${n} }`;case"caret":return`${e} { caret-color: ${a}; }`}},Xn=e=>e.map((({path:e,value:t})=>{if((e=>5===e.length&&Bn.includes(e[1]))(e)){if((e=>null!=e&&"object"==typeof e)(t))return((e,t)=>{const a=e.slice(0,-1).join("-"),n=e.slice(0,-1).concat("interactive").join("-"),r=e[e.length-1],l=$n(r);let o,i=("base"===r?`.${a},.${n}`:`.${a}.${l},.${l} .${a},.${n}.${l},.${l} .${n}`)+" {";for(o in t){const e=o.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`));switch(o){case"borderImageSource":case"backgroundImage":i+=`${e}: url(${t[o]});\n`,i+="image-rendering: pixelated;\n","borderImageSource"===o&&(i+="border-width: 0;\n");break;case"color":i+=`color: ${t[o]};\n`,i+="text-shadow: none;\n";break;default:i+=`${e}: ${t[o]};\n`}}return i+="}",i})(e,t)}else if((e=>mn.includes(e[1]))(e)){if(!(e=>"object"==typeof e&&"top"in e&&"bottom"in e)(t)&&"string"!=typeof t)throw new Error(`Expected ${JSON.stringify(e)}'s value "${t}" to be of type "string" or "LightingEffectType"`);return((e,t)=>{const{element:a,selector:n}=(e=>{const t=e[2],a=zn(t),n=Hn(t),r=e[e.length-1],l=$n(r),o=a?e.splice(3,1)[0]:void 0,i=e.join("-"),c=e.slice(0,-1).join("-"),s=e.slice(0,-1).concat("interactive").join("-");if(n)return{element:t,selector:["base"===r?`.${c},.${s}`:`.${i}.${l},.${l} .${i},.${s}.${l},.${l} .${s}`,"base"===r?`.${c}.reversed,.${s}.reversed`:`.${i}.reversed.${l},.${l} .${i}.reversed,.${s}.reversed.${l},.${l} .${s}.reversed`]};const u=null==o||"regular"===o?"":`.${o}`;return{element:t,selector:"base"===r?`.${c}${u},.${s}${u}`:`.${i}${u}.${l},.${l} .${i}${u},.${s}${u}.${l},.${l} .${s}${u}`}})(e);return Array.isArray(n)?n.map((e=>Yn(e,a,t))).join(""):Yn(n,a,t)})(e,t)}throw new Error(`Unknown path ${JSON.stringify(e)} and value "${JSON.stringify(t)}"`)})).join(""),qn=(0,r.createContext)("neutral"),Qn=()=>(0,r.useContext)(qn),Zn=({children:e,role:t})=>"inherit"===t?r.createElement(r.Fragment,null,e):r.createElement(qn.Provider,{value:t},e),Jn=(()=>{const e={};for(const t of wn)e[t]=t;return e})(),er=(()=>{const e={};for(const t of fn)e[t]=t;return e})(),tr={},ar=(e,t)=>{const a=((e,t)=>{const a={};for(const i of mn){var n;a[i]={};const c=null==t||null===(n=t.sound)||void 0===n?void 0:n[i];for(const t of Un){var r,l,o;a[i][t]=null!==(r=null==e||null===(l=e.sound)||void 0===l||null===(o=l[i])||void 0===o?void 0:o[t])&&void 0!==r?r:null==c?void 0:c[t]}}return a})(e,t),{color:n,rawColor:r}=((e,t)=>{const a={color:{},rawColor:{}},n=null==e?null:e.id;for(const y of mn){a.color[y]={},a.rawColor[y]={};for(const F of bn){var r,l;const S=null==e||null===(r=e.color)||void 0===r||null===(l=r[y])||void 0===l?void 0:l[F];if(null!=S||null==t){if(a.rawColor[y][F]={},zn(F))for(const t of gn){var o,i,c;a.rawColor[y][F][t]={};const n=null==e||null===(o=e.color)||void 0===o||null===(i=o[y])||void 0===i||null===(c=i[F])||void 0===c?void 0:c[t];for(const e of kn)a.rawColor[y][F][t][e]=null==n?void 0:n[e]}else if(Hn(F))for(const t of kn){var s,u,d,m,p,f,g,E;a.rawColor[y][F][t]={},a.rawColor[y][F][t].top=null==e||null===(s=e.color)||void 0===s||null===(u=s[y])||void 0===u||null===(d=u[F])||void 0===d||null===(m=d[t])||void 0===m?void 0:m.top,a.rawColor[y][F][t].bottom=null==e||null===(p=e.color)||void 0===p||null===(f=p[y])||void 0===f||null===(g=f[F])||void 0===g||null===(E=g[t])||void 0===E?void 0:E.bottom}else for(const t of kn){var h,b,v;a.rawColor[y][F][t]=null==e||null===(h=e.color)||void 0===h||null===(b=h[y])||void 0===b||null===(v=b[F])||void 0===v?void 0:v[t]}a.color[y][F]={};for(const e of Ln)a.color[y][F][e]="base"===e?null!=S?`${n}-${y}-${F}`:void 0:null!=S?`${n}-${y}-${F}-${e}`:void 0}else a.color[y][F]=t.color[y][F],a.rawColor[y][F]=t.rawColor[y][F]}}return a})(e,t),l=(e=>{const t={},a=null==e?null:e.id;for(const c of Bn){t[c]={};for(const s of mn){t[c][s]={};for(const u of Wn[c]){var n,r;t[c][s][u]={};const d=null==e||null===(n=e.component)||void 0===n||null===(r=n[c])||void 0===r?void 0:r[s],m=(i=u,null!=(o=d)&&Object.prototype.hasOwnProperty.call(o,i));t[c][s][u]={},m&&Vn(null==d?void 0:d[u])?t[c][s][u].interactive=`${a}-${c}-${s}-${u}-interactive`:t[c][s][u].interactive=void 0;for(const e of Rn){var l;const n=$n(e);null!=n&&(m&&null!=(null==d||null===(l=d[u])||void 0===l?void 0:l[n])?t[c][s][u][e]="base"===e?`${a}-${c}-${s}-${u}`:`${a}-${c}-${s}-${u}-${e}`:t[c][s][u][e]=void 0)}}}}var o,i;return t})(e);return{color:n,component:l,variant:er,modifier:Jn,rawColor:r,sound:a}},nr=ar(null);function rr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function lr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(a),!0).forEach((function(t){or(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function or(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ir=(0,r.createContext)({registerCollection:()=>{}}),cr={id:void 0,tokens:nr},sr=(0,r.createContext)(cr),ur=()=>{const e=(0,r.useContext)(sr);return null==e.id&&console.error("Trying to use tokens context outside of provider."),e.tokens},dr=Array.from(document.querySelectorAll(`head style[id^="${Gn}"]`)).reduce(((e,t)=>lr(lr({},e),{},{[t.id.replace(Gn,"")]:t})),{}),mr=({children:e})=>{const t=(0,r.useRef)(dr),a=(0,r.useRef)({}),n=(0,r.useMemo)((()=>({registerCollection:e=>{if(null!=t.current[e.id])return;const n=(r=e.id,`${Gn}${r}`);var r;const l=document.querySelector(`head style[id="${n}"]`);null!=l&&document.head.removeChild(l);const o=document.createElement("style");o.id=n,o.innerHTML=(e=>{const t=(e=>{const t=[],a=(e,n)=>{if(null!=e&&"object"==typeof e)if(Vn(e))kn.forEach((a=>{null!=e[a]&&t.push({path:[...n,Kn(a)],value:e[a]})}));else for(const t in e)a(e[t],[...n,t])};return a(e.color,[e.id]),a(e.component,[e.id]),t})(e);return Xn(t)})(e),document.head.appendChild(o),t.current[e.id]=o,a.current[e.id]=e}})),[]);return r.createElement(ir.Provider,{value:n},e)},pr=({collection:e,children:t})=>{const a=(0,r.useContext)(ir),n=null==a?void 0:a.registerCollection,l=(0,r.useContext)(sr);(0,r.useEffect)((()=>{null!=e&&null!=n&&n(e)}),[e,n]);const o=(0,r.useMemo)((()=>{const t=((e,t)=>{if(null==e)return nr;const a=e.id;return null==tr[a]&&(tr[a]=ar(e,t)),tr[a]})(e,l.tokens);return{id:null==e?void 0:e.id,tokens:t}}),[e,l]);return null==e?r.createElement(r.Fragment,null,t):r.createElement(sr.Provider,{value:o},t)},fr=e=>{const t={id:e.id,color:{},component:e.component,sound:{}};for(const f of mn){var a,n;if(t.sound[f]=(null===(a=e.sound)||void 0===a?void 0:a[f])||(null===(n=e.sound)||void 0===n?void 0:n.neutral)||{},e.color[f]){t.color[f]={};for(const a of bn){var r;const n=e.color[f],g=null===(r=e.color)||void 0===r?void 0:r.neutral,E=null==n?void 0:n[a];if(zn(a)){for(const e of gn)if(jn(E,e)||null==E&&e===pn){var l,o,i,c,s,u;t.color[f][a]=null!==(l=t.color[f][a])&&void 0!==l?l:{};const n=null==E?void 0:E[e],r=null==E?void 0:E.regular,d=(null==g||null===(o=g[a])||void 0===o?void 0:o[e])||(null==g||null===(i=g[a])||void 0===i?void 0:i.regular);t.color[f][a][e]=null!==(c=null!=n?n:r)&&void 0!==c?c:d;const m=null!==(s=null!==(u=null==n?void 0:n.disabled)&&void 0!==u?u:null==r?void 0:r.disabled)&&void 0!==s?s:null==d?void 0:d.disabled;null!=m&&(t.color[f][a][e].disabled=m)}}else if(n){const e=null!=E?E:null==g?void 0:g[a];if(Vn(e)){var d,m,p;t.color[f][a]=null!==(d=t.color[f][a])&&void 0!==d?d:{},t.color[f][a]=e;const n=null!==(m=null==e?void 0:e.disabled)&&void 0!==m?m:null==g||null===(p=g[a])||void 0===p?void 0:p.disabled;null!=n&&(t.color[f][a].disabled=n)}}}}}return t};function gr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Er(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(a),!0).forEach((function(t){hr(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function hr(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const br=e=>{const t=kn.reduce(((t,a)=>Er(Er({},t),{},{[a]:e})),{});return bn.reduce(((e,a)=>zn(a)?Er(Er({},e),{},{[a]:gn.reduce(((e,a)=>Er(Er({},e),{},{[a]:t})),{})}):Er(Er({},e),{},{[a]:t})),{})},vr=(e,t)=>Un.reduce(((a,n)=>Er(Er({},a),{},{[n]:`${e}.${t}.${n}`})),{}),yr=e=>mn.reduce(((t,a)=>{const n=Array.isArray(Wn[e])?Wn[e]:[];return Er(Er({},t),{},{[a]:n.reduce(((e,t)=>Er(Er({},e),{},{[t]:{}})),{})})}),{}),Fr=({defineComponentsCollection:e})=>{const t="mockTokens",a=e?Bn.reduce(((e,t)=>Er(Er({},e),{},{[t]:yr(t)})),{}):void 0;return fr({id:t,color:mn.reduce(((e,t)=>Er(Er({},e),{},{[t]:br("mock")})),{}),sound:mn.reduce(((e,a)=>Er(Er({},e),{},{[a]:vr(t,a)})),{}),component:a})};function Sr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Cr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(a),!0).forEach((function(t){Mr(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Sr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Mr(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function wr(e){const t=ur(),a=Qn(),n="inherit"===e?a:e;return null==n?Cr(Cr({},t.color),{},{inherit:t.color[a]}):t.color[n]}function kr(e){const t=ur(),a=Qn(),n="inherit"===e?a:e;return null==n?Cr(Cr({},t.rawColor),{},{inherit:t.rawColor[a]}):t.rawColor[n]}function Tr(e){const t=ur(),a=Qn(),n="inherit"===e?a:e;return null==n?Cr(Cr({},t.sound),{},{inherit:t.sound[a]}):t.sound[n]}function Pr(e,t){const a=ur(),n=Qn(),r="inherit"===t?n:t;return null==r?Cr(Cr({},a.component[e]),{},{inherit:a.component[e][n]}):a.component[e][r]}function Ir(){return ur().variant}function xr(){return ur().modifier}Fr({defineComponentsCollection:!1}),Fr({defineComponentsCollection:!0}),fr({id:"example",sound:{neutral:{reject:"note.bass",press:"random.click",contract:"random.click",expand:"random.click",toggle:"random.click",lift:"random.click",click:"random.click"},primary:{press:"tokens.vanilla.release"}},color:{neutral:{background:{default:"red",hovered:"red",pressed:"red",disabled:"red"},text:{dimmer:{default:"red",disabled:"red"},dimmest:{default:"red"},regular:{default:"red",disabled:"red"}},shadow:{default:"red",disabled:"red"},dropShadow:{default:"red"},icon:{regular:{default:"red",disabled:"red"},dimmer:{default:"red"},dimmest:{default:"red"}},border:{regular:{default:"red",disabled:"red"}},caret:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}},bevel:{default:{top:"red",bottom:"red"}},outline:{default:"red"},highlight:{default:"transparent",hovered:"red"},overlay:{default:"red"}},neutral20:{background:{default:"red",hovered:"red",pressed:"red"},shadow:{default:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red"}},outline:{default:"red"},specular:{default:{top:"red",bottom:"red"}}},neutral50:{background:{default:"red",hovered:"red",pressed:"red"},border:{regular:{default:"red",disabled:"red"}},overlay:{default:"red"}},neutral60:{background:{default:"red",hovered:"red",pressed:"red"},border:{dimmest:{default:"red"}},text:{regular:{default:"red"}}},neutral80:{background:{default:"red",hovered:"red",selected:"red",pressed:"red"},shadow:{default:"red"},text:{regular:{default:"red"},dimmer:{default:"red"},dimmest:{default:"red"}},caret:{regular:{default:"red"}},bevel:{default:{top:"red",bottom:"red"},hovered:{top:"red",bottom:"red"},pressed:{top:"red",bottom:"red"},selected:{top:"red",bottom:"red"}}},neutral100:{background:{default:"red"},text:{regular:{default:"red"},dimmer:{default:"red"},dimmest:{default:"red"}}},primary:{background:{default:"red",hovered:"red",pressed:"red"},shadow:{default:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red",disabled:"red"}},border:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}}},primaryTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},secondary:{background:{default:"red",hovered:"red",pressed:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red"}},shadow:{default:"red"},border:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}}},success:{background:{default:"red"},text:{regular:{default:"red"}}},successTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},informative:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},informativeTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},destructive:{background:{default:"red",hovered:"red",pressed:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red"}},shadow:{default:"red"},specular:{default:{top:"red",bottom:"red"}}},destructiveTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},notice:{background:{default:"red"}},noticeTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},paper:{background:{default:"red"},text:{regular:{default:"red",disabled:"red"}},icon:{regular:{default:"red",disabled:"red"}},border:{regular:{default:"red",disabled:"red"}},caret:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}},bevel:{default:{top:"red",bottom:"red"}},outline:{default:"red"},highlight:{default:"transparent",hovered:"red"}}},component:{panel:{neutral:{main:{default:{borderImageSlice:"27 27 27 26 fill",borderImageWidth:"4rem",borderImageSource:"panel"},hovered:{borderImageSlice:"27 27 27 26 fill",borderImageWidth:"4rem",borderImageSource:"panel"}}}},pressable:{primary:{main:{default:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryDefault"},hovered:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryHovered"},pressed:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryPressed"},disabled:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryDisabled"},focused:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryFocused"}}}}}});const Ar=({state:e,api:t,children:a})=>r.createElement(i.Provider,{value:t},r.createElement(o.Provider,{value:e},a)),Or=(0,l.sharedFacet)("core.router"),Nr=(e,...t)=>Xa.trigger(e,...t);function Rr({children:e,keyboardGamepadMap:t,isKeyboardHintsEnabled:a}){const n=(0,l.useSharedFacet)(Or),o=(0,r.useRef)(""),i=(0,r.useRef)(""),c=(0,r.useRef)(!1);(0,l.useFacetEffect)((e=>{if(!c.current){const t=e.history.action;if("POP"===t)o.current=i.current,i.current="";else if("PUSH"===t){const t=e.history.list.length,a=e.history.list[t-1];a&&(i.current=a.pathname,o.current="")}}c.current=!1}),[],[n]);const s=(0,l.useFacetMap)((e=>{const t=e.history.list;return{length:e.history.length,action:e.history.action,list:0===t.length?[{pathname:"/__INVALID_ROUTE__",hash:"",search:"",state:""}]:t}}),[],[n]),u=(0,l.useFacetRef)((0,l.useFacetMap)((e=>{const t=e.history.list,a=t[t.length-1];return null==a?"":a.pathname}),[],[n]),""),d=(0,l.useFacetCallback)((({history:e})=>()=>{u.current!=o.current?(o.current=u.current,i.current="",c.current=!0,e.goBack()):console.warn("JAVASCRIPT:Attempting to go back from the same location multiple times consecutively.")}),[o,u],[n]),p=(0,l.useFacetCallback)((({history:e})=>t=>{const a=(e=>{const t=e.indexOf("?"),a=e.indexOf("#");let n=-1;return-1!==t?n=t:-1!==a&&(n=a),-1!==n?e.substring(0,n):e})(t);a!=i.current?(i.current=a,o.current="",c.current=!0,e.push(t)):console.warn("JAVASCRIPT:Attempting to push the same route multiple times consecutively.")}),[],[n]),f=(0,l.useFacetCallback)((({history:e})=>t=>{e.replace(t)}),[],[n]),g=(0,l.useFacetCallback)((({history:e})=>t=>{u.current!=o.current?(o.current=u.current,i.current="",e.go(t)):console.warn("Attempting to go back from the same location multiple times consecutively.")}),[o,u],[n]),E=(0,r.useMemo)((()=>({goBack:d,push:p,replace:f,go:g})),[d,p,f,g]),h=(0,r.useCallback)((()=>{Nr("core:telemetry:eventfulNavigation")}),[]),b=cn(),v=dn(),y=Tr("neutral"),F=null==y?void 0:y.reject,S=(0,r.useCallback)((()=>{v&&null!=F&&(b(F,0,.5,.75),Nr("core:telemetry:uneventfulNavigation"))}),[v,b,F]),C=(0,r.useCallback)((e=>s.observe((({list:t})=>{const a=t[t.length-1];if(null==a)return;const n=function(e,t=!1){const a=new m(t?e.hash:e.search),n=a.get("alias");if("string"==typeof n&&0!==n.length)return n;const r=a.get("nodeId");return null!=r?parseInt(r,10):void 0}(a);null!=n&&e(n)}))),[s]);return r.createElement(en,{notifyFocusRequest:C,onFocusedIdChangeFail:S,onFocusedIdChange:h,keyboardGamepadMap:t,isKeyboardHintsEnabled:(0,l.useFacetWrap)(null!=a&&a)},r.createElement(Ar,{state:s,api:E},e))}const Lr=(0,l.createStaticFacet)("PUSH"),_r=(0,l.createStaticFacet)(!1),Dr=({route:e,component:t,transitionComponent:a,alwaysMounted:n,disabledCached:o,match:i=_r,action:c=Lr})=>{const s=(0,l.useFacetWrap)(i),d=(0,l.useFacetMap)((e=>0!=e),[],[s]),m=t,p=a;return r.createElement(Wr,{route:e},r.createElement(u.Provider,{value:(0,l.useFacetMap)((e=>0!=e?e.params:l.NO_VALUE),[],[s])},r.createElement(A,{value:d},r.createElement(p,{visible:d,alwaysMounted:n,unmountOnExit:(0,l.useFacetMap)((e=>!!o||"POP"===e),[o],[c]),contentComponent:m,inverse:(0,l.useFacetMap)((e=>"POP"===e),[],[c])}))))},Wr=({route:e,children:t})=>{const a=(0,r.useContext)(o),n=(0,r.useMemo)((()=>v(e)),[e]),i=(0,l.useFacetMemo)((({list:e})=>null!=e.find((({pathname:t},a)=>a!=e.length-1&&n(t)))),[n],[a]);return r.createElement(s.Provider,{value:i},t)},Br={base:"aa9f1da77302d6e19240",exited:"f0744a18c5633935e209"};var Ur=a(69931),zr=a.n(Ur);function Hr({children:e,active:t}){return r.createElement(A,{value:t},e)}const jr=()=>f(),Vr=(0,r.createContext)({block:()=>{},unblock:()=>{},contentfulPaint:()=>{},meaningfulPaint:()=>{}});function Gr(){return(0,r.useContext)(Vr)}let $r=0;function Kr({type:e,renderingCompleted:t}){const a=Gr(),n=jr(),o=(0,r.useMemo)((()=>$r++),[]);return(0,l.useFacetEffect)(((t,n)=>{if(!t)return a.unblock(o,e);n?a.unblock(o,e):a.block(o,e)}),[o,a,e],[n,(0,l.useFacetWrap)(t)]),null}function Yr(e){if(!e.map((e=>e.get())).reduce(((e,t)=>e&&t!==l.NO_VALUE),!0))return l.NO_VALUE}const Xr=({children:e,disabled:t,hidden:a})=>{const n=(0,r.useContext)(Ne),o=(0,r.useMemo)((()=>n.current.generateId()),[n]),i=(0,l.useFacetWrap)(t),c=(0,l.useFacetWrap)(a),s=(0,r.useContext)(W),u=s[s.length-1],d=(0,r.useRef)();(0,r.useMemo)((()=>{var e;if(Yr([i,c])===l.NO_VALUE&&!n.current.getElement(o)){const e={id:o,type:K.FOCUS_GROUP,disabled:!0,hidden:!0};n.current.putNode(e,u)}null===(e=d.current)||void 0===e||e.call(d),d.current=(0,l.multiObserve)(((e,t)=>{const a={id:o,type:K.FOCUS_GROUP,disabled:!0===e,hidden:!0===t};n.current.putNode(a,u)}),[i,c])}),[o,n,u,i,c]),(0,r.useEffect)((()=>()=>{var e;null===(e=d.current)||void 0===e||e.call(d)}),[]),(0,r.useEffect)((()=>()=>n.current.removeNode(o)),[n,o]);const m=[...s,o],p=(0,r.useMemo)((()=>({children:e})=>r.createElement(W.Provider,{value:m},e)),m);return r.createElement(p,null,e)},qr=(0,l.createStaticFacet)(!1);function Qr({visible:e,unmountOnExit:t=qr,alwaysMounted:a,contentComponent:n}){const o=(0,l.useFacetWrap)(e),i=(0,l.useFacetMap)((e=>!e),[],[o]),c=(0,r.useMemo)((()=>r.memo(n)),[n]),s=(0,r.useRef)(!1),u=(0,l.useFacetCallback)((e=>t=>{const n=a||(e?t:s.current||t);return s.current=n,n}),[a],[(0,l.useFacetWrap)(t)]),d=(0,l.useFacetMap)((e=>u(e)),[u],[o]);return r.createElement(l.Mount,{when:d},r.createElement(A,{value:o},r.createElement(Xr,{disabled:i},r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>zr()(Br.base,{[Br.entered]:e,[Br.exited]:!e})),[],[o])},r.createElement(Kr,{type:"contentful",renderingCompleted:o}),r.createElement(c,null)))))}function Zr(){return Zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Zr.apply(null,arguments)}const Jr=()=>p(),el=()=>{const e=(0,l.useFacetUnwrap)(g());return e===l.NO_VALUE?{}:e},tl=e=>{var t;return r.createElement(Dr,Zr({},e,{transitionComponent:null!==(t=e.transitionComponent)&&void 0!==t?t:Qr}))},al={[Qe.IOS]:Ke.HANDHELD_SCREEN_TYPE,[Qe.GOOGLE]:Ke.HANDHELD_SCREEN_TYPE,[Qe.AMAZON_HANDHELD]:Ke.HANDHELD_SCREEN_TYPE,[Qe.UWP]:Ke.DESKTOP_SCREEN_TYPE,[Qe.XBOX]:Ke.TV_SCREEN_TYPE,[Qe.NX_HANDHELD]:Ke.HANDHELD_SCREEN_TYPE,[Qe.PS4]:Ke.TV_SCREEN_TYPE,[Qe.WIN32]:Ke.DESKTOP_SCREEN_TYPE,[Qe.MACOS]:Ke.DESKTOP_SCREEN_TYPE,[Qe.NX_TV]:Ke.TV_SCREEN_TYPE,[Qe.PS5]:Ke.TV_SCREEN_TYPE},nl={[Qe.IOS]:Je.XBOX,[Qe.GOOGLE]:Je.XBOX,[Qe.AMAZON_HANDHELD]:Je.XBOX,[Qe.UWP]:Je.XBOX,[Qe.XBOX]:Je.XBOX,[Qe.NX_HANDHELD]:Je.SWITCH,[Qe.PS4]:Je.PS,[Qe.WIN32]:Je.XBOX,[Qe.MACOS]:Je.XBOX,[Qe.NX_TV]:Je.SWITCH,[Qe.PS5]:Je.PS},rl=e=>e===Xe.GAMEPAD||e===Xe.KEYBOARD,ll=e=>e===Xe.MOUSE||e===Xe.TOUCH;function ol({lastInputMethodUsed:e,supportedInputMethods:t,platform:a,arvrPlatform:n,children:o}){const i=((e,t,a)=>{const n=((e,t)=>{const[a,n]=(0,l.useFacetState)(null),o=(0,r.useRef)(!1);return(0,l.useFacetEffect)(((e,t,a)=>{o.current||null!=t?ll(e)&&t!=e&&n(e):(o.current=!0,n(((e,t)=>{if(ll(e))return e;switch(t){case Qe.WIN32:case Qe.MACOS:return Xe.MOUSE;case Qe.NX_HANDHELD:case Qe.IOS:case Qe.GOOGLE:case Qe.AMAZON_HANDHELD:return Xe.TOUCH;default:return null}})(e,a)))}),[n],[e,a,t]),a})(e,a),o=((e,t)=>{const[a,n]=(0,l.useFacetState)(null),o=(0,r.useRef)(!1);return(0,l.useFacetEffect)(((e,t,a)=>{o.current||null!=t?rl(e)&&t!=e&&n(e):(o.current=!0,n(((e,t)=>{if(rl(e))return e;switch(t){case Qe.WIN32:case Qe.MACOS:case Qe.UWP:return Xe.KEYBOARD;case Qe.XBOX:case Qe.NX_HANDHELD:case Qe.PS4:case Qe.NX_TV:case Qe.PS5:return Xe.GAMEPAD;default:return null}})(e,a)))}),[n],[e,a,t]),a})(e,a);return{isPointerInputMouse:(0,l.useFacetMemo)((e=>e===Xe.MOUSE),[],[n]),isPointerInputTouch:(0,l.useFacetMemo)((e=>e===Xe.TOUCH),[],[n]),isPointerInputAvailable:(0,l.useFacetMemo)((e=>null!=e),[],[n]),isFocusInputGamepad:(0,l.useFacetMemo)((e=>e===Xe.GAMEPAD),[],[o]),isFocusInputKeyboard:(0,l.useFacetMemo)((e=>e===Xe.KEYBOARD),[],[o]),isFocusInputAvailable:(0,l.useFacetMemo)((e=>null!=e),[],[o]),isLastInputMouse:(0,l.useFacetMemo)((e=>e===Xe.MOUSE),[],[e]),isLastInputTouch:(0,l.useFacetMemo)((e=>e===Xe.TOUCH),[],[e]),isLastInputGamepad:(0,l.useFacetMemo)((e=>e===Xe.GAMEPAD),[],[e]),isLastInputKeyboard:(0,l.useFacetMemo)((e=>e===Xe.KEYBOARD),[],[e]),isLastInputPointer:(0,l.useFacetMemo)((e=>e===Xe.MOUSE||e===Xe.TOUCH),[],[e]),isLastInputFocus:(0,l.useFacetMemo)((e=>e===Xe.KEYBOARD||e===Xe.GAMEPAD),[],[e]),isGamepadSupported:(0,l.useFacetMemo)((e=>e.includes(Xe.GAMEPAD)),[],[t]),isKeyboardSupported:(0,l.useFacetMemo)((e=>e.includes(Xe.KEYBOARD)),[],[t]),isMouseSupported:(0,l.useFacetMemo)((e=>e.includes(Xe.MOUSE)),[],[t]),isTouchSupported:(0,l.useFacetMemo)((e=>e.includes(Xe.TOUCH)),[],[t]),isPointerSupported:(0,l.useFacetMemo)((e=>{for(let t=0;t<e.length;t++)if(ll(e[t]))return!0;return!1}),[],[t]),isFocusSupported:(0,l.useFacetMemo)((e=>{for(let t=0;t<e.length;t++)if(rl(e[t]))return!0;return!1}),[],[t])}})(e,t,a),c=(0,l.useFacetMemo)((e=>function(e){return al[e]}(e)),[],[a]),s=(0,l.useFacetMemo)((e=>function(e){return nl[e]}(e)),[],[a]);return function(e){(0,l.useFacetEffect)((e=>{e===Xe.MOUSE?document.body.style.cursor="auto":document.body.style.cursor="none"}),[],[e])}(e),r.createElement(et.Provider,{value:i},r.createElement(tt.Provider,{value:a},r.createElement(at.Provider,{value:n},r.createElement(nt.Provider,{value:c},r.createElement(rt.Provider,{value:s},o)))))}const il=(e,t,a,n,r=!1)=>(0,l.useFacetMap)(((t,a)=>r||n.current===e&&t===Xe.KEYBOARD&&a.includes(e)),[e,n,r],[t,a]),cl=(e,t,a)=>{const{supportedInputMethods:n,setKeyboardIsSupported:o}=(e=>{const[t,a]=(0,l.useFacetState)([]),n=(0,r.useRef)(!1),o=(0,l.useFacetCallback)((e=>()=>{if(!n.current){n.current=!0;const t=Array.from(e);t.push(Xe.KEYBOARD),a(t)}}),[a],[t]);return(0,l.useFacetEffect)(((e,t)=>{if((n.current?e.length-1:e.length)!==t.length||!t.every((t=>e.includes(t)))){const e=Array.from(t);n.current&&e.push(Xe.KEYBOARD),a(e)}}),[a],[t,e]),{supportedInputMethods:t,setKeyboardIsSupported:o}})(t),[i,c,s]=(e=>{const t=(0,l.useFacetState)(null),[a,n]=t,o=(0,r.useRef)(null),i=(0,r.useCallback)((e=>{n((t=>t===e?t:(t!==l.NO_VALUE&&(o.current=t),e)))}),[n]);return(0,l.useFacetEffect)((e=>{null!=e&&i(e)}),[i],[e]),[a,i,o]})(e),u=il(Xe.MOUSE,i,n,s,null==a?void 0:a.trackAllUserInput),d=il(Xe.TOUCH,i,n,s,null==a?void 0:a.trackAllUserInput),m=il(Xe.GAMEPAD,i,n,s,null==a?void 0:a.trackAllUserInput),p=(0,l.useFacetMap)((e=>e!==Xe.KEYBOARD),[],[i]);var f,g;return function(e,t,a){const n=(e=>{const t=(0,r.useRef)(-1);return(0,l.useFacetEffect)((e=>{if(!e)return;const a=e=>{t.current=e.timeStamp};return window.addEventListener("touchend",a),()=>{window.removeEventListener("touchend",a)}}),[],[e]),t})((0,l.useFacetMap)((e=>e.includes(Xe.MOUSE)&&e.includes(Xe.TOUCH)),[],[a])),o=(0,r.useRef)(null);(0,l.useFacetEffect)((e=>{if(!e)return void(o.current=null);const a=e=>n.current===e.timeStamp,r=e=>{const n=[e.clientX,e.clientY];if(!o.current)return void(o.current=n);const r=Math.abs(n[0]-o.current[0]),l=Math.abs(n[1]-o.current[1]);if(Math.sqrt(Math.pow(r,2)+Math.pow(l,2))>10){if(o.current=null,a(e))return;t()}},l=e=>{3!==e.button&&(a(e)||t())},i=()=>{t()};return window.addEventListener("mousemove",r),window.addEventListener("mousedown",l),window.addEventListener("wheel",i),()=>{window.removeEventListener("mousemove",r),window.removeEventListener("mousedown",l),window.removeEventListener("wheel",i)}}),[t,n],[e])}(u,(()=>{c(Xe.MOUSE)}),t),f=d,g=()=>{c(Xe.TOUCH)},(0,l.useFacetEffect)((e=>{if(e)return window.addEventListener("touchstart",g),window.addEventListener("touchend",g),()=>{window.removeEventListener("touchstart",g),window.removeEventListener("touchend",g)}}),[g],[f]),((e,t)=>{(0,l.useFacetEffect)((e=>{if(e)return window.addEventListener("keyup",t),()=>{window.removeEventListener("keyup",t)}}),[t],[e])})(p,(()=>{o(),c(Xe.KEYBOARD)})),function(e,t){(0,l.useFacetEffect)((e=>{if(e)return(e=>{const t=qa("engine:gamepad:onPress",(()=>{e()})),a=qa("engine:gamepad:onJoystickMovement",(()=>{e()}));return()=>{t(),a()}})(t)}),[t],[e])}(m,(()=>{c(Xe.GAMEPAD)})),{lastInputMethodUsed:i,supportedInputMethods:n}};let sl,ul;!function(e){e[e.NONE=0]="NONE",e[e.EXTERNAL=1]="EXTERNAL",e[e.APPDATA=2]="APPDATA"}(sl||(sl={})),function(e){e[e.XboxLive=0]="XboxLive",e[e.Nintendo=1]="Nintendo",e[e.AdHoc=2]="AdHoc",e[e.Playstation=3]="Playstation",e[e.EDU=4]="EDU",e[e.Mock=5]="Mock",e[e.Undefined=-1]="Undefined"}(ul||(ul={}));const dl=(0,l.sharedFacet)("core.deviceInformation");function ml(e){let{children:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["children"]);const n=(0,l.useSharedFacet)(dl),o=(0,l.useSharedFacet)(Ga),i=(0,l.useFacetMap)((e=>e.currentInputType),[],[o]),c=(0,l.useFacetMap)((e=>e.inputMethods),[],[n]),s=(0,l.useFacetMap)((e=>e.platform),[],[n]),u=(0,l.useFacetMap)((e=>e.arvrPlatform),[],[n]),{lastInputMethodUsed:d,supportedInputMethods:m}=cl(i,c,a);return r.createElement(ol,{platform:s,arvrPlatform:u,lastInputMethodUsed:d,supportedInputMethods:m},t)}function pl({children:e,errorComponent:t,dismissTimeout:a}){const[n,l]=(0,r.useState)(null),o=(0,r.useCallback)((e=>{l(e),Xa.trigger("core:exception")}),[]),i=(0,r.useCallback)((()=>{l(null)}),[]);return null==t?r.createElement(r.Fragment,null,"children"):r.createElement(fl,{onError:o},n?r.createElement(gl,{dismissTimeout:null!=a?a:4e4,errorMessage:void 0,errorComponent:t,onDismiss:i}):e)}(0,l.sharedSelector)((e=>e.platform===Qe.PS4||e.platform===Qe.PS5),[dl]);class fl extends r.Component{static getDerivedStateFromError(){}componentDidCatch(e){this.props.onError(e)}render(){return this.props.children}}function gl({errorComponent:e,errorMessage:t,onDismiss:a,dismissTimeout:n}){const o=(0,l.useFacetUnwrap)((0,l.useSharedFacet)(Or)),i=(0,r.useCallback)((()=>{null!=o&&o!==l.NO_VALUE&&o.history.goBack(),requestAnimationFrame(a)}),[o,a]);return(0,r.useEffect)((()=>{if(null!=n&&n!==Number.POSITIVE_INFINITY){const e=setTimeout(i,n);return()=>clearTimeout(e)}}),[o,i,n]),r.createElement(e,{errorMessage:t,onDismiss:i})}const El=(0,r.createContext)([]),hl=El.Provider;hl.displayName="FeatureFlagsProvider";const bl="vanilla.settings.unlockRecipes",vl=(0,l.sharedFacet)("core.featureFlags");function yl({children:e}){const t=(0,l.useFacetUnwrap)((0,l.useSharedFacet)(vl)),a=t===l.NO_VALUE?[]:t.flags;return r.createElement(hl,{value:a},e)}var Fl=a(63624),Sl=a.n(Fl);const Cl=e=>`${e}`,Ml=(0,r.createContext)({translationPrefix:"hbui",translate:e=>e,formatDate:Cl,getHowLongAgoAsString:Cl,locale:"en-US",isRtl:!1});function wl({translationPrefix:e,translate:t,formatDate:a,getHowLongAgoAsString:n,children:l,locale:o}){const i=(0,r.useMemo)((()=>"rtl"===Sl().getLangDir(o)),[o]),c=(0,r.useMemo)((()=>({translationPrefix:e,translate:t,formatDate:a,getHowLongAgoAsString:n,locale:o,isRtl:i})),[e,t,a,n,o,i]);return r.createElement(Ml.Provider,{value:c},l)}const kl=(0,l.sharedFacet)("core.locale"),Tl=(0,l.sharedSelector)((e=>({set locale(t){null!=e&&(e.locale=t)},get locale(){return e.locale},translate:e.translate.bind(e),translateWithParameters:e.translateWithParameters.bind(e),formatDate:e.formatDate.bind(e),getHowLongAgoAsString:e.getHowLongAgoAsString.bind(e)})),[kl]);function Pl({children:e}){const t=(0,l.useFacetUnwrap)((0,l.useSharedFacet)(Tl)),a=(0,r.useCallback)(((e,a)=>t===l.NO_VALUE?e:null!=a?t.translateWithParameters(e,a):t.translate(e)),[t]);return t!==l.NO_VALUE?r.createElement(wl,{translationPrefix:"hbui",locale:t.locale,translate:a,formatDate:t.formatDate,getHowLongAgoAsString:t.getHowLongAgoAsString},e):null}var Il=a(68912);const xl=({data:e,children:t})=>{const a=(0,Il.useFacetUnwrap)(e);return a===Il.NO_VALUE?null:t(a)},Al=(0,r.createContext)({previousAncestryRef:{current:[]},narrationTree:{},generateId:()=>"0",readById:()=>{},readText:()=>{},clear:()=>{}}),Ol=Al.Provider,Nl=(0,r.createContext)((()=>{console.warn("resetNarrationContext not provided")})),Rl=()=>(0,r.useContext)(Nl),Ll=({children:e,disabled:t=!1,narrationTree:a,driver:n,isIdle:o=!0,shouldUseQueueSystem:i,shouldInterrupt:c})=>{const s=(0,r.useRef)(0),u=(0,l.useFacetWrap)(t),d=(0,l.useFacetRef)(u),[m,p]=(0,l.useFacetState)([]),f=(0,l.useFacetWrap)(o),g=(0,l.useFacetWrap)(null!=i&&i),E=(0,l.useFacetWrap)(null!=c&&c),h=(0,r.useRef)({root:{text:"",parentNarrationId:""}}),b=(0,r.useRef)([]),v=(0,r.useRef)([]),y=a||h.current;(0,l.useFacetEffect)(((e,t)=>{if(t.length>0&&(e||!e&&t[0].itemShouldInterrupt)){const[e,...a]=t;e.run(),p(a)}}),[p,d,n],[f,m]);const F=(0,r.useCallback)((()=>""+s.current++),[]),S=(0,l.useFacetCallback)((e=>()=>{e||n.clear()}),[n],[u]),C=(0,l.useFacetCallback)(((e,t,a)=>(r,o={outOfGame:!0,inGame:!0},i=!0,c=!1,s=!1)=>{if(a)return;const u={run:()=>{n.read(r,o,i,c,s)},itemShouldInterrupt:t};if(e){if(t)return void p([u]);p((e=>e!==l.NO_VALUE?[...e,u]:[u]))}else u.run()}),[n,p],[g,E,u]),M=(0,l.useFacetCallback)(((e,t,a)=>(r,o={outOfGame:!0,inGame:!0},i=!0,c=!1,s=!1)=>{if(e)return;const u={run:()=>{const e=y[r];if(null==e)return;const t=b.current,a=((e,t)=>{const a=[];let n=t;for(;null!=n;){const t=e[n];if(null==t)break;a.push(n),n=null==t?void 0:t.parentNarrationId}return a.reverse()})(y,r);b.current=a;const u=((e,t)=>t.map((t=>{const a=e[t];if(null==a)return"";if(null!=a.text)return a.text.trim();const{getText:n}=a;if(null==n)return"";const r=n();return(r===l.NO_VALUE?"":r).trim()})).filter(Boolean))(y,a),d=((e,t,a,n)=>{if(0===t.length)return e;if(e.length<=t.length&&e.every(((e,a)=>e===t[a]))){if(a.length<=n.length&&a.every(((e,t)=>e===n[t])))return[e[e.length-1]];let t=0;for(;t<a.length&&t<n.length&&a[t]===n[t];)t++;return e.slice(t)}let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;return e.length<t.length&&r>=t.length-1?[e[e.length-1]]:e.slice(r)})(u,v.current,a,t).join(" . ");v.current=u;const{getSuffix:m}=e,p=null!=m?m():"",f=p===l.NO_VALUE?"":p,g=""!==f?d+" . "+f:d;n.read(g,o,i,c,s)},itemShouldInterrupt:a};if(t){if(a)return void p([u]);p((e=>e!==l.NO_VALUE?[...e,u]:[u]))}else u.run()}),[n,y,p],[u,g,E]),w=(0,r.useCallback)((()=>{b.current=[]}),[]);return(0,l.useFacetEffect)((e=>{!0===e&&S()}),[S],[u]),r.createElement(Nl.Provider,{value:w},r.createElement(Ol,{value:(0,r.useMemo)((()=>({previousAncestryRef:b,narrationTree:y,generateId:F,readById:M,readText:C,clear:S})),[y,S,F,M,C])},r.createElement(xl,{data:u},(t=>r.createElement(un,{value:!t},e)))))};let _l;!function(e){e[e.NONE=0]="NONE",e[e.UI_FRONT_END=1]="UI_FRONT_END",e[e.UI_IN_GAME=2]="UI_IN_GAME",e[e.ALL_UI=e.UI_FRONT_END|e.UI_IN_GAME]="ALL_UI",e[e.IN_GAME_CHAT=4]="IN_GAME_CHAT",e[e.IN_GAME_ITEMS=8]="IN_GAME_ITEMS",e[e.IN_GAME_NAME=16]="IN_GAME_NAME",e[e.ALL=e.UI_FRONT_END|e.UI_IN_GAME|e.IN_GAME_CHAT|e.IN_GAME_ITEMS|e.IN_GAME_NAME]="ALL"}(_l||(_l={}));const Dl=(0,l.sharedFacet)("core.screenReader"),Wl=e=>(t,a,n,r,l,o)=>{e.read(t,a,{__Type:"core.screenReaderOptions",canBeInterrupted:n,isRequired:r,shouldPlayInBackground:l,shouldPlayWhenPlatformTTSEnabled:o})};function Bl({children:e,shouldUseQueueSystem:t,narrationTree:a}){const n=(0,l.useSharedFacet)(Dl),o=(0,l.useFacetMap)((e=>e.isUITextToSpeechEnabled),[],[n]),i=(0,l.useFacetMap)((e=>e.isIdle),[],[n]),c=(0,l.useFacetCallback)(Wl,[],[n]),s=(0,l.useFacetCallback)((e=>()=>e.clear()),[],[n]),u=we(),d=(0,l.useFacetMap)((e=>e===B.FocusInput||e===B.PointerInput||e===B.URL),[],[u]),m=(0,l.useFacetCallback)((e=>(t,a,n,r,l)=>{Boolean(e)&&c(t,function(e){let t=0;return e.outOfGame&&(t+=_l.UI_FRONT_END),e.inGame&&(t+=_l.UI_IN_GAME),e.inGameChat&&(t+=_l.IN_GAME_CHAT),e.inGameItem&&(t+=_l.IN_GAME_ITEMS),e.inGameName&&(t+=_l.IN_GAME_NAME),t}(a),n,r,l,!0)}),[c],[o]),p=(0,r.useMemo)((()=>({read:m,clear:()=>s()})),[m,s]),f=(0,l.useFacetMap)((e=>!e),[],[o]);return r.createElement(Ll,{driver:p,disabled:f,isIdle:i,shouldUseQueueSystem:!0===t,shouldInterrupt:d,narrationTree:a},r.createElement(Ul,null),e)}function Ul(){return(()=>{const e=Rl(),t=(0,l.useFacetMap)((e=>e.history.list),[],[(0,l.useSharedFacet)(Or)],(0,l.createUniformArrayEqualityCheck)(l.shallowObjectEqualityCheck));(0,l.useFacetEffect)((()=>{e()}),[e],[t])})(),null}function zl({children:e,driver:t}){return r.createElement(nn,{value:t.play},e)}const Hl=(0,l.sharedFacet)("core.sound");function jl({children:e}){const t=(0,l.useFacetUnwrap)((0,l.useSharedFacet)(Hl)),a=(0,r.useMemo)((()=>({play(e,a,n=1,r=1){let o,i;const c=()=>{null!=t&&t!==l.NO_VALUE?o=t.play(e,n,r):console.log("Bedrock Sound driver not yet initialized while playing",e)};return a>0?i=setTimeout(c,a):c(),()=>{null!=i&&clearTimeout(i),null!=t&&t!==l.NO_VALUE?t.isPlaying(o)&&t.fadeOut(o,0):console.log("Bedrock Sound driver not yet initialized while stopping",e)}}})),[t]);return r.createElement(zl,{driver:a},e)}const Vl=(0,r.createContext)({top:0,bottom:0,left:0,right:0}),Gl=()=>(0,r.useContext)(Vl);let $l;!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}($l||($l={}));const Kl=(0,r.createContext)({numActivePlayers:1,direction:$l.HORIZONTAL,position:0});function Yl({children:e,numActivePlayers:t,direction:a=$l.HORIZONTAL,position:n}){const l=(0,r.useMemo)((()=>({numActivePlayers:t,direction:a,position:n})),[t,a,n]);return r.createElement(Kl.Provider,{value:l},e)}function Xl(e,t,a){return Math.min(Math.max(e,t),a)}var ql;function Ql(e,t,a){switch(e){case 2:return 0===t||1===t&&a===ql.VERTICAL;case 3:case 4:return 0===t||1===t;default:return!0}}function Zl(e,t,a){switch(e){case 2:return 1===t||0===t&&a===ql.VERTICAL;case 3:return 2===t;case 4:return 2===t||3===t;default:return!0}}function Jl(e,t,a){switch(e){case 2:return 0===t||1===t&&a===ql.HORIZONTAL;case 3:case 4:return 0===t||2===t;default:return!0}}function eo(e,t,a){switch(e){case 2:return 1===t||0===t&&a===ql.HORIZONTAL;case 3:return 1===t;case 4:return 1===t||3===t;default:return!0}}function to({children:e,safeAreaX:t,safeAreaY:a,screenPositionX:n,screenPositionY:l}){const o=function(e,t,a,n){const l=(0,r.useContext)(Kl),o=(0,r.useCallback)((()=>function(e,t,a,n){const r=Xl(e,.9,1),l=Xl(t,.9,1),o=Xl(a,-.1,.1),i=Xl(n,-.1,.1),c=window.innerWidth,s=window.innerHeight;return{top:Math.round((1-l+i)/2*s),bottom:Math.round((1-l-i)/2*s),left:Math.round((1-r+o)/2*c),right:Math.round((1-r-o)/2*c)}}(e,t,a,n)),[e,t,a,n]),i=(0,r.useCallback)((()=>function({top:e,bottom:t,left:a,right:n},{numActivePlayers:r,direction:l,position:o}){return{top:Ql(r,o,l)?e:0,bottom:Zl(r,o,l)?t:0,left:Jl(r,o,l)?a:0,right:eo(r,o,l)?n:0}}(o(),l)),[o,l]),[c,s]=(0,r.useState)(i);return(0,r.useEffect)((()=>{s(i);const e=()=>s(i);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[i]),c}(t,a,n,l);return r.createElement(Vl.Provider,{value:o},e)}!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(ql||(ql={}));const ao=(0,l.sharedFacet)("core.safeZone");function no({children:e}){const t=(0,l.useFacetUnwrap)((0,l.useSharedFacet)(ao));return null!=t&&t!==l.NO_VALUE?r.createElement(to,{safeAreaX:t.safeAreaX,safeAreaY:t.safeAreaY,screenPositionX:t.screenPositionX,screenPositionY:t.screenPositionY},e):null}function ro({children:e}){const t=(0,l.useFacetUnwrap)((0,l.useSharedFacet)(Ya));return null!=t&&t!==l.NO_VALUE?r.createElement(Yl,{numActivePlayers:t.numActivePlayers,direction:t.splitScreenDirection,position:t.splitScreenPosition},e):null}const lo=(0,r.createContext)((0,l.createFacet)({initialValue:!0})),oo=lo.Provider,io=()=>(0,r.useContext)(lo),co=(0,r.createContext)({theme:"vanilla",onSetTheme:()=>{}}).Provider,so=(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[]),uo=(so({},{},{},{},{},{}),so({},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}),(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[])),mo=(uo({},{},{},{},{},{}),uo({},{},{},{},{}),uo({}),(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[])),po=(mo({}),mo({}),(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[])),fo=(po({}),po({}),"#a0e081"),go="#6cc349",Eo="#3c8527",ho="#1d4d13",bo="#ffffff",vo="#000000",yo="#d0d1d4",Fo="#b1b2b5",So="#8c8d90",Co="#58585a",Mo="#48494a",wo="#313233",ko="#242425",To="#1e1e1f",Po="#ad1d1d",Io="#ffe866",xo="rgba(0, 0, 0, 0.1)",Ao="rgba(0, 0, 0, 0.3)",Oo="rgba(0, 0, 0, 0.4)",No="rgba(0, 0, 0, 0.8)",Ro="rgba(255, 255, 255, 0.1)",Lo="rgba(255, 255, 255, 0.2)",_o="rgba(255, 255, 255, 0.4)",Do="rgba(255, 255, 255, 0.6)",Wo="#FB95E2",Bo="#AC90F3",Uo="#4A1CAC";function zo({children:e}){return r.createElement(co,{value:{theme:"vanilla",onSetTheme:()=>{}}},e)}function Ho(e,t){for(let a=0;a<e.length;a++)if(t(e[a],a,e))return e[a]}let jo,Vo;var Go;!function(e){e[e.Clock=0]="Clock",e[e.Boots=1]="Boots",e[e.Pickaxe=2]="Pickaxe",e[e.Sword=3]="Sword"}(jo||(jo={})),(Go=Vo||(Vo={})).HoursPlayed="MinutesPlayed",Go.BlocksBroken="BlocksBrokenTotal",Go.MonstersKilled="MobKilled.IsMonster.1",Go.DistanceTraveled="DistanceTravelled";const $o=(0,l.sharedFacet)("vanilla.playerStatistics"),Ko="vanilla.achievementsReward";let Yo;var Xo;(Xo=Yo||(Yo={}))[Xo.LOADING=0]="LOADING",Xo[Xo.LOADED=1]="LOADED";const qo=(0,l.sharedFacet)("vanilla.achievements"),Qo=(0,l.sharedFacet)("vanilla.achievementCategories"),Zo=new Map([["gettingstarted","dataViz05"],["exploringyourworld","dataViz04"],["mining","secondary"],["farmingandhusbandry","dataViz07"],["culinaryexploits","dataViz06"],["buildinganddecorating","dataViz03"],["villageandpillage","dataViz02"],["feelslikemagic","dataViz05"],["redstone","destructiveTint"],["aquatic","dataViz04"],["zoology","dataViz07"],["gearup","dataViz01"],["combat","dataViz06"],["nether","dataViz03"],["theend","dataViz02"],["release.thegardenawakens","secondary"],["release.trickytrials","secondary"],["release.trailsandtales","secondary"],["release.thewildupdate","secondary"],["release.cavesandcliffs","secondary"],["release.netherupdate","secondary"],["release.buzzybees","secondary"],["release.villageandpillage","secondary"],["release.holidayupdate","secondary"],["release.updateaquatic","secondary"],["release.thediscoveryupdate","secondary"],["release.enderupdate","secondary"],["release.2015","secondary"],["release.2016","secondary"]]),Jo=["dataViz01","dataViz02","dataViz03","dataViz04","dataViz05","dataViz06","dataViz07"];function ei(e,t){let a=-1;const n=e.map((e=>(a+=1,{index:a,item:e})));return n.sort(((e,a)=>{const n=t(e.item,a.item);return 0!=n?n:e.index-a.index})),n.map((e=>e.item))}function ti(e){const t=new Map;return e.forEach((e=>{t.set(e.platformIndependentId,e)})),t}function ai(e,t){return pi(e)&&!pi(t)?-1:!pi(e)&&pi(t)?1:Ei(e)&&!Ei(t)?-1:!Ei(e)&&Ei(t)?1:0}function ni(e,t){const a=[],n=new Set;let r=0;t.forEach((t=>{const l=[];if(t.achievements.forEach((t=>{const a=e.get(t);a&&(l.push(a),n.add(t))})),l.length>0){let e=Zo.get(t.id);null==e&&(e=Jo[r],r=(r+1)%Jo.length),a.push({categoryId:t.id,headerLook:e,achievements:ei(l,ai)})}}));const l=[];return e.forEach((e=>{n.has(e.platformIndependentId)||l.push(e)})),l.length>0&&a.push({categoryId:"other",headerLook:"secondary",achievements:ei(l,ai)}),a}function ri(){const e=(0,l.useFacetMap)((e=>ti(e.data.achievements.filter((e=>!pi(e))))),[],[(0,l.useSharedFacet)(qo)]);return(0,l.useFacetMap)(((e,t)=>ni(e,t.standardCategoryData)),[],[e,(0,l.useSharedFacet)(Qo)])}function li(){const e=(0,l.useFacetMap)((e=>ti(e.data.achievements.filter(gi))),[],[(0,l.useSharedFacet)(qo)]);return(0,l.useFacetMap)(((e,t)=>ni(e,t.standardCategoryData)),[],[e,(0,l.useSharedFacet)(Qo)])}function oi(){const e=(0,l.useFacetMap)((e=>ti(e.data.achievements.filter(fi))),[],[(0,l.useSharedFacet)(qo)]);return(0,l.useFacetMap)(((e,t)=>ni(e,t.standardCategoryData)),[],[e,(0,l.useSharedFacet)(Qo)])}const ii=(0,l.sharedSelector)((e=>Fi(e.data.achievements)),[qo]),ci=((0,l.sharedSelector)((e=>e.data.achievements.filter(Ei)),[qo]),(0,l.sharedSelector)((e=>e.data.achievements.filter(gi).sort(Si)),[qo])),si=(0,l.sharedSelector)((e=>yi(e.data.achievements)),[qo]),ui=(0,l.sharedSelector)((e=>e.status===Yo.LOADED),[qo]),di=(0,l.sharedDynamicSelector)((e=>[(t,a)=>({isLoaded:a,achievement:Ho(t.data.achievements,(t=>t.id===e))}),[qo,ui]]));function mi(){const e=(0,l.useSharedFacet)(qo),t=(0,l.useSharedFacet)($o);return(0,l.useFacetMap)(((e,t)=>{const a=t.data.find((e=>e.name===Vo.HoursPlayed)),n=null!=a?Math.floor(a.currentUserValueRaw/60):-1;return{loaded:e.status===Yo.LOADED,unlocked:e.data.achievementsUnlocked,total:e.data.maxAchievements,inProgressCount:e.data.achievements.filter(pi).length,rewardsTotal:vi(e.data.achievements),rewardsUnlocked:bi(e.data.achievements),gamerScore:e.data.currentGamerScore,maxGamerScore:e.data.maxGamerScore,hoursPlayed:n}}),[],[e,t])}function pi(e){return e.isLocked&&e.progress>0}function fi(e){return!e.isLocked}function gi(e){return e.isLocked}function Ei(e){return e.isLocked&&!e.progress}function hi(e){return!(e.isLocked&&!e.isRewardOwned)}function bi(e){return e.filter((e=>e.hasReward&&hi(e))).length}function vi(e){return e.filter((e=>e.hasReward)).length}function yi(e){return e.filter(fi).sort(Ci)}function Fi(e){const t=[],a=[],n=[],r=[];e.forEach((e=>{Ei(e)?(n.push(e),r.push(e)):fi(e)?a.push(e):(t.push(e),r.push(e))})),t.sort(Si),r.sort(Mi);const l=n,o=yi(a);return{inProgress:t,locked:l,completed:o,suggested:r}}function Si(e,t){return!e.hasReward&&t.hasReward?1:e.hasReward&&!t.hasReward?-1:e.progress<t.progress?1:e.progress>t.progress?-1:0}function Ci(e,t){return e.dateUnlocked<t.dateUnlocked?1:e.dateUnlocked>t.dateUnlocked?-1:0}function Mi(e,t){return e.suggestedOrder-t.suggestedOrder}const wi=(0,l.sharedFacet)("vanilla.buildSettings"),ki=(0,l.sharedSelector)((e=>e.isDevBuild),[wi]),Ti=(0,l.sharedSelector)((e=>e.isAnyBeta),[wi]),Pi=(0,l.sharedFacet)("vanilla.blockInformation"),Ii=(0,l.sharedFacet)("vanilla.clipboard");function xi(e,t){return e.major-t.major!=0?e.major-t.major:e.minor-t.minor!=0?e.minor-t.minor:e.patch-t.patch!=0?e.patch-t.patch:e.revision-t.revision!=0?e.revision-t.revision:0}let Ai,Oi;!function(e){e[e.UNASSIGNED_DEV_VERSION=0]="UNASSIGNED_DEV_VERSION",e[e.MEMBER_OF_TOO_MANY_REALMS=1]="MEMBER_OF_TOO_MANY_REALMS",e[e.CANNOT_CONNECT_TO_REALM=2]="CANNOT_CONNECT_TO_REALM",e[e.CROSS_PLATFORM_RESTRICTED=3]="CROSS_PLATFORM_RESTRICTED",e[e.UNKNOWN=4]="UNKNOWN"}(Ai||(Ai={})),function(e){e[e.NOT_ENOUGH_STORAGE=0]="NOT_ENOUGH_STORAGE",e[e.MISSING_CONTENT_KEY=1]="MISSING_CONTENT_KEY"}(Oi||(Oi={}));const Ni=(0,l.sharedFacet)("vanilla.createNewWorld"),Ri=((0,l.sharedSelector)((e=>e.isEditorWorld),[Ni]),(0,l.sharedSelector)((e=>e.worldData.scriptingCoding),[Ni]),(0,l.createFacet)({initialValue:{userTriedToActivateToggle:!1,doSetToggleValue:()=>{},userHasAcceptedBetaFeatures:!1}}));let Li;!function(e){e[e.CreatingPreviewRealm=0]="CreatingPreviewRealm",e[e.SuccessfullyCreatedPreviewRealm=1]="SuccessfullyCreatedPreviewRealm",e[e.RetrievingCreatedPreviewRealm=2]="RetrievingCreatedPreviewRealm",e[e.FailedToCreatePreviewRealm=3]="FailedToCreatePreviewRealm"}(Li||(Li={}));const _i=(0,l.sharedFacet)("vanilla.createPreviewRealmFacet"),Di=(0,l.sharedFacet)("debug.worldTransfer"),Wi=(0,l.sharedFacet)("vanilla.debugSettings");let Bi,Ui;!function(e){e[e.OVERWORLD=0]="OVERWORLD",e[e.NETHER=1]="NETHER"}(Bi||(Bi={})),function(e){e[e.NameIsEmpty=0]="NameIsEmpty",e[e.AddressIsEmpty=1]="AddressIsEmpty",e[e.InvalidIpAddress=2]="InvalidIpAddress",e[e.InvalidPortNumber=3]="InvalidPortNumber",e[e.UnknownError=4]="UnknownError",e[e.IdNotFound=5]="IdNotFound"}(Ui||(Ui={}));const zi=(0,l.sharedFacet)("vanilla.externalServerWorldList"),Hi="vanilla.friendsDrawer",ji="vanilla.newFriendsDrawer",Vi="vanilla.ab.newPlayScreenB",Gi="vanilla.ab.newPlayScreenD",$i="vanilla.ab.newPlayerPathV3.B.noSignInScreen",Ki="vanilla.ab.newPlayerPathV3.C.allScreens",Yi="vanilla.ab.newPlayerPathV3.D.noControlScreen",Xi="vanilla.debugDrawer",qi="vanilla.realmsOreUIPurchaseEnabled",Qi="vanilla.disableAnimatedSignInScreens",Zi="vanilla.enableInboxServiceCategories",Ji="vanilla.screenshotsGallery",ec="vanilla.screenshotsShowcase",tc="vanilla.newTrialMode",ac="vanilla.friendsDrawerOnMultipleScreens",nc="vanilla.createFromAddOn",rc="vanilla.friendsInWorldsTab",lc="vanilla.newAchievementDesign",oc="vanilla.parties",ic=(0,l.sharedFacet)("vanilla.flatWorldPresets"),cc=(0,l.sharedFacet)("vanilla.followersList"),sc=(0,l.sharedFacet)("vanilla.friendworldlist"),uc=(0,l.sharedFacet)("vanilla.friendsManagerFacet"),dc=(0,l.sharedFacet)("vanilla.gamertagSearch"),mc=(0,l.sharedFacet)("vanilla.inGame");let pc,fc,gc,Ec,hc,bc,vc;function yc(e,t,a){return`${e}${""!==e?".":""}${t}${a}`}function Fc(e){const{translationPrefix:t,translate:a,formatDate:n,getHowLongAgoAsString:l}=(0,r.useContext)(Ml);return(0,r.useMemo)((()=>({f:{formatDate:n,getHowLongAgoAsString:l},t:(n,r)=>{const l=yc(t,e,n),o=a(l,r);return null!=o?o:l}})),[t,e,a,n,l])}function Sc(e,t){const{translationPrefix:a,translate:n,formatDate:l}=(0,r.useContext)(Ml);return(0,r.useMemo)((()=>({f:l,t:(r,l)=>{var o,i;let c=null;const s=yc(null!=t?t:a,e,r);return c=null!==(o=c)&&void 0!==o?o:n(s,l),null!==(i=c)&&void 0!==i?i:s}})),[t,a,e,n,l])}!function(e){e[e.PEACEFUL=0]="PEACEFUL",e[e.EASY=1]="EASY",e[e.NORMAL=2]="NORMAL",e[e.HARD=3]="HARD"}(pc||(pc={})),function(e){e[e.INVITED=1]="INVITED",e[e.FRIENDS=2]="FRIENDS",e[e.FRIENDS_OF_FRIENDS=3]="FRIENDS_OF_FRIENDS"}(fc||(fc={})),function(e){e[e.VISITOR=0]="VISITOR",e[e.MEMBER=1]="MEMBER",e[e.OPERATOR=2]="OPERATOR"}(gc||(gc={})),function(e){e[e.NONE=0]="NONE",e[e.CHECK_INTERNET_CONNECTION=1]="CHECK_INTERNET_CONNECTION",e[e.DISCONNECTED_THIRD_PARTY_WITH_SUBSCRIPTION=2]="DISCONNECTED_THIRD_PARTY_WITH_SUBSCRIPTION",e[e.DISCONNECTED_THIRD_PARTY=3]="DISCONNECTED_THIRD_PARTY",e[e.LOCAL_MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY=4]="LOCAL_MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY",e[e.MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY=5]="MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY",e[e.MULTIPLAYER_PRIVILEGES_BLOCKED=6]="MULTIPLAYER_PRIVILEGES_BLOCKED",e[e.MULTIPLAYER_PRIVILEGES_BLOCKED_ON_CONSOLE=7]="MULTIPLAYER_PRIVILEGES_BLOCKED_ON_CONSOLE",e[e.CROSS_PLATFORM_DISABLED=8]="CROSS_PLATFORM_DISABLED",e[e.NON_MULTIPLAYER_SKIN_EQUIPPED=9]="NON_MULTIPLAYER_SKIN_EQUIPPED"}(Ec||(Ec={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ALWAYS_DAY=1]="ALWAYS_DAY",e[e.LOCK_TIME=2]="LOCK_TIME"}(hc||(hc={})),function(e){e[e.GAMEPLAY=0]="GAMEPLAY",e[e.GRAPHICS=1]="GRAPHICS",e[e.ADD_ON_CREATORS=2]="ADD_ON_CREATORS",e[e.INTERNAL_TESTS=3]="INTERNAL_TESTS"}(bc||(bc={})),function(e){e[e.SkinPack=0]="SkinPack",e[e.ResourcePack=1]="ResourcePack",e[e.MashUp=2]="MashUp",e[e.Realms=3]="Realms",e[e.WorldTemplate=4]="WorldTemplate",e[e.ServerConsumable=5]="ServerConsumable",e[e.ServerDurable=6]="ServerDurable",e[e.OfferCollection=7]="OfferCollection",e[e.Bundle=8]="Bundle",e[e.Persona=9]="Persona",e[e.CoinOffer=10]="CoinOffer",e[e.CoinBundle=11]="CoinBundle",e[e.Addon=12]="Addon",e[e._Count=13]="_Count",e[e._Unknown=14]="_Unknown"}(vc||(vc={}));const Cc=(0,l.sharedFacet)("vanilla.marketplacePassWorldTemplateList"),Mc=(0,l.sharedFacet)("vanilla.marketplaceSuggestions"),wc=(0,l.sharedFacet)("vanilla.networkWorldDetails");let kc,Tc,Pc;!function(e){e[e.OK=0]="OK",e[e.InvalidServerIdError=1]="InvalidServerIdError",e[e.InvalidUserError=2]="InvalidUserError",e[e.NoInternetError=3]="NoInternetError",e[e.UserNeedsToBeSignedInError=4]="UserNeedsToBeSignedInError",e[e.BlockedByPlatformError=5]="BlockedByPlatformError",e[e.BlockedByXBLError=6]="BlockedByXBLError",e[e.BlockedByVersionError=7]="BlockedByVersionError",e[e.UserBannedError=8]="UserBannedError",e[e.ThirdPartyBadIPError=9]="ThirdPartyBadIPError",e[e.ThirdPartyNoServerOrServerLockedError=10]="ThirdPartyNoServerOrServerLockedError",e[e.UnknownError=11]="UnknownError"}(kc||(kc={})),function(e){e[e.Ok=0]="Ok",e[e.JoinRealmAlreadyInProgress=1]="JoinRealmAlreadyInProgress",e[e.RealmIDConversionFailed=2]="RealmIDConversionFailed",e[e.MissingPlatformMembership=3]="MissingPlatformMembership",e[e.MultiplayerPrivilegeBlocked=4]="MultiplayerPrivilegeBlocked",e[e.RealmsNotInitialized=5]="RealmsNotInitialized",e[e.MobileDataBlockedAndNoWifi=6]="MobileDataBlockedAndNoWifi",e[e.InvalidCrossPlatformMultiplayerSkin=7]="InvalidCrossPlatformMultiplayerSkin",e[e.RealmsApiNotAvailable=8]="RealmsApiNotAvailable",e[e.UnassignedDevVersion=9]="UnassignedDevVersion",e[e.MemberOfTooManyRealms=10]="MemberOfTooManyRealms",e[e.CannotConnectToRealm=11]="CannotConnectToRealm",e[e.UnknownError=12]="UnknownError",e[e.TimelineRequired=13]="TimelineRequired"}(Tc||(Tc={})),function(e){e[e.PlayScreen=0]="PlayScreen",e[e.SettingsScreen=1]="SettingsScreen",e[e.InviteLink=2]="InviteLink",e[e.AllowList=3]="AllowList",e[e.Marketplace=4]="Marketplace",e[e.CreateScreen=5]="CreateScreen",e[e.SlotsScreen=6]="SlotsScreen",e[e.ConnectToRealmLink=7]="ConnectToRealmLink",e[e.EditWorld=8]="EditWorld",e[e.TimelineRequiredScreen=9]="TimelineRequiredScreen"}(Pc||(Pc={}));const Ic=(0,l.sharedFacet)("vanilla.networkWorldJoiner"),xc=(0,l.sharedFacet)("vanilla.notificationOptions"),Ac=(0,l.sharedFacet)("vanilla.notifications"),Oc=(0,l.sharedFacet)("vanilla.offerRepository");let Nc;!function(e){e[e.TOUCH=0]="TOUCH",e[e.CROSSHAIR=1]="CROSSHAIR",e[e.CLASSIC=2]="CLASSIC"}(Nc||(Nc={}));const Rc=(0,l.sharedFacet)("vanilla.options"),Lc=(0,l.sharedFacet)("vanilla.playerAchievements"),_c=(0,l.sharedSelector)((e=>e.status===Yo.LOADED),[Lc]),Dc=((0,l.sharedDynamicSelector)((e=>[(t,a)=>({isLoaded:a,achievement:Ho(t.data.achievements,(t=>t.id===e))}),[Lc,_c]])),(0,l.sharedSelector)((e=>Fi(e.data.achievements)),[Lc]));let Wc,Bc,Uc;!function(e){e[e.NONE=0]="NONE",e[e.EXTERNAL=1]="EXTERNAL",e[e.INTERNAL=2]="INTERNAL"}(Wc||(Wc={})),function(e){e[e.Default=0]="Default",e[e.Realms=1]="Realms"}(Bc||(Bc={})),function(e){e[e.LOADING=0]="LOADING",e[e.IMAGE_RETRIEVAL=1]="IMAGE_RETRIEVAL",e[e.LOADED=2]="LOADED"}(Uc||(Uc={}));const zc=(0,l.sharedFacet)("vanilla.playermessagingservice"),Hc=(0,l.sharedSelector)((e=>e.reportDismiss.bind(e)),[zc]),jc=(0,l.sharedSelector)((e=>e.status!=Uc.LOADING),[zc]),Vc=(0,l.sharedDynamicSelector)((e=>[(t,a)=>({isLoaded:a,message:Ho(t.data.messages,(t=>t.id===e))}),[zc,jc]]));(0,l.sharedDynamicSelector)((e=>[(t,a)=>{const n=function(e,t){return e.filter((e=>e.surface==t))}(t.data.messages,e);return{isLoaded:a,messages:n}},[zc,jc]]));const Gc=(0,l.sharedFacet)("vanilla.playerPrivacy");let $c,Kc,Yc,Xc,qc,Qc;!function(e){e[e.Self=0]="Self",e[e.TwoWayFriend=1]="TwoWayFriend",e[e.Following=2]="Following",e[e.Follower=3]="Follower",e[e.Stranger=4]="Stranger",e[e.Unknown=5]="Unknown"}($c||($c={})),function(e){e[e.None=0]="None",e[e.UserNotFound=1]="UserNotFound",e[e.NoInternet=2]="NoInternet",e[e.NotAllowedToViewProfilesAdult=3]="NotAllowedToViewProfilesAdult",e[e.NotAllowedToViewProfilesChild=4]="NotAllowedToViewProfilesChild",e[e.NotLoggedInWithMSA=5]="NotLoggedInWithMSA",e[e.LoggedInWithMSAButPlatformProfile=6]="LoggedInWithMSAButPlatformProfile"}(Kc||(Kc={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.FAVORITE=1]="FAVORITE",e[e.NOT_FAVORITE=2]="NOT_FAVORITE"}(Yc||(Yc={})),function(e){e[e.Loading=0]="Loading",e[e.Loaded=1]="Loaded",e[e.Error=2]="Error",e[e.Undefined=3]="Undefined"}(Xc||(Xc={})),function(e){e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Away=2]="Away",e[e.Offline=3]="Offline"}(qc||(qc={})),function(e){e.FriendsDrawer="FriendsDrawer",e.SocialDrawer_PartyTab="SocialDrawer_PartyTab",e.SocialDrawer_PeopleTab="SocialDrawer_PeopleTab",e.Profile_FriendsList="Profile_FriendsList",e.Profile_FollowersList="Profile_FollowersList",e.Profile_CompareStatsCurrent="Profile_CompareStatsCurrent",e.Profile_CompareStatsLoaded="Profile_CompareStatsLoaded",e.AddFriends_Search="AddFriends_Search",e.AddFriends_RecommendedFriends="AddFriends_RecommendedFriends",e.AddFriends_RecentlyPlayedWith="AddFriends_RecentlyPlayedWith",e.AddFriends_Followers="AddFriends_Followers",e.CreateParty_Friends="CreateParty_Friends",e.CreateParty_RecentlyPlayedWith="CreateParty_RecentlyPlayedWith",e.InviteToParty_Friends="InviteToParty_Friends",e.InviteToParty_RecentlyPlayedWith="InviteToParty_RecentlyPlayedWith"}(Qc||(Qc={}));const Zc=(0,l.sharedFacet)("vanilla.playerProfile"),Jc=(0,l.sharedFacet)("vanilla.playerReport"),es=(0,l.sharedFacet)("vanilla.playerFollowingList");let ts;!function(e){e[e.ADDFRIENDS_RECOMMENDEDFRIENDS=0]="ADDFRIENDS_RECOMMENDEDFRIENDS",e[e.ADDFRIENDS_RECENTLYPLAYEDWITH=1]="ADDFRIENDS_RECENTLYPLAYEDWITH",e[e.ADDFRIENDS_FOLLOWERS=2]="ADDFRIENDS_FOLLOWERS",e[e.ADDFRIENDS_SEARCH=3]="ADDFRIENDS_SEARCH",e[e.PROFILE_MAIN=4]="PROFILE_MAIN",e[e.JSONUI=5]="JSONUI",e[e.PROFILE_FRIENDSLIST=6]="PROFILE_FRIENDSLIST",e[e.PROFILE_FOLLOWERSLIST=7]="PROFILE_FOLLOWERSLIST",e[e.SOCIALDRAWER_OPENPARTY=8]="SOCIALDRAWER_OPENPARTY"}(ts||(ts={}));const as=(0,l.sharedFacet)("vanilla.playerSocialManager"),ns=(0,l.sharedFacet)("vanilla.privacyAndOnlineSafetyFacet"),rs=(0,l.sharedFacet)("vanilla.profanityFilter"),ls=(0,l.sharedFacet)("vanilla.realmsStories.actions"),os=(0,l.sharedFacet)("vanilla.realmsStories.realmData");let is,cs;!function(e){e[e.All=0]="All",e[e.Online=1]="Online",e[e.InRealm=2]="InRealm"}(is||(is={})),function(e){e[e.MostRecent=0]="MostRecent",e[e.AlphabeticalAscending=1]="AlphabeticalAscending",e[e.AlphabeticalDescending=2]="AlphabeticalDescending",e[e.LeastRecent=3]="LeastRecent"}(cs||(cs={}));const ss=(0,l.sharedFacet)("vanilla.realmsStories.persistentData"),us=(0,l.sharedFacet)("vanilla.realmsSettingsFacet");let ds;!function(e){e[e.NONMEMBER=-1]="NONMEMBER",e[e.VISITOR=0]="VISITOR",e[e.MEMBER=1]="MEMBER",e[e.OPERATOR=2]="OPERATOR",e[e.OWNER=3]="OWNER"}(ds||(ds={}));const ms=(0,l.sharedFacet)("vanilla.realmsStories.players");function ps(e,t){return(a=e.gamerTag.toLowerCase())===(n=t.gamerTag.toLowerCase())?0:a>n?1:-1;var a,n}function fs(e,t){return ps(t,e)}function gs(e){return e.sort(Es)}function Es(e,t){const a=e.isInRealm?Number.MAX_VALUE:e.lastSeenTime,n=t.isInRealm?Number.MAX_VALUE:t.lastSeenTime;return a===n?ps(e,t):n-a}function hs(e,t){return Es(t,e)}let bs,vs,ys,Fs;!function(e){e[e.IDLE=0]="IDLE",e[e.PREPARING_APP_STORE=1]="PREPARING_APP_STORE",e[e.APP_STORE_READY=2]="APP_STORE_READY",e[e.CAN_BE_MEMBER_OF_MORE_REALMS_VALIDATION=3]="CAN_BE_MEMBER_OF_MORE_REALMS_VALIDATION",e[e.CAN_BE_MEMBER_OF_MORE_REALMS_VALIDATION_STARTED=4]="CAN_BE_MEMBER_OF_MORE_REALMS_VALIDATION_STARTED",e[e.REALM_NAME_VALIDATION=5]="REALM_NAME_VALIDATION",e[e.REALM_NAME_VALIDATION_STARTED=6]="REALM_NAME_VALIDATION_STARTED",e[e.PURCHASE=7]="PURCHASE",e[e.PURCHASE_STARTED=8]="PURCHASE_STARTED",e[e.COMPLETED=9]="COMPLETED",e[e.FAILED=10]="FAILED"}(bs||(bs={})),function(e){e[e.NOT_SPECIFIED=0]="NOT_SPECIFIED",e[e.NO_ACCESS=1]="NO_ACCESS",e[e.MEMBER_OF_TOO_MANY_REALMS=2]="MEMBER_OF_TOO_MANY_REALMS",e[e.INVALID_REALM_NAME=3]="INVALID_REALM_NAME",e[e.FAILED_CLUB_NAME_VALIDATION=4]="FAILED_CLUB_NAME_VALIDATION",e[e.OFFER_NOT_FOUND=5]="OFFER_NOT_FOUND",e[e.OFFER_NOT_AVAILABLE_INCOMPLETE_DATA=6]="OFFER_NOT_AVAILABLE_INCOMPLETE_DATA",e[e.OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED=7]="OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED",e[e.APP_STORE_NOT_READY=8]="APP_STORE_NOT_READY",e[e.CHECK_REALMS_PAYMENT_SERVICE_FAILED=9]="CHECK_REALMS_PAYMENT_SERVICE_FAILED",e[e.PURCHASE_FAILED=10]="PURCHASE_FAILED",e[e.FULFILLMENT_FAILED=11]="FULFILLMENT_FAILED"}(vs||(vs={})),function(e){e[e.Offer30Days=0]="Offer30Days",e[e.Offer180Days=1]="Offer180Days",e[e.OfferMonthly=2]="OfferMonthly"}(ys||(ys={})),function(e){e[e.Offer2Player=0]="Offer2Player",e[e.Offer10Player=1]="Offer10Player",e[e.Offer16Player=2]="Offer16Player"}(Fs||(Fs={}));const Ss=(0,l.sharedFacet)("vanilla.realmsPurchase");let Cs;!function(e){e[e.IDLE=0]="IDLE",e[e.LOADING=1]="LOADING",e[e.FAILED=2]="FAILED",e[e.DONE=3]="DONE"}(Cs||(Cs={}));const Ms=(0,l.sharedFacet)("vanilla.realmsSubscriptionsData"),ws=(0,l.sharedFacet)("vanilla.realmsSubscriptionsMethods"),ks=(0,l.sharedFacet)("vanilla.realmsWorldContextCommands");let Ts;!function(e){e[e.IDLE=0]="IDLE",e[e.FETCHING_WORLD=1]="FETCHING_WORLD",e[e.FAILED=2]="FAILED",e[e.WORLD_AVAILABLE=3]="WORLD_AVAILABLE"}(Ts||(Ts={}));const Ps=(0,l.sharedFacet)("vanilla.realmsWorldContextQueries");let Is,xs,As;!function(e){e[e.RealmsAPIUnavailable=0]="RealmsAPIUnavailable",e[e.NeedToCallFetchFirst=1]="NeedToCallFetchFirst",e[e.MemberOfTooManyRealms=2]="MemberOfTooManyRealms",e[e.UnknownError=3]="UnknownError"}(Is||(Is={})),function(e){e[e.RealmsAPIUnavailable=0]="RealmsAPIUnavailable",e[e.AlreadyMember=1]="AlreadyMember",e[e.RealmExpired=2]="RealmExpired",e[e.RealmClosed=3]="RealmClosed",e[e.BadInvite=4]="BadInvite",e[e.BlockedInvite=5]="BlockedInvite",e[e.InviteLinkNotFound=6]="InviteLinkNotFound",e[e.UnexpectedServerResponse=7]="UnexpectedServerResponse",e[e.AnonymousAccount=8]="AnonymousAccount"}(xs||(xs={})),function(e){e[e.RealmsAPIUnavailable=0]="RealmsAPIUnavailable",e[e.ErrorTaskInProgress=1]="ErrorTaskInProgress",e[e.UnknownError=2]="UnknownError",e[e.Success=3]="Success",e[e.Unknown=4]="Unknown"}(As||(As={}));const Os=(0,l.sharedFacet)("vanilla.realmsMembership"),Ns=(0,l.sharedFacet)("vanilla.RealmsPDPFacet"),Rs=(0,l.sharedFacet)("vanilla.realmsStories.sessions");let Ls,_s,Ds;!function(e){e[e.Compatible=0]="Compatible",e[e.CompatibleShowInfo=1]="CompatibleShowInfo",e[e.Outdated=2]="Outdated",e[e.AlphaEnded=3]="AlphaEnded",e[e.UserNotAllowed=4]="UserNotAllowed",e[e.Other=5]="Other"}(Ls||(Ls={})),function(e){e[e.None=0]="None",e[e.Unknown=1]="Unknown",e[e.Compatibility=2]="Compatibility",e[e.ServiceError=3]="ServiceError",e[e.RateLimit=4]="RateLimit",e[e.RealmsBan=5]="RealmsBan",e[e.RealmsSuspension=6]="RealmsSuspension",e[e.NetworkError=7]="NetworkError",e[e.APIUnavailable=8]="APIUnavailable",e[e.InEditorMode=9]="InEditorMode"}(_s||(_s={})),function(e){e[e.Unknown=0]="Unknown",e[e.Loading=1]="Loading",e[e.Idle=2]="Idle",e[e.Error=3]="Error"}(Ds||(Ds={}));const Ws=(0,l.sharedFacet)("vanilla.realmsListFacet"),Bs=(0,l.sharedSelector)((e=>{const t=[];if(null==e.realms)return t;for(let a=0;a<e.realms.length;a++)e.realms[a].world.isInitialized&&!e.realms[a].world.expired&&e.realms[a].isOwner&&t.push(e.realms[a].world);return t}),[Ws]),Us=(0,l.sharedFacet)("vanilla.realmsListActionsFacet"),zs=(0,l.sharedFacet)("vanilla.developerOptionsFacet"),Hs=(0,l.sharedFacet)("vanilla.realmSlots"),js=(0,l.sharedFacet)("vanilla.realmsStories.stories");function Vs(e){e.forEach((e=>{e.hasViewed=!0}))}let Gs;!function(e){e[e.OptedIn=0]="OptedIn",e[e.OptedOut=1]="OptedOut",e[e.None=2]="None"}(Gs||(Gs={}));const $s=(0,l.sharedFacet)("vanilla.realmsStories.settings"),Ks=(0,l.sharedFacet)("vanilla.realmsStories.comments");let Ys;!function(e){e[e.ActionAlreadyInProgress=0]="ActionAlreadyInProgress",e[e.CannotSaveWorld=1]="CannotSaveWorld",e[e.InvalidWorldId=2]="InvalidWorldId",e[e.Generic=3]="Generic",e[e.TooManyRealms=4]="TooManyRealms",e[e.InvalidRealmName=5]="InvalidRealmName",e[e.InvalidResponse=6]="InvalidResponse",e[e.CrossPlatformRestricted=7]="CrossPlatformRestricted",e[e.UnknownError=8]="UnknownError"}(Ys||(Ys={}));const Xs=(0,l.sharedFacet)("vanilla.RealmWorldUploaderFacet"),qs=(0,l.sharedFacet)("vanilla.recentlyPlayedWithList"),Qs=(0,l.sharedFacet)("vanilla.recommendedFriendsList");let Zs;!function(e){e[e.Idle=0]="Idle",e[e.CheckingResourcePacks=1]="CheckingResourcePacks",e[e.StartDownload=2]="StartDownload",e[e.DownloadingResourcePacks=3]="DownloadingResourcePacks",e[e.ActivateDownloadedPack=4]="ActivateDownloadedPack",e[e.WaitingForPrompt=5]="WaitingForPrompt"}(Zs||(Zs={}));const Js=(0,l.sharedFacet)("vanilla.resourcePacks");let eu;!function(e){e[e.Default=0]="Default",e[e.List=1]="List",e[e.Grid=2]="Grid"}(eu||(eu={}));const tu=(0,l.sharedFacet)("vanilla.screenSpecificOptions");let au;!function(e){e[e.None=0]="None",e[e.HttpError=1]="HttpError"}(au||(au={}));const nu=(0,l.sharedFacet)("vanilla.screenshotGallery"),ru=(0,l.sharedFacet)("vanilla.playerShowcasedGallery");let lu,ou;!function(e){e.PlayScreen="/play",e.EditWorldScreen="/edit-world"}(lu||(lu={})),function(e){e[e.JsonUI=0]="JsonUI",e[e.OreUI=1]="OreUI"}(ou||(ou={}));const iu=(0,l.sharedFacet)("vanilla.screenTechStack"),cu=(0,l.sharedFacet)("vanilla.seedTemplates"),su=(0,l.sharedFacet)("vanilla.share"),uu=(0,l.sharedFacet)("vanilla.simulationDistanceOptions");let du,mu;!function(e){e[e.NotSet=0]="NotSet",e[e.NotUsedByEdu=1]="NotUsedByEdu",e[e.AccessControlData=2]="AccessControlData",e[e.CustomerContent=3]="CustomerContent",e[e.EUII=4]="EUII",e[e.SupportData=5]="SupportData",e[e.Feedback=6]="Feedback",e[e.AccountData=7]="AccountData",e[e.PublicPersonalData=8]="PublicPersonalData",e[e.EUPI=9]="EUPI",e[e.OII=10]="OII",e[e.SystemMetadata=11]="SystemMetadata",e[e.PublicNonPersonalData=12]="PublicNonPersonalData"}(du||(du={})),function(e){e[e.Increment=0]="Increment",e[e.Sum=1]="Sum",e[e.Min=2]="Min",e[e.Max=3]="Max",e[e.Average=4]="Average",e[e.Latest=5]="Latest"}(mu||(mu={}));const pu=(0,l.sharedFacet)("vanilla.telemetry");let fu;!function(e){e[e.ServersSupported=0]="ServersSupported",e[e.Win32DevBuildWarning=1]="Win32DevBuildWarning"}(fu||(fu={}));const gu=(0,l.sharedFacet)("vanilla.thirdPartyWorldList");let Eu,hu;!function(e){e[e.PlatformHasNoTrialOfferings=0]="PlatformHasNoTrialOfferings",e[e.UnknownGameStoreError=1]="UnknownGameStoreError"}(Eu||(Eu={})),function(e){e[e.FullGame=0]="FullGame",e[e.StarterCollection=1]="StarterCollection",e[e.MasterCollection=2]="MasterCollection"}(hu||(hu={}));const bu=(0,l.sharedFacet)("vanilla.trialMode");let vu,yu,Fu,Su,Cu,Mu,wu,ku,Tu,Pu,Iu,xu,Au,Ou;!function(e){e[e.Primary=0]="Primary",e[e.Secondary=1]="Secondary"}(vu||(vu={})),function(e){e.MINECRAFT="minecraft",e.XBL="xbl",e.ACHIEVEMENTS="achievements",e.MULTIPLAYER="multiplayer",e.SERVER="server",e.STORE="store",e.CREATIVE="creative",e.PACKS="packs",e.SEEDS="seeds"}(yu||(yu={})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.SURVIVAL=0]="SURVIVAL",e[e.CREATIVE=1]="CREATIVE",e[e.ADVENTURE=2]="ADVENTURE",e[e.DEFAULT=5]="DEFAULT",e[e.SPECTATOR=6]="SPECTATOR"}(Fu||(Fu={})),function(e){e[e.ThirdParty=0]="ThirdParty",e[e.External=1]="External",e[e.Realm=2]="Realm",e[e.LAN=3]="LAN"}(Su||(Su={})),function(e){e[e.Unavailable=0]="Unavailable",e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.High=3]="High"}(Cu||(Cu={})),function(e){e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed"}(Mu||(Mu={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.INTERNAL_ERROR=1]="INTERNAL_ERROR",e[e.FETCH_FAILED=2]="FETCH_FAILED"}(wu||(wu={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.INPUT_INVALID=1]="INPUT_INVALID",e[e.INTERNAL_ERROR=2]="INTERNAL_ERROR",e[e.UPLOAD_FAILED=3]="UPLOAD_FAILED"}(ku||(ku={})),function(e){e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.InternalError=3]="InternalError",e[e.FetchFailed=4]="FetchFailed",e[e.RateLimit=5]="RateLimit"}(Tu||(Tu={})),function(e){e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.InternalError=3]="InternalError",e[e.InputInvalid=4]="InputInvalid",e[e.Uploading=5]="Uploading",e[e.UploadFailed=6]="UploadFailed",e[e.PostingFailed=7]="PostingFailed",e[e.RateLimit=8]="RateLimit"}(Pu||(Pu={})),function(e){e[e.Success=0]="Success",e[e.XboxAPIError=1]="XboxAPIError"}(Iu||(Iu={})),function(e){e.Template="template",e.Regular="regular"}(xu||(xu={})),function(e){e[e.Visitor=0]="Visitor",e[e.Member=1]="Member",e[e.Operator=2]="Operator",e[e.Custom=3]="Custom"}(Au||(Au={})),function(e){e[e.Undefined=0]="Undefined",e[e.Requested=1]="Requested",e[e.Success=2]="Success",e[e.Failure=3]="Failure"}(Ou||(Ou={}));const Nu=(0,l.sharedFacet)("vanilla.unpairedRealmsListFacet"),Ru=(0,l.sharedSelector)((e=>{const t=[];for(let a=0;a<e.realms.length;a++)e.realms[a].world.isInitialized&&!e.realms[a].world.expired&&e.realms[a].isOwner&&t.push(e.realms[a].world);return t}),[Nu]);let Lu,_u;var Du;(Du=Lu||(Lu={}))[Du.None=0]="None",Du[Du.Minecraft_Ban=1]="Minecraft_Ban",Du[Du.XboxLive=2]="XboxLive",Du[Du.XboxLive_Parental=4]="XboxLive_Parental",Du[Du.XboxLive_Ban=8]="XboxLive_Ban",Du[Du.XboxLive_RequiresSignIn=16]="XboxLive_RequiresSignIn",Du[Du.Platform_PlayStation=32]="Platform_PlayStation",Du[Du.Platform_NintendoSwitch=64]="Platform_NintendoSwitch",Du[Du.GameVersion=128]="GameVersion",Du[Du.Unknown=256]="Unknown",function(e){e[e.Anonymous=0]="Anonymous",e[e.NotConnected=1]="NotConnected",e[e.Connected=2]="Connected",e[e.ConnectionFailed=3]="ConnectionFailed",e[e.OfflineOnly=4]="OfflineOnly",e[e.UserBanned=5]="UserBanned"}(_u||(_u={}));const Wu=(0,l.sharedFacet)("vanilla.userAccount"),Bu=(0,l.sharedSelector)((e=>e.isTrialAccount),[Wu]);let Uu;!function(e){e[e.NewWorldCreationFeedbackPage=0]="NewWorldCreationFeedbackPage",e[e.PlayScreenFeedbackPage=1]="PlayScreenFeedbackPage",e[e.EditWorldScreenFeedbackPage=2]="EditWorldScreenFeedbackPage",e[e.DeathScreenFeedbackPage=3]="DeathScreenFeedbackPage",e[e.RealmsSafetyPage=4]="RealmsSafetyPage",e[e.BannedHelpPage=6]="BannedHelpPage",e[e.ParentPermissionHelpPage=5]="ParentPermissionHelpPage",e[e.NintendoSwitchTechnicalSupportPage=7]="NintendoSwitchTechnicalSupportPage",e[e.BuyMinecraftStorePage=8]="BuyMinecraftStorePage",e[e.XboxPrivacyAndOnlineSafety=9]="XboxPrivacyAndOnlineSafety",e[e.XboxAccountProfile=10]="XboxAccountProfile",e[e.JoinRealmHelpPage=11]="JoinRealmHelpPage",e[e.FriendsDrawerFeedbackPage=12]="FriendsDrawerFeedbackPage",e[e.ServersTabFeedbackPage=13]="ServersTabFeedbackPage",e[e.PlayerFeedbackMain=14]="PlayerFeedbackMain",e[e.PlayerFeedbackIdeas=15]="PlayerFeedbackIdeas",e[e.ProfileFeedbackMain=16]="ProfileFeedbackMain",e[e.StartFromTemplateFeedbackPage=17]="StartFromTemplateFeedbackPage",e[e.RealmsTabFeedbackPage=18]="RealmsTabFeedbackPage",e[e.TermsAndServicePage=19]="TermsAndServicePage",e[e.PrivacyPolicyPage=20]="PrivacyPolicyPage",e[e.PreproductionRealmsGuide=21]="PreproductionRealmsGuide",e[e.TroubleshootingMultiplayerDisabled=22]="TroubleshootingMultiplayerDisabled",e[e.EduAboutAddOns=23]="EduAboutAddOns",e[e.EduAboutBehaviorPacks=24]="EduAboutBehaviorPacks",e[e.EduAboutResourcePacks=25]="EduAboutResourcePacks",e[e.EduAboutCloud=26]="EduAboutCloud",e[e.FlatWorldFeedbackPage=27]="FlatWorldFeedbackPage",e[e.SignInCapeTerms=28]="SignInCapeTerms",e[e.ContactSupport=29]="ContactSupport"}(Uu||(Uu={}));const zu=(0,l.sharedFacet)("vanilla.webBrowserFacet");let Hu;!function(e){e[e.Ok=0]="Ok",e[e.Unsupported=1]="Unsupported",e[e.WorldNotCloudStored=2]="WorldNotCloudStored",e[e.UnableToGetManifest=3]="UnableToGetManifest",e[e.UnableToSyncWorld=4]="UnableToSyncWorld"}(Hu||(Hu={}));const ju=(0,l.sharedFacet)("vanilla.worldCloudSyncFacet");let Vu,Gu,$u;!function(e){e[e.IncorrectWorldId=0]="IncorrectWorldId",e[e.UnexpectedError=1]="UnexpectedError"}(Vu||(Vu={})),function(e){e[e.Legacy=0]="Legacy",e[e.Overworld=1]="Overworld",e[e.Flat=2]="Flat",e[e.Nether=3]="Nether",e[e.TheEnd=4]="TheEnd",e[e.Void=5]="Void",e[e.Undefined=6]="Undefined"}(Gu||(Gu={})),function(e){e[e.IncorrectWorldId=0]="IncorrectWorldId",e[e.UnableToCreateWorldDirectoryPath=1]="UnableToCreateWorldDirectoryPath",e[e.UnableToCreateResourcePackDirectoryPath=2]="UnableToCreateResourcePackDirectoryPath",e[e.UnableToCreateBehaviorDirectoryPath=3]="UnableToCreateBehaviorDirectoryPath",e[e.InsufficientDiskSpace=4]="InsufficientDiskSpace",e[e.UnknownError=5]="UnknownError"}($u||($u={}));const Ku=(0,l.sharedFacet)("vanilla.worldEditor");let Yu,Xu,qu,Qu,Zu,Ju,ed;!function(e){e[e.Ok=0]="Ok",e[e.IncorrectWorldId=1]="IncorrectWorldId",e[e.InsufficientDiskSpace=2]="InsufficientDiskSpace",e[e.UnknownError=3]="UnknownError"}(Yu||(Yu={})),function(e){e[e.None=0]="None",e[e.ClearPlayerData=2]="ClearPlayerData",e[e.ForceHardcoreMode=4]="ForceHardcoreMode",e[e.All=-1]="All"}(Xu||(Xu={})),function(e){e[e.Ok=0]="Ok",e[e.IncorrectWorldId=1]="IncorrectWorldId",e[e.NeedToRemoveVRHeadset=2]="NeedToRemoveVRHeadset",e[e.NoFile=3]="NoFile",e[e.ZipError=4]="ZipError",e[e.PremiumContent=5]="PremiumContent",e[e.EditionMismatch=6]="EditionMismatch",e[e.EditorMismatch=7]="EditorMismatch",e[e.ZipDepthError=8]="ZipDepthError",e[e.UnknownError=9]="UnknownError",e[e.Cancelled=10]="Cancelled"}(qu||(qu={})),function(e){e[e.SkipLocalUser=0]="SkipLocalUser",e[e.IncludeLocalUser=1]="IncludeLocalUser"}(Qu||(Qu={})),function(e){e[e.Idle=0]="Idle",e[e.Setup=1]="Setup",e[e.SelectingFileDestination=2]="SelectingFileDestination",e[e.Exporting=3]="Exporting"}(Zu||(Zu={})),function(e){e[e.FailedToOpenDatabase=0]="FailedToOpenDatabase"}(Ju||(Ju={})),function(e){e[e.Ok=0]="Ok",e[e.InvalidLevel=1]="InvalidLevel"}(ed||(ed={}));const td=(0,l.sharedFacet)("vanilla.worldOperations");let ad,nd,rd,ld;!function(e){e[e.None=0]="None",e[e.World=1]="World",e[e.WorldTemplate=2]="WorldTemplate",e[e.Resource=3]="Resource",e[e.Behavior=4]="Behavior",e[e.Skin=5]="Skin",e[e.ItemCollection=6]="ItemCollection"}(ad||(ad={})),function(e){e[e.Idle=0]="Idle",e[e.Downloading=1]="Downloading",e[e.Importing=2]="Importing",e[e.Completed=3]="Completed"}(nd||(nd={})),function(e){e[e.InvalidContentType=0]="InvalidContentType",e[e.InvalidPackId=1]="InvalidPackId",e[e.InvalidWorldId=2]="InvalidWorldId",e[e.ContentTierIncompatible=3]="ContentTierIncompatible",e[e.ContentTierIncompatibleMemory=4]="ContentTierIncompatibleMemory",e[e.ContentTierIncompatibleRayTracing=5]="ContentTierIncompatibleRayTracing",e[e.PackDataWarning=6]="PackDataWarning",e[e.PackDependencyWarning=7]="PackDependencyWarning",e[e.PackSelectErrorNoStore=8]="PackSelectErrorNoStore",e[e.PackSelectErrorRequiredDependency=9]="PackSelectErrorRequiredDependency",e[e.NoPackAccess=10]="NoPackAccess",e[e.UnownedContent=11]="UnownedContent",e[e.NeedToDownloadPack=12]="NeedToDownloadPack",e[e.UnsupportedFileFormat=13]="UnsupportedFileFormat",e[e.IncompletePack=14]="IncompletePack",e[e.NoManifest=15]="NoManifest",e[e.MissingProperty=16]="MissingProperty",e[e.WrongTypeProperty=17]="WrongTypeProperty",e[e.EmptyProperty=18]="EmptyProperty",e[e.InvalidProperty=19]="InvalidProperty",e[e.MalformedPropertyUUID=20]="MalformedPropertyUUID",e[e.MalformedPropertyVERSION=21]="MalformedPropertyVERSION",e[e.DuplicateUUID=22]="DuplicateUUID",e[e.InvalidJSON=23]="InvalidJSON",e[e.MissingModules=24]="MissingModules",e[e.MultipleModules=25]="MultipleModules",e[e.UnsupportedFormatVersion=26]="UnsupportedFormatVersion",e[e.VersionTooHigh=27]="VersionTooHigh",e[e.VersionTooLow=28]="VersionTooLow",e[e.InitializationTimeout=29]="InitializationTimeout",e[e.UnexpectedError=30]="UnexpectedError"}(rd||(rd={})),function(e){e[e.HasPendingOrActiveImports=0]="HasPendingOrActiveImports",e[e.HasUnownedPacks=1]="HasUnownedPacks",e[e.RealmsPlusEnded=2]="RealmsPlusEnded",e[e.MissingDlcDependencies=3]="MissingDlcDependencies",e[e.MissingDlcWorldTemplate=4]="MissingDlcWorldTemplate",e[e.NoInternet=5]="NoInternet",e[e.HasPerformanceIssues=6]="HasPerformanceIssues",e[e.NotEnoughDiskSpace=7]="NotEnoughDiskSpace",e[e.WifiRequiredYetNotAccessible=8]="WifiRequiredYetNotAccessible",e[e.MissingRequiredWorldTemplateRequestUserApproval=9]="MissingRequiredWorldTemplateRequestUserApproval",e[e.InvalidPack=10]="InvalidPack",e[e.InvalidWorld=11]="InvalidWorld",e[e.InitializationTimeout=12]="InitializationTimeout",e[e.UnexpectedError=13]="UnexpectedError"}(ld||(ld={}));const od=(0,l.sharedFacet)("vanilla.worldPackages");let id,cd;!function(e){e[e.Ok=0]="Ok",e[e.WorldNotInLevelList=1]="WorldNotInLevelList",e[e.StartupAlreadyInProgress=2]="StartupAlreadyInProgress",e[e.GameServerStarterNotReady=3]="GameServerStarterNotReady",e[e.MissingDependencies=4]="MissingDependencies",e[e.DlcMissingContentKey=5]="DlcMissingContentKey",e[e.DlcPendingImports=6]="DlcPendingImports",e[e.HasUnownedPacks=7]="HasUnownedPacks",e[e.UnknownError=8]="UnknownError",e[e.WorldSavedInNewerVersion=9]="WorldSavedInNewerVersion"}(id||(id={})),function(e){e[e.Ok=0]="Ok",e[e.IncorrectWorldId=1]="IncorrectWorldId",e[e.InsufficientDiskSpace=2]="InsufficientDiskSpace",e[e.UnknownError=3]="UnknownError"}(cd||(cd={}));const sd=(0,l.sharedFacet)("vanilla.worldStartup");let ud;(0,l.sharedFacet)("vanilla.worldTemplateList"),function(e){e[e.Success=0]="Success",e[e.FailureUnknown=1]="FailureUnknown",e[e.FailureNoFile=2]="FailureNoFile",e[e.FailureZipError=3]="FailureZipError",e[e.FailurePremiumContent=4]="FailurePremiumContent",e[e.FailureEditionMismatch=5]="FailureEditionMismatch",e[e.FailureEditorMismatch=6]="FailureEditorMismatch",e[e.UnsupportedPlatform=7]="UnsupportedPlatform",e[e.AlreadyInProgress=8]="AlreadyInProgress",e[e.InterruptedByUser=9]="InterruptedByUser"}(ud||(ud={}));const dd=(0,l.sharedFacet)("vanilla.worldTransfer"),md=(0,l.sharedFacet)("vanilla.featuredWorldTemplateList"),pd=(0,l.sharedFacet)("vanilla.ownedWorldTemplateList");let fd,gd,Ed;!function(e){e[e.Initialising=0]="Initialising",e[e.Downloading=1]="Downloading",e[e.Importing=2]="Importing",e[e.Success=3]="Success",e[e.Fail=4]="Fail"}(fd||(fd={})),function(e){e[e.UnknownFileType=0]="UnknownFileType",e[e.Duplicate=1]="Duplicate",e[e.MalformedZip=2]="MalformedZip",e[e.Default=3]="Default",e[e.Incompatible=4]="Incompatible",e[e.Cancelled=5]="Cancelled"}(gd||(gd={})),function(e){e[e.AlreadyDownloaded=0]="AlreadyDownloaded",e[e.DownloadAlreadyInProgress=1]="DownloadAlreadyInProgress",e[e.DownloadFailed=2]="DownloadFailed",e[e.ItemNotOwned=3]="ItemNotOwned",e[e.CancelledByUser=4]="CancelledByUser",e[e.InsufficientStorage=5]="InsufficientStorage"}(Ed||(Ed={}));const hd=(0,l.sharedFacet)("vanilla.worldTemplateOperations"),bd=(0,l.sharedFacet)("vanilla.playerBanned");function vd(){return(0,l.useFacetCallback)((e=>({button:t,screen:a,details:n={}})=>e.fireEventButtonPressed(function({button:e,screen:t}){return`${t}Screen_${e}Button_OreUI`}({button:t,screen:a}),n)),[],[(0,l.useSharedFacet)(pu)])}function yd(){return(0,l.useFacetCallback)((e=>({modal:t,screen:a,details:n={}})=>e.fireEventModalShown(function({modal:e,screen:t}){return`${t}Screen_${e}Modal_OreUI`}({modal:t,screen:a}),n)),[],[(0,l.useSharedFacet)(pu)])}function Fd(){const e=(0,r.useRef)(null);return(0,l.useFacetLayoutEffect)((t=>{!t&&e.current&&(e.current.scrollTop=0)}),[],[f()]),e}let Sd,Cd=0;function Md({guiScale:e,onGuiScaleApplied:t,accessibleGuiScale:a=!1,children:n}){const[o,i]=(0,l.useFacetState)(10),c=(0,l.useFacetWrap)(a);return(0,l.useFacetEffect)((e=>{i(2.5*e)}),[i],[e]),(0,l.useFacetEffect)(((e,a)=>{const n=document.getElementsByTagName("html")[0],r=document.body;n.style.fontSize=`${a}px`,r.style.setProperty("--baseFontSize",`${a}px`);const l=wd(e);r.style.setProperty("--base2Scale",`${l}px`),r.style.setProperty("--base2ScaleNeg",`-${l}px`);const o=kd(e);r.style.setProperty("--base1Scale",`${o}px`),r.style.setProperty("--base1ScaleNeg",`-${o}px`),t()}),[t],[e,o]),r.createElement(Pd.Provider,{value:e},r.createElement(Td.Provider,{value:o},r.createElement(Id.Provider,{value:c},n)))}!function(e){e[e.SCALING_25=1]="SCALING_25",e[e.SCALING_50=2]="SCALING_50",e[e.SCALING_75=3]="SCALING_75",e[e.SCALING_100=4]="SCALING_100",e[e.SCALING_125=5]="SCALING_125",e[e.SCALING_150=6]="SCALING_150",e[e.SCALING_175=7]="SCALING_175",e[e.SCALING_200=8]="SCALING_200"}(Sd||(Sd={}));const wd=e=>Math.max(Math.round(e/4*2),1),kd=e=>Math.max(Math.round(e/4),1),Td=(0,r.createContext)((0,l.createFacet)({initialValue:10})),Pd=(0,r.createContext)((0,l.createFacet)({initialValue:4})),Id=(0,r.createContext)((0,l.createFacet)({initialValue:!1})),xd=e=>{const t=(0,l.useFacetUnwrap)((0,r.useContext)(Td));return e*(t===l.NO_VALUE?10:t)},Ad=e=>(0,l.useFacetMap)(((e,t)=>e*t),[],[(0,l.useFacetWrap)(e),(0,r.useContext)(Td)]),Od=(e=70,t=128)=>{const a=xd(e),n=xd(t),[l,o]=(0,r.useState)("desktop");return(0,r.useEffect)((()=>{const e=()=>o((()=>{const e=window.innerWidth;return e<a?"narrow":e<n?"tablet":"desktop"})());return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[a,n]),l},Nd=(e=99.9)=>{const t=xd(e),a=(0,r.useCallback)((()=>window.innerWidth<=t),[t]),[n,l]=(0,r.useState)(a());return(0,r.useEffect)((()=>{const e=()=>l(a());return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[a]),n},Rd=(e=99.9)=>{const t=Ad(e),a=(0,l.useFacetCallback)((e=>()=>window.innerWidth<=e),[],[t],!1),[n,o]=(0,l.useFacetState)(a());return(0,r.useEffect)((()=>{const e=()=>o(a());return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[a,o]),n},Ld=new Map;let _d,Dd=null;const Wd=e=>{const[t,a]=(0,l.useFacetState)(l.NO_VALUE);return Bd(e,a),t},Bd=(e,t,a=(0,l.createStaticFacet)(!1))=>{const n=(0,l.useFacetWrap)(a);(0,l.useFacetEffect)((a=>{const n=e.current;if(null!=n&&!a)return Ud(n,t)}),[e,t],[n])},Ud=(e,t)=>(null==Dd&&(Dd=new ResizeObserver((e=>{cancelAnimationFrame(_d),_d=requestAnimationFrame((()=>{for(const t of e){const e=t.target,a=Ld.get(e);a&&!zd(t.contentRect)&&a(t.contentRect)}}))}))),requestAnimationFrame((()=>{t(e.getBoundingClientRect())})),Ld.set(e,t),Dd.observe(e),()=>{var t,a;null===(t=Dd)||void 0===t||t.unobserve(e),Ld.delete(e),0===Ld.size&&(null===(a=Dd)||void 0===a||a.disconnect(),Dd=null)}),zd=e=>0===e.width&&0===e.height&&0===e.top&&0===e.left&&0===e.right&&0===e.bottom&&0===e.x&&0===e.y;let Hd=0;const jd=(0,r.createContext)(-1),Vd=(0,l.createStaticFacet)(0),Gd=(0,l.createStaticFacet)(!1),$d=({margin:e=Vd,offset:t=Vd,maxWidth:a=Vd,children:n,TooltipComponent:o})=>{const i=(0,r.useMemo)((()=>Hd++),[]),c=(0,r.useContext)(Kd);return(0,l.useFacetEffect)(((e,t,a)=>(c.updateComponentDefinition(i,{margin:e,offset:t,maxWidth:a,TooltipComponent:o}),()=>{c.removeComponentDefinition(i)})),[i,o,c],[e,t,a]),r.createElement(jd.Provider,{value:i},n)},Kd=(0,r.createContext)({updateComponentDefinition:()=>{},removeComponentDefinition:()=>{},update:()=>{},remove:()=>{}}),Yd=({targetRef:e,visible:t,priority:a=Gd,text:n})=>{const o=(0,r.useMemo)((()=>Hd++),[]),i=(0,r.useContext)(jd),c=(0,r.useContext)(Kd);return(0,l.useFacetEffect)(((t,a,n)=>{const r=e.current;if(t&&null!=n&&""!=n&&r)return c.update(o,{text:n,priority:a,targetElement:r,componentId:i}),()=>{c.remove(o)}}),[e,c,o,i],[t,(0,l.useFacetWrap)(a),(0,l.useFacetWrap)(n)]),null},Xd=({children:e})=>{const t=(0,r.useMemo)((()=>new Map),[]),a=(0,r.useMemo)((()=>new Map),[]),[n,o]=(0,l.useFacetState)(null),[i,c]=(0,l.useFacetState)(""),[s,u]=(0,l.useFacetState)(null),d=(0,r.useRef)(null),m=(0,r.useRef)(null),p=(0,r.useMemo)((()=>{let e,n;const r=(t,r)=>{var l;a.has(r.componentId)&&(u(r.componentId),(e=>{clearTimeout(n),n=setTimeout((()=>o(e)),400)})(t),l=r.text,clearTimeout(e),e=setTimeout((()=>c(l)),200))};return()=>{for(const[e,a]of t.entries())if(a.priority)return void r(e,a);const a=t.entries().next().value;if(null==a)o(null),clearTimeout(n),clearTimeout(e);else{const[e,t]=a;r(e,t)}}}),[a,u,o,c,t]),f=(0,r.useMemo)((()=>({updateComponentDefinition(e,t){a.set(e,t),1===a.size&&u(e)},removeComponentDefinition(e){a.delete(e)},update:(e,a)=>{t.set(e,a),p()},remove:e=>{t.delete(e),p()}})),[a,u,t,p]);(0,l.useFacetEffect)((e=>{if(null==e)return;const n=t.get(e);if(null==n)return;const r=n.targetElement;if(null==r)return;const l=d.current,o=m.current;if(null==l||null==o)return;const i=a.get(n.componentId);if(null==i)return;let c;{const e=()=>{((e,t,a,n,r,l)=>{const o=e.getBoundingClientRect(),i=a.getBoundingClientRect(),c=Math.min(window.innerWidth-o.width-n,Math.max(n,i.x-o.width/2+i.width/2)),s=i.y-o.height-r,u=i.y+i.height+r,d=s>n?s:u;t.maxWidthPX=(l>0?l:window.innerWidth)-2*n,t.topPX=Math.round(d),t.leftPX=Math.round(c)})(l,o,r,i.margin,i.offset,i.maxWidth),c=requestAnimationFrame(e)};e(),o.opacity="1"}return()=>{o.opacity="0",cancelAnimationFrame(c),clearTimeout(void 0)}}),[a,t,d],[n]);const g=(0,r.useCallback)((e=>{null!=e&&(d.current=e,m.current=e.style,m.current.zIndex="10",m.current.opacity="0",m.current.position="absolute",p())}),[p]);return r.createElement(Kd.Provider,{value:f},e,r.createElement(xl,{data:(0,l.useFacetMemo)((e=>{if(null==e)return l.NO_VALUE;const t=a.get(e);return null==t?l.NO_VALUE:t.TooltipComponent}),[a],[s])},(e=>r.createElement(e,{innerRef:g,text:i}))))},qd="Noto Sans",Qd="Noto Sans JP",Zd="Noto Sans TC",Jd="Noto Sans SC",em="Noto Sans KR",tm="Noto Sans AR",am=["Noto Sans Mongolian","Noto Sans Syriac","Noto Sans TamilSupplement"];let nm;!function(e){e[e.VISUAL=0]="VISUAL",e[e.GRID=1]="GRID"}(nm||(nm={}));const rm=(0,l.createFacetContext)(nm.VISUAL),lm=rm,om=rm.Provider;var im=a(33020),cm=a.n(im);function sm(e,t,a,n){const o=(0,r.useContext)(Ne),i=(0,r.useMemo)((()=>o.current.generateId()),[o]);null!=n&&(n.current=i);const c=(0,l.useFacetWrap)(e),s=Ce(),u=(0,r.useContext)(W),[d,m]=(0,l.useFacetState)(!1),p=(0,r.useCallback)(((e=B.Unknown)=>{s(i,!1,e)}),[s,i]);(0,l.useFacetEffect)((e=>{const n=t=>{e.onFocusChanged&&e.onFocusChanged(t),m(t)},r={type:K.ITEM,id:i,alias:e.alias,ref:a.current,disabled:e.disabled||!1,hidden:e.hidden||!1,scrollSpeedFactor:e.scrollIntoViewSpeedFactor,scrollAlign:e.scrollIntoViewAlign,scrollOffset:e.scrollIntoViewOffset,onFocus:()=>{n(!0)},onBlur:()=>{n(!1)},onRight:e.onRight,onLeft:e.onLeft,onUp:e.onUp,onDown:e.onDown};o.current.putNode(r,u[u.length-1]),o.current.putShortcut(i,j.A,{callback:t,inputLegend:e.inputLegend}),m(o.current.isFocused(i,e.alias))}),[m,o,u,i,t,a],[c]),(0,r.useEffect)((()=>{const e=o.current;return()=>e.removeNode(i)}),[o,i]);const f=(0,r.useMemo)((()=>cm()((()=>{null!=o.current.getClosestGrid(i)&&null!=o.current.getElement(i)&&o.current.updateGridNodeDimensions(i)}),500,{trailing:!0,leading:!1})),[o,i]),g=(0,r.useContext)(lm),E=(0,l.useFacetMap)((e=>e===nm.VISUAL),[],[g]);return Bd(a,f,E),(0,r.useLayoutEffect)((()=>{const e=a.current;if(null==e)return;const t=()=>{s(i)};return e.addEventListener("focusin",t),()=>{e.removeEventListener("focusin",t)}}),[a,i,o,s]),{isFocused:d,onFocus:p}}const um=(0,r.createContext)(null),dm=()=>(0,r.useContext)(um),mm=(um.Provider,(0,r.createContext)("root")),pm=mm.Provider,fm=()=>{const e=(0,r.useRef)(),t=(0,r.useContext)(mm),{readById:a,narrationTree:n}=(0,r.useContext)(Al);return{narrateCurrentContext:(0,r.useCallback)(((r,l=!0,o,i)=>{Object.keys(n).length>0&&(e.current=setTimeout((()=>{a(t,r||void 0,l,o,i)}),200))}),[a,n,t]),preventNarrateCurrentContext:(0,r.useCallback)((()=>{e.current&&clearTimeout(e.current)}),[])}},gm=()=>{const e=(0,r.useRef)(),{readById:t}=(0,r.useContext)(Al);return{narrateById:(0,r.useCallback)(((a,n=!0,r,l,o)=>{e.current=setTimeout((()=>{t(a,r,n,l,o)}),200)}),[t]),preventNarrateById:(0,r.useCallback)((()=>{e.current&&clearTimeout(e.current)}),[])}},Em=(0,r.createContext)(!0),hm=Em.Provider,bm=(e,t)=>{const a=(0,r.useContext)(mm),n=(0,r.useContext)(Al),o=(0,r.useMemo)((()=>n.generateId()),[n]),i=(0,r.useContext)(Em),c=(0,r.useMemo)((()=>({parentNarrationId:a})),[a]),{narrateById:s,preventNarrateById:u}=gm(),d=(0,r.useMemo)((()=>{const t=e=>{const t=c.text;c.text=e,i&&null!=t&&t!==e&&n.previousAncestryRef.current.includes(o)&&s(o)};if((0,l.isFacet)(e))return e.observe(t);"string"==typeof e?t(e):c.getText=e}),[e,c,s,o,n,i]);return c.getSuffix=t,n.narrationTree[o]=c,(0,r.useEffect)((()=>(n.narrationTree[o]=c,()=>{delete n.narrationTree[o],null==d||d(),u()})),[d,u,c,n,o]),o},vm="a7239f57cb2b7e0f5da7",ym=(0,r.createContext)((0,l.createStaticFacet)({keyboard:{},gamepad:{}})),Fm=({interactivePrimitiveRef:e,tooltip:t,isFocusedFacet:a,isHoveredFacet:n,isPressedFacet:o,isLastInputKeyboard:i,isLastInputGamepad:c,isLastInputTouch:s})=>{const u=(0,l.useFacetMemo)(((e,t,a,n,r,l)=>n||r?e:l?a:t),[],[a,n,o,i,c,s]);return r.createElement(Yd,{targetRef:e,text:t,visible:u})};function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Sm.apply(null,arguments)}const Cm=(0,r.createContext)((function(){})),Mm=150,wm=150,km=q.map((e=>`${e}`));function Tm(e){const{onFocusChanged:t,onGamepadOrKeyboardSelect:a,onHoverChanged:n,onClick:o,onDoubleClick:i,onKeyDown:c,onPressChanged:s,onMouseDown:u,isInteractiveOnRightMouseDown:d,onUp:m,onDown:p,onLeft:f,onRight:g,touchDetectionDelay:E=wm,focusRefOverride:h,nodeIdRef:b}=e,v=(0,l.useFacetWrap)(e.autofocus),y=(0,l.useFacetWrap)(e.className),F=(0,l.useFacetWrap)(e["data-testid"]),S=(0,l.useFacetWrap)(e.classNameFocused),C=(0,l.useFacetWrap)(e.classNameHovered),M=(0,l.useFacetWrap)(e.classNamePressed),w=(0,l.useFacetWrap)(e.classNameDisabled),k=(0,l.useFacetWrap)(e.delayedClick),T=(0,l.useFacetWrap)(e.disabled),P=(0,l.useFacetWrap)(e.nonFocusable),I=(0,l.useFacetWrap)(e.hidden),x=(0,l.useFacetWrap)(e.disableScrollIntoView),A=(0,l.useFacetWrap)(e.gamepadAlias),O=(0,l.useFacetWrap)(e.gamepadIndex),N=(0,l.useFacetWrap)(e.focusGridIndex),R=(0,l.useFacetWrap)(e.inputLegend),L=(0,l.useFacetWrap)("narrationText"in e?e.narrationText:""),_=(0,l.useFacetWrap)(e.pressDuration),D=(0,l.useFacetWrap)(e.soundEffectFocused),W=(0,l.useFacetWrap)(e.soundEffectHovered),U=(0,l.useFacetWrap)(e.soundEffectPressed),z=we(),H=(0,r.useContext)(et).isLastInputMouse,j=(0,r.useContext)(et).isLastInputTouch,V=(0,r.useContext)(et).isLastInputGamepad,G=(0,r.useContext)(et).isLastInputKeyboard,$=(0,l.useFacetRef)(G),K=(0,r.useRef)(null),Y=e.innerRef||K,X=(0,r.useRef)({x:0,y:0}),q=dm(),Q=dn(),Z=(()=>{const e=(0,r.useRef)([]),t=(0,r.useCallback)((()=>{e.current.forEach(clearTimeout),e.current=[]}),[e]),a=(0,r.useCallback)((a=>{t();let n=0;a.forEach((t=>{"number"==typeof t?n+=t:e.current.push(setTimeout((()=>t()),n))}))}),[t]);return(0,r.useEffect)((()=>{const t=e.current;return()=>{t.forEach((e=>clearTimeout(e)))}}),[]),a})(),J=cn(),ee=He(),te=(0,l.useFacetRef)(ee),ae=(0,r.useContext)(ym),ne=(0,l.useFacetRef)(ae),re=(0,r.useContext)(rt),le=(0,l.useFacetRef)(re),{narrateCurrentContext:oe,preventNarrateCurrentContext:ie}=fm(),{narrateById:ce,preventNarrateById:se}=gm(),[ue]=Fe(),de=(0,l.useFacetRef)(ue),me="getNarrationText"in e?e.getNarrationText:void 0,pe=(0,r.useCallback)((()=>{const e=te.current,t=ne.current,a=le.current,n=de.current;if(e===l.NO_VALUE||t===l.NO_VALUE||a===l.NO_VALUE||n===l.NO_VALUE)return"";let r="";return Pm(e,((e,l)=>{var o;if(-1!==km.indexOf(e))return;if(null==l)return;const i=n[e],c=!0===$.current?t.keyboard[i[0]]:null===(o=t.gamepad[e])||void 0===o?void 0:o[a];null!=c&&(r+=`${c}: ${l} . `)})),r}),[te,ne,le,de,$]),fe=(0,l.useFacetMap)((e=>"string"==typeof e?e:""),[],[L]),ge=bm(null!=me?me:fe,pe),Ee=(0,l.useFacetMap)((e=>!1===e),[],[L]),he=(0,l.useFacetCallback)((e=>()=>{e?oe():ce(ge)}),[oe,ce,ge],[Ee]),[be,ve]=(0,l.useFacetState)(!1),[ye,Se]=(0,l.useFacetState)(!1);(0,l.useFacetEffect)((e=>{e||ve(!1)}),[ve],[H]);const Ce=(0,l.useFacetCallback)((e=>()=>{ve(!1),Se(!1),e||(null==n||n(!1),ie(),se())}),[se,ie,ve,Se,n],[T]),Me=(0,l.useFacetCallback)(((e,t)=>(a,n)=>{t||(!n&&u&&u(a),!d&&a&&null!=a.button&&a.button>0||d&&a&&null!=a.button&&a.button>1||(Se(!0),null!=e&&J(e),null==s||s(!0)))}),[J,Se,s,u,d],[U,T]),ke=(0,l.useFacetCallback)((e=>(t,a)=>{e&&Me(t,a)}),[Me],[H]),Te=(0,l.useFacetCallback)((e=>t=>{Se(!1),e||t&&t.button>0||null==s||s(!1,t)}),[Se,s],[T]),Pe=(0,l.useFacetCallback)((e=>t=>{e&&Te(t)}),[Te],[H,T]),Ie=(0,l.useFacetCallback)((e=>t=>{if(t.stopPropagation(),!(e||null==o||t.button>0))return o(t)}),[o],[T]),xe=(0,l.useFacetCallback)(((e,t)=>a=>{e&&!t&&(X.current.x=a.touches[0].clientX,X.current.y=a.touches[0].clientY,Z([E,()=>Me({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY})]),null==s||s(!0))}),[E,Z,Me,s],[j,T]),Ae=(0,l.useFacetCallback)(((e,t)=>a=>{e&&!t&&(Math.abs(X.current.x-a.touches[0].clientX)>3||Math.abs(X.current.y-a.touches[0].clientY)>3)&&Z([Te])}),[Z,Te],[j,T]),Oe=(0,l.useFacetCallback)(((e,t)=>()=>{e&&!t&&(Z([Te]),null==s||s(!1))}),[Z,Te,s],[j,T]),Ne=(0,l.useFacetCallback)(((e,t,a)=>n=>{a||null==o||(n.stopPropagation(),Z(t?[Me,10,null!=e?e:Mm,Te,o]:[Me,10,o,null!=e?e:Mm,Te]))}),[Me,Te,Z,o],[_,k,T]),Re=(0,l.useFacetCallback)(((e,t,n)=>()=>{if(n||null==o)return;const r=a||o,l=()=>Me(void 0,!0);Z(t?[l,10,null!=e?e:Mm,Te,r]:[l,10,r,null!=e?e:Mm,Te])}),[Me,Te,Z,a,o],[_,k,T]),Le=(0,r.useRef)(),_e=null!=b?b:Le,{isFocused:De,onFocus:We}=sm((0,l.useFacetMap)(((e,a,n,r,l,o,i,c,s)=>{var u;return{index:null!=e?e:0,focusGridIndex:null!==(u=null!=a?a:e)&&void 0!==u?u:0,alias:n,inputLegend:!1===r||""===r?void 0:r,disabled:l,hidden:o||i,autofocus:c,disableScrollIntoView:s,onFocusChanged:t,onUp:m,onDown:p,onLeft:f,onRight:g}}),[t,m,p,f,g],[O,N,A,R,T,I,P,v,x]),Re,null!=(null==h?void 0:h.current)?h:Y,_e);!function(e){const t=(0,r.useContext)(Cm);(0,l.useFacetEffect)((e=>{if(e)return t()}),[t],[e])}((0,l.useFacetMap)(((e,t)=>!0!==e&&!0!==t),[],[T,I]));const Be=(0,l.useFacetCallback)(((e,t,a,r,l,o,i,c,s)=>()=>{(e||t&&Q)&&(o||s||i&&c||(c||(ve(!0),null==l||i||J(l),(e||t)&&he(),null==n||n(!0)),i||a||r||We(B.PointerInput)))}),[J,ve,n,We,he,Q],[H,j,G,V,W,T,De,be,I]),Ue=(0,l.useFacetCallback)(((e,t)=>a=>!0===e?Ie(a):!0===t?Ne(a):void 0),[Ie,Ne],[H,j]),ze=(0,l.useFacetMap)(((e,t)=>{if(!0===e)return t}),[],[De,D]);(0,l.useFacetEffect)((e=>{null!=e&&J(e)}),[J],[ze]),(0,l.useFacetEffect)(((e,t,a,n)=>{(t||a||n===B.FocusTreeMutation)&&(!0===e?he():(ie(),se()))}),[he,oe,se,ie,t],[De,V,G,z]);const je=(0,l.useFacetMap)(((e,t,a,n,r,l,i,c,s,u,d)=>{const m=q?q.hovered:i,p=null!=o&&(q?"pressed"===q.pressState:c),f=s&&(u||d);return`f82ea65ad661a51782ff${null==e||""===e?"":` ${e}`}${m?` ${Jn.hovered}${null!=t?` ${t}`:""}`:""}${p?` ${Jn.pressed}${null!=a?` ${a}`:""}`:""}${(f||null!=q&&q.focused)&&null!=n?` ${Jn.focused}${null!=n?` ${n}`:""}`:""}${!0===l?" a7239f57cb2b7e0f5da7"+(Jn.disabled!==vm?" "+Jn.disabled:""):""}${!0===l&&null!=r&&r!=vm?` ${r}`:""}`}),[q,o],[y,C,M,S,w,T,be,ye,De,G,V]),Ve=(0,l.useFacetCallback)((e=>t=>{if(t.stopPropagation(),!e&&null!=i&&(d||null==t.button||!(t.button>0))&&!(d&&null!=t.button&&t.button>1))return i(t)}),[i,d],[T]);(0,r.useEffect)((()=>{const e=Y.current;return null==e||e.addEventListener("dblclick",Ve),()=>null==e?void 0:e.removeEventListener("dblclick",Ve)}),[Y,Ve]);const Ge=null!=e.tooltip?r.createElement(Fm,{interactivePrimitiveRef:Y,tooltip:e.tooltip,isFocusedFacet:De,isHoveredFacet:be,isPressedFacet:ye,isLastInputKeyboard:G,isLastInputGamepad:V,isLastInputTouch:j}):null;return"span"===e.tag?r.createElement("fast-span",{ref:Y,className:je,style:e.style,"data-testid":F,onClick:Ue,onTouchStart:xe,onTouchMove:Ae,onTouchEnd:Oe,onMouseDown:ke,onMouseUp:Pe,onMouseMove:Be,onMouseLeave:Ce,onKeyDown:c},Ge,e.children):r.createElement("fast-div",{ref:Y,className:je,style:e.style,"data-testid":F,onClick:Ue,onTouchStart:xe,onTouchMove:Ae,onTouchEnd:Oe,onMouseDown:ke,onMouseUp:Pe,onMouseMove:Be,onMouseLeave:Ce,onKeyDown:c},Ge,e.children)}Tm.displayName="InteractivePrimitive",Tm.Maybe=e=>{let{isInteractive:t,children:a,onClick:n,inputLegend:o,innerRef:i,className:c,classNameDisabled:s,disabled:u,style:d}=e,m=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["isInteractive","children","onClick","inputLegend","innerRef","className","classNameDisabled","disabled","style"]);const p=(0,l.useFacetWrap)(u),f=(0,l.useFacetWrap)(c),g=(0,l.useFacetWrap)(s),E=(0,l.isFacet)(a)?r.createElement("fast-text",{text:a}):r.createElement(r.Fragment,null,a),h=(0,l.useFacetMap)(((e,t,a)=>zr()(e,!0===t&&Jn.disabled!==vm?Jn.disabled:null,!0===t&&a!==vm?a:null,!0===t?vm:null)),[],[f,p,g]);return!0===(0,l.useFacetUnwrap)(t)?r.createElement(Tm,Sm({onClick:n,inputLegend:null!=o&&o,innerRef:i,className:f,classNameDisabled:g,disabled:p},m),E):r.createElement("fast-div",{ref:i,className:h,style:d},E)};const Pm=(e,t)=>{for(const a in e)t(a,e[a])},Im="e41d8159223d4eea19af",xm=({children:e,innerRef:t,className:a})=>r.createElement("fast-div",{ref:t,className:zr()(Im,"",a)},r.createElement("fast-text",{text:(0,l.useFacetWrap)(e)}));xm.WithTooltip=({children:e,innerRef:t,className:a})=>{const n=(0,r.useRef)(null),[o,i]=(0,l.useFacetState)(!1),c=(0,r.useRef)(null),s=t||c,u=(0,l.useFacetWrap)(e);return(0,r.useEffect)((()=>{const e=s.current,t=n.current,a=()=>{if(e&&t){const a=t.offsetWidth>e.offsetWidth;i(a)}};let r;const l=()=>{r&&cancelAnimationFrame(r),r=requestAnimationFrame((()=>{r=requestAnimationFrame(a)}))};return l(),null==e||e.addEventListener("resize",l),()=>{null==e||e.removeEventListener("resize",l),r&&cancelAnimationFrame(r)}}),[i,s]),r.createElement(r.Fragment,null,r.createElement(Tm,{innerRef:s,className:zr()(Im,"",a),inputLegend:!1,narrationText:e,disabled:(0,l.useFacetMap)((e=>!e),[],[o]),tooltip:(0,l.useFacetMap)(((e,t)=>e?t:void 0),[],[o,u])},r.createElement("fast-text",{text:u})),r.createElement(xm,{innerRef:n,className:zr()("c57cdaa2a51573c7dae9",a)},e))};const Am={center:"a1a125f3b6ff4c4d736c",right:"c4a1e90396397a78757e",left:"b535741189680a9a94a6",verticalCenter:"ce044945e76fc9fcdb40",Typography:"c11f18516a133c0590ea",header1:"edb8f38e17182815ae41",header2:"ec434039e129005e6803",header3:"f1af6eebb71e0d9a8a73",header4A:"a138948daea77e0646d6",header4B:"eb822ef5dd3bad563f3b",header5A:"bb757715d5fe9b10e439",header5B:"d6e62706875e51a9fa20",sectionHeader:"e7a4b308889c682b9fc5",subtitle1:"f23c994f3927c4295a37",subtitle2:"b6dff8612117d5806177",body:"bcd956e248e044dfd9a3",paragraphs:"ab01850891350dd43fc1",accessibleGuiScale:"e0b2d80b156fa5b83268",captionTiny:"dc7e3221280328dadee9",captionShort:"fc77bf1310dc483c1eba",captionLong:"ca10912c2f0c2597320b",editorCaption:"c9c7a63979e94267547a",editorHeader:"f610c41e63d117cbdf23",primaryButton:"aadfd1b152d5fc2dcd89",secondaryButton:"bd670b871808c3e54a54",destructiveButton:"f52f54fc2a093e859865",shadow:"b9797457116d476d894a",fontWeightNormal:"c38a1215cae33f907c58",fontWeightBold:"f8379bb59b31ea63f708",fontWeightBolder:"c2634180cba5423b362f",fontWeightLighter:"b8dd6192d47ecf6d94a3",fontWeightInitial:"eea2ad7d9fe9305d46b3",fontWeightInherit:"b8dde57e1512d8f12ca0",whiteSpaceNormal:"b6c7ee566349f80ce04e",whiteSpaceNoWrap:"e20e3eff879b3857d589",whiteSpacePre:"c1b6646be3d25f9ac403",whiteSpacePreWrap:"fc55afcc69924c83777b",breakWord:"d20c8ad068fc66f542b3",indent:"dc5eb0592f4e25470dad",listItemContainer:"d7726638046ace1384df",ellipsis:"b8d213f86067230ef76a"},Om={size1:"a17dba60872574056173",size2:"d9ad4620f18da1de508b",size3:"b1a10fdc7747f617af6c",size4:"b4b5f22ad1474c9e663b",size5:"b734f0c17226c57415cc",size6:"f532c4aed48e2f5b9d2f",size7:"d2594d2f138e34342801",size8:"a4c2481588c45a5d8307"};function Nm({size:e}){return r.createElement("div",{className:Om[`size${e}`]})}let Rm;Nm.displayName="Spacing",Nm.Facet=function({size:e}){return r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>Om[`size${e}`]),[],[e])})},function(e){e[e.REGULAR=0]="REGULAR",e[e.OBFUSCATED=1]="OBFUSCATED"}(Rm||(Rm={})),Rm.OBFUSCATED;const Lm={"§0":{foreground:"#000000",background:"#000000"},"§1":{foreground:"#0000AA",background:"#00002A"},"§2":{foreground:"#00AA00",background:"#002A00"},"§3":{foreground:"#00AAAA",background:"#002A2A"},"§4":{foreground:"#AA0000",background:"#2A0000"},"§5":{foreground:"#AA00AA",background:"#2A002A"},"§6":{foreground:"#FFAA00",background:"#402A00"},"§7":{foreground:"#AAAAAA",background:"#2A2A2A"},"§8":{foreground:"#555555",background:"#151515"},"§9":{foreground:"#5555FF",background:"#15153F"},"§a":{foreground:"#55FF55",background:"#153F15"},"§b":{foreground:"#55FFFF",background:"#153F3F"},"§c":{foreground:"#FF5555",background:"#3F1515"},"§d":{foreground:"#FF55FF",background:"#3F153F"},"§e":{foreground:"#FFFF55",background:"#3F3F15"},"§f":{foreground:"#FFFFFF",background:"#3F3F3F"},"§g":{foreground:"#DDD605",background:"#373501"},"§h":{foreground:"#E3D4D1",background:"#383534"},"§i":{foreground:"#CECACA",background:"#333232"},"§j":{foreground:"#443A3B",background:"#110E0E"},"§m":{foreground:"#971607",background:"#250501"},"§n":{foreground:"#B4684D",background:"#2D1A13"},"§p":{foreground:"#DEB12D",background:"#372C0B"},"§q":{foreground:"#47A036",background:"#04280D"},"§s":{foreground:"#2CBAA8",background:"#0B2E2A"},"§t":{foreground:"#21497B",background:"#08121E"},"§u":{foreground:"#9A5CC6",background:"#261731"}},_m=new RegExp("(§l)|(§o)","g");function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Dm.apply(null,arguments)}let Wm;!function(e){e[e.Normal=0]="Normal",e[e.Bold=1]="Bold",e[e.Bolder=2]="Bolder",e[e.Lighter=3]="Lighter",e[e.Initial=4]="Initial",e[e.Inherit=5]="Inherit"}(Wm||(Wm={}));const Bm={[Wm.Normal]:[Am.fontWeightNormal],[Wm.Bold]:[Am.fontWeightBold],[Wm.Bolder]:[Am.fontWeightBolder],[Wm.Lighter]:[Am.fontWeightLighter],[Wm.Initial]:[Am.fontWeightInitial],[Wm.Inherit]:[Am.fontWeightInherit]},Um={normal:[Am.whiteSpaceNormal],nowrap:[Am.whiteSpaceNoWrap],pre:[Am.whiteSpacePre],preWrap:[Am.whiteSpacePreWrap]};function zm({children:e,role:t="inherit",interactive:a,disableable:n,variant:o,align:i,verticalAlign:c="top",type:s,shadow:u,tag:d,fontWeight:m,shouldNarrate:p,whiteSpace:f,className:g,innerRef:E,overflowWrap:h,indent:b,overflowEllipsis:v,"data-narrate-after":y}){const F=(0,l.useFacetWrap)(i),S=(0,l.useFacetWrap)(u),C=(0,l.useFacetWrap)(s),M=(0,l.useFacetWrap)(c),w=(0,l.useFacetWrap)(m),k=(0,l.useFacetWrap)(f),T=(0,l.useFacetWrap)(g),P=(0,l.useFacetWrap)(t),I=(0,l.useFacetWrap)(o),x=(0,l.useFacetWrap)(a),A=(0,l.useFacetWrap)(n),O=(0,l.useFacetWrap)(h),N=(0,l.useFacetWrap)(b),R=(0,l.useFacetWrap)(v),L=(0,l.useFacetMap)(((e,t)=>{if(!0===e)return[Nn];const a=[Tn];return t&&a.push(xn),a}),[],[x,A]),_=(0,r.useContext)(Id),D=wr(),W=d||("paragraphs"===s?"p":"div"),B=(0,l.useFacetMap)(((e,t,a,n,r,l,o,i,c,s,u,d,m,p)=>{const f=a?Am[a]:void 0,g={[Am.center]:"center"===t,[Am.right]:"right"===t,[Am.left]:"left"===t,[Am.verticalCenter]:"center"===n},E=r?Bm[r]:void 0,h=l?Um[l]:void 0,b={[Am.shadow]:e},v={[Am.breakWord]:"break-word"===c},y={[Am.indent]:d},F=s.map((e=>D[o].text[e])),S={[Am.accessibleGuiScale]:m},C={[Am.ellipsis]:p};return zr()(Am.Typography,f,g,b,E,h,F,i,v,u,y,C,S)}),[D],[S,F,C,M,w,k,P,I,O,L,T,N,_,R]),U=null!=p?{"data-narrate":p,"data-narrate-after":y}:{};return(0,l.isFacet)(e)?"div"===W?r.createElement("fast-div",Dm({ref:E,className:B},U),r.createElement("fast-text",{text:e})):"p"===W?r.createElement("fast-p",Dm({ref:E,className:B},U),r.createElement("fast-text",{text:e})):r.createElement("fast-span",Dm({ref:E,className:B},U),r.createElement("fast-text",{text:e})):"div"===W?r.createElement("fast-div",Dm({ref:E,className:B},U),e):"p"===W?r.createElement("fast-p",Dm({ref:E,className:B},U),e):r.createElement("fast-span",Dm({ref:E,className:B},U),e)}const Hm=({items:e,item:t,index:a})=>{const n=(0,l.useFacetMap)((e=>e.length-1!==a),[a],[e]);return r.createElement(r.Fragment,null,r.createElement(jm,{text:t}),r.createElement(l.Mount,{when:n},r.createElement(Nm,{size:2})))},jm=({text:e})=>r.createElement("div",{className:Am.listItemContainer},r.createElement(zm,{type:"body"},"•"),r.createElement(zm,{type:"paragraphs",indent:!0},e));zm.FontWeight=Wm,zm.List=({items:e})=>{const t=(0,l.useFacetWrap)(e);return r.createElement(r.Fragment,null,r.createElement(l.Map,{array:t},((e,a)=>r.createElement(Hm,{items:t,item:e,index:a}))))},zm.FormattingCodes=({children:e,type:t,shadow:a,align:n})=>{const o=(0,r.useRef)(null);return(0,l.useFacetEffect)((e=>{const t=o.current;if(null!=t)return t.setAttribute("cohinline",""),((e,t)=>{let a=!0,n=!1,r=!1,l=[0,null];const o=[],i=a=>{const[i,c]=l;let s=e.slice(i,a);if(n&&(s=(e=>e.replace(_m,""))(s)),0!==s.length)if(s=0!=r?((e,t,a)=>{let n="";for(let r=0;r<e.length;r++)r>=t&&r<t+2||(n+=r>=t&&r<a?".":e[r]);return n})(s,r-i,s.length):s,null!=c){const e=document.createElement("span");e.style.color=c.foreground,e.style.textShadow=`0.2rem 0.2rem 0rem ${c.background}`,e.appendChild(document.createTextNode(s)),t.appendChild(e),o.push(e)}else{const e=document.createTextNode(s);t.appendChild(e),o.push(e)}n=!1};for(let t=0;t<e.length;t++){const o=`${e[t]}${e[t+1]}`,c=Lm[o];null!=c&&(i(t),t+=1,l=[t+1,c],a=!1),"§k"===o&&(r=t,t+=1,a=!1),"§r"===o&&(i(t),t+=1,l=[t+1,null],r=!1,a=!1),"§l"!==o&&"§o"!==o||(n=!0,a=!1)}if(a){const a=document.createTextNode(e);t.appendChild(a),o.push(a)}else i(e.length);return()=>{o.forEach((e=>{t.removeChild(e)}))}})(`${e}`,t)}),[],[(0,l.useFacetWrap)(e)]),r.createElement(zm,{type:t,shadow:a,align:n,innerRef:o,tag:"p"})};const Vm=({text:e,innerRef:t})=>{const{background:a}=wr("neutral100");return r.createElement("fast-div",{ref:t,className:"e9e0558842a18962eeed"},r.createElement("fast-div",{className:zr()("d8c2e8bb03a523894380",a.base)},r.createElement(zm,{type:"body"},r.createElement(xm,null,e))),r.createElement("fast-div",{className:"dd59e5fd39820048dc0f"}))};function Gm({children:e,guiScale:t,onGuiScaleApplied:a=$m,screenAnimationEnabled:n,accessibleGuiScale:l,isRtl:o=!1,locale:i}){return function(e){(0,r.useEffect)((()=>{const t=document.getElementsByTagName("html")[0],a=document.querySelector('link[rel="stylesheet"]');if(null==a)return void console.error("No stylesheet link tag found, RTL is not applied");const n=a.getAttribute("href");if(null==n)return void console.error("Something wrong with style attribute, RTL is not applied");const r=n.substring(0,n.length-4).replace(".rtl","")+(e?".rtl":"")+".css";e?t.setAttribute("dir","rtl"):t.removeAttribute("dir"),a.setAttribute("href",r)}),[e])}(o),function(e){(0,r.useEffect)((()=>{const t=function(e){return e.startsWith("ja")?[Qd,Zd,Jd,em,qd,...am]:"zh_TW"===e?[Zd,Jd,Qd,em,qd,...am]:"zh_CN"===e?[Jd,Zd,Qd,em,qd,...am]:e.startsWith("ko")?[em,Zd,Jd,Qd,qd,...am]:e.startsWith("ar_")?[tm,qd,em,Zd,Jd,Qd,...am]:[qd,Jd,Zd,Qd,em,tm,...am]}(e);document.body.style.setProperty("--localeSpecificNotoSansFonts",t.join(","))}),[e])}(i),r.createElement(oo,{value:n},r.createElement(Md,{guiScale:t,onGuiScaleApplied:a,accessibleGuiScale:l},r.createElement(zo,null,r.createElement(Xd,null,r.createElement(Vm.Provider,null,e)))))}Vm.Provider=({children:e})=>{const t=Ad(1.6);return r.createElement($d,{margin:t,TooltipComponent:Vm},e)};const $m=()=>{},Km=(0,l.sharedFacet)("core.customScaling");function Ym(e){return Math.ceil(1.25*e)}const Xm={compat:{[Ke.DESKTOP_SCREEN_TYPE]:Ze.SCALE_100_PERCENT,[Ke.TV_SCREEN_TYPE]:Ze.SCALE_100_PERCENT,[Ke.HANDHELD_SCREEN_TYPE]:{[Ye.PHONE]:Ze.SCALE_100_PERCENT,[Ye.TABLET]:Ze.SCALE_100_PERCENT},[Ke.VR_SCREEN_TYPE]:Ze.SCALE_100_PERCENT},legacy:{[Ke.DESKTOP_SCREEN_TYPE]:Ze.SCALE_175_PERCENT,[Ke.TV_SCREEN_TYPE]:Ze.SCALE_175_PERCENT,[Ke.HANDHELD_SCREEN_TYPE]:{[Ye.PHONE]:Ze.SCALE_100_PERCENT,[Ye.TABLET]:Ze.SCALE_150_PERCENT},[Ke.VR_SCREEN_TYPE]:Ze.SCALE_100_PERCENT},default:{[Ke.DESKTOP_SCREEN_TYPE]:Ze.SCALE_125_PERCENT,[Ke.TV_SCREEN_TYPE]:Ze.SCALE_175_PERCENT,[Ke.HANDHELD_SCREEN_TYPE]:{[Ye.PHONE]:Ze.SCALE_100_PERCENT,[Ye.TABLET]:Ze.SCALE_100_PERCENT},[Ke.VR_SCREEN_TYPE]:Ze.SCALE_100_PERCENT},fixed:{[Ke.DESKTOP_SCREEN_TYPE]:Ze.SCALE_100_PERCENT,[Ke.TV_SCREEN_TYPE]:Ze.SCALE_100_PERCENT,[Ke.HANDHELD_SCREEN_TYPE]:{[Ye.PHONE]:Ze.SCALE_100_PERCENT,[Ye.TABLET]:Ze.SCALE_100_PERCENT},[Ke.VR_SCREEN_TYPE]:Ze.SCALE_100_PERCENT}},qm=6.417322835;function Qm({children:e,scalingMode:t}){const a=(0,l.useSharedFacet)(dl),n=(0,l.useSharedFacet)(Km),o=(0,l.useSharedFacet)($a),i=(0,l.useFacetMap)((e=>null!=e.scalingModeOverride&&e.scalingModeOverride&&e.scalingModeOverride.length>0?e.scalingModeOverride:t),[t],[n]),c=(0,l.useFacetMap)((e=>e.fixedGuiScaleModifier),[],[n]),s=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.guiAccessibilityScaling)&&void 0!==t&&t}),[],[n]),u=(0,l.useFacetMap)((()=>!0),[],[a,o,c,i,s]),d=(0,l.useFacetMap)((e=>e.screenAnimationEnabled),[],[o]);return r.createElement(l.Mount,{when:u},r.createElement(Zm,{deviceInformationFacet:a,scalingMode:i,screenAnimationEnabled:d,fixedGuiScaleModifier:c,accessibleGuiScale:s},e))}function Zm({scalingMode:e,children:t,deviceInformationFacet:a,screenAnimationEnabled:n,fixedGuiScaleModifier:o,accessibleGuiScale:i}){const c=function(e,t,a,n,o){const i=(0,l.useFacetMap)(((e,t,a)=>"fixed"==a?t:e.guiScaleModifier),[],[a,n,e]),c=(0,l.useFacetCallback)(((e,t,a,n,r)=>()=>function(e,t,a,n,r,l,o){if("fixed"===e)return function(e,t){const a=Ze.SCALE_100_PERCENT+e;return!0===t?Ym(a):a}(a,o);const i=Xm[e][t];return t===Ke.HANDHELD_SCREEN_TYPE?function(e,t,a,n,r,l,o){const i=n/qm,c=t[r/i>1e3&&l/i>700?Ye.TABLET:Ye.PHONE],s=Math.round(i*c)+Math.round(i*a);return!0===o?Ym(s):s}(0,i,a,l,n,r,o):function(e,t,a,n,r,l){const o=n/1920,i=r/1080,c=Math.min(i,o),s=Math.round(c*t)+Math.round(c*a);return!0===l?Ym(s):s}(0,i,a,n,r,o)}(e,t,n,window.innerWidth,window.innerHeight,a.pixelsPerMillimeter,r)),[],[e,t,a,i,o]),[s,u]=(0,l.useFacetState)(c());return(0,r.useEffect)((()=>{const e=()=>u(c);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[c,u]),(0,l.useFacetEffect)((()=>{u(c)}),[u,c],[a,n,o]),s}(e,(0,r.useContext)(nt),a,o,i),s=(0,r.useContext)(Ml).locale,u=(0,r.useContext)(Ml).isRtl,d=(0,r.useCallback)((()=>{Xa.trigger("core:gui:resize-hack")}),[]);return r.createElement(Gm,{guiScale:c,accessibleGuiScale:i,onGuiScaleApplied:d,screenAnimationEnabled:n,isRtl:u,locale:s},t)}const Jm=(0,r.createContext)(null),ep=Jm.Provider;function tp({children:e}){const t={changedCB:(0,r.useCallback)((e=>qa("core:keyboard:changed",(t=>{e({addedChars:t.addedChars+"",removedChars:t.removedChars+"",invalidChars:t.invalidChars+"",index:t.index+0})}))),[]),submittedCB:(0,r.useCallback)((e=>qa("core:keyboard:submitted",e)),[]),dismissedCB:(0,r.useCallback)((e=>qa("core:keyboard:dismissed",e)),[]),tabbedCB:(0,r.useCallback)((e=>qa("core:keyboard:tabbed",e)),[])};return r.createElement(ep,{value:t},e)}let ap;!function(e){e.FIRST_MEANINGFUL_PAINT="core:telemetry:firstMeaningfulPaint",e.FIRST_CONTENTFUL_PAINT="core:telemetry:firstContentfulPaint"}(ap||(ap={}));const np=()=>new Map;function rp({children:e,triggerEvent:t}){const a=(0,r.useMemo)(np,[]),n=(0,r.useMemo)(np,[]),l=(0,r.useRef)(!1),o=(0,r.useRef)(!1),i=(0,r.useMemo)((()=>{const e=()=>{0===a.size&&0===n.size&&l.current&&(t(ap.FIRST_MEANINGFUL_PAINT),l.current=!1)},r=()=>{0===a.size&&o.current&&(t(ap.FIRST_CONTENTFUL_PAINT),o.current=!1),e()};return{block:(e,t)=>{("contentful"===t?a:n).set(e,!0)},unblock:(t,l)=>{("contentful"===l?a:n).delete(t),"contentful"===l?r():e()},meaningfulPaint:()=>{l.current=!0,e()},contentfulPaint:()=>{o.current=!0,r()}}}),[t,a,n]);return r.createElement(Vr.Provider,{value:i},e)}function lp({children:e}){const t=(0,r.useMemo)((()=>Xa.trigger.bind(Xa)),[]);return r.createElement(rp,{triggerEvent:t},e)}a(89925);const op=(0,l.createFacet)({initialValue:l.NO_VALUE}),ip=(0,r.createContext)((()=>op)),cp=({driver:e,children:t})=>{const a=(0,r.useRef)(new Map),n=(0,r.useCallback)(((t,n)=>{const r=((e,t)=>{const a=((e,t)=>t.sort(((e,t)=>e>t?1:0)).reduce(((e,t)=>`${e}-${t}`),e))(e,t);return(e=>{let t=0;for(let a=0;a<e.length;++a)t=e.charCodeAt(a)+(t<<5)-t;return Math.abs(t)})(a)})(t,n),l=r.toString(),o=a.current.get(l);if(null!=o)return o;const i=e(t,n,r,(()=>{a.current.delete(l)}));return a.current.set(l,i),i}),[e]);return r.createElement(ip.Provider,{value:n},t)},sp=new Map,up=new Map,dp=new Map;function mp(e,t,a,n){var r;const l=dp.get(e);if(null!=l)return t(l),()=>{};const o=r=>{"activate-facet-not-found"===r&&null!=a?(dp.set(e,a),t(a)):n?n(r):(t=>{console.warn(`Error "${t}" while using facet ${e}`)})(r)},i=a=>{up.set(e,a),t(a)},c=null!==(r=sp.get(e))&&void 0!==r?r:0,s=up.get(e);return Xa.on(`facet:updated:${e}`,i),Xa.on(`facet:error:${e}`,o),0===c?Xa.trigger("facet:request",e,e,{}):null!=s&&t(s),sp.set(e,c+1),()=>{var t;const a=null!==(t=sp.get(e))&&void 0!==t?t:0;Xa.off(`facet:updated:${e}`,i),Xa.off(`facet:error:${e}`,o),1===a&&(Xa.trigger("facet:discard",e),up.delete(e)),a>0&&sp.set(e,a-1)}}const pp=(e,t,a,n)=>(0,l.createFacet)({initialValue:l.NO_VALUE,startSubscription:r=>(Xa.on(`query:subscribed/${a}`,r),Xa.on(`query:updated/${a}`,r),Xa.trigger(`query:subscribe/${e}`,a,...t),()=>{Xa.off(`query:subscribed/${a}`,r),Xa.off(`query:updated/${a}`,r),Xa.trigger("query:unsubscribe",a),n()})}),fp=({children:e})=>{const{t}=Fc("ControllerSpecificButtonNarration"),a=(0,r.useMemo)((()=>({gamepad:{[j.A]:{[Je.XBOX]:t(".Gamepad.A.XBOX"),[Je.PS]:t(".Gamepad.A.PS"),[Je.STEAM]:t(".Gamepad.A.STEAM"),[Je.SWITCH]:t(".Gamepad.A.SWITCH"),[Je.QUEST]:t(".Gamepad.A.QUEST")},[j.B]:{[Je.XBOX]:t(".Gamepad.B.XBOX"),[Je.PS]:t(".Gamepad.B.PS"),[Je.STEAM]:t(".Gamepad.B.STEAM"),[Je.SWITCH]:t(".Gamepad.B.SWITCH"),[Je.QUEST]:t(".Gamepad.B.QUEST")},[j.X]:{[Je.XBOX]:t(".Gamepad.X.XBOX"),[Je.PS]:t(".Gamepad.X.PS"),[Je.STEAM]:t(".Gamepad.X.STEAM"),[Je.SWITCH]:t(".Gamepad.Y.SWITCH"),[Je.QUEST]:t(".Gamepad.X.QUEST")},[j.Y]:{[Je.XBOX]:t(".Gamepad.Y.XBOX"),[Je.PS]:t(".Gamepad.Y.PS"),[Je.STEAM]:t(".Gamepad.Y.STEAM"),[Je.SWITCH]:t(".Gamepad.X.SWITCH"),[Je.QUEST]:t(".Gamepad.Y.QUEST")},[j.START]:{[Je.XBOX]:t(".Gamepad.START.XBOX"),[Je.PS]:t(".Gamepad.START.PS"),[Je.STEAM]:t(".Gamepad.START.STEAM"),[Je.SWITCH]:t(".Gamepad.START.SWITCH"),[Je.QUEST]:t(".Gamepad.START.QUEST")},[j.SELECT]:{[Je.XBOX]:t(".Gamepad.SELECT.XBOX"),[Je.PS]:t(".Gamepad.SELECT.PS"),[Je.STEAM]:t(".Gamepad.SELECT.STEAM"),[Je.SWITCH]:t(".Gamepad.SELECT.SWITCH"),[Je.QUEST]:t(".Gamepad.SELECT.QUEST")},[j.XBOX]:{[Je.XBOX]:t(".Gamepad.XBOX.XBOX"),[Je.PS]:t(".Gamepad.XBOX.PS"),[Je.STEAM]:t(".Gamepad.XBOX.STEAM"),[Je.SWITCH]:t(".Gamepad.XBOX.SWITCH"),[Je.QUEST]:t(".Gamepad.XBOX.QUEST")},[j.RIGHT_TRIGGER]:{[Je.XBOX]:t(".Gamepad.RT.XBOX"),[Je.PS]:t(".Gamepad.RT.PS"),[Je.STEAM]:t(".Gamepad.RT.STEAM"),[Je.SWITCH]:t(".Gamepad.RT.SWITCH"),[Je.QUEST]:t(".Gamepad.RT.QUEST")},[j.LEFT_TRIGGER]:{[Je.XBOX]:t(".Gamepad.LT.XBOX"),[Je.PS]:t(".Gamepad.LT.PS"),[Je.STEAM]:t(".Gamepad.LT.STEAM"),[Je.SWITCH]:t(".Gamepad.LT.SWITCH"),[Je.QUEST]:t(".Gamepad.LT.QUEST")},[j.LEFT_BUMPER]:{[Je.XBOX]:t(".Gamepad.LB.XBOX"),[Je.PS]:t(".Gamepad.LB.PS"),[Je.STEAM]:t(".Gamepad.LB.STEAM"),[Je.SWITCH]:t(".Gamepad.LB.SWITCH"),[Je.QUEST]:t(".Gamepad.LB.QUEST")},[j.RIGHT_BUMPER]:{[Je.XBOX]:t(".Gamepad.RB.XBOX"),[Je.PS]:t(".Gamepad.RB.PS"),[Je.STEAM]:t(".Gamepad.RB.STEAM"),[Je.SWITCH]:t(".Gamepad.RB.SWITCH"),[Je.QUEST]:t(".Gamepad.RB.QUEST")},[j.L3]:{[Je.XBOX]:t(".Gamepad.L3.XBOX"),[Je.PS]:t(".Gamepad.L3.PS"),[Je.STEAM]:t(".Gamepad.L3.STEAM"),[Je.SWITCH]:t(".Gamepad.L3.SWITCH"),[Je.QUEST]:t(".Gamepad.L3.QUEST")},[j.R3]:{[Je.XBOX]:t(".Gamepad.R3.XBOX"),[Je.PS]:t(".Gamepad.R3.PS"),[Je.STEAM]:t(".Gamepad.R3.STEAM"),[Je.SWITCH]:t(".Gamepad.R3.SWITCH"),[Je.QUEST]:t(".Gamepad.R3.QUEST")},[j.LEFT]:{[Je.XBOX]:t(".Gamepad.LEFT.XBOX"),[Je.PS]:t(".Gamepad.LEFT.PS"),[Je.STEAM]:t(".Gamepad.LEFT.STEAM"),[Je.SWITCH]:t(".Gamepad.LEFT.SWITCH"),[Je.QUEST]:t(".Gamepad.LEFT.QUEST")},[j.RIGHT]:{[Je.XBOX]:t(".Gamepad.RIGHT.XBOX"),[Je.PS]:t(".Gamepad.RIGHT.PS"),[Je.STEAM]:t(".Gamepad.RIGHT.STEAM"),[Je.SWITCH]:t(".Gamepad.RIGHT.SWITCH"),[Je.QUEST]:t(".Gamepad.RIGHT.QUEST")},[j.UP]:{[Je.XBOX]:t(".Gamepad.UP.XBOX"),[Je.PS]:t(".Gamepad.UP.PS"),[Je.STEAM]:t(".Gamepad.UP.STEAM"),[Je.SWITCH]:t(".Gamepad.UP.SWITCH"),[Je.QUEST]:t(".Gamepad.UP.QUEST")},[j.DOWN]:{[Je.XBOX]:t(".Gamepad.DOWN.XBOX"),[Je.PS]:t(".Gamepad.DOWN.PS"),[Je.STEAM]:t(".Gamepad.DOWN.STEAM"),[Je.SWITCH]:t(".Gamepad.DOWN.SWITCH"),[Je.QUEST]:t(".Gamepad.DOWN.QUEST")},[j.NEXT]:{[Je.XBOX]:t(".Gamepad.NEXT.XBOX"),[Je.PS]:t(".Gamepad.NEXT.PS"),[Je.STEAM]:t(".Gamepad.NEXT.STEAM"),[Je.SWITCH]:t(".Gamepad.NEXT.SWITCH"),[Je.QUEST]:t(".Gamepad.NEXT.QUEST")},[j.PREV]:{[Je.XBOX]:t(".Gamepad.PREV.XBOX"),[Je.PS]:t(".Gamepad.PREV.PS"),[Je.STEAM]:t(".Gamepad.PREV.STEAM"),[Je.SWITCH]:t(".Gamepad.PREV.SWITCH"),[Je.QUEST]:t(".Gamepad.PREV.QUEST")},[j.LEFT_ANALOG_LEFT]:{[Je.XBOX]:t(".Gamepad.L_LEFT.XBOX"),[Je.PS]:t(".Gamepad.L_LEFT.PS"),[Je.STEAM]:t(".Gamepad.L_LEFT.STEAM"),[Je.SWITCH]:t(".Gamepad.L_LEFT.SWITCH"),[Je.QUEST]:t(".Gamepad.L_LEFT.QUEST")},[j.LEFT_ANALOG_RIGHT]:{[Je.XBOX]:t(".Gamepad.L_RIGHT.XBOX"),[Je.PS]:t(".Gamepad.L_RIGHT.PS"),[Je.STEAM]:t(".Gamepad.L_RIGHT.STEAM"),[Je.SWITCH]:t(".Gamepad.L_RIGHT.SWITCH"),[Je.QUEST]:t(".Gamepad.L_RIGHT.QUEST")},[j.LEFT_ANALOG_UP]:{[Je.XBOX]:t(".Gamepad.L_UP.XBOX"),[Je.PS]:t(".Gamepad.L_UP.PS"),[Je.STEAM]:t(".Gamepad.L_UP.STEAM"),[Je.SWITCH]:t(".Gamepad.L_UP.SWITCH"),[Je.QUEST]:t(".Gamepad.L_UP.QUEST")},[j.LEFT_ANALOG_DOWN]:{[Je.XBOX]:t(".Gamepad.L_DOWN.XBOX"),[Je.PS]:t(".Gamepad.L_DOWN.PS"),[Je.STEAM]:t(".Gamepad.L_DOWN.STEAM"),[Je.SWITCH]:t(".Gamepad.L_DOWN.SWITCH"),[Je.QUEST]:t(".Gamepad.L_DOWN.QUEST")},[j.RIGHT_ANALOG_LEFT]:{[Je.XBOX]:t(".Gamepad.R_LEFT.XBOX"),[Je.PS]:t(".Gamepad.R_LEFT.PS"),[Je.STEAM]:t(".Gamepad.R_LEFT.STEAM"),[Je.SWITCH]:t(".Gamepad.R_LEFT.SWITCH"),[Je.QUEST]:t(".Gamepad.R_LEFT.QUEST")},[j.RIGHT_ANALOG_RIGHT]:{[Je.XBOX]:t(".Gamepad.R_RIGHT.XBOX"),[Je.PS]:t(".Gamepad.R_RIGHT.PS"),[Je.STEAM]:t(".Gamepad.R_RIGHT.STEAM"),[Je.SWITCH]:t(".Gamepad.R_RIGHT.SWITCH"),[Je.QUEST]:t(".Gamepad.R_RIGHT.QUEST")},[j.RIGHT_ANALOG_UP]:{[Je.XBOX]:t(".Gamepad.R_UP.XBOX"),[Je.PS]:t(".Gamepad.R_UP.PS"),[Je.STEAM]:t(".Gamepad.R_UP.STEAM"),[Je.SWITCH]:t(".Gamepad.R_UP.SWITCH"),[Je.QUEST]:t(".Gamepad.R_UP.QUEST")},[j.RIGHT_ANALOG_DOWN]:{[Je.XBOX]:t(".Gamepad.R_DOWN.XBOX"),[Je.PS]:t(".Gamepad.R_DOWN.PS"),[Je.STEAM]:t(".Gamepad.R_DOWN.STEAM"),[Je.SWITCH]:t(".Gamepad.R_DOWN.SWITCH"),[Je.QUEST]:t(".Gamepad.R_DOWN.QUEST")},[j.LEFT_HORIZONTAL_AXIS]:{[Je.XBOX]:t(".Gamepad.LEFT_HORIZONTAL_AXIS.XBOX"),[Je.PS]:t(".Gamepad.LEFT_HORIZONTAL_AXIS.PS"),[Je.STEAM]:t(".Gamepad.LEFT_HORIZONTAL_AXIS.STEAM"),[Je.SWITCH]:t(".Gamepad.LEFT_HORIZONTAL_AXIS.SWITCH"),[Je.QUEST]:t(".Gamepad.LEFT_HORIZONTAL_AXIS.QUEST")},[j.LEFT_VERTICAL_AXIS]:{[Je.XBOX]:t(".Gamepad.LEFT_VERTICAL_AXIS.XBOX"),[Je.PS]:t(".Gamepad.LEFT_VERTICAL_AXIS.PS"),[Je.STEAM]:t(".Gamepad.LEFT_VERTICAL_AXIS.STEAM"),[Je.SWITCH]:t(".Gamepad.LEFT_VERTICAL_AXIS.SWITCH"),[Je.QUEST]:t(".Gamepad.LEFT_VERTICAL_AXIS.QUEST")},[j.RIGHT_HORIZONTAL_AXIS]:{[Je.XBOX]:t(".Gamepad.RIGHT_HORIZONTAL_AXIS.XBOX"),[Je.PS]:t(".Gamepad.RIGHT_HORIZONTAL_AXIS.PS"),[Je.STEAM]:t(".Gamepad.RIGHT_HORIZONTAL_AXIS.STEAM"),[Je.SWITCH]:t(".Gamepad.RIGHT_HORIZONTAL_AXIS.SWITCH"),[Je.QUEST]:t(".Gamepad.RIGHT_HORIZONTAL_AXIS.QUEST")},[j.RIGHT_VERTICAL_AXIS]:{[Je.XBOX]:t(".Gamepad.RIGHT_VERTICAL_AXIS.XBOX"),[Je.PS]:t(".Gamepad.RIGHT_VERTICAL_AXIS.PS"),[Je.STEAM]:t(".Gamepad.RIGHT_VERTICAL_AXIS.STEAM"),[Je.SWITCH]:t(".Gamepad.RIGHT_VERTICAL_AXIS.SWITCH"),[Je.QUEST]:t(".Gamepad.RIGHT_VERTICAL_AXIS.QUEST")},[j.PSEUDO_BUTTON_1]:{[Je.XBOX]:t(".Gamepad.PSEUDO_BUTTON_1.XBOX"),[Je.PS]:t(".Gamepad.PSEUDO_BUTTON_1.PS"),[Je.STEAM]:t(".Gamepad.PSEUDO_BUTTON_1.STEAM"),[Je.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_1.SWITCH"),[Je.QUEST]:t(".Gamepad.PSEUDO_BUTTON_1.QUEST")},[j.PSEUDO_BUTTON_2]:{[Je.XBOX]:t(".Gamepad.PSEUDO_BUTTON_2.XBOX"),[Je.PS]:t(".Gamepad.PSEUDO_BUTTON_2.PS"),[Je.STEAM]:t(".Gamepad.PSEUDO_BUTTON_2.STEAM"),[Je.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_2.SWITCH"),[Je.QUEST]:t(".Gamepad.PSEUDO_BUTTON_2.QUEST")},[j.PSEUDO_BUTTON_3]:{[Je.XBOX]:t(".Gamepad.PSEUDO_BUTTON_3.XBOX"),[Je.PS]:t(".Gamepad.PSEUDO_BUTTON_3.PS"),[Je.STEAM]:t(".Gamepad.PSEUDO_BUTTON_3.STEAM"),[Je.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_3.SWITCH"),[Je.QUEST]:t(".Gamepad.PSEUDO_BUTTON_3.QUEST")},[j.PSEUDO_BUTTON_4]:{[Je.XBOX]:t(".Gamepad.PSEUDO_BUTTON_4.XBOX"),[Je.PS]:t(".Gamepad.PSEUDO_BUTTON_4.PS"),[Je.STEAM]:t(".Gamepad.PSEUDO_BUTTON_4.STEAM"),[Je.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_4.SWITCH"),[Je.QUEST]:t(".Gamepad.PSEUDO_BUTTON_4.QUEST")},[j.PSEUDO_BUTTON_5]:{[Je.XBOX]:t(".Gamepad.PSEUDO_BUTTON_5.XBOX"),[Je.PS]:t(".Gamepad.PSEUDO_BUTTON_5.PS"),[Je.STEAM]:t(".Gamepad.PSEUDO_BUTTON_5.STEAM"),[Je.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_5.SWITCH"),[Je.QUEST]:t(".Gamepad.PSEUDO_BUTTON_5.QUEST")},[j.PSEUDO_BUTTON_6]:{[Je.XBOX]:t(".Gamepad.PSEUDO_BUTTON_6.XBOX"),[Je.PS]:t(".Gamepad.PSEUDO_BUTTON_6.PS"),[Je.STEAM]:t(".Gamepad.PSEUDO_BUTTON_6.STEAM"),[Je.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_6.SWITCH"),[Je.QUEST]:t(".Gamepad.PSEUDO_BUTTON_6.QUEST")},[j.PSEUDO_BUTTON_7]:{[Je.XBOX]:t(".Gamepad.PSEUDO_BUTTON_7.XBOX"),[Je.PS]:t(".Gamepad.PSEUDO_BUTTON_7.PS"),[Je.STEAM]:t(".Gamepad.PSEUDO_BUTTON_7.STEAM"),[Je.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_7.SWITCH"),[Je.QUEST]:t(".Gamepad.PSEUDO_BUTTON_7.QUEST")},[j.PSEUDO_BUTTON_8]:{[Je.XBOX]:t(".Gamepad.PSEUDO_BUTTON_8.XBOX"),[Je.PS]:t(".Gamepad.PSEUDO_BUTTON_8.PS"),[Je.STEAM]:t(".Gamepad.PSEUDO_BUTTON_8.STEAM"),[Je.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_8.SWITCH"),[Je.QUEST]:t(".Gamepad.PSEUDO_BUTTON_8.QUEST")},[j.PSEUDO_BUTTON_9]:{[Je.XBOX]:t(".Gamepad.PSEUDO_BUTTON_9.XBOX"),[Je.PS]:t(".Gamepad.PSEUDO_BUTTON_9.PS"),[Je.STEAM]:t(".Gamepad.PSEUDO_BUTTON_9.STEAM"),[Je.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_9.SWITCH"),[Je.QUEST]:t(".Gamepad.PSEUDO_BUTTON_9.QUEST")},[j.PSEUDO_BUTTON_10]:{[Je.XBOX]:t(".Gamepad.PSEUDO_BUTTON_10.XBOX"),[Je.PS]:t(".Gamepad.PSEUDO_BUTTON_10.PS"),[Je.STEAM]:t(".Gamepad.PSEUDO_BUTTON_10.STEAM"),[Je.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_10.SWITCH"),[Je.QUEST]:t(".Gamepad.PSEUDO_BUTTON_10.QUEST")}},keyboard:{[fe.BACKSPACE]:t(".Keyboard.BACKSPACE"),[fe.TAB]:t(".Keyboard.TAB"),[fe.ENTER]:t(".Keyboard.ENTER"),[fe.SHIFT]:t(".Keyboard.SHIFT"),[fe.CTRL]:t(".Keyboard.CTRL"),[fe.ALT]:t(".Keyboard.ALT"),[fe.ESCAPE]:t(".Keyboard.ESCAPE"),[fe.SPACE]:t(".Keyboard.SPACE"),[fe.LEFT]:t(".Keyboard.LEFT"),[fe.UP]:t(".Keyboard.UP"),[fe.RIGHT]:t(".Keyboard.RIGHT"),[fe.DOWN]:t(".Keyboard.DOWN"),[fe.INSERT]:t(".Keyboard.INSERT"),[fe.DELETE]:t(".Keyboard.DELETE"),[fe.KEY_0]:t(".Keyboard.KEY_0"),[fe.KEY_1]:t(".Keyboard.KEY_1"),[fe.KEY_2]:t(".Keyboard.KEY_2"),[fe.KEY_3]:t(".Keyboard.KEY_3"),[fe.KEY_4]:t(".Keyboard.KEY_4"),[fe.KEY_5]:t(".Keyboard.KEY_5"),[fe.KEY_6]:t(".Keyboard.KEY_6"),[fe.KEY_7]:t(".Keyboard.KEY_7"),[fe.KEY_8]:t(".Keyboard.KEY_8"),[fe.KEY_9]:t(".Keyboard.KEY_9"),[fe.KEY_A]:t(".Keyboard.KEY_A"),[fe.KEY_B]:t(".Keyboard.KEY_B"),[fe.KEY_C]:t(".Keyboard.KEY_C"),[fe.KEY_D]:t(".Keyboard.KEY_D"),[fe.KEY_E]:t(".Keyboard.KEY_E"),[fe.KEY_F]:t(".Keyboard.KEY_F"),[fe.KEY_G]:t(".Keyboard.KEY_G"),[fe.KEY_H]:t(".Keyboard.KEY_H"),[fe.KEY_I]:t(".Keyboard.KEY_I"),[fe.KEY_J]:t(".Keyboard.KEY_J"),[fe.KEY_K]:t(".Keyboard.KEY_K"),[fe.KEY_L]:t(".Keyboard.KEY_L"),[fe.KEY_M]:t(".Keyboard.KEY_M"),[fe.KEY_N]:t(".Keyboard.KEY_N"),[fe.KEY_O]:t(".Keyboard.KEY_O"),[fe.KEY_P]:t(".Keyboard.KEY_P"),[fe.KEY_Q]:t(".Keyboard.KEY_Q"),[fe.KEY_R]:t(".Keyboard.KEY_R"),[fe.KEY_S]:t(".Keyboard.KEY_S"),[fe.KEY_T]:t(".Keyboard.KEY_T"),[fe.KEY_U]:t(".Keyboard.KEY_U"),[fe.KEY_V]:t(".Keyboard.KEY_V"),[fe.KEY_W]:t(".Keyboard.KEY_W"),[fe.KEY_X]:t(".Keyboard.KEY_X"),[fe.KEY_Y]:t(".Keyboard.KEY_Y"),[fe.KEY_Z]:t(".Keyboard.KEY_Z"),[fe.F1]:t(".Keyboard.F1"),[fe.F2]:t(".Keyboard.F2"),[fe.F3]:t(".Keyboard.F3"),[fe.F4]:t(".Keyboard.F4"),[fe.F5]:t(".Keyboard.F5"),[fe.F6]:t(".Keyboard.F6"),[fe.F7]:t(".Keyboard.F7"),[fe.F8]:t(".Keyboard.F8"),[fe.F9]:t(".Keyboard.F9"),[fe.F10]:t(".Keyboard.F10"),[fe.F11]:t(".Keyboard.F11"),[fe.F12]:t(".Keyboard.F12"),[fe.MOUSE_MOVEMENT]:t(".Keyboard.MOUSE_MOVEMENT"),[fe.MOUSE_BUTTON_LEFT]:t(".Keyboard.MOUSE_BUTTON_LEFT"),[fe.MOUSE_BUTTON_MIDDLE]:t(".Keyboard.MOUSE_BUTTON_MIDDLE"),[fe.MOUSE_BUTTON_RIGHT]:t(".Keyboard.MOUSE_BUTTON_RIGHT"),[fe.MOUSE_WHEEL]:t(".Keyboard.MOUSE_WHEEL"),[fe.BRACKET_OPEN]:t(".Keyboard.BRACKET_OPEN"),[fe.BRACKET_CLOSE]:t(".Keyboard.BRACKET_CLOSE"),[fe.PSEUDO_KEY_1]:t(".Keyboard.PSEUDO_KEY_1"),[fe.PSEUDO_KEY_2]:t(".Keyboard.PSEUDO_KEY_2"),[fe.PSEUDO_KEY_3]:t(".Keyboard.PSEUDO_KEY_3"),[fe.PSEUDO_KEY_4]:t(".Keyboard.PSEUDO_KEY_4")}})),[t]),n=(0,l.useFacetWrap)(a);return r.createElement(ym.Provider,{value:n},e)},gp=(0,r.createContext)({showModal:()=>{},hideModal:()=>{},updateModal:()=>{}}),Ep={component:null,payload:null};function hp({children:e,ModalContainerWrapper:t}){const a=(0,r.useRef)([]),[n,o]=(0,l.useFacetState)(Ep),i=(0,r.useCallback)((()=>{if(a.current.length<=0)o(Ep);else{const e=a.current[a.current.length-1];o({component:e.component,payload:e.payload})}}),[o]),c=(0,r.useMemo)((()=>({showModal:(e,t)=>{a.current.push({component:e,payload:t}),i()},updateModal:(e,t,n)=>{if(a.current.length<=0)return;const r=a.current.findIndex((({component:a,payload:n})=>a===e&&n===t));-1!==r&&(a.current[r]={component:e,payload:n},i())},hideModal:(e,t)=>{if(!(a.current.length<=0)){if(null!=e&&"function"==typeof e){const n=a.current.findIndex((({component:a,payload:n})=>a===e&&n===t));if(-1===n)return;a.current.splice(n,1)}else a.current.splice(a.current.length-1,1);i()}}})),[i]),s=null!=t?t:r.Fragment;return r.createElement(gp.Provider,{value:c},e,r.createElement(s,null,r.createElement(bp,{modalAndPayload:n})))}function bp({modalAndPayload:e}){const t=(0,l.useFacetUnwrap)(e);if(t===l.NO_VALUE)return null;const{component:a,payload:n}=t;return null==a?null:r.createElement(a,null!=n?n:{})}const vp=()=>(0,r.useContext)(gp).hideModal,yp=e=>({useShowModal:()=>{const t=(0,r.useContext)(gp);return(0,r.useCallback)(((...a)=>{t.showModal(e,a[0])}),[t])},useModal:(e=!1)=>{const[t,a]=(0,l.useFacetState)(e);return(0,r.useMemo)((()=>({isVisible:t,show:()=>a(!0),hide:()=>a(!1)})),[t,a])},Component:(...t)=>{const a=(0,r.useContext)(gp),n=(0,r.useRef)(t[0]);let l=!1;if("object"==typeof n.current)if("object"!=typeof t[0])l=!0;else for(const e in n.current)if(t[0][e]!=n.current[e]){l=!0;break}return(0,r.useEffect)((()=>{l&&a.updateModal(e,n.current,t[0])}),[a,l,t]),(0,r.useEffect)((()=>{const t=n.current;return a.showModal(e,t),()=>{a.hideModal(e,t)}}),[a]),null}});function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Fp.apply(null,arguments)}function Sp(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const Cp=({interactive:e=!0,role:t="inherit",className:a,withoutBorders:n,inset:l,hasTexture:o=!1})=>{const{outline:i}=wr(t),c=o?void 0:e?i.interactive:i.base;return r.createElement("div",{className:zr()("ac9c0d1f696ff511ac47",c,a,{daca347e1eec2b94ba00:n,e39bd92b784fc9db81d3:l,f9e66fb25766a8c4a680:o})})},Mp=e=>{let{disabled:t}=e,a=Sp(e,["disabled"]);const n=(0,l.useFacetUnwrap)(t);return n!==l.NO_VALUE&&n?null:r.createElement(Cp,a)},wp=e=>{let{className:t}=e,a=Sp(e,["className"]);const n=zr()(t,"a03fec9c005568844722");return null!=a.disabled?r.createElement(Mp,Fp({className:n},a)):r.createElement(Cp,Fp({className:n},a))},kp="c6f59fe283487df5f5e4",Tp=({narrationText:e,inputLegend:t,disabled:a,onClick:n,children:o,focusGridIndex:i,gamepadAlias:c,role:s="inherit",soundEffectPressed:u,className:d,selected:m,testId:p})=>{const f=(0,l.useFacetWrap)(a),g=wr(s),E=Tr(s),h=xr();return r.createElement(Tm,{narrationText:e,className:(0,l.useFacetMap)((e=>zr()("c564453585834147ee4f",g.background.interactive,g.text.interactive,d,{[h.selected]:e})),[d,g,h],[(0,l.useFacetWrap)(null!=m&&m)]),classNameFocused:kp,classNameDisabled:"a55cb4a126c9d6692714",focusGridIndex:i,gamepadAlias:c,inputLegend:t,onClick:n,disabled:f,soundEffectPressed:null!=u?u:E.press,"data-testid":p},o,r.createElement(wp,{inset:!0,role:s}))},Pp="c6ae1983d450584a1c36";function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ip.apply(null,arguments)}function xp(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const Ap=({thin:e,top:t=!0,bottom:a=!0,left:n=!0,right:o=!0,className:i,hide:c,semanticStyles:s})=>{const u=zr()("f6d6aa66f29a3c0f94bb",s,i,{c2235a8375f34bb0fea1:e});return r.createElement(r.Fragment,null,r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>zr()(u,{cfbbe67a68e01c72251d:t,e330140e5778ef5ffd98:n,[Pp]:e})),[u,t,n],[c])}),r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>zr()(u,{e8da1b678c205785e29c:a,a7ab6099734cdd6115c8:o,[Pp]:e})),[u,a,o],[c])}))},Op=e=>{let{children:t}=e,a=xp(e,["children"]);return r.createElement(r.Fragment,null,r.createElement(Ap,a),t)},Np=e=>{let{disabled:t,children:a}=e,n=xp(e,["disabled","children"]);const o=(0,l.useFacetMap)((e=>!1===(null!=e&&e)),[],[(0,l.useFacetWrap)(null!=t&&t)]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:o},r.createElement(Ap,n)),a)},Rp=(0,l.createStaticFacet)(!1),Lp=e=>{let{effect:t="specular",reversed:a,role:n="inherit",interactive:l=!0,hide:o=Rp}=e,i=xp(e,["effect","reversed","role","interactive","hide"]);const{[t]:c}=wr(n),s=Ir(),u=zr()(l?c.interactive:c.base,{[s.reversed]:a});return null!=i.disabled?r.createElement(Np,Ip({semanticStyles:u,hide:o},i)):r.createElement(Op,Ip({semanticStyles:u,hide:o},i))},_p=(0,r.createContext)(!1),Dp=(_p.Provider,_p.Consumer,(0,l.createFacetContext)(void 0)),Wp=(Dp.Provider,Dp.Consumer,(0,r.createContext)({delegationEvent:(0,l.createStaticFacet)(void 0)})),Bp=()=>{const[e,t]=(0,l.useFacetState)({date:0,event:void 0}),a=()=>t({date:Date.now(),event:void 0});return a.first=()=>t({date:Date.now(),event:z.FIRST_CHILD}),a.memory=()=>t({date:Date.now(),event:z.MEMORY}),a.alias=e=>t({date:Date.now(),event:z.ALIAS,alias:e}),{delegationEventFacet:e,delegateFocus:a}},Up=Wp.Provider,zp=({delegationEvent:e,children:t})=>r.createElement(Up,{value:{delegationEvent:e}},t);function Hp(e,t){if("string"==typeof t)return t;const a=e.getElement(t);return null==a?t:"alias"in a&&null!==(n=a.alias)&&void 0!==n?n:a.id;var n}function jp(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Vp(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?jp(Object(a),!0).forEach((function(t){Gp(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jp(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Gp(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const $p="NO_LANDMARK_KEY",Kp=(0,l.createStaticFacet)(void 0),Yp=({children:e,disabled:t,hidden:a,focusControlDisabled:n,alias:o,scrollAxis:i,scrollOptions:c,shouldBindFocus:s,containerRef:u,delegateFocusFromMemory:d,delegateFocusByAlias:m,landmarkKey:p,isGrid:f,gridCellWidth:g,gridCellHeight:E,gridColumns:h,gridOffsetVertical:b,gridOffsetHorizontal:v,gridRows:y,gridCellSizeAuto:F})=>{const S=(0,r.useContext)(Ne),C=(0,r.useMemo)((()=>S.current.generateId()),[S]),M=(0,l.useFacetWrap)(t),w=(0,l.useFacetWrap)(a),k=(0,l.useFacetMap)((e=>!0===e),[],[(0,l.useFacetWrap)(n)]),T=(0,l.useFacetWrap)(d),P=(0,l.useFacetWrap)(m),I=(0,l.useFacetWrap)(i),x=(0,l.useFacetWrap)(o),A=(0,l.useFacetWrap)(c),O=(0,l.useFacetWrap)(s),N=(0,l.useFacetWrap)(p),R=(0,l.useFacetWrap)(f),L=(0,l.useFacetMap)((e=>!0===e?nm.GRID:nm.VISUAL),[],[R]),_=(0,l.useFacetWrap)(g),D=(0,l.useFacetWrap)(E),j=(0,l.useFacetWrap)(h),Y=(0,l.useFacetWrap)(y),X=(0,l.useFacetWrap)(F),q=(0,l.useFacetWrap)(b),Q=(0,l.useFacetWrap)(v),Z=(0,r.useContext)(_p),J=(0,r.useContext)(W),ee=(0,r.useContext)(Dp),{delegationEventFacet:te}=(()=>{const{delegationEvent:e}=(0,r.useContext)(Wp);return{delegationEventFacet:e}})(),ae=J[J.length-1],ne=(0,l.useFacetMap)(((e,t)=>{if(!t)return e}),[],[te,k]),re=(0,l.useFacetMap)((e=>null!=e),[],[ne]),le=Ce(),oe=(0,r.useCallback)((e=>t=>{var a;const n=null!==(a=t.getAttribute(G))&&void 0!==a?a:t.getAttribute(V);if(null==n)return!1;const r=parseInt(n,10);return e===r||S.current.isAncestorOf(e,r)}),[S]),ce=(0,l.useFacetCallback)((()=>({delegateFocusByAlias:e,delegateFocusFromMemory:t,cachedDescendantElements:a,delegationOrigin:n})=>{var r,o;!0===k.get()&&console.warn("Asked a FocusControlDisabled Landmark to delegate, abort mission. (find out why)");const i=S.current.getEnabledBindingLandmarkDescendant(C);if(null!=i){const e=null==a?void 0:a.filter(oe(i.id)),t=i.getDelegatedFocus({cachedDescendantElements:e,delegationOrigin:n});if(null!=t&&t!==l.NO_VALUE)return t}const c=S.current.getElement(C),s=S.current.getDynasty(C),d=ie(c)?c:void 0;if(null!=d&&t){var m,p;const e=null!==(m=null==d?void 0:d.landmarkKey)&&void 0!==m?m:$p,t=null==d||null===(p=d.delegationMemoryStack)||void 0===p?void 0:p.get(e);if(null!=t){let e;for(let a=0;a<t.length;a++){const n=t[a],r=S.current.getElement(n);if(null!=r&&S.current.isFocusable(r.id)&&null!=s&&s.has(r.id)){e=r;break}}if(null!=e){const t=ie(e)?e:void 0;if(null==t)return{id:Hp(S.current,e.id),reason:U.MemoryDelegation};{const e=null==a?void 0:a.filter(oe(t.id)),r=t.getDelegatedFocus({cachedDescendantElements:e,delegationOrigin:n});if(null!=r&&r!=l.NO_VALUE)return r}}}}if(ie(fe.current)&&("string"==typeof e||!0===e&&null!=fe.current.delegateFocusByAlias)){var f;const t="string"==typeof e?e:null!==(f=fe.current.delegateFocusByAlias)&&void 0!==f?f:"",r=S.current.getElement(t);if(null!=r&&null!=s&&s.has(r.id)&&S.current.isFocusable(r.id)){if(!ie(r))return{id:Hp(S.current,r.id),reason:U.AliasDelegation};{const e=null==a?void 0:a.filter(oe(r.id)),t=r.getDelegatedFocus({cachedDescendantElements:e,delegationOrigin:n});if(null!=t&&t!==l.NO_VALUE)return t}}}const g=null==fe.current||!0===fe.current.hidden||!0===fe.current.disabled?void 0:C,E=null!=g?{id:Hp(S.current,g),reason:U.DefaultDelegation}:void 0,h=null!=a?a:Array.from(null!==(r=null===(o=u.current)||void 0===o?void 0:o.querySelectorAll("[data-focusable-id], [data-landmark-id]"))&&void 0!==r?r:[]);if(0===h.length)return E;for(let e=0;e<h.length;e++){const t=h[e].getAttribute(V),a=h[e].getAttribute(G);if(null!=t){const e=parseInt(t,10);if(null==s||!s.has(e))continue;const a=S.current.getElement(e);if(!ie(a))continue;if(!S.current.isFocusable(e))continue;if(n!==H.Mutation&&!S.current.containerHasEnabledItems(e))continue;const r=oe(e),o=h.filter(r),i=a.getDelegatedFocus({cachedDescendantElements:o,delegationOrigin:n});if(i!=l.NO_VALUE&&null!=i)return i}else if(null!=a){const e=parseInt(a,10);if(null!=s&&s.has(e)&&S.current.isFocusable(e))return{id:Hp(S.current,e),reason:U.FirstFoundDelegation}}}return E}),[u,oe,k,S,C],[]),se=(0,l.useFacetCallback)((e=>({cachedDescendantElements:t,delegationOrigin:a})=>{var n;return ce({delegateFocusFromMemory:e,delegateFocusByAlias:ie(fe.current)&&(null===(n=fe.current)||void 0===n?void 0:n.delegateFocusByAlias),cachedDescendantElements:t,delegationOrigin:a})}),[ce],[T]),ue=(0,r.useCallback)((e=>{var t;if(!ie(fe.current)||null==e||0===e.date)return;let a;switch(e.event){case z.FIRST_CHILD:a=ce({delegationOrigin:H.UserInput});break;case z.MEMORY:a=ce({delegateFocusFromMemory:!0,delegationOrigin:H.UserInput});break;case z.ALIAS:const n=null!==(t=e.alias)&&void 0!==t?t:fe.current.delegateFocusByAlias;a=ce({delegateFocusByAlias:n,delegationOrigin:H.UserInput});break;default:a=se({delegationOrigin:H.UserInput})}null!=a&&a!==l.NO_VALUE&&null!=a.id&&le(Hp(S.current,a.id),!1,B.LandmarkController)}),[ce,se,le,S]);(0,l.useFacetEffect)((e=>{ue(e)}),[ue],[ne]);const de=(0,r.useCallback)(((e,t,a)=>{if(t===B.FocusTreeMutation&&a!==U.FocusableAliasMutation)return;const n=S.current.getElement(C),r=ie(n)?n:void 0;if(null!=(null==r?void 0:r.delegationMemoryStack)){var l;const t=null!==(l=null==r?void 0:r.landmarkKey)&&void 0!==l?l:$p,a=r.delegationMemoryStack.get(t)||[];if(null!=a){const n=a.indexOf(e);-1!==n&&a.splice(n,1),a.unshift(e),r.delegationMemoryStack.set(t,a)}}}),[S,C]),me=(0,l.useFacetCallback)((e=>t=>{t.origin===B.LandmarkController&&ue(e)}),[ue],[ne]),pe=(0,r.useRef)(),fe=(0,r.useRef)(void 0),ge=(0,r.useRef)(!1);(0,r.useMemo)((()=>{var e;if(Yr([M,w,k,I,x,A,O,P,T,N,R,_,D,j,Y,q,Q,X])===l.NO_VALUE&&!S.current.getElement(C)){const e={scrollAxis:void 0,type:K.LANDMARK,id:C,ref:u.current,alias:void 0,scrollIntoViewAlign:void 0,scrollIntoViewOffset:void 0,scrollIntoViewSpeedFactor:void 0,shouldScrollWithAnalog:void 0,disabled:!0,hidden:!0,focusControlDisabled:!0,isGrid:!1,onFocusableOfDynastyFocused:de,getDelegatedFocus:se,onDynastyUpdated:me,delegateFocusByAlias:void 0,landmarkKey:void 0,delegationMemoryStack:void 0};fe.current=e,S.current.putNode(e,ae)}null===(e=pe.current)||void 0===e||e.call(pe),pe.current=(0,l.multiObserve)(((e,t,a,n,r,l,o,i,c,s,d,m,p,f,g,E,h,b)=>{const v=S.current.getElement(C),y=Vp(Vp({scrollAxis:n,type:K.LANDMARK,id:C,ref:u.current,alias:r,scrollIntoViewAlign:null==l?void 0:l.scrollIntoViewAlign,scrollIntoViewOffset:null==l?void 0:l.scrollIntoViewOffset,scrollIntoViewSpeedFactor:null==l?void 0:l.scrollIntoViewSpeedFactor,shouldScrollWithAnalog:null==l?void 0:l.shouldScrollWithAnalog,disabled:!0===e,hidden:!0===t,focusControlDisabled:!0===a,isGrid:!0===d,gridCellWidth:m,gridCellHeight:p,gridColumns:f,gridRows:g,gridOffsetVertical:E,gridOffsetHorizontal:h,gridCellSizeAuto:b,onFocusableOfDynastyFocused:de,getDelegatedFocus:se,onDynastyUpdated:me},!Z&&o?{shouldBindFocus:!0}:{}),{},{delegateFocusByAlias:i,landmarkKey:s,delegationMemoryStack:!0===c?ie(v)&&null!=v.delegationMemoryStack?v.delegationMemoryStack:new Map:void 0});fe.current=y,ge.current=null==u.current,S.current.putNode(y,ae)}),[M,w,k,I,x,A,O,P,T,N,R,_,D,j,Y,q,Q,X])}),[C,S,ae,de,u,se,Z,M,w,k,I,x,A,O,P,T,N,me,R,_,D,j,Y,q,Q,X]);const Ee=(0,r.useMemo)((()=>cm()((()=>{null!=S.current.getClosestGrid(C)&&null!=S.current.getElement(C)&&S.current.updateGridNodeDimensions(C)}),500,{trailing:!0,leading:!1})),[S,C]),he=(0,l.useFacetMap)((e=>!0!==e),[],[R]);Bd(u,Ee,he),(0,r.useEffect)((()=>()=>{var e;null===(e=pe.current)||void 0===e||e.call(pe)}),[]),(0,r.useEffect)((()=>{if(!ge.current)return;if(null==u.current||null==fe.current)return;const e=Vp(Vp({},fe.current),{},{ref:u.current});S.current.putNode(e,ae)}),[]),(0,l.useFacetEffect)((e=>{if(null==fe.current||fe.current.hidden||fe.current.disabled||null==e)return;const t=se({delegationOrigin:H.Mutation});null!=t&&t!==l.NO_VALUE&&null!=t.id&&le(t.id,!1)}),[se,le],[ee]),(0,r.useEffect)((()=>{const e=S.current;return()=>e.removeNode(C)}),[S,C]);const be=[...J,C],ve=(0,r.useMemo)((()=>({children:e})=>r.createElement(W.Provider,{value:be},r.createElement(om,{value:L},e))),be);return(0,r.useEffect)((()=>{null!=window.__REACT_FACET_DEVTOOLS_GLOBAL_HOOK__&&null!=u.current&&(u.current.setAttribute($,`${C}`),u.current.setAttribute($,`${C}`))}),[C,u]),(0,l.useFacetEffect)((e=>{null!=window.Cypress&&null!=u.current&&(u.current.setAttribute("data-testid",`${e}`),u.current.setAttribute("data-focusable-alias",`${e}`))}),[u],[x]),r.createElement(Xp,{shouldResetDelegationEvent:re},r.createElement(ve,null,e))},Xp=({shouldResetDelegationEvent:e,children:t})=>r.createElement(xl,{data:e},(e=>null==e?r.createElement(r.Fragment,null,t):r.createElement(zp,{delegationEvent:Kp},t)));function qp(e){return e.height/e.width*100+"%"}function Qp({className:e,src:t,imageRendering:a,height:n,width:o,aspectRatio:i,paddingTopPercentage:c,cover:s,isGrayscale:u=!1,isAnimated:d=!1}){const m=(0,l.useFacetWrap)(a),p=(0,l.useFacetWrap)(t),f=null!=i||null!=c,g=(0,l.useFacetWrap)(d),E=(0,l.useFacetMap)(((e,t,a)=>zr()("d19a0d297b4747373c45",e,{ad6e9e9be54237702c89:f&&!a,b6c0a46fe0111fcf753e:t})),[f],[(0,l.useFacetWrap)(e),(0,l.useFacetWrap)(u),g]),h=(0,l.useFacetMap)((e=>null!=i?qp(i):null!=e?`${e}%`:void 0),[i],[(0,l.useFacetWrap)(null!=c?c:void 0)]);return!0===s||f?r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:g},r.createElement(Zp,{aspectRatio:i,paddingTop:h,src:p,className:E,imageRendering:m,height:n,width:o})),r.createElement(l.Mount,{when:g,condition:!1},r.createElement(Jp,{paddingTop:h,src:p,className:E,imageRendering:m,height:n,width:o}))):r.createElement("fast-img",{src:p,className:E,style:{height:n,width:o,imageRendering:m,paddingTop:h}})}function Zp({aspectRatio:e,className:t,src:a,imageRendering:n,width:o,height:i,paddingTop:c}){const[s,u]=(0,l.useFacetState)({width:1,height:1});(0,l.useFacetEffect)((e=>{const t=document.createElement("img");t.onload=()=>u({width:t.width,height:t.height}),t.src=e}),[u],[a]);const d=(0,l.useFacetMap)((t=>null==e||t.width/t.height<e.width/e.height?"100%":e.height/t.height*(t.width/e.width)*100+"%"),[e],[s]),m=(0,l.useFacetMap)((t=>null!=e&&t.width/t.height<e.width/e.height?e.width/t.width*(t.height/e.height)*100+"%":"100%"),[e],[s]);return r.createElement("fast-div",{className:t,style:{height:i,width:o,paddingTop:c}},r.createElement("fast-div",{className:"f562be89fa1db08e17e0"},r.createElement("fast-img",{src:a,style:{height:m,width:d,imageRendering:n}})))}function Jp({className:e,src:t,imageRendering:a,width:n,height:o,paddingTop:i}){const c=(0,l.useFacetMap)((e=>`url(${e})`),[],[t]);return r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>zr()("b86424395a97c332f9a1",e)),[],[(0,l.useFacetWrap)(e)]),style:{width:n,height:o,paddingTop:i,backgroundImage:c,imageRendering:a}})}Qp.AspectRatio={"16:9":{width:16,height:9},"10:3":{width:10,height:3},"1:1":{width:1,height:1}},Qp.aspectRatioToPercentage=qp;const ef=a.p+"assets/arrowBackWhite-2eb911f920897a21e30e.png",tf=(e,t)=>{const a=(0,l.useFacetWrap)(e),n=(0,l.useFacetWrap)(t),r=(0,l.useFacetMap)(((e,t)=>null==e&&null==t?l.NO_VALUE:[e,t].filter(Boolean).join(" ")),[],[a,n]);return r};function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},af.apply(null,arguments)}const nf=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("ea706a2485225266f56c",t);return r.createElement(Qp,af({},a,{className:n,src:ef,imageRendering:"pixelated"}))},rf=a.p+"assets/crossWhite-0f6ce1fda32c98dfb02d.png";function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},lf.apply(null,arguments)}const of=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("b035489ed0b6edafd54f",t);return r.createElement(Qp,lf({},a,{className:n,src:rf,imageRendering:"pixelated"}))},cf="a555c5e3763cd3724c54",sf={Back:{useLocalization:()=>Fc("TitleBar.Buttons.Back"),Component:({onClick:e,gamepadAlias:t})=>{const{t:a}=sf.Back.useLocalization();return r.createElement(Tp,{role:"neutral",inputLegend:a(".inputLegend"),narrationText:a(".narration"),onClick:e,gamepadAlias:t,className:cf},r.createElement(nf,null))}},Close:{useLocalization:()=>Fc("TitleBar.Buttons.Close"),Component:({onClick:e,gamepadAlias:t,narrationSuffix:a,narrationPrefix:n,testId:o})=>{const{t:i}=sf.Close.useLocalization(),c=(0,l.useFacetMap)(((e,t)=>[e,i(".narration"),t].filter((e=>e)).join(" . ")),[i],[(0,l.useFacetWrap)(null!=n?n:""),(0,l.useFacetWrap)(null!=a?a:"")]);return r.createElement(Tp,{testId:o,role:"neutral",inputLegend:i(".inputLegend"),narrationText:c,onClick:e,gamepadAlias:t,className:cf},r.createElement(of,null))}}},uf=({children:e,gamepadAlias:t,role:a="inherit",left:n,right:l})=>{const o=wr(a),i=(0,r.useRef)(null);return r.createElement(Yp,{containerRef:i,alias:t},r.createElement("div",{ref:i,className:zr()("f06087f305a4fa961ad3",o.background.base,o.text.base)},r.createElement(Lp,{effect:"specular"}),r.createElement("div",{className:"c27f215f02438fa1a4ab"},n),e,r.createElement("div",{className:"c671fd983b4dbd789f28"},l)),r.createElement("div",{className:zr()("d509ca0c64e1ff0785a3",o.shadow.base)}))};uf.Buttons=sf;const df=(0,r.createContext)((0,l.createFacet)({initialValue:!1})),mf=()=>(0,r.useContext)(df),pf=()=>{},ff=({children:e,onChildFocusableMounted:t})=>r.createElement(Cm.Provider,{value:t},e),gf=()=>{const e=(0,r.useContext)(Cm),[t,a]=(0,l.useFacetState)(0);return{hasChildFocusable:(0,l.useFacetMap)((e=>e>0),[],[t]),numberOfChildFocusables:t,onChildFocusableMounted:(0,r.useCallback)((()=>(e(),a((e=>e===l.NO_VALUE?e:e+1)),()=>{a((e=>e===l.NO_VALUE?e:e-1))})),[e,a])}},Ef=({children:e})=>r.createElement(Cm.Provider,{value:pf},e),hf="unmounted",bf="exited",vf="entering",yf="entered",Ff="exiting",Sf=(0,l.createStaticFacet)(!1);function Cf({visible:e=Sf,alwaysMounted:t,inverse:a=Sf,appear:n,unmountOnExit:o=Sf,onStatusChange:i,timeout:c,children:s}){const u=(0,r.useRef)(null),d=(0,l.useFacetWrap)(e),m=(0,l.useFacetWrap)(a),p=(0,l.useFacetWrap)(!t&&o),[f,g]=(0,l.useFacetState)(l.NO_VALUE),E=(0,l.useFacetCallback)(((e,a)=>r=>{Mf(u),g((o=>{if(r){if(o===l.NO_VALUE)return[n?bf:yf,e];if(o[0]===hf)return[bf,e]}else{if(o===l.NO_VALUE)return[t?bf:hf,e];if(o[0]===bf&&a)return[hf,e]}return o}));const o=setTimeout((()=>{g((t=>{if(t===l.NO_VALUE)return l.NO_VALUE;const[n]=t;return r?n===yf?[yf,e]:[vf,e]:n===bf?[a?hf:bf,e]:n===hf?[hf,e]:[Ff,e]}))}),0);return()=>clearTimeout(o)}),[g,n,t],[m,p]);(0,l.useFacetEffect)((e=>{E(e)}),[E],[d]);const h=(0,l.useFacetMap)((e=>e[0]),[],[f]),b=(0,l.useFacetCallback)((e=>t=>{i&&i(t);const a=t===vf,n=t===Ff,r=t===bf;Mf(u),a&&(u.current=setTimeout((()=>g((e=>e===l.NO_VALUE?l.NO_VALUE:[yf,e[1]]))),c+100)),n&&(u.current=setTimeout((()=>g((t=>t===l.NO_VALUE?l.NO_VALUE:[e?hf:bf,t[1]]))),c+100)),r&&e&&g((e=>e===l.NO_VALUE?l.NO_VALUE:[hf,e[1]]))}),[c,g,i],[p]);return(0,l.useFacetEffect)((e=>{b(e)}),[b],[h]),(0,r.useEffect)((()=>()=>Mf(u)),[]),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e!==hf),[],[h])},s(f))}const Mf=e=>{e.current&&(clearTimeout(e.current),e.current=null)},wf="daab5f42167232886416",kf="fb0930ba4b3a0b1e0717",Tf="e9ebc4cb64f386079907";function Pf(e,t,a,n,o,i=!1,c=0,s,u){const[d,m]=(0,l.useFacetState)(!1),[p,f]=(0,l.useFacetState)(!1),g=(0,l.useFacetWrap)(null==n||n),E=(0,r.useRef)(!0),h=ot(),b=xd(4)+c,v=xd(8),y=(0,r.useMemo)((()=>cm()((()=>m(!0)),500,{leading:!0,trailing:!1})),[m]),F=(0,r.useMemo)((()=>Ba()((()=>{null==u||u()}),500)),[u]),S=(0,r.useMemo)((()=>cm()((()=>m(!1)),500,{leading:!1,trailing:!0})),[m]),C=(0,r.useMemo)((()=>null!=u?()=>{y(),F(),S()}:()=>{y(),S()}),[u,y,S,F]);(0,r.useEffect)((()=>{let e=null;return e=setTimeout((()=>{if(!o||!o.current||i)return;if(!0!==h.get())return f(!1);const e=window.innerHeight-o.current.getBoundingClientRect().bottom-v<b;f(e)}),250),()=>{e&&window.clearTimeout(e)}}),[f,v,b,h,o,e,i]);const M=(0,r.useRef)(null),w=(0,r.useMemo)((()=>{let n=null,r=null,l=null,o=null,c=null,u=!0;return()=>{var d,m;const f=!0===p.get(),g=e.current,h=t.current,v=a.current;if(!g||!h||!v)return;const y=i?g.scrollLeft:g.scrollTop,F=i?window.innerWidth:window.innerHeight,S=i?g.scrollWidth:g.scrollHeight;if(u){const e=g.getBoundingClientRect();if(0!==e.width&&0!==e.height){const t=f?b:0,a=i?e.width:e.height,n=a-t,r=S-(i?e.width:e.height),c=Math.min(1,y/r),d=i?g.getBoundingClientRect().left-e.left:v.getBoundingClientRect().top-e.top,m=n/S*n-2*Math.max(d,0),p=40,E=16,F=12,C=Math.max(n>p+F?p:E,i?Math.min(.4*n-2*d,m):m);if(i)h.style.left=100*c+"%",h.style.widthPX=C,h.style.marginLeft=-C/2+"px",v.style.leftPX=C/2,v.style.rightPX=C/2;else{const e=c*(n-C-2*d);h.style.topPX=Math.max(0,e),h.style.heightPX=C,v.style.bottomPX=t}u=!1,s&&(l=a,o=S)}}if(f!==n&&(n=f,u=!0),y!==c&&(E.current?E.current=!1:C(),c=y,u=!0),F!==r&&(r=F,u=!0),s&&!E.current){let e=!1;const t=o!==S,a=g.getBoundingClientRect();if(!(a.width<=0||a.height<=0)){const t=i?a.width:a.height;l!==t&&(e=!0)}(t||e)&&(u=!0)}M.current=null===(d=(m=window).requestAnimationFrame)||void 0===d?void 0:d.call(m,w)}}),[p,e,t,a,i,s,b,C]);return(0,l.useFacetEffect)((e=>(e&&w(),()=>{var e,t;null!=M.current&&(null===(e=(t=window).cancelAnimationFrame)||void 0===e||e.call(t,M.current)),S.cancel(),F.cancel(),y.cancel()})),[w,y,S,s,e,F],[g]),d}function If(e,t=!1,a){const[n,o]=(0,l.useFacetState)(!1),i=(0,r.useRef)(!1),c=(0,r.useRef)(0),s=(0,r.useRef)(0),u=(0,r.useRef)(0);return(0,r.useEffect)((()=>{const n=()=>{const r=e.current;if(!r)return;const{scrollWidth:d,scrollHeight:m}=r;if(0===m)return;const{width:p,height:f}=r.getBoundingClientRect();if(a)return o(t?d>Math.ceil(p):m>Math.ceil(f));o((e=>{if(e===l.NO_VALUE)return l.NO_VALUE;const a=t?d:m,r=t?p:f,o=a>Math.ceil(r),g=t?window.innerWidth:window.innerHeight;return!e&&o&&(u.current=g,requestAnimationFrame(n)),e&&!i.current&&(c.current=a,s.current=f),i.current=e,!(!e||o||a!==c.current||r!==s.current||g!==u.current)||o}))};n();const r=setInterval(n,1e3);return()=>clearInterval(r)}),[a,t,e,o]),n}function xf({scrollingContainerRef:e,horizontal:t,stopCheckingForScroll:a,onScroll:n,floating:o,stopTrackingScrollDimensions:i,checkForDynamicScrollArea:c,darkTheme:s,minimalTheme:u,safeZonePadding:d,backgroundRole:m="neutral60",className:p}){const{handlerRef:f,railRef:g}=Of(e,t),E=Af(e,g,t),h=If(e,t,o||i),b=(0,l.useFacetWrap)(null!=a&&a),v=(0,l.useFacetMap)(((e,t)=>e&&!t),[],[h,b]),{background:{base:y}}=wr(m);Nf(e,t,c),Pf(e,f,g,v,void 0,t,d,c,n);const F=(0,l.useFacetMap)((e=>zr()(p,{fcbb3131c78bc5f09d64:!t,aa292ecddeb7027209b1:t,e76ef6144fe43104e70c:!e,f34ee9e247cf2912c450:o})),[t,o,p],[h]);return r.createElement("fast-div",{className:F,onClick:E},r.createElement("div",{className:zr()("ba6a99366a124e254097",{[Tf]:t,[wf]:u,[kf]:s})}),r.createElement("div",{className:zr()("a6736b5cc7560c2a73b9",y,{[wf]:u})}),r.createElement("div",{className:"cfdbe0e22ac8e4c12a1f",ref:g},r.createElement("div",{className:"c2111d6c73db18cc62d4",ref:f},r.createElement("div",{className:"e231ca9014311c2d3817"},r.createElement(Lp,{role:"secondary"})),r.createElement("div",{className:"f73bbcf8ed7d0001323b"}))),r.createElement("div",{className:zr()("e8623610980c9f5ef2a1",{[Tf]:t,[wf]:u,[kf]:s})}))}const Af=(e,t,a)=>(0,r.useCallback)((n=>{const r=e.current,l=t.current;if(!r||!l)return;const o=l.getBoundingClientRect(),i=r.getBoundingClientRect();if(a){const e=(n.clientX-o.left)/o.width;r.scrollLeft=e*(r.scrollWidth-i.width)}else{const e=(n.clientY-o.top)/o.height;r.scrollTop=e*(r.scrollHeight-i.height)}}),[e,t,a]),Of=(e,t=!1)=>{const a=(0,r.useRef)(null),n=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const r=a.current,l=e.current,o=n.current;if(!r||!l||!o)return;let i=!1,c=0;const s=e=>{i=!0;const a=r.getBoundingClientRect();c=t?e.clientX-a.left:e.clientY-a.top},u=()=>{i=!1,c=0},d=e=>{if(!i)return;const a=o.getBoundingClientRect(),n=r.getBoundingClientRect(),s=l.getBoundingClientRect(),u=t?(e.clientX-c-a.left)/(a.width-n.width):(e.clientY-c-a.top)/(a.height-n.height);t?l.scrollLeft=u*(l.scrollWidth-s.width):l.scrollTop=u*(l.scrollHeight-s.height)},m=e=>{e.preventDefault(),e.stopPropagation()};return document.addEventListener("mousemove",d),document.addEventListener("mouseup",u),r.addEventListener("mousedown",s),r.addEventListener("click",m),()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",u),r.removeEventListener("mousedown",s),r.removeEventListener("click",m)}}),[a,e,n,t]),{handlerRef:a,railRef:n}},Nf=(e,t,a)=>{(0,r.useEffect)((()=>{const n=e.current;if(a&&!t&&n){const e=e=>{e.deltaY>0&&(n.scrollTop+=2)};return n.addEventListener("wheel",e),()=>n.removeEventListener("wheel",e)}}),[a,t,e])};function Rf({scrollingContainerRef:e,horizontal:t,stopCheckingForScroll:a,onScroll:n,alwaysVisible:o,safeZonePadding:i}){const c=(0,r.useRef)(null),s=(0,r.useRef)(null),u=(0,r.useRef)(null),d=Lf(e),m=(0,l.useFacetWrap)(null!=a&&a),p=If(e,t),f=Pf(e,c,s,(0,l.useFacetMap)(((e,t)=>e&&!t),[],[p,m]),u,t,i,void 0,n),g=zr()({ef189058575a7f01048f:!t,ff1fe6a65b8a8d609e34:t}),E=(0,l.useFacetMap)(((e,t,a)=>"f2bb989b06e886e3e559 "+(a&&(t||e||o)?"b190ef7e4fe4244959a5":"c5ead43212c3b0359be9")),[o],[d,f,p]);return r.createElement("div",{className:g,ref:u},r.createElement("div",{className:"b4a640e8f4b927166e2e",ref:s},r.createElement("fast-div",{className:E,ref:c})))}const Lf=e=>{const[t,a]=(0,l.useFacetState)(!1);return(0,r.useEffect)((()=>{var t;const n=()=>a(!0),r=()=>a(!1),l=null!==(t=null==e?void 0:e.current)&&void 0!==t?t:window;return l.addEventListener("touchstart",n),l.addEventListener("touchend",r),()=>{l.removeEventListener("touchstart",n),l.removeEventListener("touchend",r)}}),[e,a]),t};function _f({scrollingContainerRef:e,stopCheckingForScroll:t,onScroll:a,alwaysVisible:n,horizontal:l=!1,floating:o,stopTrackingScrollDimensions:i,checkForDynamicScrollArea:c,darkTheme:s,minimalTheme:u,backgroundRole:d,className:m}){const p=Gl();return r.createElement(xl,{data:lt()},(f=>f?r.createElement(xf,{horizontal:l,scrollingContainerRef:e,stopCheckingForScroll:t,onScroll:a,safeZonePadding:p.bottom,floating:o,stopTrackingScrollDimensions:i,checkForDynamicScrollArea:c,darkTheme:s,minimalTheme:u,backgroundRole:d,className:m}):r.createElement(Rf,{horizontal:l,scrollingContainerRef:e,stopCheckingForScroll:t,onScroll:a,safeZonePadding:p.bottom,alwaysVisible:n})))}const Df="e1cc8900472413622677",Wf="bc2443f790568cd90859",Bf="dce4cdccf7cdebbedc22",Uf=a(81442);function zf(){return r.createElement(Qp,{src:Uf,className:"ed618c1f0ad81ad31820",imageRendering:"pixelated"})}const Hf=({interruptible:e=!0,playInBackground:t=!1,profanityFilterContext:a={outOfGame:!0,inGame:!0},required:n=!1}={})=>{const l=(0,r.useRef)(),{readText:o}=(0,r.useContext)(Al);return{narrateText:(0,r.useCallback)((r=>{l.current=setTimeout((()=>{o(r,a,e,n,t)}),200)}),[o,a,e,n,t]),preventNarrateText:(0,r.useCallback)((()=>{l.current&&clearTimeout(l.current)}),[])}},jf=({children:e,alwaysVisibleChildren:t,loading:a,renderTracker:n,focusGridIndex:o,scrollIntoViewAlign:i="center",scrollIntoViewSpeedFactor:c,horizontal:s=!1,innerRef:u,floating:d,stopTrackingScrollDimensions:m,checkForDynamicScrollArea:p,darkTheme:f,minimalTheme:g,padSpinnerVertically:E,spinnerBackgroundColor:h,disableScrolling:b,showSpinnerBorder:v,stopCheckingForScroll:y,onScroll:F,emptyFocusableGamepadAlias:S,emptyFocusableNarrationText:C,defaultFocusedChildBehavior:M,gamepadAlias:w,delegateFocusByAlias:k,delegateFocusFromMemory:T,flexShrinkWrapper:P,scrollbarBackgroundRole:I,scrollbarClassName:x,focusControlDisabled:A,disabled:O,shouldScrollWithAnalog:N=!0,isGrid:R,gridCellWidth:L,gridCellHeight:_,gridColumns:D,gridRows:W,gridCellSizeAuto:B})=>{const U=(0,r.useRef)(null),z=u||U,[H,j]=(0,r.useState)(!1),V=(0,l.useFacetWrap)(a),G=If(z,s,d||m),$=dn(),K=(0,l.useFacetWrap)(null!=b&&b),Y=(0,l.useFacetMap)(((e,a)=>zr()(s?"a1119639fed32881e1e8":"d62d29d55d18e631abca",e||a&&null!=t?"e707c1bf3d08cc04cdf1":null,"b5b35bf116b049dca4ae",s?Wf:Df)),[s,t],[K,V]),q=T||"remember"===M,Q=H&&!0===d,Z=(0,l.useFacetMap)((e=>zr()("f19aa1a094307f536de2",{[kp]:e&&Q})),[Q],[ut()]),J=(0,r.useRef)(null),[ee,te]=(0,l.useFacetState)(0);(0,l.useFacetEffect)((e=>{let t;const a=()=>{const n=J.current;if(null==n)return;const r=n.getBoundingClientRect(),l=s?r.width:r.height;te(l),e&&(t=requestAnimationFrame(a))};return a(),()=>{cancelAnimationFrame(t)}}),[te,J,s],[V]);const ae=(0,l.useFacetMap)((e=>null==e||!e),[],[V]),ne=(0,r.useRef)(null),re=(0,l.useFacetMap)((e=>O||!0===e),[O],[V]),le=(0,l.useFacetWrap)({scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,shouldScrollWithAnalog:N}),{hasChildFocusable:oe,onChildFocusableMounted:ie}=gf(),ce=(0,l.useFacetMap)(((e,t)=>$&&!e||!e&&t),[$],[oe,G]);return r.createElement(ff,{onChildFocusableMounted:ie},r.createElement(df.Provider,{value:oe},r.createElement(Yp,{containerRef:ne,focusControlDisabled:A},r.createElement("div",{ref:ne,className:zr()(s?"bef8e2f939e1ae592f1c":"b92db1c183535113af4b",{c9562e41a99cf41c2beb:P})},r.createElement(Vf,{focusGridIndex:o,hidden:ae,renderTracker:n,padSpinnerVertically:E,spinnerBackgroundColor:h,showBorder:v,spinnerOffsetPosition:ee,horizontal:s}),r.createElement(l.Mount,{when:ce},r.createElement("fast-div",{className:Z},r.createElement(wp,{inset:!0}))),r.createElement("fast-div",{className:Y,ref:z,"data-testid":"scroll-view"},r.createElement(Yp,{disabled:re,scrollOptions:le,delegateFocusFromMemory:q,containerRef:z,scrollAxis:s?X.HORIZONTAL:X.VERTICAL,alias:w,delegateFocusByAlias:k,focusControlDisabled:A,isGrid:R,gridCellWidth:L,gridCellHeight:_,gridColumns:D,gridRows:W,gridCellSizeAuto:B},r.createElement("div",{ref:J},t),r.createElement("fast-div",{className:(0,l.useFacetMap)(((e,t)=>zr()(s?"d97dda66dc548fa28683":"d075f2acb70ea54cbd4b",s?Wf:Df,{a4fe6ee335efe711b2ae:e,[Bf]:t})),[s],[V,io()])},r.createElement(r.Fragment,null,e,r.createElement(l.Mount,{when:ce},r.createElement(Yf,{onFocusChanged:j,gamepadAlias:S,narrationText:C})))))),r.createElement(l.Mount,{when:ae},r.createElement(_f,{stopTrackingScrollDimensions:m,checkForDynamicScrollArea:p,floating:d,horizontal:s,scrollingContainerRef:z,stopCheckingForScroll:y,onScroll:F,alwaysVisible:H,darkTheme:f,minimalTheme:g,backgroundRole:I,className:x}))))))};function Vf({hidden:e,renderTracker:t,spinnerBackgroundColor:a,padSpinnerVertically:n,showBorder:o=!0,focusGridIndex:i,spinnerOffsetPosition:c,horizontal:s}){const u=(0,l.useFacetMap)((e=>!1===e),[],[e]),[d,m]=(0,l.useFacetState)(!1),p=(0,r.useCallback)((e=>{t&&"unmounted"===e&&m(!0)}),[m,t]);return r.createElement(r.Fragment,null,r.createElement(Cf,{unmountOnExit:!0,visible:u,timeout:500,onStatusChange:p},(e=>r.createElement($f,{status:e,focusGridIndex:i,padSpinnerVertically:n,showBorder:o,spinnerBackgroundColor:a,spinnerOffsetPosition:c,horizontal:s}))),r.createElement(l.Mount,{when:d},r.createElement(Gf,{renderTracker:t})))}const Gf=({renderTracker:e})=>r.createElement(r.Fragment,null,e?e(!0):null),$f=({focusGridIndex:e,padSpinnerVertically:t,showBorder:a,spinnerBackgroundColor:n,spinnerOffsetPosition:o,horizontal:i,status:c})=>{const{t:s}=Fc("ScrollView"),{narrateText:u}=Hf(),[d,m]=(0,l.useFacetState)(!1);(0,l.useFacetEffect)((e=>{let t;return e?t=setInterval(u.bind(null,s(".loadingState")),1e4):null!=t&&clearInterval(t),()=>null!=t&&clearInterval(t)}),[u,s,1e4],[d]);const p=(0,l.useFacetMap)((([e])=>"exiting"===e),[],[c]);return r.createElement(Tm,{focusGridIndex:e,narrationText:[s(".narrationScrollViewComponentType"),s(".loadingState")].join(" . "),className:(0,l.useFacetMap)(((e,n)=>zr()("d6ef6aad726e68dac761",{c7ce357001669e5195d8:t,c335d1e85684057d9d1f:e,cb68f17a28738f82b315:a,[Bf]:!0===n})),[a,t],[p,io()]),classNameFocused:kp,onFocusChanged:m,onHoverChanged:m,style:{backgroundColor:null!=n?n:"rgba(0, 0, 0, 0.4)",topPX:i?0:o,leftPX:i?o:0},inputLegend:!1,onClick:()=>{}},r.createElement(wp,{inset:!0}),r.createElement(zf,null))},Kf=()=>{},Yf=({onFocusChanged:e,gamepadAlias:t,narrationText:a=!1})=>r.createElement(Ef,null,r.createElement(Tm,{"data-testid":"empty-focusable",className:"f603cc5da9c0c340dacb",onClick:Kf,onFocusChanged:e,inputLegend:!1,gamepadAlias:t,narrationText:a}));function Xf({options:e,onClick:t}){return function(e,t){const a=(0,l.useFacetWrap)(e),n=(0,r.useContext)(Ne),o=(0,r.useContext)(W);o.length;const i=o[o.length-1],c=a.get();c===l.NO_VALUE||c.disabled||n.current.putShortcut(i,c.button,{callback:t,inputLegend:c.inputLegend}),(0,l.useFacetEffect)((e=>{const a=o[o.length-1];if(!e.disabled){const r=n.current;return r.putShortcut(a,e.button,{callback:t,inputLegend:e.inputLegend}),()=>{r.removeShortcut(a,e.button)}}}),[t,n,o],[a])}(e,t),null}jf.SiblingState=({callback:e})=>{const t=mf();return(0,l.useFacetEffect)((t=>{e(t)}),[e],[t]),null},jf.useHasScrollbar=If;const qf=Xf;function Qf({children:e}){return r.createElement(r.Fragment,null,e)}const Zf=e=>{let{children:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["children"]);const n=(0,l.useFacetWrap)("text"in a?a.text:""),o="getText"in a?a.getText:void 0,i=bm(null!=o?o:n);return r.createElement(pm,{value:i},t)},Jf="d369b0b0b55e7eeafba5",eg="a317f2d9709303f25f9a",tg=a.p+"assets/checkGrey-a9d8c1986ac15e9d8b5f.png";function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ag.apply(null,arguments)}const ng=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("f1be031367b262e35198",t);return r.createElement(Qp,ag({},a,{className:n,src:tg,imageRendering:"pixelated"}))},rg=a.p+"assets/checkWhite-bcfbfc531a61d1dd813c.png";function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},lg.apply(null,arguments)}const og=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("fbe42a93eff006ac46fc",t);return r.createElement(Qp,lg({},a,{className:n,src:rg,imageRendering:"pixelated"}))};function ig({value:e,disabled:t,gamepad:a,narrationText:n,onClick:o,soundEffectPressed:i,checkedRole:c="primary",uncheckedRole:s="neutral50",mountFocusBorder:u=!0}){const d=wr(c),m=wr(s),p=Tr("inherit"),f=(0,l.useFacetWrap)(e),g=(0,l.useFacetWrap)(t),E=(0,l.useFacetWrap)(u),h=(0,l.useFacetCallback)((e=>()=>null==o?void 0:o(!e)),[o],[f]),b=(0,l.useFacetMap)((e=>zr()("c4582a72af4df98e4d0d",e?[d.background.interactive,d.border.interactive]:[m.background.interactive,m.border.interactive])),[d,m],[f]),v=(0,l.useFacetMap)(((e,t)=>e||!t),[],[g,E]);return r.createElement(Tm.Maybe,{narrationText:n,isInteractive:"function"==typeof o,gamepadIndex:a.index,classNameFocused:kp,classNameDisabled:"d2c0ea83cecdb4ae0bbd",disabled:t,onClick:h,soundEffectPressed:null!=i?i:p.toggle},r.createElement("fast-div",{className:b},r.createElement(wp,{disabled:v}),r.createElement(Lp,{disabled:t}),r.createElement("fast-div",{style:{display:(0,l.useFacetMap)((e=>e?"flex":"none"),[],[f])},className:"d770548a03cd4c45cf3b"},r.createElement("fast-div",{style:{display:(0,l.useFacetMap)((e=>e?"flex":"none"),[],[g])}},r.createElement(ng,null)),r.createElement("fast-div",{style:{display:(0,l.useFacetMap)((e=>e?"none":"flex"),[],[g])}},r.createElement(og,null)))))}const cg=()=>{};function sg({gamepad:e,onChange:t=cg,value:a,title:n,description:o,disabled:i,small:c=!1,hintNarration:s,soundEffectPressed:u,wrapperRole:d="neutral"}){const m=wr(d),p=Tr(d),f=(0,l.useFacetWrap)(n),g=(0,l.useFacetWrap)(null!=o?o:""),E=(0,l.useFacetWrap)(a),h=(0,l.useFacetWrap)(i),b=(0,l.useFacetCallback)((e=>()=>t(!e)),[t],[E]),{t:v}=Fc("Checkbox"),y=(0,l.useFacetMap)(((e,t,a,n)=>[v(".elementType"),t,a,v(e?".labelChecked":".labelUnChecked"),n].filter((e=>e)).join(" . ")),[v],[E,f,g,(0,l.useFacetWrap)(null!=s?s:"")]),F=(0,l.useFacetWrap)(zr()("b483bc36c72906cad66b",m.background.base,{d6c489696ebd15bfc27b:c}));return r.createElement(Zn,{role:d},r.createElement(Tm,{className:F,inputLegend:v(".toggle"),gamepadIndex:e.index,onClick:b,disabled:h,narrationText:y,soundEffectPressed:null!=u?u:p.toggle,classNameFocused:kp},r.createElement(Lp,{role:d,effect:"bevel",left:!1,right:!1}),r.createElement(Nm,{size:2}),r.createElement("div",{className:"f23c35837ba49e5a930d"},r.createElement(ig,{value:E,narrationText:!1,disabled:h,gamepad:e}),r.createElement("div",{className:zr()("c19d596d70f31af84890")},r.createElement(zm,{type:"body",role:d,variant:(0,l.useFacetMap)((e=>e?"dimmer":void 0),[],[h])},f),Boolean(o)&&r.createElement("div",{className:zr()("bc4b19cac0a2ffbcb943")},r.createElement(zm,{type:"captionShort",role:d,variant:"dimmer"},g)))),r.createElement(Nm,{size:2})))}const ug=Xf,dg=a.p+"assets/magnifyingGlass-52f96e5f47f42e682a00.png";function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},mg.apply(null,arguments)}const pg=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("b88b4eda13565cc77eb0",t);return r.createElement(Qp,mg({},a,{className:n,src:dg,imageRendering:"pixelated"}))},fg=(0,r.createContext)(null),gg=(fg.Provider,{textFieldWrapper:"a89270b9f3281b5d91a5",textField:"abe919f17fb78dc5e81a",textFieldWrapperShadow:"e53bfb9be15fee4b394f",textFieldBrowserOnly:"dd154ccc09fdbff9d44e",textFieldType:"f8ff4ced1d6da7eeb6f7",textFieldPlaceholder:"e128132ae5572aec6aeb",textFieldTextArea:"a58305b66fa904cdeb8f",disabled:"ca42d14eb4bf862989a1",placeholderAdjustedWithIcon:"e36c115516d838ca9a35",textFieldContentWrapper:"c0d59d992b2c24e8507d",textFieldIcon:"f1d541e90be456c2494a",textFieldClearInteractive:"a62088682ab27300c266"});let Eg;!function(e){e[e.MagnifyingGlass=0]="MagnifyingGlass"}(Eg||(Eg={}));const hg=e=>(Eg.MagnifyingGlass,r.createElement(pg,null));function bg(e){const{gamepadAlias:t,value:a,disabled:n=!1,label:o,className:i,maxLength:c,narrationText:s,onBlur:u,onFocus:d,onHover:m,onChange:p,onSelectedChange:f,placeholder:g="",rows:E=1,disableBlurOnDeselect:h,onTab:b,isNumber:v,placeholderIcon:y,showClearOptionWhenValueExists:F,onClear:S,hasShadow:C=!0,role:M="neutral80"}=e,{t:w}=Fc("BaseTextField"),[k,T]=(0,l.useFacetState)(!1),[P,I]=(0,l.useFacetState)(!1),x=(0,l.useFacetWrap)(a),A=(0,l.useFacetUnwrap)(n),{narrateText:O,preventNarrateText:N}=Hf(),R=(0,l.useFacetWrap)(dm()),L=(0,r.useContext)(fg),_=(0,l.useFacetWrap)(i),D=(0,l.useFacetMap)((e=>e?"number":"text"),[],[(0,l.useFacetWrap)(v)]),W=wr(M),B=Ir(),U=(0,r.useRef)(null),z=(0,r.useRef)(null),H=(0,r.useRef)(!1),V=(0,r.useRef)(!1);(0,l.useFacetEffect)(((e,t)=>{e&&!H.current?(H.current=!0,O(`${w(".selected")} . ${w(".hint",[`${t}`])}`)):e||(H.current=!1)}),[O,w],[k,(0,l.useFacetWrap)(null!=o?o:"")]);const G=(0,r.useContext)(Jm),$=(0,r.useCallback)((e=>{if(U.current&&document.activeElement===U.current){const t=vg(U.current.value,null!=e?e:L,w);N(),null!=t&&O(t),document.activeElement===U.current&&p&&p(U.current.value,null!=e?e:L)}}),[p,L,O,w,N]);(0,l.useFacetEffect)((e=>{if(null==U.current)return;const t=U.current.value!==e,a=U.current.value.length>0&&0===e.length;(t||a)&&(U.current.value=e)}),[A],[x]);const K=(0,r.useCallback)((()=>{U.current&&document.activeElement===U.current&&b&&b()}),[b]),Y=(0,r.useCallback)((e=>{I(e),f&&f(e),h||e||!U.current||U.current.blur()}),[I,f,h]),X=(0,r.useCallback)((e=>{if(U.current){if(T(!1),null!=u){const e=(e="")=>{U.current&&(U.current.value=e,null!=p&&p(e,null!=L?L:{addedChars:"",removedChars:"",invalidChars:"",index:-1}))};u(U.current.value,e)}Boolean(e)?Y(!0):Y(!1)}}),[u,T,Y,p,L]),q=(0,r.useCallback)((()=>{U.current&&document.activeElement===U.current&&(U.current.blur(),X(!0))}),[X]),Q=(0,r.useCallback)((()=>{U.current&&document.activeElement===U.current&&q()}),[q]);(0,r.useEffect)((()=>{if(!G)return;const e=[G.changedCB($),G.tabbedCB(K),G.submittedCB(Q),G.dismissedCB(q)];return()=>{e.forEach((e=>e()))}}),[G,$,q,K,Q]);const Z=(0,r.useCallback)((()=>{U.current&&U.current.focus()}),[]),J=(0,l.useFacetMap)(((e,t,a)=>{const n=t&&t.focused||e;return zr()(gg.textField,gg.textFieldType,W.border.interactive,W.text.interactive,W.caret.base,a,{[gg.textFieldBrowserOnly]:!1,[gg.textFieldFocused]:n,[Jn.selected]:n,[gg.disabled]:A,[gg.textFieldTextArea]:E>1})}),[A,E,W],[k,R,_]),ee=(0,l.useFacetMap)(((e,t,a)=>zr()({[kp]:a&&a.focused||t&&!e})),[],[k,P,R]),te=(0,r.useCallback)((()=>{T(!0),d&&d(),Y(!0)}),[d,T,Y]),ae=(0,l.useFacetMap)((e=>({button:j.B,inputLegend:w(".deselect"),disabled:!e})),[w],[k]),ne=(0,l.useFacetMap)((e=>null!=e&&""!==e),[],[x]),re=(0,l.useFacetMap)(((e,t)=>null!=e&&""!==e||t?"none":"flex"),[],[x,k]),le=r.createElement("fast-div",{className:zr()(gg.textFieldType,gg.textFieldPlaceholder,W.text.interactive,B.dimmest,{[gg.placeholderAdjustedWithIcon]:null!=y}),style:{display:re}},null!=y?r.createElement("div",{className:gg.textFieldContentWrapper},r.createElement("div",{className:gg.textFieldIcon},hg()),r.createElement(xm,null,g)):r.createElement(xm,null,g)),oe=E>1?r.createElement("fast-textarea",{ref:U,rows:E,className:J,maxLength:c,onFocus:te,onBlur:()=>{!1===V.current&&X(!1)}}):r.createElement("fast-input",{ref:U,type:D,className:J,maxLength:c,onFocus:te,onBlur:()=>{!1===V.current&&X(!1)}});return r.createElement(Yp,{containerRef:z,shouldBindFocus:k},r.createElement("div",{className:gg.textFieldWrapper,ref:z},r.createElement(ug,{options:ae,onClick:()=>{U.current&&document.activeElement===U.current&&(U.current.blur(),X(!0))}}),A!==l.NO_VALUE&&A?r.createElement(Tm,{className:zr()(gg.textFieldWrapper,W.background.interactive,{[gg.disabled]:A}),"data-testid":e["data-testid"],key:"disabled",narrationText:s,inputLegend:!1,disabled:!0,onFocusChanged:Y,onClick:Z,gamepadAlias:t},r.createElement("div",{className:zr()(C?W.shadow.interactive:void 0,{[gg.textFieldWrapperShadow]:C})}),le,r.createElement("fast-div",{className:J},r.createElement(xm,null,x))):r.createElement(Tm,{key:"enabled",className:zr()(gg.textFieldWrapper,W.background.base,W.background.disable),"data-testid":e["data-testid"],narrationText:s,inputLegend:w(".select"),onFocusChanged:Y,classNameFocused:ee,onClick:Z,gamepadAlias:t,onHoverChanged:m,onPressChanged:e=>{V.current=!!e}},r.createElement("div",{className:zr()(C?W.shadow.interactive:void 0,{[gg.textFieldWrapperShadow]:C})}),le,oe,r.createElement(wp,{role:M}),F&&r.createElement(l.Mount,{when:ne},r.createElement(Tm,{className:gg.textFieldClearInteractive,narrationText:!1,inputLegend:"",onClick:()=>null!=S&&S()},r.createElement(of,null))))))}const vg=(e,t,a)=>{const n=t.addedChars.split("").join(" "),r=t.removedChars.split("").join(" "),l=t.invalidChars.split("").join(" "),o=""!==l?` ${l} ${a(".invalidNarration")}`:"",i=0!==e.length?` . . ${e}`:"";return""!==n?""!==r?`${r} ${a(".replacedNarration")} ${n}${o}${i}`:`${n} ${a(".addedNarration")}${o}${i}`:""!==r?`${r} ${a(".removedNarration")}${i}`:null};function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},yg.apply(null,arguments)}function Fg(e){let{children:t,isTransparent:a,compact:n=!1,focusable:o=!1,narrationText:i=!1,inputLegend:c=!1,shouldDisplayFocus:s=!0,onClick:u,role:d="neutral",disabled:m,border:p=!1,indented:f=!1,"data-testid":g}=e,E=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["children","isTransparent","compact","focusable","narrationText","inputLegend","shouldDisplayFocus","onClick","role","disabled","border","indented","data-testid"]);const h=(0,l.useFacetWrap)(o),b=(0,l.useFacetWrap)(i),v=(0,l.useFacetWrap)(m),{background:y,border:F}=wr(d),S=Pr("panel",d),C=null!=S.main.base,M=(0,l.useFacetWrap)(a),w=(0,l.useFacetMap)((e=>zr()("b9a5bc43d761ce775811",{b00ed8278fa6db4f0ca5:e,e8e0efcb8b8262fc05c7:n,b3bb545604df6673122d:p,e934527bca2094c1a1ef:f,[`${F.base}`]:p||f},y.base,S.main.base,S.main.hover)),[n,y,S,F,p,f],[M]),k=(0,l.useFacetMap)((e=>zr()(e,kp)),[],[w]),T=r.createElement(Zn,{role:d},!n&&!C&&!f&&r.createElement(Lp,{interactive:!1,effect:"bevel",left:!1,right:!1}),!n&&r.createElement(Nm,{size:3}),t,!n&&r.createElement(Nm,{size:3})),P=(0,l.useFacetMap)(((e,t,a)=>null!=u&&!0!==a||!0===e&&null!=t),[u],[h,b,v]),I=(0,l.useFacetMap)((e=>!e),[],[(0,l.useFacetWrap)(s)]),x=(0,l.useFacetMap)((e=>0==e?"":e),[],[b]);return r.createElement(Zf,{text:x},r.createElement(Tm.Maybe,yg({"data-testid":g,isInteractive:P,className:w,classNameFocused:k,narrationText:!1,inputLegend:c,onClick:null!=u?u:Sg},E),T,r.createElement(wp,{className:"ab1f99cee76692a4e70a",interactive:!1,disabled:I,role:d})))}function Sg(){}function Cg({children:e,disabled:t,role:a="inherit",className:n}){const{text:o}=wr(a),i=xr(),c=Ir(),s=(0,l.useFacetWrap)(e),u=(0,l.useFacetWrap)(t),d=(0,l.useFacetWrap)(n),m=(0,l.useFacetMap)(((e,t)=>zr()("ce8c4be1ddc9476d017f",o.base,{[i.disabled]:e,[c.dimmer]:e},t)),[i,o,c],[u,d]);return r.createElement("fast-span",{className:m},r.createElement("fast-text",{text:s}))}const Mg=({children:e,disabled:t,role:a="inherit"})=>{const{text:n}=wr(a),o=Ir(),i=xr(),c=(0,l.useFacetWrap)(e),s=(0,l.useFacetWrap)(t),u=(0,l.useFacetMap)((e=>zr()("d0a4b3633729acae2e4d",n.base,o.dimmer,{[i.disabled]:e})),[i,n,o],[s]);return r.createElement("fast-div",{className:u},r.createElement("fast-text",{text:c}))};function wg({disabled:e,label:t,description:a,children:n,focusGridIndex:o,transparent:i,disabledNarrationText:c}){const s=dn(),u=(0,l.useFacetMap)((e=>e&&s),[s],[e]),d=(0,l.useFacetMap)(((e,t)=>e&&t?t:""),[],[e,(0,l.useFacetWrap)(null!=c?c:"")]);return r.createElement(Fg,{focusable:u,focusGridIndex:o,isTransparent:i,narrationText:d},r.createElement(Cg,{disabled:e},t),r.createElement(Nm,{size:1}),n,r.createElement(Nm,{size:1}),r.createElement(Mg,{disabled:e},a))}const kg={labelContainer:"edd18a6c5d3a0b4b3fef",container:"ceffc043dc1e3017c109",focused:"fdf1118a1f5447938a11",elevated:"eda16dccc59b819e5216",elevatedAndPressed:"d82e5d78a22cf3c330e3",image:"fcfb8a0556885f267e05",imageWithChildren:"b1d2ed7077a067dbb326"},Tg={box:"f788ea777bcda202844a",elevated:"a1dc0e7849913d1f87a0",elevatedAndPressed:"d0af48e73c5124b65356",boxWrapper:"a2bfd53fb1c3b9ec3883",horizontal:"b16025ad1315984b6f1c",raised:"e02375698e7784613ee0",boxBorder:"a0ff505383aeda2eaf50",shine:"fb2da9d57eb02ac7826c",shineText:"bf9b74e7dcdd85ac9aa8",bottomOffset:"af8186092a5fd8ba51fb",borderMargin:"b705ea7427bac875f359"};function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Pg.apply(null,arguments)}function Ig(e){const t=(0,r.useRef)(e);t.current=e;const a=zr()(Tg.box,Tg.boxBorder,null!=t.current.className?t.current.className:void 0),n=zr()(kp,null!=t.current.classNameFocused?t.current.classNameFocused:void 0),l=zr()(null!=t.current.classNameHovered?t.current.classNameHovered:void 0),o=zr()(null!=t.current.classNamePressed?t.current.classNamePressed:void 0);return r.createElement(Tm,Pg({autofocus:t.current.autofocus,disabled:t.current.disabled,disableScrollIntoView:t.current.disableScrollIntoView,className:a,"data-testid":t.current["data-testid"],classNameFocused:n,classNameHovered:l,classNamePressed:o,classNameDisabled:t.current.classNameDisabled,delayedClick:t.current.delayedClick,gamepadAlias:t.current.gamepadAlias,gamepadIndex:t.current.gamepadIndex,focusGridIndex:t.current.focusGridIndex,inputLegend:t.current.inputLegend,innerRef:t.current.innerRef,onClick:t.current.onClick,onFocusChanged:t.current.onFocusChanged,onHoverChanged:t.current.onHoverChanged,onPressChanged:t.current.onPressChanged,soundEffectHovered:t.current.soundEffectHovered,soundEffectFocused:t.current.soundEffectFocused,soundEffectPressed:t.current.soundEffectPressed,pressDuration:t.current.pressDuration,tooltip:t.current.tooltip},"narrationText"in t.current?{narrationText:t.current.narrationText}:{getNarrationText:t.current.getNarrationText}),e.children)}const xg=({borderTexture:e,variant:t,isDisabledFacet:a})=>null!=e?r.createElement(Cp,{className:e,withoutBorders:!0,hasTexture:!0,role:t}):r.createElement(wp,{role:t,disabled:a});function Ag(e){var t,a,n,o,i,c,s,u;const d=(0,r.useRef)(e);d.current=e;const m=(0,r.useRef)(null),p=null!==(t=d.current.classNameElevated)&&void 0!==t?t:Tg.elevated,{shadow:f,background:g,text:E,border:h}=wr(d.current.variant),b=Tr(d.current.variant),v=Pr("pressable",d.current.variant),y=v.main.interactive,F=null!=y,S=v.border.interactive,C=zr()({[null!==(a=d.current.classNameElevatedAndPressed)&&void 0!==a?a:Tg.elevatedAndPressed]:!0!==d.current.shouldNotDepressWhenPressed&&!1===F}),M=zr()(Tg.boxWrapper,{[Tg.horizontal]:d.current.horizontal}),w=zr()(E.interactive,y,{[p]:d.current.isElevated&&!1===F,[Tg.horizontal]:d.current.horizontal,[null!==(n=f.interactive)&&void 0!==n?n:""]:!1===F,[null!==(o=h.interactive)&&void 0!==o?o:""]:null==S,[Tg.borderMargin]:null!=S},d.current.containerClassName),k=zr()(Tg.shine,Tg.shineBackground,Tg.shineText,d.current.className,F?void 0:g.interactive),T=zr()(kp,d.current.classNameFocused),P=dn(),I=(0,l.useFacetWrap)(e.disabled),x=(0,l.useFacetWrap)("narrationText"in e?e.narrationText:"function"==typeof e.getNarrationText),A=(0,l.useFacetMap)((e=>!1===e),[],[x]),O=(0,l.useFacetMap)(((e,t)=>!!e&&!t&&P),[P],[I,A]),N=d.current.focusStateOnElevatedFace?r.createElement("div",{className:Tg.bottomOffset},r.createElement(xg,{borderTexture:S,variant:d.current.variant})):r.createElement(xg,{borderTexture:S,variant:d.current.variant});return r.createElement(Ig,Pg({autofocus:d.current.autofocus,disabled:d.current.disabled,disableScrollIntoView:d.current.disableScrollIntoView,className:w,classNameFocused:T,classNameHovered:d.current.classNameHovered,"data-testid":d.current["data-testid"],classNamePressed:d.current.isElevated?C:void 0,delayedClick:d.current.delayedClick,gamepadAlias:d.current.gamepadAlias,gamepadIndex:d.current.gamepadIndex,focusGridIndex:d.current.focusGridIndex,innerRef:m,inputLegend:d.current.inputLegend,onClick:d.current.onClick,onFocusChanged:d.current.onFocusChanged,onHoverChanged:d.current.onHoverChanged,soundEffectHovered:null!==(i=d.current.soundEffectHovered)&&void 0!==i?i:b.hover,soundEffectFocused:null!==(c=d.current.soundEffectFocused)&&void 0!==c?c:b.focus,soundEffectPressed:null!==(s=d.current.soundEffectPressed)&&void 0!==s?s:b.press,pressDuration:d.current.pressDuration,tooltip:d.current.tooltip},"narrationText"in d.current?{narrationText:d.current.narrationText}:{getNarrationText:d.current.getNarrationText}),r.createElement(l.Mount,{when:O},r.createElement(Tm,Pg({classNameFocused:kp,className:M,inputLegend:!1,tooltip:d.current.tooltip},"narrationText"in d.current?{narrationText:d.current.narrationText}:{getNarrationText:d.current.getNarrationText}),N)),N,r.createElement("div",{className:k,style:null!=d.current.height?{height:`${d.current.height}rem`}:void 0},r.createElement(Lp,Pg({effect:d.current.reflection,disabled:F||d.current.disabled,role:d.current.variant},null!==(u=d.current.reflectionConfig)&&void 0!==u?u:{})),r.createElement("div",{className:zr()(Tg.raised,Tg.shine)},e.children)))}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Og.apply(null,arguments)}function Ng(e){let{imageSource:t,icon:a}=e,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["imageSource","icon"]);const o=(0,l.useFacetWrap)(t),i=(0,l.useFacetWrap)(a);return r.createElement(r.Fragment,null,r.createElement(l.With,{data:o},(e=>r.createElement(Qp,Og({imageRendering:"pixelated"},n,{src:e})))),r.createElement(l.With,{data:i},(e=>{const t=(a=e,e=>{const t=(0,l.useFacetUnwrap)(a);return t===l.NO_VALUE?null:r.createElement(t,e)});var a;return r.createElement(t,n)})))}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Rg.apply(null,arguments)}const Lg=()=>{},_g=(e,t=!1)=>{switch(e){case"primary":case"secondary":return"secondaryButton";case"destructive":return"destructiveButton";default:return t?"secondaryButton":"primaryButton"}},Dg=(e="secondary")=>"hero"!==e?e:"primary",Wg=e=>{const{children:t,variant:a="secondary",onClick:n=Lg,narrationPrefix:o="",narrationSuffix:i="",disabled:c,soundEffectPressed:s,soundEffectHovered:u,soundEffectFocused:d,delayedClick:m,horizontal:p,isElevated:f=!0,autofocus:g,gamepadIndex:E=0,gamepadAlias:h,disableScrollIntoView:b,inputLegend:v,onFocusChanged:y,tooltip:F}=e,{t:S}=Fc("Button"),C=(0,l.useFacetMap)(((e,t)=>`${e} . ${S(".button")} . ${t}`),[S],[(0,l.useFacetWrap)(o),(0,l.useFacetWrap)(i)]);return r.createElement(Ag,{isElevated:f,delayedClick:m,narrationText:C,className:kg.container,"data-testid":e["data-testid"],classNameHovered:kg.hovered,classNameFocused:kg.focused,classNamePressed:kg.pressed,classNameElevated:kg.elevated,classNameElevatedAndPressed:kg.elevatedAndPressed,disabled:c,gamepadIndex:E,inputLegend:v,autofocus:g,gamepadAlias:h,disableScrollIntoView:b,onClick:n,soundEffectPressed:s,soundEffectHovered:u,soundEffectFocused:d,horizontal:p,variant:Dg(a),onFocusChanged:y,tooltip:F},t)},Bg=e=>{var t,a;const{children:n,buttonVariant:l="secondary",typeVariant:o,Icon:i,imgSrc:c,linebreak:s=!1,disabledTextOverride:u,role:d="inherit",hasShadow:m,disabled:p}=e,f=null!=n,g=Pr("button",d),E=null!=(null===(t=g.text)||void 0===t?void 0:t.interactive);return r.createElement("fast-div",{className:kg.labelContainer},r.createElement(Zn,{role:d},r.createElement(Ng,{icon:i,imageSource:c,className:f?kg.imageWithChildren:kg.image,disabled:p})),f&&r.createElement(zm,{align:s?"center":void 0,role:d,type:_g(l,E),variant:o,className:null===(a=g.text)||void 0===a?void 0:a.interactive,shadow:m,children:s?null!=u?u:n:r.createElement(xm,null,null!=u?u:n),interactive:!0}))},Ug=e=>{let{children:t,imgSrc:a,Icon:n,linebreak:o=!1,disabledTextOverride:i,disabled:c,variant:s="secondary",narrationPrefix:u}=e,d=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["children","imgSrc","Icon","linebreak","disabledTextOverride","disabled","variant","narrationPrefix"]);const m=(0,l.useFacetWrap)(c),p=(0,l.useFacetMap)((e=>"hero"===s&&!e),[s],[m]);return r.createElement(Wg,Rg({disabled:c,variant:s,narrationPrefix:null!=u?u:t},d),r.createElement(Bg,{buttonVariant:s,imgSrc:a,Icon:n,linebreak:o,disabledTextOverride:i,disabled:c,hasShadow:p,role:Dg(s)},t))};let zg;!function(e){e[e.HORIZONTAL_SHAKE=0]="HORIZONTAL_SHAKE"}(zg||(zg={}));const Hg={[zg.HORIZONTAL_SHAKE]:{className:"feb4b4d6efff64a2713d",duration:200}};function jg(e=zg.HORIZONTAL_SHAKE){const[t,a]=(0,l.useFacetState)(""),n=(0,r.useRef)(),o=(0,r.useCallback)((()=>{const t=Hg[e];a(t.className),n.current=setTimeout((()=>{a("")}),t.duration)}),[e,a]);return(0,r.useEffect)((()=>()=>clearTimeout(n.current)),[]),[o,t]}let Vg;!function(e){e[e.VALID=0]="VALID",e[e.INVALID=1]="INVALID"}(Vg||(Vg={}));const Gg=(0,l.createStaticFacet)("");function $g(e,t,a,n,r,o,i=Gg){return(0,l.useFacetMap)(((t,a,n,r,l)=>""!=r?r:[t,e(".narrationComponentType"),e(".disabled"),a||null!=o&&o||e(".empty"),n,l].filter((e=>null!=e)).join(" . ")),[e,o],[t,a,n,r,i])}function Kg(e,t,a,n,r,o,i=Gg){return(0,l.useFacetMap)(((t,a,n,r,l)=>""!=r?r:[t,e(".narrationComponentType"),a||null!=o&&o||e(".empty"),n,l].filter((e=>null!=e&&""!=e)).join(" . ")),[e,o],[t,a,n,r,i])}const Yg=()=>{},Xg=()=>{};function qg({gamepadAlias:e,value:t,disabled:a=!1,maxLength:n,onChange:o=Xg,onBlur:i,placeholder:c,description:s="",narrationOverride:u="",disabledNarrationOverride:d="",label:m,rows:p=1,focusGridIndex:f,disabledNarrationSuffix:g,isNumber:E,transparent:h,onKeyDown:b,onKeyUp:v,"data-testid":y}){const{t:F}=Fc("TextField"),S=(0,l.useFacetWrap)(t),C=(0,l.useFacetWrap)(u),M=(0,l.useFacetWrap)(d),w=(0,l.useFacetWrap)(null!=g?g:""),k=(0,l.useFacetWrap)(s),T=(0,l.useFacetWrap)(m),P=(0,l.useFacetWrap)(a),I=(0,l.useFacetWrap)(h),[x,A]=jg(zg.HORIZONTAL_SHAKE),O=Kg(F,T,S,k,C,c),N=$g(F,T,S,k,M,c,w),R=(0,r.useCallback)(((e,t)=>{null!=i&&i(e,t)===Vg.INVALID&&x()}),[i,x]);return r.createElement(wg,{disabled:P,label:T,focusGridIndex:f,description:k,transparent:I,disabledNarrationText:N},r.createElement(bg,{className:A,placeholder:c,disabled:a,label:T,gamepadAlias:e,maxLength:n,narrationText:O,value:t,onChange:o,rows:p,onBlur:R,isNumber:E,shouldBlurOnEnter:!0,shouldBlurOnEscape:!0,onKeyDown:b,onKeyUp:v,"data-testid":y}))}qg.WithButton=function({gamepadAlias:e,value:t,disabled:a=!1,label:n,maxLength:o,onChange:i=Yg,onBlur:c,placeholder:s,description:u="",narrationOverride:d="",disabledNarrationOverride:m="",rows:p=1,focusGridIndex:f,buttonNarrationHint:g,disabledNarrationSuffix:E,isNumber:h,textDisabled:b=!1,buttonText:v,buttonInputLegend:y="",buttonDisabled:F=!1,buttonOnClick:S=Yg,soundEffectButtonPressed:C,buttonVariant:M="secondary",buttonDisabledNarrationHint:w="","data-testid":k}){const{t:T}=Fc("TextField"),{t:P}=Fc("TextFieldWithButton"),I=(0,l.useFacetWrap)(t),x=(0,l.useFacetWrap)(d),A=(0,l.useFacetWrap)(m),O=(0,l.useFacetWrap)(null!=E?E:""),N=(0,l.useFacetWrap)(n),R=(0,l.useFacetWrap)(a),L=(0,l.useFacetWrap)(u),_=(0,l.useFacetMap)((e=>`${e} . ${P(".navigationHint")}`),[P],[L]),D=(0,l.useFacetWrap)(b),W=(0,l.useFacetWrap)(F),B=(0,l.useFacetWrap)(w),U=(0,l.useFacetMap)(((e,t)=>e?t:""),[],[W,B]),[z,H]=jg(zg.HORIZONTAL_SHAKE),j=Kg(T,N,I,_,x,s,U),V=$g(T,N,I,_,A,s,O),G=(0,r.useCallback)(((e,t)=>{null!=c&&c(e,t)===Vg.INVALID&&z()}),[c,z]);return r.createElement(wg,{disabled:R,label:N,focusGridIndex:f,description:L,disabledNarrationText:V},r.createElement("div",{className:"faba1fd97ab8bd192937"},r.createElement("div",{className:"e17a439b8211de78184e"},r.createElement(bg,{className:H,placeholder:s,disabled:(0,l.useFacetMap)(((e,t)=>e||t),[],[D,R]),label:N,gamepadAlias:e,maxLength:o,narrationText:j,value:t,onChange:i,onBlur:G,isNumber:h,rows:p,shouldBlurOnEnter:!0,shouldBlurOnEscape:!0,"data-testid":k})),r.createElement(Nm,{size:2}),r.createElement("div",{className:"fd941bacc47184252757"},r.createElement(Ug,{gamepadIndex:1,inputLegend:y,disabled:(0,l.useFacetMap)(((e,t)=>e||t),[],[W,R]),onClick:S,soundEffectPressed:C,narrationSuffix:g,variant:M},v))))},qg.ValidationResult=Vg;const Qg="fac195f34f14cfea3122";function Zg({percentage:e,tall:t=!1,fillColor:a="#2e6be5",fillColorThresholds:n,fillComplement:o=!1}){const i=(0,l.useFacetWrap)(e),c=(0,l.useFacetWrap)(t);(e<0||e>1)&&console.warn("Percentage needs to be a valid number from 0 to 1");const s=(0,r.useMemo)((()=>null!=n?Object.keys(n).map((e=>e)).sort(((e,t)=>e>t?1:-1)):void 0),[n]),u=(0,l.useFacetMap)(((e,t)=>{if(null==s||null==n)return e;if(0===s.length)return console.warn("Empty thresholds object passed to ProgressBar."),e;for(let e=s.length;e>=0;e--)if(t>=s[e])return n[s[e]];return e}),[n,s],[(0,l.useFacetWrap)(a),i]),d=(0,l.useFacetMap)((e=>"string"==typeof e?e:!0===e?"#ffb366":void 0),[],[(0,l.useFacetWrap)(o)]),m=!1===(0,l.useFacetUnwrap)(o);return r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>zr()("faaebecc5575e2689c18",{[Qg]:e})),[],[c]),style:{backgroundColor:d}},r.createElement(Lp,{effect:"bevel",thin:!0,reversed:m}),r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>zr()("a0e0648835365998d124",{[Qg]:e})),[],[c]),style:{width:(0,l.useFacetMap)((e=>`${Math.max(Math.min(Math.round(100*e),100),0)}%`),[],[i]),backgroundColor:u}},r.createElement(Lp,{effect:"bevel",thin:!0,right:!1})))}const Jg={InputLegend:"f87c6d96fce29c72e780",hidden:"db6551e5cddd84e76296"},eE="ae2cb63a450487413c6d",tE="b1119f0598339a1c426f",aE="d54a1359b15864be8020",nE="f7b926186c8f61e2da8f",rE="c4de96422b272f4c2ab9",lE="c2eb2d01cf55c81a9285",oE={[j.A]:zr()(eE,"afe67c02db7a57de48a4",tE),[j.B]:zr()(eE,"e0d84e276b0c71b387c3",tE),[j.X]:zr()(eE,"c8875e9fe08b2bb47e51",tE),[j.Y]:zr()(eE,"a713e4f64d6683c2609a",tE),[j.START]:zr()(eE,"a0308dd232b262e3d85e","a480981df030298f61ad"),[j.LEFT_TRIGGER]:zr()(eE,"b2ca8298f683abd13b7d",aE),[j.RIGHT_TRIGGER]:zr()(eE,"e163f0c40f69b6661008",aE),[j.LEFT_BUMPER]:zr()(eE,"e74f85e196f7a9482ff0",nE),[j.RIGHT_BUMPER]:zr()(eE,"ab3aaf81d8e22d6f07f8",nE),[j.LEFT]:zr()(eE,"e77a4384b58ed30f0157",rE),[j.RIGHT]:zr()(eE,"c0add7777e914bca8e09",rE),[j.UP]:zr()(eE,"e5bcd069f9225412b708",rE),[j.DOWN]:zr()(eE,"dc9f4cb44a635f349ad0",rE),[j.SELECT]:zr()(eE,"f088c322dbbfdae9e0a8","a966f37c8875d36ce2f8"),[j.L3]:zr()(eE,"a768905b8568f91751b6",lE),[j.R3]:zr()(eE,"caa5450a0ae056f67f23",lE),[j.LEFT_ANALOG_LEFT]:zr()(eE,"bf409ee525127b6fb0a7",lE),[j.RIGHT_ANALOG_LEFT]:zr()(eE,"b8b953a11bab33f7a3d8",lE),large:"b60d79cc06dfc0aa41a4",small:"ef4bcc8c0da5b09e6cb7"},iE="bbfeac4de1c9bc92bd1b",cE="addf03d8bfe270d0c78b",sE="c1b4aa2c4d40b8b27c7e",uE="d2aed7627f9d239911f1",dE="a5d126ea0403c3233ba5",mE="e859056b0a432d7e8fb8",pE={[j.A]:zr()(iE,"b1a4434b6e7870bc1210",cE),[j.B]:zr()(iE,"ead56b4dd880469962c0",cE),[j.X]:zr()(iE,"e35abb7ff949223142c7",cE),[j.Y]:zr()(iE,"bb99de3e78fdee0b40c8",cE),[j.START]:zr()(iE,"ab752c155af571abc4b7","ef02012a8dec2a729af8"),[j.LEFT_TRIGGER]:zr()(iE,"dc90529c346ab247b171",uE),[j.RIGHT_TRIGGER]:zr()(iE,"f78458019505c56292aa",uE),[j.LEFT_BUMPER]:zr()(iE,"ab30b9cb8a7102cf14ed",sE),[j.RIGHT_BUMPER]:zr()(iE,"f06e7c7509096864c2fe",sE),[j.LEFT]:zr()(iE,"e7e86e366f085a2b8e53",dE),[j.RIGHT]:zr()(iE,"f3c24723f4eaba209c5c",dE),[j.UP]:zr()(iE,"bc99da8cb377cbd51c9a",dE),[j.DOWN]:zr()(iE,"c4449719d30731ffdb94",dE),[j.SELECT]:zr()(iE,"d12e744a4d6c9fb98edf","f3d4db353ec9c332bf8a"),[j.L3]:zr()(iE,"a1cbf43b66b82d426300",mE),[j.R3]:zr()(iE,"e56ff4bc570300022afc",mE),[j.LEFT_ANALOG_LEFT]:zr()(iE,"f2d71f0e3f956e9fd7f5",mE),[j.RIGHT_ANALOG_LEFT]:zr()(iE,"db123b7575ff71977118",mE),large:"eb17c891259be4a17a72",small:"a7c248184bcfcdf21e0c"},fE="a18a681897d0917cbf59",gE="ae0410cb8d390bd8d37e",EE="c68b3d6dcd1227038d79",hE="d66b7beee38c4b2d7ef2",bE="e47886ff69e96decbe0b",vE="da5398f927d9e86c80c5",yE={[j.A]:zr()(fE,"dace5605f129b53aeb88",gE),[j.B]:zr()(fE,"afeee0aff6987ce54646",gE),[j.X]:zr()(fE,"eb9ef1f7458594b16027",gE),[j.Y]:zr()(fE,"ada70555f962dceafc1a",gE),[j.START]:zr()(fE,"a0e0d0e13a9055a9d463","d0cd8ead3e51c4467e93"),[j.LEFT_TRIGGER]:zr()(fE,"c3ec480c113fcdd0c3e4",hE),[j.RIGHT_TRIGGER]:zr()(fE,"f656676e990180af7826",hE),[j.LEFT_BUMPER]:zr()(fE,"b47066162b6813e54514",EE),[j.RIGHT_BUMPER]:zr()(fE,"f59ec2e0973fbac27fc4",EE),[j.LEFT]:zr()(fE,"e843b1df3452c1913504",bE),[j.RIGHT]:zr()(fE,"e3100b9f242e02d766c9",bE),[j.UP]:zr()(fE,"a69fe669c6ce663bb24d",bE),[j.DOWN]:zr()(fE,"ddff13639de975cc7f90",bE),[j.SELECT]:zr()(fE,"f6620c1f5b6c497c5720","fabacb42ded5932c417e"),[j.L3]:zr()(fE,"ab16bc4bc1455f167b91",vE),[j.R3]:zr()(fE,"a117988a82bd495ea12b",vE),[j.LEFT_ANALOG_LEFT]:zr()(fE,"f7b9445854cbfb072089",vE),[j.RIGHT_ANALOG_LEFT]:zr()(fE,"c32d04f44c87f78178c4",vE),large:"f14e1cfc56200c78ba38",small:"cfa4c5dff992584ff4aa"},FE="bf51c6fc184cc74276f2",SE="e782a105e336f6661239",CE="ebe621f1a993f4c05ed3",ME="f5d90d7ea58a0e7416db",wE="e242e308920227ee6839",kE="e00a679155f4b33f0bd2",TE={[j.A]:zr()(FE,"a9168fe814e1aba70bb5",SE),[j.B]:zr()(FE,"ea98e29807574275f9da",SE),[j.X]:zr()(FE,"ebf307c2c9f919004174",SE),[j.Y]:zr()(FE,"f41e6b560f54280bea82",SE),[j.START]:zr()(FE,"b29de75a7345cd747791","f4129dc529044d63f13c"),[j.LEFT_TRIGGER]:zr()(FE,"f1575aa232480af6ab2a",ME),[j.RIGHT_TRIGGER]:zr()(FE,"fceed6ee129743bc9e54",ME),[j.LEFT_BUMPER]:zr()(FE,"d284166ff79b5960d37b",CE),[j.RIGHT_BUMPER]:zr()(FE,"bb5f985684091594d4ad",CE),[j.LEFT]:zr()(FE,"e2d911521420ce990792",wE),[j.RIGHT]:zr()(FE,"b7851b0092cbac0a709b",wE),[j.UP]:zr()(FE,"df39cc800872cd0089c6",wE),[j.DOWN]:zr()(FE,"be86db6d0e0f17b322bc",wE),[j.SELECT]:zr()(FE,"f203b23e1fce0c4af72b","a66eac5d4880b0cecf61"),[j.L3]:zr()(FE,"e1e8d3839e4e09c832af",kE),[j.R3]:zr()(FE,"c088759cadc69f5a9042",kE),[j.LEFT_ANALOG_LEFT]:zr()(FE,"bb10d4d2ed3384c1b792",kE),[j.RIGHT_ANALOG_LEFT]:zr()(FE,"e11044bc2dc175439a5d",kE),large:"bb6292be841d69a1c434",small:"f549b12ef744006dead6"},PE="bb671acaebcaf8e58c8f",IE="c84d5bb13f95580ac710",xE="ee622392c4a08ff6cb36",AE={[fe.TAB]:zr()(PE,"c3c51ee0eea1e0edbf57",IE),[fe.ENTER]:zr()(PE,"da1555a2da7e683ba5d5",IE),[fe.SHIFT]:zr()(PE,"e7c908af30436d3b71a2",IE),[fe.ESCAPE]:zr()(PE,"a69ebd245d2792d0ad97",IE),[fe.SPACE]:zr()(PE,"d2cf3d58462f9198c6e6",IE),[fe.CTRL]:zr()(PE,"b16c0c9d3f7204b0d9ea",IE),[fe.F2]:zr()(PE,"aa51734d02d921de7ed1",IE),[fe.BRACKET_OPEN]:zr()(PE,"b92a989bab8231d84deb"),[fe.BRACKET_CLOSE]:zr()(PE,"a4c56bac03fc9d46062f"),[fe.UP]:zr()(PE,"fb9ca8cd810a74aa3d0e"),[fe.RIGHT]:zr()(PE,"f3d629f0a24391420f61"),[fe.DOWN]:zr()(PE,"ff04dcc0960fcdf62200"),[fe.LEFT]:zr()(PE,"e8e1363f58900a024653"),[fe.KEY_0]:zr()(PE,"db8484d6d19a603f1e08"),[fe.KEY_1]:zr()(PE,"e3e02e3319728d8ffc3a"),[fe.KEY_2]:zr()(PE,"b9c3e345c18abb178fc0"),[fe.KEY_3]:zr()(PE,"a69bedaa8e88af83ff57"),[fe.KEY_4]:zr()(PE,"cd48074726cd43cdc5ef"),[fe.KEY_5]:zr()(PE,"b78561f885ac9d23d6de"),[fe.KEY_6]:zr()(PE,"ff6a2c8dc25b4ecb2b79"),[fe.KEY_7]:zr()(PE,"e06297ca65eef6282748"),[fe.KEY_8]:zr()(PE,"e007ccc05546ae2557ad"),[fe.KEY_9]:zr()(PE,"a87813b5e784367874fb"),[fe.KEY_A]:zr()(PE,"b416ff57a71d65cc5373"),[fe.KEY_C]:zr()(PE,"b73ef51fe9bf0e8f559c"),[fe.KEY_D]:zr()(PE,"f55c8bd70b44305b1d31"),[fe.KEY_E]:zr()(PE,"b6954e7aea3a122c7cf7"),[fe.KEY_F]:zr()(PE,"abd07817c4b288ed9ef7"),[fe.KEY_M]:zr()(PE,"ebb6a6a6875278d9255a"),[fe.KEY_Q]:zr()(PE,"b5a7e312c99b8181db58"),[fe.KEY_R]:zr()(PE,"bdd452a110aad5cd1563"),[fe.KEY_S]:zr()(PE,"e949eb1e0bb50037d081"),[fe.KEY_T]:zr()(PE,"a0c859074eeb05b046f5"),[fe.KEY_V]:zr()(PE,"dc9542afab32c63c14fb"),[fe.KEY_W]:zr()(PE,"aebf011428db54b69b2b"),[fe.KEY_X]:zr()(PE,"e52b1bf3ad245102c4d3"),[fe.KEY_Y]:zr()(PE,"b43284602b61141717b0"),[fe.KEY_Z]:zr()(PE,"e869a8fce6c30856c86a"),[fe.MOUSE_MOVEMENT]:zr()(PE,"f6eca1a90020640b5e64",xE),[fe.MOUSE_BUTTON_LEFT]:zr()(PE,"a2790368fd2cfd4e5cb7",xE),[fe.MOUSE_BUTTON_MIDDLE]:zr()(PE,"fee10e76c2faeefd140f",xE),[fe.MOUSE_BUTTON_RIGHT]:zr()(PE,"ffb358d75a6f9c1e5c53",xE),[fe.MOUSE_WHEEL]:zr()(PE,"b721e2ce61ac4f68165f",xE),[-2]:"f869e79bbbf86a8225cc",[-3]:"e2ba1c875a4a43e77701"},OE=function({button:e,theme:t="light"}){const a=(0,r.useContext)(tt),n=(0,l.useFacetWrap)(e),o=(0,l.useFacetMap)(((e,a)=>{const n=(r=a)===Qe.XBOX?oE:r===Qe.PS4?pE:r===Qe.PS5?yE:r===Qe.NX_HANDHELD||r===Qe.NX_TV?TE:oE;var r;return n[e]?zr()(n[e],{[n.large]:"large"===t,[n.small]:"small"===t}):""}),[t],[n,a]);return r.createElement("fast-div",{className:o})},NE=({keyCode:e,theme:t="light"})=>{const a=(0,l.useFacetWrap)(e),n=(0,l.useFacetMap)((e=>null!=AE[e]?zr()(AE[e],{[AE[-2]]:"large"===t,[AE[-3]]:"small"===t}):"d65725f82a3c10c09527"),[t],[a]),o=(0,l.useFacetMap)((e=>null==AE[e]?String.fromCharCode(e):""),[],[a]);return r.createElement("fast-div",{className:n},r.createElement("fast-text",{text:o}))};function RE(e){const t=Pr("inputLegend","inherit"),{label:a,hidden:n=!1,onClick:o,onHoverChanged:i}=e,c=(0,l.useFacetMap)((e=>zr()("af6ad01c65ecda6576cd",t.inputHint.interactive,{bea4a7f60b16cd3e977e:e})),[t],[(0,l.useFacetWrap)(n)]),s=r.createElement(r.Fragment,null,r.createElement("div",{className:"f57ec2e97674c0e073c4"},"button"in e?r.createElement(OE,{button:e.button,theme:"light"}):r.createElement(NE,{keyCode:e.keyCode,theme:"light"})),r.createElement("div",{className:"e6a719a48509326538ef"}),r.createElement("fast-text",{text:a}));return o?r.createElement(Tm,{gamepadIndex:0,narrationText:a,inputLegend:a,onHoverChanged:i,onClick:o,className:c,classNameHovered:"dcb274811c2195fa6287",classNamePressed:"c88a1db8c444e2b461d6",nonFocusable:!0},s):r.createElement("fast-div",{className:c},s)}function LE({enableKeyboardInputLegend:e=!1,isClickable:t=!1,role:a="neutral100"}){const[n]=La(),o=Te();return r.createElement(Zn,{role:a},r.createElement(_E,{isClickable:t,visible:(0,l.useFacetMap)(((t,a,n)=>t&&!a&&!0===n.isKeyboardHintsEnabled&&!0===e),[e],[it(),n,o])}),r.createElement(DE,{isClickable:t,visible:(0,l.useFacetMap)(((e,t,a)=>e&&!t&&!0===a.isControllerHintsEnabled),[],[ot(),n,o])}))}function _E({isClickable:e,visible:t}){const a=xe(),n=(0,l.useFacetMap)((({swapABButtons:e})=>e),[],[a]),o=(0,l.useFacetMap)((({swapXYButtons:e})=>e),[],[a]),i=He(),c=Ge(),[s]=Fe(),u=(0,l.useFacetUnwrap)(s),d=u===l.NO_VALUE?he:u;return r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>e?Jg.InputLegend:Jg.hidden),[],[t])},r.createElement(LE.Wrapper,{left:r.createElement(RE,{keyCode:(0,l.useFacetMap)((e=>d[e?j.A:j.B][0]),[d],[n]),label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.B])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.B):void 0,hidden:(0,l.useFacetMap)((e=>null!=e[j.B]),[],[i])}),right:r.createElement(r.Fragment,null,r.createElement(RE,{keyCode:d[j.LEFT][0],label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.LEFT])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.LEFT):void 0,hidden:(0,l.useFacetMap)((e=>null!=e[j.LEFT]),[],[i])}),r.createElement(RE,{keyCode:d[j.RIGHT][0],label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.RIGHT])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.RIGHT):void 0,hidden:(0,l.useFacetMap)((e=>null!=e[j.RIGHT]),[],[i])}),r.createElement(RE,{keyCode:d[j.UP][0],label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.UP])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.UP):void 0,hidden:(0,l.useFacetMap)((e=>null!=e[j.UP]),[],[i])}),r.createElement(RE,{keyCode:d[j.DOWN][0],label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.DOWN])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.DOWN):void 0,hidden:(0,l.useFacetMap)((e=>null!=e[j.DOWN]),[],[i])}),r.createElement(RE,{keyCode:(0,l.useFacetMap)((e=>d[e?j.Y:j.X][0]),[d],[o]),label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.X])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.X):void 0,hidden:(0,l.useFacetMap)((e=>null!=e[j.X]),[],[i])}),r.createElement(RE,{keyCode:(0,l.useFacetMap)((e=>d[e?j.X:j.Y][0]),[d],[o]),label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.Y])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.Y):void 0,hidden:(0,l.useFacetMap)((e=>null!=e[j.Y]),[],[i])}),r.createElement(RE,{keyCode:d[j.START][0],label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.START])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.START):void 0,hidden:(0,l.useFacetMap)((e=>null!=e[j.START]),[],[i])}),r.createElement(RE,{keyCode:(0,l.useFacetMap)((e=>d[e?j.B:j.A][0]),[d],[n]),label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.A])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.A):void 0,hidden:(0,l.useFacetMap)((e=>null!=e[j.A]),[],[i])}))}))}function DE({isClickable:e,visible:t}){const a=xe(),n=(0,l.useFacetMap)((({swapABButtons:e})=>e),[],[a]),o=(0,l.useFacetMap)((({swapXYButtons:e})=>e),[],[a]),i=He(),c=Ge();return r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>e?Jg.InputLegend:Jg.hidden),[],[t])},r.createElement(LE.Wrapper,{left:r.createElement(RE,{button:(0,l.useFacetMap)((e=>e?j.A:j.B),[],[n]),label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.B])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.A):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.B]),[],[i])}),right:r.createElement(r.Fragment,null,r.createElement(RE,{button:j.LEFT,label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.LEFT])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.LEFT):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.LEFT]),[],[i])}),r.createElement(RE,{button:j.LEFT_TRIGGER,label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.LEFT_TRIGGER])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.LEFT_TRIGGER):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.LEFT_TRIGGER]),[],[i])}),r.createElement(RE,{button:j.RIGHT_TRIGGER,label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.RIGHT_TRIGGER])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.RIGHT_TRIGGER):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.RIGHT_TRIGGER]),[],[i])}),r.createElement(RE,{button:j.RIGHT,label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.RIGHT])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.RIGHT):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.RIGHT]),[],[i])}),r.createElement(RE,{button:j.UP,label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.UP])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.UP):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.UP]),[],[i])}),r.createElement(RE,{button:j.DOWN,label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.DOWN])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.DOWN):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.DOWN]),[],[i])}),r.createElement(RE,{button:(0,l.useFacetMap)((e=>e?j.Y:j.X),[],[o]),label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.X])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.X):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.X]),[],[i])}),r.createElement(RE,{button:(0,l.useFacetMap)((e=>e?j.X:j.Y),[],[o]),label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.Y])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.Y):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.Y]),[],[i])}),r.createElement(RE,{button:(0,l.useFacetMap)((e=>e?j.B:j.A),[],[n]),label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.A])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.A):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.A]),[],[i])}),r.createElement(RE,{button:j.START,label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.START])&&void 0!==t?t:""}),[],[i]),onClick:e?()=>null==c?void 0:c(j.START):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.START]),[],[i])}))}))}function WE(){return WE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},WE.apply(null,arguments)}LE.displayName="InputLegend",LE.Wrapper=function({safeZone:e,left:t,right:a,role:n="inherit"}){const l=wr(n),o=Pr("inputLegend",n).sideContainer,i=null!=o.interactive,c=Gl(),s=e||c;return r.createElement("div",{className:zr()("fe20a9ddb0a5f42e8d00",l.text.base),style:{height:`calc(4rem + ${s.bottom}px)`}},r.createElement("div",{className:zr()("e1d3f473452b9ff6bb90",i?void 0:l.background.base)}),r.createElement(Lp,{role:n,effect:"specular",thin:!0,left:!1,right:!1,bottom:!1}),r.createElement("div",{className:"ef62c8b87039fdf5a5f2",style:{height:"4rem",paddingRight:s.right+"px",paddingLeft:s.left+"px"}},null!=t?r.createElement("div",{className:zr()("df1f655856cb05503081",o.interactive)},t):null,null!=a?r.createElement("div",{className:zr()("e86ac9a6fa98c10c99c2",o.interactive)},a):null))},LE.Space=function({extraSpace:e,addSafeZone:t=!0}){const a=(0,l.useFacetMap)((e=>zr()(Jg.wrapper,{[Jg.hidden]:!e})),[],[ot()]),n=Gl(),o=(0,l.useFacetWrap)(t),i=(0,l.useFacetMap)((e=>e?`calc(4rem + ${n.bottom}px)`:"4rem"),[n],[o]);return r.createElement("fast-div",{className:a},r.createElement("fast-div",{style:{height:i}}),e)},LE.InputHint=RE,LE.Icon=({button:e})=>{const t=it(),a=(0,l.useFacetUnwrap)(t),n=function(e){const t=(0,l.useFacetWrap)(e),a=He(),n=it(),[r]=Fe(),o=xe(),i=(0,l.useFacetMap)(((e,t,a,n,{swapABButtons:r,swapXYButtons:l})=>{var o,i;const c=n;let s=e;r&&(s===j.A?s=j.B:s===j.B&&(s=j.A)),l&&(s===j.Y?s=j.X:s===j.X&&(s=j.Y));const u=a?c[s][0]:s;return{keyCode:null!=u?u:"",keyCodeGamepad:null!==(o=s)&&void 0!==o?o:"",keyCodeKeyboard:null!==(i=c[s][0])&&void 0!==i?i:"",inputLegend:t[e],isAvailable:e in t}}),[],[t,a,n,r,o]);return i}(e),o=(0,l.useFacetMap)((e=>e.keyCodeGamepad),[],[n]),i=(0,l.useFacetMap)((e=>e.keyCodeKeyboard),[],[n]),c=(0,l.useFacetMap)((e=>e.isAvailable),[],[n]),s=(0,l.useFacetUnwrap)(c),u=Te(),d=(0,l.useFacetUnwrap)(u);if(!1===s)return null;if(!0===a){if(d!==l.NO_VALUE&&d.isKeyboardHintsEnabled)return r.createElement(NE,{keyCode:i})}else if(d!==l.NO_VALUE&&d.isControllerHintsEnabled)return r.createElement(OE,{button:o});return null};const BE=e=>{e.stopPropagation()},UE=()=>{},zE=(0,r.createContext)({isModalVisible:(0,l.createFacet)({initialValue:!1}),onMount:()=>UE});function HE(e){const{onMount:t}=(0,r.useContext)(zE);(0,r.useEffect)((()=>t(e)),[t,e])}const jE=(0,r.createContext)({getId:()=>0,set:()=>{}}),VE=(0,r.createContext)((0,l.createFacet)({initialValue:""})),GE=(0,r.createContext)((0,l.createFacet)({initialValue:""}));function $E({children:e,defaultFocusAlias:t,overlay:a=!0,onOverlayClick:n,role:o="neutral",modalTypeNarrationHint:i}){const{t:c}=Fc("Modal"),s=(0,r.useRef)(0),[u,d]=(0,l.useFacetState)([]),m=wr(o),[p,f]=(0,l.useFacetState)(""),g=(0,l.useFacetMap)((e=>e.filter((e=>e.length>0)).slice(1).join(" . ")),[],[u]);(0,l.useFacetEffect)((e=>{const t=e.filter((e=>e.length>0)),a=[t[0],c(".narrationModalComponentType"),i,...t.slice(1)].filter(Boolean).join(" . ");f(a)}),[i,f,c],[u]);const E=(0,r.useRef)(null),h=(0,l.useFacetMemo)((e=>e[0]),[],[u]);HE();const b=a?$E.Overlay:r.Fragment,v=a?{onClick:n}:{};return r.createElement(Zn,{role:o},r.createElement(b,v,r.createElement(VE.Provider,{value:h},r.createElement(GE.Provider,{value:g},r.createElement(jE.Provider,{value:(0,r.useMemo)((()=>({getId:()=>s.current++,set:(e,t)=>d((a=>a===l.NO_VALUE?[]:(a[e]=!1===t?"":t,a)))})),[d])},r.createElement(Zf,{text:p},r.createElement("div",{ref:E,className:zr()("f6272c6625666f5e18ec",m.border.base),onClick:BE},r.createElement(Yp,{containerRef:E,shouldBindFocus:!0,delegateFocusByAlias:t,delegateFocusFromMemory:!0},e))))))))}const KE=(e,t=0)=>{const a=(0,r.useContext)(jE),[n,o]=(0,l.useFacetState)(l.NO_VALUE);(0,r.useEffect)((()=>{n.get()==l.NO_VALUE&&o(a.getId())}),[n,o,a]);const i=(0,r.useRef)();(0,l.useFacetEffect)(((e,n)=>{(null==i.current||Date.now()-i.current>t)&&(a.set(e,n),i.current=Date.now())}),[a,t],[n,(0,l.useFacetWrap)(e)])};let YE;!function(e){e.Ordered="ordered",e.Unordered="unordered"}(YE||(YE={}));const XE=({items:e,gamepadIndex:t,listType:a})=>{const n=(0,l.useFacetWrap)(e);return r.createElement(QE,{gamepadIndex:t},r.createElement(l.Map,{array:n},((e,t)=>r.createElement(qE,{items:n,item:e,index:t,listType:a}))))},qE=({items:e,item:t,index:a,listType:n=YE.Unordered})=>{const o=(0,l.useFacetMap)((e=>e.length-1!==a),[a],[e]);return r.createElement(r.Fragment,null,r.createElement(ZE,{gamepadIndex:a,text:t,listType:n}),r.createElement(l.Mount,{when:o},r.createElement(Nm,{size:2})))},QE=({children:e,gamepadIndex:t})=>!0===(0,l.useFacetUnwrap)(mf())?r.createElement(Qf,{options:{index:t}},e):r.createElement(r.Fragment,null,e),ZE=({gamepadIndex:e,text:t,listType:a})=>{const n=a===YE.Unordered?"•":`${e+1}.`,o=(0,l.useFacetMap)((e=>`${n} ${e}`),[n],[t]),i=mf(),c=a===YE.Unordered?t:o;return KE(c),r.createElement(Tm.Maybe,{isInteractive:i,gamepadIndex:e,narrationText:c,className:"cc67074b61afa6ba817d"},r.createElement(zm,{type:"captionLong",align:"left",indent:!0},o))};var JE;$E.Header=({children:e,onBack:t,onClose:a,titlebarGamepadAlias:n,closeButtonNarrationSuffix:o,hideCloseButton:i,role:c="neutral"})=>{var s,u;KE(e);const d=uf.Buttons.Close.useLocalization().t(".inputLegend"),m=uf.Buttons.Back.useLocalization().t(".inputLegend");i=(0,l.useFacetWrap)(null!==(s=i)&&void 0!==s&&s);const p=(0,l.useFacetMap)((e=>e?"c8b49e3f843a754077e1":""),[],[i]),f=(0,l.useFacetMap)((e=>({button:j.B,inputLegend:null!=t?m:d,disabled:!0===e||null==a})),[t,a,d,m],[i]),g=(0,l.useFacetMap)((e=>!e&&d),[d],[i]);return r.createElement(r.Fragment,null,r.createElement(qf,{options:f,onClick:null!==(u=null!=t?t:a)&&void 0!==u?u:UE}),r.createElement(uf,{role:c,gamepadAlias:n,left:t&&r.createElement(uf.Buttons.Back.Component,{onClick:t}),right:a&&r.createElement("fast-div",{className:p},r.createElement(uf.Buttons.Close.Component,{onClick:a,inputLegend:g,narrationSuffix:o,testId:"closeModalTestId"}))},r.createElement(zm,{type:"body"},r.createElement(xm,null,e))))},$E.Text=({image:e,children:t,gamepadIndex:a,narrationText:n,center:o=!1})=>{const i=mf(),c=(0,l.useFacetWrap)(o);KE(n);const s=(0,l.useFacetMap)((e=>zr()("a979bd3c3957d92da22e",{[Jf]:e})),[],[c]),u=(0,l.useFacetMap)((e=>e?"center":"left"),[],[c]);return r.createElement(Tm.Maybe,{isInteractive:i,gamepadIndex:a,narrationText:n,className:s,classNameFocused:kp},r.createElement(wp,{inset:!0}),null==e?null:r.createElement(r.Fragment,null,e,r.createElement(Nm,{size:4})),r.createElement("span",{className:"f33e5923ebb644a9860b"},r.createElement(zm,{type:"captionLong",align:u},t)))},$E.Paragraphs=({children:e,narrationText:t,spaceBetweenParagraphs:a=5,gamepadIndex:n,center:l})=>{const o=mf();KE(t);const i=e.filter(Boolean);return r.createElement(Tm.Maybe,{isInteractive:o,gamepadIndex:n,narrationText:t,className:"d77f42e504770364bdd4",classNameFocused:kp},r.createElement(wp,{inset:!0}),i.map(((e,t)=>r.createElement(r.Fragment,{key:t},r.createElement("div",{className:zr()("c87510d66e61cb89bdc2",{[Jf]:l})},e),null!=a&&t<i.length-1&&r.createElement(Nm,{size:a})))))},$E.List=XE,$E.OrderedList=({items:e,gamepadIndex:t})=>r.createElement(XE,{items:e,gamepadIndex:t,listType:YE.Ordered}),$E.Content=({children:e,gamepadAlias:t,scrollable:a=!0,role:n="neutral80",scrollbarBackgroundRole:l,scrollbarClassName:o,className:i})=>{const c=(0,r.useContext)(VE),s=(0,r.useContext)(GE),[u,d]=(0,r.useState)(!1),m=wr(n);return r.createElement(Zf,{text:c},r.createElement("div",{className:zr()(m.background.base,m.text.base,i,{c2ce0c4218f9a989e231:a})},a?r.createElement(jf,{gamepadIndex:-1,floating:!0,emptyFocusableGamepadAlias:t,emptyFocusableNarrationText:u?"":s,scrollbarBackgroundRole:l,scrollbarClassName:o,focusControlDisabled:!0},e,r.createElement(jf.SiblingState,{callback:d})):e))},$E.Buttons=({children:e,horizontal:t=!1,role:a="inherit",header:n})=>{const l=wr(a);return r.createElement(Xr,null,n,r.createElement("div",{className:zr()("cd856cd4ad1c21aa5992",l.background.base,{bb8893166da3e4d7f3dd:t})},r.createElement(Lp,{effect:"bevel",left:!1,right:!1}),e))},$E.Overlay=({onClick:e,children:t,role:a="inherit"})=>{const n=wr(a);return r.createElement("div",{className:zr()("d53c2a2f4574a8294e3a",n.overlay.base),onClick:e},r.createElement("div",{className:"fcc45c954c024f0f0edc"},t,r.createElement(LE.Space,null)))},$E.Progress=function({percentage:e}){const{t}=Fc("Modal"),a=(0,l.useFacetWrap)(e),n=(0,l.useFacetMap)((e=>t(".progressPercentage",[`${Math.round(100*e)}`])),[t],[a]);return KE(n,2e3),r.createElement("div",{className:eg},r.createElement(Zg,{percentage:a}),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionLong",align:"center"},n))},$E.InformativeProgress=function({percentage:e,label:t,narrationText:a}){const n=(0,l.useFacetWrap)(e),o=(0,l.useFacetWrap)(null!=t?t:""),i=(0,l.useFacetWrap)(null!=a?a:"");return KE(i,2e3),r.createElement("div",{className:eg},r.createElement(Zg,{percentage:n}),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionLong",align:"right"},o))},$E.Spinner=()=>r.createElement("div",{className:"b9b894b327fe147e736d"},r.createElement(zf,null)),$E.Checkbox=e=>{var t;return r.createElement(sg,WE({},e,{gamepad:{index:null!==(t=e.gamepadIndex)&&void 0!==t?t:0},small:!0}))},$E.TextField=e=>r.createElement(qg,WE({},e,{transparent:!0})),$E.FocusManager=function({children:e}){const[t,a]=(0,l.useFacetState)(!1),n=(0,r.useMemo)((()=>({isModalVisible:t,onMount:()=>(a(!0),()=>{a(!1)})})),[t,a]);return r.createElement(zE.Provider,{value:n},e)},$E.useIsAnyModalVisible=function(){return(0,r.useContext)(zE).isModalVisible},$E.useOnModalMount=HE,function(e){e[e.Undefined=0]="Undefined",e[e.Mouse=1]="Mouse",e[e.Touch=2]="Touch",e[e.GamePad=3]="GamePad",e[e.MotionController=4]="MotionController",e[e.Count=5]="Count"}(JE||(JE={})),new Map([[JE.Mouse,Xe.MOUSE],[JE.Touch,Xe.TOUCH],[JE.GamePad,Xe.GAMEPAD],[JE.MotionController,Xe.MOTION]]);var eh=a(78136);const th=({textures:e,chunkSize:t=5})=>{const[a,n]=(0,l.useFacetState)("");return(0,r.useEffect)((()=>{const a=(0,eh.chunk)(e,t);let r;return function e(){a.length&&(n((e=>{var t;return(e!==l.NO_VALUE&&e.length>0?e+", ":"")+(null===(t=a.shift())||void 0===t?void 0:t.join(", "))})),r=window.requestAnimationFrame(e))}(),()=>{window.cancelAnimationFrame(r),n("")}}),[e,t,n]),r.createElement("fast-div",{id:"preload-textures",style:{width:0,height:0,backgroundImage:a}})},ah="#d0d1d4";var nh=a(42255);const rh=e=>1===e.length?[e[0],e[0],e[0],e[0]]:2===e.length?[e[0],e[1],e[0],e[1]]:3===e.length?[e[0],e[1],e[2],e[1]]:4===e.length?[e[0],e[1],e[2],e[3]]:(console.warn(`Failed to parse shorthand: ${JSON.stringify(e)}`),[0,0,0,0]),lh=({src:e,slice:t,scale:a=1,outset:n=[0],width:r})=>{const l=rh(t),o=r?rh(r):l,i=rh(n),c=e=>0===e?0:e/a/10+"rem";return{borderImageSource:`url("${e}")`,borderImageSlice:`${l.join(" ")} fill`,borderTopWidth:c(o[0]),borderRightWidth:c(o[1]),borderBottomWidth:c(o[2]),borderLeftWidth:c(o[3]),borderImageWidth:l.map(c).join(" "),borderImageOutset:i.map(c).join(" ")}},oh=e=>`--${(0,nh.camelCase)(e)}`,ih=(e,t)=>`${oh(e)}: ${t};`,ch=(e,t=[])=>{var a;const n=null===(a=(0,nh.last)(t))||void 0===a?void 0:a.startsWith("_"),r="$modes"===(0,nh.last)(t),l=t=>Object.entries(e).reduce(((e,[a,n])=>(0,nh.merge)(e,ch(n,[...t,a]))),{});if(n)return l(t.slice(0,-1));if(r){const a=t.slice(0,-1);return Object.entries(e).reduce(((e,[t,n])=>(e[t]=(0,nh.merge)(e[t],ch(n,a)),e)),{})}return(0,nh.isPlainObject)(e)||(0,nh.isArray)(e)?l(t):{[t.join(".")]:e}},sh=e=>"string"==typeof e&&null!=e.match(/url\(["']?(.+\.png)["']?\)/),uh=a.p+"assets/pressable_neutral_default-e45d49d1a163c007150f.png",dh=a.p+"assets/pressable_neutral_hovered-230f9ad5ccca66468c38.png",mh=a.p+"assets/pressable_neutral_focused-c5a2eaeda7402012316c.png",ph=a.p+"assets/pressable_neutral_pressed-aad8b64fc0f155676218.png",fh=a.p+"assets/pressable_elevated_neutral_default-48cdf8535bfd48b47c2a.png",gh=a.p+"assets/pressable_elevated_neutral_hovered-dcbd873ad9e83d24dc7a.png",Eh=a.p+"assets/pressable_elevated_neutral_focused-b28fc482cadde858740c.png",hh=a.p+"assets/pressable_primary_default-c4a5a4c1b74b2ff70122.png",bh=a.p+"assets/pressable_primary_hovered-1c8d9125d478e583f435.png",vh=a.p+"assets/pressable_primary_focused-84b112b857049e079b29.png",yh=a.p+"assets/pressable_primary_pressed-13b0f01c6c00e07322ca.png",Fh=a.p+"assets/pressable_elevated_primary_default-7a6e2edf98a626b182c2.png",Sh=a.p+"assets/pressable_elevated_primary_hovered-bcb21ab092446cbcecb6.png",Ch=a.p+"assets/pressable_elevated_primary_focused-cc7df0bf833f92bb08dd.png",Mh=a.p+"assets/pressable_secondary_default-cc6424da5b7759ebfbf5.png",wh=a.p+"assets/pressable_secondary_hovered-a18c14fc21f49a22efbf.png",kh=a.p+"assets/pressable_secondary_focused-932363b4cf5981b70bc2.png",Th=a.p+"assets/pressable_secondary_pressed-87bba1faba891ebfa7fc.png",Ph=a.p+"assets/pressable_elevated_secondary_default-0aacffbfa726a8184fc5.png",Ih=a.p+"assets/pressable_elevated_secondary_hovered-758970b376da9eb299da.png",xh=a.p+"assets/pressable_elevated_secondary_focused-05d59cd4654230c9b01d.png",Ah=a.p+"assets/pressable_destructive_default-afc23b5e2d0cd6814724.png",Oh=a.p+"assets/pressable_destructive_hovered-13953e14ee36befae1c1.png",Nh=a.p+"assets/pressable_destructive_focused-3f550a8290ff176b432c.png",Rh=a.p+"assets/pressable_destructive_pressed-d5d4943d1b774ef42f85.png",Lh=a.p+"assets/pressable_elevated_destructive_default-a5fb3f173720065fcc13.png",_h=a.p+"assets/pressable_elevated_destructive_hovered-63736c555d7fc6479755.png",Dh=a.p+"assets/pressable_elevated_destructive_focused-cfa496a1b2e3a06a9db4.png",Wh=a.p+"assets/pressable_disabled-3555c5a3dc9f40fda713.png",Bh=a.p+"assets/pressable_elevated_disabled-af3383540a78827c5a84.png",Uh=a.p+"assets/realms_pressable_default-583a8fc492b39f4205d6.png",zh=a.p+"assets/realms_pressable_hovered-e43632be3d18caafe836.png",Hh=a.p+"assets/realms_pressable_focused-33636b9842a7b9c74f5e.png",jh=a.p+"assets/realms_pressable_pressed-9c1937ca5814fd7a5f15.png",Vh=a.p+"assets/realms_pressable_elevated_default-a49f3c5058e3c40f508e.png",Gh=a.p+"assets/realms_pressable_elevated_hovered-03f68e141be114d2ecf0.png",$h=a.p+"assets/realms_pressable_elevated_focused-07d5d2be79a46b337929.png",Kh=lh({src:Wh,slice:[1,1,1,1],scale:.5}),Yh=lh({src:Bh,slice:[1,1,3,1],scale:.5}),Xh={neutral:{default:lh({src:uh,slice:[2,2],scale:.5}),hovered:lh({src:dh,slice:[2,2],scale:.5}),focused:lh({src:mh,slice:[3,3],outset:[1],scale:.5}),pressed:lh({src:ph,slice:[2,2],scale:.5}),disabled:Kh},primary:{default:lh({src:hh,slice:[2,2],scale:.5}),hovered:lh({src:bh,slice:[2,2],scale:.5}),focused:lh({src:vh,slice:[3,3],outset:[1],scale:.5}),pressed:lh({src:yh,slice:[2,2],scale:.5}),disabled:Kh,$modes:{realms:{default:lh({src:Uh,slice:[2,2],scale:.5}),hovered:lh({src:zh,slice:[2,2],scale:.5}),focused:lh({src:Hh,slice:[3,3],outset:[1],scale:.5}),pressed:lh({src:jh,slice:[2,2],scale:.5}),disabled:Kh}}},secondary:{default:lh({src:Mh,slice:[2,2],scale:.5}),hovered:lh({src:wh,slice:[2,2],scale:.5}),focused:lh({src:kh,slice:[3,3],outset:[1],scale:.5}),pressed:lh({src:Th,slice:[2,2],scale:.5}),disabled:Kh},destructive:{default:lh({src:Ah,slice:[2,2],scale:.5}),hovered:lh({src:Oh,slice:[2,2],scale:.5}),focused:lh({src:Nh,slice:[3,3],outset:[1],scale:.5}),pressed:lh({src:Rh,slice:[2,2],scale:.5}),disabled:Kh},elevated:{neutral:{default:lh({src:fh,slice:[2,2,4,2],scale:.5}),hovered:lh({src:gh,slice:[2,2,4,2],scale:.5}),focused:lh({src:Eh,slice:[3,3,5,3],outset:[1],scale:.5}),pressed:lh({src:ph,slice:[2,2],scale:.5}),disabled:Yh},primary:{default:lh({src:Fh,slice:[2,2,4,2],scale:.5}),hovered:lh({src:Sh,slice:[2,2,4,2],scale:.5}),focused:lh({src:Ch,slice:[3,3,5,3],outset:[1],scale:.5}),pressed:lh({src:yh,slice:[2,2],scale:.5}),disabled:Yh,$modes:{realms:{default:lh({src:Vh,slice:[2,2,4,2],scale:.5}),hovered:lh({src:Gh,slice:[2,2,4,2],scale:.5}),focused:lh({src:$h,slice:[3,3,5,3],outset:[1],scale:.5}),pressed:lh({src:jh,slice:[2,2],scale:.5}),disabled:Yh}}},secondary:{default:lh({src:Ph,slice:[2,2,4,2],scale:.5}),hovered:lh({src:Ih,slice:[2,2,4,2],scale:.5}),focused:lh({src:xh,slice:[3,3,5,3],outset:[1],scale:.5}),pressed:lh({src:Th,slice:[2,2],scale:.5}),disabled:Yh},destructive:{default:lh({src:Lh,slice:[2,2,4,2],scale:.5}),hovered:lh({src:_h,slice:[2,2,4,2],scale:.5}),focused:lh({src:Dh,slice:[3,3,5,3],outset:[1],scale:.5}),pressed:lh({src:Rh,slice:[2,2],scale:.5}),disabled:Yh}}},qh=a.p+"assets/detailed-card-7c80abcb49930a828a00.png",Qh=a.p+"assets/detailed-card-action_default-1eacdbf7075ae21526da.png",Zh=a.p+"assets/detailed-card-action_hovered-987e725848caeabcf02e.png",Jh=a.p+"assets/detailed-card-action_focused-6b947cba4cdee937c3d4.png",eb=a.p+"assets/detailed-card-action_pressed-375eebb4a4eea54b415f.png",tb=a.p+"assets/detailed-card-action_pressed_focused-a905f0b3cc3538b55f2d.png",ab=a.p+"assets/detailed-card-action_disabled-8dd883d650cd0ad144b2.png",nb=a.p+"assets/detailed-card-action_disabled_focused-b335a2c0b3fbda554a86.png",rb=a.p+"assets/detailed-card-additional-action_default-bb25448c4bff7d9e0fd5.png",lb=a.p+"assets/detailed-card-additional-action_hovered-c2eacb29e052db2f0cc0.png",ob=a.p+"assets/detailed-card-additional-action_focused-b079a1825eb256e61c44.png",ib=a.p+"assets/detailed-card-additional-action_pressed-cc4a706dcab1406fe9dc.png",cb=a.p+"assets/detailed-card-additional-action_pressed_focused-df9f9b879e5ce495073d.png";function sb(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ub(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?sb(Object(a),!0).forEach((function(t){db(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sb(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function db(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const mb=ub(ub({},lh({src:qh,slice:[0,1,2,1],outset:[0,1,1,0],scale:.5,width:[0,0,1,0]})),{},{action:{default:lh({src:Qh,slice:[1,2,2,1],outset:[0,1,0,0],width:[1,1,2,1],scale:.5}),hovered:lh({src:Zh,slice:[1,2,2,1],outset:[0,1,0,0],width:[1,1,2,1],scale:.5}),focused:lh({src:Jh,slice:[2,2,4,2],outset:[1,1,2,1],scale:.5,width:[1,1,2,1]}),pressed:ub(ub({},lh({src:eb,slice:[3,2,0,1],outset:[0,1,0,0],scale:.5,width:[3,1,0,1]})),{},{focused:lh({src:tb,slice:[2,2,2,2],outset:[0,1,2,1],scale:.5,width:[3,1,0,1]})}),disabled:ub(ub({},lh({src:ab,slice:[1,2,0,1],outset:[0,1,0,0],scale:.5,width:[1,1,2,1]})),{},{focused:lh({src:nb,slice:[2,2,2,2],outset:[1,1,2,1],scale:.5,width:[1,1,2,1]})})},additionalAction:{default:lh({src:rb,slice:[1,2,2,1],outset:[0,1,0,0],width:[1,1,2,1],scale:.5}),hovered:lh({src:lb,slice:[1,2,2,1],outset:[0,1,0,0],width:[1,1,2,1],scale:.5}),focused:lh({src:ob,slice:[3,2,4,2],outset:[2,1,2,1],scale:.5,width:[1,1,2,1]}),pressed:ub(ub({},lh({src:ib,slice:[3,2,0,1],outset:[0,1,0,0],width:[3,1,0,1],scale:.5})),{},{focused:lh({src:cb,slice:[3,2,2,2],outset:[1,1,2,1],width:[3,1,0,1],scale:.5})})}}),pb=a.p+"assets/listItem_action_hovered-25f289553ec4efa5ec61.png",fb=a.p+"assets/listItem_action_focused-cbd1f45efe632665d4f2.png",gb=a.p+"assets/listItem_action_pressed-e222de76778d18c90218.png",Eb=a.p+"assets/listItem_action_default-98ec95bb538d5afbcf21.png",hb=a.p+"assets/listItem_action_disabled-e34c7d807fefee0b1152.png",bb=a.p+"assets/listItem_action_disabled_focused-866c570916913c3f41de.png",vb=a.p+"assets/listItem_action_pressed_focused-37eefa99d65e1495bef9.png",yb=a.p+"assets/listItem_disabled_default-3c13faa164820f219a4a.png",Fb=a.p+"assets/listItem_disabled_focused-58778a0e0bbcd1814386.png",Sb={base:{default:lh({src:yb,slice:[1],outset:[0],scale:.5}),focused:lh({src:Fb,slice:[2],outset:[1],scale:.5,width:[1]})},action:{default:lh({src:Eb,slice:[1],outset:[0],scale:.5}),hovered:lh({src:pb,slice:[1],outset:[0],scale:.5}),pressed:lh({src:gb,slice:[1],outset:[0],scale:.5}),focused:lh({src:fb,slice:[3],outset:[2,2,2,2],scale:.5,width:[1,1,1,1]}),pressedFocused:lh({src:vb,slice:[3],outset:[2,2,2,2],scale:.5,width:[1,1,1,1]}),disabled:lh({src:hb,slice:[0],outset:[0],width:[1],scale:.5}),disabledFocused:lh({src:bb,slice:[2],outset:[2,2,2,2],width:[0],scale:.5})},additionalAction:{default:lh({src:Eb,slice:[1],outset:[0],scale:.5}),hovered:lh({src:pb,slice:[1],outset:[0],scale:.5}),pressed:lh({src:gb,slice:[1],outset:[0],scale:.5}),focused:lh({src:fb,slice:[3],outset:[2,2,2,2],scale:.5,width:[1,1,1,1]}),pressedFocused:lh({src:vb,slice:[3],outset:[2,2,2,2],scale:.5,width:[1,1,1,1]})}},Cb=a.p+"assets/tabBar_neutral_default-40e26ac9318c12909f42.png",Mb=a.p+"assets/tabBar_neutral_hovered-b73d7029874500714b0f.png",wb=a.p+"assets/tabBar_neutral_pressed-9d14d8d1343a1fc3836d.png",kb=a.p+"assets/tabBar_neutral_default_focused-812a9fcda5a4e49d93d5.png",Tb=a.p+"assets/tabBar_neutral_pressed_focused-c05012af3863c527b0a2.png";function Pb(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ib(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pb(Object(a),!0).forEach((function(t){xb(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pb(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function xb(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ab={neutral:{default:lh({src:Cb,slice:[2,2,4,2],scale:.5}),hovered:lh({src:Mb,slice:[2,2,4,2],scale:.5}),focused:lh({src:kb,slice:[3,3,5,3],outset:[1,1,1,1],width:[3,2,5,2],scale:.5}),pressed:Ib(Ib({},lh({src:wb,slice:[2,2],scale:.5})),{},{focused:lh({src:Tb,slice:[3,3,3,3],outset:[1,1,1,1],width:[3,2,3,2],scale:.5})})}},Ob=a.p+"assets/bubble_action_default-bbef25eabe79ed131a72.png",Nb={base:{default:lh({src:Ob,slice:[4],outset:[0],scale:.5})},action:{default:lh({src:Ob,slice:[4],outset:[0],scale:.5})}},Rb=ch({colors:{primary:"#3c8527",secondary:ah,destructive:"#ca3636",text:"#ffffff",muted:[ah,"#b1b2b5"],disabled:ah,$modes:{realms:{primary:"#7345E5"}}},fonts:{heading:"Minecraft Ten v2",subHeading:"Minecraft Five v2",ui:"Minecraft Seven v2",body:"Noto Sans"},fontSizes:[10,14,16,20,24,32,48,64],lineHeights:[20,24,28,40,60,80],letterSpacings:[4,8],space:[4,8,12,16,20,24,32,64],_components:{pressable:Xh,detailedCard:mb,listItem:Sb,tabBar:Ab,bubble:Nb}}),[Lb,_b]=(e=>{const t=[],a=Object.entries(e).reduce(((e,[a,n])=>{var r;if((0,nh.isPlainObject)(n)){var l;const r=`.${a}`;return e.set(r,[...null!==(l=e.get(r))&&void 0!==l?l:[],...Object.entries(n).map((([e,a])=>(sh(a)&&t.push(a),ih(e,a))))]),e}sh(n)&&t.push(n);const o=":root";return e.set(o,[...null!==(r=e.get(o))&&void 0!==r?r:[],ih(a,n)]),e}),new Map);let n="";for(const[e,t]of a)n+=`${e} {\n  ${t.join("\n  ")}\n}\n`;return[n,t]})(Rb);function Db({children:e,defaultRoute:t,errorComponent:a,dismissTimeout:n,scalingMode:o="default",keyboardGamepadMap:i=he,semanticCollection:c,deviceInformationOptions:s={},shouldUseNarrationQueueSystem:u=!1,wrapperComponent:d=r.Fragment,isKeyboardHintsEnabled:m=!1}){const p=d,f=r.Fragment,g=(0,r.useCallback)((()=>{Xa.trigger("core:routing:not-found")}),[]);return r.createElement(mr,null,r.createElement(pr,{collection:c},r.createElement(l.SharedFacetDriverProvider,{value:mp},r.createElement(cp,{driver:pp},r.createElement(Pl,null,r.createElement(fp,null,r.createElement(ml,s,r.createElement(ro,null,r.createElement(no,null,r.createElement(yl,null,r.createElement(jl,null,r.createElement(Qm,{scalingMode:o},r.createElement(pl,{errorComponent:a,dismissTimeout:n},r.createElement(tp,null,r.createElement(Rr,{keyboardGamepadMap:i,isKeyboardHintsEnabled:m},r.createElement(Bl,{shouldUseQueueSystem:u},r.createElement($E.FocusManager,null,r.createElement(lp,null,r.createElement(hp,null,r.createElement(f,null,r.createElement(p,null,r.createElement(P,{onNotFound:g},[...r.Children.toArray(e),r.createElement(w,{from:"/",to:t,key:"default-redirect"})]))),r.createElement(th,{textures:_b}))))))))))))))))))))}(e=>{Object.entries(e).reduce(((e,[t,a])=>((0,nh.isPlainObject)(a)||(e[oh(t)]=a),e)),{})})(Rb),(0,l.sharedFacet)("core.social"),(0,l.facet)("core.user"),(0,l.sharedFacet)("test.vector");var Wb=a(51637),Bb=a.n(Wb),Ub=a(95799),zb=a.n(Ub),Hb=a(12821),jb=a.n(Hb),Vb=a(35140),Gb=a.n(Vb);function $b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Kb(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$b(Object(a),!0).forEach((function(t){Yb(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Yb(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Xb=Kb(Kb({},Bb()),zb());function qb({errorMessage:e,onDismiss:t}){const{t:a}=Fc("ErrorModal"),n=a(".title"),l=a(".goBack"),o=a(".goingBack"),i=null!=e&&""!==e?e:o,c=`${n} . ${i}`,s=i!==o;return r.createElement($E,null,r.createElement($E.Header,null,n),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:c},i)),s&&r.createElement($E.Buttons,null,r.createElement(Ug,{variant:"primary",onClick:t,gamepadIndex:0,autofocus:!0,inputLegend:l},l)))}Kb(Kb(Kb({},Xb),jb()),Gb());function Qb({visible:e,unmountOnExit:t,alwaysMounted:a,contentComponent:n,inverse:o}){const i=io();return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:i},r.createElement(Cf,{alwaysMounted:a,visible:e,inverse:o,appear:!0,unmountOnExit:t,timeout:400},(e=>r.createElement(Zb,{status:e,contentComponent:n})))),r.createElement(l.Mount,{when:i,condition:!1},r.createElement(Qr,{contentComponent:n,visible:e,unmountOnExit:t})))}const Zb=({status:e,contentComponent:t})=>{const a=(0,r.useMemo)((()=>r.memo(t)),[t]),n=(0,l.useFacetMap)((([e])=>"entered"===e||"entering"===e),[],[e]),o=(0,l.useFacetMap)((e=>!e),[],[n]),i=(0,l.useFacetMap)((([e])=>"entered"===e),[],[e]),c=(0,l.useFacetMap)((([e])=>"entered"!==e),[],[e]);return r.createElement(A,{value:n},r.createElement(Xr,{disabled:o},r.createElement("fast-div",{className:(0,l.useFacetMap)((([e,t])=>zr()("bce319975b98bb27fdef",{eb1d359b332b0a7a7b2a:!t,acce4ecaa79a9aa0dc8c:t,d6f97255200cff6dcf6a:"entered"===e,d218d1ce42f6f5506682:"entering"===e,faebfffaf13f4cdce783:"exiting"===e,feb4a081b350e67f4f3b:"exited"===e})),[],[e])},r.createElement(Jb,{paused:c},r.createElement(Kr,{type:"contentful",renderingCompleted:i}),r.createElement(a,null)))))},Jb=({paused:e,children:t})=>{const a=(0,l.useFacetUnwrap)(e);return r.createElement(l.PauseMountProvider,{paused:a===l.NO_VALUE||a},t)},ev=({text:e,interruptible:t=!0})=>{const a=bm(e),{narrateById:n}=gm();return(0,l.useFacetEffect)((()=>{n(a,t)}),[n,a,t],[(0,l.useFacetWrap)(e)]),null};function tv(e){return-1!=(0,r.useContext)(El).indexOf(e)}function av({onClick:e,innerRef:t,children:a,role:n="neutral50"}){const l=wr(n),o=zr()("a77912e482b38baf052d",l.overlay.base);return null!=a?r.createElement("div",{onClick:e,className:o,ref:t},a):r.createElement("div",{onClick:e,className:o,ref:t})}function nv({left:e,center:t,right:a,safeZone:n,innerRef:l,role:o="neutral20",showDropShadow:i=!0}){const c=wr(o);return r.createElement(Zn,{role:o},r.createElement("div",{className:zr()("f84586c69ae9456efac8",c.background.base)},r.createElement("div",{style:{paddingTop:n&&n.top+"px",paddingRight:n&&n.right+"px",paddingLeft:n&&n.left+"px"}},r.createElement("div",{ref:l,className:"c420dd6a4c7218b94295"},r.createElement("div",{className:"e42d2c77c0f7997695ef"},e),r.createElement("div",{className:"ed2f6d43ba4895affa71"},t),r.createElement("div",{className:"b694d45bf7366105e85a"},a)),r.createElement(Lp,{top:!1,right:!1,left:!1,role:o})),r.createElement("div",{className:zr()("c7a26674a6a12a185535",c.shadow.base)}),i&&r.createElement("div",{className:zr()("e2dc29df9f7e85c3ea7c")},r.createElement(Lp,{effect:"bevel",role:o,top:!1,right:!1,left:!1}))))}const rv=a.p+"assets/arrowBack-b77b12d5d12611651a90.png",lv=a.p+"assets/arrowBackDisabled-df022727bf70cb19e8dd.png";function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ov.apply(null,arguments)}const iv=e=>{let{className:t,disabled:a}=e,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className","disabled"]);const o=(0,l.useFacetWrap)(null!=a&&a),i=tf("b8ee91cf0876af81612b",t);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:o},r.createElement(Qp,ov({},n,{className:i,src:lv,imageRendering:"pixelated"}))),r.createElement(l.Mount,{when:o,condition:!1},r.createElement(Qp,ov({},n,{className:i,src:rv,imageRendering:"pixelated"}))))};function cv({onClick:e,disabled:t,role:a="inherit",hint:n="",light:l=!1}){const{t:o}=Fc("BackButton"),i=Tr(a);return r.createElement(Tp,{narrationText:[o(".narrationGoBack"),o(".narrationComponentType"),n].join(" . "),gamepadIndex:0,inputLegend:o(".back"),onClick:e,disabled:t,soundEffectPressed:i.press,role:a,testId:"navigation-bar-layout-back-button"},l?r.createElement(nf,null):r.createElement(iv,null))}const sv=a.p+"assets/filter-93196e4eaae71c567339.png",uv=a.p+"assets/hamburger-e678c3060f877980f5f2.png",dv=a.p+"assets/debug-icon-1cb529ecd005cdafa5e2.png",mv=a.p+"assets/Delete_Neutral20-71e3bf56d78eb6835e6a.png",pv="e5e92743897e6f39bf32";function fv({children:e,collapsed:t=!1,floating:a=!1,onDismiss:n,align:l="left"}){const o=(0,r.useRef)(null),i=(0,r.useCallback)((e=>{e.stopPropagation()}),[]),c=r.createElement("div",{ref:o,onClick:i,className:zr()({[pv]:t,dc6d710fb718a8a648d1:"left"===l,e789058822647c11459c:"right"===l,b0951246953fb92a2233:"left"===l,f983bbda1fd141f2a586:"right"===l})},r.createElement(jf,null,e));return a?r.createElement(r.Fragment,null,r.createElement("div",{className:zr()({fc2dac194e82afdf75e9:"right"===l,f048e13c316f8c530dc2:"left"===l,[pv]:t})},c),!t&&r.createElement(av,{onClick:n})):c}const gv=a.p+"assets/navbar-friends-icon-1-47df643b6c22613ffcc9.png",Ev=a.p+"assets/navbar-friends-icon-2-09dfc3668298f1a5b4d6.png",hv=a.p+"assets/navbar-friends-icon-3-bbd38e3c376556607bd7.png",bv=Math.floor(10*Math.random()),vv=1===bv?hv:2===bv?Ev:gv;function yv({children:e,collapsedLeftSidebar:t=!0,collapsedRightSidebar:a=!0,onToggleCollapsedLeftSidebar:n=Fv,onToggleCollapsedRightSidebar:o=Fv,innerRef:i,left:c,center:s,right:u,leftSidebar:d,rightSidebar:m,onBackButton:p,backButtonHint:f,backButtonDisabled:g,footer:E,narrationText:h,navigationBarRole:b,navigationBarShowDropShadow:v=!0,delegateByAlias:y,delegateFocusFromMemory:F,gamepadAlias:S,defaultFocusedChildBehavior:C,shouldNotDelegateToContent:M=!1}){const w=(0,l.useFacetMap)((e=>null!=e?e:""),[],[(0,l.useFacetWrap)(h)]),k=Gl(),T=Nd(),P=(0,r.useRef)(null),I=(0,r.useRef)(null),x=(0,r.useRef)(null),A=(0,r.useRef)(null),O=F||"remember"===C,{t:N}=Fc("BackButton");return r.createElement(Zf,{text:w},r.createElement(Yp,{containerRef:i||x,delegateFocusFromMemory:!0,delegateFocusByAlias:M?void 0:S},p&&r.createElement(Xf,{onClick:p,options:{button:j.B,inputLegend:N(".back")}}),r.createElement("div",{ref:i||x,className:"b44a7db8b12a5ba9a063"},r.createElement(Yp,{containerRef:I,delegateFocusFromMemory:!0},r.createElement(nv,{innerRef:I,left:r.createElement(r.Fragment,null,p&&r.createElement(yv.BackButton,{disabled:g,hint:f,onClick:p}),c,T&&null!=d&&r.createElement(yv.MenuButton,{selected:!t,onClick:n,gamepadIndex:0})),center:s,right:r.createElement(r.Fragment,null,u,null!=m&&r.createElement(r.Fragment,null,r.createElement(yv.MenuButton,{type:"filter",selected:!a,onClick:o,gamepadIndex:1}),r.createElement(Nm,{size:3}))),safeZone:k,role:b,showDropShadow:v})),r.createElement(Yp,{containerRef:P,delegateFocusByAlias:y,delegateFocusFromMemory:O,alias:S},r.createElement("div",{ref:P,className:"c21e8260a48d25294107"},r.createElement("div",{className:"c7d7d91aa86940689837",style:{left:k.left+"px",right:k.right+"px",bottom:k.bottom+"px"}},null!=d&&r.createElement(Xr,{disabled:t&&T},r.createElement(fv,{align:"left",onDismiss:n,floating:T,collapsed:T&&t},d)),r.createElement(Xr,{disabled:!t&&T&&Boolean(d)},e),null!=m&&r.createElement(Xr,{disabled:a},r.createElement(fv,{align:"right",onDismiss:o,floating:T,collapsed:a},m))))),null!=E?r.createElement(Yp,{containerRef:A},E):null)))}yv.displayName="NavigationBarLayout",yv.BackButton=function({onClick:e,disabled:t,showEmptySpaceWhenGamepad:a=!1,role:n="inherit",hint:o="",light:i=!1}){const c=(0,r.useContext)(et).isPointerSupported,s=ot(),u=(0,l.useFacetMap)(((e,t)=>e||!t),[],[c,s]),d=(0,l.useFacetMap)((e=>a&&!e),[a],[u]),{t:m}=Fc("BackButton"),p=(0,l.useFacetMap)((e=>({button:j.B,inputLegend:m(".back"),disabled:e})),[m],[$E.useIsAnyModalVisible()]);return r.createElement(r.Fragment,null,r.createElement(qf,{options:p,onClick:e}),r.createElement(l.Mount,{when:u},r.createElement(cv,{onClick:e,disabled:t,role:n,hint:o,light:i})),r.createElement(l.Mount,{when:d},r.createElement("div",{className:"f1f9776cc93f5090b4d5"})))},yv.MenuButton=function(e){const{onClick:t,selected:a,disabled:n,focusGridIndex:l,type:o="hamburger",role:i="inherit",narrationText:c}=e,{t:s}=Fc("NavigationBarLayout.MenuButton");return r.createElement(r.Fragment,null,"hamburger"===o&&r.createElement(qf,{options:{button:j.START,inputLegend:s(".inputLegend")},onClick:t}),r.createElement(Tp,{disabled:n,focusGridIndex:l,inputLegend:s(".inputLegend"),narrationText:null!=c?c:s(".narration"),onClick:t,role:i,selected:a,testId:e["data-testid"]},r.createElement(Qp,{className:"c3affb9a390119c79168",imageRendering:"pixelated",src:"filter"===o?sv:uv})))},yv.DeleteButton=function({onClick:e,disabled:t,focusGridIndex:a,role:n="inherit",narrationText:l}){const{t:o}=Fc("NavigationBarLayout.DeleteButton");return r.createElement(Tp,{disabled:t,focusGridIndex:a,inputLegend:o(".inputLegend"),narrationText:null!=l?l:o(".narration"),onClick:e,role:n},r.createElement(Qp,{className:"a8de4563d0dc6f0cdb56",imageRendering:"pixelated",src:mv}))},yv.FriendsButton=function({onClick:e,disabled:t,focusGridIndex:a,role:n="inherit",friendsOnline:o,displayAmountOfOnlineFriends:i,testId:c}){const{t:s}=Fc("NavigationBarLayout.FriendsButton"),u=tv(oc);return r.createElement(Tp,{className:"af935ef5d24ddf86c84c",disabled:t,focusGridIndex:a,inputLegend:s(".inputLegend"),narrationText:s(".narration"),onClick:e,role:n,testId:c},r.createElement("div",{className:"b36342aefe3de1bd0baf"},r.createElement(Qp,{className:"d319ea94348683e851c4",src:vv,imageRendering:"pixelated"}),r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(zm,{type:"body"},s(u?".social":".friends"),r.createElement(l.Mount,{when:i},r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),"(",r.createElement("fast-text",{text:o}),")"))))))},yv.DebugButton=function({onClick:e,selected:t,disabled:a,focusGridIndex:n,role:l="inherit",narrationText:o}){const{t:i}=Fc("NavigationBarLayout.DebugButton");return r.createElement(r.Fragment,null,r.createElement(Tp,{disabled:a,focusGridIndex:n,inputLegend:i(".inputLegend"),narrationText:null!=o?o:i(".narration"),onClick:e,role:l,selected:t},r.createElement(Qp,{className:"f0bcc66e31e86f7ab66f",imageRendering:"pixelated",src:dv})))},yv.Divider=function(){return r.createElement("div",{className:"fdbe08f6d922cbec9d3a"},r.createElement(Lp,{effect:"bevel",right:!1,top:!1,bottom:!1,reversed:!0}),r.createElement(Lp,{effect:"specular",left:!1,top:!1,bottom:!1,reversed:!0}))};const Fv=()=>{},Sv={grid:"ed2a8338f20165beddf6",fullScreen:"ce803e6b72676233f14c",fullScreenRow:"cd0286b928692512f556",fullScreenColumn:"f14c4ced3c1ef1f5d3d1",gridGutters:"d9f7fd9db73956916b44",gridTablet:"bc29ca1e5194d1674cbf",gridNarrow:"ce956fc9aabdc280a8d4",row:"e5175c04cc2688edc82d",rowFullHeight:"f112d553e3c0e2574a80",centerContentVertically:"c47fdb05e6d6a02e329c",column:"c2f03d5f052a87d1367c",size0:"f504210d61dd16065506",size1:"dc6986a0fdac22fc99b9",size2:"e0e780220923430dc21c",size3:"c34eadb5213a986e37d1",size4:"d2f92b98146a1ed5533c",size5:"f1d544dec91a3d8ebe16",size6:"a6bbabec493a3d05d25e",size7:"db8e91009e4ea76eaad6",size8:"d0a6dacd4ea1decea5a6",size9:"e8cdc4a89ebf6db24bb9",size10:"b236ddded2e68418d626",size11:"e9fc52e75b80c49ea4ff",size12:"b72973deafa6aae60dd2",sizeNarrow0:"ace8349913f55fd09859",sizeNarrow1:"ec8f06a09836d1522af7",sizeNarrow2:"c6e28c38d8f3bb59114a",sizeNarrow3:"f235dc41e01c8dab358e",sizeNarrow4:"e1f800b8883ec420b80d",sizeNarrow5:"cff4ff8cf5350b650dc0",sizeNarrow6:"b5ce2c8da2008107840b",sizeNarrow7:"f550cb81d34f8747ed0c",sizeNarrow8:"e86bdea5076819587e37"};function Cv({children:e,narrowBreakpointWidth:t,noGutters:a=!1,centerContentVertically:n,maxWidth:l=Mv,nonFullScreen:o=!1}){const i=Od(t);return r.createElement("div",{className:zr()(Sv.grid,{[Sv.gridNarrow]:"narrow"===i,[Sv.gridTablet]:"tablet"===i,[Sv.gridGutters]:"desktop"===i||!a,[Sv.centerContentVertically]:n,[Sv.fullScreen]:!o})},r.createElement(wv.Provider,{value:l},e))}const Mv=128,wv=(0,r.createContext)(Mv);Cv.displayName="Grid",Cv.Column=e=>{const{wideSize:t,narrowSize:a,innerRef:n,ignoreFullScreenGrid:l}=e,o=zr()(Sv[`size${t}`],Sv[`sizeNarrow${a}`]),i=zr()(Sv.column,o,{[Sv.fullScreenColumn]:!l});return r.createElement("div",{ref:n,className:i},e.children)},Cv.Row=function(e){const{children:t,fullHeight:a,className:n,innerRef:o,ignoreFullScreenGrid:i}=e,c=(0,l.useFacetMap)((e=>zr()(Sv.row,e,{[Sv.rowFullHeight]:a,[Sv.fullScreenRow]:!i})),[a,i],[(0,l.useFacetWrap)(null!=n?n:"")]),s=(0,r.useContext)(wv);return r.createElement("fast-div",{ref:o,className:c,style:{maxWidth:`${s}rem`}},t)};const kv=e=>{let t="";const a=e.length;for(let n=0;n<a;n++){const a=e[n];null!=a.before&&(t+=" . "+a.before),null!=a.text&&(t+=" . "+a.text),null!=a.as&&(t+=" . "+a.as),null!=a.after&&(t+=" . "+a.after)}return t.slice(3)},Tv=e=>{const t=e.querySelectorAll("[data-narrate]"),a=t.length,n=[];for(let e=0;e<a;e++){const a=t[e],r=a.getAttribute("data-narrate"),l=a.getAttribute("data-narrate-as"),o=a.getAttribute("data-narrate-after"),i=a.getAttribute("data-narrate-before"),c={};if(null!=r&&""!==r)c.text=r;else{const e=a.textContent;null!=e&&(c.text=e)}null!=o&&""!==o&&(c.after=o),null!=l&&""!==l&&(c.as=l),null!=i&&""!==i&&(c.before=i),n.push(c)}return n},Pv=r.createContext((0,l.createStaticFacet)(null));function Iv({children:e,customButtonWrapperWidth:t}){const{numberOfChildFocusables:a,onChildFocusableMounted:n}=gf();return r.createElement(ff,{onChildFocusableMounted:n},r.createElement(Pv.Provider,{value:a},r.createElement(Nm,{size:2}),r.createElement("fast-div",{style:null!=t?{maxWidth:`${t}rem`}:{},className:(0,l.useFacetMap)((e=>1===e?"c8bc56d844fc752a743f":2===e?"df658667fee5d6e9c8be":"d993149981fea3b3e597"),[],[a])},e)))}function xv(){return r.createElement(Nm,{size:3})}function Av({children:e,onClick:t,inputLegend:a,gamepadAlias:n,variant:o="secondary",imgSrc:i,buttonTestId:c,Icon:s}){const{t:u}=Fc("EmptyStateMessage"),d=(0,l.useFacetMap)((e=>null!=e?e:u(".buttonSelectInputLegend")),[u],[(0,l.useFacetWrap)(a)]),m=(()=>{const e=r.useContext(Pv);if(null==e)throw new Error("useNumberOfSiblings must be used within a NumberOfSiblings.Provider.\nThis error can occur if you are trying to use EmptyStateMessage.Button outside of EmptyStateMessage.ButtonWrapper.");return(0,l.useFacetMap)((e=>null!=e?e:0),[],[e])})(),p=Od(),f=(0,l.useFacetMap)((e=>e<=2||e>2&&!("narrow"===p)),[p],[m]),g=(0,l.useFacetMap)((e=>e>1),[],[m]),E=(0,l.useFacetUnwrap)(g),h=(0,l.useFacetUnwrap)(f);return r.createElement(Ug,{linebreak:!0===h,horizontal:!0===E,delayedClick:!0,variant:o,onClick:t,inputLegend:d,gamepadAlias:n,imgSrc:i,Icon:s,"data-testid":c},e)}function Ov({gamepadAlias:e,children:t,borderless:a=!1,role:n="neutral80"}){const o=wr(n),i=zr()("e493dca1752420bd2fbd",o.background.base,o.border.base,{a1fde251a207a8e9235d:a}),{hasChildFocusable:c,onChildFocusableMounted:s}=gf(),u=(0,r.useRef)(null),d=(0,r.useCallback)((()=>null==u.current?"":kv(Tv(u.current))),[]),[m,p]=(0,l.useFacetState)(!1);return(0,r.useEffect)((()=>{const e=setTimeout((()=>{p(!0)}),20);return()=>clearTimeout(e)}),[p]),r.createElement(Zf,{getText:d},r.createElement(Tm.Maybe,{isInteractive:(0,l.useFacetMap)(((e,t)=>!e&&t),[],[c,m]),className:i,classNameFocused:kp,narrationText:!1,innerRef:u,gamepadAlias:e},r.createElement(ff,{onChildFocusableMounted:s},r.createElement(wp,{inset:!0}),t)))}function Nv({children:e,role:t="neutral80"}){const{t:a}=Fc("EmptyStateMessage");return r.createElement(zm,{type:"secondaryButton",role:t,align:"center",shouldNarrate:!0,"data-narrate-after":a(".narrationTextBlock")},e)}function Rv({imgSrc:e,hideSpacingAroundImage:t=!1,imgClass:a}){return r.createElement(r.Fragment,null,!t&&r.createElement(Nm,{size:4}),r.createElement(Qp,{imageRendering:"pixelated",src:e,className:a}),!t&&r.createElement(Nm,{size:4}))}function Lv({children:e,role:t="neutral80"}){return r.createElement(zm,{type:"captionShort",role:t,variant:"dimmest",align:"center",shouldNarrate:!0},e)}function _v({title:e,text:t,imgSrc:a,imgClass:n,buttons:o,borderless:i=!1,gamepadAlias:c,role:s="neutral80",hideSpacingAroundImage:u=!1,customButtonWrapperWidth:d}){const m=(0,l.useFacetWrap)(e),p=(0,l.useFacetMap)((e=>null!=e?e:""),[],[m]),f=(0,l.useFacetWrap)(a),g=(0,l.useFacetMap)((e=>null!=e?e:""),[],[f]),E=(0,l.useFacetWrap)(t),h=(0,l.useFacetMap)((e=>null!=e?e:""),[],[E]),b=(0,l.useFacetWrap)(o),v=(0,l.useFacetMap)((e=>null!=e?e:[]),[],[b]),y=(0,l.useFacetMap)(((e,t,a,n)=>({hasTitle:null!=e,hasImage:null!=t,hasText:null!=a,hasButton:null!=n&&n.length>0})),[],[m,f,E,b]);return r.createElement(xl,{data:y},(e=>r.createElement(Ov,{gamepadAlias:c,borderless:i},r.createElement(r.Fragment,null,e.hasTitle&&r.createElement(Nv,{role:s},p),e.hasImage&&r.createElement(Rv,{imgSrc:g,hideSpacingAroundImage:u,imgClass:n}),e.hasText&&r.createElement(Lv,{role:s},h),e.hasButton&&r.createElement(Iv,{customButtonWrapperWidth:d},r.createElement(l.Map,{array:v,children:Dv}))))))}function Dv(e,t,a){const n=(0,l.useFacetMap)((e=>e.text),[],[e]),o=(0,l.useFacetCallback)((e=>e.onClick),[],[e]),i=(0,l.useFacetMap)((e=>e.inputLegend),[],[e]),c=(0,l.useFacetMap)((e=>e.gamepadAlias),[],[e]),s=(0,l.useFacetMap)((e=>e.narrationSuffix),[],[e]),u=(0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>e.variant),[],[e])),d=(0,l.useFacetMap)((e=>e.imgSrc),[],[e]),m=(0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>e.buttonTestId),[],[e]));return r.createElement(r.Fragment,null,r.createElement(Av,{children:n,onClick:o,inputLegend:i,gamepadAlias:c,narrationSuffix:s,variant:u===l.NO_VALUE?void 0:u,imgSrc:d,buttonTestId:m===l.NO_VALUE?void 0:m}),t<a-1&&r.createElement(xv,null))}_v.Wrapper=Ov,_v.Title=Nv,_v.Image=Rv,_v.Text=Lv,_v.ButtonsWrapper=Iv,_v.Button=Av,_v.ButtonSpacer=xv;const Wv=(e,t)=>Math.round(e*t),Bv="c2cdb491922ca5c2f02b",Uv=a.p+"assets/locked-b7e1ef2f9297249a5ff4.png",zv=a.p+"assets/checkIcon-bcfbfc531a61d1dd813c.png";function Hv({children:e,variant:t,date:a}){const{f:n}=Fc("Window"),l="completed"===t?"success":"neutral60",o=wr(l);return r.createElement("div",{className:zr()("f7b396da5f1384d4e5f5",o.background.base)},r.createElement(Lp,{effect:"specular"}),r.createElement(Qp,{imageRendering:"pixelated",className:zr()({eb690b76b30bb0552bbe:"locked"===t,f68b70fbd15e90367cec:"completed"===t}),src:"locked"===t?Uv:zv}),r.createElement(zm,{type:"captionShort",role:l},e),"completed"===t&&null!=a&&r.createElement("div",{className:"e833f1e433f6cc97e20f"},r.createElement(zm,{type:"captionShort",role:l},n.formatDate(a))))}function jv({children:e,variant:t="locked",title:a,date:n,loading:l}){const o=wr("neutral80");return l?r.createElement("div",{className:zr()("c27ca53da691e7ac2296",o.border.base)},r.createElement(Vv,{className:o.overlay.base})):r.createElement("div",{className:zr()("c475379f647cb6316d1c",o.background.base,o.border.base)},r.createElement(Hv,{date:n,variant:t},a),e)}const Vv=({className:e})=>r.createElement("div",{className:zr()("fb1cdfcc107a5fef86a8",e)},r.createElement(zf,null)),Gv="aff984fcdf2dfd316bf6";function $v({children:e,role:t="neutral100"}){return r.createElement(Zn,{role:t},r.createElement("div",{className:"d61cb6de76e0544c54ee"},e))}$v.Pair=function({label:e,value:t,icon:a}){const n=wr("inherit");return r.createElement("div",{className:zr()(Gv,n.background.base)},r.createElement(zm,{type:"captionShort",variant:"dimmer"},e),r.createElement(zm,{type:"captionShort",variant:"dimmer"},a,t))},$v.Progress=function({label:e,value:t,total:a}){const{t:n}=Fc("DescriptionList"),l=wr("inherit");return r.createElement("div",{className:zr()("a6d15629934bc6ca95e9",l.background.base)},r.createElement("div",{className:zr()(Gv)},r.createElement(zm,{type:"captionShort",variant:"dimmer"},null!=e?e:n(".progressLabel")),r.createElement(zm,{type:"captionShort",variant:"dimmer"},t,"/",a)),r.createElement("div",{className:"fbe2b3798b09bc143906"},r.createElement(Zg,{tall:!0,percentage:t/a}),r.createElement(Nm,{size:2})))},$v.displayName="DescriptionList";const Kv=a.p+"assets/gamerscore_icon-53b10130cb6f6c0271cb.png",Yv=a.p+"assets/greyframe-dd39bddf435b8210e89b.png",Xv=a.p+"assets/unlockedBorder-2f13ba432374d475e888.png",qv=a.p+"assets/placeholder-30ebca9254ef8b61db9f.png";function Qv({title:e,description:t="",image:a,gamerscore:n=0,progress:l=0,autofocus:o=!1,progressTarget:i=0,isLocked:c,dateUnlocked:s=0,loading:u,completedOnAnotherPlatform:d,gamepadIndex:m}){const{t:p}=Fc("AchievementDetails"),f=dn();return r.createElement(Tm,{inputLegend:!1,className:"",classNameHovered:"",classNameFocused:kp,classNamePressed:"",disabled:!f,autofocus:f&&o,gamepadIndex:m,narrationText:!1,onClick:()=>{}},r.createElement(wp,{withoutBorders:!0,disabled:!f}),r.createElement(jv,{loading:u,title:p(c?".locked":".completed"),variant:c?"locked":"completed",date:s},r.createElement(Zn,{role:"neutral"},r.createElement("div",{className:"e74bb49d785d1a2aa132"},r.createElement(Lp,{effect:"specular"}),r.createElement(Nm,{size:5}),r.createElement("div",{className:zr()("b697f56f9077a5f2fdc5",{d7456595627e201b8f37:c})},r.createElement(Qp,{className:zr()(Bv,"b52d33b51b38fd13a42e"),imageRendering:"pixelated",src:c?Yv:Xv}),r.createElement(Qp,{className:zr()(Bv),imageRendering:"pixelated",src:null!=a?a:qv}),!c&&r.createElement("div",{className:"c1f86136b573a391046a"})),r.createElement(Nm,{size:2}),r.createElement("div",{className:"a0f939aac3288e92b13f"},r.createElement(zm,{type:"header5B"},e),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"paragraphs",variant:"dimmer"},t)),r.createElement(Nm,{size:5}))),r.createElement($v,null,r.createElement($v.Pair,{label:p(".gamerscore"),value:`${n}`,icon:r.createElement(Qp,{className:"c05e4a56d222d24c8413",imageRendering:"pixelated",src:Kv})}),d&&r.createElement($v.Pair,{label:p(".anotherPlatform"),value:p(".yes")}),l&&0!==l&&1!==l?r.createElement($v.Progress,{value:Wv(l,i),total:i}):null)))}const Zv=a.p+"assets/rewardUnlockedFrame-34e1b1721560c456acd1.png",Jv=a.p+"assets/rewardLockedFrame-2d5903d060529e3b316a.png",ey=a.p+"assets/unlockedIconGrey-2939d591351c570db80d.png",ty=a.p+"assets/lockedIconGrey-c2c6d81f1532ae23fd5a.png";function ay({image:e,title:t,isOwned:a,onClickView:n,role:l="neutral80",imageRole:o="neutral100"}){const{t:i}=Fc("AchievementReward"),c=wr(l),s=wr(o),u=[i(a?".narration.rewardUnlocked":".narration.rewardLocked"),t].join(" . ");return r.createElement(Zn,{role:l},r.createElement(Zf,{text:u},r.createElement("div",{className:zr()("b1db087f55bfd5269ef2",c.background.base,c.border.base)},r.createElement(Lp,{effect:"specular"}),r.createElement("div",{className:"f162ac93c5fdb37e1787"},r.createElement("div",{className:"e478abdf99034bd31445"},r.createElement("div",{className:"d951a6fb1a3cd46c9171"},r.createElement(zm,{type:"captionShort",variant:"dimmer"},r.createElement(xm,null,i(".reward"))),a?r.createElement(Qp,{src:ey,imageRendering:"pixelated",className:"d2ded978d4a1d73a2c58"}):r.createElement(Qp,{src:ty,imageRendering:"pixelated",className:"c6116ec794680a049b27"})),r.createElement(zm,{type:"body",align:"center"},t)),r.createElement("div",{className:"a9ed3de30129afe8edfa"},r.createElement(Qp,{src:e,imageRendering:"pixelated",className:zr()("ef46c37540237778d565",s.background.base,{da931dc6ec30084b78e7:!a})}),r.createElement(Qp,{src:a?Zv:Jv,imageRendering:"pixelated",className:a?"ac51ab6679965477630c":"b57d44aeee6a6f9470fb"})),r.createElement("div",{className:"ccbeefd6b9d1b42e5b58"},r.createElement(Ug,{delayedClick:!0,onClick:n,gamepadIndex:0,gamepadAlias:"reward-button",inputLegend:i(".viewReward"),variant:"secondary"},i(".viewReward")))))))}const ny=a.p+"assets/arrowDownWhite-55034422f69e95159734.png";function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ry.apply(null,arguments)}const ly=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("a49c108c1a726fdf1f1a",t);return r.createElement(Qp,ry({},a,{className:n,src:ny,imageRendering:"pixelated"}))},oy=a.p+"assets/arrowUpWhite-2c2b7f4b9b915ab1d4b8.png";function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},iy.apply(null,arguments)}const cy=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("fd3a20a383e347af4ccb",t);return r.createElement(Qp,iy({},a,{className:n,src:oy,imageRendering:"pixelated"}))},sy="0.0001px";function uy(e){const t=(0,r.useRef)(null),a=(0,l.useFacetWrap)(e),[n,o]=(0,l.useFacetState)(sy),[i,c]=(0,l.useFacetState)("hidden");return(0,l.useFacetEffect)((e=>{if(t.current){if(o(`${t.current.scrollHeight}px`),e){const e=setTimeout((()=>{o("auto"),c("visible")}),225);return()=>{clearTimeout(e)}}e||requestAnimationFrame((()=>{o(sy),c("hidden")}))}}),[c,o],[a]),[{height:n,overflow:i},t]}const dy=({wide:e,narrow:t,width:a})=>{let n;return 8===e&&(6===t||5===t)&&a>=220&&a<=260?n=102:(console.warn("useImageBreakpoint() is being used for an unhandled scenario. You should add a case for this, or you might not need to use getImageBreakpoint() at all."),n=70),Nd(n)},my=({wide:e,narrow:t,width:a})=>{let n;return 8===e&&(6===t||5===t)&&a>=220&&a<=260?n=102:(console.warn("useImageBreakpoint() is being used for an unhandled scenario. You should add a case for this, or you might not need to use getImageBreakpoint() at all."),n=70),Rd(n)};function py(e,t){const[a,n]=(0,l.useFacetState)(!1);return(0,l.useFacetEffect)((e=>{if(e)return;const a=setTimeout((()=>{n(!0)}),t);return()=>{clearTimeout(a)}}),[t,n],[e]),a}const fy={BaseSwitch:"ed340b2674789d08d511",toggle:"c88ae00c108872ae88d3",imageOn:"b779f6be490950debc48",disabled:"cac4cbbcf37fc8742f49",imageOff:"ecea012966cbb21d1a46",toggleContainerBorder:"d167490f1e9c379fb08d",toggleBase:"cf2611950b9614b170a5",toggleBaseItem:"dd11f7ab001782640abd",toggleTop:"a3729dc738ada469c003",toggleTopInner:"e1217a9d281422e979d4",toggleTopTop:"ca58d4a9d761df030959",toggleIcon:"d181355c6eb6edc1a07a",toggleTopBottomBevel:"a64dd26df22f1fdd916f",toggleTopOn:"bbb543fbf538f7700cc8",toggleTopOff:"c431258295b54ec7b905",toggleTopOnAnimated:"ae3534ec5c54f25dca8f",toggleTopOffAnimated:"db00f48fecb12aa0056f","switch-toggle-top-animation-on":"a105b6f3afff8c19e69f","switch-toggle-top-animation-off":"fb3f380ff3fe1a7abdde",offText:"dc5acaa57a1c9420d11f",onText:"fdb52cdbaf7bba8bd4f5",toggleLabel:"f74e2e9faf08fdea862f"},gy=a.p+"assets/onImage-b40d0be137ba09eb7464.png";function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ey.apply(null,arguments)}const hy=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("c2ca878afe2205d188df",t);return r.createElement(Qp,Ey({},a,{className:n,src:gy,imageRendering:"pixelated"}))},by=a.p+"assets/offImage-cc9095b148d166ec7212.png";function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},vy.apply(null,arguments)}const yy=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("ac74a2c501ce259e20b8",t);return r.createElement(Qp,vy({},a,{className:n,src:by,imageRendering:"pixelated"}))},Fy=(e,t)=>zr()(fy.toggleTop,{[t?fy.toggleTopOnAnimated:fy.toggleTopOn]:e,[t?fy.toggleTopOffAnimated:fy.toggleTopOff]:!e});function Sy({onChange:e,gamepad:t,value:a,disabled:n=!1,onFocusChanged:o,showOnOffText:i=!1,shouldAnimateRef:c,soundEffectHovered:s,soundEffectFocused:u,soundEffectPressed:d,offNarrationText:m,onNarrationText:p,disabledNarrationSuffix:f,onRole:g="primary",offRole:E="neutral50",thumbRole:h="secondary",imgSrc:b}){var v;const{t:y}=Fc("BaseSwitch"),F=wr("inherit"),S=wr(h),C=wr(g),M=wr(E),w=Tr("inherit"),{narrateText:k}=Hf(),T=(0,r.useRef)(!1),P=null!=c?c:T,I=(0,r.useRef)(null),x=(0,l.useFacetWrap)(a),A=(0,l.useFacetMap)((()=>!0),[],[x]);(0,l.useFacetEffect)((e=>{var t;I.current&&(I.current.className=Fy(e,null!==(t=P.current)&&void 0!==t&&t))}),[P],[x]);const O=(0,l.useFacetCallback)(((e,t,a)=>()=>{I.current&&(I.current.className=Fy(e,!1),k(e?[y(".on"),null!=a?a:""].join(" . "):[y(".off"),null!=t?t:""].join(" . "))),P.current=!1}),[k,y,P],[x,(0,l.useFacetWrap)(m),(0,l.useFacetWrap)(p)]),N=(0,l.useFacetCallback)((t=>()=>{P.current=!0,null==e||e(!t)}),[e,P],[x]),R=(0,r.useCallback)((e=>{if(!I.current&&e){const t=(0,l.isFacet)(a)?a.get():a;e.className=Fy(t,P.current)}I.current&&I.current.removeEventListener("animationend",O),e&&e.addEventListener("animationend",O),I.current=e}),[O,a,P]),L=(0,l.useFacetMap)(((e,t)=>[y(".elementType"),!0===t?y(".narrationDisabled"):"",y(e?".on":".off"),t&&null!=f?f:""].join(" . ")),[y,f],[x,(0,l.useFacetWrap)(n)]);return r.createElement(l.Mount,{when:A},r.createElement(Tm.Maybe,{isInteractive:null!=e,className:fy.BaseSwitch,narrationText:L,inputLegend:y(".toggle"),gamepadIndex:null!==(v=null==t?void 0:t.index)&&void 0!==v?v:0,soundEffectHovered:null!=s?s:w.hover,soundEffectFocused:null!=u?u:w.focus,soundEffectPressed:null!=d?d:w.toggle,classNameHovered:fy.hovered,classNameFocused:zr()(fy.focused,kp),classNamePressed:fy.pressed,classNameDisabled:fy.disabled,disabled:n,onFocusChanged:o,onClick:N},r.createElement("fast-div",{className:fy.offText,style:{opacity:(0,l.useFacetMap)((e=>e?.6:1),[],[x]),display:i?"flex":"none"}},r.createElement("span",{className:zr()(fy.toggleLabel,F.text.base,F.text.disable)},y(".off"))),r.createElement("div",{className:zr()(fy.toggle,M.border.base,M.border.disable)},r.createElement("div",{className:fy.toggleContainerBorder}),r.createElement("fast-div",{className:fy.toggleBase},r.createElement("div",{className:zr()(fy.toggleBaseItem,fy.toggleBaseItemOn,C.background.base,C.background.disable)},r.createElement("div",{className:fy.imageOn},r.createElement(hy,null)),r.createElement(Lp,{interactive:!1,right:!1,role:"primary",disabled:n})),r.createElement("div",{className:zr()(fy.toggleBaseItem,fy.toggleBaseItemOff,M.background.base,M.background.disable)},r.createElement("div",{className:fy.imageOff},r.createElement(yy,null)),r.createElement(Lp,{interactive:!1,left:!1,role:"neutral50",disabled:n}))),r.createElement("div",{ref:R,className:fy.toggleTop},r.createElement("fast-div",{className:zr()(fy.toggleTopInner,S.border.base,S.border.disable,S.background.interactive)},r.createElement(wp,{role:"secondary",disabled:n}),r.createElement("div",{className:zr()(fy.toggleTopTop)},r.createElement(Ng,{imageSource:b,className:fy.toggleIcon}),r.createElement(Lp,{role:"secondary",disabled:n})),r.createElement("div",{className:zr()(fy.toggleTopBottomBevel,S.shadow.base,S.shadow.disable)})))),r.createElement("fast-div",{className:fy.onText,style:{opacity:(0,l.useFacetMap)((e=>e?1:.6),[],[x]),display:i?"flex":"none"}},r.createElement("span",{className:zr()(fy.toggleLabel,F.text.base,F.text.disable)},y(".on")))))}const Cy=()=>{};function My({onChange:e=Cy,value:t,title:a,description:n,disabled:o=!1,showOnOffText:i=!1,soundEffectHovered:c,soundEffectFocused:s,soundEffectPressed:u,offNarrationText:d,onNarrationText:m,disabledNarrationSuffix:p,narrationSuffix:f,wrapperRole:g="neutral",onRole:E,offRole:h,thumbRole:b,imgSrc:v,"data-testid":y}){const{t:F}=Fc("Switch"),S=Tr(g),C=(0,r.useRef)(!1),M=(0,l.useFacetWrap)(t),w=(0,l.useFacetWrap)(o),k=(0,l.useFacetWrap)(a),T=(0,l.useFacetWrap)(n),P=(0,l.useFacetMap)((()=>!0),[],[M]),I=(0,l.useFacetCallback)(((t,a)=>()=>{a||(C.current=!0,e(!t))}),[e],[M,w]),x=(0,l.useFacetRef)(M),A=(0,l.useFacetRef)(w),O=(0,l.useFacetCallback)(((e,t,a)=>()=>{if(x.current===l.NO_VALUE||A.current===l.NO_VALUE)return"";const n=x.current,r=A.current;return[e,F(".elementType"),!0===r?F(".narrationDisabled"):"",F(n?".on":".off"),null!=t?t:"",a,r&&null!=p?p:""].filter((e=>e)).join(" . ")}),[x,A,p,F],[k,T,(0,l.useFacetWrap)(null!=f?f:"")]),N=(0,l.useFacetMap)(((e,t)=>""!==e||null!=t&&""!==t?"fbc526688e36d09ecbed":""),[],[k,T]),R=dn(),L=(0,l.useFacetMap)((e=>null!=e?e:""),[],[T]),_=(0,l.useFacetMap)((e=>null!=e&&e.length>0),[],[k]),D=(0,l.useFacetMap)((e=>e.length>0),[],[L]),W=(0,l.useFacetMap)((e=>!0===e&&R),[R],[w]),B=(0,l.useFacetMap)((e=>!e&&F(".toggle")),[F],[w]),U=(0,l.useFacetMap)(((e,t)=>e?void 0:null!=t?t:S.hover),[S.hover],[w,(0,l.useFacetWrap)(c)]),z=(0,l.useFacetMap)((e=>null!=e?e:S.focus),[S.focus],[(0,l.useFacetWrap)(s)]),H=(0,l.useFacetMap)(((e,t)=>e?void 0:null!=t?t:S.toggle),[S.toggle],[w,(0,l.useFacetWrap)(u)]);return r.createElement(l.Mount,{when:P},r.createElement(Zf,{getText:O},r.createElement(Fg,{role:g,disabled:w,onClick:I,focusable:W,shouldDisplayFocus:W,inputLegend:B,soundEffectHovered:U,soundEffectFocused:z,soundEffectPressed:H,narrationText:"","data-testid":y},r.createElement("div",{className:"c2aa1e8dcf8fc0e0d91d"},r.createElement("fast-div",{className:N},r.createElement(l.Mount,{when:_},r.createElement(Cg,{disabled:o},k)),r.createElement(l.Mount,{when:D},r.createElement(Mg,null,L))),r.createElement(Sy,{value:M,disabled:w,showOnOffText:i,shouldAnimateRef:C,disabledNarrationSuffix:p,onNarrationText:m,offNarrationText:d,onRole:E,offRole:h,thumbRole:b,imgSrc:v})))))}function wy({expandedFacet:e,testId:t,children:a}){const[n,o]=uy(e),i=(0,l.useFacetMap)((e=>"dac7904e45a40d8e2340 "+(e?"e0da8998fafdf089b881":"")),[],[e]),c=(0,l.useFacetMap)((e=>!e),[],[e]);return r.createElement(Xr,{disabled:c},r.createElement("fast-div",{className:i,style:n,"data-testid":t},r.createElement("div",{ref:o},a)))}function ky({onChange:e,label:t,count:a,narrationHint:n,alwaysShowHint:o,onExpandNarrationHint:i,gamepadAlias:c,collapsible:s,testId:u,expandedFacet:d,setExpanded:m}){const{t:p}=Fc("Accordion"),{narrateText:f}=Hf(),g=(0,l.useFacetMap)((e=>p(e?".closeInputLegend":".openInputLegend")),[p],[d]),E=(0,l.useFacetMap)((e=>`(${e})`),[],[null!=a?a:Iy]),h=(0,l.useFacetWrap)(n),b=(0,l.useFacetWrap)(t),v=(0,l.useFacetMap)(((e,t,a,n)=>[null!=t?p(".narrationCountLabel",[n,`${t>100?"100+":t}`]):n,p(".narrationComponentType"),p(e?".stateExpanded":".stateCollapsed"),e&&!o?null:a].join(" . ")),[p,o],[d,null!=a?a:xy,h,b]),y=(0,l.useFacetWrap)(s),F=(0,l.useFacetMap)(((e,t)=>e?t?"arrow-up-white":"arrow-down-white":"no-arrow"),[],[y,d]),S=(0,l.useFacetCallback)(((t,a)=>()=>{if(a){const a=t?p(".stateCollapsed"):[p(".stateExpanded"),i].join(" . ");f(a),m(!t),e&&e(!t)}}),[f,p,i,m,e],[d,y]);return r.createElement("div",{className:"c4c5abe94d3f4def530b","data-testid":u},r.createElement(Ag,{inputLegend:g,narrationText:v,onClick:S,variant:"neutral80",reflection:"bevel",gamepadAlias:c,"data-testid":"accordion-pressable"},r.createElement("div",{className:"f9e8c55b0ca2140b04c3"},r.createElement("div",{className:"f7eb8cbecd70cff9b7d1"},r.createElement("fast-text",{text:t}),r.createElement(Nm,{size:2}),null!=a&&r.createElement("div",{className:"c7404ef609476673b2be"},r.createElement("fast-text",{text:E}))),r.createElement(xl,{data:F},(e=>{switch(e){case"arrow-down-white":return r.createElement(ly,null);case"arrow-up-white":return r.createElement(cy,null);default:return null}})))))}function Ty(e){const{onChange:t,title:a,value:n,description:o,disabled:i=!1,offNarrationText:c,onNarrationText:s,narrationSuffix:u,disabledNarrationSuffix:d,onExpandNarrationHint:m,testId:p,children:f}=e,{t:g}=Fc("SwitchAccordion"),E=(0,l.useFacetMap)(((e,t)=>[e,""!=t?t:null,g(".stateExpanded")].join(" . ")),[g],[(0,l.useFacetWrap)(null!=s?s:""),(0,l.useFacetWrap)(null!=m?m:"")]),h=(0,l.useFacetMap)((e=>[e,g(".stateCollapsed")].join(" . ")),[g],[(0,l.useFacetWrap)(null!=c?c:"")]),b=(0,l.useFacetCallback)(((e,a)=>()=>{!a&&t&&t(!e)}),[t],[n,(0,l.useFacetWrap)(i)]);return r.createElement(r.Fragment,null,r.createElement(My,{narrationSuffix:(0,l.useFacetWrap)(null!=u?u:""),disabledNarrationSuffix:d,disabled:i,title:a,description:o,onChange:b,value:n,"data-testid":p,onNarrationText:E,offNarrationText:h}),r.createElement(wy,{expandedFacet:n,testId:"switch-accordion-content"},f))}function Py(e){const{onChange:t,label:a,count:n,children:o,narrationHint:i,alwaysShowHint:c=!1,onExpandNarrationHint:s,expandedDefaultState:u=!1,gamepadAlias:d,collapsible:m=!0,testId:p}=e,[f,g]=(0,l.useFacetState)(u);return r.createElement(r.Fragment,null,r.createElement(ky,{onChange:t,label:a,count:n,narrationHint:i,alwaysShowHint:c,onExpandNarrationHint:s,gamepadAlias:d,collapsible:m,testId:p,expandedFacet:f,setExpanded:g}),r.createElement(wy,{expandedFacet:f,testId:"accordion-content"},o))}const Iy=(0,l.createFacet)({initialValue:0}),xy=(0,l.createFacet)({initialValue:null}),Ay=yp((({title:e,onClose:t})=>{const{t:a}=Fc("ProgressSpinnerModal"),n=null!=e?e:a(".title"),l=dn(),o="progress-spinner-modal-content",i="progress-spinner-modal-close";return r.createElement($E,{defaultFocusAlias:l?o:i},r.createElement($E.Header,{titlebarGamepadAlias:i,onClose:t},n),r.createElement($E.Content,{gamepadAlias:o},r.createElement($E.Spinner,null)))})),Oy=yp((({onClose:e})=>{const{t}=Fc("ProfanityWarningModalRoute");return r.createElement($E,{defaultFocusAlias:"profanity-warning-modal-button"},r.createElement($E.Header,{onClose:e},t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:t(".body"),center:!0},t(".body"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,inputLegend:t(".close"),variant:"primary",delayedClick:!0,onClick:e,gamepadAlias:"profanity-warning-modal-button"},t(".close"))))}));function Ny({type:e,renderingCompleted:t}){const a=Gr(),n=jr(),r=(0,l.useFacetWrap)(t);return(0,l.useFacetEffect)(((t,n)=>{if(!n||!t)return;const r=requestAnimationFrame((()=>{"contentful"===e?a.contentfulPaint():a.meaningfulPaint()}));return()=>{cancelAnimationFrame(r)}}),[a,e],[n,r]),null}function Ry({component:e,tab:t}){const a=f(),n=(0,l.useFacetMap)((e=>e.tab===t),[t],[g()]),o=(0,l.useFacetMap)(((e,t)=>t&&e),[],[a,n]),i=(0,l.useFacetMap)((e=>!e),[],[o]),c=(0,r.useRef)(!1),s=(0,l.useFacetMemo)((e=>(c.current=c.current||e,c.current)),[],[o]);return r.createElement(l.Mount,{when:s},r.createElement(A,{value:n},r.createElement(Xr,{disabled:i},r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>zr()("cf6ef84f5d40cb2f97fc",{e5588282f6a3ed92a09e:!e})),[],[n])},r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(e,null)))))}function Ly({Component:e,route:t,wideSize:a,narrowSize:n}){const l=(0,r.useRef)(null),o=(12-a)/2,i=(8-n)/2,c=(0,r.useCallback)((()=>r.createElement(Cv.Row,{innerRef:l,fullHeight:!0,className:"b141d2f35176628a8d1d"},r.createElement(Cv.Column,{wideSize:o,narrowSize:i}),r.createElement(Cv.Column,{wideSize:a,narrowSize:n},r.createElement(e,null)),r.createElement(Cv.Column,{wideSize:o,narrowSize:i}))),[e,i,n,o,a]);return r.createElement(Ry,{tab:t,component:c})}function _y({children:e,role:t,icon:a,align:n="top"}){const o=wr(),i=(0,l.useFacetMap)((e=>zr()("e278296f352096778e91",o[e].background.base,o[e].text.base)),[o],[(0,l.useFacetWrap)(t)]),c=(0,l.useFacetWrap)(a),s=(0,l.useFacetMap)((e=>Boolean(e)),[],[c]);return r.createElement("div",{className:zr()("ffcb52beb2dd61115b89",{b7a35d6f2248044c8884:"top"===n,faa4a58f0b1724285d32:"center"===n,d3c7a1ef3d93f05969eb:"bottom"===n})},r.createElement(l.Mount,{when:s},r.createElement("fast-div",{className:i},r.createElement("span",{className:"f4ae00390b08d647afbf"},a),r.createElement(zm,{type:"body",role:t,overflowEllipsis:!0},e))),r.createElement(l.Mount,{when:s,condition:!1},r.createElement(zm,{className:i,type:"body",role:t,overflowEllipsis:!0},e)))}function Dy({tags:e,className:t,fixedHeight:a}){return r.createElement("div",{style:{height:`${a}rem`},className:zr()("add32e8f7f13ca32dd59",t)},r.createElement(l.Map,{array:e},(e=>r.createElement(Wy,{tag:e}))))}function Wy({tag:e}){const t=(0,l.useFacetMap)((e=>e.role),[],[e]),a=(0,l.useFacetMap)((e=>e.label),[],[e]);return r.createElement(_y,{role:t},a)}const By=(e,t)=>e.isProfanityInString(t),Uy=e=>{const t=Oy.useModal(),a=t.show;return[(0,l.useFacetCallback)((t=>(n,r)=>By(t,n)?(e&&r(""),a(),Vg.INVALID):Vg.VALID),[e,a],[(0,l.useSharedFacet)(rs)]),t]};function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},zy.apply(null,arguments)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Hy.apply(null,arguments)}const jy=e=>{let{onBlur:t,filterProfanity:a=!1,clearOnProfanity:n=!0}=e,o=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["onBlur","filterProfanity","clearOnProfanity"]);const[i,c]=Uy(n),s=(0,r.useCallback)(((e,n)=>null!=t?t(e,n,By):a?i(e,n):void 0),[t,i,a]);return r.createElement(r.Fragment,null,r.createElement(qg,Hy({},o,{onBlur:s})),r.createElement(l.Mount,{when:c.isVisible},r.createElement(Oy.Component,{onClose:c.hide})))};jy.WithButton=e=>{let{onBlur:t,filterProfanity:a=!1,clearOnProfanity:n=!0,buttonVariant:o="secondary"}=e,i=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["onBlur","filterProfanity","clearOnProfanity","buttonVariant"]);const[c,s]=Uy(n),u=(0,r.useCallback)(((e,n)=>null!=t?t(e,n,By):a?c(e,n):void 0),[t,c,a]);return r.createElement(r.Fragment,null,r.createElement(qg.WithButton,zy({},i,{onBlur:u,buttonVariant:o})),r.createElement(l.Mount,{when:s.isVisible},r.createElement(Oy.Component,{onClose:s.hide})))};const Vy=({isLocked:e,progress:t,progressTarget:a},n)=>{const r=Wv(t,a),l=Math.round(100*t);return e&&t>0&&t<1?[n(".narration.progress"),n(".narration.percentage",[`${r}`,`${a}`]),`${l}%`]:[]},Gy=()=>{const{t:e,f:t}=Fc("AchievementDetailsRoute"),a=Jr(),n=el(),o=tv(Ko),i=(0,l.useFacetUnwrap)((0,l.useSharedFacet)(di(n.id))),c=!(i===l.NO_VALUE||!i.isLoaded),s=i===l.NO_VALUE?void 0:i.achievement,u=py((0,l.useSharedFacet)(ui),1e4),d=py((0,l.useSharedFacet)(ui),1500),m=(0,l.useFacetUnwrap)(u),p=(0,l.useFacetUnwrap)(d),f=(0,r.useRef)(null),g=c&&!s;(0,r.useEffect)((()=>{g&&a.goBack()}),[g,a]);const E=Boolean(o&&s&&null!=s.rewardName&&s.rewardImage),h=null!=s?[s.isLocked?e(".narration.locked"):e(".narration.completed"),s.dateUnlocked>0?t.formatDate(s.dateUnlocked):"",s.name,s.description,...0!==s.gamerScore?[e(".narration.gamerscore"),`${s.gamerScore}`]:[],...Vy(s,e)].join(" . "):"";if(i===l.NO_VALUE)return null;const b=o&&s&&s.hasReward&&s.isRewardOwned&&s.isLocked;return r.createElement(av,null,r.createElement(Zf,{text:e(".narration.title")},p!==l.NO_VALUE&&p&&(m===l.NO_VALUE||!m)&&r.createElement(ev,{text:e(".narration.loadingMessage")}),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:c}),r.createElement(yv,{onBackButton:a.goBack,center:r.createElement(zm,{type:"header5A"},e(".title")),delegateFocusFromMemory:!0,gamepadAlias:"achievements-details-layout-content",delegateByAlias:"achievements-details-wrapper",shouldNotDelegateToContent:!E},m!==l.NO_VALUE&&m?r.createElement(Cv,null,r.createElement(Cv.Row,{gamepadIndex:0},r.createElement(Cv.Column,{wideSize:2,narrowSize:1}),r.createElement(Cv.Column,{gamepadIndex:0,wideSize:8,narrowSize:6},r.createElement(Nm,{size:2}),r.createElement(_v,{gamepadAlias:"ach-details-empty-state",gamepadIndex:0,text:e(".errorMessage")})))):r.createElement(Zf,{text:h},r.createElement(Cv,null,r.createElement(Yp,{containerRef:f,delegateFocusFromMemory:!0,alias:"achievements-details-wrapper",delegateFocusByAlias:"reward-wrapper"},r.createElement(Cv.Row,{innerRef:f,gamepadIndex:0},(!E||!c)&&r.createElement(Cv.Column,{wideSize:2,narrowSize:1}),r.createElement(Cv.Column,{gamepadIndex:0,wideSize:8,narrowSize:E&&c?5:6},r.createElement(jf,{gamepadIndex:0,focusableIfScrollable:!0},r.createElement(Nm,{size:2}),s?r.createElement(Qv,{loading:!1,title:s.name,image:s.image,description:s.description,progress:s.progress,progressTarget:s.progressTarget,isLocked:s.isLocked,dateUnlocked:s.dateUnlocked,gamerscore:s.gamerScore,gamepadIndex:0,completedOnAnotherPlatform:!!b}):r.createElement(Qv,{gamepadIndex:0,loading:!0}),r.createElement(Nm,{size:2}),r.createElement(LE.Space,null))),E&&s&&null!=s.rewardName&&null!=s.rewardImage&&r.createElement(Cv.Column,{gamepadIndex:1,wideSize:4,narrowSize:3},r.createElement(jf,{gamepadAlias:"reward-wrapper",delegateFocusByAlias:"reward-button",gamepadIndex:0,loading:!c},r.createElement(Nm,{size:2}),r.createElement(ay,{title:s.rewardName,onClickView:()=>{a.push(`/persona?itemId=${s.rewardId}`)},isOwned:hi(s),image:s.rewardImage}),r.createElement(Nm,{size:2}),r.createElement(LE.Space,null))))))))))},$y=a.p+"assets/all_achievements_unlocked-145c0069c2ef6346f397.png",Ky=a.p+"assets/no_achievements_unlocked-343d744c947a19477b23.png",Yy=a.p+"assets/error-message-9e281d5900185e023433.png",Xy=a.p+"assets/unavailable-on-preview-2120ed4143899bec70cc.png",qy=(0,r.createContext)((()=>{}));function Qy({children:e}){const[t,a]=(0,l.useFacetState)(!1);return r.createElement(qy.Provider,{value:a},e,r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>e?"fdbb05e0215652e53c18":""),[],[t])}))}const Zy=(0,r.createContext)(null),Jy=()=>(0,r.useContext)(Zy),eF=(0,r.createContext)(null),tF=(0,r.createContext)(null),aF=(0,r.createContext)(null);function nF({children:e}){const t=lt(),a=(0,r.useMemo)((()=>(0,l.createFacet)({initialValue:{}})),[]),n=(0,r.useMemo)((()=>(0,l.createFacet)({initialValue:{}})),[]),o=(0,l.useFacetMap)((e=>null!=rF(e)),[],[a]),i=(0,r.useContext)(qy);(0,l.useFacetEffect)(i,[i],[o]);const c=(0,l.useFacetCallback)(((e,t)=>r=>{const o=rF(e);null!=o&&"gamepad"==o.dragging&&(a.setWithCallback((e=>{const a="up"===r?-1:"down"===r?1:0,n=o.gamepadHoverIndex+a,l=function(e,t){if(null==e)return null;for(const a in e){const n=e[a];if(n.index===t)return n}}(t,o.index);for(const e in t){const a=t[e];if(a.index===n){var i;const e=null===(i=a.ref.current)||void 0===i?void 0:i.getBoundingClientRect();if(null==o.startX||null==o.startY){var c;const e=null==l||null===(c=l.ref.current)||void 0===c?void 0:c.getBoundingClientRect();var s,u;null!=e&&(o.startX=null!==(s=e.left)&&void 0!==s?s:0,o.startY=null!==(u=e.top)&&void 0!==u?u:0)}if(null==e)break;const t=n===o.index;o.gamepadHoverIndex=n,o.transform=t?"translate(0, 0)":`translate(${e.left-o.startX+o.gamepadDragXOffsetPx}px, ${e.top-o.startY+o.gamepadDragYOffsetPx}px)`;break}}return e})),n.setWithCallback((e=>{if(e!=l.NO_VALUE)for(const t in e){const a=e[t],n=o.index<a.index&&o.gamepadHoverIndex>=a.index,r=o.index>a.index&&o.gamepadHoverIndex<=a.index;a.displacement=n?-1:r?1:0,a.hovering=o.gamepadHoverIndex===a.index}return e})))}),[a,n],[a,n]),s=(0,l.useFacetCallback)(((e,t,r)=>o=>{const i=rF(e);if(!r&&null==o.touches)return;const{clientX:c,clientY:s}=r?o:o.touches[0],u=function(e,t,a){if(null==a)return null;let n=null,r=null;for(const l in a){const o=a[l];if(null==o.centerX||null==o.centerY)continue;const i=Math.hypot(e-o.centerX,t-o.centerY);(null==r||i<r)&&(r=i,n=o)}return n}(c,s,t);null!=i&&(a.setWithCallback((e=>{if(null!=i.startX&&null!=i.startY){var t;const e="y"===i.pointerAxisLock?0:c-i.startX,a="x"===i.pointerAxisLock?0:s-i.startY;i.transform=`translate(${e}px, ${a}px)`,i.pointerHoverIndex=null!==(t=null==u?void 0:u.index)&&void 0!==t?t:i.index,i.pointerHoverIndex!==(null==i?void 0:i.index)&&(i.hasDraggedPointerBeyondStartArea=!0)}return e})),n.setWithCallback((e=>{if(null!=u&&e!=l.NO_VALUE){for(const t in e){const a=e[t],n=i.index<a.index&&u.index>=a.index,r=i.index>a.index&&u.index<=a.index;a.displacement=n?-1:r?1:0,a.hovering=!1}u.hovering=!0}return e})))}),[a,n],[a,n,t]);(0,r.useEffect)((()=>{const e=()=>{let e;window.removeEventListener("mousemove",s),window.removeEventListener("touchmove",s),a.setWithCallback((t=>{if(t!=l.NO_VALUE)for(const a in t){const n=t[a];0!=n.dragging&&(e=n.data),n.hasDraggedPointerBeyondStartArea=!1,n.dragging=!1,n.transform="",n.zIndex="",n.startX=null,n.startY=null}return t})),n.setWithCallback((t=>{if(t!=l.NO_VALUE)for(const a in t){const n=t[a];!0===n.hovering&&n.onDrop(e,n.data),n.displacement=null,n.hovering=!1}return t}))};return window.addEventListener("mouseup",e),window.addEventListener("touchend",e),()=>{window.removeEventListener("mouseup",e),window.removeEventListener("touchend",e)}}),[s,a,n]);const u=(0,r.useContext)(at),d=(0,r.useMemo)((()=>({addDraggable:e=>{null!=e.id&&a.setWithCallback((t=>{var a,n;return t!=l.NO_VALUE&&(t[e.id]={id:e.id,gamepadHoverIndex:e.index,pointerHoverIndex:e.index,hasDraggedPointerBeyondStartArea:!1,ref:e.ref,data:e.data,index:e.index,dragging:!1,transform:"",zIndex:"",startX:null,startY:null,pointerAxisLock:e.pointerAxisLock,gamepadDragXOffsetPx:null!==(a=e.gamepadDragXOffsetPx)&&void 0!==a?a:0,gamepadDragYOffsetPx:null!==(n=e.gamepadDragYOffsetPx)&&void 0!==n?n:0}),t}))},removeDraggable:e=>{e&&a.setWithCallback((t=>(t!=l.NO_VALUE&&delete t[e],t)))},addDroppable:e=>{null!=e.id&&function e(t){var a;const r=null===(a=t.ref.current)||void 0===a?void 0:a.getBoundingClientRect();null==r||0===r.width&&0===r.height?requestAnimationFrame((()=>e(t))):requestAnimationFrame((()=>{n.setWithCallback((e=>(null==r||e==l.NO_VALUE||(e[t.id]={data:t.data,index:t.index,hovering:!1,centerX:r.left+r.width/2,centerY:r.top+r.height/2,left:r.left,top:r.top,displacement:null,ref:t.ref,onDrop:t.onDrop}),e)))}))}(e)},removeDroppable:e=>{n.setWithCallback((t=>(t!=l.NO_VALUE&&delete t[e],t)))},pointerDragStart:(e,t,r)=>{window.addEventListener("mousemove",s),window.addEventListener("touchmove",s),n.setWithCallback((t=>{if(t!=l.NO_VALUE){var a;null!=(null===(a=t[e])||void 0===a?void 0:a.hovering)&&(t[e].hovering=!0);for(const e in t){var n;if(null==t)break;const a=t[e],r=null===(n=a.ref.current)||void 0===n?void 0:n.getBoundingClientRect();null!=r&&(a.centerX=r.left+r.width/2,a.centerY=r.top+r.height/2,a.left=r.left,a.top=r.top,a.displacement=0)}}return t})),a.setWithCallback((a=>{if(a!=l.NO_VALUE){a[e].dragging="pointer";const n=a[e].ref.current,l=null==n?void 0:n.getBoundingClientRect();if(null==l)return a;const o=a[e].pointerAxisLock,i="y"===o?0:t-l.left,c="x"===o?0:r-l.top,s=c>l.height||i>l.width;a[e].transform=s?`translate(${i}px, ${c}px)`:"translate(0, 0)",a[e].zIndex=4,a[e].startX=s?t-i:t,a[e].startY=s?r-c:r}return a}))},focusDragStop:()=>{const e=a.get();if(e!=l.NO_VALUE){const t=rF(e);"gamepad"===(null==t?void 0:t.dragging)&&d.focusDragToggle(t.id)}},focusDragToggle:e=>{a.setWithCallback((t=>{if(t!=l.NO_VALUE){const a=t[e];0!=a.dragging?(window.removeEventListener("mousemove",d.focusDragStop),window.removeEventListener("touchstart",d.focusDragStop),a.dragging=!1,a.zIndex="",a.transform="",a.gamepadHoverIndex=a.index,n.setWithCallback((e=>{if(e!=l.NO_VALUE)for(const t in e){const n=e[t];!0===n.hovering&&n.onDrop(a.data,n.data),n.displacement=null,n.hovering=!1}return e}))):(u.get()===qe.ARVR_None&&(window.addEventListener("mousemove",d.focusDragStop),window.addEventListener("touchstart",d.focusDragStop)),a.dragging="gamepad",a.zIndex=4,n.setWithCallback((t=>{if(t!=l.NO_VALUE){var a;null!=(null===(a=t[e])||void 0===a?void 0:a.hovering)&&(t[e].hovering=!0);for(const e in t)t[e].displacement=0}return t})))}return t}))},focusDragMove:c})),[s,c,a,n,u]);return r.createElement(Zy.Provider,{value:d},r.createElement(aF.Provider,{value:n},r.createElement(tF.Provider,{value:a},r.createElement(eF.Provider,{value:o},e))))}function rF(e){for(const t in e)if(!1!==e[t].dragging)return e[t]}const lF=()=>(0,r.useContext)(eF),oF="bf2496c9887c161aa9a1";function iF({role:e="destructiveTint",children:t,overflowCount:a=99}){const n=wr(e),o=null!=t,i=zr()(n.border.base,n.background.base,n.text.base,o?"f4af3f22d88df15a65b0":oF),c=(0,l.useFacetMap)((e=>e>a&&0!=a?`+${a}`:`${e}`),[a],[(0,l.useFacetWrap)(null!=t?t:0)]);return o?r.createElement("div",{className:i},r.createElement("div",{className:"e45972d5a0b5f0bb0269"},r.createElement(zm,{type:"body",role:e,align:"center"},c))):r.createElement("div",{className:i},r.createElement("div",{className:oF}))}const cF="caa7713b620a56fca5ba";function sF({tabs:e,gamepadAliasNamespace:t,value:a,onChange:n,narrationTitle:o,enableGamepadShortcuts:i,onTabHoveredSoundEffect:c,onTabPressedSoundEffect:s,isCondensed:u=!1,role:d="neutral",badgeRole:m}){const{t:p}=Fc("TabBar"),f=(0,r.useRef)(null),g=(0,l.useFacetWrap)(null!=i&&i),E=(0,l.useFacetWrap)(e),h=(0,l.useFacetMap)((e=>e.length),[],[E]),b=(0,l.useFacetWrap)(a),v=(0,l.useFacetMap)((e=>`${p(".narrationGroup",[e])}`),[p],[(0,l.useFacetWrap)(o)]),y=Tr(d),F=cn(),S=(0,l.useFacetCallback)(((e,t)=>(a,r)=>{if(t===a)return;const l=null!=e?e:y.toggle;null!=l&&F(l),n(a,r)}),[n,y.toggle,F],[(0,l.useFacetWrap)(s),b]);return r.createElement(Zf,{text:v},r.createElement("div",{className:"b8033d21e5aee21fef4f"},r.createElement(Yp,{containerRef:f,alias:"play-screen-tab-bar-wrapper",delegateFocusFromMemory:!0},r.createElement("div",{ref:f,className:"b24390432f8df906a117"},r.createElement(l.Map,{array:E},((e,a)=>r.createElement(dF,{gamepadAliasNamespace:t,key:`tab_${a}`,index:a,length:h,tab:e,selectedTab:b,onChange:S,onTabHoveredSoundEffect:c,isCondensed:u,badgeRole:m}))))),r.createElement(l.Mount,{when:g},r.createElement(uF,{value:b,onChange:S,tabs:E}))))}const uF=function({value:e,tabs:t,onChange:a}){var n;const o=ct(),i=(0,l.useFacetWrap)(null!==(n=lF())&&void 0!==n&&n),c=(0,l.useFacetCallback)((e=>t=>e[t].value),[],[t]),s=(0,l.useFacetCallback)((e=>t=>e.findIndex((({value:e})=>e===t))),[],[t]),u=(0,l.useFacetMap)((e=>s(e)),[s],[e]),d=(0,l.useFacetCallback)((e=>()=>{const t=e-1;if(t>-1){const e=c(t);e!==l.NO_VALUE&&a(e,!0)}}),[c,a],[u]),m=(0,l.useFacetCallback)(((e,t)=>()=>{const n=t+1;if(n<e.length){const e=c(n);e!==l.NO_VALUE&&a(e,!0)}}),[c,a],[t,u]),p=$E.useIsAnyModalVisible(),f=(0,l.useFacetMap)(((e,t)=>({button:j.LEFT_BUMPER,disabled:e||t})),[],[p,i]),g=(0,l.useFacetMap)(((e,t)=>({button:j.RIGHT_BUMPER,disabled:e||t})),[],[p,i]);return r.createElement(l.Mount,{when:o},r.createElement(r.Fragment,null,r.createElement(Xf,{options:f,onClick:d}),r.createElement(Xf,{options:g,onClick:m}),r.createElement("div",{className:"e643626245f37cb98190"},r.createElement(LE.Icon,{button:j.LEFT_BUMPER})),r.createElement("div",{className:"f509afa923d0e05ee68c"},r.createElement(LE.Icon,{button:j.RIGHT_BUMPER}))))};function dF({gamepadAliasNamespace:e,selectedTab:t,onChange:a,index:n,length:o,tab:i,onTabHoveredSoundEffect:c,onTabPressedSoundEffect:s,isCondensed:u=!1,role:d="neutral",badgeRole:m}){const{t:p}=Fc("TabBar"),{narrateText:f}=Hf(),g=wr(d),E=xr(),h=(0,l.useFacetMap)((e=>{var t;return null!==(t=e["data-testid"])&&void 0!==t?t:`tab-${e.value}`}),[],[i]),b=(0,l.useFacetMap)(((e,t)=>e===t.value),[],[t,i]),v=(0,l.useFacetMap)((e=>!e),[],[b]),y=(0,l.useFacetMap)(((e,t,a)=>[e.label,p(".narrationComponentType"),p(".selectedTab",[`${n+1}`,`${a}`]),p("."+(t?"selected":"notSelected")),e.hint].filter((e=>e)).join(" . ")),[n,p],[i,b,o]),F=(0,l.useFacetMap)((e=>zr()("e2f6aa3d9859af25ebc1",g.background.interactive,g.border.base,{ce00fc8d9ffe2e7c81a7:u,[E.pressed]:e,[cF]:e})),[u,E,g],[b]),S=(0,l.useFacetCallback)((e=>()=>{f(p(".selected")),a(e.value,!1)}),[f,a,p],[i]),C=(0,l.useFacetMap)((t=>mF(e,t.value)),[e],[i]),M=(0,l.useFacetMap)((e=>!e&&p(".open")),[p],[b]),w=(0,l.useFacetUnwrap)((0,l.useFacetMap)(((e,t)=>e.icons&&r.createElement(r.Fragment,null,e.icons[t?"selected":"unselected"],r.createElement(Nm,{size:2}))),[],[i,b])),k=(0,l.useFacetMap)((e=>null!=e.badge),[],[i]),T=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.badge)&&void 0!==t?t:0}),[],[i]),P=(0,l.useFacetMap)((e=>zr()("e6f43ce77d2859060088",e?"f30114cb1480385f0db8":null)),[],[k]),I=(0,l.useFacetMap)((e=>e.label),[],[i]),x=(0,l.useFacetMap)((e=>zr()("d85a124495c0e6b41efb",{c4a1c4bccf7b7df4076e:e})),[],[k]);return r.createElement(Tm,{className:F,classNameFocused:zr()("dff77a1ee2ed6516d1ed",kp),classNamePressed:cF,onClick:S,gamepadAlias:C,gamepadIndex:n,inputLegend:M,soundEffectHovered:c,soundEffectPressed:s,narrationText:y,"data-testid":h},r.createElement(wp,{role:d}),r.createElement("div",{className:"a2e588c6a381b284fbeb"},r.createElement(Lp,{role:d}),r.createElement("fast-div",{className:x,style:{}},r.createElement("fast-div",{className:P},r.createElement(zm,{type:"body",role:d,verticalAlign:"center",disableable:b,interactive:v},w!==l.NO_VALUE&&null!=w&&w,r.createElement(xm,null,I)),r.createElement(l.Mount,{when:k},r.createElement("div",{className:"c99fefa9575af42b82c3"},r.createElement(Nm,{size:2}),r.createElement(iF,{role:m},T)))))),r.createElement("div",{className:zr()("cba4a8c02e1eb1bb379d",g.shadow.base)}),r.createElement(l.Mount,{when:b},r.createElement("div",{className:zr()("a2c11937fe7d1cff8659",g.icon.base)})))}function mF(e,t){return`tab-bar-${e}-${t}`}sF.getFocusAlias=mF;var pF=a(66139),fF=a.n(pF);function gF(){return gF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},gF.apply(null,arguments)}const EF={0:"",1:"c426dff68d6aac505b55",2:"a3f51333c7f958ae767a",3:"a166240d3c44f6e16bb6",4:"b1aef116787b538de66d",5:"f149b478dd7a91bf5254",6:"f323cc0a6b7f5041b7e3",7:"fd8e1fd63586eb98bb03",8:"ca0f15092c2a717887e4"},hF={0:"",1:"f7b2a209a70525659357",2:"f3105f68b31335042a28",3:"e904252b2309a9afa4b4",4:"d8f5c94fbe64c880fee9",5:"b4b67b62c799ccf055aa",6:"a8b094431d1cf3e68e6a",7:"b3995d17840d7b06ba3a",8:"cb0766a44fee4de6a615"},bF={0:0,1:.4,2:.8,3:1.2,4:1.6,5:2,6:2.4,7:3.2,8:6.4};function vF(e){var t,a,n,o;const i=(0,r.useRef)(null),c=null!==(t=e.containerRef)&&void 0!==t?t:i,s=Ad(e.rowSizeRem),u=Ad(null!==(a=bF[null!==(n=e.spacingSize)&&void 0!==n?n:0])&&void 0!==a?a:0),d=(0,l.useFacetMap)(((e,t)=>e+t),[],[s,u]),m=Ad(null!==(o=e.headerSizeRem)&&void 0!==o?o:0);return r.createElement(SF,gF({},e,{containerRef:c,firstRowRef:(0,r.useRef)(null),headerRef:(0,r.useRef)(null),headerSize:m,firstRowSize:d,containerSize:(0,l.useFacetWrap)(e.containerSizePixels),forceRowHeight:!0}))}function yF(e){var t;const[a,n]=(0,l.useFacetState)(0),o=(0,r.useRef)(null),i=null!==(t=e.containerRef)&&void 0!==t?t:o,c=(0,r.useCallback)((({height:e})=>n(e)),[n]);Bd(i,c);const[s,u]=(0,l.useFacetState)(0),d=(0,r.useRef)(null),m=(0,r.useCallback)((({height:e})=>u(e)),[u]);Bd(d,m);const[p,f]=(0,l.useFacetState)(0),g=(0,r.useRef)(null),E=(0,r.useCallback)((({height:e})=>f(e)),[f]);return Bd(g,E),r.createElement(SF,gF({},e,{containerRef:i,containerSize:a,firstRowRef:d,firstRowSize:s,headerRef:g,headerSize:p}))}const FF=(0,l.createStaticFacet)(0);function SF(e){const{loading:t,renderItem:a,data:n,columnCount:o,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,overflowCount:s,equalityCheck:u,footer:d,spacingSize:m=0,emptyMessage:p,containerSize:f,headerSize:g,firstRowSize:E,containerRef:h,headerRef:b,firstRowRef:v,header:y,__initialRowOffsetPX:F=FF,gamepadAlias:S,padSpinnerVertically:C,renderTracker:M,delegateFocusFromMemory:w,forceRowHeight:k,isGrid:T,gridCellWidth:P,gridCellHeight:I,gridColumns:x,gridRows:A,gridCellSizeAuto:O,scrollbarBackgroundRole:N,onScroll:R}=e,[L,_]=(0,r.useState)(1),[D,W]=(0,l.useFacetState)(0),B=(0,l.useFacetMap)((e=>Math.ceil(e.length/o)),[o],[n]),U=(0,l.useFacetMap)((e=>e.length),[],[n]),z=(0,l.useFacetMap)((e=>e<=0),[],[U]),H=(0,l.useFacetMap)(((e,t,a)=>Math.ceil(e.length/o)*t+a),[o],[n,E,F]);return(0,l.useFacetEffect)(((e,t,a)=>{if(0===e||0===t)return;const n=Math.round(e/t)+2*s;_(a<n?a+2*s:n)}),[s],[f,E,B]),(0,l.useFacetLayoutEffect)(((e,t,a,n)=>{const r=h.current;if(null==r)return;let l,o;const i=()=>{const c=Math.max(0,Math.min(r.scrollTop,n-r.offsetHeight));c!==l&&(W(Math.round((c-t+a)/e)-s),l=c),o=requestAnimationFrame(i)};return i(),()=>{cancelAnimationFrame(o)}}),[W,s,h],[E,g,F,H]),r.createElement(CF,{gamepadAlias:S,scrollRef:h,loading:t,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,delegateFocusFromMemory:w,padSpinnerVertically:C,renderTracker:M,isGrid:T,gridCellWidth:P,gridCellHeight:I,gridColumns:x,gridRows:A,gridCellSizeAuto:O,scrollbarBackgroundRole:N,onScroll:R},null!=y?r.createElement("div",{ref:b},y):null,r.createElement(xl,{data:z},(e=>e?r.createElement(r.Fragment,null,p):r.createElement("fast-div",{className:`${hF[m]} fd0058e9ca2bb1a59f7e`,style:{heightPX:H},"data-testid":"glv-container"},fF()((e=>r.createElement(kF,{key:e,data:n,dataLength:U,startRowIndex:D,relativeRowIndex:e,rowCount:B,columnCount:o,renderItem:a,rowHeight:E,visibleCount:L,equalityCheck:u,innerRef:0===e?v:void 0,headerSize:g,spacingSize:m,rowOffset:F,forceRowHeight:k})),L)))),d)}function CF({children:e,delegateFocusFromMemory:t=!0,focusGridIndex:a,gamepadAlias:n,loading:o,padSpinnerVertically:i,renderTracker:c,scrollIntoViewAlign:s,scrollIntoViewSpeedFactor:u,scrollRef:d,showSpinnerBorder:m,spinnerBackgroundColor:p,isGrid:f,gridCellWidth:g,gridCellHeight:E,gridColumns:h,gridRows:b,gridCellSizeAuto:v,scrollbarBackgroundRole:y,onScroll:F}){const S=(0,l.useIsDeferring)(),C=(0,l.useIsPaused)(),M=(0,l.useFacetMap)(((e,t)=>t||e||C),[C],[S,(0,l.useFacetWrap)(null!=o&&o)]);return r.createElement(jf,{delegateFocusFromMemory:t,focusGridIndex:a,gamepadAlias:n,innerRef:d,loading:M,padSpinnerVertically:i,renderTracker:c,showSpinnerBorder:m,spinnerBackgroundColor:p,scrollIntoViewAlign:s,scrollIntoViewSpeedFactor:u,shouldScrollWithAnalog:!1,isGrid:f,gridCellWidth:g,gridCellHeight:E,gridColumns:h,gridRows:b,gridCellSizeAuto:v,scrollbarBackgroundRole:y,onScroll:F},e)}const MF=3;function wF(e){const t=(0,l.useFacetWrap)(e.data),{columnCount:a,overflowCount:n=MF}=e,o=a<=0?1:a,i=n<0?0:n;return function(e){return null!=e.rowSizeRem}(e)?r.createElement(vF,gF({},e,{columnCount:o,overflowCount:i,data:t})):r.createElement(yF,gF({},e,{columnCount:o,overflowCount:i,data:t}))}function kF({data:e,dataLength:t,startRowIndex:a,relativeRowIndex:n,rowCount:o,columnCount:i,renderItem:c,rowHeight:s,visibleCount:u,equalityCheck:d,innerRef:m,spacingSize:p,rowOffset:f,forceRowHeight:g}){const E=(0,l.useFacetMemo)(((e,t)=>{const a=Math.floor((e+(u-1-n))/u)*u+n;return a<t&&a>=0?a:void 0}),[n,u],[a,o]),h=(0,l.useFacetMap)(((e,t,a)=>null==e?0:0==e?e*t:e*t+a),[],[E,s,f]),b=(0,l.useFacetMap)(((e,t,a)=>g?0===a?t+e:t:void 0),[g],[f,s,E]),v=(0,l.useFacetMap)((e=>null==e),[],[E]),y=(0,l.useFacetMap)((e=>e?"none":"flex"),[],[v]);return r.createElement(Xr,{disabled:v,hidden:v},r.createElement("fast-div",{className:zr()("c0a6c01304e322e1e159",EF[p]),style:{topPX:h,display:y,heightPX:b},ref:m},fF()((a=>r.createElement(TF,{dataLength:t,key:a,data:e,rowIndex:E,columnIndex:a,columnCount:i,equalityCheck:d,renderItem:c,spacingSize:p})),i)))}function TF({data:e,dataLength:t,rowIndex:a,columnIndex:n,columnCount:o,renderItem:i,equalityCheck:c,spacingSize:s}){const u=(0,l.useFacetMap)((e=>null==e?l.NO_VALUE:e*o+n),[n,o],[a]),d=(0,l.useFacetMemo)(((e,t)=>null!=t[e]?t[e]:l.NO_VALUE),[],[u,e],c),m=(0,l.useFacetMap)(((e,t)=>null==e?l.NO_VALUE:null==t[e*o+n]),[n,o],[a,e]),p=(0,l.useFacetMap)((e=>null==e?l.NO_VALUE:e),[],[a]);return r.createElement(r.Fragment,null,i({item:d,index:u,rowIndex:p,columnIndex:n,isHidden:m,listLength:t}),n<o-1&&s>0?r.createElement(Nm,{size:s}):null)}const PF=({label:e="",role:t="neutral"})=>{const a=(0,l.useFacetWrap)(t),n=wr();return r.createElement("fast-div",{className:"d988a68922cadaca06af"},r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>zr()("bb27595b5640a09b4bc5",n[e].background.base,n[e].border.base,n[e].text.base)),[n],[a])},r.createElement(zm,{type:"captionShort",role:t},r.createElement("fast-text",{text:e}))),r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>zr()("c0eee9e193db72f459f1",n[e].background.base,n[e].border.base)),[n],[a])}))};function IF({data:e,renderItem:t,containerSizePixels:a,rowSizeInRem:n,gamepadAlias:o,loading:i,footer:c,padSpinnerVertically:s,delegateFocusFromMemory:u,renderTracker:d,isGrid:m,gridItemHeight:p,gridItemWidth:f,scrollRef:g,onScroll:E}){const h=(0,l.useFacetWrap)(e),b=(0,l.useFacetMap)((e=>{const t=[];for(let a=0;a<e.length;a++){const{data:n,narrationSuffix:r,narrationTitle:l}=e[a];e[a].data.length<=0||t.push({isHeader:!0,narrationSuffix:r,narrationTitle:l,role:e[a].role,sectionIndex:a,sectionLength:n.length,numberOfSections:e.length,sectionTitle:e[a].title},...n.map(((t,o)=>({isHeader:!1,data:t,localIndex:o,narrationSuffix:r,narrationTitle:l,sectionIndex:a,sectionLength:n.length,numberOfSections:e.length,sectionTitle:e[a].title}))))}return t}),[],[h]),v=Ad(-(n-AF));return r.createElement(hm,{value:!1},r.createElement(wF,{renderTracker:d,loading:i,gamepadAlias:o,footer:c,rowSizeRem:n,padSpinnerVertically:s,containerSizePixels:a,data:b,columnCount:1,__initialRowOffsetPX:v,renderItem:({item:e,index:a})=>r.createElement(xF,{itemData:e,index:a,renderItem:t}),delegateFocusFromMemory:u,isGrid:m,gridCellHeight:p,gridCellWidth:f,containerRef:g,onScroll:E}))}function xF({itemData:e,renderItem:t}){const{t:a}=Fc("SectionList"),n=(0,l.useFacetMemo)((e=>e.isHeader),[],[e]),o=(0,l.useFacetMemo)((e=>e.isHeader?"none":"flex"),[],[e]);return r.createElement(Zf,{getText:(0,l.useFacetCallback)((e=>()=>{var t,n;return[a(".groupNarration",[null!==(t=e.narrationTitle)&&void 0!==t?t:e.sectionTitle,(e.sectionIndex+1).toString(),e.numberOfSections.toString()]),null!==(n=e.narrationSuffix)&&void 0!==n?n:""].filter(Boolean).join(" . ")}),[a],[e])},r.createElement(Xr,{disabled:n,hidden:n},r.createElement(OF,{role:(0,l.useFacetMap)((e=>e.isHeader?e.role:l.NO_VALUE),[],[e]),title:(0,l.useFacetMap)((e=>e.isHeader?e.sectionTitle:l.NO_VALUE),[],[e]),show:n}),r.createElement("fast-div",{style:{display:o,flex:1}},r.createElement(r.Fragment,null,t(e)))))}const AF=4.4;function OF({title:e,show:t,role:a}){const n=(0,l.useFacetMap)((e=>e?"flex":"none"),[],[t]);return r.createElement("fast-div",{style:{display:n,flex:1,justifyContent:"flex-end",flexDirection:"column"}},r.createElement(PF,{label:e,role:a}))}const NF=a.p+"assets/0-Achievement-Book-4892ed211f615067ecbb.png",RF=a.p+"assets/25-Achievement-Book-9e9a73c2f06e79e3cb4a.png",LF=a.p+"assets/50-Achievement-Book-cb611bcbeef8c3b7ffab.png",_F=a.p+"assets/75-Achievement-Book-5bb7425bb0e4886e48df.png",DF=a.p+"assets/100-Achievement-Book-c11e504be53351dc36df.png",WF=a.p+"assets/100-Achievement-sprite-0ed432354f3c9ebc352e.png";function BF({children:e,role:t="neutral80"}){const a=wr(t);return r.createElement(Zn,{role:t},r.createElement("div",{className:zr()("d62d8daf46f474c51c04",a.background.base,a.border.base)},e))}BF.Data=function({value:e,label:t,icon:a}){const n=wr("inherit");return r.createElement("div",{className:zr()("d61f5e94a58d77271db9",n.background.base)},r.createElement(Nm,{size:2}),a,r.createElement(Nm,{size:1}),r.createElement("div",{className:"ae6902d9e9e819526533"},r.createElement(zm,{type:"captionShort",variant:"dimmest"},t),r.createElement(zm,{type:"captionShort"},e)))},BF.Divider=function(){const e=wr("inherit");return r.createElement("div",{className:zr()("ee89fc2f3b0539a9dcc2",e.shadow.base)})};const UF=({status:e})=>r.createElement("fast-div",{className:(0,l.useFacetMap)((([e])=>zr()("ab0fff4b61eabb7130f5",{a391b03775646d6c7efc:"exited"===e||"exiting"===e||"unmounted"===e})),[],[e])},r.createElement(zf,null));BF.displayName="Summary",BF.SummarySpinner=({hidden:e})=>r.createElement(Cf,{visible:!e,timeout:500},(e=>r.createElement(UF,{status:e})));function zF(e){let{startFrame:t=0}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["startFrame"]);const n=(0,l.useFacetWrap)(a.className),o=(0,l.useFacetMap)(((e="")=>`f1cf63a33a644e24eafe ${e}`),[],[n]),i=(0,l.useFacetWrap)(a.disabled),c=(0,l.useFacetWrap)(a.paused),s=(0,l.useFacetMap)((e=>e?"none":"flex"),[],[i]),u=(0,l.useFacetMap)((e=>e?"paused":"running"),[],[c]),d=(0,l.useFacetWrap)(t),m=a.duration||500,p=(0,l.useFacetMap)((e=>{var t,n;return m/a.frames*(t=e,0,n=a.frames,Math.min(Math.max(t,0),n))*-1+"ms"}),[m,a.frames],[d]);return r.createElement("fast-div",{className:o,style:{display:s,backgroundImage:`url(${a.src})`,animationPlayState:u,animationName:"caa327c01ef79259bfeb",animationDirection:a.animationDirection||"normal",animationTimingFunction:`steps(${a.frames})`,animationIterationCount:"number"==typeof a.repeat?a.repeat.toString():"infinite",animationDuration:`${m}ms`,animationDelay:p,imageRendering:a.imageRendering,width:`calc(${10*a.width/(a.frames+1)} * var(--base1Scale))`,height:`calc(${10*a.height} * var(--base1Scale))`,backgroundSize:`calc(${10*a.width} * var(--base1Scale)) calc(${10*a.height} * var(--base1Scale))`}})}const HF="__VISUAL_REGRESSION_TEST_ICON_STYLE_CACHE__",jF=(e,t)=>{if("true"!==process.env.VISUAL_REGRESSION_TEST)throw new Error("useStyleTagInjection was run outside of a visual regression test, this should never happen!");(0,r.useEffect)((()=>{var a;if(null==document.getElementById(HF)){const e=document.createElement("style");e.setAttribute("id",HF),e.setAttribute("type","text/css"),document.body.appendChild(e)}const n=document.getElementById(HF);!1===(null==n||null===(a=n.textContent)||void 0===a?void 0:a.includes(e))&&(null==n||n.appendChild(document.createTextNode(`.${e} {${(e=>Object.entries(e).map((([e,t])=>`${e}:${t}`)).join(";"))(t)}}`)))}),[e,t])};function VF(){return VF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},VF.apply(null,arguments)}function GF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $F(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function KF(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const YF="undefined"!=typeof process&&"true"===process.env.VISUAL_REGRESSION_TEST,XF=(e,t,a,n)=>{let r=0;if("number"==typeof e)r=e;else if(t)r=n.default[a];else{var l,o;r=null!==(l=null===(o=n.canvas)||void 0===o?void 0:o[a])&&void 0!==l?l:n.default[a]}return YF?r/10+"rem":`calc(${r} * var(--base1Scale))`},qF=({displayName:e,src:t,width:a,height:n,scale:o=1,canvasWidth:i,canvasHeight:c})=>{const s=`url('${t}')`,u=(({sourceWidth:e,sourceHeight:t,sourceScale:a,canvasWidth:n=0,canvasHeight:r=0})=>{const l=1/a;return{canvas:n&&r?{maskSize:[e/n,t/r].map((e=>`${Math.floor(100*e)}%`)).join(" "),width:n*l,height:r*l}:null,default:{maskSize:"100% 100%",width:e*l,height:t*l}}})({sourceWidth:a,sourceHeight:n,sourceScale:o,canvasWidth:i,canvasHeight:c}),d=`${e}_default`,m=`${e}_canvas`;return t=>{let{role:a="inherit",variant:n,color:o,className:i,style:c,width:p,height:f,disabled:g,trimCanvas:E}=t,h=KF(t,["role","variant","color","className","style","width","height","disabled","trimCanvas"]);YF&&(jF(d,{"-webkit-mask-image":s,"-webkit-mask-size":u.default.maskSize}),u.canvas&&jF(`${e}_canvas`,{"-webkit-mask-image":s,"-webkit-mask-size":u.canvas.maskSize}));const b=wr(a),v=xr(),y=(0,l.useFacetWrap)(i),F=(0,l.useFacetWrap)(o),S=(0,l.useFacetWrap)(p),C=(0,l.useFacetWrap)(f),M=(0,l.useFacetWrap)(g),w=(0,l.useFacetWrap)(E),k=(0,l.useFacetWrap)(n),T=(0,l.useFacetMap)((e=>YF?e||!u.canvas?d:m:null),[],[w]),P=(0,l.useFacetMap)(((e,t,a,n,r)=>{var l,o,i,c;return zr()("df9b05ca2592d37698f0",{[null!==(l=null===(o=b.icon)||void 0===o?void 0:o.base)&&void 0!==l?l:""]:!Boolean(t),[null!==(i=null===(c=b.icon)||void 0===c?void 0:c.disable)&&void 0!==i?i:""]:a,[v.disabled]:a},n,e,r)}),[b,v],[y,F,M,k,T]),I=(0,l.useFacetMap)(((e,t)=>XF(e,t,"width",u)),[],[S,w]),x=(0,l.useFacetMap)(((e,t)=>XF(e,t,"height",u)),[],[C,w]),A=(0,l.useFacetMap)((e=>e||!u.canvas?u.default.maskSize:u.canvas.maskSize),[],[w]),O=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?GF(Object(a),!0).forEach((function(t){$F(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):GF(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({width:I,height:x,WebkitMaskImage:s,maskImage:s,WebkitMaskSize:A,maskSize:A,backgroundColor:F},c);return r.createElement("fast-div",VF({},h,{className:P,style:O}))}},QF=(e,...t)=>{const a=t.reduce(((e,t)=>{let{type:a}=t,n=KF(t,["type"]);return e[a]=qF(n),e}),{default:qF(e)}),n=e=>{var t;let{type:n="default"}=e,r=KF(e,["type"]);return null!==(t=a[n](r))&&void 0!==t?t:null};return n.displayName=e.displayName,n.alternates=t.reduce(((e,{type:t})=>(null!=t&&e.push(t),e)),[]),n},ZF={displayName:"IconAccessibility",src:a.p+"assets/accessibility@0.5x.icon-dad71ca29518aa899ffeea8d919e0307.png",width:9,height:10,scale:.5},JF={displayName:"IconAchievementBottle",src:a.p+"assets/achievement-bottle.icon-4eb8c1718579b71d03954cc52771e424.png",width:32,height:32,scale:1},eS={displayName:"IconAchievements",src:a.p+"assets/achievements@0.5x.icon-5e205a8fbedb160eddead32c83f3c312.png",width:12,height:12,scale:.5},tS={displayName:"IconAddBehaviourPack",src:a.p+"assets/add-behaviour-pack@0.5x.icon-996e963c008701ef813e1acd74e7f068.png",width:11,height:12,scale:.5},aS={displayName:"IconAddImage",src:a.p+"assets/add-image@0.5x.icon-9f40d0e426b8199372bdebbc93d0a371.png",width:12,height:12,scale:.5},nS={displayName:"IconAddOns",src:a.p+"assets/add-ons@0.5x.icon-8520e720ba44892a58302890eee7f1a9.png",width:12,height:12,scale:.5},rS={displayName:"IconAddOnsSmall",src:a.p+"assets/add-ons_small@0.5x.icon-2ecb1f8cb163f7d62882fca8fed6117a.png",width:8,height:8,scale:.5},lS={displayName:"IconAddPlayer",src:a.p+"assets/add-player@0.5x.icon-2f4379f41efcca69c3741a2054ee87d0.png",width:12,height:12,scale:.5},oS={displayName:"IconAddResourcePack",src:a.p+"assets/add-resource-pack@0.5x.icon-5ae9688afc0437276b31febb725f03df.png",width:11,height:12,scale:.5},iS={displayName:"IconAlbum",src:a.p+"assets/album@0.5x.icon-8eb06e4836f8f3baaec95f488db2aa02.png",width:12,height:12,scale:.5},cS={displayName:"IconApple",src:a.p+"assets/apple@0.5x.icon-f78b1690c84a7fcfa21ef56ad72e9387.png",width:11,height:12,scale:.5},sS={displayName:"IconArrowDown",src:a.p+"assets/arrow-down@0.5x.icon-94262108ab3b4e3a524d8a3a25c49c80.png",width:9,height:12,scale:.5},uS={displayName:"IconArrowLeft",src:a.p+"assets/arrow-left@0.5x.icon-7b87c58a422fe78b5bc658aa522c3872.png",width:12,height:9,scale:.5},dS={displayName:"IconArrowRight",src:a.p+"assets/arrow-right@0.5x.icon-14b53e561b57a6a9d45b301493d24897.png",width:12,height:9,scale:.5},mS={displayName:"IconArrowUp",src:a.p+"assets/arrow-up@0.5x.icon-887cf8fb1410930b75cab0028b79cd7f.png",width:9,height:12,scale:.5},pS={displayName:"IconBackup",src:a.p+"assets/backup@0.5x.icon-d2862dce4640eb9e73babb1453e77328.png",width:10,height:10,scale:.5},fS={displayName:"IconBell",src:a.p+"assets/bell@0.5x.icon-259b09ba26b33bdd5b23861e067a3eb7.png",width:10,height:11,scale:.5},gS={displayName:"IconBlock",src:a.p+"assets/block@0.5x.icon-5d2f0e304d776242b765beb9ca592059.png",width:12,height:12,scale:.5},ES={displayName:"IconBlockSmall",src:a.p+"assets/block_small@0.5x.icon-a564770b405899256c61060f43a29738.png",width:8,height:8,scale:.5},hS={displayName:"IconBoots",src:a.p+"assets/boots@0.5x.icon-552067cfbc3a2e0f6ecaeb3bb3fa57ca.png",width:11,height:10,scale:.5},bS={displayName:"IconBrush",src:a.p+"assets/brush@0.5x.icon-c1e1badcb9fb0e159a3edc986553cbb8.png",width:12,height:12,scale:.5},vS={displayName:"IconBrushSmall",src:a.p+"assets/brush_small@0.5x.icon-42a965633d1301f3ec95d45c16592c21.png",width:8,height:8,scale:.5},yS={displayName:"IconCheckmark",src:a.p+"assets/checkmark@0.5x.icon-6995d82c2fd8380979391eebf918a78d.png",width:8,height:6,scale:.5},FS={displayName:"IconCheckmarkSmall",src:a.p+"assets/checkmark_small@0.5x.icon-6995d82c2fd8380979391eebf918a78d.png",width:8,height:6,scale:.5},SS={displayName:"IconChevronDown",src:a.p+"assets/chevron-down@0.5x.icon-24a8c224d1fd5bd74a6bae99b39af6f0.png",width:7,height:4,scale:.5},CS={displayName:"IconChevronLeft",src:a.p+"assets/chevron-left@0.5x.icon-1db2f4b3cf3bf5b825bab6d3427e5638.png",width:4,height:7,scale:.5},MS={displayName:"IconChevronRight",src:a.p+"assets/chevron-right@0.5x.icon-207cac3d398ae5ea4a1440cfee1b4770.png",width:4,height:7,scale:.5},wS={displayName:"IconChevronUp",src:a.p+"assets/chevron-up@0.5x.icon-9b9c9b7e2068e310cd8f36ad25727f26.png",width:7,height:4,scale:.5},kS={displayName:"IconClosedCaptions",src:a.p+"assets/closed-captions@0.5x.icon-515dbd52a5f98f3f5c877e001bbdf3ca.png",width:11,height:10,scale:.5},TS={displayName:"IconClothes",src:a.p+"assets/clothes@0.5x.icon-75344eae678b89ecda58c9a34d4a7153.png",width:12,height:12,scale:.5},PS={displayName:"IconClothesSmall",src:a.p+"assets/clothes_small@0.5x.icon-b6e632bfba0f670a4c1c653646ca4b41.png",width:8,height:8,scale:.5},IS={displayName:"IconCloud",src:a.p+"assets/cloud@0.5x.icon-80e2312e601b3232f76ed300e420f408.png",width:10,height:10,scale:.5},xS={displayName:"IconComment",src:a.p+"assets/comment@0.5x.icon-2df014c80d34e96097db57c0539d7dc4.png",width:10,height:10,scale:.5},AS={displayName:"IconCross",src:a.p+"assets/cross@0.5x.icon-2be362862c2d2b2788bf60965e22edfa.png",width:7,height:7,scale:.5},OS={displayName:"IconCrossbow",src:a.p+"assets/crossbow@0.5x.icon-13ccfc756ad27e59192552c9131c9c91.png",width:11,height:11,scale:.5},NS={displayName:"IconDamage",src:a.p+"assets/damage@0.5x.icon-a1c2d872a76ba7994e8a5c1d2d84140e.png",width:9,height:9,scale:.5},RS={displayName:"IconDefault",src:a.p+"assets/default@0.5x.icon-8ce157a1cd8a7b1b048c31d49e2936df.png",width:6,height:6,scale:.5},LS={displayName:"IconDelete",src:a.p+"assets/delete@0.5x.icon-e2052155b7130121fedc9605a148df94.png",width:8,height:12,scale:.5},_S={displayName:"IconDocsPage",src:a.p+"assets/docs-page@0.5x.icon-10dc2f020b1d7e344febda0433c91e37.png",width:10,height:12,scale:.5},DS={displayName:"IconDocsSection",src:a.p+"assets/docs-section@0.5x.icon-6aed82490ffbe79e382baeb65306bf60.png",width:8,height:8,scale:.5},WS={displayName:"IconDownload",src:a.p+"assets/download@0.5x.icon-80549399fefda6981a87edf6ff2bd021.png",width:9,height:10,scale:.5},BS={displayName:"IconDragAndDrop",src:a.p+"assets/drag-and-drop@0.5x.icon-c9c33e57602a2248b035eea0d3028ead.png",width:3,height:5,scale:.5},US={displayName:"IconDuplicate",src:a.p+"assets/duplicate@0.5x.icon-ec7808b2467c4ad410e55e4663e70a11.png",width:11,height:11,scale:.5},zS={displayName:"IconEditImage",src:a.p+"assets/edit-image@0.5x.icon-d65de603d7d71b75ad29721c3327b2bc.png",width:12,height:12,scale:.5},HS={displayName:"IconEdit",src:a.p+"assets/edit@0.5x.icon-cc7f2d374d57ae7a3ea3b35e6e01870a.png",width:12,height:12,scale:.5},jS={displayName:"IconElytra",src:a.p+"assets/elytra@0.5x.icon-88c4df79263bc26ea9484e4d66d9cfcc.png",width:12,height:10,scale:.5},VS={displayName:"IconEmerald",src:a.p+"assets/emerald@0.5x.icon-02510dba716f8aa8a41a761a4022519c.png",width:10,height:12,scale:.5},GS={displayName:"IconEmote",src:a.p+"assets/emote@0.5x.icon-ada40e80fc1082d83ff42c9b94cc832c.png",width:12,height:12,scale:.5},$S={displayName:"IconEmoteSmall",src:a.p+"assets/emote_small@0.5x.icon-f21ff5a5e9d1d9d9f97e8fd7a6a79166.png",width:9,height:10,scale:.5},KS={displayName:"IconEnter",src:a.p+"assets/enter@0.5x.icon-c07398da3eeec6d9684543d7b12fdec3.png",width:11,height:11,scale:.5},YS={displayName:"IconExitFullscreen",src:a.p+"assets/exit-fullscreen@0.5x.icon-80d2bdd28c2fef7c8f800e6458b455f9.png",width:10,height:10,scale:.5},XS={displayName:"IconExit",src:a.p+"assets/exit@0.5x.icon-2af38c41215b3810c6892857e77063fd.png",width:11,height:11,scale:.5},qS={displayName:"IconExport",src:a.p+"assets/export@0.5x.icon-64be4eda0182e785acf325e1cb6ace23.png",width:9,height:10,scale:.5},QS={displayName:"IconExternalLink",src:a.p+"assets/external-link@0.5x.icon-2b6ce0bb0a430a1f4678d561eb34f9a8.png",width:12,height:12,scale:.5},ZS={displayName:"IconFilter",src:a.p+"assets/filter@0.5x.icon-f7d152ce01c79bc7bff2fd3452f1a3d5.png",width:12,height:12,scale:.5},JS={displayName:"IconFollowers",src:a.p+"assets/followers@0.5x.icon-4da569f229e7df54dca4a7552f8c0bc9.png",width:12,height:12,scale:.5},eC={displayName:"IconFriends",src:a.p+"assets/friends@0.5x.icon-23e2486fdf4998f34c316667554eb816.png",width:12,height:12,scale:.5},tC={displayName:"IconFriendsSmall",src:a.p+"assets/friends_small@0.5x.icon-cff7a2513fd64a11d0b5c4d0a684277b.png",width:10,height:10,scale:.5},aC={displayName:"IconFullscreen",src:a.p+"assets/fullscreen@0.5x.icon-bf4881368ce5d0df918f1ef63fea2333.png",width:12,height:12,scale:.5},nC={displayName:"IconGamerscore",src:a.p+"assets/gamerscore@0.5x.icon-fa65b4fa4c99f7a7b1ea4621c7ae5607.png",width:12,height:12,scale:.5},rC={displayName:"IconGamerscoreSmall",src:a.p+"assets/gamerscore_small@0.5x.icon-8aeecf26d14b7d40499b6cf5754e469b.png",width:7,height:7,scale:.5},lC={displayName:"IconGrid",src:a.p+"assets/grid@0.5x.icon-8ce157a1cd8a7b1b048c31d49e2936df.png",width:6,height:6,scale:.5},oC={displayName:"IconHanger",src:a.p+"assets/hanger@0.5x.icon-f97443bfb121f1cda005f374af3a32aa.png",width:12,height:12,scale:.5},iC={displayName:"IconHangerSmall",src:a.p+"assets/hanger_small@0.5x.icon-d2f74f71ecf3baece17b219fd120dd1b.png",width:8,height:8,scale:.5},cC={displayName:"IconHardcoreHeart",src:a.p+"assets/hardcore-heart@0.5x.icon-22f52aa5b0422256cd1812f9665d7540.png",width:9,height:9,scale:.5},sC={displayName:"IconHardcoreHeartSmall",src:a.p+"assets/hardcore-heart_small@0.5x.icon-22f52aa5b0422256cd1812f9665d7540.png",width:9,height:9,scale:.5},uC={displayName:"IconHeartActive",src:a.p+"assets/heart-active@0.5x.icon-8f7e9967d77f91e799921705e77c0a26.png",width:9,height:9,scale:.5},dC={displayName:"IconHeart",src:a.p+"assets/heart@0.5x.icon-42e2e1ce16992d1e59520ba26eac93e9.png",width:9,height:9,scale:.5},mC={displayName:"IconHourglass",src:a.p+"assets/hourglass@0.5x.icon-684a3139d4fe72e6925e0b5dfe817a5c.png",width:8,height:12,scale:.5},pC={displayName:"IconImage",src:a.p+"assets/image@0.5x.icon-9a2b8b649d99840398a784f87f47575f.png",width:10,height:10,scale:.5},fC={displayName:"IconInformation",src:a.p+"assets/information@0.5x.icon-93cdb27069518c25fea95a504167d069.png",width:10,height:10,scale:.5},gC={displayName:"IconInvite",src:a.p+"assets/invite@0.5x.icon-703395adb0b058f4c5479ff5c159b55c.png",width:12,height:12,scale:.5},EC={displayName:"IconLanHidden",src:a.p+"assets/lan-hidden@0.5x.icon-7ddac631dbaad66c283bb170ca2811ff.png",width:12,height:12,scale:.5},hC={displayName:"IconLan",src:a.p+"assets/lan@0.5x.icon-8c937ae4ef2ad58f884b85d360090402.png",width:12,height:12,scale:.5},bC={displayName:"IconList",src:a.p+"assets/list@0.5x.icon-42da782d464672cad936015a95ff57c4.png",width:8,height:7,scale:.5},vC={displayName:"IconLockLocked",src:a.p+"assets/lock-locked@0.5x.icon-ab340af560f90792c7038c6d22e9c666.png",width:8,height:8,scale:.5},yC={displayName:"IconLockLockedSmall",src:a.p+"assets/lock-locked_small@0.5x.icon-ab340af560f90792c7038c6d22e9c666.png",width:8,height:8,scale:.5},FC={displayName:"IconLockUnlocked",src:a.p+"assets/lock-unlocked@0.5x.icon-d7d575de6581356c776f5fff77389914.png",width:12,height:8,scale:.5},SC={displayName:"IconMashupPack",src:a.p+"assets/mashup-pack@0.5x.icon-49be22b1b52c36361a1a5d5293301ac2.png",width:12,height:12,scale:.5},CC={displayName:"IconMashupPackSmall",src:a.p+"assets/mashup-pack_small@0.5x.icon-8a0d4ec8ab620ace0ef09e69fdd90b92.png",width:8,height:8,scale:.5},MC={displayName:"IconMember",src:a.p+"assets/member@0.5x.icon-99c628c87b9e293f1597794c2c155274.png",width:12,height:12,scale:.5},wC={displayName:"IconMenu",src:a.p+"assets/menu@0.5x.icon-e297074a8df6e0c223c176ed68ecdd5a.png",width:8,height:7,scale:.5},kC={displayName:"IconMinus",src:a.p+"assets/minus@0.5x.icon-8db5e4bec32c1d34384a2b1c612ed52b.png",width:8,height:1,scale:.5},TC={displayName:"IconMissingImage1",src:a.p+"assets/missing-image-1@0.5x.icon-ac82fade79497c7587e098500db37ba1.png",width:12,height:12,scale:.5},PC={displayName:"IconMissingImage",src:a.p+"assets/missing-image@0.5x.icon-b099df8ab6445149a49e632842a0d380.png",width:12,height:12,scale:.5},IC={displayName:"IconMute",src:a.p+"assets/mute@0.5x.icon-59187cea7857a72d94b0e69f4ee8c4ad.png",width:11,height:10,scale:.5},xC={displayName:"IconNewsFeed",src:a.p+"assets/news-feed@0.5x.icon-c85825d326273c2ffb3b436dbad98842.png",width:12,height:12,scale:.5},AC={displayName:"IconOperator",src:a.p+"assets/operator@0.5x.icon-23882b92376c32f092220931307bb2c4.png",width:12,height:12,scale:.5},OC={displayName:"IconOptions",src:a.p+"assets/options@0.5x.icon-a0a3933c545fe16bb3edeff2968b0f57.png",width:2,height:8,scale:.5},NC={displayName:"IconParty",src:a.p+"assets/party@0.5x.icon-13ea559247c0f695a274c25c4de37bdb.png",width:12,height:11,scale:.5},RC={displayName:"IconPause",src:a.p+"assets/pause@0.5x.icon-1d45c4a8b78b5df73188268e1c374b6a.png",width:6,height:8,scale:.5},LC={displayName:"IconPermissionCustom",src:a.p+"assets/permission-custom@0.5x.icon-bdf0f523ef4e673f4c6ae0cc5b4852c9.png",width:12,height:12,scale:.5},_C={displayName:"IconPermissionMember",src:a.p+"assets/permission-member@0.5x.icon-92816b57441756ee137f7fdc4f968844.png",width:12,height:12,scale:.5},DC={displayName:"IconPermissionOperator",src:a.p+"assets/permission-operator@0.5x.icon-98eb755a73f24ed966a5f221a883f459.png",width:12,height:12,scale:.5},WC={displayName:"IconPermissionVisitor",src:a.p+"assets/permission-visitor@0.5x.icon-73d73cee9966828de526b1b2b160f664.png",width:12,height:11,scale:.5},BC={displayName:"IconPickaxe",src:a.p+"assets/pickaxe@0.5x.icon-4a49f94adb5b9530be1e961a5d089dbd.png",width:12,height:12,scale:.5},UC={displayName:"IconPlay",src:a.p+"assets/play@0.5x.icon-d17d965f66f97b562dbce23bfa23ea8e.png",width:7,height:12,scale:.5},zC={displayName:"IconPlayer",src:a.p+"assets/player@0.5x.icon-7c34a722eb98b0fbed671c9c77e9a2aa.png",width:12,height:12,scale:.5},HC={displayName:"IconPlayerOnline",src:a.p+"assets/player_online@0.5x.icon-08d41ccc0a633969d064ecfd114f34b8.png",width:12,height:12,scale:.5},jC={displayName:"IconPlus",src:a.p+"assets/plus@1x.icon-254700491e0f4c88abfae89a00a9fc8d.png",width:24,height:24,scale:1},VC={displayName:"IconPotionBottle",src:a.p+"assets/potion-bottle@0.5x.icon-09313c430988f33f2b3b4d90da03a9aa.png",width:10,height:12,scale:.5},GC={displayName:"IconPrint",src:a.p+"assets/print@0.5x.icon-ec26efb45a2e19c1c5c4178dd3765d54.png",width:12,height:10,scale:.5},$C={displayName:"IconQrCode",src:a.p+"assets/qr-code@0.5x.icon-ff09e599e72e589d4d239335ed281a9d.png",width:11,height:11,scale:.5},KC={displayName:"IconQuestionMark",src:a.p+"assets/question-mark@0.5x.icon-eeecb548ed8ba6bc2db934dd0daf88b5.png",width:7,height:10,scale:.5},YC={displayName:"IconQuestionMarkSmall",src:a.p+"assets/question-mark_small@0.5x.icon-46695eb451b98597c0102a2b5b061085.png",width:5,height:7,scale:.5},XC={displayName:"IconRate",src:a.p+"assets/rate@0.5x.icon-5d1fad960b4c8f3231418e29722279e2.png",width:10,height:9,scale:.5},qC={displayName:"IconRealmsStoriesUnread",src:a.p+"assets/realms-stories-unread@0.5x.icon-8ee6bc4468ddec5a1e6af4ff6c1eeee9.png",width:12,height:12,scale:.5},QC={displayName:"IconRealmsStories",src:a.p+"assets/realms-stories@0.5x.icon-035cb867e0e2b8b67b41a9f5fdd45148.png",width:12,height:12,scale:.5},ZC={displayName:"IconRemoveBehaviourPack",src:a.p+"assets/remove-behaviour-pack@0.5x.icon-f9d3cccc638400028abb0ebaa594de9f.png",width:11,height:11,scale:.5},JC={displayName:"IconRemovePlayer",src:a.p+"assets/remove-player@0.5x.icon-bfc0fb506f75120405b5f26b56a5f8dd.png",width:12,height:12,scale:.5},eM={displayName:"IconRemoveResourcePack",src:a.p+"assets/remove-resource-pack@0.5x.icon-557825321c4832445be287030b71b314.png",width:11,height:11,scale:.5},tM={displayName:"IconReset",src:a.p+"assets/reset@0.5x.icon-5fa663ec86abf3419994ead3ea27781c.png",width:12,height:12,scale:.5},aM={displayName:"IconRottenFlesh",src:a.p+"assets/rotten-flesh@0.5x.icon-1a4aab0bfda061084e042c2d56352eb3.png",width:11,height:10,scale:.5},nM={displayName:"IconSave",src:a.p+"assets/save@0.5x.icon-96183b3001fa37c10867bdcce6f3fb52.png",width:10,height:10,scale:.5},rM={displayName:"IconSearch",src:a.p+"assets/search@0.5x.icon-2c4a292e6b0d43322e5d1f41d0716cae.png",width:12,height:12,scale:.5},lM={displayName:"IconSettings",src:a.p+"assets/settings@0.5x.icon-a8b15a5633c92f837be66e0e1795383e.png",width:10,height:9,scale:.5},oM={displayName:"IconShareAndroid",src:a.p+"assets/share-android@0.5x.icon-3325222f464237add11dc4d757fb1f7d.png",width:6,height:10,scale:.5},iM={displayName:"IconShareGeneric",src:a.p+"assets/share-generic@0.5x.icon-a522ddfed6b18d5d105c77abb2f38238.png",width:12,height:12,scale:.5},cM={displayName:"IconShareIos",src:a.p+"assets/share-ios@0.5x.icon-077f85d5eb8267d16a0cfc02c89603fb.png",width:10,height:12,scale:.5},sM={displayName:"IconSleep",src:a.p+"assets/sleep@0.5x.icon-ec9f25dd448158a4a6e660be75d4a4bf.png",width:12,height:12,scale:.5},uM={displayName:"IconSwitchOff",src:a.p+"assets/switch-off@0.5x.icon-75a1ca9123ee469d1a2b3ac9358e5ccc.png",width:6,height:6,scale:.5},dM={displayName:"IconSwitchOn",src:a.p+"assets/switch-on@0.5x.icon-55509fc80b04f65abce1f7a941dd3ab3.png",width:1,height:6,scale:.5},mM={displayName:"IconSword",src:a.p+"assets/sword@0.5x.icon-5515ebe013a8758864491b874feb7fc8.png",width:12,height:12,scale:.5},pM={displayName:"IconThumbsDown",src:a.p+"assets/thumbs-down@0.5x.icon-961ba14cf6915d963179042066d560c3.png",width:11,height:11,scale:.5},fM={displayName:"IconThumbsUp",src:a.p+"assets/thumbs-up@0.5x.icon-a6921c4fcc4068235617946c799185f8.png",width:11,height:11,scale:.5},gM={displayName:"IconTime",src:a.p+"assets/time@0.5x.icon-3c59335620ebfdf0e67ba7a5ad1c1a24.png",width:12,height:12,scale:.5},EM={displayName:"IconTimer",src:a.p+"assets/timer@0.5x.icon-7123bed0675beb2613da4e041639acea.png",width:10,height:12,scale:.5},hM={displayName:"IconTimeSmall",src:a.p+"assets/time_small@0.5x.icon-ae6c3352cd17df2de6db7dc3c93e2c89.png",width:8,height:8,scale:.5},bM={displayName:"IconVisitor",src:a.p+"assets/visitor@0.5x.icon-82f30f8568b3c39a64219b0f4fad9787.png",width:12,height:11,scale:.5},vM={displayName:"IconVolume",src:a.p+"assets/volume@0.5x.icon-aad7d6fee0a0e88ac7959c97f8ba02bd.png",width:12,height:10,scale:.5},yM={displayName:"IconWarning",src:a.p+"assets/warning@0.5x.icon-78dc732fd5738943465cf135096e89e6.png",width:9,height:10,scale:.5},FM={displayName:"IconWarningSmall",src:a.p+"assets/warning_small@0.5x.icon-78dc732fd5738943465cf135096e89e6.png",width:9,height:10,scale:.5},SM={displayName:"IconWorld",src:a.p+"assets/world@0.5x.icon-9c8038e9adc8ca01f58e8c4a5764491d.png",width:12,height:12,scale:.5},CM={displayName:"IconWorldSmall",src:a.p+"assets/world_small@0.5x.icon-b7a844d18509b73a09453839cac671d2.png",width:8,height:8,scale:.5},MM={displayName:"IconXpOrb",src:a.p+"assets/xp-orb@0.5x.icon-e90369edb397f3b701998ba00c835f16.png",width:10,height:10,scale:.5};function wM(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function kM(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wM(Object(a),!0).forEach((function(t){TM(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wM(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function TM(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const PM=12,IM=10,xM={Accessibility:QF(kM(kM({},ZF),{},{canvasWidth:PM,canvasHeight:PM})),Achievements:QF(kM(kM({},eS),{},{canvasWidth:PM,canvasHeight:PM})),AchievementsBottle:QF(JF),AddBehaviourPack:QF(kM(kM({},tS),{},{canvasWidth:PM,canvasHeight:PM})),AddImage:QF(kM(kM({},aS),{},{canvasWidth:PM,canvasHeight:PM})),AddOns:QF(kM(kM({},nS),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},rS),{},{canvasWidth:IM,canvasHeight:IM})),AddPlayer:QF(kM(kM({},lS),{},{canvasWidth:PM,canvasHeight:PM})),AddResourcePack:QF(kM(kM({},oS),{},{canvasWidth:PM,canvasHeight:PM})),Album:QF(kM(kM({},iS),{},{canvasWidth:PM,canvasHeight:PM})),Apple:QF(kM(kM({},cS),{},{canvasWidth:PM,canvasHeight:PM})),ArrowDown:QF(kM(kM({},sS),{},{canvasWidth:PM,canvasHeight:PM})),ArrowLeft:QF(kM(kM({},uS),{},{canvasWidth:PM,canvasHeight:PM})),ArrowRight:QF(kM(kM({},dS),{},{canvasWidth:PM,canvasHeight:PM})),ArrowUp:QF(kM(kM({},mS),{},{canvasWidth:PM,canvasHeight:PM})),Backup:QF(kM(kM({},pS),{},{canvasWidth:PM,canvasHeight:PM})),Bell:QF(kM(kM({},fS),{},{canvasWidth:PM,canvasHeight:PM})),Block:QF(kM(kM({},gS),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},ES),{},{canvasWidth:IM,canvasHeight:IM})),Boots:QF(kM(kM({},hS),{},{canvasWidth:PM,canvasHeight:PM})),Brush:QF(kM(kM({},bS),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},vS),{},{canvasWidth:IM,canvasHeight:IM})),Checkmark:QF(kM(kM({},yS),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},FS),{},{canvasWidth:IM,canvasHeight:IM})),ChevronDown:QF(kM(kM({},SS),{},{canvasWidth:PM,canvasHeight:PM})),ChevronLeft:QF(kM(kM({},CS),{},{canvasWidth:PM,canvasHeight:PM})),ChevronRight:QF(kM(kM({},MS),{},{canvasWidth:PM,canvasHeight:PM})),ChevronUp:QF(kM(kM({},wS),{},{canvasWidth:PM,canvasHeight:PM})),Cross:QF(kM(kM({},AS),{},{canvasWidth:PM,canvasHeight:PM})),ClosedCaptions:QF(kM(kM({},kS),{},{canvasWidth:PM,canvasHeight:PM})),Clothes:QF(kM(kM({},TS),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},PS),{},{canvasWidth:IM,canvasHeight:IM})),Cloud:QF(kM(kM({},IS),{},{canvasWidth:PM,canvasHeight:PM})),Comment:QF(kM(kM({},xS),{},{canvasWidth:PM,canvasHeight:PM})),Crossbow:QF(kM(kM({},OS),{},{canvasWidth:PM,canvasHeight:PM})),Damage:QF(kM(kM({},NS),{},{canvasWidth:PM,canvasHeight:PM})),Default:QF(kM(kM({},RS),{},{canvasWidth:PM,canvasHeight:PM})),Delete:QF(kM(kM({},LS),{},{canvasWidth:PM,canvasHeight:PM})),DocsPage:QF(kM(kM({},_S),{},{canvasWidth:PM,canvasHeight:PM})),DocsSection:QF(kM(kM({},DS),{},{canvasWidth:PM,canvasHeight:PM})),Download:QF(kM(kM({},WS),{},{canvasWidth:PM,canvasHeight:PM})),DragAndDrop:QF(kM(kM({},BS),{},{canvasWidth:PM,canvasHeight:PM})),Duplicate:QF(kM(kM({},US),{},{canvasWidth:PM,canvasHeight:PM})),Edit:QF(kM(kM({},HS),{},{canvasWidth:PM,canvasHeight:PM})),EditImage:QF(kM(kM({},zS),{},{canvasWidth:PM,canvasHeight:PM})),Elytra:QF(kM(kM({},jS),{},{canvasWidth:PM,canvasHeight:PM})),Emerald:QF(kM(kM({},VS),{},{canvasWidth:PM,canvasHeight:PM})),Emote:QF(kM(kM({},GS),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},$S),{},{canvasWidth:IM,canvasHeight:IM})),Enter:QF(kM(kM({},KS),{},{canvasWidth:PM,canvasHeight:PM})),Exit:QF(kM(kM({},XS),{},{canvasWidth:PM,canvasHeight:PM})),ExitFullscreen:QF(kM(kM({},YS),{},{canvasWidth:PM,canvasHeight:PM})),Export:QF(kM(kM({},qS),{},{canvasWidth:PM,canvasHeight:PM})),ExternalLink:QF(kM(kM({},QS),{},{canvasWidth:PM,canvasHeight:PM})),Filter:QF(kM(kM({},ZS),{},{canvasWidth:PM,canvasHeight:PM})),Followers:QF(kM(kM({},JS),{},{canvasWidth:PM,canvasHeight:PM})),Friends:QF(kM(kM({},eC),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},tC),{},{canvasWidth:IM,canvasHeight:IM})),Fullscreen:QF(kM(kM({},aC),{},{canvasWidth:PM,canvasHeight:PM})),Gamerscore:QF(kM(kM({},nC),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},rC),{},{canvasWidth:IM,canvasHeight:IM})),Grid:QF(kM(kM({},lC),{},{canvasWidth:PM,canvasHeight:PM})),Hanger:QF(kM(kM({},oC),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},iC),{},{canvasWidth:IM,canvasHeight:IM})),HardcoreHeart:QF(kM(kM({},cC),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},sC),{},{canvasWidth:IM,canvasHeight:IM})),Heart:QF(kM(kM({},dC),{},{canvasWidth:PM,canvasHeight:PM})),HeartActive:QF(kM(kM({},uC),{},{canvasWidth:PM,canvasHeight:PM})),Hourglass:QF(kM(kM({},mC),{},{canvasWidth:PM,canvasHeight:PM})),Image:QF(kM(kM({},pC),{},{canvasWidth:PM,canvasHeight:PM})),Information:QF(kM(kM({},fC),{},{canvasWidth:PM,canvasHeight:PM})),Invite:QF(kM(kM({},gC),{},{canvasWidth:PM,canvasHeight:PM})),Lan:QF(kM(kM({},hC),{},{canvasWidth:PM,canvasHeight:PM})),LanHidden:QF(kM(kM({},EC),{},{canvasWidth:PM,canvasHeight:PM})),List:QF(kM(kM({},bC),{},{canvasWidth:PM,canvasHeight:PM})),Locked:QF(kM(kM({},vC),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},yC),{},{canvasWidth:IM,canvasHeight:IM})),Unlocked:QF(kM(kM({},FC),{},{canvasWidth:PM,canvasHeight:PM})),MashupPack:QF(kM(kM({},SC),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},CC),{},{canvasWidth:IM,canvasHeight:IM})),Member:QF(kM(kM({},MC),{},{canvasWidth:PM,canvasHeight:PM})),Menu:QF(kM(kM({},wC),{},{canvasWidth:PM,canvasHeight:PM})),Minus:QF(kM(kM({},kC),{},{canvasWidth:PM,canvasHeight:PM})),MissingImage:QF(kM(kM({},PC),{},{canvasWidth:PM,canvasHeight:PM})),MissingImage1:QF(kM(kM({},TC),{},{canvasWidth:PM,canvasHeight:PM})),Mute:QF(kM(kM({},IC),{},{canvasWidth:PM,canvasHeight:PM})),NewsFeed:QF(kM(kM({},xC),{},{canvasWidth:PM,canvasHeight:PM})),Operator:QF(kM(kM({},AC),{},{canvasWidth:PM,canvasHeight:PM})),Options:QF(kM(kM({},OC),{},{canvasWidth:PM,canvasHeight:PM})),Party:QF(kM(kM({},NC),{},{canvasWidth:PM,canvasHeight:PM})),Pause:QF(kM(kM({},RC),{},{canvasWidth:PM,canvasHeight:PM})),PermissionCustom:QF(kM(kM({},LC),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},LC),{},{canvasWidth:IM,canvasHeight:IM})),PermissionMemberIcon:QF(kM(kM({},_C),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},_C),{},{canvasWidth:IM,canvasHeight:IM})),PermissionOperator:QF(kM(kM({},DC),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},DC),{},{canvasWidth:IM,canvasHeight:IM})),PermissionVisitor:QF(kM(kM({},WC),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},WC),{},{canvasWidth:IM,canvasHeight:IM})),Pickaxe:QF(kM(kM({},BC),{},{canvasWidth:PM,canvasHeight:PM})),Play:QF(kM(kM({},UC),{},{canvasWidth:PM,canvasHeight:PM})),Player:QF(kM(kM({},zC),{},{canvasWidth:PM,canvasHeight:PM})),PlayerOnline:QF(kM(kM({},HC),{},{canvasWidth:PM,canvasHeight:PM})),Plus:QF(kM(kM({},jC),{},{canvasWidth:PM,canvasHeight:PM})),PotionBottle:QF(kM(kM({},VC),{},{canvasWidth:PM,canvasHeight:PM})),Print:QF(kM(kM({},GC),{},{canvasWidth:PM,canvasHeight:PM})),QrCode:QF(kM(kM({},$C),{},{canvasWidth:PM,canvasHeight:PM})),QuestionMark:QF(kM(kM({},KC),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},YC),{},{canvasWidth:IM,canvasHeight:IM})),Rate:QF(kM(kM({},XC),{},{canvasWidth:PM,canvasHeight:PM})),RealmsStories:QF(kM(kM({},QC),{},{canvasWidth:PM,canvasHeight:PM})),RealmsStoriesUnread:QF(kM(kM({},qC),{},{canvasWidth:PM,canvasHeight:PM})),RemoveBehaviourPack:QF(kM(kM({},ZC),{},{canvasWidth:PM,canvasHeight:PM})),RemovePlayer:QF(kM(kM({},JC),{},{canvasWidth:PM,canvasHeight:PM})),RemoveResourcePack:QF(kM(kM({},eM),{},{canvasWidth:PM,canvasHeight:PM})),Reset:QF(kM(kM({},tM),{},{canvasWidth:PM,canvasHeight:PM})),RottenFlesh:QF(kM(kM({},aM),{},{canvasWidth:PM,canvasHeight:PM})),Save:QF(kM(kM({},nM),{},{canvasWidth:PM,canvasHeight:PM})),Search:QF(kM(kM({},rM),{},{canvasWidth:PM,canvasHeight:PM})),Settings:QF(kM(kM({},lM),{},{canvasWidth:PM,canvasHeight:PM})),ShareAndroid:QF(kM(kM({},oM),{},{canvasWidth:PM,canvasHeight:PM})),ShareGeneric:QF(kM(kM({},iM),{},{canvasWidth:PM,canvasHeight:PM})),ShareIos:QF(kM(kM({},cM),{},{canvasWidth:PM,canvasHeight:PM})),Sleep:QF(kM(kM({},sM),{},{canvasWidth:PM,canvasHeight:PM})),SwitchOff:QF(kM(kM({},uM),{},{canvasWidth:PM,canvasHeight:PM})),SwitchOn:QF(kM(kM({},dM),{},{canvasWidth:PM,canvasHeight:PM})),Sword:QF(kM(kM({},mM),{},{canvasWidth:PM,canvasHeight:PM})),ThumbsDown:QF(kM(kM({},pM),{},{canvasWidth:PM,canvasHeight:PM})),ThumbsUp:QF(kM(kM({},fM),{},{canvasWidth:PM,canvasHeight:PM})),Time:QF(kM(kM({},gM),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},hM),{},{canvasWidth:IM,canvasHeight:IM})),Timer:QF(kM(kM({},EM),{},{canvasWidth:PM,canvasHeight:PM})),Visitor:QF(kM(kM({},bM),{},{canvasWidth:PM,canvasHeight:PM})),Volume:QF(kM(kM({},vM),{},{canvasWidth:PM,canvasHeight:PM})),Warning:QF(kM(kM({},yM),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},FM),{},{canvasWidth:IM,canvasHeight:IM})),World:QF(kM(kM({},SM),{},{canvasWidth:PM,canvasHeight:PM}),kM(kM({type:"small"},CM),{},{canvasWidth:IM,canvasHeight:IM})),XpOrb:QF(kM(kM({},MM),{},{canvasWidth:PM,canvasHeight:PM}))};function AM(e){const t=100*e;return 0===e?NF:t<50&&t>0?RF:t>=50&&t<=75?LF:t>75&&t<100?_F:100===t?DF:NF}function OM({inProgress:e,achievementsUnlocked:t,achievementsTotal:a,rewardsUnlocked:n,rewardsTotal:o,gamerScore:i,gamerScoreTotal:c,hoursPlayed:s,gamepadIndex:u}){const{t:d}=Fc("AchievementsSummary"),m=null!=o&&o>0,p=null!=n&&n>0,f=`${i}/${c}`,g=0===a?0:t/a,E=function(e){const t=100*e;return t>98?Math.floor(t):Math.ceil(t)}(g),h=dn(),b=[d(".narratorTextBlock"),d(".narratorSummary"),d(".narratorIndex",["1","4"]),d(".narratorPercentage",[`${E}`]),d(".narratorCompletedAchievements",[`${t}`,`${a}`]),d(".narratorInProgress",[`${e}`]),p&&m?d(".narratorCompletedRewards",[`${n}`,`${o}`]):"",d(".narratorGamerscore",[`${i}`,`${c}`]),d(".narratorTimePlayed",[`${s}`])],v=(0,l.useFacetMap)((e=>!e.screenAnimationEnabled),[],[(0,l.useSharedFacet)($a)]),y=(0,l.useFacetMap)((e=>!e&&100===E),[E],[v]);return r.createElement(Tm,{inputLegend:!1,className:"",autofocus:!0,classNameHovered:"",classNameFocused:kp,classNamePressed:"",disabled:!h,gamepadIndex:u,narrationText:b.join(" . "),onClick:()=>{}},r.createElement(wp,{withoutBorders:!0,disabled:!h}),r.createElement(BF,null,r.createElement("div",{className:"cebb8498fda7dd439833"},r.createElement(Lp,{effect:"specular"}),r.createElement("div",{className:"ccc35604645721cff7f5"},r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>!e&&100===E),[E],[v])},r.createElement(zF,{src:WF,width:196.8,height:4.8,frames:40,className:"b13b2628608f12a81133",repeat:"infinite",imageRendering:"pixelated",duration:2600,disabled:v})),r.createElement(l.Mount,{when:y,condition:!1},r.createElement(Qp,{imageRendering:"pixelated",src:AM(g),className:"b9db963d2bfd80c7fd1b"})),r.createElement(zm,{type:"header2",shadow:!0},E),r.createElement(zm,{type:"header3",shadow:!0},r.createElement("div",{className:"a286d9f1cb7f13f684c0"},"%"))),r.createElement("div",{className:"a0a8002f9497a7a40e29"},r.createElement(zm,{type:"captionShort"},d(".percentage",[`${t}`,`${a}`])))),r.createElement(BF.Divider,null),r.createElement(BF.Data,{icon:r.createElement(xM.Hourglass,{role:"neutral",variant:"dimmest"}),label:d(".progress"),value:e}),r.createElement(BF.Divider,null),m&&r.createElement(r.Fragment,null,r.createElement(BF.Data,{icon:r.createElement(xM.Hanger,{role:"neutral",variant:"dimmest"}),label:d(".rewards"),value:`${null!=n?n:0}/${o}`}),r.createElement(BF.Divider,null)),r.createElement(BF.Data,{icon:r.createElement(xM.Gamerscore,{role:"neutral",variant:"dimmest"}),label:d(".gamerscore"),value:f}),r.createElement(BF.Divider,null),r.createElement(BF.Data,{icon:r.createElement(xM.Time,{role:"neutral",variant:"dimmest"}),label:d(".time"),value:d(".hoursPlayed",[`${s}`])})))}OM.displayName="AchievementsSummary",OM.Loading=function({loading:e}){return r.createElement(BF,null,r.createElement("div",{className:"eb01d2a14b33cba8fd25"},r.createElement(BF.SummarySpinner,{hidden:!e})))};const NM=(0,r.createContext)(!1),RM=()=>(0,r.useContext)(NM);function LM({onClick:e,shortcut:t,inputLegend:a}){const n=(0,l.useFacetWrap)(a);return r.createElement(ug,{options:(0,l.useFacetMap)((e=>({button:t,inputLegend:e})),[t],[n]),onClick:e})}function _M({children:e}){return r.createElement("div",{className:"b6ab0947ac338095868b"},e)}const DM="c81672f7615fc07b100b",WM="cdf5bcbd571f1bfd724b",BM="a79f9599b441435276a2",UM="aa8bcbf009621ec21305",zM="d3574c1d6a0ee32c88e2";function HM({children:e,direction:t="column",align:a="end",hide:n}){return r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>zr()(zM,{[DM]:"row"===t,[UM]:"column"===t,[WM]:"start"===a,[BM]:"center"===a,f5248c8e1fec410a74b4:e})),[a,t],[(0,l.useFacetWrap)(n)])},e)}function jM({children:e,direction:t="column",align:a="end",hide:n}){return null!=n?r.createElement(HM,{children:e,direction:t,align:a,hide:n}):r.createElement("div",{className:zr()(zM,{[DM]:"row"===t,[UM]:"column"===t,[WM]:"start"===a,[BM]:"center"===a})},e)}const VM=a.p+"assets/pingGreen-7f77ca04def817211b2a.png";function GM(){return GM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},GM.apply(null,arguments)}const $M=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("eef2182998b3a90cc0af",t);return r.createElement(Qp,GM({},a,{className:n,src:VM,imageRendering:"pixelated"}))},KM=a.p+"assets/pingRed-9496c1bbb587d63e1dbe.png";function YM(){return YM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},YM.apply(null,arguments)}const XM=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("a65949826fbd203c4209",t);return r.createElement(Qp,YM({},a,{className:n,src:KM,imageRendering:"pixelated"}))},qM=a.p+"assets/pingYellow-62e787f8117760a86807.png";function QM(){return QM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},QM.apply(null,arguments)}const ZM=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("d07bca7d6e7fe148317a",t);return r.createElement(Qp,QM({},a,{className:n,src:qM,imageRendering:"pixelated"}))};function JM({iconType:e,typographyType:t,role:a="inherit",text:n}){const l=(e=>{switch(e){case"green":return r.createElement($M,null);case"red":return r.createElement(XM,null);case"yellow":return r.createElement(ZM,null)}})(e);return r.createElement("div",{className:"a6550474bccab196b436"},r.createElement(zm,{type:t,role:a,variant:"dimmer"},n),l)}const ew={listItem:"d88f68ad0091a0ae663f",tall:"b0ff9de7e1b98d277b7d",small:"e450344c9e166edb1b48"};function tw({tall:e=!1,small:t=!1,children:a,isFocusable:n=!1,narrationText:o,gamepadAlias:i,focusGridIndex:c,innerRef:s,role:u="neutral80",disableDeferredMount:d=!1,testId:m}){const p=wr(u),f=(0,l.useFacetWrap)(null!=o&&o);return r.createElement(NM.Provider,{value:e},r.createElement(Zn,{role:u},r.createElement(Tm.Maybe,{"data-testid":m,isInteractive:n,gamepadAlias:i,className:zr()(ew.listItem,p.border.base,p.text.base,p.background.base,{[ew.tall]:e,[ew.small]:t,[ew.inert]:n}),innerRef:s,classNameFocused:kp,focusGridIndex:c,inputLegend:!1,narrationText:f},d?r.createElement(r.Fragment,null,r.createElement(r.Fragment,null,n&&r.createElement(wp,null),a)):r.createElement(l.DeferredMount,null,r.createElement(r.Fragment,null,n&&r.createElement(wp,null),a)))))}tw.Action=function({autofocus:e,children:t,onClick:a,inputLegend:n,narrationText:o,gamepadAlias:i,soundEffectPressed:c,onFocusChanged:s,onHoverChanged:u,gamepadIndex:d=0,role:m="neutral",disabled:p,className:f,testId:g}){const E=(0,l.useFacetMap)((e=>!0===e),[],[(0,l.useFacetWrap)(p)]),h=(0,l.useFacetWrap)(c),b=(0,l.useFacetWrap)(n),v=Tr(m),y=wr(m),F=(0,l.useFacetMap)(((e,t)=>!t&&e),[],[b,E]),S=(0,l.useFacetMap)((e=>{var t;return zr()("c99e146579fc302b9d5f",{[null!==(t=y.background.interactive)&&void 0!==t?t:""]:!e},y.text.base,{fd401dc0b2c25de74f01:e},f)}),[y,f],[E]),C=(0,l.useFacetMap)(((e,t)=>t?void 0:null!=e?e:v.press),[v],[h,E]),M=(0,l.useFacetCallback)((e=>()=>{e||a()}),[a],[E]);return r.createElement(Zn,{role:m},r.createElement(Tm,{"data-testid":g,autofocus:e,gamepadAlias:i,className:S,classNameFocused:kp,gamepadIndex:d,inputLegend:F,narrationText:o,onClick:M,onFocusChanged:s,onHoverChanged:u,soundEffectPressed:C},r.createElement(wp,null),r.createElement(Lp,{effect:"bevel",hide:E}),t))},tw.AdditionalAction=function({children:e,onClick:t,onGamepadClick:a,onUp:n,onDown:o,onLeft:i,onRight:c,onMouseDown:s,shortcut:u,inputLegend:d,narrationText:m,gamepadAlias:p,hidden:f=!1,fitContent:g=!1,extraWide:E=!1,gamepadIndex:h=0,innerRef:b,touchDetectionDelay:v,soundEffectPressed:y,role:F="neutral",isSelected:S=!1,testId:C}){const M=(0,l.useFacetWrap)(f),w=RM(),k=wr(F),T=Tr(F),P=xr();return r.createElement(l.Mount,{when:M,condition:!1},r.createElement(Zn,{role:F},null!=u&&r.createElement(LM,{onClick:t,shortcut:u,inputLegend:d}),r.createElement(Tm,{className:zr()("f1a4fb2355bb61bb46f7",k.background.interactive,{ccd42846aed7d4469755:g,ea1c7e8d436e42136023:w,db83be36c2a65b124836:E,[P.selected]:S}),touchDetectionDelay:v,soundEffectPressed:null!=y?y:T.press,classNameFocused:kp,gamepadIndex:h,gamepadAlias:p,inputLegend:d,onClick:t,onGamepadOrKeyboardSelect:a,onUp:n,onDown:o,onLeft:i,onRight:c,onMouseDown:s,narrationText:m,innerRef:b,"data-testid":C},r.createElement(wp,null),r.createElement(Lp,{effect:"bevel"}),e)))},tw.Main=_M,tw.Cell=jM,tw.Icon=JM;const aw="d4e9a3086dfd3489da9b",nw=a.p+"assets/locked-b7e1ef2f9297249a5ff4.png",rw=a.p+"assets/gamerscore_icon-53b10130cb6f6c0271cb.png",lw=a.p+"assets/greyframe-dd39bddf435b8210e89b.png",ow=a.p+"assets/unlockedFrame-f9ecc81ba50869b54137.png",iw=a.p+"assets/placeholder-30ebca9254ef8b61db9f.png",cw=a.p+"assets/placeholderReward-5e6517f937a2abcc5ff0.png";function sw({item:e,gamepadAlias:t,onClick:a,index:n,listLength:l,disabled:o}){return r.createElement(tw,{gamepadIndex:n},r.createElement(uw,{item:e,gamepadAlias:t,onClick:a,index:n,listLength:l,disabled:o}))}const uw=({autofocus:e,item:t,gamepadAlias:a,onClick:n,index:o,listLength:i,disabled:c})=>{const{t:s}=Fc("AchievementListItem"),u=tv(Ko);return r.createElement(tw.Action,{narrationText:(0,l.useFacetMap)(((e,t,a)=>[e.name,s(".siblingNarration",[`${t+1}`,`${a}`]),0!==e.progress&&e.progress>0&&e.progress<1?s(".percentageNarration",[`${Math.round(100*e.progress)}`]):"",s(".gamerscoreNarration",[`${e.gamerScore}`]),u&&e.hasReward?e.isLocked?s(".rewardLockedNarration"):s(".rewardUnlockedNarration"):"",e.description].join(" . ")),[s,u],[t,(0,l.useFacetWrap)(o),i]),inputLegend:s(".view"),onClick:n,gamepadAlias:a,autofocus:e,disabled:c},r.createElement(tw.Cell,{direction:"row"},r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>zr()(aw,{a854efc44809196b5fd2:e.isLocked})),[],[t])},r.createElement(Qp,{className:"c46c21508a73bef679b0",imageRendering:"pixelated",src:(0,l.useFacetMap)((e=>e.isLocked?lw:ow),[],[t])}),r.createElement(Qp,{className:aw,imageRendering:"pixelated",src:(0,l.useFacetMap)((e=>{var t;return null!==(t=e.image)&&void 0!==t?t:iw}),[],[t])}))),r.createElement(tw.Main,null,r.createElement(zm,{type:"body"},r.createElement(xm,null,(0,l.useFacetMap)((e=>e.name),[],[t]))),r.createElement(zm,{type:"captionShort",variant:"dimmer"},r.createElement(xm,null,(0,l.useFacetMap)((e=>e.description),[],[t]))),r.createElement(dw,{when:(0,l.useFacetMap)((e=>!!e.progress&&1!==e.progress),[],[t])},r.createElement(Nm,{size:1}),r.createElement(Zg,{percentage:(0,l.useFacetMap)((e=>e.progress),[],[t])}))),r.createElement(tw.Cell,{direction:"row",hide:(0,l.useFacetMap)((e=>!e.gamerScore),[],[t])},r.createElement("div",{className:"a6360abebea6b1d70e1c"},r.createElement(Qp,{className:"e50b483aad446a1a2528",src:rw,imageRendering:"pixelated"}),r.createElement(zm,{type:"captionShort",variant:"dimmer"},(0,l.useFacetMap)((e=>e.gamerScore),[],[t]))),r.createElement(Nm,{size:2})),r.createElement(tw.Cell,{direction:"row",hide:(0,l.useFacetMap)((e=>!(u&&!0===e.hasReward)),[u],[t])},r.createElement("div",{className:"af9aeb05fee4947488d5"},r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>e.isLocked?"b019c1fe47e540298bb3":"c6203f20545dea5b6aa3"),[],[t])},r.createElement(dw,{when:(0,l.useFacetMap)((e=>e.isLocked),[],[t]),className:"ca2d4f527f464c096518"},r.createElement(Qp,{className:"e9d13c99c30b46d2f207",imageRendering:"pixelated",src:nw}),r.createElement("div",{className:"e594bece403bfc503034"})),r.createElement(Qp,{className:"ed9bf7a83394165d7ea8",src:(0,l.useFacetMap)((e=>{var t;return null!==(t=e.rewardImage)&&void 0!==t?t:cw}),[],[t])})))))};function dw({when:e,children:t,className:a}){return r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>zr()(a,e?null:"b63adc277bc2230c1752")),[a],[e])},t)}const mw="locked-tab-wrapper",pw="completed-tab-wrapper",fw=()=>{const e=(0,r.useRef)(null),t=(0,r.useRef)(null),a=(0,r.useRef)(null),{t:n}=Fc("Achievements"),o=p(),i=py((0,l.useSharedFacet)(ui),1e4),c=py((0,l.useSharedFacet)(ui),1500),s=(0,l.useFacetMap)(((e,t,a,n)=>e?"not-available":t&&!n?"loading-failed":a&&!n?"loading-slow":"achievements"),[],[(0,l.useSharedFacet)(Ti),i,c,(0,l.useSharedFacet)(ui)]),u=my({wide:8,narrow:6,width:260}),d=(0,l.useFacetMap)((e=>e?"d365bfd90a496a830901":"d4c8cea93f9999fdc59e"),[],[u]),m=(0,l.useFacetMap)((e=>e?"c037cd7ac33b8e66104b":"cdc5ecc30dde748f0cc3"),[],[u]);return r.createElement(av,{innerRef:e},r.createElement(Zf,{text:n(".narration.title")},r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>"loading-slow"===e),[],[s])},r.createElement(ev,{text:n(".narration.loadingMessage")})),r.createElement(yv,{onBackButton:o.goBack,center:r.createElement(zm,{type:"header5A"},n(".title")),delegateFocusFromMemory:!0,gamepadAlias:"achievements-layout-content",delegateByAlias:"achievments-wrapper"},r.createElement(Cv,null,r.createElement(Yp,{containerRef:t,alias:"achievments-wrapper",delegateFocusFromMemory:!0,delegateFocusByAlias:"achievements-content-wrapper"},r.createElement(Cv.Row,{innerRef:t,gamepadIndex:0,fullHeight:!0},r.createElement(xl,{data:s},(e=>{switch(e){case"not-available":return r.createElement(r.Fragment,null,r.createElement(Cv.Column,{wideSize:2,narrowSize:1}),r.createElement(Cv.Column,{gamepadIndex:0,wideSize:8,narrowSize:6},r.createElement(Nm,{size:6}),r.createElement(_v,{imgClass:d,autofocus:!0,gamepadAlias:"ach-not-available-empty-state",imgSrc:Xy,gamepadIndex:0,title:n(".notAvailableMessageTitle"),text:n(".notAvailableMessage")}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0})));case"loading-failed":return r.createElement(r.Fragment,null,r.createElement(Cv.Column,{wideSize:2,narrowSize:1}),r.createElement(Cv.Column,{gamepadIndex:0,wideSize:8,narrowSize:6},r.createElement(Nm,{size:6}),r.createElement(_v,{imgClass:m,autofocus:!0,gamepadAlias:"ach-load-error-empty-state",imgSrc:Yy,gamepadIndex:0,title:n(".errorMessageTitle"),text:n(".errorMessage")}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0})));default:return r.createElement(r.Fragment,null,r.createElement(Cv.Column,{wideSize:3,narrowSize:3},r.createElement(Nm,{size:2}),r.createElement(Cw,null)),r.createElement(Cv.Column,{wideSize:9,narrowSize:5},r.createElement(Nm,{size:2}),r.createElement(gw,null),r.createElement(Yp,{alias:"achievements-content-wrapper",containerRef:a},r.createElement("div",{style:{flex:"1"},ref:a},r.createElement(Ry,{tab:void 0,component:bw}),r.createElement(Ry,{tab:"locked",component:vw}),r.createElement(Ry,{tab:"completed",component:yw})))))}}))))))))},gw=()=>{const{t:e}=Fc("Achievements"),t=p(),a=g(),n=(0,l.useFacetMap)((e=>e.tab?e.tab:"all"),[],[a]),o=[{label:e(".all"),value:"all"},{label:e(".locked"),value:"locked"},{label:e(".completed"),value:"completed"}];return r.createElement(sF,{gamepadAliasNamespace:"achievement-screen",gamepadIndex:0,value:n,onChange:e=>{t.replace(`/achievements/${"all"!==e?e:""}`)},tabs:o,enableGamepadShortcuts:!0,narrationTitle:e(".narration.title")})},Ew=(0,r.createContext)(null),hw=()=>(0,r.useContext)(Ew),bw=()=>{const{t:e}=Fc("Achievements"),t=e(".narration.tab",[e(".all"),"2","4"])+" . "+e(".narration.selected"),a=tv(lc),n=(0,l.useFacetMap)((t=>[{role:"informativeTint",title:e(".inProgress"),data:t.inProgress},{role:"secondary",title:e(".locked"),data:t.locked},{role:"successTint",title:e(".completed"),data:t.completed}]),[e],[(0,l.useSharedFacet)(ii)]),o=(0,l.useFacetMap)(((t,a)=>[{role:"informativeTint",title:e(".inProgress"),data:t},...a.map((t=>({role:t.headerLook,title:e(`.category.${t.categoryId}`),data:t.achievements})))]),[e],[(0,l.useFacetMap)((e=>e.data.achievements.filter(pi)),[],[(0,l.useSharedFacet)(qo)]),ri()]);return r.createElement(Fw,{narration:t,alias:"all-tab-wrapper",contentAlias:"all-tab-content",data:a?o:n})},vw=()=>{const{t:e}=Fc("Achievements"),t=e(".narration.tab",[e(".locked"),"3","4"])+" . "+e(".narration.selected"),a=Rd(),n=tv(lc),o=(0,l.useSharedFacet)(ci),i=(0,l.useFacetMap)((t=>t.map((t=>({role:t.headerLook,title:e(`.category.${t.categoryId}`),data:t.achievements})))),[e],[li()]),c=r.createElement(_v,{imgClass:(0,l.useFacetMap)((e=>e?"e9863a02d8e4ca538d95":"ed69cc34898e78d631cc"),[],[a]),autofocus:!0,gamepadAlias:"ach-locked-empty-state",imgSrc:(0,l.useFacetMap)((e=>0===e.length?$y:void 0),[],[n?i:o]),gamepadIndex:0,title:e(".lockedEmptyTitle"),text:e(".lockedEmptyText")});return n?r.createElement(Fw,{narration:t,alias:mw,contentAlias:"locked-tab-content",emptyMessage:c,data:i}):r.createElement(Sw,{narration:t,alias:mw,contentAlias:"locked-tab-content",emptyMessage:c,data:o})},yw=()=>{const{t:e}=Fc("Achievements"),t=e(".narration.tab",[e(".completed"),"4","4"])+" . "+e(".narration.selected"),a=Rd(),n=tv(lc),o=(0,l.useSharedFacet)(si),i=(0,l.useFacetMap)((t=>t.map((t=>({role:t.headerLook,title:e(`.category.${t.categoryId}`),data:t.achievements})))),[e],[oi()]),c=r.createElement(_v,{imgClass:(0,l.useFacetMap)((e=>e?"b4333c06281daf6db334":"b4ae174478d97082e77c"),[],[a]),autofocus:!0,gamepadAlias:"ach-completed-empty-state",imgSrc:(0,l.useFacetMap)((e=>0===e.length?Ky:void 0),[],[n?i:o]),gamepadIndex:0,title:e(".completedEmptyTitle"),text:e(".completedEmptyText")});return n?r.createElement(Fw,{narration:t,alias:pw,contentAlias:"completed-tab-content",emptyMessage:c,data:i}):r.createElement(Sw,{narration:t,alias:pw,contentAlias:"completed-tab-content",emptyMessage:c,data:o})},Fw=({narration:e,data:t,alias:a,contentAlias:n,emptyMessage:o})=>{const i=(0,r.useRef)(null),[c,s]=(0,l.useFacetState)(0),u=(0,r.useCallback)((({height:e})=>s(e)),[s]);Bd(i,u);const d=hw(),m=(0,l.useFacetMap)((e=>{if(null==o)return!1;for(const t of e)if(t.data.length>0)return!1;return!0}),[o],[t]),p=(0,l.useFacetMap)((e=>!e),[],[(0,l.useSharedFacet)(ui)]);return r.createElement(Zf,{text:e},r.createElement(Yp,{containerRef:i,alias:a,delegateFocusByAlias:n},r.createElement("div",{style:{flex:"1"},ref:i},r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(xl,{data:m},(e=>e?null!=o?o:null:r.createElement(IF,{rowSizeInRem:7,gamepadAlias:n,loading:p,containerSizePixels:null!=d?d:c,data:t,footer:r.createElement(r.Fragment,null,r.createElement(LE.Space,{extraSpace:r.createElement(Nm,{size:1})}),r.createElement(Nm,{size:1})),renderItem:e=>r.createElement(Mw,{item:e}),renderTracker:e=>r.createElement(Ny,{type:"meaningful",renderingCompleted:e}),padSpinnerVertically:!0,delegateFocusFromMemory:!0}))))))},Sw=({narration:e,data:t,alias:a,contentAlias:n,emptyMessage:o})=>{const i=(0,r.useRef)(null),[c,s]=(0,l.useFacetState)(0),u=(0,r.useCallback)((({height:e})=>s(e)),[s]);Bd(i,u);const d=hw();return r.createElement(Zf,{text:e},r.createElement(Yp,{containerRef:i,alias:a,delegateFocusByAlias:n},r.createElement("div",{style:{flex:"1"},ref:i},r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(wF,{rowSizeRem:7,headerSizeRem:.8,header:r.createElement(Nm,{size:2}),containerSizePixels:null!=d?d:c,columnCount:1,loading:(0,l.useFacetMap)((e=>!e),[],[(0,l.useSharedFacet)(ui)]),gamepadAlias:n,emptyMessage:o,data:t,footer:r.createElement(r.Fragment,null,r.createElement(LE.Space,{extraSpace:r.createElement(Nm,{size:1})}),r.createElement(Nm,{size:1})),renderItem:({item:e,index:t,listLength:a})=>r.createElement(ww,{item:e,index:t,listLength:a}),renderTracker:e=>r.createElement(Ny,{type:"meaningful",renderingCompleted:e}),padSpinnerVertically:!0,delegateFocusFromMemory:!0}))))},Cw=()=>{const e=(0,l.useFacetUnwrap)(mi()),t=tv(Ko);return e===l.NO_VALUE?null:e.loaded?r.createElement(OM,{gamepadIndex:0,inProgress:e.inProgressCount,achievementsUnlocked:e.unlocked,achievementsTotal:e.total,rewardsTotal:t?e.rewardsTotal:0,rewardsUnlocked:t?e.rewardsUnlocked:void 0,gamerScore:e.gamerScore,gamerScoreTotal:e.maxGamerScore,hoursPlayed:e.hoursPlayed}):r.createElement(OM.Loading,{loading:!e.loaded})},Mw=({item:e})=>{const t=p(),a=(0,l.useFacetMap)((e=>e.isHeader?l.NO_VALUE:e),[],[e]),n=(0,l.useFacetMap)((e=>e.data),[],[a]),o=(0,l.useFacetMap)((e=>e.localIndex),[],[a]),i=(0,l.useFacetMap)((e=>e.sectionLength),[],[a]);return r.createElement(sw,{item:n,onClick:(0,l.useFacetCallback)((e=>()=>{t.push(`/achievement-detail/${e.id}`)}),[t],[n]),index:o,listLength:i})},ww=({item:e,index:t,listLength:a})=>{const n=p();return r.createElement(sw,{item:e,onClick:(0,l.useFacetCallback)((e=>()=>{n.push(`/achievement-detail/${e.id}`)}),[n],[e]),index:t,listLength:a})};let kw,Tw,Pw;!function(e){e[e.Build=0]="Build",e[e.Mine=1]="Mine",e[e.DoorsAndSwitches=2]="DoorsAndSwitches",e[e.OpenContainers=3]="OpenContainers",e[e.AttackPlayers=4]="AttackPlayers",e[e.AttackMobs=5]="AttackMobs",e[e.OperatorCommands=6]="OperatorCommands",e[e.Teleport=7]="Teleport"}(kw||(kw={})),function(e){e[e.InvalidPlayerId=0]="InvalidPlayerId",e[e.MissingPlayerPermissions=1]="MissingPlayerPermissions",e[e.SelectedPlayerLeftWorld=2]="SelectedPlayerLeftWorld",e[e.SelectedPlayerPermissionsChanged=3]="SelectedPlayerPermissionsChanged",e[e.OperatorCommandsPermissionRevoked=4]="OperatorCommandsPermissionRevoked",e[e.KickCommandFailed=5]="KickCommandFailed",e[e.OK=6]="OK"}(Tw||(Tw={})),function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.Idle=2]="Idle"}(Pw||(Pw={}));const Iw=(0,l.sharedFacet)("vanilla.playerPermissions");let xw,Aw,Ow;!function(e){e[e.Visitor=0]="Visitor",e[e.Member=1]="Member",e[e.Operator=2]="Operator",e[e.Custom=3]="Custom"}(xw||(xw={})),function(e){e[e.LAN=0]="LAN",e[e.PLATFORM=1]="PLATFORM",e[e.XBOX_LIVE=2]="XBOX_LIVE"}(Aw||(Aw={})),function(e){e[e.GOOGLE=1]="GOOGLE",e[e.IOS=2]="IOS",e[e.OSX=3]="OSX",e[e.AMAZON=4]="AMAZON",e[e.GEARVR_DEPRECATED=5]="GEARVR_DEPRECATED",e[e.UWP=7]="UWP",e[e.WIN32=8]="WIN32",e[e.DEDICATED=9]="DEDICATED",e[e.TVOS_DEPRECATED=10]="TVOS_DEPRECATED",e[e.SONY=11]="SONY",e[e.NX=12]="NX",e[e.XBOX=13]="XBOX",e[e.WINDOWSPHONE_DEPRECATED=14]="WINDOWSPHONE_DEPRECATED",e[e.LINUX=15]="LINUX",e[e.UNKNOWN=-1]="UNKNOWN"}(Ow||(Ow={}));const Nw=(0,l.sharedFacet)("vanilla.worldPlayersList"),Rw=(0,l.sharedFacet)("vanilla.levelInfo"),Lw=()=>{};function _w({autoplay:e,eventName:t,delay:a=0,disabled:n=!1,cancellable:o=!1}){const i=(0,l.useFacetWrap)(e),c=(0,l.useFacetWrap)(o),s=(0,l.useFacetWrap)(n),u=(0,l.useFacetWrap)(a),d=(0,l.useFacetWrap)(t),m=ln(),p=(0,r.useRef)(Lw),f=(0,r.useRef)(!1);return(0,l.useFacetLayoutEffect)(((e,t,a,n,r)=>{const l=!1===a&&e&&r!==on;if(f.current)return l&&(p.current=m(r,null!=t?t:0)),()=>{n&&(p.current(),p.current=Lw)};f.current=!0}),[m],[i,u,s,c,d]),null}var Dw;!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Top=2]="Top",e[e.Bottom=3]="Bottom"}(Dw||(Dw={}));const Ww={[Dw.Top]:"e4a82a121e78e450bf87",[Dw.Left]:"a33f47ccd6382becf8d0",[Dw.Right]:"f09f9722328bcf29eae7",[Dw.Bottom]:"ca10d5bb35bdbc9f9804"};function Bw({anchor:e=Dw.Right,children:t,drawerContent:a,isOpen:n,role:o="inherit",onOverlayClick:i,disableAnimation:c}){const s=(0,l.useFacetWrap)(null!=n&&n),u=wr(o),d=(0,l.useFacetWrap)(null!=c&&c),m=Gl();return r.createElement(r.Fragment,null,t,r.createElement("fast-div",{className:"ff6a1fcac378353757b1"},r.createElement("fast-div",{onClick:i,className:(0,l.useFacetMap)(((e,t)=>zr()("a0dc8cbfa12576e4777f",u.overlay.base,{dace0c504f3bcd769446:e,f2201e75e1c59178905a:t})),[u],[s,d])}),r.createElement("fast-div",{style:{top:e===Dw.Bottom?"":m.top+"px",bottom:e===Dw.Top?"":m.bottom+"px",right:e===Dw.Left?"":m.right+"px",left:e===Dw.Right?"":m.left+"px"},className:(0,l.useFacetMap)(((t,a)=>zr()("f34b15e25da83383414d",Ww[e],{fda8d642d06c8b3723f6:t,a8165d59b6b163323862:!t,a0d38b631eb39b080cfc:a})),[e],[s,d])},a)),r.createElement(_w,{eventName:"ui.drawer_open",autoplay:s}),r.createElement(_w,{eventName:"ui.drawer_close",autoplay:(0,l.useFacetMap)((e=>!e),[],[s])}))}Bw.Anchor=Dw;const Uw=(0,l.sharedFacet)("vanilla.currentParty"),zw=(0,l.sharedFacet)("vanilla.partyCommands");let Hw;function jw(e,t){const a=[];for(let n=0;n<e.length;n++)t(e[n],n,e)&&a.push(e[n]);return a}function Vw({header:e,renderItem:t,renderSectionHeader:a,data:n,focusGridIndex:o,itemSeparator:i,sectionSeparator:c,loading:s=!1,footer:u,renderTracker:d,padSpinnerVertically:m,gamepadAlias:p,spinnerBackgroundColor:f,showSpinnerBorder:g,delegateFocusFromMemory:E=!0,scrollRef:h,delegateFocusByAlias:b,sectionsWrapper:v=Gw}){const y=(0,l.useIsPaused)(),F=(0,l.useFacetWrap)(n),S=(0,l.useFacetMemo)((e=>jw(e,(e=>null!=e.emptyStateMessage||e.data.length>0))),[],[F]);return r.createElement(l.DeferredMountProvider,null,r.createElement(Kw,{scrollRef:h,delegateFocusFromMemory:E,loading:s,focusGridIndex:o,renderTracker:d,padSpinnerVertically:m,gamepadAlias:p,spinnerBackgroundColor:f,showSpinnerBorder:g,delegateFocusByAlias:b},null!=e&&r.createElement(r.Fragment,null,e,i),!1===y&&r.createElement(v,null,r.createElement(l.Map,{array:S},((n,l)=>r.createElement($w,{headerPresent:null!=e,section:n,sectionIndex:l,sections:S,renderSectionHeader:a,renderItem:t,sectionSeparator:c})))),u))}function Gw({children:e}){return r.createElement(r.Fragment,null,e)}function $w({headerPresent:e,section:t,sectionIndex:a,sections:n,renderSectionHeader:o,renderItem:i,sectionSeparator:c,itemSeparator:s}){const u=(0,l.useFacetMap)((e=>e.data),[],[t]),d=(0,l.useFacetMap)((e=>e.data.length),[],[t]),m=(0,l.useFacetMap)((e=>e.title),[],[t]),p=(0,l.useFacetMap)((e=>e.role),[],[t]),f=(0,l.useFacetMap)((e=>0==e.data.length||null==e.data),[],[t]),g=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.emptyStateMessage)&&void 0!==t?t:""}),[],[t]),E=o(m,p),{t:h}=Fc("SectionList"),b=e?a+1:a,v=(0,l.useFacetMap)((e=>{var t,n;const r=e[a];return[h(".groupNarration",[null!==(t=r.narrationTitle)&&void 0!==t?t:r.title,`${a+1}`,`${e.length}`]),null!==(n=r.narrationSuffix)&&void 0!==n?n:""].join(" . ")}),[a,h],[n,t]);return r.createElement(Qf,{options:{index:b},key:b},r.createElement(Zf,{text:v},a>0&&c,E,s,r.createElement(l.Mount,{when:f},r.createElement(_v,{gamepadIndex:0,text:g})),r.createElement(l.Map,{array:u},((e,t)=>r.createElement(r.Fragment,null,t>0&&s,i({itemFacet:e,index:t,sectionIndex:b,listLengthFacet:d}))))))}function Kw({loading:e,children:t,renderTracker:a,padSpinnerVertically:n,focusGridIndex:o,gamepadAlias:i,spinnerBackgroundColor:c,showSpinnerBorder:s,delegateFocusFromMemory:u=!0,scrollRef:d,delegateFocusByAlias:m}){const p=(0,l.useIsDeferring)(),f=(0,l.useIsPaused)(),g=(0,l.useFacetMap)(((e,t)=>t||e||f),[f],[p,(0,l.useFacetWrap)(null!=e&&e)]);return r.createElement(jf,{innerRef:d,loading:g,focusGridIndex:o,renderTracker:a,padSpinnerVertically:n,gamepadAlias:i,delegateFocusFromMemory:u,spinnerBackgroundColor:c,showSpinnerBorder:s,delegateFocusByAlias:m},t)}!function(e){e[e.Open=0]="Open",e[e.InviteOnly=1]="InviteOnly"}(Hw||(Hw={}));function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Yw.apply(null,arguments)}function Xw(e){let{children:t,className:a,variant:n="neutral",isElevated:l=!1}=e,o=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["children","className","variant","isElevated"]);return r.createElement(Ag,Yw({"data-testid":o["data-testid"],variant:n},o,{containerClassName:zr()("a15353101928c6407bad",a),className:"d8a639ca4dc50fc74a30",reflection:l?void 0:"bevel",isElevated:l}),r.createElement(Zn,{role:n},t))}const qw="a00f91faaefeee0b7edd";function Qw({tall:e=!1,small:t=!1,children:a,isFocusable:n=!1,narrationText:o,gamepadAlias:i,focusGridIndex:c,innerRef:s,disableDeferredMount:u=!1,testId:d}){const m=(0,l.useFacetWrap)(null!=o&&o);return r.createElement(NM.Provider,{value:e},r.createElement(Tm.Maybe,{isInteractive:n,gamepadAlias:i,className:zr()("c71da77a98ac00e6831d",{cc21e9893e22c398000b:e,cf896949641ffac002ad:t}),innerRef:s,classNameFocused:"b060cb2bd41597a81a90",focusGridIndex:c,inputLegend:!1,narrationText:m,"data-testid":d},u?r.createElement(r.Fragment,null,r.createElement(r.Fragment,null,a)):r.createElement(l.DeferredMount,null,r.createElement(r.Fragment,null,a))))}Qw.Action=function({autofocus:e,children:t,onClick:a,inputLegend:n,narrationText:o,gamepadAlias:i,soundEffectPressed:c,onFocusChanged:s,onHoverChanged:u,gamepadIndex:d=0,role:m="neutral",disabled:p,className:f,testId:g}){const E=(0,l.useFacetMap)((e=>!0===e),[],[(0,l.useFacetWrap)(p)]),h=(0,l.useFacetWrap)(c),b=(0,l.useFacetWrap)(n),v=Tr(m),y=wr(m),F=(0,l.useFacetMap)(((e,t)=>!t&&e),[],[b,E]),S=(0,l.useFacetMap)((e=>zr()("abb27f9cd9589982ca73",y.text.base,{[qw]:e},f)),[y,f],[E]),C=(0,l.useFacetMap)(((e,t)=>t?void 0:null!=e?e:v.press),[v],[h,E]),M=(0,l.useFacetCallback)((e=>()=>{e||a()}),[a],[E]);return r.createElement(Zn,{role:m},r.createElement(Tm,{autofocus:e,gamepadAlias:i,className:S,classNameHovered:"b99e3e2641b6ec1d1b97",classNameFocused:"e4aea6f276b14dbd815a",classNamePressed:"fb5a7e49fd3999ea4689",classNameDisabled:qw,gamepadIndex:d,inputLegend:F,narrationText:o,onClick:M,onFocusChanged:s,onHoverChanged:u,soundEffectPressed:C,"data-testid":g},t))},Qw.AdditionalAction=function({children:e,onClick:t,onGamepadClick:a,onUp:n,onDown:o,onLeft:i,onRight:c,onMouseDown:s,shortcut:u,inputLegend:d,narrationText:m,gamepadAlias:p,hidden:f=!1,fitContent:g=!1,extraWide:E=!1,innerRef:h,touchDetectionDelay:b,soundEffectPressed:v,role:y="neutral",testId:F}){const S=(0,l.useFacetWrap)(f),C=RM(),M=Tr(y);return r.createElement(l.Mount,{when:S,condition:!1},r.createElement(Zn,{role:y},null!=u&&r.createElement(LM,{onClick:t,shortcut:u,inputLegend:d}),r.createElement(Tm,{className:zr()("b3e7614af64d64e2d852",{b9bedf32b2225f460cea:g,d114c2b58111dacc2860:C,d95ad2130b85a8a43266:E}),classNameHovered:"a46c9c508fa10b5f4b3a",classNamePressed:"b7e39eb98ff9a554de72",classNameFocused:"d5e5c62108db80f870ee",touchDetectionDelay:b,soundEffectPressed:null!=v?v:M.press,gamepadAlias:p,inputLegend:d,onClick:t,onGamepadOrKeyboardSelect:a,onUp:n,onDown:o,onLeft:i,onRight:c,onMouseDown:s,narrationText:m,innerRef:h,"data-testid":F},e)))},Qw.Main=_M,Qw.Cell=jM,Qw.Icon=JM;const Zw=a.p+"assets/online-badge-e3691049d5f11f7faedc.png";function Jw(){return r.createElement(Qp,{src:Zw,className:"aacadf4e9321d2fd9cc5",imageRendering:"pixelated"})}const ek=a.p+"assets/no-player-profile-d13a75350a6a889e7e8b.png",tk=a.p+"assets/online-badge-e3691049d5f11f7faedc.png",ak=a.p+"assets/away-badge-9843a5e404ab1ce2b9d4.png",nk=a.p+"assets/away-favorite-badge-de33a6b0434ef064aae8.png",rk=a.p+"assets/online-favorite-badge-6f3726b2b6f0cb8f7946.png",lk="e2662d57630f4860bfbf",ok="a8704a8a437b002629fc",ik="c1b3e979913b09589521";function ck({status:e}){return r.createElement(xl,{data:e},(e=>r.createElement(r.Fragment,null,r.createElement(Qp,{src:rk,className:zr()(ok,lk,{[ik]:"onlineFavorite"===e}),imageRendering:"pixelated"}),r.createElement(Qp,{src:tk,className:zr()(ok,"ef58656a99849dd704c5",{[ik]:"online"===e}),imageRendering:"pixelated"}),r.createElement(Qp,{src:ak,className:zr()(ok,lk,{[ik]:"away"===e}),imageRendering:"pixelated"}),r.createElement(Qp,{src:nk,className:zr()(ok,lk,{[ik]:"awayFavorite"===e}),imageRendering:"pixelated"}))))}const sk={small:2.4,medium:3.2,large:5.2};function uk({status:e="online",src:t="",variant:a="medium",grayscaleAvatar:n=!1,usePersonaPicRendering:o="if-enabled",shouldShowNewStatus:i=!1}){const c=(0,l.useFacetWrap)(e),s=(0,l.useFacetWrap)(t),u=(0,l.useFacetMap)((e=>""===e||null==e),[],[s]),d=(0,l.useFacetWrap)(a),m=(0,l.useFacetMap)(((e,t)=>e?ek:t),[],[u,s]),p=(0,l.useFacetWrap)(n),f=tv("vanilla.usePersonaProfileImages"),g=(0,l.useFacetMap)(((e,t)=>t?"pixelated":"if-enabled"===e?f?"pixelated":void 0:!0===e?"pixelated":void 0),[f],[(0,l.useFacetWrap)(o),u]),E=wr(),h=(0,l.useFacetMap)((e=>zr()("fa4513705c59b2429bfe",{c068ff6f9d67094772af:"online"===e||"away",bb54f4a4f2546e07c8dd:"offline"===e})),[],[c]),b=(0,l.useFacetMap)(((e,t)=>zr()("a80f5d0e771893d0bf04",{c8aac93615954eed4a85:e&&"offline"===t})),[],[p,c]);return r.createElement("fast-div",{className:zr()("c141664191c2ab5d19ec",E.neutral.border.base),style:{width:(0,l.useFacetMap)((e=>`${sk[e]}rem`),[],[d]),height:(0,l.useFacetMap)((e=>`${sk[e]}rem`),[],[d])}},r.createElement(Qp,{src:m,className:b,imageRendering:g}),r.createElement("fast-div",{className:h},i?r.createElement(ck,{status:c}):r.createElement(Jw,null)))}uk.VARIANT_SIZES=sk;const dk=a.p+"assets/play-631001db472839c2ac8c.png",mk="d2868f4dde68cde79334",pk=({className:e})=>{const t=null!=e?`d2868f4dde68cde79334 ${e}`:mk;return r.createElement(Qp,{className:t,src:dk,imageRendering:"pixelated"})},fk=a.p+"assets/delete-dc0125fecc577e27a106.png";function gk(){return gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},gk.apply(null,arguments)}const Ek=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("e0b89c9a17738a080f85",t);return r.createElement(Qp,gk({},a,{className:n,src:fk,imageRendering:"pixelated"}))},hk=a.p+"assets/IconAddPlayerWhite-c25a0f4c62c6776d3948.png";function bk(){return bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},bk.apply(null,arguments)}const vk=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("a677ed92c9d508b1f8a6",t);return r.createElement(Qp,bk({},a,{className:n,src:hk,imageRendering:"pixelated"}))},yk=a.p+"assets/IconPartyInviteWhite-07ee568507ea8c51d111.png";function Fk(){return Fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Fk.apply(null,arguments)}const Sk=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("fe4e9fc69ec5251b8b5b",t);return r.createElement(Qp,Fk({},a,{className:n,src:yk,imageRendering:"pixelated"}))},Ck="c2fedc3e22cd2dea7d85",Mk=()=>{const e=(0,l.useSharedFacet)(pu);return(0,l.useFacetCallback)((e=>(t,a={},n,r)=>{const l={};Object.keys(a).forEach((e=>{const{value:t,privacyTag:n}=a[e],r={__Type:"EventProperty",value:t,privacyTag:n};l[e]=r}));const o={};return n&&Object.keys(n).forEach((e=>{const{value:t,aggregationType:a}=n[e],r={__Type:"EventMeasurement",value:t,aggregationType:a};o[e]=r})),e.fireEvent(t,l,0===Object.keys(o).length?void 0:o,r)}),[],[e])},wk=()=>{const e=Mk();return(0,r.useCallback)((t=>{e("ButtonPressed",{ButtonName:{value:"Profile",privacyTag:du.CustomerContent},entryPoint:{value:t,privacyTag:du.CustomerContent}},{Count:{value:1,aggregationType:mu.Increment}},!0)}),[e])},kk=a.p+"assets/psn_logo-ea3e6a8b6b7961ab12f7.png",Tk=e=>e===Qe.PS4||e===Qe.PS5,Pk=e=>e===Qe.XBOX,Ik=e=>e===Qe.NX_HANDHELD||e===Qe.NX_TV,xk=e=>Pk(e)||Ik(e)||Tk(e),Ak=e=>e===Qe.WIN32||e===Qe.UWP,Ok=(e,t)=>Ak(e)&&t===qe.ARVR_None,Nk=e=>e===Qe.GOOGLE||e===Qe.IOS||e===Qe.MACOS||e===Qe.UWP||e===Qe.WIN32||e===Qe.XBOX,Rk=((0,l.sharedFacet)("vanilla.gameplay.activeLevelHardcoreMode"),(0,l.sharedFacet)("vanilla.gameplay.immediateRespawn"),(0,l.sharedFacet)("vanilla.gameplay.leaveGame"));function Lk(){return(0,l.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive_Parental)),[],[(0,l.useSharedFacet)(Wu)])}function _k(){return(0,l.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive)),[],[(0,l.useSharedFacet)(Wu)])}function Dk(){return(0,l.useFacetMap)(((e,t)=>(Ik(t.platform)||Tk(t.platform))&&t.isOnline&&!e.hasPremiumNetworkAccess),[],[(0,l.useSharedFacet)(Wu),(0,l.useSharedFacet)(dl)])}function Wk(){const e=_k(),t=Lk(),a=Dk();return(0,l.useFacetMap)(((e,t,a)=>e||t||a),[],[e,t,a])}function Bk(){const e=_k(),t=Lk();return(0,l.useFacetMap)(((e,t)=>e||t),[],[e,t])}function Uk(){return(0,l.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(Lu.Platform_PlayStation)||e.userPermissions.multiplayer.denyReasons.includes(Lu.Platform_NintendoSwitch)),[],[(0,l.useSharedFacet)(Wu)])}(0,l.sharedFacet)("vanilla.gameplay.playerDeathInfo"),(0,l.sharedFacet)("vanilla.gameplay.playerRespawn");const zk=()=>{};let Hk;function jk(){}function Vk(e,t,a){const n=(0,r.useRef)(!1),l=(0,r.useRef)(!1),o=(0,r.useRef)(jk),i=(0,Il.useFacetCallback)(e,[e,...t],[...a]),c=(0,r.useCallback)((async(...e)=>{if(n.current)return;const t=e=>{const{promise:t,cancel:a}=(e=>{let t=zk;const a=new Promise((e=>{t=e})),n=e.get();if(n!==Il.NO_VALUE)return t(n),{promise:a,cancel:zk};const r=e.observe(t);return{promise:a.then((e=>(r(),e))),cancel:r}})(function(e,t,a){return(0,Il.mapFacetsLightweight)(e,(e=>e==Hk.RUNNING?Il.NO_VALUE:e),void 0)}([e]));return o.current=a,t};return(async(...e)=>{if(l.current)return;n.current=!0;const a=i(...e);if(a!==Il.NO_VALUE){for(const e of a)if(await t(e)!=Hk.DONE)break;n.current=!1}})(...e)}),[i]);return(0,r.useEffect)((()=>()=>{l.current=!0,o.current()}),[]),c}function Gk(e){const t=$k(e),a=(0,l.useSharedFacet)(Rk),n=(0,l.useSharedFacet)(mc);return(0,l.useFacetCallback)(((e,a,n)=>()=>{n.isInGame?a.leaveGameThenJoinFriendsWorld(e):t()}),[t],[e,a,n])}function $k(e){const t=(0,l.useSharedFacet)(Ic),a=(0,l.useFacetMap)((e=>e.joinFriendServerState),[],[t]),n=Vk((e=>function*(t){e.joinFriendServer(t),yield a,e.clearJoinFriendServerTaskState()}),[a],[t]);return(0,l.useFacetCallback)((e=>()=>{n(e)}),[n],[e])}function Kk(){return(0,l.useFacetMap)(((e,t)=>!t.isInGame&&e.onlyCellularAvailable&&e.showCellularDataFee),[],[(0,l.useSharedFacet)(dl),(0,l.useSharedFacet)(mc)])}function Yk(e){const t=(0,l.useSharedFacet)(Wu),a=Wk();return(0,l.useFacetMap)(((e,t,a)=>null!=e.playingOnServerId&&""!==e.playingOnServerId&&!(!0===e.isInSameGame)&&t.userPermissions.multiplayer.allowed&&!a),[],[e,t,a])}function Xk(e,t){return(0,l.useFacetCallback)(((a,n)=>()=>{a.isInGame?a.isInMultiplayerSession&&a.isHosting?e.endHostingMultiplayerSessionModal.show():e.leaveWorldThenJoinModal.show():n?e.mobileDataModal.show():t()}),[e,t],[(0,l.useSharedFacet)(mc),Kk()])}!function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.DONE=2]="DONE",e[e.CANCELLED=3]="CANCELLED",e[e.FAILED=4]="FAILED"}(Hk||(Hk={}));const qk="backButton",Qk=yp((({joinWorld:e,onClose:t})=>{const{t:a}=Fc("LeaveWorldThenJoinModal");return r.createElement($E,{defaultFocusAlias:qk},r.createElement($E.Header,{onClose:t},a(".title")),r.createElement($E.Content,null,r.createElement($E.Paragraphs,{narrationText:`${a(".message_p1")}. ${a(".message_p2")}`,spaceBetweenParagraphs:5},r.createElement(zm,{type:"captionLong"},a(".message_p1")),r.createElement(zm,{type:"captionLong"},a(".message_p2")))),r.createElement($E.Buttons,null,r.createElement(Ug,{delayedClick:!0,onClick:e,autofocus:!0,gamepadAlias:qk,inputLegend:a(".confirmation"),variant:"primary","data-testid":"join-world"},a(".confirmation")),r.createElement(Nm,{size:1}),r.createElement(Ug,{delayedClick:!0,inputLegend:a(".cancel"),variant:"secondary",onClick:t},a(".cancel"))))})),Zk=yp((({joinServer:e,onClose:t})=>{const{t:a}=Fc("MobileDataBlockedModal"),n=p(),l="backButton";return r.createElement($E,{defaultFocusAlias:l},r.createElement($E.Header,{onClose:t},a(".title")),r.createElement($E.Content,null,r.createElement($E.Paragraphs,{narrationText:`${a(".onlyWifi")}. ${a(".costWarning")}`,spaceBetweenParagraphs:5,gamepadIndex:0},r.createElement(zm,{type:"captionLong"},a(".onlyWifi")),r.createElement(zm,{type:"captionLong"},a(".costWarning")))),r.createElement($E.Buttons,null,r.createElement(Ug,{delayedClick:!0,onClick:()=>{t(),n.push("/settings/general")},autofocus:!0,gamepadAlias:l,inputLegend:a(".changeSettings"),variant:"primary"},a(".changeSettings")),r.createElement(Nm,{size:1}),r.createElement(Ug,{delayedClick:!0,inputLegend:a(".playOnceWithData"),variant:"secondary",onClick:()=>{e(),t()},"data-testid":"play-once-with-data"},a(".playOnceWithData"))))})),Jk=yp((({onClose:e,onContinue:t})=>{const{t:a}=Fc("EndHostingMultiplayerSessionModal");return r.createElement($E,null,r.createElement($E.Header,{onClose:e},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a(".text")},a(".text"))),r.createElement($E.Buttons,null,r.createElement(Ug,{inputLegend:a(".continue"),variant:"primary",onClick:t,delayedClick:!0},a(".continue")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:a(".cancel"),variant:"secondary",onClick:e},a(".cancel"))))}));function eT(){return{mobileDataModal:Zk.useModal(),leaveWorldThenJoinModal:Qk.useModal(),endHostingMultiplayerSessionModal:Jk.useModal()}}function tT({modals:e,joinCallback:t}){const a=Kk(),n=(0,l.useFacetCallback)((a=>()=>{e.endHostingMultiplayerSessionModal.hide(),e.leaveWorldThenJoinModal.hide(),a?e.mobileDataModal.show():t()}),[e,t],[a]),o=(0,l.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0,t()}),[t],[(0,l.useSharedFacet)(Rc)]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:e.mobileDataModal.isVisible},r.createElement(Zk.Component,{onClose:e.mobileDataModal.hide,joinServer:o})),r.createElement(l.Mount,{when:e.leaveWorldThenJoinModal.isVisible},r.createElement(Qk.Component,{onClose:e.leaveWorldThenJoinModal.hide,joinWorld:n})),r.createElement(l.Mount,{when:e.endHostingMultiplayerSessionModal.isVisible},r.createElement(Jk.Component,{onClose:e.endHostingMultiplayerSessionModal.hide,onContinue:n})))}function aT(e,t){const{t:a}=Sc(t),n=tv(ji);return(0,l.useFacetMap)((({variant:e,presence:t,platform:r,presenceMessage:l,favoriteStatus:o,isInSameGame:i,isFriendOfFriend:c})=>{if("sent-request"===e)return{avatar:"offline",status:a(".pending")};if("received-request"===e)return{avatar:"offline",status:a(".receivedRequest")};if(n)switch(t){case qc.Offline:return{status:a(".offline"),avatar:"offline"};case qc.Online:return c?null!=r?{status:a(`.friendOfFriendPlaying.${r}`),avatar:"online"}:{status:a(".friendOfFriendPlaying"),avatar:"online"}:i?{status:a(".playingInSameWorld"),avatar:o===Yc.FAVORITE?"onlineFavorite":"online"}:null!=r?{status:a(`.online.${r}`),avatar:"online"}:{status:""!==l?l:a(".online"),avatar:o===Yc.FAVORITE?"onlineFavorite":"online"};case qc.Away:return c?null!=r?{status:a(`.friendOfFriendPlaying.${r}`),avatar:"away"}:{status:a(".friendOfFriendPlaying"),avatar:"away"}:{status:a(".away"),avatar:o===Yc.FAVORITE?"awayFavorite":"away"}}else switch(t){case qc.Online:case qc.Away:return c?null!=r?{status:a(`.friendOfFriendPlaying.${r}`),avatar:"online"}:{status:a(".friendOfFriendPlaying"),avatar:"online"}:null!=r?{status:a(`.online.${r}`),avatar:"online"}:{status:a(".online"),avatar:"online"};case qc.Offline:return{status:a(".offline"),avatar:"offline"}}return{status:"",avatar:"offline"}}),[a,n],[e])}function nT({item:e,index:t,listLength:a,onAdditionalActionClick:n,onMainActionClick:o,disabled:i,gamepadAlias:c,profileEntryPoint:s,grayscaleAvatarWhenOffline:u=!1,screenAnalyticsId:d="",testId:m,enablePSNLogo:p=!1}){const{t:f}=Fc("PlayerListItem"),{t:g}=Fc("PlayerListItem.narration"),E=(0,l.useFacetMap)((e=>e.xuid),[],[e]),h=(0,l.useFacetMap)((e=>e.gamerTag),[],[e]),b=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.gamerIcon)&&void 0!==t?t:""}),[],[e]),v=(0,l.useFacetMap)((e=>e.playingOnServerId),[],[e]),y=wk(),F=(0,l.useFacetWrap)(s),S=(0,l.useSharedFacet)(Wu),C=(0,l.useFacetCallback)(((e,t)=>()=>{y(t),null==o||o(e)}),[y,o],[e,F]),M=aT(e,"PlayerListItem"),w=(0,l.useFacetMap)((({status:e})=>""!==e),[],[M]),k=(0,l.useFacetMap)((({variant:e})=>"self-labelled"===e),[],[e]),T=(0,l.useFacetMap)((({variant:e})=>{switch(e){case"added-not-mutual":return"added-status";case"added-mutual":return"friends-status";case"party-sent-invite":return"party-sent-invite"}return"none"}),[],[e]),P=(0,l.useFacetWrap)(i),I=(0,l.useFacetMap)((({variant:e},t)=>"sent-request"===e||"received-request"===e||null!=t&&t),[],[e,P]),x=Yk(e),A=(0,l.useFacetMap)((({variant:e},t,a)=>{switch(e){case"player":if(a)return"join";break;case"sent-request":return"delete-request";case"received-request":return"accept-reject-request";case"add-friend":if(t.userPermissions.addFriends.allowed)return"add-friend";break;case"party-invite":return"party-invite";case"party-options":return"party-options";case"party-drawer-sent-invite":return"party-drawer-sent-invite";case"party-joinable":return"party-joinable";case"party-received-invite":return"party-received-invite"}return"none"}),[],[e,S,x]),O=(0,l.useFacetMap)((({variant:e},a,n,r,l,{status:o})=>{const i=[];let c=o,s="";switch(e){case"sent-request":c=g(".sentRequest");break;case"received-request":c=g(".receivedRequest");break;case"added-mutual":s=g(".addedMutual");break;case"added-not-mutual":s=g(".addedNotMutual")}return i.push(a,c,g(l?".listItemRole":".buttonRole"),g(".itemOrderContext",[`${t+1}`,`${n}`])),l||i.push(s,g(".playerProfileHint")),"none"!==r&&i.push(g(".additionalActionsHint")),"party-sent-invite"===e&&i.push(g(".playerInvited")),i.join(" . ")}),[t,g],[e,h,a,A,I,M]),N=Ce(),R=(0,l.useFacetCallback)((e=>()=>{n&&n(),N(e)}),[N,n],[(0,l.useFacetWrap)(c)]),L=(0,l.useFacetMap)((e=>e.location),[],[e]),_=(0,l.useFacetMap)(((e,t,a,n)=>!!e&&(!a.isLoggedInWithMicrosoftAccount&&Tk(n.platform)||"playstation"===t.platform)),[],[(0,l.useFacetWrap)(p),e,(0,l.useSharedFacet)(Wu),(0,l.useSharedFacet)(dl)]);return r.createElement(Qw,{testId:m},r.createElement(Qw.Action,{narrationText:O,inputLegend:f(".viewProfile"),onClick:C,gamepadAlias:c,disabled:I,testId:null!=m?`${m}-main-action`:void 0},r.createElement(Qw.Cell,{direction:"row"},r.createElement(uk,{variant:"large",src:b,status:(0,l.useFacetMap)((({avatar:e})=>e),[],[M]),grayscaleAvatar:(0,l.useFacetMap)((({avatar:e},t)=>"offline"===e&&t),[],[M,(0,l.useFacetWrap)(u)]),shouldShowNewStatus:!0})),r.createElement(l.Mount,{when:_},r.createElement(Qw.Cell,{align:"center"},r.createElement(Qp,{src:kk,className:"f052a7599b1acb765070",width:"2.2rem",height:"2.2rem"}))),r.createElement(Qw.Main,null,r.createElement("div",{className:"b085df96b25244b8bcba"},r.createElement(zm,{type:"body",overflowEllipsis:!0},h),r.createElement(l.Mount,{when:k},r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(zm,{variant:"dimmer",type:"captionShort"},f(".you"))))),r.createElement(l.Mount,{when:w},r.createElement(zm,{type:"captionShort",variant:"dimmer"},(0,l.useFacetMap)((({status:e})=>e),[],[M])))),r.createElement(xl,{data:T},(e=>{switch(e){case"added-status":return r.createElement(pT,{text:f(".added"),Icon:og});case"friends-status":return r.createElement(pT,{text:f(".friends"),Icon:og});case"party-sent-invite":return r.createElement(pT,{text:f(".invited"),Icon:og});default:return null}}))),r.createElement(xl,{data:A},(e=>{switch(e){case"none":return null;case"join":return r.createElement(rT,{playingOnServerId:v,onClickAdditionalAction:R,screenAnalyticsId:d});case"delete-request":return r.createElement(lT,{onClickAdditionalAction:R});case"accept-reject-request":return r.createElement(oT,{playerId:E,onClickAdditionalAction:R});case"party-received-invite":return r.createElement(mT,{connectionString:E,onClickAdditionalAction:R});case"add-friend":return r.createElement(iT,{playerId:E,onClickAdditionalAction:R,location:L,index:t,listLength:a});case"party-invite":return r.createElement(cT,{onClickAdditionalAction:R,gamerTag:h,playerId:E});case"party-options":return r.createElement(sT,{onClickAdditionalAction:R});case"party-drawer-sent-invite":return r.createElement(uT,{playerId:E,onClickAdditionalAction:R});case"party-joinable":return r.createElement(dT,{onClickAdditionalAction:R})}})))}function rT({playingOnServerId:e,onClickAdditionalAction:t,screenAnalyticsId:a}){const{t:n}=Fc("PlayerListItem"),{t:o}=Fc("PlayerListItem.narration"),i=vd(),c=(0,l.useFacetMap)((e=>null!=e?e:""),[],[e]),s=eT(),u=Gk(c),d=Xk(s,u),m=(0,r.useCallback)((()=>{i({screen:a,button:"Join"}),d(),t&&t()}),[d,t,i,a]);return r.createElement(r.Fragment,null,r.createElement(tT,{modals:s,joinCallback:u}),r.createElement(Qw.AdditionalAction,{narrationText:[o(".joinFriend"),o(".buttonRole")].join(" . "),inputLegend:n(".select"),onClick:m,testId:"player-list-item-join-button"},r.createElement(pk,{className:Ck}),r.createElement(zm,{type:"captionShort",overflowEllipsis:!0,className:"e6aadc6d933586204825"},n(".join"))))}function lT({onClickAdditionalAction:e}){const{t}=Fc("PlayerListItem"),{t:a}=Fc("PlayerListItem.narration"),n=(0,r.useCallback)((()=>{e&&e()}),[e]);return r.createElement(Qw.AdditionalAction,{inputLegend:t(".select"),onClick:n,narrationText:[a(".delete"),a(".buttonRole")].join(" . ")},r.createElement(Qw.Cell,{align:"center"},r.createElement(Ek,{className:Ck}),r.createElement(zm,{align:"center",type:"captionTiny"},t(".delete"))))}function oT({playerId:e,onClickAdditionalAction:t}){const{t:a}=Fc("PlayerListItem"),n=(0,l.useSharedFacet)(uc),o=(0,l.useFacetCallback)(((e,a)=>()=>{e.acceptRequest(a),t&&t()}),[t],[n,e]),i=(0,l.useFacetCallback)(((e,a)=>()=>{e.rejectRequest(a),t&&t()}),[t],[n,e]);return r.createElement(r.Fragment,null,r.createElement(Qw.AdditionalAction,{inputLegend:a(".select"),onClick:o,narrationText:[a(".accept"),a(".buttonSiblings",["1","2"])].join(" . "),testId:"player-list-item-accept-button"},r.createElement(Qw.Cell,{align:"center"},r.createElement(og,{className:Ck}),r.createElement(zm,{align:"center",type:"captionTiny"},a(".accept")))),r.createElement(Qw.AdditionalAction,{inputLegend:a(".select"),onClick:i,narrationText:[a(".reject"),a(".buttonSiblings",["2","2"])].join(" . "),testId:"player-list-item-reject-button"},r.createElement(Qw.Cell,{align:"center"},r.createElement(of,{className:Ck}),r.createElement(zm,{align:"center",type:"captionTiny"},a(".reject")))))}function iT({playerId:e,onClickAdditionalAction:t,location:a,index:n,listLength:o}){const{t:i}=Fc("PlayerListItem"),{t:c}=Fc("PlayerListItem.narration"),s=(0,l.useFacetCallback)(((e,a,n)=>()=>{null!=n&&a.addFriend(e,n),t&&t()}),[t],[e,(0,l.useSharedFacet)(as),a]),u=(0,l.useFacetMap)(((e,t)=>{const a=[i(".addButtonText"),c(".buttonRole")];return t===ts.ADDFRIENDS_SEARCH&&a.push(i(".narrationItemOrderContext",[`${n+1}`,`${e}`])),a.join(" . ")}),[n,c,i],[o,a]);return r.createElement(Qw.AdditionalAction,{inputLegend:i(".addButtonInputLegend"),onClick:s,narrationText:u,testId:"player-list-item-add-button"},r.createElement(Qw.Cell,{align:"center"},r.createElement(vk,{className:Ck}),r.createElement(zm,{align:"center",type:"captionShort",overflowEllipsis:!0},i(".addButtonText"))))}function cT({playerId:e,gamerTag:t,onClickAdditionalAction:a}){const{t:n}=Fc("PlayerListItem"),{t:o}=Fc("PlayerListItem.narration"),i=(0,l.useFacetCallback)(((e,t)=>()=>{t.sendInvite(e),a&&a()}),[a],[e,(0,l.useSharedFacet)(zw)]),c=(0,l.useFacetMap)((e=>[o(".inviteButtonText",[e]),o(".buttonRole")].join(" . ")),[o],[t]);return r.createElement(Qw.AdditionalAction,{inputLegend:n(".inviteButtonInputLegend"),onClick:i,narrationText:c,testId:"player-list-item-invite-button"},r.createElement(Qw.Cell,{align:"center"},r.createElement(Sk,{className:Ck}),r.createElement(zm,{align:"center",type:"captionShort",overflowEllipsis:!0},n(".inviteButtonText"))))}function sT({onClickAdditionalAction:e}){const{t}=Fc("PlayerListItem"),{t:a}=Fc("PlayerListItem.narration"),n=(0,r.useCallback)((()=>{e&&e()}),[e]);return r.createElement(Qw.AdditionalAction,{inputLegend:t(".inviteButtonInputLegend"),onClick:n,narrationText:[t(".cancelButtonText"),a(".buttonRole")].join(" . "),testId:"player-list-item-options-button"},r.createElement(Qw.Cell,{align:"center"},r.createElement(xM.Options,null)))}function uT({onClickAdditionalAction:e,playerId:t}){const{t:a}=Fc("PlayerListItem"),{t:n}=Fc("PlayerListItem.narration"),o=(0,l.useFacetCallback)(((t,a)=>()=>{a.cancelInvite(t),e&&e()}),[e],[t,(0,l.useSharedFacet)(zw)]);return r.createElement(Qw.AdditionalAction,{inputLegend:a(".inviteButtonInputLegend"),onClick:o,narrationText:[a(".cancelButtonText"),n(".buttonRole")].join(" . "),testId:"player-list-item-cancel-invite-button"},r.createElement(Qw.Cell,{align:"center"},r.createElement(of,{className:zr()("a8c5ffdb881cede4789c","b049553b7d4f8cb60ef3")}),r.createElement(zm,{align:"center",type:"captionTiny",overflowEllipsis:!0},a(".cancelButtonText"))))}function dT({onClickAdditionalAction:e}){const{t}=Fc("PlayerListItem"),{t:a}=Fc("PlayerListItem.narration"),n=(0,l.useFacetCallback)((()=>()=>{e&&e()}),[e],[]);return r.createElement(Qw.AdditionalAction,{inputLegend:t(".inviteButtonInputLegend"),onClick:n,narrationText:[t(".cancelButtonText"),a(".buttonRole")].join(" . "),testId:"player-list-item-join-party-button"},r.createElement(Qw.Cell,{align:"center"},r.createElement(xM.Party,{className:Ck}),r.createElement(zm,{align:"center",type:"captionTiny",overflowEllipsis:!0},t(".join"))))}function mT({connectionString:e,onClickAdditionalAction:t}){const{t:a}=Fc("PlayerListItem"),n=(0,l.useFacetCallback)(((e,a)=>()=>{a.acceptInvite(e),t&&t()}),[t],[e,(0,l.useSharedFacet)(zw)]),o=(0,l.useFacetCallback)(((e,a)=>()=>{a.ignoreInvite(e),t&&t()}),[t],[e,(0,l.useSharedFacet)(zw)]);return r.createElement(r.Fragment,null,r.createElement(Qw.AdditionalAction,{inputLegend:a(".select"),onClick:o,narrationText:[a(".reject"),a(".buttonSiblings",["1","2"])].join(" . "),testId:"player-list-item-reject-button"},r.createElement(Qw.Cell,{align:"center"},r.createElement(of,{className:Ck}),r.createElement(zm,{align:"center",type:"captionTiny"},a(".ignore")))),r.createElement(Qw.AdditionalAction,{inputLegend:a(".select"),onClick:n,narrationText:[a(".accept"),a(".buttonSiblings",["2","2"])].join(" . "),testId:"player-list-item-accept-button"},r.createElement(Qw.Cell,{align:"center"},r.createElement(og,{className:Ck}),r.createElement(zm,{align:"center",type:"captionTiny"},a(".accept")))))}function pT({Icon:e,text:t}){return r.createElement(Qw.Cell,{direction:"row"},r.createElement(e,{className:"beff131a3b63c5e6afb6"}),r.createElement(zm,{variant:"dimmer",type:"captionShort",className:"f3d8d94580f40e0ba27f"},t))}const fT=a.p+"assets/IconPartyInviteBlack-dea61b0544257195e28a.png";function gT(){return gT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},gT.apply(null,arguments)}const ET=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("f9579d2832fd491b604f",t);return r.createElement(Qp,gT({},a,{className:n,src:fT,imageRendering:"pixelated"}))};a(34753);const hT=fr({id:"vanilla",sound:{neutral:{reject:"note.bass",press:"random.click",contract:"random.click",expand:"random.click",toggle:"random.click",lift:"random.click",click:"random.click"},primary:{press:"tokens.vanilla.release"}},color:{neutral:{background:{default:Mo,hovered:Co,pressed:wo,disabled:Fo,selected:wo},text:{dimmer:{default:yo,disabled:yo},dimmest:{default:Fo},regular:{default:bo,disabled:Co}},shadow:{default:wo,disabled:So},dropShadow:{default:"rgba(0, 0, 0, 0.25)"},icon:{regular:{default:bo,disabled:Co},dimmer:{default:yo},dimmest:{default:Fo}},border:{regular:{default:To,disabled:Co}},caret:{regular:{default:go}},specular:{default:{top:Lo,bottom:Ro}},bevel:{default:{top:Ro,bottom:Ao}},outline:{default:bo},highlight:{default:"transparent",hovered:xo},overlay:{default:"rgba(0, 0, 0, 0.7)"}},neutral20:{background:{default:"#e6e8eb",hovered:"#f4f6f9",pressed:yo},shadow:{default:Fo},text:{regular:{default:To},dimmest:{default:yo}},icon:{regular:{default:bo}},outline:{default:vo},specular:{default:{top:bo,bottom:Lo}},bevel:{default:{top:Ro,bottom:Ao}}},neutral50:{background:{default:So,hovered:Fo,pressed:Co},border:{regular:{default:To,disabled:So}},overlay:{default:"rgba(0, 0, 0, 0.5)"},icon:{regular:{default:So}}},neutral60:{background:{default:Co,hovered:Mo,pressed:wo,disabled:Mo},border:{regular:{default:To,disabled:So},dimmest:{default:So}},text:{regular:{default:bo,disabled:Fo}},icon:{regular:{default:bo,disabled:Fo}}},neutral80:{background:{default:wo,hovered:Mo,selected:Mo,pressed:ko},shadow:{default:ko},text:{regular:{default:bo},dimmer:{default:yo},dimmest:{default:Fo}},caret:{regular:{default:go}},bevel:{default:{top:Ro,bottom:Oo},hovered:{top:Ro,bottom:Oo},pressed:{top:No,bottom:Ro},selected:{top:Oo,bottom:Ro}},overlay:{default:Oo}},neutral100:{background:{default:To},text:{regular:{default:bo},dimmer:{default:yo},dimmest:{default:Fo}}},primary:{background:{default:Eo,hovered:"#2a641c",pressed:ho},shadow:{default:ho},text:{regular:{default:bo}},icon:{regular:{default:bo,disabled:Co}},border:{regular:{default:To}},specular:{default:{top:Lo,bottom:Ro},hovered:{top:_o,bottom:"rgba(255, 255, 255, 0.3)"}}},primaryTint:{background:{default:go},text:{regular:{default:To}},border:{regular:{default:To}}},secondary:{background:{default:yo,hovered:Fo,pressed:Fo},text:{regular:{default:To}},icon:{regular:{default:To,disabled:Co}},shadow:{default:Co},border:{regular:{default:To}},specular:{default:{top:Do,bottom:_o},hovered:{top:"rgba(255, 255, 255, 0.8)",bottom:Do}}},success:{background:{default:Eo},text:{regular:{default:bo}}},successTint:{background:{default:fo},text:{regular:{default:To}},border:{regular:{default:To}}},informative:{background:{default:"#2e6be5"},text:{regular:{default:bo}},border:{regular:{default:To}}},informativeTint:{background:{default:"#8cb3ff"},text:{regular:{default:To}},border:{regular:{default:To}}},destructive:{background:{default:"#ca3636",hovered:"#c02d2d",pressed:Po},text:{regular:{default:bo}},icon:{regular:{default:bo}},shadow:{default:Po},specular:{default:{top:Lo,bottom:Ro},hovered:{top:"rgba(255, 255, 255, 0.5)",bottom:_o}}},destructiveTint:{background:{default:"#ff8080"},text:{regular:{default:To}},border:{regular:{default:To}}},notice:{background:{default:"#d3791f"}},noticeTint:{background:{default:Io},text:{regular:{default:To}},border:{regular:{default:To}},outline:{default:To},icon:{regular:{default:To}}},dataViz01:{background:{default:"#42CCCC"},text:{regular:{default:To}}},dataViz02:{background:{default:"#9471E0"},text:{regular:{default:To}}},dataViz03:{background:{default:"#ffb366"},text:{regular:{default:To}}},dataViz04:{background:{default:"#89DEF9"},text:{regular:{default:To}}},dataViz05:{background:{default:fo},text:{regular:{default:To}}},dataViz06:{background:{default:"#F064B8"},text:{regular:{default:To}}},dataViz07:{background:{default:Io},text:{regular:{default:To}}},dataVizLine:{background:{default:yo},text:{regular:{default:To}}},paper:{background:{default:bo},text:{regular:{default:vo,disabled:Mo},dimmer:{default:Co}},icon:{regular:{default:vo,disabled:Mo}},border:{regular:{default:To,disabled:So}},caret:{regular:{default:vo}},specular:{default:{top:Lo,bottom:Ro}},bevel:{default:{top:Ro,bottom:Ao}},outline:{default:To},highlight:{default:"transparent",hovered:xo}},neutralAlpha60:{background:{default:"rgba(0, 0, 0, 0.6)",hovered:Mo,selected:Mo,pressed:ko},bevel:{default:{top:Oo,bottom:Ro},hovered:{top:Oo,bottom:Ro},selected:{top:Oo,bottom:Ro},pressed:{top:No,bottom:Ro}},border:{}}}}),bT=fr({id:"realms",sound:{secondary:{press:"tokens.vanilla.release"}},color:{primary:{background:{default:"#7345E5",hovered:"#5D2CC6",pressed:Uo,disabled:Fo},border:{regular:{default:To,disabled:Co}},overlay:{default:"rgba(5, 0, 41, 0.5)"},shadow:{default:Uo,disabled:So},text:{regular:{default:bo,disabled:Co}},icon:{regular:{default:bo,disabled:Co}},specular:{default:{top:"rgba(208, 131, 255, 0.5)",bottom:"rgba(182, 81, 245, 0.4)"},hovered:{top:"rgba(208, 131, 255, 0.7)",bottom:"rgba(182, 81, 245, 0.6)"}},caret:{regular:{default:vo}},bevel:{default:{top:Ro,bottom:Ao},selected:{top:"rgba(5, 0, 41, 0.4)",bottom:"rgba(208, 131, 255, 0.5)"},hovered:{top:"rgba(5, 0, 41, 0.4)",bottom:"rgba(208, 131, 255, 0.5)"},pressed:{top:"rgba(5, 0, 41, 0.4)",bottom:"rgba(208, 131, 255, 0.5)"}},outline:{default:bo}},primaryTint:{background:{default:Bo},text:{regular:{default:To}},border:{regular:{default:To}}},informative:{background:{default:"#050029"},text:{regular:{default:bo}},border:{regular:{default:To,disabled:So}}},PDPCore:{specular:{default:{top:"rgba(172, 144, 243, 0.5)",bottom:"rgba(172, 144, 243, 0.5)"}},text:{regular:{default:bo,disabled:"#777682"},dimmer:{default:Wo},dimmest:{default:"#5D5974"},stronger:{default:Bo}}},PDPPlus:{specular:{default:{top:"rgba(244, 96, 210, 0.5)",bottom:"rgba(244, 96, 210, 0.5)"}},text:{regular:{default:bo,disabled:"#777682"},dimmer:{default:Wo},dimmest:{default:"#5D5974"},stronger:{default:"#E833C2"}}}}}),vT=(fr({id:"gameplayInputLegendCollection",color:{neutral100:{background:{default:"none"},specular:{default:{top:"none",bottom:"none"}},text:{regular:{default:bo}}}}}),fr({id:"partyTabOpenPartyCollection",color:{neutral80:{background:{default:ko},border:{regular:{default:To}}}}})),yT=fr({id:"gamedropCollection",color:{neutral100:{background:{default:ko}}}});function FT(e,t,a){let n=null==e?0:e.length;if(!n)return[];(t=null==t?0:t)<0&&(t=-t>n?0:n+t),(a=(a=null==a?n:a)>n?n:a)<0&&(a+=n),n=t>a?0:a-t>>>0,t>>>=0;let r=-1;const l=new Array(n);for(;++r<n;)l[r]=e[r+t];return l}let ST,CT;!function(e){e[e.Unknown=0]="Unknown",e[e.NotPlayed=1]="NotPlayed",e[e.HasPlayed=2]="HasPlayed"}(ST||(ST={})),function(e){e[e.Unavailable=0]="Unavailable",e[e.Loading=1]="Loading",e[e.Ready=2]="Ready",e[e.Error=3]="Error"}(CT||(CT={}));const MT=(0,l.sharedFacet)("vanilla.friendsListFacet");function wT(e){return FT(e,0).sort(kT)}function kT(e,t){return null==e.playingOnServerId&&null!=t.playingOnServerId?1:null!=e.playingOnServerId&&null==t.playingOnServerId?-1:0}function TT(e){return FT(e,0).sort(PT)}function PT(e,t){const a=null!=e.playingOnServerId,n=null!=t.playingOnServerId;return a&&!n?-1:!a&&n?1:function(e,t){return e.favoriteStatus===Yc.FAVORITE&&t.favoriteStatus!==Yc.FAVORITE?-1:t.favoriteStatus===Yc.FAVORITE&&e.favoriteStatus!==Yc.FAVORITE?1:e.presence===qc.Online&&t.presence===qc.Away?-1:t.presence===qc.Online&&e.presence===qc.Away?1:0}(e,t)}function IT(){return(0,l.useFacetMap)((e=>Tk(e.platform)||Ik(e.platform)),[],[(0,l.useSharedFacet)(dl)])}function xT({ownerId:e,platformId:t}){const a=(0,l.useFacetWrap)(null!=e?e:""),n=(0,l.useFacetWrap)(null!=t?t:""),r=(0,l.useFacetCallback)((e=>(t,a)=>{e.subscribeToProfile(t,a)}),[],[(0,l.useSharedFacet)(Zc)]);(0,l.useFacetEffect)(((e,t)=>{(e||t)&&r(e,t)}),[r],[a,n]);const o=(0,l.useFacetMap)(((e,t)=>({xuid:e,platformId:t})),[],[a,n]),i=AT(o),c=(0,l.useFacetMap)((e=>(null==e?void 0:e.state.xblState)===Xc.Loaded||(null==e?void 0:e.state.platformState)===Xc.Loaded),[],[i]),s=(0,l.useFacetMap)((e=>{return null==(t=null==e?void 0:e.data)?"":""!==t.xblProfilePic?t.xblProfilePic:null!==(a=t.platformProfilePic)&&void 0!==a?a:"";var t,a}),[],[i]);return{ownerDetails:i,isLoaded:c,profileName:(0,l.useFacetMap)((e=>{return null==(t=null==e?void 0:e.data)?"":""!==t.xblName?t.xblName:null!==(a=t.platformName)&&void 0!==a?a:"";var t,a}),[],[i]),avatarSource:s}}function AT(e){return(0,l.useFacetMap)(((e,t)=>{const{xuid:a,platformId:n}=t;return""===a&&""===n?e.playerProfiles.find((e=>""===e.data.platformId&&""===e.data.xuid))||null:""!=n?e.playerProfiles.find((e=>e.data.platformId===n))||null:e.playerProfiles.find((e=>e.data.xuid===a))||null}),[],[(0,l.useSharedFacet)(Zc),e])}function OT(){const e=(0,l.useSharedFacet)(Zc),t=(0,l.useSharedFacet)(Wu);return(0,l.useFacetMap)(((e,t)=>t.isLoggedInWithMicrosoftAccount?e.playerProfiles.find((e=>e.data.xuid===t.currentXuid))||null:e.playerProfiles.find((e=>e.data.platformId===t.currentPlatformId))||null),[],[e,t])}function NT(e){return(0,l.useFacetMap)(((e,t)=>t.map((t=>{const{xuid:a,platformId:n}=t;return""===a&&""===n?e.playerProfiles.find((e=>""===e.data.platformId&&""===e.data.xuid))||null:""!==n?e.playerProfiles.find((e=>e.data.platformId===n))||null:e.playerProfiles.find((e=>e.data.xuid===a))||null}))),[],[(0,l.useSharedFacet)(Zc),e])}const RT=(0,l.createFacet)({initialValue:{friendWorlds:[]}});function LT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?LT(Object(a),!0).forEach((function(t){DT(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):LT(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function DT(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function WT(e=!1){const t=function(e){const t=tv("vanilla.friendsOfFriendsInFriendsDrawer"),a=(0,l.useSharedFacet)(sc),n=(0,l.useFacetMap)((e=>t?e.friendWorlds.filter((e=>e.friendOfFriendWorld)).map((({ownerId:e,id:t})=>({xuid:e,platformId:e,joinId:t}))):[]),[t],[e?a:RT]),r=(0,l.useFacetCallback)((e=>t=>e.subscribeToProfile(t,t)),[],[(0,l.useSharedFacet)(Zc)]);return(0,l.useFacetEffect)((e=>e.forEach((e=>r(e.xuid)))),[r],[n]),(0,l.useFacetMap)(((e,t)=>e.filter((e=>null!=e)).map((e=>e.data)).map((e=>t=>{var a;return{isFriendOfFriend:!0,xuid:t.xuid,gamerTag:t.xblName||t.platformName,gamerIcon:t.xblProfilePic||t.platformProfilePic,isCurrentlyPlaying:!0,titleHistory:ST.HasPlayed,favoriteStatus:Yc.UNKNOWN,presenceMessage:"",presence:qc.Online,titleName:t.titleName,playingOnServerId:null===(a=e.find((e=>e.xuid==t.xuid)))||void 0===a?void 0:a.joinId}})(t))),[],[NT(n),n])}(e),a=(0,l.useFacetMap)(((e,t)=>_T(_T({},e),{},{friendsOfFriends:t})),[],[(0,l.useSharedFacet)(MT),t]),n=(0,l.useFacetMap)(((e,t,a)=>function(e,t,a){return function(...e){const t=[];return e.forEach((e=>e.forEach((e=>t.push(e))))),t}(t.isLoggedInWithMicrosoftAccount&&null!=e.xblFriends?e.xblFriends:[],a&&null!=e.platformFriends?e.platformFriends:[],e.friendsOfFriends)}(e,a,t)),[],[a,IT(),(0,l.useSharedFacet)(Wu)]);return{friends:n,friendsOnline:(0,l.useFacetMap)((e=>e.filter((e=>(e.presence===qc.Online||e.presence===qc.Away)&&e.titleHistory==ST.HasPlayed))),[],[n]),friendsOffline:(0,l.useFacetMap)((e=>e.filter((e=>e.presence===qc.Offline&&e.titleHistory==ST.HasPlayed))),[],[n]),isLoading:(0,l.useFacetMap)((e=>e.xblLoadingState==CT.Loading||e.platformLoadingState==CT.Loading),[],[a]),isReady:(0,l.useFacetMap)((e=>e.xblLoadingState===CT.Ready||e.platformLoadingState==CT.Ready),[],[a]),isUnavailable:(0,l.useFacetMap)((e=>e.xblLoadingState===CT.Unavailable||e.platformLoadingState==CT.Unavailable),[],[a])}}let BT;!function(e){e[e.LEAVE=0]="LEAVE",e[e.SWITCH=1]="SWITCH"}(BT||(BT={}));const UT=yp((({onConfirm:e,onCancel:t,reason:a})=>{const{t:n}=Fc("LeavePartyModal"),o=(0,l.useFacetMap)((e=>e===BT.SWITCH),[],[a]),i=(0,l.useFacetMap)((e=>e===BT.LEAVE?n(".leavePartyModalTitle"):n(".switchPartyModalTitle")),[n],[a]),c=(0,l.useFacetMap)((e=>e===BT.LEAVE?n(".leavePartyModalMessage"):n(".switchPartyModalMessage")),[n],[a]);return r.createElement($E,null,r.createElement($E.Header,{hideCloseButton:!0,onClose:t},i),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:c},c)),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{inputLegend:n(".cancel"),variant:"secondary",onClick:t,horizontal:!0},n(".cancel")),r.createElement(Nm,{size:1}),r.createElement(xl,{data:o},(t=>{const a=n(t?".switchParty":".leaveParty"),l=t?"primary":"destructive";return r.createElement(Ug,{inputLegend:a,variant:l,onClick:e,horizontal:!0},a)}))))})),zT={dropdownItem:"a8254c4c0a0c833915f1",show:"c4792d957a7aea841416",hide:"efe88a055b018a0b77f1",image:"bed653ba9f9a385f1b14",imageDisabled:"b98b2da675aadb17d0ae"};function HT({item:e,onClick:t,isSelectable:a=!0,isSelected:n,soundEffectPressed:o,soundEffectHovered:i,role:c="inherit",onFocusChanged:s,disabled:u,gamepadIndex:d,itemTypeNarration:m,testId:p}){const{t:f}=Fc("DropdownItem"),g=(0,l.useFacetWrap)(e),E=(0,l.useFacetWrap)(n),h=(0,l.useFacetWrap)(a),b=(0,l.useFacetWrap)(u),v=(0,l.useFacetMap)((e=>e.gamepadAlias),[],[g]),y=(0,l.useFacetMap)((e=>e.label),[],[g]),F=(0,l.useFacetMap)((e=>e.imageSource),[],[g]),S=(0,l.useFacetMap)((e=>e.Icon),[],[g]),C=(0,l.useFacetWrap)(null!=m?m:""),{background:M,text:w,border:k}=wr(c),T=xr(),P=Ir(),I=(0,l.useFacetMap)(((e,t,a,n,r)=>{var l;const o=[null!=e.narrationText?e.narrationText:e.label,""!==r&&null!=r?r:f(".elementType"),e.enumeration];return t&&o.push(f(a?".selected":".unselected")),o.push(null!==(l=e.description)&&void 0!==l?l:"",n?f(".disabled"):""),o.filter(Boolean).join(" . ")}),[f],[g,h,E,b,C]),x=(0,l.useFacetMap)(((e,t)=>zr()(zT.dropdownItem,M.interactive,k.interactive,P.dimmest,{[T.selected]:e,[T.disabled]:t})),[M.interactive,k.interactive,T.selected,P.dimmest,T.disabled],[E,b]),A=(0,l.useFacetMap)((e=>e?zT.show:zT.hide),[],[E]),O=(0,l.useFacetMap)((e=>zr()(zT.image,{[zT.imageDisabled]:e})),[],[b]),N=(0,l.useFacetCallback)((e=>e?()=>null:t),[t],[b]);return r.createElement(Tm,{className:x,classNameFocused:zr()(zT.dropdownFocusedItem,kp),classNameHovered:zT.dropdownItemHover,gamepadIndex:d,gamepadAlias:v,narrationText:I,inputLegend:f(".select"),onClick:N,soundEffectPressed:o,soundEffectHovered:i,onFocusChanged:s,"data-testid":p},r.createElement(wp,{role:c}),r.createElement(Ng,{imageSource:F,icon:S,className:O}),r.createElement(xm,{className:w.interactive},y),r.createElement(l.Mount,{when:h},r.createElement("fast-div",{className:A},r.createElement(og,null))))}const jT=({item:e,onChange:t,currentValue:a,isSelectable:n=!0,soundEffectPressed:o,soundEffectHovered:i,onFocusChanged:c,disabled:s,gamepadIndex:u,itemTypeNarration:d,testId:m})=>{const p=(0,l.useFacetCallback)((e=>()=>{t(e.value)}),[t],[e]),f=(0,l.useFacetWrap)(s),g=(0,l.useFacetMap)((e=>e?-1:u+1),[u],[f]),E=(0,l.useFacetWrap)(a),h=(0,l.useFacetWrap)(n);return r.createElement(HT,{item:e,isSelected:(0,l.useFacetMap)(((e,t)=>e.isSelected||e.value===t),[],[e,E]),isSelectable:h,gamepadIndex:g,onClick:p,soundEffectPressed:o,soundEffectHovered:i,onFocusChanged:c,disabled:f,itemTypeNarration:d,testId:m})};function VT(){return VT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},VT.apply(null,arguments)}function GT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?GT(Object(a),!0).forEach((function(t){KT(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):GT(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function KT(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function YT({title:e,isOpen:t,items:a,onClose:n,onItemSelect:o,itemTypeNarration:i,closeButtonNarrationSuffix:c,focusOnSelectedItem:s=!1}){const{t:u}=Fc("ModalMenu"),d=(0,l.useFacetWrap)(t),m=(0,l.useFacetWrap)(a),p=wr("neutral50"),f=(0,r.useRef)(null),[g,E]=function(e){const[t,a]=(0,l.useFacetState)(""),n=Ad(4.8);return[t,(0,l.useFacetCallback)((t=>()=>{var n;const r=null==e?void 0:e.current,l=null==e||null===(n=e.current)||void 0===n?void 0:n.parentElement;if(!r||!l)return;const o=r.getBoundingClientRect().height,i=l.getBoundingClientRect().height;if(i<o){const e=Math.floor(i/t)*t-t/2;a(`${e}px`)}}),[e,a],[n])]}(f);Bd(f,E);const h=(0,l.useFacetMemo)((e=>e.map(((t,a)=>{var n;return $T($T({},t),{},{enumeration:null!==(n=t.enumeration)&&void 0!==n?n:u(".enumeration",[`${a+1}`,`${e.length}`]),gamepadAlias:null!=t.gamepadAlias?`${t.gamepadAlias}-${a}`:`modal-menu-${a}`})}))),[u],[m]),b=(0,l.useFacetMemo)((e=>{var t,a;if(s)return null!==(t=null===(a=e.find((e=>e.isSelected)))||void 0===a?void 0:a.gamepadAlias)&&void 0!==t?t:""}),[s],[h]);return r.createElement(l.Mount,{when:d},r.createElement($E,{defaultFocusAlias:b,onOverlayClick:n,modalTypeNarrationHint:u(".modalTypeHint")},r.createElement($E.Header,{onClose:n,closeButtonNarrationSuffix:c},e),r.createElement($E.Content,{role:"neutral100",scrollbarBackgroundRole:"neutral80",scrollbarClassName:"c9c162f0e5e98d34e66c",className:"a4d7248a4a2eb0ca4e58"},r.createElement("fast-div",{ref:f,className:"c19a9d173e0abf872432",style:{maxHeight:g}},r.createElement(Zn,{role:"neutral60"},r.createElement(l.Map,{array:h},((e,t)=>r.createElement(XT,{key:t,item:e,gamepadIndex:t,onChange:o,itemTypeNarration:null!=i?i:u(".elementType")}))),r.createElement("div",{className:zr()("b7660d4a585c8cec67df",p.background.base)}))))))}const XT=e=>{let{item:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["item"]);const n=Tr("neutral"),o=(0,l.useFacetWrap)(t),i=(0,l.useFacetMap)((({disabled:e})=>!!e),[],[o]);return r.createElement(l.DeferredMount,null,r.createElement(jT,VT({},a,{item:o,currentValue:-1,isSelectable:(0,l.useFacetMap)((e=>!0===e.isSelectable),[],[o]),soundEffectPressed:n.press,soundEffectHovered:n.hover,disabled:i,testId:(0,l.useFacetMap)((e=>e.testId),[],[o])})))};let qT;!function(e){e[e.AddFriend=0]="AddFriend",e[e.Mute=1]="Mute",e[e.PromoteToLeader=2]="PromoteToLeader",e[e.RemoveFromParty=3]="RemoveFromParty"}(qT||(qT={}));const QT=yp((({onClose:e,title:t,menuPlayer:a})=>{const n=(0,l.useFacetWrap)(t),o=(0,l.useFacetWrap)(!1),i=(0,l.useSharedFacet)(as),c=(0,l.useSharedFacet)(zw),s=function(e){const{t}=Fc("PartyTab.PlayerOptionsMenu");return(0,l.useFacetMap)((e=>{const a=[];return e&&a.push({label:t(".promoteToLeader"),value:qT.PromoteToLeader,gamepadAlias:"party-player-menu-options-promote",enumeration:t(".optionsEnumeration",["1","5"])},{label:t(".removeFromParty"),value:qT.RemoveFromParty,gamepadAlias:"party-player-menu-options-remove",enumeration:t(".optionsEnumeration",["2","5"])}),a.push({label:t(".addFriend"),value:qT.AddFriend,gamepadAlias:"party-player-menu-options-add",enumeration:t(".optionsEnumeration",[(a.length+1).toString(),(a.length+3).toString()])},{label:t(".mute"),value:qT.Mute,gamepadAlias:"party-player-menu-options-mute",enumeration:t(".optionsEnumeration",[(a.length+3).toString(),(a.length+3).toString()])}),a}),[t],[e])}(o),u=(0,l.useFacetCallback)(((t,a,n)=>r=>{if(e(),null!=t)switch(r){case qT.AddFriend:a.addFriend(t.xuid,ts.SOCIALDRAWER_OPENPARTY);break;case qT.Mute:a.mute(t.xuid);break;case qT.PromoteToLeader:n.setLeader(t.xuid);break;case qT.RemoveFromParty:n.removeMember(t.xuid,!0)}}),[e],[a,i,c]);return r.createElement(YT,{isOpen:!0,title:n,items:s,onClose:e,onItemSelect:u})}));function ZT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function JT(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ZT(Object(a),!0).forEach((function(t){eP(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ZT(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function eP(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var tP;function aP({role:e="neutral80"}){const{t}=Fc("PartyTab"),a=wr(e),n=p(),o=(0,l.useSharedFacet)(Uw),i=(0,l.useFacetMap)((e=>e.privacy),[],[o]),c=(0,l.useFacetMap)((e=>e.isInParty&&e.members.length>0),[],[o]),s=(0,l.useSharedFacet)(zw),{friends:u,friendsOnline:d,friendsOffline:m}=WT(),f=["party-member","invited","received-invites"],g=(0,l.useFacetMap)(((e,a,n,r,l)=>{const o=[];return l&&o.push({role:"informative",title:r===Hw.InviteOnly?t(".inviteOnlyParty"):t(".openParty"),data:e.slice(0,3).map(((e,t)=>JT(JT({},e),{},{variant:0===t?"self-labelled":"party-options"}))),section:tP.ACTIVE_PARTY}),o.push({role:"informative",title:t(".invited"),data:a.slice(0,3).map((e=>JT(JT({},e),{},{variant:"party-drawer-sent-invite"}))),section:tP.INVITED},{role:"noticeTint",title:t(".receivedInvites"),data:n.slice(0,3).map((e=>JT(JT({},e),{},{variant:"party-received-invite"}))),section:tP.RECEIVED_INVITES},{role:"noticeTint",title:t(".joinableParties"),data:n.slice(0,3).map((e=>JT(JT({},e),{},{variant:"party-joinable"}))),section:tP.JOINABLE_PARTIES}),o.filter((e=>e.data.length>0))}),[t],[u,d,m,i,c]),[E,h]=(0,l.useFacetState)(""),b=(0,l.useFacetCallback)((e=>()=>{e.leaveParty()}),[],[s]),v=(0,l.useFacetCallback)((e=>()=>{e.createParty(),n.push("/create-party")}),[n],[s]),y=(0,l.useFacetCallback)((e=>()=>{console.log("switching party to ",e)}),[],[E]),F=UT.useModal(),[S,C]=(0,l.useFacetState)(BT.LEAVE),M=(0,l.useFacetCallback)((e=>()=>{e===BT.LEAVE?b():y(),F.hide()}),[b,F,y],[S]),w=(0,r.useCallback)(((e,t)=>{C(e),e===BT.SWITCH&&null!=t&&h(t),F.show()}),[F,C,h]),k=QT.useModal(),[T,P]=(0,l.useFacetState)(null),[I,x]=(0,l.useFacetState)(""),A=(0,l.useFacetCallback)((e=>(a,n)=>{const r=e[n].data[a];switch(e[n].section){case tP.ACTIVE_PARTY:k.show(),P(r),x(t(".optionsForPlayer",[r.gamerTag]));break;case tP.JOINABLE_PARTIES:w(BT.SWITCH,r.xuid)}}),[k,w,P,x,t],[g]);return r.createElement(r.Fragment,null,r.createElement("div",{className:zr()("b9317b77c1bcef90ce8c",a.background.base,a.border.base)},r.createElement(Nm,{size:2}),r.createElement("div",{className:"adb8b1c74766d3b59fa7"},r.createElement(l.Mount,{when:c,condition:!1},r.createElement(r.Fragment,null,r.createElement(Ug,{narrationPrefix:t(".createParty"),inputLegend:t(".createParty"),children:t(".createParty"),Icon:ET,onClick:v}),r.createElement(Nm,{size:2}))),r.createElement(Vw,{gamepadAlias:"party-tab-list",data:g,sectionSeparator:r.createElement(Nm,{size:2}),renderSectionHeader:(e,t)=>r.createElement(PF,{role:t,label:e}),renderItem:({itemFacet:e,index:t,listLengthFacet:a,sectionIndex:n})=>r.createElement(r.Fragment,null,0===t&&0===n&&r.createElement(l.Mount,{when:c},r.createElement(pr,{collection:vT},r.createElement(nP,{openLeavePartyModal:w}))),r.createElement(nT,{profileEntryPoint:Qc.SocialDrawer_PartyTab,gamepadAlias:`${f[n]}-${t}`,item:e,index:t,listLength:a,testId:`party-list-${n}-item-${t}`,onAdditionalActionClick:()=>A(t,n)}))}))),r.createElement(l.Mount,{when:F.isVisible},r.createElement(UT.Component,{reason:S,onCancel:F.hide,onConfirm:M})),r.createElement(l.Mount,{when:k.isVisible},r.createElement(QT.Component,{onClose:k.hide,menuPlayer:T,title:I})))}function nP({openLeavePartyModal:e}){const t=wr("neutral80"),{t:a}=Fc("PartyTab"),{t:n}=Fc("PartyTab.narration"),l=p(),o=[n(".inviteToParty"),n(".buttonRole"),n(".enumeration",["1","2"])].join(" . "),i=[n(".leaveParty"),n(".buttonRole"),n(".enumeration",["2","2"])].join(" . ");return r.createElement(r.Fragment,null,r.createElement("div",{className:zr()("a6f1dd9b3814f428217e",t.background.base,t.border.base)},r.createElement(Nm,{size:3}),r.createElement("div",{className:zr()("b84d26ca493c9c00ca68")},r.createElement(Xw,{height:4.4,narrationText:o,onClick:function(){l.push("/invite-to-party")},inputLegend:a(".close"),className:t.background.base},r.createElement(Sk,null)),r.createElement(Nm,{size:2}),r.createElement(Xw,{"data-testid":"party-tab-leave-party-button",height:4.4,narrationText:i,onClick:()=>e(BT.LEAVE),inputLegend:a(".close"),variant:"destructive"},r.createElement(xM.Exit,null)),r.createElement(Nm,{size:3})),r.createElement(Nm,{size:3})))}!function(e){e[e.ACTIVE_PARTY=0]="ACTIVE_PARTY",e[e.INVITED=1]="INVITED",e[e.RECEIVED_INVITES=2]="RECEIVED_INVITES",e[e.JOINABLE_PARTIES=3]="JOINABLE_PARTIES"}(tP||(tP={}));const rP=a.p+"assets/icon-settings-3702591a31811ad9eae3.png";function lP(){return lP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},lP.apply(null,arguments)}const oP=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("de105feb697a56c4c13d",t);return r.createElement(Qp,lP({},a,{className:n,src:rP,imageRendering:"pixelated"}))},iP="a9374dfadbf2d6911c9b",cP={textFieldWrapperShadow:"a68e2dcc1f58b13633e3",textFieldContainer:"dec2095b5b9845da7e2a",textFieldWrapper:"b49eb1a9637afad3a32b",textFieldContentWrapper:"a5e33954a988e3e8b0da"};function sP({label:e,narrationText:t,role:a="neutral80",onClick:n,hasShadow:l=!0,placeholderIcon:o,gamepadAlias:i}){var c;const s=wr(a);return r.createElement(Tm,{className:cP.textFieldContainer,classNameFocused:kp,narrationText:t,inputLegend:e,onClick:n,gamepadAlias:i},r.createElement(wp,null),r.createElement("div",{className:zr()({[null!==(c=s.shadow.interactive)&&void 0!==c?c:""]:l,[cP.textFieldWrapperShadow]:l})}),r.createElement("div",{className:zr()(cP.textFieldWrapper,s.background.base,s.border.interactive)},r.createElement("div",{className:cP.textFieldContentWrapper},null!=o&&r.createElement(r.Fragment,null,r.createElement("div",{className:cP.textFieldIcon},hg()),r.createElement(Nm,{size:2})),r.createElement(zm,{overflowEllipsis:!0,type:"body",variant:"dimmest",className:cP.label},e))))}function uP({closeDrawer:e}){const{t}=Fc("SocialDrawerHeader"),a=p(),n=(0,l.useFacetCallback)(((e,t)=>()=>{t.isLoggedInWithMicrosoftAccount||!Tk(e.platform)&&!Ik(e.platform)?a.push("/add-friend"):a.push("/sign-in-add-friend")}),[a],[(0,l.useSharedFacet)(dl),(0,l.useSharedFacet)(Wu)]);return r.createElement("div",{className:"b4c0a7d601a6d333d6f0"},r.createElement(sP,{label:t(".searchForPeople"),narrationText:t("narration.search"),onClick:n,placeholderIcon:Eg.MagnifyingGlass,gamepadAlias:"search-for-people-text-box"}),r.createElement(Nm,{size:2}),r.createElement(Xw,{height:4.4,narrationText:t(".narration.socialSettings"),inputLegend:t(".socialSettings"),className:iP},r.createElement(oP,null)),r.createElement(Nm,{size:2}),r.createElement(Xw,{height:4.4,narrationText:t(".narration.close"),onClick:e,inputLegend:t(".close"),className:iP},r.createElement(of,null)))}function dP({role:e="inherit",reversed:t=!0}){const a=wr(e),n=Ir();return r.createElement("fast-div",{className:"e4593cae86d3884c0450"},r.createElement("fast-div",{className:zr()("cfcfb58bee9012d6be3e",a.bevel.base,t?n.reversed:void 0)}))}function mP({screenAnalyticsId:e}){const t=p(),{t:a}=Fc("AddFriendsButton"),n=vd(),o=tv(ji),i=(0,l.useFacetCallback)(((a,r)=>()=>{r.isLoggedInWithMicrosoftAccount||!Tk(a.platform)&&!Ik(a.platform)?(n({button:"SearchForPlayers",screen:e}),t.push("/add-friend")):t.push("/sign-in-add-friend")}),[n,t,e],[(0,l.useSharedFacet)(dl),(0,l.useSharedFacet)(Wu)]);return r.createElement("div",{className:"b85bfa351a663e08b7cd"},r.createElement(Ug,{variant:o?"secondary":"primary",onClick:i,Icon:o?xM.Search:void 0,gamepadIndex:0,inputLegend:a(".searchForFriends"),"data-testid":"friends-drawer-add-friends-button"},a(".searchForFriends")))}const pP=a.p+"assets/no-friends-empty-state-4846ad85968843ddffb4.png";function fP({screenAnalyticsId:e}){const{t}=Fc("EmptyFriendList");return r.createElement(Zf,{text:t(".noFriendsCaption")},r.createElement(Nm,{size:2}),r.createElement("div",{className:"d1e8539f7b86d93a7e0f"},r.createElement(zm,{type:"body",align:"center"},t(".noFriendsCaption")),r.createElement(Nm,{size:4}),r.createElement(Qp,{imageRendering:"pixelated",src:pP,className:"bab2be29584382020105"}),r.createElement(Nm,{size:4}),r.createElement(mP,{screenAnalyticsId:e})))}const gP=a.p+"assets/arrowForward-03da527a1dfdbb6f55c5.png",EP=a.p+"assets/arrowForwardDisabled-779d8bbb4b32058801f7.png";function hP(){return hP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},hP.apply(null,arguments)}const bP=e=>{let{className:t,disabled:a}=e,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className","disabled"]);const o=(0,l.useFacetWrap)(null!=a&&a),i=tf("e6323577e16dcb8f27e1",t);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:o},r.createElement(Qp,hP({},n,{className:i,src:EP,imageRendering:"pixelated"}))),r.createElement(l.Mount,{when:o,condition:!1},r.createElement(Qp,hP({},n,{className:i,src:gP,imageRendering:"pixelated"}))))},vP="...",yP=({index:e,totalPages:t,currentPage:a,onChange:n,role:o="neutral"})=>{const i=Tr(o),c=wr(o),{t:s}=Fc("Pagination"),u=(0,l.useFacetMap)(((t,a)=>((e,t,a)=>{const n=String(a+1);if(0===a)return n;if(6===a)return String(e);if(e<=7)return n;if(t>=4&&1===a)return vP;if(t<=e-3){if(5===a)return vP;if(Array.from({length:e-6},((e,t)=>t+4)).includes(t))switch(a){case 2:return String(t+4-5);case 3:return String(t+4-4);case 4:return String(t+4-3)}return n}return String(a+(e-6))})(a,t,e)),[e],[a,t]),d=(0,l.useFacetMap)(((e,t)=>e===String(t)),[],[u,a]),m=(0,l.useFacetCallback)(((t,a,r,l)=>()=>{a||n(t!==vP||1!==e?t!==vP||5!==e?Number(t):Math.min(r+5,l):Math.max(r-5,1))}),[e,n],[u,d,a,t]),p=(0,l.useFacetMap)(((t,a,n,r)=>t===vP&&1===e?s(".skipPrevious",[String(Math.max(n-5,0))]):t===vP&&5===e?s(".skipNext",[String(Math.min(n+5,r)),String(r)]):[s(".index",[t,String(r),s(a?".selected":".unselected")])].join(" . ")),[e,s],[u,d,a,t]),f=(0,l.useFacetMap)((e=>zr()(c.background.base,c.text.base,c.border.base,e?"baf0a794cb76ccac3665":[c.background.hover,c.background.press,c.text.hover,c.text.press,c.border.hover,c.border.press])),[c],[d]),g=(0,l.useFacetMap)((e=>!1===e?i.press:void 0),[i],[d]),E=(0,l.useFacetMap)((e=>!1===e?i.hover:void 0),[i],[d]),h=(0,l.useFacetMap)((e=>!1===e?i.focus:void 0),[i],[d]);return r.createElement(Tm,{narrationText:p,"data-testid":`pagination-index-${e}`,gamepadIndex:e+1,inputLegend:s(".currentPage",[`${e+1}`]),onClick:m,classNameFocused:kp,className:f,soundEffectPressed:g,soundEffectHovered:E,soundEffectFocused:h},r.createElement(wp,null),r.createElement(l.Mount,{condition:!1,when:d},r.createElement(Lp,{effect:"bevel"})),r.createElement("div",{className:"c102e57c8481f98cfb70"},r.createElement(l.Mount,{when:d},r.createElement("fast-div",{className:zr()("d14366346411f63308a5",c.icon.base)})),r.createElement(zm,{type:"body"},u)))},FP=e=>{let{direction:t,narrationText:a,disabled:n,inputLegend:o,onClick:i,gamepadIndex:c,disabledNarration:s}=e,u=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["direction","narrationText","disabled","inputLegend","onClick","gamepadIndex","disabledNarration"]);const d=(0,l.useFacetMap)(((e,t,a)=>e?a:t),[],[n,a,s]);return r.createElement("div",{className:"ccffef8f196e36ec0a96"},r.createElement(Ag,{height:4,isElevated:!0,narrationText:d,variant:"secondary","data-testid":u["data-testid"],disabled:n,inputLegend:o,onClick:i,gamepadIndex:c},r.createElement("div",{className:"cc7397a10a3b63940358"},"next"===t?r.createElement(bP,{disabled:n,className:"cdbbb9004555dc468835"}):r.createElement(iv,{className:"e1805b520244ecc202f2",disabled:n}))))},SP=({onChange:e,totalPages:t=1,currentPage:a=1,role:n="neutral",counterStyle:o="indices-list",unlockMaxWidth:i=!1,prevNarrationSuffix:c="",nextNarrationSuffix:s="",narrateTotalOnChange:u=!1,narrateContextOnChange:d=!1,triggerShortcuts:m=!1,middleSpacingsSize:p=4})=>{const f=(0,l.useFacetWrap)(o),g=(0,l.useFacetWrap)(a),E=(0,l.useFacetWrap)(t),h=wr(n),b=lt(),v=(0,r.useContext)(et).isPointerInputTouch,{narrateText:y}=Hf({interruptible:!1}),{narrateCurrentContext:F}=fm(),S=Od(),C=(0,l.useFacetWrap)(i),M=(0,l.useFacetWrap)(c),w=(0,l.useFacetWrap)(s),k=(0,l.useFacetWrap)(u),T=(0,l.useFacetWrap)(d),{t:P}=Fc("Pagination"),I=(0,r.useRef)(null),x=(0,l.useFacetMap)((e=>Array.from({length:Math.min(e,7)},((e,t)=>t))),[],[E]),A=(0,l.useFacetCallback)(((t,a,n,r)=>()=>{if(t>0){const l=Math.max(t-1,0);e(l);const o=n?P(".nowOnPageOf",[String(l),String(a)]):P(".nowOnPage",[String(l)]),i=l>1?P(".previousPage",[String(l-1)]):P(".previousPageDisabled");y(o),r&&F(void 0,!1),y(i)}}),[F,y,e,P],[g,E,k,T]),O=(0,l.useFacetCallback)(((t,a,n,r)=>()=>{if(t<a){const l=Math.min(t+1,a);e(l);const o=n?P(".nowOnPageOf",[String(l),String(a)]):P(".nowOnPage",[String(l)]),i=l>1?P(".nextPage",[String(l+1)]):P(".nextPageDisabled");y(o),r&&F(void 0,!1),y(i)}}),[F,y,e,P],[g,E,k,T]),N=(0,l.useFacetMap)(((e,t)=>e||t?`${P(".context")} . ${P(".contextHintMouse")}`:`${P(".context")} . ${P(".contextHintGamepad")}`),[P],[b,v]),R=(0,l.useFacetMap)(((e,t)=>{const a=P(".previousPage",[""+(e-1)]);return t.length>0?[a,t].join(" . "):a}),[P],[g,M]),L=(0,l.useFacetMap)(((e,t)=>{const a=P(".nextPage",[`${e+1}`]);return t.length>0?[a,t].join(" . "):a}),[P],[g,w]),_=(0,l.useFacetMap)(((e,t)=>P(".indexCounter",[`${e}`,`${t}`])),[P],[g,E]),D=(0,l.useFacetMap)((e=>e?zr()("f0e18bf4e260f1b9baad"):""),[],[C]),W=(0,l.useFacetWrap)(m),B=(0,l.useFacetMap)((e=>1===e),[],[g]),U=(0,l.useFacetMap)(((e,t)=>e===t),[],[g,E]),z=(0,l.useFacetMap)((e=>({button:j.LEFT_TRIGGER,inputLegend:P(".previousPageInputLegend"),disabled:e})),[P],[B]),H=(0,l.useFacetMap)((e=>({button:j.RIGHT_TRIGGER,inputLegend:P(".nextPageInputLegend"),disabled:e})),[P],[U]);return r.createElement(l.Mount,{when:(0,l.useFacetMap)(((e,t)=>e>1||"hide-counter"===t),[],[E,f])},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:W},r.createElement(r.Fragment,null,r.createElement(Xf,{options:z,onClick:A}),r.createElement(Xf,{options:H,onClick:O}))),r.createElement(Zf,{text:N},r.createElement("fast-div",{className:D,ref:I},r.createElement("div",{className:"ec3f98f957cb94d6d378"},r.createElement(FP,{direction:"previous",disabled:B,disabledNarration:(0,l.useFacetWrap)(P(".previousPageDisabled")),inputLegend:(0,l.useFacetWrap)(P(".previousPageInputLegend")),narrationText:R,onClick:A,"data-testid":"pagination-button-left",gamepadIndex:0}),r.createElement(Nm,{size:p}),r.createElement(xl,{data:f},(t=>{switch(t){case"indices-list":return r.createElement(r.Fragment,null,r.createElement("div",{className:"cffbf6374ed979d5e927"},r.createElement("div",{className:"d40fcbadf768786c6c11"},r.createElement("div",{className:"a01eca73c035804b9415"},r.createElement(l.Map,{array:x},((t,a)=>r.createElement(yP,{role:n,currentPage:g,totalPages:E,index:a,onChange:e})))))));case"index-counter":case"index-counter-no-border":return r.createElement(r.Fragment,null,"narrow"!==S&&r.createElement(zm,{className:zr()("db2ccb7d4ceb816a9dba","index-counter-no-border"===t?[]:["d0584b7d706a9c0b0f2f",h.background.base,h.border.base]),align:"center",verticalAlign:"center",type:"body"},r.createElement("fast-text",{text:_})));default:return r.createElement(r.Fragment,null)}})),r.createElement(Nm,{size:p}),r.createElement(FP,{direction:"next",disabled:U,disabledNarration:(0,l.useFacetWrap)(P(".nextPageDisabled")),inputLegend:(0,l.useFacetWrap)(P(".nextPageInputLegend")),narrationText:L,onClick:O,"data-testid":"pagination-button-right",gamepadIndex:(0,l.useFacetMap)((e=>e+2),[],[E])}))))))},CP=(0,r.createContext)({linkCount:0,setLinkCount:()=>{}}),MP=CP.Provider;function wP({children:e,gamepadIndex:t,disabled:a,onClick:n,withUnderlinePolyfill:o,soundEffectPressed:i,inputLegend:c,focusRefOverride:s,narrationText:u,narrationSuffix:d,__testAlias:m,role:p="inherit","data-testid":f}){const{t:g}=Fc("Link"),E=wr(p),h=kr(p),b=Tr(p),v=(0,l.useFacetMap)(((e,t,a)=>{const n=[null!=e?e:a,g(".narrationComponentType")];return null!=t&&n.push(t),n.join(" . ")}),[g],[(0,l.useFacetWrap)(u),(0,l.useFacetWrap)(d),(0,l.useFacetWrap)(e)]),y=h.text.regular.default,F=(0,r.useMemo)((()=>({textDecorationColor:y})),[y]);return r.createElement(Tm,{tag:"span",className:zr()("ebd5a5696d2f5975e2cd",E.highlight.hover,E.text.base,{cc7069fe118258799033:!1,cdaab432a7ef14046b25:o,fddd5382108765304b2d:o&&!1}),gamepadAlias:m,classNameFocused:zr()(kp,"faf2ddb1725683561e00"),gamepadIndex:t,focusRefOverride:s,inputLegend:null!=c?c:g(".open"),narrationText:v,onClick:n,disabled:a,soundEffectPressed:null!=i?i:b.click,style:F,"data-testid":f},r.createElement(wp,{role:p,disabled:a,withoutBorders:!0}),(0,l.isFacet)(e)?r.createElement("fast-text",{text:e}):e,o&&r.createElement("div",{className:zr()("e093bdf46352d298cd09"),style:{borderBottomColor:y}}))}const kP=a.p+"assets/cross-c49fdb0933f1710219e4.png";function TP(){return TP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},TP.apply(null,arguments)}const PP=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("a314ddfb9446f6b33128",t);return r.createElement(Qp,TP({},a,{className:n,src:kP,imageRendering:"pixelated"}))};function IP(e){const{role:t="inherit",onClick:a}=e,{t:n}=Fc("TitleBar.Buttons.Close");return r.createElement(Tp,{role:t,onClick:a,className:"b35647937ff5b966f06a",inputLegend:n(".inputLegend"),narrationText:n(".narration"),testId:e["data-testid"]},"noticeTint"===t?r.createElement(PP,null):r.createElement(of,null))}IP.displayName="BannerCloseButton";function xP({children:e}){return r.createElement("div",{className:"d28d43e298f992a7bb0e"},e)}function AP(e){const{children:t,role:a,icon:n,gamepadIndex:o,__testAlias:i,onClose:c}=e,s=(0,r.useRef)(null),u=(0,r.useRef)(null),d=dn(),[m,p]=(0,r.useState)(0),f=wr(a),{t:g}=Fc("Banner"),E=(0,r.useMemo)((()=>!!c||m>0),[c,m]),h=(0,l.useFacetWrap)(d&&!E),b=E?"3.2rem":"2.8rem",v=((e,t)=>{const[a,n]=(0,l.useFacetState)("default");return Bd(e,(({height:e})=>{n(e>t?"spacious":"default")})),a})(u,xd(parseFloat(b))),y=(0,l.useFacetMap)((e=>zr()("e094d4735164385037fc",f.background.base,f.text.base,{c7b6c07acb5555008e10:"spacious"===e})),[f],[v]),F=zr()("f8849a5b6bb23a20713b",{f69e0adffea502673e0e:!!c,a10ab058cd8f3fbc7a4b:!!n,d0e2562775ca446da51a:!!n&&!c,cfddbeea92ff1599965c:!n&&!!c}),S=()=>{let e="";return s.current&&(e=kv(Tv(s.current))),E?e:`${e} . ${g(".narrationComponentTypeTextBox")}`},C=(0,r.useMemo)((()=>{const e={linkCount:m,setLinkCount:p};return c&&(e.linkNarrationSuffix=g(".closeButtonNarrationHint",[g(".narrationComponentTypeTextBox")])),e}),[c,g,m,p]);return r.createElement(Zn,{role:a},r.createElement(Yp,{containerRef:s},r.createElement(MP,{value:C},r.createElement("fast-div",{ref:s,className:y},r.createElement(OP,{when:h,gamepadIndex:null!=o?o:0,__testAlias:i,getNarrationText:S}),r.createElement(Zf,{getText:S},n&&r.createElement(xP,null,n),r.createElement("fast-div",{ref:u,className:F,style:{minHeight:b}},t),c&&r.createElement(IP,{role:a,onClick:c,"data-testid":e["close-button-test-id"]}))))))}xP.displayName="BannerIcon",AP.displayName="Banner",AP.Text=function({children:e,align:t}){return r.createElement(zm,{type:"body",role:"inherit",align:t,shouldNarrate:!0},e)},AP.Link=({children:e,onClick:t,soundEffectPressed:a,gamepadIndex:n,__testAlias:l,narrationSuffix:o,"data-testId":i,disableSpacingTop:c=!1})=>{const s=Tr("inherit"),{linkNarrationSuffix:u,setLinkCount:d}=(0,r.useContext)(CP),m=[o,u].filter(Boolean).join(" . ")||void 0;(0,r.useEffect)((()=>(d((e=>e+1)),()=>{d((e=>e-1))})),[d]);const p=zr()({b8a215ad4bce0d00b17c:!c});return r.createElement(zm,{type:"body",role:"inherit",className:p},r.createElement(wP,{soundEffectPressed:null!=a?a:s.click,withUnderlinePolyfill:!0,onClick:t,gamepadIndex:null!=n?n:0,__testAlias:l,narrationSuffix:m,"data-testid":i},e))};const OP=({when:e,gamepadIndex:t,getNarrationText:a,__testAlias:n})=>{const o=Tr("inherit");return r.createElement(l.Mount,{when:e},r.createElement(Tm,{className:"bc7551b6ba6d4befaab6",classNameFocused:kp,gamepadIndex:null!=t?t:0,gamepadAlias:n,inputLegend:!1,soundEffectPressed:o.click,getNarrationText:a},r.createElement(wp,{inset:!0})))};function NP({screenAnalyticsId:e}){const{t}=Sc("FriendsDrawer"),a=vd(),n=p(),o=(0,l.useSharedFacet)(zu),i=(0,l.useSharedFacet)(Wu),c=(0,l.useSharedFacet)(dl),s=tv(ji),u=Dk(),d=(0,l.useFacetCallback)(((e,t,a)=>()=>{Pk(a.platform)?t.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(Uu.ParentPermissionHelpPage)}),[],[o,i,c]),m=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{t?a.showPremiumNetworkUpsellModal():Pk(n.platform)?a.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(Uu.TroubleshootingMultiplayerDisabled)}),[],[o,u,i,c]),f=(0,r.useCallback)((()=>{a({screen:e,button:"SignIn"}),n.replace("/sign-in?signInSource=FriendsDrawer_NotLoggedInBanner_OreUI")}),[a,n,e]),g=(0,l.useFacetMap)(((e,t,a)=>!Tk(t.platform)||e.isLoggedInWithMicrosoftAccount||e.hasPremiumNetworkAccess?!Ik(t.platform)||e.isLoggedInWithMicrosoftAccount||e.hasPremiumNetworkAccess?Tk(t.platform)&&!e.isLoggedInWithMicrosoftAccount&&e.hasPremiumNetworkAccess?"msa-guest-with-premium-playstation":Ik(t.platform)&&!e.isLoggedInWithMicrosoftAccount&&e.hasPremiumNetworkAccess?"msa-guest-with-premium-nintendo":e.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive)||a?"multiplayer":e.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive_Parental)?"multiplayer-parental":void 0:"msa-guest-nintendo":"msa-guest-playstation"),[],[(0,l.useSharedFacet)(Wu),(0,l.useSharedFacet)(dl),u]),E=(0,l.useFacetMap)((e=>null!=e&&!s),[s],[g]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:E},r.createElement(Nm,{size:2})),r.createElement(xl,{data:g},(e=>{switch(e){case"multiplayer":return r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,t(".multiplayerBanner.text")),r.createElement(AP.Link,{"data-testId":"multiplayer-troubleshooting-link",onClick:m},t(".multiplayerBanner.learnMore")));case"multiplayer-parental":return r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,t(".multiplayerBanner.textParental")),r.createElement(AP.Link,{onClick:d,"data-testId":"multiplayer-parental-permission-help-link"},t(".multiplayerBanner.learnMore")));case"msa-guest-playstation":return r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,t(".msaGuestPlaystationBanner")),r.createElement(AP.Link,{onClick:f,"data-testId":"login-link"},t(".bannerLogInMicrosoft")));case"msa-guest-nintendo":return r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,t(".msaGuestNintendoBanner")),r.createElement(AP.Link,{onClick:f,"data-testId":"login-link"},t(".bannerLogInMicrosoft")));case"msa-guest-with-premium-playstation":case"msa-guest-with-premium-nintendo":return r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,t(".msaGuestPremiumBanner")),r.createElement(AP.Link,{onClick:f,"data-testId":"login-link"},t(".bannerLogInMicrosoft")));default:return null}})))}const RP="cc80fa500db52cfff96d",LP="b23b45a2e4d5f682ff7a";function _P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function DP(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_P(Object(a),!0).forEach((function(t){WP(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function WP(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const BP=(0,l.createStaticFacet)([]);function UP({loading:e,drawerOpen:t,friendsOnline:a,friendsOffline:n=BP,incomingRequests:o=BP,outgoingRequests:i=BP,profileEntryPoint:c,spinnerBackgroundColor:s,showSpinnerBorder:u,screenAnalyticsId:d,onItemClick:m,socialDrawer:p=!1}){const{t:f}=Fc("FriendList"),g=tv(ji),E=(0,l.useSharedFacet)(dl),h=(0,l.useFacetMap)((e=>e.activeMultiplayerServiceIds.includes(ul.AdHoc)),[],[E]),b=(0,l.useFacetMap)((e=>Tk(e.platform)?"playstation":Ik(e.platform)?"switch":void 0),[],[E]),v=(0,l.useFacetMap)(((e,t)=>e&&!t.isLoggedInWithMicrosoftAccount?"title":e&&t.isLoggedInWithMicrosoftAccount?"list-item":"none"),[],[IT(),(0,l.useSharedFacet)(Wu)]),y=(0,r.useRef)(null),{delegationEventFacet:F,delegateFocus:S}=Bp(),C=(0,r.useCallback)((()=>{y.current&&(y.current.scrollTop=0,S.first())}),[y,S]),{currentPage:M,totalPages:w,currentOnlineFriendsData:k,currentOfflineFriendsData:T,changeFriendsPage:P,reset:I}=function({friendsPerPage:e,friendsOnline:t,friendsOffline:a,onPagination:n}){const[o,i]=(0,l.useFacetState)(1),c=(0,l.useFacetMap)(((t,a)=>Math.ceil((t.length+a.length)/e)),[e],[t,a]),s=(0,l.useFacetMemo)(((t,a,n)=>{const r=[...wT(t),...a];return function({currentPage:e,friendsPerPage:t,friends:a}){const n=(e-1)*t,r=n+t;return a.slice(n,r)}({currentPage:n,friendsPerPage:e,friends:r})}),[e],[t,a,o]),u=(0,l.useFacetMap)((e=>e.filter((e=>e.presence===qc.Online||e.presence===qc.Away))),[],[s]),d=(0,l.useFacetMap)((e=>e.filter((e=>e.presence===qc.Offline||e.presence===qc.Unknown))),[],[s]),m=(0,l.useFacetCallback)((e=>t=>{e!==t&&(i(t),n())}),[i,n],[o]),p=(0,r.useCallback)((()=>i(1)),[i]);return(0,l.useFacetEffect)(((e,t)=>{if(e>0&&e<t){i(e);const t=setTimeout(n,30);return()=>clearTimeout(t)}}),[n,i],[c,o]),{currentPage:o,totalPages:c,currentOnlineFriendsData:u,currentOfflineFriendsData:d,changeFriendsPage:m,reset:p}}({friendsPerPage:15,friendsOnline:a,friendsOffline:n,onPagination:C}),x=(0,l.useFacetMemo)(((e,t,a,n,r,l,o)=>{let i=new Set;var c;"list-item"===r&&(i=new Set((null!==(c=o.platformFriends)&&void 0!==c?c:[]).map((e=>e.xuid))));const s=function({friendsOnline:e,friendsOffline:t,incomingRequests:a,outgoingRequests:n},r,l){return{firstSection:TT(e).map((e=>VP(e,"player",r.has(e.xuid)?l:void 0))),secondSection:t.map((e=>VP(e,"player",r.has(e.xuid)?l:void 0))),requests:[...a.map((e=>VP(e,"received-request"))),...n.map((e=>VP(e,"sent-request")))]}}({friendsOnline:e,friendsOffline:t,incomingRequests:a,outgoingRequests:n},i,l);return s}),[],[k,T,o,i,v,b,(0,l.useSharedFacet)(MT)]),A=Ce();(0,l.useFacetLayoutEffect)(((e,t)=>{e||t||!y.current?e&&!t&&y.current&&(I(),A("own-profile")):y.current.scrollTop=0}),[y,I,S,A],[t,e]);const O=OT(),N=(0,l.useFacetMap)(((e,t)=>null!=e&&!t),[],[O,e]),R=(0,l.useFacetMap)((e=>{var t,a,n,r,l,o,i,c;return""!==(null==e?void 0:e.data.xuid)?{xuid:null!==(t=null==e?void 0:e.data.xuid)&&void 0!==t?t:"",gamerTag:null!==(a=null==e?void 0:e.data.xblName)&&void 0!==a?a:"",gamerIcon:null!==(n=null==e?void 0:e.data.xblProfilePic)&&void 0!==n?n:"",variant:"self",favoriteStatus:Yc.NOT_FAVORITE,presence:qc.Online,presenceMessage:"Online",titleName:null!==(r=null==e?void 0:e.data.titleName)&&void 0!==r?r:""}:{xuid:"",platformId:null!==(l=null==e?void 0:e.data.platformId)&&void 0!==l?l:"",gamerTag:null!==(o=null==e?void 0:e.data.platformName)&&void 0!==o?o:"",gamerIcon:null!==(i=null==e?void 0:e.data.platformProfilePic)&&void 0!==i?i:"",variant:"self",favoriteStatus:Yc.NOT_FAVORITE,presence:qc.Online,presenceMessage:"Online",titleName:null!==(c=null==e?void 0:e.data.titleName)&&void 0!==c?c:""}}),[],[O]),L=(0,r.useRef)(null),_=(0,l.useFacetMap)((e=>e>1),[],[w]),D=(0,l.useFacetMemo)(((e,t,a,n,r,l,o,i)=>[DP({role:"successTint",title:f("title"===t&&a?`.online.${a}`:".online",[`${l.length}`]),narrationTitle:f("title"===t&&a?`.narration.online.${a}`:".narration.online"),narrationSuffix:f(1!=l.length?".onlineFriendsNumberMultiple":".onlineFriendsNumberSingular",[`${l.length}`]),data:e.firstSection},1===n?{emptyStateMessage:f(".noOnlineFriends")}:{}),{role:"neutral",title:f(".pending",[`${e.requests.length}`]),narrationTitle:f(".pendingFriends"),narrationSuffix:f(1!=e.requests.length?".pendingFriendsNumberMultiple":".pendingFriendsNumberSingular",[`${e.requests.length}`]),data:e.requests},DP({role:"secondary",title:f("title"===t&&a?`.offline.${a}`:".offline",[`${o.length}`]),narrationTitle:f("title"===t&&a?`.narration.offline.${a}`:".narration.offline"),narrationSuffix:f(1!=o.length?".offlineFriendsNumberMultiple":".offlineFriendsNumberSingular",[`${o.length}`]),data:e.secondSection},n!==r||i?{}:{emptyStateMessage:f(".noOfflineFriends")})]),[f],[x,v,b,M,w,a,n,h]);return r.createElement(xl,{data:h},(a=>a?r.createElement(Vw,{scrollRef:y,delegateFocusByAlias:"own-profile",header:r.createElement(jP,{isFriendsDrawerSecondIteration:g,profileEntryPoint:c,screenAnalyticsId:d,shouldRenderOwnProfile:N,ownProfilePlayerItem:R,onItemClick:m}),loading:e,data:D,renderSectionHeader:(e,t)=>r.createElement("div",{className:RP},r.createElement(PF,{role:t,label:e})),renderItem:e=>r.createElement(nT,{item:e.itemFacet,listLength:e.listLengthFacet,index:e.index,gamepadAlias:`friend-list-item-${e.sectionIndex}-${e.index}`,profileEntryPoint:c,screenAnalyticsId:d,onMainActionClick:m,testId:"friend-list-friend-profile",grayscaleAvatarWhenOffline:!0,enablePSNLogo:!0}),spinnerBackgroundColor:s,showSpinnerBorder:u}):r.createElement(Vw,{scrollRef:y,delegateFocusByAlias:"own-profile",header:r.createElement(HP,{isFriendsDrawerSecondIteration:g,profileEntryPoint:c,screenAnalyticsId:d,shouldRenderOwnProfile:N,ownProfilePlayerItem:R,onItemClick:m}),footer:r.createElement(zP,{isFriendsDrawerSecondIteration:g,shouldShowPagination:_,screenAnalyticsId:d,currentPage:M,totalPages:w,changeFriendsPage:P,socialDrawer:p}),loading:e,data:D,sectionsWrapper:({children:e})=>r.createElement(zp,{delegationEvent:F},r.createElement(Yp,{containerRef:L,delegateFocusFromMemory:t},r.createElement("div",{ref:L,className:"f32e0478531e675b8937"},e))),renderSectionHeader:(e,t)=>r.createElement("div",{className:RP},r.createElement(PF,{role:t,label:e})),renderItem:e=>r.createElement(nT,{item:e.itemFacet,listLength:e.listLengthFacet,index:e.index,gamepadAlias:`friend-list-item-${e.sectionIndex}-${e.index}`,profileEntryPoint:c,screenAnalyticsId:d,onMainActionClick:m,testId:"friend-list-friend-profile",grayscaleAvatarWhenOffline:!0,enablePSNLogo:!0}),spinnerBackgroundColor:s,showSpinnerBorder:u})))}function zP({isFriendsDrawerSecondIteration:e,screenAnalyticsId:t,shouldShowPagination:a,totalPages:n,currentPage:o,changeFriendsPage:i,socialDrawer:c}){return r.createElement(r.Fragment,null,e?r.createElement(r.Fragment,null,r.createElement(Nm,{size:3}),r.createElement("div",{className:"fd41f1b0d219f2e25a13"},r.createElement(dP,null)),r.createElement(Nm,{size:c?2:3}),r.createElement(mP,{screenAnalyticsId:t}),r.createElement(Nm,{size:c?2:0}),r.createElement(l.Mount,{when:a},r.createElement(r.Fragment,null,r.createElement(Nm,{size:3}),r.createElement(SP,{totalPages:n,currentPage:o,onChange:i}),r.createElement(Nm,{size:3})))):r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:a},r.createElement(r.Fragment,null,r.createElement(Nm,{size:3}),r.createElement(SP,{totalPages:n,currentPage:o,onChange:i}),r.createElement(Nm,{size:3})))),r.createElement(LE.Space,{extraSpace:r.createElement(Nm,{size:1})}))}function HP({isFriendsDrawerSecondIteration:e,shouldRenderOwnProfile:t,ownProfilePlayerItem:a,profileEntryPoint:n,screenAnalyticsId:o,onItemClick:i}){const{t:c}=Fc("FriendList");return r.createElement(r.Fragment,null,e?null:r.createElement(r.Fragment,null,r.createElement(NP,{screenAnalyticsId:o}),r.createElement(l.Mount,{when:t},r.createElement(r.Fragment,null,r.createElement(Nm,{size:3}),r.createElement("div",{className:LP},r.createElement(PF,{role:"informativeTint",label:c(".you")}),r.createElement(nT,{item:a,listLength:(0,l.createStaticFacet)(1),index:0,gamepadAlias:"own-profile",profileEntryPoint:n,screenAnalyticsId:o,onMainActionClick:i,testId:"friend-list-own-profile"})))),r.createElement(Nm,{size:3}),r.createElement(mP,{screenAnalyticsId:o})))}function jP({isFriendsDrawerSecondIteration:e,shouldRenderOwnProfile:t,ownProfilePlayerItem:a,profileEntryPoint:n,screenAnalyticsId:o,onItemClick:i}){const{t:c}=Fc("FriendList");return r.createElement(r.Fragment,null,e?null:r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:t},r.createElement(r.Fragment,null,r.createElement(Nm,{size:3}),r.createElement("div",{className:LP},r.createElement(PF,{role:"informativeTint",label:c(".you")}),r.createElement(nT,{item:a,listLength:(0,l.createStaticFacet)(1),index:0,gamepadAlias:"own-profile",profileEntryPoint:n,screenAnalyticsId:o,onMainActionClick:i,testId:"friend-list-own-profile"}))))))}function VP(e,t,a){return{gamerIcon:e.gamerIcon,gamerTag:e.gamerTag,isInSameGame:e.isInSameGame,playingOnServerId:e.playingOnServerId,xuid:e.xuid,platformId:e.platformId,variant:t,platform:a,presence:e.presence,favoriteStatus:e.favoriteStatus,presenceMessage:e.presenceMessage,titleName:e.titleName}}const GP=a.p+"assets/sign-in-prompts-friends-01fb9220b4efc1f23dc4.png",$P=a.p+"assets/sign-in-prompts-servers-animated-0c355131a2f94ee20360.gif";function KP({gifSrc:e,imageSrc:t,className:a,aspectRatio:n,disableAnimation:o=!1}){const i=null!=n,c=(0,l.useFacetMap)(((e,t)=>!e&&t.screenAnimationEnabled),[],[(0,l.useFacetWrap)(o),(0,l.useSharedFacet)($a)]),s=(0,l.useFacetMap)(((e,t,a)=>e?t:a),[],[c,(0,l.useFacetWrap)(e),(0,l.useFacetWrap)(t)]);return i?r.createElement(Qp,{src:s,className:a,imageRendering:"pixelated",isAnimated:c,aspectRatio:n}):r.createElement(Qp,{src:s,className:a,imageRendering:"pixelated",isAnimated:c})}function YP(){const{t:e}=Fc("PeopleTab.notLoggedInMessage"),t=e(".title"),a=e(".text"),n=e(".button"),l=`${t} . ${a}`,o=p(),i=vd(),c=(0,r.useCallback)((()=>{i({button:"SignIn",screen:"FriensdDrawer"}),o.replace("/sign-in?signInSource=SignInOnFriendsDrawer_OreUI")}),[i,o]);return r.createElement("div",{className:"ff25dcb03269706c5b62"},r.createElement(Zf,{text:l},r.createElement(zm,{type:"secondaryButton",role:"neutral80",align:"center"},t),r.createElement(KP,{gifSrc:$P,imageSrc:GP,className:"a1fc72fd87dde08ddba4"}),r.createElement(zm,{type:"captionShort",role:"neutral80",variant:"dimmest",align:"center"},a),r.createElement(Nm,{size:2}),r.createElement("div",{className:"ba8f51b890adbcf62a5b"},r.createElement(Ug,{variant:"primary",onClick:c,inputLegend:e(".inputLegend"),autofocus:!0,"data-testid":"sign-in-button"},n))))}function XP(){const e=p();return(0,l.useFacetCallback)(((t,a)=>()=>{const n=a.arvrPlatform===qe.ARVR_Rift;a.platform!==Qe.WIN32||n?t.purchaseGame(hu.FullGame):e.push("/win10-trial-conversion")}),[e],[(0,l.useSharedFacet)(bu),(0,l.useSharedFacet)(dl)])}const qP=a.p+"assets/trial-mode-art-4074416ab6dd83b5f146.png",QP=a.p+"assets/external-link-white-0e493f3fa9f4180781d0.png";function ZP(){return ZP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ZP.apply(null,arguments)}const JP=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("ebadd39c6f80c75dcf0b",t);return r.createElement(Qp,ZP({},a,{className:n,src:QP,imageRendering:"pixelated"}))};JP.imgSrc=QP;let eI;!function(e){e.CREATE="create",e.EDIT="edit",e.EDIT_REALM="edit-realm"}(eI||(eI={}));const tI=r.createContext(eI.CREATE);let aI;function nI({context:e}){const{t}=Fc("TrialModeMessage"),a=vd(),n=XP(),l=(0,r.useContext)(tI),o=e===aI.FRIENDS_DRAWER,i=e===aI.REALMS||e===aI.SERVERS,c=(0,r.useCallback)((()=>{a({button:"BuyMinecraft",screen:cI(e,l),details:{tab:e}}),n()}),[a,n,e,l]);return r.createElement(jf,{floating:!0,flexShrinkWrapper:!0},i&&r.createElement(Nm,{size:2}),r.createElement(_v,{borderless:o,title:lI(e,t),text:oI(e,t),imgSrc:qP,imgClass:iI(e),buttons:[{text:t(".buyMinecraftButton"),onClick:c,variant:"primary",imgSrc:JP.imgSrc,buttonTestId:"empty-state-buy-minecraft-button"}]}),r.createElement(Nm,{size:3}),r.createElement(LE.Space,null),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))}function rI({context:e}){return r.createElement("div",{className:"da5167134a037fd1bf7e"},r.createElement(Nm,{size:4}),r.createElement(nI,{context:e}),r.createElement(Nm,{size:4}))}function lI(e,t){switch(e){case aI.REALMS:case aI.SERVERS:case aI.FRIENDS_DRAWER:case aI.MULTIPLAYER_TAB:return t(".title");case aI.ADVANCED_TAB:return t(".advancedTabTitle");case aI.CHEATS_TAB:return t(".cheatsTabTitle");case aI.RESOURCE_PACKS_TAB:return t(".resourcePacksTabTitle");case aI.BEHAVIOR_PACKS_TAB:return t(".behaviorPacksTabTitle");case aI.EXPERIMENTS_TAB:return t(".experimentsTabTitle");default:return"Translation missing"}}function oI(e,t){switch(e){case aI.REALMS:return t(".realmsMessage");case aI.SERVERS:return t(".serversMessage");case aI.FRIENDS_DRAWER:return t(".friendsDrawerMessage");case aI.ADVANCED_TAB:return t(".advancedTabMessage");case aI.MULTIPLAYER_TAB:return t(".multiplayerTabMessage");case aI.CHEATS_TAB:return t(".cheatsTabMessage");case aI.RESOURCE_PACKS_TAB:return t(".resourcePacksTabMessage");case aI.BEHAVIOR_PACKS_TAB:return t(".behaviorPacksTabMessage");case aI.EXPERIMENTS_TAB:return t(".experimentsTabMessage");default:return"Translation missing"}}function iI(e){const t=my({wide:8,narrow:6,width:256});return(0,l.useFacetMap)((t=>e===aI.FRIENDS_DRAWER||t?"add3b2faad216330e23c":"b5740fb2a8bf0fc9ea35"),[e],[t])}function cI(e,t){switch(e){case aI.ADVANCED_TAB:case aI.BEHAVIOR_PACKS_TAB:case aI.CHEATS_TAB:case aI.EXPERIMENTS_TAB:case aI.MULTIPLAYER_TAB:case aI.RESOURCE_PACKS_TAB:return t===eI.CREATE?"CreateNewWorld":"EditWorld";case aI.FRIENDS_DRAWER:case aI.REALMS:case aI.SERVERS:return"PlayScreen"}}!function(e){e.REALMS="RealmsTab",e.FRIENDS_DRAWER="FriendsDrawer",e.SERVERS="ServersTab",e.ADVANCED_TAB="AdvancedTab",e.MULTIPLAYER_TAB="MultiplayerTab",e.CHEATS_TAB="CheatsTab",e.RESOURCE_PACKS_TAB="ResourcePacksTab",e.BEHAVIOR_PACKS_TAB="BehaviorPacksTab",e.EXPERIMENTS_TAB="ExperimentsTab"}(aI||(aI={}));const sI=a.p+"assets/no-internet-art-53f294e4a76adfdada67.png";function uI({title:e,text:t,buttons:a,borderless:n,disableResize:o}){const{t:i}=Fc("PlayScreen.noInternetMessage"),c=my({wide:8,narrow:6,width:256}),s=(0,l.useFacetMap)((e=>e||Boolean(o)?"efc4132b3bc8cf8ff91a":"dda272add26b1b890ed1"),[o],[c]);return r.createElement(r.Fragment,null,r.createElement(_v,{borderless:n,title:Boolean(e)?e:i(".title"),text:t,imgSrc:sI,imgClass:s,buttons:a}),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))}const dI={banner:"cdb2983397fa2fcfbb66",bannerNarrow:"e45328d264d3d704d7cb",title:"a17d2a3b1f72b0be9abc",wrapper:"a5d359551f5a1bcb636f",content:"c0b7e8b4dfa72049ca24",borderless:"db3d4f908f204d46d0f0",buttonContainer:"dcb437add1b2c03d9e1c"},mI=a.p+"assets/IconClock-999dc9265a3d50c3a97b.png";function pI(){return pI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},pI.apply(null,arguments)}const fI=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("c238a854b15e485b5c73",t);return r.createElement(Qp,pI({},a,{className:n,src:mI,imageRendering:"pixelated"}))};function gI(e){const t=(new Date).getTime(),a=new Date(e).getTime()-t;return{days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.ceil(a%36e5/6e4)}}function EI(e){const t=gI(e);return{days:`${Math.max(t.days,0)}`,hours:`${Math.max(t.hours,0)}`,minutes:`${Math.max(t.minutes,0)}`}}function hI({banExpiration:e}){const[t,a]=(0,l.useFacetState)({days:"0",hours:"0",minutes:"0"}),{t:n}=Fc("PlayScreen.SuspendedMessage"),o=(0,l.useFacetMap)((e=>n(".timer",[e.days,e.hours,e.minutes])),[n],[t]);return(0,l.useFacetEffect)((e=>{a(EI(e));const t=setInterval((()=>{a(EI(e))}),1e3);return()=>clearInterval(t)}),[a],[e]),r.createElement(zm,{type:"body"},r.createElement(fI,null),r.createElement(Nm,{size:1}),r.createElement("fast-text",{text:o}))}const bI=e=>{const t=new Date(e).getTime();return!isNaN(t)&&null!=e&&"Indefinite"!==e};function vI(){const{t:e}=Fc("BannedOrSuspendedMessage"),{t}=Fc("BannedOrSuspendedReason"),a=(0,l.useSharedFacet)(Wu),n=(0,l.useFacetMap)((e=>e.banReason),[],[a]),r=(0,l.useFacetMap)((e=>bI(e.banExpiration)),[],[a]),o=(0,l.useFacetMap)((e=>e?".SuspendedMessage":".BannedMessage"),[],[r]),i=(0,l.useFacetMap)((e=>t(".reasonForBan")+" "+t(`.${""!=e?e:"xbox.report.policyViolation"}`)),[t],[n]),c=(0,l.useFacetMap)((t=>e(`${t}.title`)),[e],[o]),s=(0,l.useFacetMap)((t=>e(`${t}.bodyFirstParagraph`)),[e],[o]),u=(0,l.useFacetMap)((t=>e(`${t}.bodySecondParagraph`)),[e],[o]),d=(0,l.useFacetMap)(((e,t,a,n)=>[e,t,a,n].join(" . ")),[],[c,i,s,u]);return{narrationText:d,title:c,helpButtonCopy:(0,l.useFacetMap)((t=>e(`${t}.helpButton`)),[e],[o]),reasonCopy:i,bodyFirstParagraph:s,bodySecondParagraph:u}}function yI(){return(0,l.useFacetMap)((e=>e.isBanned),[],[(0,l.useSharedFacet)(Wu)])}function FI(){return(0,l.useFacetMap)((e=>bI(e.banExpiration)),[],[(0,l.useSharedFacet)(Wu)])}function SI({usedInDrawer:e=!1,narrationText:t,title:a,reasonCopy:n,bodyFirstParagraph:o,bodySecondParagraph:i,helpButtonCopy:c,banExpiration:s}){const u=wr("neutral80"),d=zr()(dI.wrapper,u.background.base,u.border.base,{[dI.borderless]:e}),m=(0,l.useFacetMap)((e=>bI(e)),[],[s]),p=(0,l.useFacetMap)((e=>""!==e),[],[(0,l.useFacetWrap)(null!=n?n:"")]),f=(0,l.useFacetCallback)((e=>()=>{e.openLink(Uu.BannedHelpPage)}),[],[(0,l.useSharedFacet)(zu)]),g=Rd(),E=(0,l.useFacetMap)(((t,a)=>zr()(dI.banner,{[dI.bannerNarrow]:e||t,[dI.friendsDrawerStacked]:a&&e})),[e],[g,m]);return r.createElement(xl,{data:m},(e=>r.createElement("div",{className:d},r.createElement(Zf,{text:t},r.createElement(AP,{role:"noticeTint"},r.createElement("fast-div",{className:E},r.createElement(AP.Text,null,a),e&&r.createElement(hI,{banExpiration:s}))),r.createElement("div",{className:dI.content},r.createElement(l.Mount,{when:p},r.createElement(r.Fragment,null,r.createElement("div",{className:dI.title},r.createElement(zm,{type:"captionShort",variant:"dimmest",align:"left"},n)),r.createElement(Nm,{size:3}))),r.createElement(zm,{type:"captionShort",variant:"dimmest",align:"left"},o),r.createElement(Nm,{size:3}),r.createElement(zm,{type:"captionShort",variant:"dimmest",align:"left"},i),r.createElement(Nm,{size:2}),r.createElement("div",{className:dI.buttonContainer},r.createElement(Ug,{"data-testid":"help-button-"+(e?"suspended":"banned"),autofocus:!0,inputLegend:c,variant:"secondary",Icon:xM.ExternalLink,onClick:f},c)))),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))))}function CI({usedInDrawer:e=!1}){const{narrationText:t,title:a,reasonCopy:n,bodyFirstParagraph:o,bodySecondParagraph:i,helpButtonCopy:c}=vI(),s=(0,l.useSharedFacet)(Wu),u=(0,l.useFacetMap)((e=>e.banExpiration),[],[s]);return r.createElement(SI,{usedInDrawer:e,narrationText:t,title:a,reasonCopy:n,bodyFirstParagraph:o,bodySecondParagraph:i,helpButtonCopy:c,banExpiration:u})}CI.InTab=function(){return r.createElement(jf,{floating:!0},r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{wideSize:10,narrowSize:8},r.createElement(Nm,{size:2}),r.createElement(CI,null),r.createElement(LE.Space,null)),r.createElement(Cv.Column,{wideSize:1,narrowSize:0})))};const MI=a.p+"assets/signed-out-art-e090c5fed7b8c9235f67.png",wI=yp((({onClose:e})=>{const{t}=Fc("NoInternetModal"),a="pop-up-modal-sign-in-to-platform-no-internet-error-modal",n=t(".text"),l=t(".button");return r.createElement($E,{defaultFocusAlias:a},r.createElement($E.Header,{onClose:e},t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:n,center:!0},n),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:a,inputLegend:l,onClick:e},l))))})),kI=yp((({onClose:e})=>{const{t}=Fc("GenericErrorMessageModal"),a="pop-up-modal-sign-in-to-platform-generic-error-modal",n=t(".text");return r.createElement($E,{defaultFocusAlias:a},r.createElement($E.Header,{onClose:e},t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:n,center:!0},n)),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:a,inputLegend:t(".closeButton"),onClick:e},t(".closeButton"))))}));const TI=function(){const e=(0,l.useSharedFacet)(Wu),t=kI.useModal(),a=wI.useModal(),n=(0,l.useFacetMap)((e=>e.signInPlatformNetworkTaskResult),[],[e]),o=(0,l.useFacetMap)((e=>e===_u.NotConnected),[],[n]),i=(0,l.useFacetMap)((e=>e===_u.ConnectionFailed),[],[n]),c=(0,l.useFacetCallback)((e=>()=>{e.resetSignInPlatformNetwork(),a.hide()}),[a],[e]),s=(0,l.useFacetCallback)((e=>()=>{e.resetSignInPlatformNetwork(),t.hide()}),[t],[e]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:i},r.createElement(kI.Component,{onClose:s})),r.createElement(l.Mount,{when:o},r.createElement(wI.Component,{onClose:c})))},PI=function({buttonText:e}){const t=function(){const e=(0,l.useSharedFacet)(Wu);return(0,l.useFacetCallback)((e=>()=>{e.signInToPlatformNetwork(!0)}),[],[e])}();return r.createElement(r.Fragment,null,r.createElement(_v.ButtonSpacer,null),r.createElement(_v.Button,{Icon:xM.ExternalLink,onClick:t,buttonTestId:"log-in-to-network-button"},e))};let II;function xI({context:e,borderless:t=!1}){const{t:a}=Fc("PlayScreen.GuestAccountMessage"),n=my({wide:8,narrow:6,width:256}),o=(0,l.useFacetMap)((e=>e||t?"f0dfe7a7af597360fe7c":"c160c4818ac5a2a975fd"),[t],[n]),i=e===II.Playstation?a(".playstation.text"):a(".nintendo.text"),c=e===II.Playstation?a(".playstation.button"):a(".nintendo.button");return r.createElement(r.Fragment,null,r.createElement(_v.Wrapper,{borderless:t},r.createElement(_v.Image,{imgClass:o,imgSrc:MI}),r.createElement(_v.Text,null,i),r.createElement(_v.ButtonsWrapper,{customButtonWrapperWidth:42},r.createElement(PI,{buttonText:c}))),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}),r.createElement(TI,null))}function AI(e,t){return`/profile${null!=t?`/${t}`:""}?xuid=${e}`}function OI(e,t){return`/profile${null!=t?`/${t}`:""}?platformId=${e}`}function NI(e,t){return C(`/profile/${e}`,t)}function RI(){const e=p(),t=E();return(0,l.useFacetCallback)((t=>({xuid:a,platformId:n})=>{(t.startsWith("/profile")?e.replace:e.push)(null!=n&&n.length>0?OI(n,"overview"):AI(null!=a?a:"","overview"))}),[e],[t])}!function(e){e[e.Playstation=0]="Playstation",e[e.Nintendo=1]="Nintendo"}(II||(II={}));const LI=a.p+"assets/error-9e281d5900185e023433.png";function _I({tab:e,borderless:t}){const{t:a}=Fc("PlayScreen"),n=dy({wide:8,narrow:6,width:256});return r.createElement(r.Fragment,null,r.createElement(_v,{borderless:t,gamepadIndex:0,title:a(".errorOnLoadingTitle",[e]),text:a(".errorOnLoadingText"),imgSrc:LI,imgClass:n||t?"e1b0e32cb7b65f4f06fd":"b79e0d58bbe6cc4f9ac3"}),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))}const DI=a.p+"assets/online-safety-child-8fad2009b4d02bc059bf.png",WI=a.p+"assets/online-safety-adult-dc71d57973878591b475.png",BI=a.p+"assets/external-link-b22bbbc33f4f1f41e010.png";function UI(){return UI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},UI.apply(null,arguments)}const zI=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("afa044f543f47cbe6eda",t);return r.createElement(Qp,UI({},a,{className:n,src:BI,imageRendering:"pixelated"}))};function HI({isParental:e=!1,borderless:t}){const{t:a}=Fc("FriendsDrawer.AddFriendsOnlineSafety"),n=dy({wide:8,narrow:6,width:256});return r.createElement(r.Fragment,null,r.createElement(_v,{borderless:t,gamepadIndex:0,title:a(".title"),text:a(e?".textParental":".text"),imgSrc:e?DI:WI,imgClass:n||t?"c1f787f3e851dae73a2a":"f8de6eafd3457805e214",buttons:[{text:a(".helpButton"),variant:"secondary",imgSrc:zI.imgSrc,onClick:(0,l.useFacetCallback)((e=>()=>{e.openLink(Uu.ParentPermissionHelpPage)}),[],[(0,l.useSharedFacet)(zu)])}]}),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))}zI.imgSrc=BI;const jI=a.p+"assets/under-construction-art-cropped-cd6d3b45f26eafa460d2.png",VI="f03c06515e2945db5eea",GI="bd0e6da6d5c5c15c5412";function $I(){const e=tv(Hi);return(0,l.useFacetMap)(((t,a)=>{if(!e)return!0;if(!Tk(a.platform)&&!Ik(a.platform)&&!t.isLoggedInWithMicrosoftAccount)return!0;if(Ik(a.platform)||Tk(a.platform)){if(!t.isSignedInPlatformNetwork)return!0;if(!t.hasPremiumNetworkAccess)return!0}return!!t.isBanned||!t.userPermissions.addFriends.allowed||!!t.isTrialAccount}),[e],[(0,l.useSharedFacet)(Wu),(0,l.useSharedFacet)(dl)])}function KI(){const{t:e}=Fc("PeopleTab"),t=function(e){const t=p(),a=(0,l.useSharedFacet)(iu),n=vd();return(0,l.useFacetCallback)((a=>()=>{n({button:"OptOut",screen:"Play"}),a.selectTechStackForScreen(lu.PlayScreen,ou.JsonUI),t.replace("/play/"+e)}),[t,e,n],[a])}("friends");return r.createElement(r.Fragment,null,r.createElement(_v,{borderless:!0,imgSrc:jI,imgClass:"a1525f8c1abbe0bd9da2",title:e(".emptyStateTitle"),text:e(".emptyStateBody"),buttons:[{text:e(".emptyStateButtonLabel"),inputLegend:e(".emptyStateButtonInputLegend"),onClick:t}]}))}function YI({closeButtonAlias:e,closeFriendsDrawer:t,isDrawerOpen:a,screenAnalyticsId:n,role:o="neutral80",closeDrawerOnProfileClick:i=!1}){const{t:c}=Fc("PeopleTab"),s=wr(o),u=(0,l.useSharedFacet)(Wu),d=(0,l.useSharedFacet)(dl),m=(0,l.useSharedFacet)(MT),p=E(),f=(0,l.useFacetWrap)(i),g=(0,l.useFacetMap)((e=>!e),[],[a]),h=tv(ji),b=tv(oc),v=(0,l.useFacetWrap)([]),y=(0,l.useFacetWrap)([]),F=(0,l.useFacetCallback)((e=>()=>{e.userControlledUpdateGameList()}),[],[(0,l.useSharedFacet)(MT)]);(0,l.useFacetEffect)(((e,t)=>{e&&Ik(t.platform)&&F()}),[F],[a,(0,l.useSharedFacet)(dl)]);const{friendsOnline:S,friendsOffline:C,isLoading:M,isReady:w,isUnavailable:k}=WT(!0),T=(0,l.useFacetMap)(((e,t,a,n,r)=>r&&0===e.length&&0===t.length&&0===a.length&&0===n.length),[],[v,y,S,C,w]),P=py(w,1e4),I=tv(Hi),x=tv(ac),A=(0,l.useFacetMap)((e=>e.activeMultiplayerServiceIds.includes(ul.AdHoc)),[],[d]),O=(0,l.useFacetMap)(((e,t,a,n,r,l,o,i)=>I?i?"add-hoc-mode":t.isOnline?l?"trial-mode":Tk(t.platform)||Ik(t.platform)||e.isLoggedInWithMicrosoftAccount?!e.isSignedInPlatformNetwork&&Ik(t.platform)?"platform-guest-nintendo":!e.isSignedInPlatformNetwork&&Tk(t.platform)?"platform-guest-playstation":e.isLoggedInWithMicrosoftAccount||!Ik(t.platform)||a||o?e.isLoggedInWithMicrosoftAccount||!Tk(t.platform)||a||o?e.hasPremiumNetworkAccess||!Ik(t.platform)||a?e.hasPremiumNetworkAccess||!Tk(t.platform)||a?!e.hasPremiumNetworkAccess&&e.isLoggedInWithMicrosoftAccount&&t.platform===Qe.XBOX?"no-online-subscription-xbox":e.isBanned?"banned":a&&e.userPermissions.addFriends.denyReasons.includes(Lu.XboxLive_Parental)?"add-friends-parental-online-safety":a&&e.userPermissions.addFriends.denyReasons.includes(Lu.XboxLive)?"add-friends-online-safety":a?"empty-friends-list":n.xblLoadingState==CT.Error||n.platformLoadingState==CT.Error||1==r?"error-on-loading":"friends-list":"no-online-subscription-playstation":"no-online-subscription-nintendo":"msa-guest-playstation":"msa-guest-nintendo":"login-prompt":"offline":"under-construction"),[I],[u,d,T,m,P,(0,l.useSharedFacet)(Bu),k,A]),N=$I(),R=(0,l.useFacetMap)(((e,t)=>[c(".friendsDrawerName"),t?"":c(".numberOfFriends",[`${e.length}`])].join(" . ")),[c],[S,N]),L=(0,l.useFacetMap)(((e,t)=>"friends-list"!=e?c(".title"):c(".titleWithAmount",[`${t.length}`])),[c],[O,S]),_=RI(),D=(0,l.useFacetCallback)(((e,a)=>n=>{if(x&&a){const a=!e.startsWith("/profile");t(a)}_({xuid:n.xuid,platformId:n.platformId})}),[t,_,x],[p,f]),W=(0,r.useRef)(null),B=r.createElement("div",{ref:W,className:zr()("fc05129efd41b6302103",b?"e328da699b56eb508b8d":"aa8e9f372d1d98e3f7c3",s.background.base,s.border.base)},r.createElement(Xf,{onClick:t,options:{button:j.B,inputLegend:c(".backButton")}}),r.createElement(Zf,{text:R},!b&&r.createElement(uf,{right:r.createElement(uf.Buttons.Close.Component,{gamepadAlias:e,narrationSuffix:c(".closeButtonNarrationHint"),onClick:t})},r.createElement(zm,{type:"body"},r.createElement(xm,null,L))),r.createElement(xl,{data:O},(e=>{switch(e){case"empty-friends-list":return r.createElement("div",{className:VI},r.createElement(jf,{flexShrinkWrapper:!0},r.createElement(fP,{screenAnalyticsId:n})));case"platform-guest-playstation":return r.createElement("div",{className:VI},r.createElement(jf,{flexShrinkWrapper:!0},r.createElement(xI,{context:II.Playstation,borderless:!0})));case"platform-guest-nintendo":return r.createElement("div",{className:VI},r.createElement(jf,{flexShrinkWrapper:!0},r.createElement(xI,{context:II.Nintendo,borderless:!0})));case"msa-guest-nintendo":case"msa-guest-playstation":case"no-online-subscription-playstation":case"no-online-subscription-nintendo":case"no-online-subscription-xbox":case"friends-list":return r.createElement(r.Fragment,null,h&&r.createElement(XI,{loading:M,profileEntryPoint:Qc.FriendsDrawer,screenAnalyticsId:n,onProfileItemClick:D}),r.createElement("div",{className:GI},r.createElement(UP,{drawerOpen:a,loading:M,friendsOnline:S,friendsOffline:C,incomingRequests:v,outgoingRequests:y,profileEntryPoint:Qc.FriendsDrawer,spinnerBackgroundColor:"transparent",showSpinnerBorder:!1,screenAnalyticsId:n,onItemClick:D})));case"add-hoc-mode":return r.createElement(r.Fragment,null,h&&r.createElement(XI,{loading:M,profileEntryPoint:Qc.FriendsDrawer,screenAnalyticsId:n,onProfileItemClick:D,showBanner:!1}),r.createElement("div",{className:GI},r.createElement(UP,{drawerOpen:a,loading:M,friendsOnline:S,profileEntryPoint:Qc.FriendsDrawer,spinnerBackgroundColor:"transparent",showSpinnerBorder:!1,screenAnalyticsId:n})));case"add-friends-online-safety":return r.createElement("div",{className:VI},r.createElement(jf,{flexShrinkWrapper:!0},r.createElement(HI,{borderless:!0})));case"add-friends-parental-online-safety":return r.createElement("div",{className:VI},r.createElement(jf,{flexShrinkWrapper:!0},r.createElement(HI,{isParental:!0,borderless:!0})));case"banned":return r.createElement("div",{className:"cffbc1d2d6d94e35b712"},r.createElement(jf,{flexShrinkWrapper:!0},r.createElement(CI,{usedInDrawer:!0})));case"offline":return r.createElement("div",{className:VI},r.createElement(jf,{flexShrinkWrapper:!0},r.createElement(uI,{text:c(".noInternetMessage"),borderless:!0,disableResize:!0})));case"error-on-loading":return r.createElement("div",{className:VI},r.createElement(jf,{flexShrinkWrapper:!0},r.createElement(_I,{tab:c(".title"),borderless:!0})));case"trial-mode":return r.createElement("div",{className:VI},r.createElement(nI,{context:aI.FRIENDS_DRAWER}));case"login-prompt":return r.createElement("div",{className:VI},r.createElement(jf,{flexShrinkWrapper:!0},r.createElement(YP,null)));default:return r.createElement("div",{className:VI},r.createElement(jf,{flexShrinkWrapper:!0},r.createElement(KI,null)))}}))));return b?B:r.createElement(Yp,{containerRef:W,disabled:g,shouldBindFocus:!0,delegateFocusFromMemory:!0},B,r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))}function XI({loading:e,profileEntryPoint:t,screenAnalyticsId:a,onProfileItemClick:n,showBanner:o=!0}){const i=OT(),{t:c}=Fc("PeopleTab"),s=(0,l.useFacetMap)(((e,t)=>null!=e&&!t),[],[i,e]),u=(0,l.useFacetMap)((e=>{var t,a,n,r,l,o;return""!==(null==e?void 0:e.data.xuid)?{xuid:null!==(t=null==e?void 0:e.data.xuid)&&void 0!==t?t:"",gamerTag:`${null==e?void 0:e.data.xblName} (${c(".you")})`,gamerIcon:null!==(a=null==e?void 0:e.data.xblProfilePic)&&void 0!==a?a:"",variant:"self",favoriteStatus:Yc.UNKNOWN,presenceMessage:"Online",presence:qc.Online,titleName:null!==(n=null==e?void 0:e.data.titleName)&&void 0!==n?n:""}:{xuid:"",platformId:null!==(r=null==e?void 0:e.data.platformId)&&void 0!==r?r:"",gamerTag:`${null==e?void 0:e.data.platformName} (${c(".you")})`,gamerIcon:null!==(l=null==e?void 0:e.data.platformProfilePic)&&void 0!==l?l:"",variant:"self",favoriteStatus:Yc.UNKNOWN,presenceMessage:"Online",presence:qc.Online,titleName:null!==(o=null==e?void 0:e.data.titleName)&&void 0!==o?o:""}}),[c],[i]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:(0,l.useFacetWrap)(null==o||o)},r.createElement(NP,{screenAnalyticsId:a})),r.createElement(l.Mount,{when:s},r.createElement(r.Fragment,null,r.createElement("div",{className:"b509bf4cfae6116f00b5"},r.createElement(nT,{item:u,listLength:(0,l.createStaticFacet)(1),index:0,gamepadAlias:"own-profile",profileEntryPoint:t,screenAnalyticsId:a,onMainActionClick:n,testId:"own-profile"})),r.createElement(dP,null))))}function qI(){const e=E();return(0,l.useFacetMap)((e=>e.startsWith("/profile")),[],[e])}let QI;function ZI({screenAnalyticsId:e,closeDrawerOnProfileClick:t,initialTab:a=QI.People,closeFriendsDrawer:n,isFriendsDrawerOpen:o,friendsOnlineLength:i,showBadge:c=!0}){const{t:s}=Fc("SocialDrawer"),u=(0,l.useFacetWrap)(a),[d,m]=(0,l.useFacetState)(QI.People);(0,l.useFacetEffect)((e=>m(e)),[m],[u]);const p=(0,l.useFacetWrap)(c?1:0),f=(0,l.useFacetWrap)(3),g=(0,l.useFacetMap)(((e,t,a)=>[{label:0===e?s(".peopleTabButtonLabel"):s(".peopleTabButtonLabelWithNumber",[e.toString()]),value:QI.People},{label:0===a?s(".partyTabButtonLabel"):s(".partyTabButtonLabelWithNumber",[a.toString()]),value:QI.Party,badge:t>0?t:void 0}]),[s],[i,p,f]),E=(0,l.useFacetMap)((e=>e===QI.People),[],[d]);return r.createElement(r.Fragment,null,r.createElement(uP,{closeDrawer:n}),r.createElement(Nm,{size:2}),r.createElement(sF,{gamepadAliasNamespace:"social-drawer-tabs",value:d,onChange:m,tabs:g,narrationTitle:s(".narration.title"),enableGamepadShortcuts:!0,badgeRole:"secondary"}),r.createElement(xl,{data:E},(a=>a?r.createElement(YI,{closeFriendsDrawer:n,isDrawerOpen:o,closeButtonAlias:"social-drawer-close-btn",screenAnalyticsId:e,closeDrawerOnProfileClick:t}):r.createElement(aP,null))))}function JI({children:e,screenAnalyticsId:t,role:a="neutral",initialTab:n=QI.People}){const o=vd(),i=wr(a),[c,s]=(0,l.useFacetState)(!1),u=(0,l.useFacetMap)((e=>!e),[],[c]),[d,m]=(0,l.useFacetState)(!1),p=qI(),f=(0,r.useCallback)((()=>{m(!1),s((e=>e===l.NO_VALUE?e:!e))}),[s,m]),g=(0,r.useCallback)(((e=!1)=>{m(e),s(!1)}),[s,m]),E=(0,r.useCallback)(((e=!1)=>{m(e),s(!0)}),[s,m]),h=(0,l.useFacetMap)(((e,t)=>!e.screenAnimationEnabled||t),[],[(0,l.useSharedFacet)($a),d]),{friends:b,friendsOnline:v}=WT(),y=(0,l.useFacetCallback)((e=>()=>{o({button:"FriendsShortcut",screen:t,details:{friendsCount:`${e.length}`}}),f()}),[f,t,o],[b]),F=(0,l.useFacetMap)((e=>e.length),[],[v]),S=(0,r.useCallback)((()=>g()),[g]),C=(0,r.useRef)(null);return r.createElement(Bw,{anchor:Bw.Anchor.Right,drawerContent:r.createElement("div",{ref:C,className:zr()("be1c911a58d194ce278e",i.background.base,i.border.base)},r.createElement(Yp,{containerRef:C,disabled:u,shouldBindFocus:!0,delegateFocusFromMemory:!0},r.createElement(ZI,{screenAnalyticsId:t,closeDrawerOnProfileClick:p,initialTab:n,closeFriendsDrawer:g,isFriendsDrawerOpen:c,friendsOnlineLength:F}))),isOpen:c,onOverlayClick:S,disableAnimation:h},e({toggleFriendsDrawer:f,openFriendsDrawer:E,closeFriendsDrawer:g,isFriendsDrawerOpen:c}),r.createElement(ex,{onClick:y}))}function ex({onClick:e}){return r.createElement(Xf,{onClick:e,options:(0,l.useFacetMap)((e=>({button:j.Y,disabled:e})),[],[ot()])})}function tx({children:e,screenAnalyticsId:t,role:a="neutral80"}){const n=vd(),{friends:o}=WT(),[i,c]=(0,l.useFacetState)(!1),[s,u]=(0,l.useFacetState)(!1),d=qI(),m=(0,r.useCallback)((()=>{u(!1),c((e=>e===l.NO_VALUE?e:!e))}),[c,u]),p=(0,r.useCallback)(((e=!1)=>{u(e),c(!1)}),[c,u]),f=(0,r.useCallback)(((e=!1)=>{u(e),c(!0)}),[c,u]),g=(0,l.useFacetMap)(((e,t)=>!e.screenAnimationEnabled||t),[],[(0,l.useSharedFacet)($a),s]),E=(0,l.useFacetCallback)((e=>()=>{n({button:"FriendsShortcut",screen:t,details:{friendsCount:`${e.length}`}}),m()}),[m,t,n],[o]),h=(0,r.useCallback)((()=>p()),[p]);return r.createElement(Bw,{anchor:Bw.Anchor.Right,drawerContent:r.createElement(YI,{closeFriendsDrawer:p,isDrawerOpen:i,closeButtonAlias:"friends-close-btn",role:a,screenAnalyticsId:t,closeDrawerOnProfileClick:d}),isOpen:i,onOverlayClick:h,disableAnimation:g},e({toggleFriendsDrawer:m,openFriendsDrawer:f,closeFriendsDrawer:p,isFriendsDrawerOpen:i}),r.createElement(ax,{onClick:E}))}function ax({onClick:e}){return r.createElement(Xf,{onClick:e,options:(0,l.useFacetMap)((e=>({button:j.Y,disabled:e})),[],[ot()])})}function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},nx.apply(null,arguments)}function rx(e){var t;return e.shouldSkipLandmarkInVisual?r.createElement(Xr,{disabled:e.disabled},e.children):null==e.containerRef?r.createElement(Xr,e,e.children):r.createElement(Yp,nx({},e,{delegateFocusFromMemory:e.delegateFocusFromMemory||"remember"===e.defaultFocusedChildBehavior,delegateFocusByAlias:null!==(t=e.delegateFocusByAlias)&&void 0!==t?t:e.defaultFocusedChildAlias}))}!function(e){e[e.People=0]="People",e[e.Party=1]="Party"}(QI||(QI={}));yp((({onClose:e})=>{const t="CreateTestWorldInfoModal-close-btn";return r.createElement($E,{defaultFocusAlias:t,onOverlayClick:e},r.createElement($E.Header,{onClose:e},"Create Test World"),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:!1},"This button applies the following settings on the Create New World screen:"),r.createElement($E.List,{gamepadIndex:1,items:(0,l.useFacetWrap)(["Game Mode: Creative","Flat World: true","Cheats Enabled: true","Daylight cycle: Always Day","Mob spawning: false","Weather: false","Keep Inventory: true"])}),r.createElement($E.Text,{gamepadIndex:0,narrationText:!1},"Any other settings which don't conflict with the above will remain unchanged.")),r.createElement($E.Buttons,null,r.createElement(Ug,{onClick:e,inputLegend:"Back",gamepadAlias:t},"Back")))}));const lx=yp((({onClose:e})=>{const t=(0,l.useSharedFacet)(Di),a="DebugImportWorldInfoModal-close-btn",n=(0,l.useFacetMap)((e=>`Import all worlds present in "${e.importPath}", to support debugging specific worlds on platforms without an official import feature.`),[],[t]);return r.createElement($E,{defaultFocusAlias:a,onOverlayClick:e},r.createElement($E.Header,{onClose:e},"Import Worlds"),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:!1},n)),r.createElement($E.Buttons,null,r.createElement(Ug,{onClick:e,inputLegend:"Back",gamepadAlias:a},"Back")))})),ox=yp((()=>{const e=(0,l.useSharedFacet)(Di),t=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.importProgress)&&void 0!==t?t:0}),[],[e]);return r.createElement($E,null,r.createElement($E.Header,null,"Debug importing worlds"),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:!1,center:!0},"Importing"),r.createElement($E.Progress,{percentage:t})))})),ix=yp((()=>{const e=(0,l.useSharedFacet)(Di),t=(0,l.useFacetCallback)((e=>()=>{e.clearResult()}),[],[e]),a=(0,l.useFacetMap)((e=>{var t;return"Error: "+function(e){switch(e){case ud.Success:return"WorldTransferResult.Success";case ud.FailureUnknown:return"WorldTransferResult.FailureUnknown";case ud.FailureNoFile:return"WorldTransferResult.FailureNoFile";case ud.FailureZipError:return"WorldTransferResult.FailureZipError";case ud.FailurePremiumContent:return"WorldTransferResult.FailurePremiumContent";case ud.FailureEditionMismatch:return"WorldTransferResult.FailureEditionMismatch";case ud.FailureEditorMismatch:return"WorldTransferResult.FailureEditorMismatch";case ud.UnsupportedPlatform:return"WorldTransferResult.UnsupportedPlatform";case ud.AlreadyInProgress:return"WorldTransferResult.AlreadyInProgress";case ud.InterruptedByUser:return"WorldTransferResult.InterruptedByUser"}}(null!==(t=e.importResult)&&void 0!==t?t:ud.FailureUnknown)}),[],[e]);return r.createElement($E,null,r.createElement($E.Header,null,"Debug import error"),r.createElement($E.Content,null,r.createElement($E.Paragraphs,{narrationText:!1},r.createElement(zm,{type:"captionLong",align:"center"},"There was an issue debug importing worlds."),r.createElement(zm,{type:"captionLong",align:"center"},a))),r.createElement($E.Buttons,null,r.createElement(Ug,{variant:"secondary",inputLegend:"Close",onClick:t},"Close")))}));function cx(){const e=(0,l.useSharedFacet)(Di);return(0,l.useFacetMap)((e=>e.importIsSupported),[],[e])}function sx(){const e=lx.useModal(),t=(0,l.useSharedFacet)(Di),a=(0,l.useFacetCallback)((e=>()=>{e.debugImportWorlds()}),[],[t]),n=(0,l.useFacetMap)((e=>!e),[],[cx()]),o=(0,l.useFacetMap)((e=>e.importInProgress&&e.importProgress>0),[],[t]),i=(0,l.useFacetMap)((e=>null!=e.importResult&&e.importResult!=ud.Success),[],[t]);return r.createElement(r.Fragment,null,r.createElement(Ug,{onClick:a,inputLegend:"Import Worlds",disabled:n},"Import Worlds"),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionShort",align:"center",verticalAlign:"center"},r.createElement(wP,{onClick:e.show,gamepadIndex:1,withUnderlinePolyfill:!0},"What does this do?")),r.createElement(l.Mount,{when:e.isVisible},r.createElement(lx.Component,{onClose:e.hide})),r.createElement(l.Mount,{when:o},r.createElement(ox.Component,null)),r.createElement(l.Mount,{when:i},r.createElement(ix.Component,null)))}sx.useIsSupported=cx;const ux=(0,l.createStaticFacet)(!1),dx=()=>{},mx={isDebugDrawerOpen:ux,closeDebugDrawer:dx,openDebugDrawer:dx,toggleDebugDrawer:dx},px=e=>r.createElement(r.Fragment,null,e.children(mx)),fx=({condition:e,children:t,options:a})=>(tv(Xi),r.createElement(px,{children:t}));function gx(e){const t=(0,l.useFacetMap)(((e,t)=>e||t),[],[e.isDebugDrawerOpen,e.isFriendsDrawerOpen]);return r.createElement(r.Fragment,null,e.children({isAnyDrawerOpen:t}))}const Ex={isFriendsDrawerOpen:ux,closeFriendsDrawer:dx,openFriendsDrawer:dx,toggleFriendsDrawer:dx},hx=e=>r.createElement(r.Fragment,null,e.children(Ex)),bx=({condition:e,screenAnalyticsId:t,children:a})=>{const n=!0===(0,l.useFacetUnwrap)(e),o=tv(oc);return n?o?r.createElement(JI,{children:a,screenAnalyticsId:t}):r.createElement(tx,{children:a,screenAnalyticsId:t}):r.createElement(hx,{children:a,screenAnalyticsId:t})},vx=({onClick:e,screenAnalyticsId:t})=>{const a=vd(),{friendsOnline:n,friends:o}=WT(!0),i=(0,l.useFacetMap)((e=>e.length),[],[n]),c=tv(oc),s=(0,l.useFacetCallback)((n=>()=>{a({button:c?"Social":"Friends",screen:t,details:{friendsCount:`${n.length}`}}),e()}),[t,a,e,c],[o]),u=tv(Hi),d=(0,l.useFacetMap)((e=>u&&!c&&!e),[u,c],[$I()]);return r.createElement(yv.FriendsButton,{friendsOnline:i,onClick:s,displayAmountOfOnlineFriends:d,testId:"vanilla-screen-layout-friends-button"})};function yx({disableBackButton:e,children:t,debugDrawer:a,delegateByAlias:n,friendsDrawer:o,gamepadAlias:i,onBack:c,navbarRight:s,title:u,screenAnalyticsId:d}){const{t:m}=Fc("VanillaScreenLayout"),f=p(),g=tv(Xi),E=null!=a&&a.length>0&&g,h=(0,l.useFacetWrap)(null!=o&&o),b=(0,l.useFacetWrap)(null!=e&&e),v=(0,l.useFacetMap)((e=>m(".narration.title",[e])),[m],[(0,l.useFacetWrap)(u)]),y=(0,l.useFacetCallback)((e=>()=>{e||(!1!==c&&null!=c?c():f.goBack())}),[c,f],[b]);return r.createElement(l.DeferredMountProvider,null,r.createElement(av,null,r.createElement(fx,{condition:E,options:a},(({toggleDebugDrawer:e,isDebugDrawerOpen:a})=>r.createElement(bx,{condition:h,screenAnalyticsId:d},(({toggleFriendsDrawer:e,isFriendsDrawerOpen:o})=>r.createElement(Zf,{text:v},r.createElement(yv,{onBackButton:!1===c?void 0:y,center:r.createElement(zm,{type:"header5A"},u),right:r.createElement(r.Fragment,null,null,r.createElement(l.Mount,{when:h},r.createElement(r.Fragment,null,r.createElement(yv.Divider,null),r.createElement(vx,{onClick:e,screenAnalyticsId:d}))),s),delegateFocusFromMemory:!0,gamepadAlias:i,delegateByAlias:n},r.createElement(gx,{isDebugDrawerOpen:a,isFriendsDrawerOpen:o},t)))))))))}const Fx=(0,r.createContext)(!1);function Sx({children:e,spacingAroundSideMenu:t,footer:a,focusGridIndex:n,loading:o,scrollViewRef:i,role:c="neutral80",gamepadAlias:s,delegateFocusByAlias:u,adaptToNarrowScreens:d=!0,hideInputLegendSpace:m=!1,fullHeight:p=!1,narrationPrefix:f="",narrationRole:g="",narrationSuffix:E=""}){const h=(0,r.useRef)(null),b=Od(),{t:v}=Fc("SideMenu"),y=wr(c),F=(0,l.useFacetMap)(((e,t,a)=>[e,""===t?v(".narrationRoleMenu"):t,a].filter((e=>e)).join(" . ")),[v],[(0,l.useFacetWrap)(null!=f?f:""),(0,l.useFacetWrap)(null!=g?g:""),(0,l.useFacetWrap)(null!=E?E:"")]),S="narrow"===b&&d;return r.createElement(Zn,{role:c},r.createElement(Zf,{text:F},r.createElement(jf,{alwaysVisibleChildren:r.createElement(r.Fragment,null,null==t&&"desktop"===b&&r.createElement(Nm,{size:2}),t),focusGridIndex:n,floating:"desktop"!==b,delegateFocusFromMemory:!0,loading:o,spinnerBackgroundColor:"#313233",innerRef:i,gamepadAlias:s,delegateFocusByAlias:u},r.createElement("div",{ref:h,className:zr()("d3b4fa33c4466e32479a",y.background.base,y.border.base,{a5697cbc230c11f96be6:p})},r.createElement(Nm,{size:S?2:4}),r.createElement(Fx.Provider,{value:S},e),null!=a&&r.createElement(zm,{type:"captionShort",variant:"dimmer"},r.createElement("div",{className:"fd8ce6b6855e2f0157d7"},a)),r.createElement(Nm,{size:4})),m?null:r.createElement(LE.Space,{extraSpace:r.createElement(Nm,{size:1})}),t)))}Sx.ItemMain=function({children:e}){return r.createElement("div",{className:"d3fa282e35141982e6c1"},e)},Sx.ItemCell=function({children:e,margin:t="end"}){return r.createElement("div",{className:zr()("f9bc5c6f979e8ac09328",{f041711781b19729d7da:"end"===t,be76358f3f5f4fdb4de9:"start"===t})},e)},Sx.Divider=function({label:e,role:t="inherit"}){return r.createElement(r.Fragment,null,r.createElement(zm,{role:t,type:"captionShort",variant:"dimmer"},r.createElement("div",{className:"a52e4d0f92477f7578e1"},e)),r.createElement(dP,{role:t}))};const Cx=(0,l.createFacet)({initialValue:0}),Mx=(0,r.createContext)(Cx),wx=(0,r.createContext)(0);Sx.displayName="SideMenu",Sx.ItemList=function({items:e,renderItem:t,initialGamepadIndex:a=0}){return r.createElement(Mx.Provider,{value:(0,l.useFacetMap)((e=>e.length),[],[e])},r.createElement(l.Map,{array:e},((e,n)=>r.createElement(wx.Provider,{value:n},t({item:e,index:n,gamepadIndex:n+a,focusGridIndex:n+a})))))},Sx.ListItem=function({onSelect:e,children:t,selected:a,value:n,focusGridIndex:o,narrationText:i,narrationSuffix:c,inputLegend:s,soundEffectPressed:u,role:d="inherit",hasSubtitle:m,testId:p}){const{t:f}=Fc("SideMenu.ListItem"),{narrateText:g}=Hf(),E=(0,r.useContext)(wx),h=(0,r.useContext)(Mx),b=wr(d),v=Tr(d),y=xr(),F=(0,l.useFacetMap)((e=>f(".narrationIndex",[`${E+1}`,`${e}`])),[f,E],[h]),S=(0,l.useFacetMap)(((e,t,a,n)=>t?`${e} . ${f(".narrationRoleMenuItem")} . ${a} . ${n} . ${f(".narrationSelected")}`.replace(" .  . "," . "):`${e} . ${f(".narrationRoleMenuItem")} . ${a} . ${n} . ${f(".narrationUnselected")}`.replace(" .  . "," . ")),[f],[i,a,F,(0,l.useFacetWrap)(null!=c?c:"")]),C=(0,l.useFacetMap)(((e,t)=>t?void 0:null!=e?e:v.toggle),[v.toggle],[(0,l.useFacetWrap)(u),a]),M=(0,r.useContext)(Fx);return r.createElement(Zn,{role:d},r.createElement(Tm,{className:(0,l.useFacetMap)((e=>{const t=!m&&b.bevel.interactive,a=e?[b.background.select,b.bevel.select]:t;return zr()(m?"cdb5927d24c6eacd6092":"ad386353cd5071c72c3a",a,{a9a2aa9391ba4148dad6:e,[y.selected]:e,afd0e9057431ae5e1fc2:M})}),[b,y,M,m],[a]),classNameFocused:zr()(kp,"bd4fe6be54991eda5d17"),classNameHovered:(0,l.useFacetMap)((e=>{const t=e?[b.background.select,b.bevel.select]:[b.background.interactive,b.bevel.interactive];return zr()([t,"aed28ff95c5f041a25dd"])}),[b],[a]),onClick:(0,l.useFacetCallback)((t=>()=>{g(f(".narrationSelected")),e(t)}),[f,g,e],[n]),focusGridIndex:o,inputLegend:(0,l.useFacetMap)((e=>!e&&s),[s],[a]),soundEffectPressed:C,narrationText:S,"data-testid":p},r.createElement(wp,{className:"a707258a02a2b7a32e1b"}),r.createElement("div",{className:"b34dd290ffe3ed0fec9b"},r.createElement(Nm,{size:2}),r.createElement("div",{className:"e5d8ac705bd3fb8c2767"},t),r.createElement(Nm,{size:2}))))},Sx.Item=function({children:e}){const t=(0,r.useContext)(Fx);return r.createElement("div",{className:zr()("bcfab3dbe673fc99b394",{b7d4f09e18cdb81a2dff:t})},e)};const kx=a.p+"assets/no-player-profile-d13a75350a6a889e7e8b.png",Tx=()=>{const e=(0,l.useSharedFacet)(Iw),t=(0,l.useSharedFacet)(Nw),a=Mk();return(0,l.useFacetCallback)(((e,t)=>()=>{if(!t.isLocalPlayerHosting&&!e.canEditPermissions)return;const n=e.playerPermissionList.reduce(((e,t)=>(e[`PlayerPermission${kw[t.abilityIndex]}`]={value:t.isEnabled,privacyTag:du.CustomerContent},e)),{});a("PlayerPermissionsSaved",n)}),[a],[e,t])},Px=a.p+"assets/psn_logo-ea3e6a8b6b7961ab12f7.png";function Ix({connectionType:e,image:t,inputLegend:a,label:n,onSelect:o,selected:i,subtitle:c,subtitleIcon:s,value:u,platform:d}){const m=(0,l.useFacetMap)((e=>Boolean(e)),[],[t]),p=(0,l.useFacetMap)(((e,t)=>[e,t].filter((e=>null!=e&&""!==e)).join(" . ")),[],[n,c]),f=(0,l.useFacetMap)(((e,t,a)=>a===Aw.PLATFORM&&Tk(e.platform)&&t===Ow.SONY),[],[(0,l.useSharedFacet)(dl),d,e]),g=(0,l.useFacetMap)(((e,t)=>null!=e&&null!=t),[],[c,s]),E=(0,l.useFacetMap)((e=>null!=e?e:void 0),[],[s]),h=(0,l.useFacetMap)((e=>null!=e?e:""),[],[c]);return r.createElement(Sx.ListItem,{narrationText:p,selected:i,value:u,onSelect:o,inputLegend:a,hasSubtitle:!0},r.createElement(l.Mount,{when:m},r.createElement(l.DeferredMount,null,r.createElement(Sx.ItemCell,null,r.createElement(uk,{src:t,variant:"large"})))),r.createElement(l.Mount,{when:f},r.createElement(l.DeferredMount,null,r.createElement(Sx.ItemCell,null,r.createElement(Qp,{src:Px,className:"ea33ad7e260abdf9f7eb",width:"2.2rem",height:"2.2rem"})))),r.createElement(Sx.ItemMain,null,r.createElement(zm,{overflowEllipsis:!0,type:"body"},n),r.createElement(l.Mount,{when:g},r.createElement("div",{className:zr()("afe1c696634289754d59","a0c1c8a25c141fe7b998")},r.createElement(Ng,{icon:E}),r.createElement(zm,{type:"captionShort",variant:"dimmer",role:"neutral",className:"ab6cf98dda996cda7602",overflowEllipsis:!0},h)))))}const xx="neutral",Ax="dimmest",Ox=e=>{switch(e){case xw.Custom:return()=>r.createElement(xM.PermissionCustom,{role:xx,variant:Ax});case xw.Member:return()=>r.createElement(xM.PermissionMemberIcon,{role:xx,variant:Ax});case xw.Operator:return()=>r.createElement(xM.PermissionOperator,{role:xx,variant:Ax});case xw.Visitor:default:return()=>r.createElement(xM.PermissionVisitor,{role:xx,variant:Ax})}};function Nx({item:e}){const{t}=Fc("PlayerPermissionsRoute.SideMenu"),a=p(),n=g(),o=(0,l.useSharedFacet)(Iw),i=Tx(),c=(0,l.useFacetMap)((e=>e.connectionType),[],[e]),s=(0,l.useFacetMap)((e=>e.platform),[],[e]),u=(0,l.useFacetMap)((e=>e.label),[],[e]),d=(0,l.useFacetMap)((e=>e.value),[],[e]),m=(0,l.useFacetMap)((e=>e.role),[],[e]),f=(0,l.useFacetMap)((e=>e.icon),[],[e]),E=(0,l.useFacetMap)((e=>""===e.image?kx:e.image),[],[e]),h=(0,l.useFacetMap)(((e,t)=>e.playerId===t),[],[n,d]),b=(0,l.useFacetCallback)(((e,t,n)=>()=>{n.clearErrorFlag(Tw.InvalidPlayerId),t||(a.replace(`/player-permissions/${e}`),i())}),[a,i],[d,h,o]);return r.createElement(Ix,{label:u,value:d,image:E,subtitle:m,subtitleIcon:f,selected:h,inputLegend:t(".menuRole"),onSelect:b,connectionType:c,platform:s})}function Rx(){const{t:e}=Fc("PlayerPermissionsRoute.SideMenu"),t=(0,l.useSharedFacet)(Nw),a=(0,r.useCallback)((t=>{switch(t){case xw.Custom:return e(".role.custom");case xw.Member:return e(".role.member");case xw.Operator:return e(".role.operator");case xw.Visitor:default:return e(".role.visitor")}}),[e]),n=(0,l.useFacetMemo)((e=>e.players.map(((e,t)=>({label:e.name,value:e.id,role:e.permissionLevel?a(e.permissionLevel):null,icon:e.permissionLevel?Ox(e.permissionLevel):null,image:e.profileImage,isHosting:e.isHosting,connectionType:e.connectionType,platform:e.platform,index:t})))),[a],[t]);return r.createElement(Sx,{role:"neutral80",hideInputLegendSpace:!0,narrationRole:e(".menuRole"),delegateFocusByAlias:"remember",spacingAroundSideMenu:r.createElement(r.Fragment,null)},r.createElement(Sx.ItemList,{items:n,renderItem:Nx}))}const Lx="d4a323c88c739114b4aa",_x="cb9a650d07add0199a8e",Dx="da157b4b552e316102c4",Wx="bd6926ff30e4c4981552";function Bx({gamepadIndex:e,gamepadAlias:t,children:a,Icon:n,disabled:o,selected:i,onClick:c,extraSpeechProps:{index:s,groupSize:u,description:d},onFocusChanged:m,wrapText:p,soundEffectPressed:f,onRole:g="primary",offRole:E="secondary"}){const{t:h}=Fc("Toggle"),b=wr(g),v=wr(E),y=i?g:E,F=[a,h(".narrationOptionType"),h(".count",[`${s+1}`,`${u}`]),h(i?".narrationSelected":".narrationUnselected"),null!=d?d:""].join(" . "),S=zr()("f14f117a42c5071db91e",{[_x]:i,[Wx]:o}),C=zr()(Lx,[i?[b.background.base,b.background.disable]:v.background.interactive],[i?[b.text.base,b.text.disable]:v.text.interactive],{[Wx]:o});return r.createElement(Tm,{narrationText:F,className:zr()(S,v.border.base,v.border.disable),classNameFocused:zr()("a6ef07179d77c13d8638",kp),classNamePressed:_x,soundEffectPressed:f,gamepadIndex:e,gamepadAlias:t,inputLegend:h(".select"),onClick:c,onFocusChanged:m,disabled:o},r.createElement(Zn,{role:y},r.createElement(wp,{role:y,disabled:o}),r.createElement("div",{className:C},r.createElement(Lp,{role:y,interactive:!1===i,disabled:o}),r.createElement("div",{className:"d207025bf340a8a735a9"},p?r.createElement(zm,{type:"body",role:y,align:p?"center":void 0,disableable:i,interactive:!i},r.createElement(Ng,{icon:n,disabled:o}),(0,l.isFacet)(a)?r.createElement("fast-text",{text:a}):a):r.createElement(zm,{type:"body",role:y,align:p?"center":void 0,disableable:i,interactive:!i},r.createElement(Ng,{icon:n,disabled:o,className:"c039e2d18ffafe6a6b0d"}),r.createElement(xm,{className:"fbdc9b3e07b7655d4f8d"},a))),r.createElement("div",{className:zr()([i?[b.icon.base,b.icon.disable]:void 0],{f0bf371d97d59dd95aaa:i,[Wx]:o})}))),r.createElement("div",{className:zr()(Dx,v.shadow.interactive,{[Wx]:o})}))}function Ux(){return r.createElement("div",{className:"c417ad639c35c48442c1"},r.createElement("div",{className:Lx}),r.createElement("div",{className:Dx}))}var zx=a(49836),Hx=a.n(zx),jx=a(94551),Vx=a.n(jx);function Gx(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Gx(Object(a),!0).forEach((function(t){Kx(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gx(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Kx(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Yx({children:e,disabled:t,footer:a,menuRole:n="secondary",itemRole:o="neutral60",style:i={}}){const c=wr(n),s=wr(o),u=Ir(),d=(0,r.useRef)(null),m=(0,l.useFacetWrap)(t),p=(0,l.useFacetMap)((e=>({index:1,disabled:e,bounded:!0})),[],[m]);return r.createElement(Yp,{containerRef:d,disabled:m,shouldBindFocus:!0},r.createElement(Qf,{options:p,scrollRef:d},r.createElement("fast-div",{ref:d,className:"fa3be918cc69ed685963",style:$x($x({},i),{marginTop:"var(--base1Scale)"})},r.createElement(jf,{gamepadIndex:0},r.createElement("div",{className:zr()("a6319002d7493fb92b8e",c.border.base)},r.createElement("div",{className:zr()("ee2be481f261ecde6b11",s.border.base,u.dimmest)},r.createElement(Zn,{role:o},e)))),a)))}function Xx(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qx(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xx(Object(a),!0).forEach((function(t){Qx(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xx(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Qx(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Zx=(0,l.createFacet)({initialValue:""});function Jx({options:e,value:t,onChange:a,isOpen:n,onClick:o,onOpenClose:i,dropdownRef:c,disabled:s,onFocusChanged:u,onHoverChanged:d,placeholder:m,footer:p,gamepadAlias:f,soundEffectPressed:g,soundEffectItemHovered:E,narrationText:h,shouldOnlyHandleBackButtonPressWhenDropdownIsOpen:b=!0,isElevated:v=!0,hideDownArrow:y=!1,menuRole:F="secondary",itemRole:S="neutral60",dropdownMenuStyle:C,dropdownMenuPortalRef:M,onBackButtonPressProps:w,matchButtonHeight:k=!1}){const{narrateText:T}=Hf(),P=(0,l.useFacetWrap)(n),I=(0,l.useFacetWrap)(s),[x,A]=(0,l.useFacetState)(!1),[O,N]=(0,l.useFacetState)(!1),[R,L]=(0,l.useFacetState)(!1),_=(0,l.useFacetWrap)(m);(0,l.useFacetEffect)((e=>{null!=e&&A(e)}),[A],[P]);const D=(0,r.useRef)(null),W=M||c||D;(0,l.useFacetEffect)((e=>i&&i(e)),[i],[x]);const{t:B}=Fc("BaseDropdown"),U=(0,l.useFacetWrap)(e),z=(0,l.useFacetWrap)(t),H=(0,l.useFacetMap)(((e,t)=>Vx()(Hx()("value",t))(e)),[],[U,z]);!function(e,t,a=!0){const n=(0,l.useFacetWrap)(a);(0,l.useFacetEffect)((a=>{if(!a)return;const n=a=>{e.current&&e.current.contains(a.target)||t()};return document.addEventListener("click",n,!0),()=>{document.removeEventListener("click",n,!0)}}),[e,t],[n])}(W,(()=>{A(!1),Z(!1),setTimeout((()=>T(B(".stateCollapsed"))),0)}),x);const V=lt(),G=xd(4.8),$=xd(30),K=(0,l.useFacetMap)(((e,t,a,n)=>{const r=e.length*G>$;return zr()({aa50a482a39b879ed4bf:t,dd3ec764c16823a232a1:n,d4e78644578edbc1700e:r,a1cfc3da4590f5260c76:null==a})}),[G,$],[U,x,H,V]),Y=(0,l.useFacetMap)((e=>zr()("c086f102508ef664f0ff",{ac8cbb58b45fc58b1b0d:e})),[],[x]),X=(0,r.useMemo)((()=>"unique-identifier"+Cd++),[]),q=null!=f?f:`dd-bevel-${X}`,Q=Ce(),Z=(0,r.useCallback)((e=>{if(e){const e=null!=f?`${f}-0`:`dd-bevel-${X}-0`;("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:aA)((()=>{Q(e)}))}else Q(q)}),[f,X,Q,q]),J=(0,l.useFacetCallback)((e=>()=>{e&&(A(!1),Z(!1),setTimeout((()=>T(B(".stateCollapsed"))),0)),w&&w(e)}),[w,A,Z,T,B],[x]),ee=(0,l.useFacetCallback)((e=>()=>{const t=!e;A(t),o&&o(t),Z(t)}),[A,o,Z],[x]),te=(0,l.useFacetCallback)((e=>t=>{a(t),ee();const n=Vx()(Hx()("value",t))(e);setTimeout((()=>T([B(".selected"),null==n?void 0:n.narrationSuffix].join(" . "))),0)}),[a,ee,T,B],[U]),ae=(0,l.useFacetMap)(((e,t,a)=>(e||!b)&&(t||a)),[b],[x,O,R]),ne=(0,l.useFacetMemo)((e=>e.map(((t,a)=>qx(qx({},t),{},{enumeration:B(".enumeration",[`${a+1}`,`${e.length}`]),gamepadAlias:null!=f?`${f}-${a}`:`dd-bevel-${X}-${a}`})))),[B,f,X],[U]),re=Tr("neutral"),le=(0,l.useFacetMap)(((e,t)=>zr()("a493ab0ed0e1ff300a1c",{aa72bf6f1dcaa5163543:!e||!0===t})),[],[x,I]),oe=(0,l.useFacetMap)(((e,t)=>!e||!0===t),[],[x,I]),ie=(0,l.useFacetMap)((e=>e?B(".stateExpanded"):""),[B],[x]),ce=(0,l.useFacetMap)((e=>({button:j.B,disabled:!e,inputLegend:B(".close")})),[B],[ae]);return r.createElement(Zf,{text:null!=h?h:Zx},r.createElement("fast-div",{ref:W,className:Y},r.createElement("fast-div",{className:K},r.createElement(Ag,{reflection:"specular",variant:F,narrationText:!1,onClick:ee,gamepadIndex:0,inputLegend:B(".open"),onFocusChanged:e=>{N(e),null==u||u(e)},onHoverChanged:e=>{null==d||d(e)},shouldNotDepressWhenPressed:!0,height:k?4:4.2,isElevated:v,disabled:I,soundEffectPressed:null!=g?g:re.press,gamepadAlias:q},r.createElement(eA,{hideDownArrow:y},(0,l.useFacetMap)(((e,t)=>e?e.label:null!=t?`${t}...`:""),[],[H,_])))),M?r.createElement(tA,{when:x,content:r.createElement(Zf,{text:ie},r.createElement("fast-div",{className:le},r.createElement(Yx,{disabled:oe,footer:p,menuRole:F,itemRole:S,style:C},r.createElement(l.Map,{array:ne},((e,t)=>r.createElement(l.DeferredMount,null,r.createElement(jT,{item:e,gamepadIndex:t,onChange:te,key:t,currentValue:z,soundEffectPressed:null!=g?g:re.press,soundEffectHovered:null!=E?E:re.hover,onFocusChanged:L,disabled:oe})))),r.createElement(ug,{options:ce,onClick:J})))),containerRef:M}):r.createElement(Zf,{text:ie},r.createElement("fast-div",{className:le},r.createElement(Yx,{disabled:oe,footer:p,menuRole:F,itemRole:S,style:C},r.createElement(l.Map,{array:ne},((e,t)=>r.createElement(l.DeferredMount,null,r.createElement(jT,{item:e,gamepadIndex:t,onChange:te,key:t,currentValue:z,soundEffectPressed:null!=g?g:re.press,soundEffectHovered:null!=E?E:re.hover,onFocusChanged:L,disabled:oe})))),r.createElement(ug,{options:ce,onClick:J}))))))}const eA=({children:e,hideDownArrow:t,menuRole:a="secondary",selectedIcon:n,selectedImage:l,disabled:o})=>{const i=wr(a);return r.createElement("fast-div",{className:zr()("fe2d53840629f0518e53",i.text.interactive)},r.createElement(Ng,{icon:n}),l,r.createElement(xm,null,e),!t&&r.createElement("div",{className:"b73e6c5ac897d9de34f5"},r.createElement(xM.ChevronDown,{role:a,disabled:o})))};Jx.ToggleInnerWrapper=eA;const tA=e=>!0===(0,l.useFacetUnwrap)(e.when)&&e.containerRef.current?r.createElement(r.Fragment,null,(0,l.createPortal)(e.content,e.containerRef.current)):null,aA=e=>e();function nA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function rA(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nA(Object(a),!0).forEach((function(t){lA(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nA(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function lA(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function oA({title:e,options:t,value:a,onItemSelect:n,placeholderText:o,buttonRole:i="secondary",dropdownOptionRoleHint:c,dropdownEnumeration:s,dropdownNarrationSuffix:u,itemTypeNarration:d,hideDownArrow:m=!1,buttonTestId:p,closeButtonNarrationSuffix:f,matchButtonHeight:g=!1,gamepadAlias:E,focusOnSelectedItem:h=!1,disabled:b=!1,disabledNarrationSuffix:v,selectedIcon:y,selectedImage:F,role:S="secondary"}){const{t:C}=Fc("ModalMenuDropdown"),M=(0,l.useFacetWrap)(a),w=(0,l.useFacetWrap)(null!=o?o:C(".dropdown.placeholder")),k=(0,l.useFacetWrap)(c),T=(0,l.useFacetWrap)(s),P=(0,l.useFacetWrap)(u),I=(0,l.useFacetWrap)(b),x=(0,l.useFacetWrap)(t),A=(0,l.useFacetMap)(((e,t)=>e.find((e=>e.value===t))),[],[x,M]),O=(0,l.useFacetMemo)(((e,t)=>null!=(null==t?void 0:t.isSelected)&&null!=t.isSelectable?e:e.map((e=>rA(rA({},e),{},{isSelectable:!1!==e.isSelectable,isSelected:e.value===(null==t?void 0:t.value)})))),[],[x,A]),N=(0,l.useFacetMap)(((e,t)=>{var a;return null!==(a=null==e?void 0:e.label)&&void 0!==a?a:t}),[],[A,w]),R=(0,l.useFacetMap)(((e,t,a)=>[e,C(".dropdown.role"),a?C(".narrationDisabled"):"",t,C(".dropdown.collapsed")].filter(Boolean).join(" . ")),[C],[k,T,I]),L=(0,l.useFacetMemo)(((e,t,a,n)=>{let r;var l;return r=null!=e?null!==(l=e.narrationText)&&void 0!==l?l:e.label:t,[r,C(".dropdown.label.role"),C(".dropdown.label.selected"),a,n?v:""].filter(Boolean).join(" . ")}),[C,v],[A,w,P,I]),_=iA.useModal();return r.createElement(r.Fragment,null,r.createElement(Zf,{text:R},r.createElement(Zn,{role:S},r.createElement(Ag,{reflection:"specular",variant:i,narrationText:L,onClick:_.show,inputLegend:C(".dropdown.inputLegend"),height:g?4:4.2,isElevated:!0,"data-testid":p,disabled:I,gamepadAlias:E},r.createElement(Jx.ToggleInnerWrapper,{disabled:I,hideDownArrow:m,selectedIcon:y,selectedImage:F},N)))),r.createElement(l.Mount,{when:_.isVisible},r.createElement(iA.Component,{title:e,items:O,isOpen:_.isVisible,onClose:_.hide,onItemSelect:e=>{n(e),_.hide()},itemTypeNarration:d,closeButtonNarrationSuffix:f,focusOnSelectedItem:h})))}const iA=yp((e=>r.createElement(YT,e)));function cA(){return cA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},cA.apply(null,arguments)}function sA(e){let{title:t,description:a,customSelectionDescription:n,options:o,value:i,disabled:c,indented:s,wrapperRole:u}=e,d=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["title","description","customSelectionDescription","options","value","disabled","indented","wrapperRole"]);const m=(0,l.useFacetWrap)(o),p=(0,l.useFacetWrap)(i),f=(0,l.useFacetMap)(((e,t)=>e.find((e=>e.value===t))),[],[m,p]),g=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.description)&&void 0!==t?t:""}),[],[f]),E=(0,l.useFacetMap)((e=>null==n&&Boolean(e)),[n],[g]),h=[t,a].filter(Boolean).join(" . ");return r.createElement(Fg,{indented:s,narrationText:h,disabled:c,role:u},r.createElement(Cg,{disabled:c},t),null!=a&&r.createElement(Mg,{disabled:c},a),r.createElement(Nm,{size:2}),r.createElement(oA,cA({title:t,options:m,value:i,disabled:c,dropdownNarrationSuffix:g},d)),null!=n&&n,r.createElement(l.Mount,{when:E},r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(Mg,{disabled:c},g))))}let uA=0;const dA=()=>{};function mA({options:e,title:t,description:a,onChange:n=dA,disabled:o=!1,value:i,wrapToggleText:c,onMountComplete:s,soundEffectPressed:u,disabledNarrationSuffix:d,lockToToggles:m=!1}){const p=Tr("neutral"),f=(0,r.useRef)(null),g=(0,l.useFacetWrap)(e),E=((e,t)=>{const[a,n]=(0,l.useFacetState)("unknown"),r=(0,l.useFacetCallback)((e=>t=>{n(t.width<e?"smaller":"bigger")}),[n],[Ad(t)]);return Bd(e,r),a})(f,(0,l.useFacetMap)((e=>15*e.length),[],[g])),h=(0,l.useFacetMap)((e=>"smaller"===e&&!m),[m],[E]),b=(0,l.useFacetMap)((e=>"unknown"===e),[],[E]);return(0,l.useFacetEffect)((e=>{e||null==s||s()}),[s],[b]),r.createElement("div",{ref:f},r.createElement(l.Mount,{when:h},r.createElement(sA,{title:t,description:a,options:g,value:i,focusOnSelectedItem:!0,onItemSelect:n,disabled:o,disabledNarrationSuffix:d})),r.createElement(l.Mount,{when:h,condition:!1},r.createElement(pA,{disabledNarrationSuffix:d,options:e,title:t,description:a,onChange:n,disabled:o,value:i,wrapToggleText:c,soundEffectPressed:null!=u?u:p.toggle,skeleton:b})))}function pA({options:e,title:t,description:a,onChange:n=dA,disabled:o=!1,value:i,wrapToggleText:c,soundEffectPressed:s,disabledNarrationSuffix:u,skeleton:d}){var m,p;const f=(0,l.useFacetUnwrap)(e),g=(0,l.useFacetUnwrap)(i),E=(0,l.useFacetUnwrap)(o),h=(0,r.useRef)("MCT-"+uA++),{narrateText:b}=Hf(),{t:v}=Fc("Toggle"),y=dn();if(f===l.NO_VALUE||g===l.NO_VALUE||E===l.NO_VALUE)return null;const F=f.findIndex((e=>e.value===g)),S=null===(m=f.find((e=>e.value===g&&e.description)))||void 0===m?void 0:m.description,C=E&&y?[null!=t?t:"",v(".narrationComponentType"),v(".narrationDisabled"),null===(p=f[F])||void 0===p?void 0:p.label,v(".narrationOptionType"),v(".narrationSelected"),null!=S?S:"",null!=u?u:""].join(" . "):"";return r.createElement(Fg,{focusable:E&&y,narrationText:C},null!=t&&r.createElement(Cg,{disabled:E},t),null!=a?r.createElement(Mg,null,a):null,r.createElement(Nm,{size:1}),r.createElement("div",{className:"f5127c3f13fdfe628cfd"},r.createElement(l.Mount,{when:d,condition:!1},r.createElement(Zf,{text:`${null!=t?t:""} ${v(".narrationComponentType")}`},f.map(((e,t)=>r.createElement(Bx,{key:t,Icon:e.Icon,onClick:()=>{const e=f[t];b([v(".narrationSelected"),e.narrationSuffix].join(" . ")),function(e){f!==l.NO_VALUE&&n(f[e].value)}(t)},selected:F===t,gamepadIndex:t,gamepadAlias:`${h.current}.${t}`,extraSpeechProps:{index:t,groupSize:f.length,description:e.description},disabled:E,wrapText:c,soundEffectPressed:F===t?void 0:s},e.label))))),r.createElement(l.Mount,{when:d},r.createElement(Ux,null))),null!=S&&r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(Mg,null,S)))}mA.displayName="Toggles",mA.Toggle=Bx;const fA=yp((({enableCheats:e,onChange:t,onCloseModal:a})=>{const{t:n}=Fc("PlayerPermissionsRoute.EnableCheatsModal"),l=(0,r.useCallback)((()=>{t(),a()}),[a,t]),o=(0,r.useCallback)((()=>{e(),t(),a()}),[e,t,a]);return r.createElement($E,null,r.createElement($E.Header,{onClose:a},n(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:n(".description")},n(".description"))),r.createElement($E.Buttons,null,r.createElement(Ug,{inputLegend:n(".inputLegend"),variant:"primary",onClick:o},n(".enableCheatsButton")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:n(".inputLegend"),variant:"secondary",onClick:l},n(".cheatsDisabledButton"))))})),gA=yp((({playerName:e,onKickPlayer:t,onCloseModal:a})=>{const{t:n}=Fc("PlayerPermissionsRoute.KickPlayerModal"),o=(0,l.useFacetMap)((e=>n(".description",[e])),[n],[e]),i=(0,l.useFacetMap)((e=>n(".kickButton",[e])),[n],[e]);return r.createElement($E,null,r.createElement($E.Header,{onClose:a},n(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:o},o)),r.createElement($E.Buttons,null,r.createElement(Ug,{inputLegend:n(".inputLegend"),variant:"destructive",onClick:t},i),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:n(".inputLegend"),variant:"secondary",onClick:a},n(".backButton"))))})),EA=yp((({onCloseModal:e})=>{const{t}=Fc("PlayerPermissionsRoute.OperatorRevokedErrorModal");return r.createElement($E,null,r.createElement($E.Header,{onClose:e},t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:t(".description")},t(".description"))),r.createElement($E.Buttons,null,r.createElement(Ug,{inputLegend:t(".inputLegend"),variant:"secondary",onClick:e},t(".closeButton"))))})),hA=yp((({playerName:e,onCloseModal:t})=>{const{t:a}=Fc("PlayerPermissionsRoute.PlayerLeftErrorModal"),n=(0,l.useFacetMap)((e=>a(".description",[e])),[a],[e]);return r.createElement($E,null,r.createElement($E.Header,{onClose:t},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:n},n)),r.createElement($E.Buttons,null,r.createElement(Ug,{inputLegend:a(".inputLegend"),variant:"secondary",onClick:t},a(".closeButton"))))}));function bA(e){switch(e){case kw.Build:return".build";case kw.Mine:return".mine";case kw.DoorsAndSwitches:return".doorsAndSwitches";case kw.OpenContainers:return".openContainers";case kw.AttackPlayers:return".attackPlayers";case kw.AttackMobs:return".attackMobs";case kw.OperatorCommands:return".operatorCommands";case kw.Teleport:default:return".teleport"}}const vA=yp((({onRoleChange:e,onPlayerPermissionChange:t,onCloseModal:a})=>{const{t:n}=Fc("PlayerPermissionsRoute.RemoveOperatorLevelModal"),l=(0,r.useCallback)((()=>{e&&e(),t&&t()}),[e,t]);return r.createElement($E,null,r.createElement($E.Header,{onClose:a},n(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:n(".description")},n(".description"))),r.createElement($E.Buttons,null,r.createElement(Ug,{inputLegend:n(".inputLegend"),variant:"primary",onClick:l},n(".removeOperatorLevelButton")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:n(".inputLegend"),variant:"secondary",onClick:a},n(".backButton"))))})),yA=a.p+"assets/generic-error-7df2729fadb517daf032.png",FA=a.p+"assets/permissions-missing-fd3a240bebf300e89403.png",SA="c6e06d56653282717326",CA="ca85cae891574a01aa9e";function MA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wA(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?MA(Object(a),!0).forEach((function(t){kA(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):MA(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function kA(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var TA;!function(e){e.NoPermissions="no-permissions",e.InvalidEmpty="invalid-empty",e.PlayerPermissions="player-permissions"}(TA||(TA={}));const PA=(e,t)=>{switch(e){case xw.Custom:return()=>r.createElement(xM.PermissionCustom,{disabled:t,className:CA});case xw.Member:return()=>r.createElement(xM.PermissionMemberIcon,{disabled:t,className:CA});case xw.Operator:return()=>r.createElement(xM.PermissionOperator,{disabled:t,className:CA});case xw.Visitor:default:return()=>r.createElement(xM.PermissionVisitor,{disabled:t,className:CA})}};function IA(){const{t:e}=Fc("PlayerPermissionsRoute.Details"),t=Fc("PlayerPermissionsRoute.role").t,a=p(),n=Od(),o=f(),i=gA.useModal(),c=vA.useModal(),s=fA.useModal(),u=EA.useModal(),d=hA.useModal(),m=g(),E=$E.useIsAnyModalVisible(),h=wr("neutral80"),[b,v]=(0,l.useFacetState)(xw.Visitor),[y,F]=(0,l.useFacetState)(""),[S,C]=(0,l.useFacetState)(!1),M=(0,l.useSharedFacet)(Iw),w=(0,l.useSharedFacet)(Nw),k=(0,l.useSharedFacet)(Ac),T=(0,r.useMemo)((()=>[{label:t(".visitor"),description:e(".roleDropdown.description.visitor"),value:xw.Visitor,Icon:PA(xw.Visitor,!1),enumeration:e(".optionEnumeration",["1","4"])},{label:t(".member"),description:e(".roleDropdown.description.member"),value:xw.Member,Icon:PA(xw.Member,!1),enumeration:e(".optionEnumeration",["2","4"])},{label:t(".operator"),description:e(".roleDropdown.description.operator"),value:xw.Operator,Icon:PA(xw.Operator,!1),enumeration:e(".optionEnumeration",["3","4"])},{label:t(".custom"),description:e(".roleDropdown.description.custom"),value:xw.Custom,Icon:PA(xw.Custom,!1),enumeration:e(".optionEnumeration",["4","4"])}]),[t,e]),P=(0,l.useFacetMap)((e=>!Boolean(e.canEditPermissions)),[],[M]),I=(0,l.useFacetMap)((e=>e.playerId),[],[m]),x=(0,l.useFacetMap)((e=>e.playerPermissionLevel),[],[M]),A=(0,l.useFacetMemo)((e=>T.map((t=>wA(wA({},t),{},{Icon:PA(t.value,e)})))),[T],[P]),O=(0,l.useFacetMap)((e=>e.playerPermissionList),[],[M]),N=(0,l.useFacetMemo)(((e,t)=>PA(e,t)),[],[x,P]),R=(0,l.useFacetMemo)((e=>[PA(xw.Custom,e),PA(xw.Member,e),PA(xw.Operator,e),PA(xw.Visitor,e)]),[],[P]),L=(0,l.useFacetMemo)(((e,t)=>{var a;return null===(a=e.players.find((e=>e.id===t)))||void 0===a?void 0:a.isHosting}),[],[w,I]),_=(0,l.useFacetMap)((e=>e.isLocalPlayerHosting),[],[w]),D=(0,l.useFacetMap)((e=>e.canKickPlayer),[],[M]),W=(0,l.useFacetMap)(((e,t)=>!Boolean(e)&&t),[],[L,D]),B=(0,l.useFacetMemo)(((e,t)=>{var a;return String(null===(a=e.players.find((e=>e.id===t)))||void 0===a?void 0:a.name)}),[],[w,I]),U=(0,l.useFacetMap)((e=>e.isWorldTemplateOptionsLocked),[],[M]),z=(0,l.useFacetMemo)((t=>{switch(t){case xw.Visitor:return e(".roleDropdown.description.visitor");case xw.Member:return e(".roleDropdown.description.member");case xw.Operator:return e(".roleDropdown.description.operator");case xw.Custom:return e(".roleDropdown.description.custom")}}),[e],[x]),H=(0,l.useFacetMap)((t=>e(".kickButton",[String(t)])),[e],[B]),j=(0,l.useFacetMap)((e=>e.localPlayerID),[],[w]),V=(0,l.useFacetMap)((e=>e.playerIdInvalidFlag),[],[M]),G=(0,l.useFacetMap)((e=>e.selectedPlayerLeftFlag),[],[M]),$=(0,l.useFacetMap)((e=>e.selectedPlayerPermissionsChangedFlag),[],[M]),K=(0,l.useFacetMap)((e=>e.operatorCommandsRevokedFlag),[],[M]),Y=(0,l.useFacetMap)((e=>e.kickCommandState===Pw.Error),[],[M]),X=(0,l.useFacetMap)((e=>e.kickCommandState===Pw.Success),[],[M]),q=(0,l.useFacetMap)(((e,t)=>e&&!1===t),[],[V,G]),Q=(0,l.useFacetMap)((e=>e.playerPermissionsMissingFlag),[],[M]),Z=(0,l.useFacetMap)(((e,t)=>t?TA.NoPermissions:e?TA.InvalidEmpty:TA.PlayerPermissions),[],[q,Q]),J=(0,l.useFacetMemo)((e=>null!=e?e:xw.Visitor),[],[x]),ee=(0,l.useFacetCallback)(((e,t)=>a=>{v(a),e.setPlayerPermissionLevel(t,a)}),[v],[M,I]),te=(0,l.useFacetCallback)(((e,t)=>a=>e===xw.Operator?(v(a),void c.show()):a!==xw.Operator||t.areCheatsEnabled?void ee(a):(v(a),void s.show())),[v,ee,c,s],[x,M]),ae=(0,l.useFacetCallback)(((e,t,a)=>()=>{ee(e),t&&c.hide(),a&&s.hide()}),[ee,c,s],[b,c.isVisible,s.isVisible]),ne=(0,l.useFacetCallback)(((e,t)=>(a,n)=>e.setPlayerPermission(t,a,!n)),[],[M,I]),re=(0,l.useFacetCallback)((e=>t=>e.loadPlayerPermissions(t)),[],[M]),le=(0,l.useFacetCallback)((e=>()=>e.enableCheats()),[],[M]),oe=(0,r.useCallback)((()=>{a.push("/game-settings"),C(!0)}),[a,C]),ie=(0,l.useFacetCallback)(((e,t,n,r)=>()=>{e.kickPlayer(t),r||a.replace(`/player-permissions/${n}`),i.hide()}),[i,a],[M,I,j,G]),ce=(0,l.useFacetCallback)((e=>()=>{e.clearErrorFlag(Tw.OperatorCommandsPermissionRevoked)}),[],[M]),se=(0,l.useFacetCallback)(((e,t)=>()=>{e.clearErrorFlag(Tw.SelectedPlayerLeftWorld),a.replace(`/player-permissions/${t}`)}),[,a],[M,j,G]),ue=(0,l.useFacetCallback)((e=>t=>e.clearErrorFlag(t)),[],[M]);return(0,l.useFacetEffect)((e=>{ue(Tw.MissingPlayerPermissions),re(e)}),[re,ue],[I]),(0,l.useFacetEffect)((e=>{"undefined"!==e&&F(e)}),[F],[B]),(0,l.useFacetEffect)(((t,a,n,r,l,o,i)=>{o||(t&&d.show(),a&&(l.queueSnackbar(e(".notification.selectedPlayerPermissionsChangedFlag")),ue(Tw.SelectedPlayerPermissionsChanged)),n&&u.show(),r&&(l.queueSnackbar(e(".notification.kickCommandFailedFlag")),ue(Tw.KickCommandFailed)),i&&(l.queueSnackbar(e(".notification.kickCommandSuccess")),ue(Tw.KickCommandFailed)))}),[u,d,e,ue],[G,$,K,Y,k,E,X]),(0,l.useFacetEffect)(((e,t)=>{e||d.hide(),t||u.hide()}),[d,u],[G,K]),(0,l.useFacetEffect)(((e,t)=>{!e&&t&&C(!1)}),[C],[o,S]),r.createElement(xl,{data:Z},(t=>{switch(t){case TA.NoPermissions:return r.createElement(_v.Wrapper,null,r.createElement(_v.Title,null,e(".noPermissions.title")),r.createElement(_v.Image,{imgSrc:FA,imgClass:SA}),r.createElement(_v.Text,null,e(".noPermissions.description")));case TA.InvalidEmpty:return r.createElement(_v.Wrapper,null,r.createElement(_v.Image,{imgSrc:yA,imgClass:SA}),r.createElement(_v.Text,null,e(".playerIdInvalidFlag")));case TA.PlayerPermissions:default:return r.createElement(jf,null,r.createElement("div",{className:zr()("aa2e0a03094ae4fd5a2e",h.border.base)},r.createElement(l.Mount,{when:U},r.createElement(Fg,null,r.createElement(AP,{role:"informative"},r.createElement(AP.Text,null,e(".SettingsLockedBanner.text")),r.createElement(l.Mount,{when:_},r.createElement(AP.Link,{onClick:oe,"data-testId":"settings-locked-link"},e(".SettingsLockedBanner.link")))))),"desktop"===n?r.createElement(mA,{title:e(".roleDropdown.title"),options:A,value:J,disabled:P,onChange:te}):r.createElement(Fg,null,r.createElement(zm,{type:"body"},e(".roleDropdown.title")),r.createElement(Nm,{size:2}),r.createElement(oA,{title:e(".roleDropdown.title"),options:T,value:J,disabled:P,onItemSelect:te,buttonTestId:"player-permission-role-dropdown-button",matchButtonHeight:!0,selectedIcon:N}),r.createElement(Nm,{size:2}),r.createElement(xl,{data:z},(e=>null!=e?r.createElement(zm,{type:"captionShort",variant:"dimmer"},e):null))),r.createElement(l.Map,{array:O},(e=>r.createElement(xA,{item:e,isDisabled:P,selectedRole:J,onPlayerPermissionChange:ne}))),r.createElement(l.Mount,{when:W},r.createElement(Fg,null,r.createElement("div",{className:"e2c0540bce831a038c4a"},r.createElement(Ug,{inputLegend:e(".kickButton.inputLegend"),horizontal:!0,variant:"destructive",onClick:i.show},H)))),r.createElement("div",{className:"fda065f00bbec1a1b2bb"},r.createElement(l.Map,{array:R},(e=>r.createElement(Ng,{icon:e}))))),r.createElement(Nm,{size:2}),r.createElement(l.Mount,{when:i.isVisible},r.createElement(gA.Component,{playerName:y,onCloseModal:i.hide,onKickPlayer:ie})),r.createElement(l.Mount,{when:c.isVisible},r.createElement(vA.Component,{onRoleChange:ae,onCloseModal:c.hide})),r.createElement(l.Mount,{when:s.isVisible},r.createElement(fA.Component,{enableCheats:le,onChange:ae,onCloseModal:s.hide})),r.createElement(l.Mount,{when:d.isVisible},r.createElement(hA.Component,{playerName:y,onCloseModal:se})),r.createElement(l.Mount,{when:u.isVisible},r.createElement(EA.Component,{onCloseModal:ce})),r.createElement(l.Mount,{when:S},r.createElement(Ay.Component,{title:e(".loading")})),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))}}))}function xA({item:e,isDisabled:t,selectedRole:a,onPlayerPermissionChange:n}){const{t:o}=Fc("PlayerPermissionsRoute.Details"),i=vA.useModal(),c=fA.useModal(),s=(0,l.useSharedFacet)(Iw),u=(0,l.useFacetMap)((e=>e.abilityIndex),[],[e]),d=(0,l.useFacetMap)((e=>e.isEnabled),[],[e]),m=(0,l.useFacetMemo)((e=>o(`.ability${bA(e)}`)),[o],[u]),p=(0,l.useFacetMemo)((e=>o(`.ability.description${bA(e)}`)),[o],[u]),f=(0,l.useFacetCallback)(((e,t,a,r)=>()=>{e!==xw.Operator?t!==kw.OperatorCommands||r.areCheatsEnabled||a?n(t,a):c.show():i.show()}),[n,i,c],[a,u,d,s]),g=(0,l.useFacetCallback)(((e,t,a,r)=>()=>{n(e,t),a&&i.hide(),r&&c.hide()}),[n,i,c],[u,d,i.isVisible,c.isVisible]),E=(0,l.useFacetCallback)((e=>()=>e.enableCheats()),[],[s]);return r.createElement(r.Fragment,null,r.createElement(My,{title:m,description:p,disabled:t,value:d,onChange:f}),r.createElement(l.Mount,{when:i.isVisible},r.createElement(vA.Component,{onPlayerPermissionChange:g,onCloseModal:i.hide})),r.createElement(l.Mount,{when:c.isVisible},r.createElement(fA.Component,{enableCheats:E,onChange:g,onCloseModal:c.hide})))}function AA(){const{t:e}=Fc("PlayerPermissionsRoute"),t=p(),a=(0,l.useSharedFacet)(Iw),n=(0,l.useSharedFacet)(Rw),o=Tx(),i=(0,l.useFacetMap)((t=>e(".title",[t.worldName])),[e],[n]),c=(0,l.useFacetMap)((e=>!e.isInitialized),[],[n]),s=(0,l.useFacetCallback)((e=>()=>{o(),e.requestSavePermissions(),t.goBack()}),[t,o],[a]);return r.createElement(r.Fragment,null,r.createElement(yx,{gamepadAlias:"player-permissions-route",title:i,screenAnalyticsId:"PlayerPermissions",onBack:s},(()=>r.createElement(Cv,null,r.createElement(Nm,{size:2}),r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:4,narrowSize:3},r.createElement(Rx,null)),r.createElement(Cv.Column,{wideSize:8,narrowSize:5},r.createElement(IA,null))),r.createElement(LE.Space,null)))),r.createElement(l.Mount,{when:c},r.createElement(Ay.Component,null)),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}))}const OA=()=>{const e=Jr(),t=(0,l.useSharedFacet)(Rc),a=(0,l.useFacetUnwrap)(t),n=(0,r.useRef)(),{t:o}=Fc("RenderDistanceWarningRoute"),i=dn(),c=(0,l.useFacetCallback)((t=>()=>{t.renderDistance=t.defaultRenderDistance,t.showRenderDistanceWarningModal=!1,e.goBack()}),[e],[t]),s=(0,l.useFacetCallback)((t=>()=>{t.showRenderDistanceWarningModal=!1,e.goBack()}),[e],[t]);if(a==l.NO_VALUE)return null;null==n.current&&(n.current=a.renderDistance);const u=[o(".useRecommendedSettingsButton"),o(a.defaultRenderDistance>1?".chunksPluralCaption":".chunksSingularCaption",[`${a.defaultRenderDistance}`])].join(" "),d=n.current>1?".chunksPluralCaption":".chunksSingularCaption",m=[o(".useCurrentSettingsButton"),o(d,[`${n.current}`])].join(" ");return r.createElement(Zf,{text:`${o(".title")}. ${o(".body1")}. ${o(".body2")}`},r.createElement($E,null,r.createElement($E.Header,null,o(".title")),r.createElement($E.Content,{focusableIfScrollable:!i},r.createElement($E.Paragraphs,{narrationText:`${o(".body1")}. ${o(".body2")}`,spaceBetweenParagraphs:5,gamepadIndex:0},r.createElement(zm,{type:"captionLong"},o(".body1")),r.createElement(zm,{type:"captionLong"},o(".body2")))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,autofocus:!0,inputLegend:o(".confirmInputLegend"),variant:"primary",onClick:c},u),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:1,inputLegend:o(".confirmInputLegend"),variant:"secondary",onClick:s},m))))},NA=a.p+"assets/advanced-icon-1b6c5b572a777772a78e.png",RA=a.p+"assets/experimental-features-icon-dca93f83a503a8e269eb.png",LA=a.p+"assets/cheats-icon-33f132756175c43752b8.png",_A=a.p+"assets/debug-icon-1cb529ecd005cdafa5e2.png",DA=a.p+"assets/general-icon-8ce31666e00cf3491940.png",WA=a.p+"assets/resource-packs-icon-e08f710fbdadb2f3a5a5.png",BA=a.p+"assets/multiplayer-icon-d7d04b2a5d3ae87f5ed5.png",UA=a.p+"assets/behaviour-packs-icon-2f4af74c62b42f1fb412.png",zA=a.p+"assets/icon-highlight-spritesheet-87ec62988bf89f63558d.png",HA=({iconSrc:e,selected:t,border:a=!1,variant:n="small"})=>{const o=wr("neutral"),i=(0,l.useFacetMap)((e=>!e),[],[(0,l.useFacetWrap)(null!=t&&t)]),c="large"==n;return r.createElement("div",{className:c?"c3788e1f9426fee5b96a":"cd6238215d77d30e83a0"},r.createElement(Qp,{aspectRatio:Qp.AspectRatio["1:1"],src:e,className:zr()("f69d96db29ee37d056cc",{e2a50ee356fab4727dd7:c}),imageRendering:"pixelated"}),a&&r.createElement("div",{className:zr()(o.border.base,"daa31a3119020fe241c1",{d53293a3436a98e2a72d:c})}),r.createElement("div",{className:"f5e0e40817daa08c97da"},r.createElement(zF,{disabled:i,src:zA,frames:8,duration:500,width:c?36:21.6,height:c?4:2.4,repeat:1,imageRendering:"pixelated"})))},jA=a.p+"assets/hardcore-heart-4e8a8866426c2f94f270.png",VA=a.p+"assets/hardcore-heart-dead-7809197628d8fcebb566.png",GA=a.p+"assets/hardcore-heart-animation-acc5def962a8890399b3.png";function $A({animate:e,dead:t,className:a,startFrame:n}){const o=(0,l.useFacetWrap)(t),i=(0,l.useFacetMap)((e=>zr()("c142e1fd272ec0ca7e3d",e)),[],[(0,l.useFacetWrap)(a)]),c=(0,l.useFacetMap)(((e,t)=>!(null!=e&&e)||null!=t&&t),[],[(0,l.useFacetWrap)(e),o]),s=(0,l.useFacetMap)((e=>null!=e?e:0),[],[(0,l.useFacetWrap)(n)]),u=(0,l.useFacetMap)((e=>null!=e&&e?VA:jA),[],[o]);return r.createElement(r.Fragment,null,r.createElement(Qp,{src:u,className:i,imageRendering:"pixelated"}),r.createElement(zF,{key:"hardcore-heart",src:GA,disabled:c,className:i,frames:14,duration:2240,width:30,height:2,imageRendering:"pixelated",startFrame:s}))}const KA=a.p+"assets/hardcore-smoke-animation-fdeabd82a4a32095ab15.png";function YA(e,t){switch(e){case eI.CREATE:return"create-new-world";case eI.EDIT:return`edit-world/${t}`;case eI.EDIT_REALM:return`edit-realm-world/${t}`}}(0,r.createContext)({});const XA="main-button",qA="secondary-button";function QA({worldPreviewImage:e,showSpinner:t,worldPacks:a,isHardcoreMode:n,playerHasDied:o,sideMenuButtons:i,onEditThumbnail:c}){const s=(0,r.useContext)(tI)===eI.CREATE,u=(0,l.useSharedFacet)(dl),d=(0,r.useRef)(null),m=(0,r.useCallback)((()=>{d.current&&(d.current.scrollHeight?d.current.scrollTop=0:requestAnimationFrame(m))}),[]);(0,l.useFacetEffect)(m,[m],[e]);const p=(0,l.useFacetMap)((e=>xk(e.platform)&&(e.isStorageLow||e.isStorageFull)),[],[u]),f=(0,l.useFacetUnwrap)(p),g=f!==l.NO_VALUE&&f?qA:XA;return r.createElement(r.Fragment,null,r.createElement(Sx,{loading:t,scrollViewRef:d,delegateFocusByAlias:g,gamepadAlias:"cnw-side-menu"},r.createElement(Sx.Item,null,r.createElement(aO,{isHardcoreMode:n,playerHasDied:o,isCreateWorld:s,worldPreviewImage:e,onEditThumbnail:c})),r.createElement(Nm,{size:2}),i,r.createElement(Nm,{size:2}),r.createElement(ZA,{worldPacks:a})))}const ZA=({worldPacks:e})=>{const t=(0,l.useFacetMap)((e=>{const t=[{label:".generalTabLabel",image:DA,value:"general"}];return t.push({label:".advancedTabLabel",image:NA,value:"advanced"},{label:".multiplayerTabLabel",image:BA,value:"multiplayer"}),t.push({label:".cheatsTabLabel",image:LA,value:"cheats"}),t.push({label:".resourcePacksTabLabel",image:WA,value:"resource-packs"},{label:".behaviorPacksTabLabel",image:UA,value:"behavior-packs"}),t.push({label:".experimentalFeaturesTabLabel",image:RA,value:"experimental"}),t.push({label:".debugTabLabel",image:_A,value:"debug"}),t}),[],[(0,l.useSharedFacet)(ki)]);return r.createElement(Sx.ItemList,{items:t,renderItem:t=>r.createElement(eO,{item:t.item,worldPacks:e})})},JA=(e,t,a)=>`/${e}/${t}/${a?"available":"active"}`,eO=({item:e,worldPacks:t})=>{const{t:a}=Sc("CreateNewWorldSideMenu"),n=p(),o=(0,l.useFacetMap)((e=>e.label.includes(".debugTabLabel")?"Debug":a(e.label)),[a],[e]),i=g(),c=(0,l.useFacetMap)(((e,t)=>t.tab===e.value),[],[e,i]),s=(0,r.useContext)(tI),u=(0,l.useFacetMap)((e=>e.activeTexturePacks),[],[t]),d=(0,l.useFacetMap)((e=>e.activeBehaviorPacks),[],[t]);return r.createElement(Sx.ListItem,{narrationText:o,onSelect:(0,l.useFacetCallback)(((e,t,a,r)=>()=>{var l;if(e.value===t.tab)return;const o=YA(s,null!==(l=t.id)&&void 0!==l?l:"");"resource-packs"===e.value?n.replace(JA(o,e.value,0===a.length)):"behavior-packs"===e.value?n.replace(JA(o,e.value,0===r.length)):n.replace(`/${o}/${e.value}`)}),[n,s],[e,i,u,d]),value:(0,l.useFacetMap)((e=>e.value),[],[e]),selected:c,inputLegend:a(".inputLegendSelect")},r.createElement(Sx.ItemCell,null,r.createElement(HA,{iconSrc:(0,l.useFacetMap)((e=>e.image),[],[e]),selected:c})),r.createElement(Sx.ItemMain,null,r.createElement(zm,{type:"body"},o)))};function tO({onEditThumbnail:e}){const{t}=Sc("EditWorld");return r.createElement("div",{className:"f49ab0f0b13b5414d236"},r.createElement(Xw,{inputLegend:t(".editThumbnailButton"),narrationText:t(".editThumbnailButton"),onClick:e,"data-testid":"edit-thumbnail-button"},r.createElement(xM.EditImage,null)))}function aO({isHardcoreMode:e,playerHasDied:t,worldPreviewImage:a,isCreateWorld:n,onEditThumbnail:o}){const i=tv(Ji),[c,s]=(0,r.useState)(!1),u=wr("neutral80"),d=io(),m=(0,l.useFacetMap)(((e,t,a)=>zr()(u.border.base,"d3595a7ec36d9c40c016",{cd9033730e73d62ef280:e,d343f0a8955ea2b36054:t&&n,e15d8a569aa16ae3019e:a})),[u,n],[e,d,t]);(0,l.useFacetEffect)((e=>s((t=>!(!n||!e)||t))),[n],[e]);const p=(0,l.useFacetMap)((e=>e?"hardcore-smoke-on":"hardcore-smoke-off"),[],[e]),f=(0,l.useFacetMap)((e=>!n&&i&&o&&!e),[n,o,i],[(0,l.useSharedFacet)(Bu)]);return r.createElement(r.Fragment,null,r.createElement(Qp,{src:a,aspectRatio:Qp.AspectRatio["16:9"],className:m}),r.createElement(l.Mount,{when:f},r.createElement(tO,{onEditThumbnail:o})),r.createElement(l.Mount,{when:e},r.createElement($A,{animate:!0,dead:t,className:"d887ed21f5adf2ba2cd6"})),c&&r.createElement(xl,{data:p},(e=>r.createElement(zF,{key:e,src:KA,className:"a27bfc3f83a32300ebdc",frames:10,duration:1e3,repeat:1,width:24.2,height:3.9,imageRendering:"pixelated"}))))}QA.SideMenuList=ZA,QA.AdvancedIcon=NA,QA.ExperimentalFeaturesIcon=RA,QA.CheatsIcon=LA,QA.DebugIcon=_A,QA.GeneralIcon=DA,QA.ResourcePacksIcon=WA,QA.MultiplayerIcon=BA,QA.BehaviourPacksIcon=UA,QA.SideMenuItem=eO;function nO({title:e,description:t,role:a="neutral"}){const n=wr(a);return r.createElement("div",{className:zr()(n.background.base)},r.createElement(Nm,{size:6}),r.createElement(zm,{type:"sectionHeader",role:a},r.createElement(Nm,{size:6}),r.createElement("fast-text",{text:e})),null!=t&&r.createElement("div",{className:"dda3cec0d32d0274ac63"},r.createElement(zm,{type:"captionShort",variant:"dimmer",role:a},r.createElement("fast-text",{text:t}))),r.createElement(Nm,{size:1}))}function rO({title:e,roleNarrationOverride:t,description:a,buttons:n,stackedButtons:o=!1,border:i=!1}){const c=(0,l.useFacetMap)(((e,t,a)=>[e,t,a].filter((e=>e)).join(" . ")),[],[(0,l.useFacetWrap)(e),(0,l.useFacetWrap)(null!=t?t:""),(0,l.useFacetWrap)(null!=a?a:"")]);return r.createElement(Fg,{border:i,narrationText:c},null!=e&&r.createElement(Cg,null,e),null!=a&&r.createElement(Mg,null,a),null!=n&&r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement("div",{className:o?"fcac7fbabfeb7e5024c5":"ed1b7a4d9678c3bdeb2a"},n)))}function lO({children:e}){return r.createElement(r.Fragment,null,e)}function oO({children:e,role:t="neutral"}){const a=wr(t);return r.createElement("div",{className:zr()(a.background.base,a.text.base)},e)}rO.ButtonSpacing=function(){return r.createElement(Nm,{size:2})};const iO="achievements-primary-button",cO="achievements-secondary-button",sO=yp((({onConfirm:e,onClose:t,reasons:a,isEditWorld:n=!1})=>{const{t:o}=Fc("AchievementDisabledModal"),i=(0,l.useFacetWrap)(null!=e),c=(0,l.useFacetMap)((e=>n?o(".firstParagraphEW"):e.length>1?o(".firstParagraph"):o(".firstParagraph.singleReason")),[o,n],[a]),s=o(n?".confirmButtonEW":".confirmButton"),u=(0,l.useFacetMap)((e=>o(e?".goBackButton":".closeButton")),[o],[i]),d=(0,r.useCallback)((()=>{t(),e&&e()}),[t,e]);return r.createElement($E,{onOverlayClick:t,defaultFocusAlias:null!=e?iO:cO},r.createElement($E.Header,{onClose:t},o(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:c},c),r.createElement($E.Text,{narrationText:o(".secondParagraph")},o(".secondParagraph")),r.createElement($E.List,{items:a}),r.createElement(Nm,{size:4})),r.createElement($E.Buttons,null,r.createElement(l.Mount,{when:i},r.createElement(r.Fragment,null,r.createElement(Ug,{gamepadAlias:iO,"data-testid":"achievements-disabled-modal-button",inputLegend:s,variant:"primary",onClick:d},s),r.createElement(Nm,{size:1}))),r.createElement(Ug,{gamepadAlias:cO,inputLegend:u,variant:"secondary",onClick:t,"data-testid":"achievements-disabled-close-button"},u)))})),uO="addon-stacking-modal-confirm",dO=yp((({activatePackModal:e,onAccept:t,onCancel:a})=>{const{t:n}=Fc("EditWorld.addonStackingWarningModal"),[o,i]=(0,l.useFacetState)(!1),c=(0,l.useSharedFacet)(xc),s=(0,l.useFacetCallback)(((e,a)=>()=>{a&&(e.doNotShowAddonStackingWarning=!0),t()}),[t],[c,o]);return r.createElement($E,{onOverlayClick:a,defaultFocusAlias:uO},r.createElement($E.Header,{onClose:a},n(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:n(".description"),center:!0},n(".description"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:uO,gamepadIndex:0,inputLegend:n(e?".cancelButton":".confirmButton"),onClick:a,variant:"primary"},n(e?".cancelButton":".confirmButton")),e&&r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:1,inputLegend:n(".confirmButton"),onClick:s},n(".confirmButton")),r.createElement($E.Checkbox,{onChange:i,title:n(".doNotShow"),value:o}))))})),mO="behavior-packs-modal-confirm",pO=yp((({packId:e,type:t,onAccept:a,hideModal:n})=>{const{t:l}=Fc("CreateNewWorld.behaviorPacksRemoveModal"),o="deactivate"==t;return r.createElement($E,{onOverlayClick:n,defaultFocusAlias:mO},r.createElement($E.Header,{onClose:n},l(o?".deactivateTitle":".activateTitle")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:l(o?".messageDeactivate":".messageActivate"),center:!0},l(o?".messageDeactivate":".messageActivate"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:mO,gamepadIndex:0,inputLegend:l(o?".copyContinueLabel":".dontAddPackLabel"),onClick:o?()=>{a(e,!0),n()}:n,variant:"primary"},l(o?".copyContinueLabel":".dontAddPackLabel")),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:1,inputLegend:l(o?".continueLabel":".addPackLabel"),onClick:()=>{a(e,!1),n()}},l(o?".continueLabel":".addPackLabel"))))})),fO="content-key-error-modal-back",gO=yp((()=>{const{t:e}=Fc("CreateNewWorld.resourcePacks"),t=(0,l.useSharedFacet)(sd),a=(0,l.useFacetMap)((t=>{const a=t.brokenPacksToStart.map((e=>e.name)),n=a.map((e=>`"${e}"`)),r=a.length>1;return e(r?".contentKeyErrorBodyMultiple":".contentKeyErrorBody",[n.join(", ")])}),[e],[t]),n=(0,l.useFacetCallback)((e=>()=>e.clearStartLocalWorldResult()),[],[t]);return r.createElement($E,{onOverlayClick:n,defaultFocusAlias:fO},r.createElement($E.Header,{onClose:n},e(".contentKeyErrorTitle")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a,gamepadIndex:0,center:!0},a)),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:fO,variant:"secondary",inputLegend:e("PlatformLockedModal.closeInputLegend"),onClick:n},e("PlatformLockedModal.closeInputLegend"))))})),EO="create-on-realms-error-back",hO=yp((()=>{const{t:e}=Fc("CreateNewWorld"),t=(0,l.useSharedFacet)(Ni),a=(0,l.useFacetCallback)((e=>()=>{e.clearErrors()}),[],[t]),n=(0,l.useFacetMap)((t=>{switch(t.createOnRealmsError){case Ai.UNASSIGNED_DEV_VERSION:return{title:e(".createOnRealmsError.unassignedDevVersion.title"),message:e(".createOnRealmsError.unassignedDevVersion.message"),message2:e(".createOnRealmsError.unassignedDevVersion.message2")};case Ai.MEMBER_OF_TOO_MANY_REALMS:return{title:e(".createOnRealmsError.memberOfTooManyRealms.title"),message:e(".createOnRealmsError.memberOfTooManyRealms.message"),message2:""};case Ai.CANNOT_CONNECT_TO_REALM:return{title:e(".createOnRealmsError.cannotConnectToRealm.title"),message:e(".createOnRealmsError.cannotConnectToRealm.message"),message2:""};case Ai.CROSS_PLATFORM_RESTRICTED:return{title:e(".createOnRealmsError.crossPlatformRestricted.title"),message:e(".createOnRealmsError.crossPlatformRestricted.message"),message2:e(".createOnRealmsError.crossPlatformRestricted.message2")};case Ai.UNKNOWN:default:return{title:e(".createOnRealmsError.unknown.title"),message:e(".createOnRealmsError.unknown.message"),message2:""}}}),[e],[t]),o=(0,l.useFacetMap)((e=>e.title),[],[n]),i=(0,l.useFacetMap)((e=>e.message),[],[n]),c=(0,l.useFacetMap)((e=>e.message2),[],[n]),s=(0,l.useFacetMap)((e=>""!=e.message2),[],[n]);return r.createElement($E,{defaultFocusAlias:EO},r.createElement($E.Header,{onClose:a},o),r.createElement($E.Content,null,r.createElement(l.Mount,{when:s,condition:!1},r.createElement($E.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),r.createElement(l.Mount,{when:s,condition:!0},r.createElement($E.Paragraphs,{narrationText:`${i}. ${c}`,spaceBetweenParagraphs:5,gamepadIndex:0},r.createElement(zm,{type:"captionLong",align:"center"},i),r.createElement(zm,{type:"captionLong",align:"center"},c)))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:EO,inputLegend:e(".createOnRealmsError.close"),variant:"secondary",onClick:a},e(".createOnRealmsError.close"))))})),bO="create-world-error-back",vO=yp((function(){const{t:e}=Fc("CreateNewWorld"),t=(0,l.useSharedFacet)(Ni),a=(0,l.useFacetCallback)((e=>()=>{e.clearErrors()}),[],[t]),n=(0,l.useFacetMap)((e=>e.createWorldError),[],[t]),o=(0,l.useFacetMap)((t=>{switch(t){case Oi.NOT_ENOUGH_STORAGE:return{title:e(".createWorldError.notEnoughStorage.title"),message:e(".createWorldError.notEnoughStorage.message")};case Oi.MISSING_CONTENT_KEY:default:return{title:e(".resourcePacks.contentKeyErrorTitle"),message:e(".resourcePacks.contentKeyErrorBodyNoName")}}}),[e],[n]),i=(0,l.useFacetMap)((e=>e.title),[],[o]),c=(0,l.useFacetMap)((e=>e.message),[],[o]);return r.createElement($E,{defaultFocusAlias:bO},r.createElement($E.Header,{onClose:a},i),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:c,center:!0},c)),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:bO,inputLegend:e(".createWorldError.close"),variant:"secondary",onClick:a},e(".createWorldError.close"))))})),yO=a.p+"assets/hardcore-heart-white-6b3814c00ab5446aa7ac.png";function FO({worldId:e,screen:t,button:a,telemetryLocation:n}){const r=(0,l.useSharedFacet)(Ic),o=vd(),i=(0,l.useFacetMap)((e=>e.joinRealmTaskState),[],[r]),c=Vk((e=>function*(t){e.joinRealmWorld(t,n),yield i,e.clearJoinRealmTaskState()}),[i,n],[r]);return(0,l.useFacetCallback)((e=>()=>{o({screen:t,button:a,details:{realmId:e}}),c(e)}),[c,o,t,a],[e])}const SO="hardcore-mode-world-warning-modal-play",CO=yp((({onCancel:e,onSubmit:t})=>{const{t:a}=Fc("CreateNewWorld.hardcoreModeWorldModal"),[n,o]=(0,l.useFacetState)(!1),i=(0,l.useSharedFacet)(xc),c=(0,l.useFacetCallback)(((a,n)=>()=>{n&&(a.doNotShowHardcoreModeWarning=!0),t(),e()}),[e,t],[i,n]);return r.createElement($E,{defaultFocusAlias:SO},r.createElement($E.Header,{onClose:e},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:a(".body")},a(".body")),r.createElement(Nm,{size:2}),r.createElement($E.OrderedList,{items:(0,l.useFacetWrap)([a(".bodyListItem1"),a(".bodyListItem2"),a(".bodyListItem3")]),gamepadIndex:1}),r.createElement(Nm,{size:6})),r.createElement($E.Buttons,{header:r.createElement($E.Checkbox,{value:n,onChange:o,title:a(".doNotShowAgain")})},r.createElement(Ug,{gamepadAlias:SO,inputLegend:a(".createWorld"),variant:"primary",delayedClick:!0,onClick:c,imgSrc:yO},a(".createWorld")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:a(".goBack"),variant:"secondary",delayedClick:!0,onClick:e},a(".goBack"))))}));function MO(){const e=p(),t=f(),a=CO.useModal(!0),n=g(),o=FO({worldId:(0,l.useFacetMap)((e=>{var t;return null!==(t=e.realmId)&&void 0!==t?t:""}),[],[n]),screen:"HardcoreModeWorldWarningModal",button:"PlayNow",telemetryLocation:Pc.PlayScreen}),i=(0,l.useFacetMap)(((e,t)=>e&&t),[],[t,a.isVisible]),c=(0,r.useCallback)((()=>{e.goBack()}),[e]),s=(0,r.useCallback)((()=>{e.goBack(),o()}),[e,o]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:i},r.createElement(CO.Component,{onSubmit:s,onCancel:c})))}yp((({title:e,description:t})=>r.createElement($E,null,r.createElement($E.Header,null,e),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:t,gamepadIndex:0,center:!0},t)))));const wO="leaving-cnw-for-marketplace-modal-cancel",kO=yp((({onAccept:e})=>{const{t}=Fc("CreateNewWorld.leavingCNWForMarketplaceModal"),a=vp();return r.createElement($E.Overlay,{onClick:a},r.createElement($E,{defaultFocusAlias:wO},r.createElement($E.Header,{onClose:a},t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:t(".message"),gamepadIndex:0,center:!0},t(".message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,gamepadAlias:wO,inputLegend:t(".cancel"),variant:"secondary",onClick:a},t(".cancel")),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:1,inputLegend:t(".continue"),variant:"primary",onClick:()=>{e(),a()}},t(".continue")))))})),TO="lyc-modal-continue",PO=yp((({onLeave:e})=>{const{t}=Fc("CreateNewWorld.loseYourChangesModal"),a=vp();return r.createElement($E,{defaultFocusAlias:TO},r.createElement($E.Header,{onClose:a},t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:t(".message"),gamepadIndex:0,center:!0},t(".message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,gamepadAlias:TO,inputLegend:t(".continueInputLegend"),variant:"secondary",onClick:a},t(".continueButton")),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:1,inputLegend:t(".leaveInputLegend"),variant:"destructive",onClick:()=>{a(),e()}},t(".leaveButton"))))})),IO="mpl-modal-go-back",xO=yp((({multiplayerData:e,activePacks:t,onDeactivatePack:a})=>{const{t:n}=Fc("CreateNewWorld.multiplayerPlatformLockedModal"),o=vp(),i=(0,l.useFacetMap)((e=>jw(e,(e=>e.isPlatformLocked))),[],[t]),c=(0,l.useFacetMap)((e=>e.length>1?n(".titlePlural"):n(".titleSingular")),[n],[i]),s=(0,l.useFacetMap)((e=>{var t,a;return e.length>1?n(".messagePlural",[FT(e,1).map((e=>e.name)).join(", "),null===(t=e[0])||void 0===t?void 0:t.name]):n(".messageSingular",[null===(a=e[0])||void 0===a?void 0:a.name])}),[n],[i]),u=(0,l.useFacetMap)((e=>e.length>1?n(".removeButtonPlural"):n(".removeButtonSingular")),[n],[i]),d=(0,l.useFacetCallback)(((e,t)=>()=>{o(),a&&t.forEach((e=>a(e.id,ad.Resource))),e.multiplayerGame=!0}),[o,a],[e,i]);return r.createElement($E,{defaultFocusAlias:IO},r.createElement($E.Header,{onClose:o},c),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:s,gamepadIndex:0},s)),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,inputLegend:n(".removeInputLegend"),variant:"primary",onClick:d},u),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:1,gamepadAlias:IO,inputLegend:n(".closeInputLegend"),variant:"secondary",onClick:o},n(".goBackButton"))))})),AO="stay-button-alias",OO=yp((({optOutCallback:e,closeModal:t})=>{const{t:a}=Fc("CreateNewWorld.optBackModal");return r.createElement($E,{onOverlayClick:t,defaultFocusAlias:AO},r.createElement($E.Header,{onClose:t},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a(".message"),center:!0},a(".message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:AO,inputLegend:a(".stayInputLegend"),variant:"primary",onClick:t},a(".stayButton")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:a(".goBackInputLegend"),variant:"secondary",onClick:()=>{t(),e()}},a(".goBackButton"))))})),NO="rpl-modal-go-back",RO=yp((({packId:e,onAccept:t})=>{const{t:a}=Fc("CreateNewWorld.resourcePacksDependencyWarningModal"),n=a(".body"),l=a(".activatePackButton"),o=vp();return r.createElement($E,{onOverlayClick:o,defaultFocusAlias:NO},r.createElement($E.Header,{onClose:o},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:n,gamepadIndex:0,center:!0},n)),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,gamepadAlias:NO,inputLegend:a(".closeInputLegend"),variant:"primary",onClick:o},a(".goBackButton")),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:1,inputLegend:l,onClick:()=>{o(),t(e)}},l)))})),LO="rpdl-modal-accept",_O=yp((({packId:e,packName:t,packSize:a,supportsSizeQuery:n,availableSize:o,onAccept:i})=>{const{t:c}=Fc("CreateNewWorld.packDownloadModal"),s=(0,l.useFacetMap)((e=>c(".confirmationBodyActivate",[e])),[c],[t]),u=c(".confirmationBodyPackSize",[a]),d=(0,l.useFacetMap)((e=>c(".confirmationBodyAvailableSize",[e])),[c],[o]),m=vp(),p=(0,l.useFacetCallback)((t=>()=>{i(e,t),m()}),[i,m,e],[t]);return r.createElement($E,{defaultFocusAlias:LO},r.createElement($E.Header,{onClose:m},c(".confirmationTitle")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:s},s),r.createElement($E.Paragraphs,{narrationText:`${u}. ${d}`,spaceBetweenParagraphs:1,gamepadIndex:1},r.createElement(zm,{type:"captionLong"},u),r.createElement(l.Mount,{when:n},r.createElement(zm,{type:"captionLong"},d)))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:LO,gamepadIndex:0,inputLegend:c(".confirmationDownloadAndActivateButton"),onClick:p,variant:"primary"},c(".confirmationDownloadAndActivateButton")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:c(".confirmationCancelButton"),onClick:m,gamepadIndex:1},c(".confirmationCancelButton"))))})),DO="rpdl-modal-accept",WO=(yp((({worldId:e,packIds:t,packNames:a,packSizes:n,availableSize:o,onAccept:i})=>{const{t:c}=Fc("CreateNewWorld.packDownloadModal"),s=a.map((e=>`"${e}"`)),u=t.length>1,d=c(u?".confirmationBodyMultiple":".confirmationBody",[s.join(", ")]),m=c(".confirmationBodyPackSize",[n]),p=(0,l.useFacetMap)((e=>c(".confirmationBodyAvailableSize",[e])),[c],[o]),f=vp(),g=(0,r.useCallback)((()=>{i(e,t),f()}),[i,f,e,t]);return r.createElement($E,{defaultFocusAlias:DO},r.createElement($E.Header,{onClose:f},c(".confirmationTitleAlt")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:d},d),r.createElement($E.Paragraphs,{narrationText:`${m} . ${p}`,spaceBetweenParagraphs:1,gamepadIndex:1},r.createElement(zm,{type:"captionLong"},m),r.createElement(zm,{type:"captionLong"},p))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:DO,gamepadIndex:0,inputLegend:c(".confirmationDownloadButton"),onClick:g,variant:"primary"},c(".confirmationDownloadButton")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:c(".confirmationCancelButton"),onClick:f,gamepadIndex:1},c(".confirmationCancelButton"))))})),"rpdl-modal-cancel"),BO=yp((()=>{const{t:e}=Fc("CreateNewWorld.resourcePacks"),t=(0,l.useSharedFacet)(od),a=(0,l.useFacetMap)((e=>e.packDownloadError),[],[t]),n=(0,l.useFacetMap)((e=>e.packDownloadErrorData.storageSpaceNeeded),[],[t]),o=(0,l.useFacetMap)((e=>e.packDownloadErrorData.packTitles),[],[t]),i=(0,l.useFacetCallback)((e=>()=>{e.cancelPackDownload(),e.getPackSizesReset()}),[],[t]),c=(0,l.useFacetMap)((t=>t===ld.MissingDlcWorldTemplate?e(".downloadWorldTemplateNoInternetTitle"):t===ld.NoInternet?e(".downloadNoInternetTitle"):t===ld.InitializationTimeout?e(".initializationTimeoutTitle"):t===ld.HasPerformanceIssues?e(".errorIncompatibleDeviceTitle"):t===ld.NotEnoughDiskSpace?e(".errorNotEnoughDiskSpaceTitle"):e(".errorUnknownTitle")),[e],[a]),s=(0,l.useFacetMap)(((t,a,n)=>t===ld.MissingDlcWorldTemplate?e(".downloadWorldTemplateNoInternetMsg"):t===ld.NoInternet?e(".connectionFailedBody"):t===ld.InitializationTimeout?e(".initializationTimeoutBody"):t===ld.HasPerformanceIssues?e(".errorIncompatibleDeviceBody"):t===ld.NotEnoughDiskSpace?e(".errorNotEnoughDiskSpaceBody",[a,n.length>0?n[0]:""]):e(".errorUnknownBody")),[e],[a,n,o]),u=(0,l.useFacetMap)((t=>t===ld.InitializationTimeout?e(".initializationTimeoutButton"):e(".goBackButton")),[e],[a]),d=(0,l.useFacetMap)((t=>t===ld.MissingDlcWorldTemplate?e(".downloadWorldTemplateMsgRemovePacks"):""),[e],[a]),m=(0,l.useFacetUnwrap)(a)===ld.MissingDlcWorldTemplate;return r.createElement($E,{defaultFocusAlias:WO},r.createElement($E.Header,{onClose:i},c),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:s,center:!m},s),m&&r.createElement($E.Text,{gamepadIndex:1,narrationText:d,center:!0},d)),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:WO,inputLegend:u,onClick:i},u)))})),UO="rpdl-modal-close",zO="rpdl-modal-content",HO=yp((({title:e,percentage:t,isImportingPack:a,onCancel:n=(()=>{})})=>{const{t:o}=Fc("CreateNewWorld.packDownloadModal"),i=(0,l.useFacetMap)((e=>o(e?".importingProgressLabel":".downloadingProgressLabel")),[o],[a]),c=dn(),s=Ce();return(0,l.useFacetEffect)((e=>{e&&c&&s(zO)}),[s,c],[a]),r.createElement($E,{defaultFocusAlias:UO},r.createElement($E.Header,{onClose:n,titlebarGamepadAlias:UO,hideCloseButton:a},e),r.createElement($E.Content,{gamepadAlias:zO},r.createElement($E.Text,{gamepadIndex:0,narrationText:i,center:!0},i),r.createElement($E.Progress,{percentage:t})))})),jO="rpdl-modal-cancel",VO=yp((({errorCode:e})=>{const{t}=Fc("CreateNewWorld.resourcePacks"),a=vp(),n=e===rd.NoManifest||e===rd.MissingProperty||e===rd.WrongTypeProperty||e===rd.EmptyProperty||e===rd.InvalidProperty||e===rd.InvalidJSON||e===rd.MalformedPropertyUUID||e===rd.MalformedPropertyVERSION||e===rd.DuplicateUUID||e===rd.MissingModules||e===rd.MultipleModules||e===rd.UnsupportedFormatVersion,l=e===rd.ContentTierIncompatible?t(".errorIncompatibleDeviceTitle"):e===rd.ContentTierIncompatibleMemory?t(".errorIncompatibleMemoryTitle"):e===rd.ContentTierIncompatibleRayTracing?t(".errorIncompatibleRayTracingTitle"):e===rd.PackSelectErrorNoStore?t(".errorNoStoreTitle"):e===rd.PackSelectErrorRequiredDependency?t(".errorRequiredDependencyTitle"):e===rd.NoPackAccess?t(".errorFileAccessTitle"):e===rd.VersionTooHigh||e===rd.VersionTooLow?t(".errorIncompatibleVersionTitle"):e===rd.IncompletePack?t(".errorIncompleteTitle"):e===rd.UnsupportedFileFormat?t(".errorUnsupportedFormatTitle"):e===rd.InitializationTimeout?t(".errorInitializationTimeoutTitle"):t(n?".errorReadingTitle":".errorUnknownTitle"),o=e===rd.ContentTierIncompatible?t(".errorIncompatibleDeviceBody"):e===rd.ContentTierIncompatibleMemory?t(".errorIncompatibleMemoryBody"):e===rd.ContentTierIncompatibleRayTracing?t(".errorIncompatibleRayTracingBody"):e===rd.PackSelectErrorNoStore?t(".errorNoStoreBody"):e===rd.PackSelectErrorRequiredDependency?t(".errorRequiredDependencyBody"):e===rd.NoPackAccess?t(".errorFileAccessBody"):e===rd.VersionTooHigh?t(".errorIncompatibleVersionHighBody"):e===rd.VersionTooLow?t(".errorIncompatibleVersionLowBody"):e===rd.IncompletePack?t(".errorIncompleteBody"):e===rd.UnsupportedFileFormat?t(".errorUnsupportedFormatBody"):e===rd.InitializationTimeout?t(".errorInitializationTimeoutBody"):t(n?".errorReadingBody":".errorUnknownBody"),i=e===rd.InitializationTimeout?t(".errorInitializationTimeoutButton"):t(".goBackButton");return r.createElement($E,{defaultFocusAlias:jO},r.createElement($E.Header,{onClose:a},l),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:o},o)),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:jO,inputLegend:i,onClick:a},i)))})),GO="rpl-modal-go-back",$O=yp((({multiplayerData:e,packId:t,packName:a,packSize:n,packType:o,onActivatePack:i})=>{const{t:c}=Fc("CreateNewWorld.resourcePacksPlatformLockedModal"),s=(0,l.useFacetMap)((e=>c(".body",[e])),[c],[a]),u=vp();return r.createElement($E,{onOverlayClick:u,defaultFocusAlias:GO},r.createElement($E.Header,{onClose:u},c(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:s,gamepadIndex:0,center:!0},s)),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,inputLegend:c(".removeInputLegend"),variant:"primary",onClick:()=>{e.multiplayerGame=!1,i(t,o,a,n),u()}},c(".turnOffMultiplayerAndApplyPackButton")),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:1,gamepadAlias:GO,inputLegend:c(".closeInputLegend"),variant:"secondary",onClick:u},c(".goBackButton"))))})),KO="create-world-platform-guest-modal",YO=yp((({onClose:e,mode:t})=>{const{t:a}=Fc("CreateNewWorld"),n=function(e){const{t}=Fc("CreateNewWorld"),a=p(),n=vd();return(0,l.useFacetMap)((e=>"nintendoGuestCreateWorld"===e?{message:t(".signInPromptWorldOnRealmModal.platformGuestCreate.nintendo.message")}:"nintendoGuestEditWorld"===e?{message:t(".signInPromptWorldOnRealmModal.platformGuestEdit.nintendo.message")}:"playstationGuestCreateWorld"===e?{message:t(".signInPromptWorldOnRealmModal.platformGuestCreate.playStation.message")}:"playstationGuestEditWorld"===e?{message:t(".signInPromptWorldOnRealmModal.platformGuestEdit.playStation.message")}:"msaGuestEditWorld"===e?{onSignIn:()=>{n({screen:"EditWorld",button:"SignIn"}),a.replace("/sign-in?signInSource=EditWorld_PlayOnRealm_SignInPrompt_OreUI")},message:t(".signInPromptWorldOnRealmModal.msaGuestEditWorld.message")}:{onSignIn:()=>{n({screen:"CreateNewWorld",button:"SignIn"}),a.replace("/sign-in?signInSource=CreateNewWorld_CreateOnRealm_SignInPrompt_OreUI")},message:t(".signInPromptWorldOnRealmModal.msaGuestCreateWorld.message")}),[t,a,n],[e])}((0,l.useFacetMap)(((e,a)=>Tk(e.platform)&&!a.isSignedInPlatformNetwork?t!==eI.CREATE?"playstationGuestEditWorld":"playstationGuestCreateWorld":Ik(e.platform)&&!a.isSignedInPlatformNetwork?t!==eI.CREATE?"nintendoGuestEditWorld":"nintendoGuestCreateWorld":t!==eI.CREATE?"msaGuestEditWorld":"msaGuestCreateWorld"),[t],[(0,l.useSharedFacet)(dl),(0,l.useSharedFacet)(Wu)]));return r.createElement(xl,{data:n},(t=>r.createElement($E,{defaultFocusAlias:KO},r.createElement($E.Header,{onClose:e},a(".signInPromptWorldOnRealmModal.title")),r.createElement($E.Content,null,r.createElement($E.Text,{center:!0,gamepadIndex:0,narrationText:t.message},t.message)),r.createElement($E.Buttons,null,t.onSignIn&&r.createElement(r.Fragment,null,r.createElement(Ug,{"data-testid":"sign-in-prompt",inputLegend:a(".signInPromptWorldOnRealmModal.signIn"),variant:"primary",onClick:t.onSignIn},a(".signInPromptWorldOnRealmModal.signIn")),r.createElement(Nm,{size:1})),r.createElement(Ug,{"data-testid":"cancel",gamepadAlias:KO,inputLegend:a(".signInPromptWorldOnRealmModal.cancel"),variant:"secondary",onClick:e},a(".signInPromptWorldOnRealmModal.cancel"))))))})),XO=yp((({onUnlockTemplateSettings:e,mainButtonAlias:t})=>{const{t:a}=Fc("CreateNewWorld"),n=Ce(),l=vp(),o="pop-up-modal-keepSettings";return r.createElement($E,{defaultFocusAlias:o},r.createElement($E.Header,{onClose:l},a(".unlockSettingsModal.title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a(".unlockSettingsModal.message"),gamepadIndex:0,center:!0},a(".unlockSettingsModal.message"))),r.createElement($E.Buttons,null,r.createElement(lO,{options:{index:1}},r.createElement(Qf,{options:{index:0}},r.createElement(Ug,{gamepadAlias:o,inputLegend:a(".unlockSettingsModal.keepSettings"),variant:"primary",onClick:l},a(".unlockSettingsModal.keepSettings")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:a(".unlockSettingsModal.unlock"),onClick:()=>{e(),l(),null!=t&&n(t)},gamepadAlias:"pop-up-modal-unlockSettings"},a(".unlockSettingsModal.unlock"))))),r.createElement(qf,{options:{button:j.B,inputLegend:a(".unlockSettingsModal.keepSettings")},onClick:l}))})),qO=yp((({onClose:e})=>{const{t}=Sc("PacksLoadingModal");return r.createElement($E,null,r.createElement($E.Header,{onClose:e},t(".title")),r.createElement($E.Content,null,r.createElement($E.Spinner,null)))})),QO=a.p+"assets/trial-mode-art-4074416ab6dd83b5f146.png",ZO="buy-minecraft-button",JO=yp((({onClose:e,worldSettingsMode:t})=>{const{t:a}=Fc("TrialModeModal"),n=t===eI.CREATE?"CreateNewWorld":"EditWorld",l=XP(),o=vd(),i=a(".firstParagraph"),c=a(".secondParagraph"),s=a(".thirdParagraph"),u=(0,r.useCallback)((()=>{o({button:"BuyMinecraft",screen:`ReadMoreTrialMode_${n}`}),l()}),[o,l,n]);return r.createElement($E,{onOverlayClick:e,defaultFocusAlias:ZO},r.createElement($E.Header,{onClose:e},a(".title")),r.createElement($E.Content,null,r.createElement(Qp,{src:QO,imageRendering:"pixelated",className:"c4872baec8bd1d123de5"}),r.createElement($E.Paragraphs,{narrationText:`${i} . ${c} . ${s}`,spaceBetweenParagraphs:4},r.createElement(zm,{type:"captionLong"},i),r.createElement(zm,{type:"captionLong"},c),r.createElement(zm,{type:"captionLong"},s))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:ZO,inputLegend:a(".buyMinecraft"),variant:"primary",onClick:u,"data-testid":"trial-mode-modal-buy-minecraft",Icon:xM.ExternalLink},a(".buyMinecraft"))))})),eN="fc36e270808625468328",tN="achievements-permanently-disabled-back",aN=yp((({onClose:e})=>{const{t}=Fc("AchievementPermanentlyDisabledModal"),a=t(".description"),n=t(".reasonText"),l=[t(".creative"),t(".flat"),t(".cheats"),t(".permissions"),t(".experiments"),t(".trial"),t(".pack"),t(".template")];return r.createElement($E,{onOverlayClick:e,defaultFocusAlias:tN},r.createElement($E.Header,{onClose:e},t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a},a),r.createElement($E.Text,{narrationText:n},n),r.createElement($E.List,{items:l}),r.createElement(Nm,{size:4})),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:tN,inputLegend:t(".close"),variant:"secondary",onClick:e},t(".close"))))})),nN=a.p+"assets/settings-icon-af819edcc21a62294086.png",rN=[".bytes",".kilobytes",".megabytes",".gigabytes",".terabytes",".petabytes"];function lN({role:e="neutral80",labelFull:t,labelLow:a}){const{t:n}=Fc("StorageIndicator"),o=(0,l.useSharedFacet)(dl),i=Jr(),c=(0,l.useFacetMap)((({storageUsed:e,storageSize:t})=>t<=0?1:e/t),[],[o]),s=function(){const{t:e}=Fc("StorageIndicator");return(0,r.useCallback)((t=>function(e,t){if(e<=0)return t(rN[0],["0"]);const a=Math.floor(Math.log(e)/Math.log(1024)),n=parseFloat((e/Math.pow(1024,a)).toFixed(2)).toString(),r=Math.max(0,Math.min(a,rN.length-1));return t(rN[r],[n])}(t,e)),[e])}(),u=(0,l.useFacetMap)((({storageSize:e,storageUsed:t})=>n(".storageSpace",[s(Math.max(0,t)),s(Math.max(0,e))])),[n,s],[o]),d=(0,l.useFacetMap)((({isStorageFull:e,storageSize:t,storageUsed:a})=>e||t<=0||a>=t),[],[o]),m=(0,l.useFacetMap)((e=>e?t:a),[t,a],[d]),p=wr(e),f=kr("success"),g=kr("notice"),E=kr("noticeTint"),h=kr("destructive"),b=(0,l.useFacetMap)((({isStorageLow:e},t)=>{var a,n,r;return t?null!==(a=h.background.default)&&void 0!==a?a:"var(--red50)":e?null!==(n=g.background.default)&&void 0!==n?n:"var(--orange20)":null!==(r=f.background.default)&&void 0!==r?r:"var(--green50)"}),[f,g,h],[o,d]);return r.createElement(Zn,{role:e},r.createElement("div",{className:zr()("ab7b88b9bb389d801163",p.border.base,p.background.base)},r.createElement("div",{className:"badb53b38c5e2c1e22bd"},r.createElement(xM.Warning,{color:E.background.default})),r.createElement("div",{className:"e19a861d846cec66cdcd"},r.createElement("div",{className:zr()("a00f6774a61afe9f17ab",p.border.base)},r.createElement(zm,{type:"secondaryButton"},m),r.createElement(Nm,{size:2}),r.createElement(Zg,{percentage:c,fillColor:b}),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionShort"},u)),r.createElement(Tp,{className:zr()("fa8898a90166a21f7c8b",p.bevel.base),inputLegend:n(".storage"),narrationText:n(".storage"),onClick:()=>{i.push("/settings/storage")},role:e},r.createElement(Qp,{src:nN,className:"ba7495d29979ed4b3e8d",imageRendering:"pixelated"}),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"captionTiny",align:"center"},n(".storage"))))))}let oN;!function(e){e[e.None=0]="None",e[e.ExitToMenu=1]="ExitToMenu",e[e.ExitToJoinGame=2]="ExitToJoinGame",e[e.DownloadWorld=3]="DownloadWorld"}(oN||(oN={}));const iN=(0,l.sharedFacet)("vanilla.worldRealmEditorCommands");let cN,sN;!function(e){e[e.Unknown=0]="Unknown",e[e.Idle=1]="Idle",e[e.Fetching=2]="Fetching",e[e.Posting=3]="Posting",e[e.Resetting=4]="Resetting",e[e.Replacing=5]="Replacing"}(cN||(cN={})),function(e){e[e.NoAction=0]="NoAction",e[e.InProgress=1]="InProgress",e[e.Done=2]="Done",e[e.GenericError=3]="GenericError"}(sN||(sN={}));const uN=(0,l.sharedFacet)("vanilla.worldRealmEditorQueries"),dN=(0,l.sharedFacet)("vanilla.realmBackupsCommands");let mN;!function(e){e[e.Unknown=0]="Unknown",e[e.Idle=1]="Idle",e[e.Fetching=2]="Fetching",e[e.DownloadChecking=3]="DownloadChecking",e[e.DownloadError=4]="DownloadError"}(mN||(mN={}));const pN=(0,l.sharedFacet)("vanilla.realmBackupsQueries");function fN(){const e=function(e){switch(e){case eI.CREATE:return Ni;case eI.EDIT:return Ku;case eI.EDIT_REALM:return uN}}((0,r.useContext)(tI)),t=(0,l.useSharedFacet)(e);return(0,l.useFacetMap)((e=>{if("worldData"in e)return e.worldData;if("realmWorldData"in e)return e.realmWorldData;throw new Error("The facet has no world data")}),[],[t])}let gN;!function(e){e.GENERAL_TAB="generalTab",e.ADVANCED_TAB="advancedTab",e.CHEATS_TAB="cheatsTab"}(gN||(gN={}));const EN=({achievementsDisabledMessages:e,isEditorWorld:t})=>{const{t:a}=Fc("Notifications"),n=(0,r.useContext)(tI)!==eI.CREATE,o=(0,l.useSharedFacet)(Bu),i=fN(),c=(0,l.useFacetMap)((e=>e.achievementsDisabled),[],[i]),s=sO.useModal(),u=aN.useModal(),d=(0,l.useFacetMap)((e=>e.achievementsPermanentlyDisabled),[],[i]),m=(0,l.useFacetMap)(((e,t,a,n)=>(e||n)&&!t&&!a),[],[c,t,o,d]),p=(0,l.useFacetCallback)((e=>()=>{e?u.show():s.show()}),[s,u],[d]);return r.createElement(l.Mount,{when:m},r.createElement(r.Fragment,null,r.createElement(Fg,{compact:!0},r.createElement("div",{className:eN},r.createElement(AP,{role:"neutral100",icon:r.createElement(xM.AchievementsBottle,{height:24,width:24,role:"neutral",variant:"dimmest"})},r.createElement(AP.Text,null,a(".achievementsDisabled")),r.createElement(AP.Link,{"data-testId":"achievement-disabled-read-more",onClick:p},a(".readMoreLink"))))),r.createElement(l.Mount,{when:s.isVisible},r.createElement(sO.Component,{onClose:s.hide,reasons:e,isEditWorld:n})),r.createElement(l.Mount,{when:u.isVisible},r.createElement(aN.Component,{onClose:u.hide}))))},hN=({addonStackingWarningEnabled:e,isEditorWorld:t})=>{const{t:a}=Fc("Notifications"),n=(0,r.useContext)(tI)===eI.EDIT,o=yd(),i=(0,l.useFacetWrap)(null!=e&&e),c=(0,l.useFacetMap)(((e,t)=>e&&!t),[],[i,t]),s=dO.useModal(),u=(0,r.useCallback)((()=>{o({modal:"AddonStackingWarningModal",screen:n?"EditWorld":"CreateNewWorld"}),s.show()}),[o,n,s]);return r.createElement(l.Mount,{when:c},r.createElement(r.Fragment,null,r.createElement(Fg,{compact:!0},r.createElement("div",{className:eN},r.createElement(AP,{role:"noticeTint",gamepadIndex:0},r.createElement(Nm,{size:2}),r.createElement(AP.Text,null,a(".addonStacking")),r.createElement(AP.Link,{"data-testId":"addon-stacking-warning-link",onClick:u,gamepadIndex:0},a(".addonStackingLink"))))),r.createElement(l.Mount,{when:s.isVisible},r.createElement(dO.Component,{onAccept:s.hide,onCancel:s.hide}))))},bN=({})=>{const{t:e}=Fc("Notifications"),t=p(),a=(0,r.useContext)(tI),n=a!==eI.CREATE,o=JO.useModal(),i=yd(),c=tv(tc),s=(0,l.useSharedFacet)(Bu),u=(0,l.useFacetCallback)((e=>()=>{var a,r;c?(i({modal:"ReadMoreTrialMode",screen:n?"EditWorld":"CreateNewWorld"}),o.show()):t.push(`/tabbed-upsell?tab=${a=e.tab,null!==(r={general:yu.MINECRAFT,"resource-packs":yu.PACKS,cheats:yu.MINECRAFT,experimental:yu.MINECRAFT,multiplayer:yu.MULTIPLAYER,advanced:yu.SEEDS,"behavior-packs":yu.PACKS}[a])&&void 0!==r?r:yu.MINECRAFT}`)}),[c,i,n,o,t],[g()]);return r.createElement(l.Mount,{when:s},r.createElement(r.Fragment,null,r.createElement(Fg,{compact:!0},r.createElement("div",{className:eN},r.createElement(AP,{role:"informative",gamepadIndex:1,icon:r.createElement(xM.Locked,{width:24,height:24})},r.createElement(AP.Text,null,e(".inTrialMode")),r.createElement(AP.Link,{onClick:u,gamepadIndex:0,"data-testId":"trial-mode-read-more"},e(".readMoreLink"))))),r.createElement(l.Mount,{when:o.isVisible},r.createElement(JO.Component,{worldSettingsMode:a,onClose:o.hide}))))},vN=({multiplayerWarningState:e})=>{const{t}=Fc("Notifications"),a=p(),n=(0,l.useFacetMap)((e=>e.platform),[],[(0,l.useSharedFacet)(dl)]),o=(0,l.useFacetMap)((a=>e?function(e,t,a){if(e===Ec.CHECK_INTERNET_CONNECTION)return a(".multiplayerWarnings.checkInternetConnection");if(e===Ec.LOCAL_MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY)return a(".multiplayerWarnings.nintendoLocalMultiplayerPrivilegesBlockedThirdParty");if(e===Ec.MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY){if(Tk(t))return a(".multiplayerWarnings.playstationMultiplayerPrivilegesBlockedThirdParty");if(Ik(t))return a(".multiplayerWarnings.nintendoMultiplayerPrivilegesBlockedThirdParty")}return e===Ec.MULTIPLAYER_PRIVILEGES_BLOCKED?a(".multiplayerWarnings.multiplayerPrivilegesBlocked"):e===Ec.MULTIPLAYER_PRIVILEGES_BLOCKED_ON_CONSOLE?a(".multiplayerWarnings.multiplayerPrivilegesBlockedOnConsole"):e===Ec.CROSS_PLATFORM_DISABLED?a(".multiplayerWarnings.playstationCrossPlatformDisabled"):e===Ec.NON_MULTIPLAYER_SKIN_EQUIPPED?a(".multiplayerWarnings.nonMultiplayerSkinEquipped"):""}(e,a,t):""),[t,e],[n]),i=(0,l.useFacetMap)((e=>e.length>0),[],[o]),c=(0,l.useFacetMap)((()=>e===Ec.NON_MULTIPLAYER_SKIN_EQUIPPED),[e],[]);return r.createElement(l.Mount,{when:i},r.createElement(Fg,{compact:!0},r.createElement("div",{className:eN},r.createElement(AP,{role:"informative",gamepadIndex:2},r.createElement(AP.Text,null,o),r.createElement(l.Mount,{when:c},r.createElement(AP.Link,{onClick:()=>a.push("/persona"),gamepadIndex:3,"data-testId":"multiplayer-warning-change-skin"},t(".changeSkinLink")))))))},yN=({experimentsWarningEnabled:e})=>{const{t}=Fc("Notifications"),a=fN(),n=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[a]),o=(0,l.useFacetMap)((t=>!t&&!!e),[e],[n]);return r.createElement(l.Mount,{when:o},r.createElement(Fg,{compact:!0},r.createElement("div",{className:eN},r.createElement(AP,{role:"informative",gamepadIndex:4},r.createElement(AP.Text,null,t(".experimentsWarning.informationMessage"))))))},FN=({onUnlockTemplateSettings:e})=>{const{t}=Fc("Notifications"),a=fN(),n=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[a]),o=XO.useShowModal();return r.createElement(l.Mount,{when:n},r.createElement(Fg,{compact:!0},r.createElement("div",{className:eN},r.createElement(AP,{role:"informative",gamepadIndex:5},r.createElement(AP.Text,null,t(".unlockSettingsMessage")),r.createElement(AP.Link,{gamepadIndex:1,onClick:()=>{o({onUnlockTemplateSettings:e,mainButtonAlias:XA})},"data-testId":"unlock-template-settings-link"},t(".unlockSettingsLink"))))))},SN=({})=>{const e=(0,r.useContext)(tI),{t}=Fc("StorageIndicator"),a=(0,l.useFacetMap)((e=>xk(e.platform)&&(e.isStorageLow||e.isStorageFull)),[],[(0,l.useSharedFacet)(dl)]);return r.createElement(l.Mount,{when:a},r.createElement("div",{className:"dcb0fd6b8bd2d938e75e"},r.createElement(lN,{labelFull:e===eI.CREATE?t(".storageLabelFullCreateWorld"):t(".storageLabelFullEnterWorld"),labelLow:e===eI.CREATE?t(".storageLabelAlmostFullCreateWorld"):t(".storageLabelAlmostFullEnterWorld")})))},CN=({hardcoreModeMessageTab:e})=>{const{t}=Fc("Notifications"),a=(0,l.useFacetMap)((e=>e?t(function(e){switch(e){case gN.ADVANCED_TAB:return".hardcoreMode.advancedTab";case gN.CHEATS_TAB:return".hardcoreMode.cheatsTab";default:return".hardcoreMode.generalTab"}}(e)):""),[t],[(0,l.useFacetWrap)(e)]),n=(0,l.useFacetMap)((e=>!!e),[],[a]);return r.createElement(l.Mount,{when:n},r.createElement(Fg,{compact:!0},r.createElement("div",{className:eN},r.createElement(AP,{role:"informative",gamepadIndex:7},r.createElement(AP.Text,null,a)))))},MN=()=>{const e=(0,l.useFacetMap)((e=>e.isBanned),[],[(0,l.useSharedFacet)(Wu)]);return r.createElement(l.Mount,{when:e},r.createElement(Fg,{compact:!0},r.createElement("div",{className:eN},r.createElement(CI,null))))},wN=({children:e})=>r.createElement("div",{className:"ff1f52bd559c0ba5380a"},e),kN=({achievementsDisabledMessages:e,multiplayerWarningState:t,experimentsWarningEnabled:a,onUnlockTemplateSettings:n,isEditorWorld:l,hardcoreModeMessageTab:o,addonStackingWarningEnabled:i=!1})=>r.createElement(wN,null,r.createElement(EN,{isEditorWorld:l,achievementsDisabledMessages:e}),r.createElement(hN,{addonStackingWarningEnabled:i,isEditorWorld:l}),r.createElement(bN,null),r.createElement(vN,{multiplayerWarningState:t}),r.createElement(yN,{experimentsWarningEnabled:a}),r.createElement(FN,{onUnlockTemplateSettings:n}),r.createElement(SN,null),r.createElement(CN,{hardcoreModeMessageTab:o}),r.createElement(MN,null));kN.Wrapper=wN,kN.Achievement=EN,kN.AddonStackingWarning=hN,kN.Trial=bN,kN.MultiplayerWarning=vN,kN.ShowExperiment=yN,kN.LockedTemplate=FN,kN.StorageLow=SN,kN.Hardcore=CN;const TN=kN,PN=(0,r.createContext)((0,l.createFacet)({initialValue:!1}));function IN(){let e=null;return function(t){if(!e)return e=t,!1;if(t.length!==e.length)return e=t,!1;for(const a of t)if(!e.includes(a))return e=t,!1;return!0}}function xN(){const{t:e}=Fc("AchievementDisabledModal"),t=(0,l.useSharedFacet)(Bu),a=fN(),n=function(){const e=function(e){switch(e){case eI.CREATE:return Js;case eI.EDIT:default:return od}}((0,r.useContext)(tI)),t=(0,l.useSharedFacet)(e);return(0,l.useFacetMap)((e=>"worldPacksData"in e?e.worldPacksData:e),[],[t])}(),o=(0,l.useFacetMap)((e=>e.activeBehaviorPacks.length>0),[],[n]),i=(0,l.useFacetMemo)(((t,a,n)=>{const r=[],l=t.general,o=t.advanced,i=t.cheats,c=t.multiplayer,s=t.betaFeatures.some((e=>e.isEnabled));return l.gameMode===Fu.CREATIVE&&r.push(e(".creativeMode")),o.useFlatWorld&&r.push(e(".flatWorld")),i.cheatsEnabled&&r.push(e(".cheatsEnabled")),c.playerPermissions===gc.OPERATOR&&r.push(e(".operator")),s&&r.push(e(".experiments")),n&&r.push(e(".trial")),a&&r.push(e(".behaviorPacks")),t.isUsingTemplate&&r.push(e(".template")),r}),[e],[a,o,t],IN);return i}function AN({children:e,multiplayerWarningState:t,experimentsWarningEnabled:a,nestedRoutes:n,narrationText:o,onUnlockTemplateSettings:i,isEditorWorld:c,hardcoreModeMessageTab:s,addonStackingWarningEnabled:u}){var d;const m=Od(),p=null!==(d=lF())&&void 0!==d&&d,f=jr(),g=(0,r.useMemo)((()=>({clearRememberCache:e=>{}})),[]),E=(0,l.useFacetMap)((e=>!e),[],[f]),h=(0,r.useRef)(null),b=xN(),v=(0,r.useRef)();(0,l.useFacetLayoutEffect)((e=>{e||null==v.current||null==g||g.clearRememberCache(v.current),h.current&&(h.current.scrollTop=0)}),[g],[f]);const y=(0,l.useIsPaused)(),F=(0,l.useFacetMap)(((e,t)=>e||t||y),[y],[(0,r.useContext)(PN),(0,l.useIsDeferring)()]),S=n?Kr:Ny,C=(0,l.useFacetUnwrap)(io()),{t:M}=Fc("CreateNewWorld"),w=`${M(".tabContainerNarrationSuffix")}. ${o}`;return r.createElement(Zf,{text:w},r.createElement(S,{type:"contentful",renderingCompleted:!0}),r.createElement(jf,{gamepadIndex:0,floating:"desktop"!==m,loading:F,disableScrolling:p,innerRef:h,defaultFocusedChildBehavior:"remember",stopCheckingForScroll:E,renderTracker:e=>r.createElement(S,{renderingCompleted:e,type:"meaningful"}),spinnerBackgroundColor:!0===C?void 0:"#48494A",nodeIdRef:v},"desktop"===m&&r.createElement(Nm,{size:2}),y?null:r.createElement(oO,{gamepadIndex:0},r.createElement("div",{className:"desktop"===m?"d22b8facefd6e75503e9":""},r.createElement(l.DeferredMount,null,r.createElement(lO,{options:{index:0}},r.createElement(Qf,{options:{index:0}},r.createElement(TN,{achievementsDisabledMessages:b,multiplayerWarningState:t,experimentsWarningEnabled:a,onUnlockTemplateSettings:i,isEditorWorld:c,hardcoreModeMessageTab:s,addonStackingWarningEnabled:u})))),r.createElement(lO,{options:{index:1}},r.createElement(rx,{shouldSkipLandmarkInVisual:!0},e)))),r.createElement(LE.Space,{extraSpace:r.createElement(Nm,{size:1})})))}const ON=yp((()=>{const{t:e}=Fc("EditWorld.exportingWorldModal");return r.createElement($E,null,r.createElement($E.Header,null,e(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:e(".content"),gamepadIndex:0},e(".content"))))}));function NN(){const e=(0,l.useSharedFacet)(Ku),t=(0,l.useFacetMap)((e=>e.worldData),[],[e]);return{generalData:(0,l.useFacetMap)((e=>e.general),[],[t]),multiplayerData:(0,l.useFacetMap)((e=>e.multiplayer),[],[t]),worldData:t}}function RN(){const e=g();return(0,l.useFacetMap)((e=>decodeURIComponent(e.id)),[],[e])}const LN=yp((()=>{const{generalData:e}=NN(),t=(0,l.useFacetMap)((e=>e.worldName),[],[e]),{t:a}=Fc("CreateNewWorld.duplicateWorld"),n=(0,l.useFacetMap)((e=>a(".header",[e])),[a],[t]);return r.createElement($E,null,r.createElement($E.Header,null,n),r.createElement($E.Content,null,r.createElement($E.Spinner,null)))})),_N=yp((({clearPlayerData:e,closeModal:t})=>{const{t:a}=Fc("EditWorld.clearPlayerDataModal"),n=(0,r.useCallback)((()=>{null!=e&&e(Qu.IncludeLocalUser),t()}),[e,t]),l=(0,r.useCallback)((()=>{null!=e&&e(Qu.SkipLocalUser),t()}),[e,t]);return r.createElement($E,{onOverlayClick:t},r.createElement($E.Header,{onClose:t},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:a(".descriptionOne"),center:!0},a(".descriptionOne")),r.createElement($E.Text,{gamepadIndex:1,narrationText:a(".descriptionTwo"),center:!0},a(".descriptionTwo"))),r.createElement($E.Buttons,null,r.createElement(Ug,{inputLegend:a(".allButton"),onClick:n},a(".allButton")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:a(".keepButton"),onClick:l},a(".keepButton"))))})),DN="lyc-modal-continue",WN=yp((({deleteWorld:e,closeModal:t})=>{const{t:a}=Fc("CreateNewWorld.deleteWorldModal");return r.createElement($E,{onOverlayClick:t,defaultFocusAlias:DN},r.createElement($E.Header,{onClose:t},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a(".message"),gamepadIndex:0},a(".message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,gamepadAlias:DN,inputLegend:a(".continueInputLegend"),variant:"secondary",onClick:t},a(".continueButton")),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:1,inputLegend:a(".deleteInputLegend"),variant:"destructive",onClick:e},a(".deleteButton"))))})),BN="lyc-modal-continue",UN=yp((()=>{const e=Jr(),{t}=Fc("CreateNewWorld.editWorldErrorModal"),a=(0,l.useSharedFacet)(Ku),n=(0,l.useSharedFacet)(td),o=(0,l.useFacetMap)((e=>e.loadWorldError),[],[a]),i=(0,l.useFacetMap)(((e,t)=>t.duplicateWorldError||e.saveLocalWorldError),[],[a,n]),c=(0,l.useFacetMap)(((e,t)=>null!=e||null!=t),[],[o,i]),s=(0,l.useFacetMap)(((e,t,a)=>{if(!a)return null;switch(e){case Vu.IncorrectWorldId:case Vu.UnexpectedError:return"unexpected"}switch(t){case $u.IncorrectWorldId:case $u.UnableToCreateWorldDirectoryPath:return"unexpected";case $u.InsufficientDiskSpace:return"storage"}}),[],[o,i,c]),u=(0,l.useFacetMap)((e=>t("storage"===e?".storageError.title":".unexpectedError.title")),[t],[s]),d=(0,l.useFacetMap)((e=>t("storage"===e?".storageError.description":".unexpectedError.description")),[t],[s]),m=(0,l.useFacetCallback)(((t,a,n)=>()=>{null!=n?e.goBack():null!=a.duplicateWorldError?a.clearDuplicateWorldTaskState():null!=t.saveLocalWorldError&&t.clearSaveLocalWorldTaskState()}),[e],[a,n,o]);return r.createElement($E,{onOverlayClick:m,defaultFocusAlias:BN},r.createElement($E.Header,{onClose:m},u),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:d,gamepadIndex:0,center:!0},d)),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,gamepadAlias:BN,inputLegend:t(".closeButton"),variant:"secondary",onClick:m},t(".closeButton"))))})),zN=yp((()=>{const{t:e}=Fc("CreateNewWorld.savingWorldModal");return r.createElement($E,null,r.createElement($E.Header,null,e(".header")),r.createElement($E.Content,null,r.createElement($E.Spinner,null)))})),HN=yp((()=>{const e=(0,l.useSharedFacet)(td),{t}=Fc("CreateNewWorld.general"),a=(0,l.useFacetMap)((e=>e.makeWorldInfiniteProgress),[],[e]);return r.createElement($E,null,r.createElement($E.Header,null,t(".makingInfiniteWorldProgressModal")),r.createElement($E.Content,null,r.createElement($E.Progress,{percentage:a})))}));let jN;!function(e){e.EditWorldScreen="EditWorld",e.WorldEditingError="WorldEditingError",e.JoinRealmsError="JoinRealmsError",e.ResourcePackDownloadError="ResourcePacksDownloadError",e.UploadRealmsError="UploadRealmsError",e.UnexpectedLaunchError="UnexpectedLaunchError",e.MissingDependencies="MissingDependenciesError"}(jN||(jN={}));const VN="save-changes-modal-continue",GN=yp((({saveChanges:e,closeModal:t,discardChanges:a})=>{const{t:n}=Fc("EditWorld.saveChangesModal"),o=(0,l.useSharedFacet)(pu),i=vd(),c=(0,l.useFacetCallback)((a=>()=>{t(),e(),a.fireEventOptionsChanged(jN.EditWorldScreen),i({button:"SaveChanges",screen:jN.EditWorldScreen})}),[e,t,i],[o]),s=(0,l.useFacetCallback)((e=>()=>{a(),t(),e.discardTrackedOptions(),i({button:"DiscardChanges",screen:jN.EditWorldScreen})}),[a,t,i],[o]);return r.createElement($E,{onOverlayClick:t,defaultFocusAlias:VN},r.createElement($E.Header,{onClose:t},n(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:n(".message"),gamepadIndex:0},n(".message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:VN,variant:"primary",inputLegend:n(".saveInputLegend"),onClick:c},n(".save")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:n(".discardInputLegend"),onClick:s},n(".discard"))))}));let $N;!function(e){e.DaylightCycleChanged="daylight_cycle_changed",e.CheatsChanged="cheats_changed",e.DifficultyChanged="difficulty_changed",e.GameModeChanged="game_mode_changed",e.MultiplayerChanged="multiplayer_changed"}($N||($N={}));const KN="ef367e77dc3b63bb0406",YN=a.p+"assets/hardcore-heart-engraved-75556ce94d9bfdecca12.png";function XN(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qN(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?XN(Object(a),!0).forEach((function(t){QN(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):XN(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function QN(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ZN=({worldSummary:e,isEditorWorld:t,onUnlockTemplateSettings:a,onMakeWorldInfinite:n,onDuplicateWorld:o,onDeleteWorld:i,onExportWorld:c,worldData:s})=>{const{t:u}=Fc("CreateNewWorld.general"),d=(0,l.useFacetMap)((e=>e.advanced.generatorType),[],[s]),m=(0,l.useFacetMap)((e=>e.general),[],[s]),p=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[s]),f=(0,l.useFacetMap)((e=>e.isHardcore),[],[m]),g=(0,l.useFacetMap)((e=>e.isUsingTemplate),[],[s]),E=(0,r.useContext)(tI)!==eI.CREATE,h=(0,l.useSharedFacet)(Wu),b=xN(),v=(0,l.useFacetMap)((e=>E&&e===Gu.Legacy),[E],[d]),y=(0,l.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive)),[],[h]),F=(0,l.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive_Parental)),[],[h]),S=(0,l.useFacetCallback)(((e,t,a)=>()=>{Pk(t.platform)?a.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(Uu.ParentPermissionHelpPage)}),[],[(0,l.useSharedFacet)(zu),(0,l.useSharedFacet)(dl),h]),C=(0,l.useFacetMap)((e=>!e),[],[t]);return r.createElement(eR,{isEditorWorld:t,isHardcoreMode:f,onUnlockTemplateSettings:a},r.createElement(l.Mount,{when:y},r.createElement("div",{className:KN},r.createElement(Fg,{compact:!0},r.createElement(AP,{role:"noticeTint",gamepadIndex:7},r.createElement(AP.Text,null,u(".multiplayerPermissionBanner.text")),r.createElement(AP.Link,{gamepadIndex:1,onClick:S},u(".multiplayerPermissionBanner.link")))))),r.createElement(l.Mount,{when:F},r.createElement("div",{className:KN},r.createElement(Fg,{compact:!0},r.createElement(AP,{role:"noticeTint",gamepadIndex:7},r.createElement(AP.Text,null,u(".multiplayerPermissionBanner.textParental")),r.createElement(AP.Link,{gamepadIndex:1,onClick:S},u(".multiplayerPermissionBanner.link")))))),r.createElement(JN,{isLockedTemplate:p,achievementsDisabledMessages:b,isEditorWorld:t,isHardcoreMode:f,generalData:m,isUsingTemplate:g}),r.createElement(l.Mount,{when:C},r.createElement(l.DeferredMount,null,r.createElement(tR,{isLockedTemplate:p,generalData:m}))),r.createElement(l.Mount,{when:v},r.createElement(l.DeferredMount,null,r.createElement(Fg,null,r.createElement(Cg,null,u(".makeInfiniteHeader")),r.createElement(Nm,{size:1}),r.createElement("div",{style:{flexDirection:"row"}},r.createElement(Ug,{variant:"secondary",onClick:n,inputLegend:u(".makeInfiniteButton"),autofocus:!0,horizontal:!0},u(".makeInfiniteButton"))),r.createElement(Nm,{size:1}),r.createElement(Mg,null,u(".makeInfiniteDescription"))))),E&&null!=e&&r.createElement(l.DeferredMount,null,r.createElement(rR,{worldData:s,worldSummary:e,achievementsDisabledMessages:b,onDuplicateWorld:o,onDeleteWorld:i,onExportWorld:c})))},JN=({isLockedTemplate:e,achievementsDisabledMessages:t,isEditorWorld:a,isHardcoreMode:n,generalData:o,isUsingTemplate:i})=>{const{t:c}=Fc("CreateNewWorld.general"),s=1==(0,l.useFacetUnwrap)(a)?".editor":"",u=(0,l.useFacetMap)((e=>e.worldName),[],[o]),d=(0,l.useFacetCallback)((e=>t=>e.worldName=t),[],[o]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:a},r.createElement(l.DeferredMount,null,r.createElement(nO,{title:c(".projectHeader")}))),r.createElement(l.DeferredMount,null,r.createElement(jy,{label:c(`${s}.worldNameTitle`),gamepadIndex:1,placeholder:c(`${s}.worldNamePlaceholder`),maxLength:30,value:u,onChange:d,filterProfanity:!0,disabled:e})),r.createElement(l.Mount,{when:a},r.createElement(l.DeferredMount,null,r.createElement(nO,{title:c(".exportSettingsHeader"),description:c(".exportSettingsDescription")}))),r.createElement(l.DeferredMountWithCallback,null,r.createElement(nR,{isLockedTemplate:e,generalData:o,isUsingTemplate:i,achievementsDisabledMessages:t,isHardcoreMode:n})),r.createElement(l.DeferredMountWithCallback,null,r.createElement(aR,{isLockedTemplate:e,generalData:o,isHardcoreMode:n})))},eR=({isEditorWorld:e,isHardcoreMode:t,onUnlockTemplateSettings:a,children:n})=>{const{t:o}=Fc("CreateNewWorldSideMenu"),i=(0,r.useContext)(tI)!==eI.CREATE,c=!0===(0,l.useFacetUnwrap)(t)&&i?gN.GENERAL_TAB:void 0;return r.createElement(l.DeferredMountProvider,null,r.createElement(AN,{narrationText:o(".generalTabLabel"),onUnlockTemplateSettings:a,isEditorWorld:e,hardcoreModeMessageTab:c},n))};function tR({generalData:e,isLockedTemplate:t}){const{t:a}=Fc("CreateNewWorld.general"),n=cn(),o=(0,r.useContext)(tI)===eI.CREATE,i=(0,l.useSharedFacet)(Bu),c=(0,l.useFacetMap)(((e,t,a)=>a||t||!o||e.gameMode!==Fu.SURVIVAL&&e.gameMode!==Fu.ADVENTURE),[o],[e,t,i]);return r.createElement(My,{title:a(".hardcoreModeTitle"),soundEffectPressed:"ui.hardcore_toggle_press",disabled:c,description:a(".hardcoreModeDescription"),value:(0,l.useFacetMap)((e=>e.isHardcore),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.isHardcore=t,n(t?"ui.hardcore_enable":"ui.hardcore_disable")}),[n],[e]),gamepad:{index:4},imgSrc:YN,"data-testid":"hardcore-mode-toggle"})}function aR({generalData:e,isLockedTemplate:t,isHardcoreMode:a}){const{t:n}=Fc("CreateNewWorld.general"),o=(0,l.useNotifyMountComplete)(),i=(0,r.useContext)(tI)!==eI.CREATE,c=(0,l.useSharedFacet)(pu);return r.createElement(mA,{onMountComplete:o,title:n(".difficultyTitle"),disabled:(0,l.useFacetMap)(((e,t)=>e||t),[],[a,t]),options:[{label:n(".difficultyPeacefulLabel"),description:n(".difficultyPeacefulDescription"),value:pc.PEACEFUL},{label:n(".difficultyEasyLabel"),description:n(".difficultyEasyDescription"),value:pc.EASY},{label:n(".difficultyNormalLabel"),description:n(".difficultyNormalDescription"),value:pc.NORMAL},{label:n(".difficultyHardLabel"),description:n(".difficultyHardDescription"),value:pc.HARD}],value:(0,l.useFacetMap)(((e,t)=>t?pc.HARD:e.difficulty),[],[e,a]),onChange:(0,l.useFacetCallback)(((e,t)=>a=>{i&&t.trackOptionChanged($N.DifficultyChanged,e.difficulty,a),e.difficulty=a}),[i],[e,c])})}function nR({generalData:e,isLockedTemplate:t,isUsingTemplate:a,achievementsDisabledMessages:n,isHardcoreMode:o}){const{t:i}=Fc("CreateNewWorld.general"),{t:c}=Fc("CreateNewWorld.all"),s=(0,l.useSharedFacet)(Bu),u=(0,r.useContext)(tI)!==eI.CREATE,d=(0,l.useSharedFacet)(pu),m=(0,l.useFacetMap)(((e,t,a)=>e||t||a),[],[t,s,o]),p=(0,l.useFacetMap)(((e,t)=>{const a=[qN({label:i(".gameModeSurvivalLabel"),description:i(".gameModeSurvivalDescription"),value:Fu.SURVIVAL},1===e.length?{narrationSuffix:c(".narrationSuffixEnablesAchievements")}:{}),{label:i(".gameModeCreativeLabel"),description:i(".gameModeCreativeDescription"),value:Fu.CREATIVE,narrationSuffix:c(".narrationSuffixDisablesAchievements")}];return(true)&&a.push(qN({label:i(".gameModeAdventureLabel"),description:i(t?".gameModeAdventureTemplateDescription":".gameModeAdventureDescription"),value:Fu.ADVENTURE},1===e.length?{narrationSuffix:c(".narrationSuffixEnablesAchievements")}:{}),{label:i(".gameModeSpectatorLabel"),description:i(".gameModeSpectatorDescription"),value:Fu.SPECTATOR,narrationSuffix:c(".narrationSuffixEnablesAchievements")}),a}),[i,c,u],[n,a]),f=(0,l.useNotifyMountComplete)();return r.createElement(mA,{title:i(".gameModeTitle"),disabled:m,options:p,onMountComplete:f,value:(0,l.useFacetMap)((e=>e.gameMode),[],[e]),onChange:(0,l.useFacetCallback)(((e,t)=>a=>{const n=e.gameMode;e.gameMode=a,u&&t.trackOptionChanged($N.GameModeChanged,n,a)}),[u],[e,d])})}function rR({worldData:e,worldSummary:t,achievementsDisabledMessages:a,onDuplicateWorld:n,onDeleteWorld:o,onExportWorld:i}){const{t:c}=Fc("CreateNewWorld.general"),s=(0,r.useContext)(tI)!==eI.CREATE,u=sO.useModal(),d=tv(tc),m=(0,l.useFacetMap)((e=>d&&e),[d],[(0,l.useSharedFacet)(Bu)]),p=(0,l.useFacetMap)((e=>{var t,a;const n=null!==(t=null==e?void 0:e.fileSize)&&void 0!==t?t:"-",r=null!==(a=null==e?void 0:e.lastSaved)&&void 0!==a?a:"-";return c(".fileDetails",[n,r])}),[c],[t]),f=(0,l.useFacetMap)((e=>[c(".fileManagementTitle"),c(".fileManagement.narrationComponentTypeSectionHeader"),e].join(" . ")),[c],[p]),g=WN.useShowModal(),E=vp(),h=(0,r.useCallback)((()=>{null!=o&&(o(),E())}),[o,E]),b=(0,l.useFacetCallback)((e=>()=>{!e.achievementsPermanentlyDisabled&&e.achievementsDisabled?u.show():n&&n()}),[u,n],[e]),v=(0,l.useSharedFacet)(dl),y=(0,l.useFacetMap)((e=>Ak(e.platform)),[],[v]);return r.createElement(Zf,{text:f},r.createElement(lO,{options:{index:5}},r.createElement(Fg,{compact:!0},r.createElement(Nm,{size:3}),r.createElement(Cg,null,c(".fileManagementTitle")),r.createElement(Nm,{size:1}),r.createElement("div",{style:{flexDirection:"row"}},r.createElement(Ug,{variant:"secondary",gamepadIndex:0,onClick:b,inputLegend:c(".fileManagementDuplicateWorldLabel"),autofocus:!0,horizontal:!0,disabled:m},c(".fileManagementDuplicateWorldLabel")),r.createElement(rO.ButtonSpacing,null),r.createElement(Ug,{variant:"destructive",gamepadIndex:1,onClick:()=>g({deleteWorld:h,closeModal:E}),inputLegend:c(".fileManagementDeleteWorldLabel"),autofocus:!0,horizontal:!0,disabled:m},c(".fileManagementDeleteWorldLabel"))),r.createElement(l.Mount,{when:true},r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement("div",{style:{flexDirection:"row"}},r.createElement(Ug,{variant:"secondary",gamepadIndex:2,onClick:i,inputLegend:c(".fileManagementExportWorldLabel"),autofocus:!0,horizontal:!0,disabled:m},c(".fileManagementExportWorldLabel"))))),r.createElement(Nm,{size:1}),r.createElement(Mg,null,p),r.createElement(Nm,{size:3})),r.createElement(l.Mount,{when:u.isVisible},r.createElement(sO.Component,{onClose:u.hide,onConfirm:n,reasons:a,isEditWorld:s}))))}ZN.Wrapper=eR,ZN.DefaultFields=JN;const lR=ZN,oR=({onUnlockTemplateSettings:e,isEditorWorld:t,worldData:a})=>{const{t:n}=Sc("CreateNewWorld.cheats"),o=tv(tc),i=(0,l.useSharedFacet)(Bu),c=(0,l.useFacetMap)((e=>e.cheats),[],[a]),s=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[a]),u=(0,l.useFacetMap)((e=>e.achievementsDisabled),[],[a]),d=(0,l.useFacetMap)((e=>e.general.isHardcore),[],[a]),m=(0,l.useFacetMap)((e=>e.achievementsPermanentlyDisabled),[],[a]),p=xN(),f=(0,l.useFacetMap)(((e,t,a)=>!e.cheatsEnabled||t||a),[],[c,s,d]),g=(0,l.useFacetMap)((e=>e&&o),[o],[i]);return r.createElement(xl,{data:g},(a=>r.createElement(r.Fragment,null,a?r.createElement(rI,{context:aI.CHEATS_TAB}):r.createElement(cR,{isLockedTemplate:s,achievementsDisabled:u,achievementsPermanentlyDisabled:m,onUnlockTemplateSettings:e,isEditorWorld:t,isHardcoreMode:d},r.createElement(l.DeferredMount,null,r.createElement(dR,{cheatsData:c,isLockedTemplate:s,achievementsDisabledMessages:p,isHardcoreMode:d})),r.createElement(Zf,{text:[n(".settingsTitle"),n(".narrationComponentTypeSectionHeader")].join(" . ")},r.createElement(l.DeferredMount,null,r.createElement(fR,null)),r.createElement(l.DeferredMountWithCallback,null,r.createElement(uR,{cheatsData:c,disabled:f,isHardcoreMode:d})),r.createElement(iR,{cheatsData:c,disabled:f,isHardcoreMode:d}),r.createElement(l.DeferredMount,null,r.createElement(pR,{cheatsData:c,disabled:f,isHardcoreMode:d})),r.createElement(l.DeferredMount,null,r.createElement(mR,{cheatsData:c,disabled:f,isHardcoreMode:d})),r.createElement(l.DeferredMount,null,r.createElement(sR,{cheatsData:c,gamepadIndex:iR.length+2,disabled:f,isHardcoreMode:d})))))))},iR=({cheatsData:e,isHardcoreMode:t,disabled:a})=>{const{t:n}=Sc("CreateNewWorld.cheats"),o=[{title:n(".inventoryTitle"),description:n(".inventoryDescription"),value:(0,l.useFacetMap)(((e,t)=>!t&&e.keepInventory),[],[e,t]),onChange:(0,l.useFacetCallback)((e=>t=>{e.keepInventory=t}),[],[e])},{title:n(".mobSpawningTitle"),description:n(".mobSpawningDescription"),value:(0,l.useFacetMap)(((e,t)=>!!t||e.mobSpawning),[],[e,t]),onChange:(0,l.useFacetCallback)((e=>t=>{e.mobSpawning=t}),[],[e])},{title:n(".mobGriefingTitle"),description:n(".mobGriefingDescription"),value:(0,l.useFacetMap)(((e,t)=>!!t||e.mobGriefing),[],[e,t]),onChange:(0,l.useFacetCallback)((e=>t=>{e.mobGriefing=t}),[],[e])},{title:n(".entitiesDropLootTitle"),description:n(".entitiesDropLootDescription"),value:(0,l.useFacetMap)(((e,t)=>!!t||e.entitiesDropLoot),[],[e,t]),onChange:(0,l.useFacetCallback)((e=>t=>{e.entitiesDropLoot=t}),[],[e])},{title:n(".weatherTitle"),description:n(".weatherDescription"),value:(0,l.useFacetMap)(((e,t)=>!!t||e.weather),[],[e,t]),onChange:(0,l.useFacetCallback)((e=>t=>{e.weather=t}),[],[e])}];return r.createElement(r.Fragment,null,o.map(((e,t)=>r.createElement(l.DeferredMount,{key:e.title},r.createElement(My,{disabledNarrationSuffix:n(".settingDisabledHint"),title:e.title,description:e.description,gamepad:{index:t+2},disabled:a,value:e.value,onChange:e.onChange})))))},cR=({isEditorWorld:e,isHardcoreMode:t,onUnlockTemplateSettings:a,children:n})=>{const{t:o}=Sc("CreateNewWorldSideMenu"),i=!0===(0,l.useFacetUnwrap)(t)?gN.CHEATS_TAB:void 0;return r.createElement(l.DeferredMountProvider,null,r.createElement(AN,{narrationText:o(".cheatsTabLabel"),onUnlockTemplateSettings:a,isEditorWorld:e,hardcoreModeMessageTab:i},n))};function sR({cheatsData:e,gamepadIndex:t,disabled:a,isHardcoreMode:n}){const{t:o}=Sc("CreateNewWorld.cheats"),{t:i}=Sc("CreateNewWorld.cheats.narration"),c=(0,l.useFacetMap)(((e,t)=>t?1..toString():e.tickSpeed.toString()),[],[e,(0,l.useFacetWrap)(null!=n&&n)]),{narrateText:s}=Hf({interruptible:!1}),u=(0,l.useFacetCallback)((e=>t=>{e.tickSpeed=t}),[],[e]),d=(0,r.useCallback)(((e,t)=>{const a=e.match(/^[0-9]*$/g),n=parseInt(e)<=4096;return 0!==e.length&&a?n?qg.ValidationResult.VALID:(s(i(".tickSpeedNotWithinRange")),t(4096..toString()),qg.ValidationResult.INVALID):(s(i(".tickSpeedInvalidValue")),t(1..toString()),qg.ValidationResult.INVALID)}),[s,i]);return r.createElement(jy.WithButton,{disabledNarrationSuffix:o(".settingDisabledHint"),buttonInputLegend:o(".tickSpeedReset"),buttonText:o(".tickSpeedReset"),disabled:a,buttonOnClick:()=>u(1..toString()),gamepadIndex:t,label:o(".tickSpeedLabel"),description:o(".tickSpeedDescription"),maxLength:4,value:c,onChange:u,onBlur:d,buttonNarrationHint:o(".narrationTickSpeedButtonNarrationHint"),isNumber:!0})}function uR({cheatsData:e,disabled:t,isHardcoreMode:a}){const{t:n}=Sc("CreateNewWorld.cheats"),o=(0,r.useContext)(tI)!==eI.CREATE,i=(0,l.useSharedFacet)(pu),c=(0,l.useFacetCallback)(((e,t)=>a=>{o&&t.trackOptionChanged($N.DaylightCycleChanged,e.daylightCycle,a),e.daylightCycle=a}),[o],[e,i]),s=(0,l.useFacetMap)(((e,t)=>t?hc.NORMAL:e.daylightCycle),[],[e,(0,l.useFacetWrap)(null!=a&&a)]),u=[{label:n(".daylightCycleNormalLabel"),description:n(".daylightCycleNormalDescription"),value:hc.NORMAL},{label:n(".daylightCycleAlwaysDayLabel"),description:n(".daylightCycleAlwaysDayDescription"),value:hc.ALWAYS_DAY}];return o&&u.push({label:n(".daylightCycleLockTimeLabel"),description:n(".daylightCycleLockTimeDescription"),value:hc.LOCK_TIME}),r.createElement(mA,{disabledNarrationSuffix:n(".settingDisabledHint"),onMountComplete:(0,l.useNotifyMountComplete)(),title:n(".daylightCycleTitle"),disabled:t,options:u,value:s,onChange:c})}function dR({cheatsData:e,isLockedTemplate:t,achievementsDisabledMessages:a,isHardcoreMode:n}){const{t:o}=Sc("CreateNewWorld.cheats"),{t:i}=Sc("CreateNewWorld.all"),c=(0,r.useContext)(tI)!==eI.CREATE,s=(0,l.useSharedFacet)(pu),u=(0,l.useFacetMap)(((e,t,a)=>e||t||a),[],[t,(0,l.useSharedFacet)(Bu),n]),d=(0,l.useFacetCallback)(((e,t)=>a=>{c&&t.trackOptionChanged($N.CheatsChanged,Number(e.cheatsEnabled),Number(a)),e.cheatsEnabled=a}),[c],[e,s]),m=(0,l.useFacetMap)(((e,t)=>!t&&e.cheatsEnabled),[],[e,n]);return r.createElement(My,{title:o(".title"),description:o(".description"),disabled:u,value:m,onChange:d,onNarrationText:i(".narrationSuffixDisablesAchievements")+" . "+i(".narrationSuffixSettingsAvailable"),offNarrationText:(0,l.useFacetMap)((e=>0===e.length?i(".narrationSuffixEnablesAchievements"):void 0),[i],[a])})}function mR({cheatsData:e,disabled:t,isHardcoreMode:a}){const{t:n}=Sc("CreateNewWorld.cheats"),o=(0,l.useFacetCallback)((e=>t=>{e.educationEdition=t}),[],[e]),i=(0,l.useFacetMap)(((e,t)=>!t&&e.educationEdition),[],[e,a]);return r.createElement(My,{disabledNarrationSuffix:n(".settingDisabledHint"),title:n(".educationTitle"),description:n(".educationDescription"),disabled:t,value:i,onChange:o})}function pR({cheatsData:e,disabled:t,isHardcoreMode:a}){const{t:n}=Sc("CreateNewWorld.cheats"),o=(0,l.useFacetCallback)((e=>t=>{e.commandBlocks=t}),[],[e]),i=(0,l.useFacetMap)(((e,t)=>!!t||e.commandBlocks),[],[e,a]);return r.createElement(My,{disabledNarrationSuffix:n(".settingDisabledHint"),title:n(".commandBlocksTitle"),description:n(".commandBlocksDescription"),disabled:t,value:i,onChange:o})}function fR(){const{t:e}=Sc("CreateNewWorld.cheats");return r.createElement(nO,{title:e(".settingsTitle")})}oR.Wrapper=cR,oR.DefaultFields=iR;const gR=oR,ER=a.p+"assets/under-construction-art-cropped-cd6d3b45f26eafa460d2.png";function hR(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function bR(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hR(Object(a),!0).forEach((function(t){vR(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hR(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function vR(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function yR(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function FR({experimentalFeature:e,gamepadIndex:t,disabled:a,achievementsDisabledMessages:n,areAllTogglesDisabled:o}){const{gt:i}=function(){const{translate:e,formatDate:t}=(0,r.useContext)(Ml);return(0,r.useMemo)((()=>({f:{formatDate:t},gt:(t,a)=>{var n;return null!==(n=e(t,a))&&void 0!==n?n:t}})),[e,t])}(),{t:c}=Fc("CreateNewWorld.all"),s=(0,l.useFacetMap)((e=>e.id),[],[e]),u=(0,l.useFacetUnwrap)(s),d=(0,l.useFacetMap)((e=>e.title),[],[e]),m=(0,l.useFacetUnwrap)(d),p=(0,l.useFacetMap)((e=>e.description),[],[e]),f=(0,l.useFacetUnwrap)(p),g=(0,l.useFacetMap)((e=>e.isEnabled),[],[e]),E=(0,l.useFacetMap)(((e,t)=>e||t.isTogglePermanentlyDisabled),[],[(0,l.useFacetWrap)(a),e]),h=(0,l.useFacetCallback)(((e,t)=>a=>{a&&t?Ri.set({userTriedToActivateToggle:!0,doSetToggleValue:()=>e.isEnabled=a,userHasAcceptedBetaFeatures:!1}):e.isEnabled=a}),[],[e,o]),b=c(".narrationSuffixDisablesAchievements"),v=(0,l.useFacetMap)((e=>0===e.length?c(".narrationSuffixEnablesAchievements"):void 0),[c],[n]);return null!=u?r.createElement(My,{title:m!==l.NO_VALUE?i(m):"",description:f!==l.NO_VALUE?i(f):"",gamepad:{index:t},value:g,disabled:E,onChange:h,onNarrationText:b,offNarrationText:v}):null}function SR({item:e,index:t,achievementsDisabledMessages:a,areAllTogglesDisabled:n}){const{t:o}=Fc("CreateNewWorld.experimentalFeatures"),i=(0,l.useFacetMap)((({description:e,numOfSections:a,title:n})=>{const r=a>1?o(".sectionEnumeration",[`${t+1}`,`${a}`]):null;return[n,o(".narrationComponentTypeSectionHeader"),r,e].filter((e=>e)).join(" . ")}),[o,t],[e]),c=(0,l.useFacetMap)((({title:e})=>e),[],[e]),s=(0,l.useFacetMap)((({description:e})=>e),[],[e]),u=(0,l.useFacetMap)((({disabled:e})=>e),[],[e]),d=(0,l.useFacetMap)((({features:e})=>e),[],[e]);return r.createElement(Zf,{text:i},r.createElement(Qf,{options:{index:t}},r.createElement(l.DeferredMount,null,r.createElement(nO,{title:c,description:s})),r.createElement(l.Map,{array:d},((e,t)=>r.createElement(l.DeferredMount,null,r.createElement(FR,{experimentalFeature:e,gamepadIndex:t,disabled:u,achievementsDisabledMessages:a,areAllTogglesDisabled:n}))))))}const CR=[{title:".gameplayTitle",description:".gameplayDescription",featuresFilter:e=>e.category===bc.GAMEPLAY},{title:".graphicsTitle",description:".graphicsDescription",featuresFilter:e=>e.category===bc.GRAPHICS},{title:".addOnCreatorsTitle",description:".addOnCreatorsDescription",featuresFilter:e=>e.category===bc.ADD_ON_CREATORS},{title:".internalTestsTitle",description:".internalTestsDescription",featuresFilter:e=>e.category===bc.INTERNAL_TESTS}],MR=()=>{const{t:e}=Fc("CreateNewWorld.experimentalFeatures"),t=my({wide:8,narrow:6,width:260}),a=(0,l.useFacetMap)((e=>e?"d7dc3e095d9c3b89ba56":"b5ca3dbae26900130d38"),[],[t]);return r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(jf,{gamepadIndex:0,floating:!0},r.createElement(_v,{gamepadIndex:0,title:e(".underConstruction.title"),imgSrc:ER,imgClass:a})))};function wR({worldData:e,onUnlockTemplateSettings:t,isEditorWorld:a}){const n=(0,r.useContext)(tI)!==eI.CREATE,{t:o}=Fc("CreateNewWorld.experimentalFeatures"),{t:i}=Fc("CreateNewWorldSideMenu"),c=(0,l.useFacetMap)((e=>e.betaFeatures),[],[e]),s=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[e]),u=xN(),d=tv(tc),m=(0,l.useSharedFacet)(Bu),p=(0,l.useFacetMemo)(((e,t,a)=>CR.map((t=>{let{featuresFilter:a}=t;return bR(bR({},yR(t,["featuresFilter"])),{},{features:jw(e,a)})})).filter((({features:e})=>e.length>0)).map(((e,n,{length:r})=>{let{title:l,description:i}=e;return bR(bR({},yR(e,["title","description"])),{},{description:o(i),disabled:t||a,numOfSections:r,title:o(l)})}))),[o],[c,s,m]),f=(0,l.useFacetMap)((e=>e.every((e=>!e.isEnabled))),[],[c]),g=(0,l.useFacetMap)((e=>e&&d?"trial-mode":"tab-details"),[n,d],[m]);return r.createElement(l.DeferredMountProvider,null,r.createElement(xl,{data:g},(e=>{switch(e){case"trial-mode":return r.createElement(rI,{context:aI.EXPERIMENTS_TAB});case"under-construction":return r.createElement(MR,null);default:return r.createElement(AN,{experimentsWarningEnabled:!0,narrationText:i(".experimentalFeaturesTabLabel"),onUnlockTemplateSettings:t,isEditorWorld:a},r.createElement(l.Map,{array:p},((e,t)=>r.createElement(SR,{item:e,index:t,achievementsDisabledMessages:u,areAllTogglesDisabled:f}))))}})))}const kR="cnw-bfw-cancel";function TR({experimentsData:e}){const{t}=Fc("CreateNewWorld.experimentalFeatures"),a=(0,l.useFacetUnwrap)(Ri),n=a!==l.NO_VALUE&&a.userTriedToActivateToggle,o=(0,l.useFacetMap)((e=>e.every((e=>!e.isEnabled))),[],[e]),i=(0,l.useFacetMap)((e=>n&&e),[n],[o]),c=()=>{Ri.set({userTriedToActivateToggle:!1,doSetToggleValue:()=>{},userHasAcceptedBetaFeatures:!1})},s=a!==l.NO_VALUE?a.doSetToggleValue:()=>{},u=t(".activateExperimentsConfirmationDescriptionPart1"),d=t(".activateExperimentsConfirmationDescriptionPart2");return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:i},r.createElement($E,{defaultFocusAlias:kR},r.createElement($E.Header,{onClose:c},t(".activateExperimentsConfirmationTitle")),r.createElement($E.Content,null,r.createElement($E.Paragraphs,{narrationText:`${u} ${d}`,spaceBetweenParagraphs:5,gamepadIndex:0},r.createElement(zm,{type:"captionLong"},u),r.createElement(zm,{type:"captionLong"},d))),r.createElement($E.Buttons,null,r.createElement(Ug,{variant:"primary",gamepadIndex:0,gamepadAlias:kR,inputLegend:t(".activateExperimentsConfirmationCancelInputLegend"),onClick:c},t(".activateExperimentsConfirmationCancel")),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:1,inputLegend:t(".activateExperimentsConfirmationConfirmInputLegend"),onClick:()=>{s(),Ri.set({userTriedToActivateToggle:!1,doSetToggleValue:()=>{},userHasAcceptedBetaFeatures:!0})}},t(".activateExperimentsConfirm"))))))}const PR="vanilla.editor.generatorTypeDropdown";let IR,xR,AR;var OR,NR,RR,LR,_R,DR,WR,BR,UR,zR,HR,jR,VR,GR,$R,KR,YR,XR,qR,QR,ZR,JR,eL,tL,aL,nL,rL,lL,oL,iL,cL,sL,uL,dL,mL,pL;let fL;var gL;let EL,hL,bL,vL,yL,FL,SL,CL,ML,wL,kL,TL;!function(e){e.ToolPane="Editor.Drawer.ToolPane",e.Logging="Editor.Drawer.Log",e.GlobalPane="Editor.Drawer.GlobalPane",e.StructureDetailPane="Editor.Drawer.StructureDetailPane"}(IR||(IR={})),function(e){e.WelcomePanel="EditorUI.WelcomePanel"}(xR||(xR={})),function(e){e.UISettings="editor:paneClient:uiSettings"}(AR||(AR={})),(GR=OR||(OR={})).NoArgsAction="NoArgsAction",GR.MouseRayCastAction="MouseRayCastAction",GR.StatefulAction="StatefulAction",GR.ContinuousAction="ContinuousAction",function(e){e[e.Consume=0]="Consume",e[e.Passthrough=1]="Passthrough",e[e.Disabled=2]="Disabled"}(NR||(NR={})),(VR=RR||(RR={}))[VR.Unused=0]="Unused",VR[VR.None=1]="None",VR[VR.Alt=2]="Alt",VR[VR.Control=4]="Control",VR[VR.Shift=8]="Shift",VR[VR.Any=15]="Any",function(e){e[e.Press=1]="Press",e[e.Release=2]="Release"}(LR||(LR={})),function(e){e[e.Button=1]="Button",e[e.Wheel=2]="Wheel",e[e.Drag=3]="Drag"}(_R||(_R={})),function(e){e[e.LeftButton=1]="LeftButton",e[e.MiddleButton=2]="MiddleButton",e[e.RightButton=3]="RightButton",e[e.Wheel=4]="Wheel"}(DR||(DR={})),function(e){e[e.ButtonDown=1]="ButtonDown",e[e.ButtonUp=2]="ButtonUp",e[e.WheelIn=3]="WheelIn",e[e.WheelOut=4]="WheelOut",e[e.DragStart=5]="DragStart",e[e.Drag=6]="Drag",e[e.DragEnd=7]="DragEnd"}(WR||(WR={})),function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESCAPE=27]="ESCAPE",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.KEY_0=48]="KEY_0",e[e.KEY_1=49]="KEY_1",e[e.KEY_2=50]="KEY_2",e[e.KEY_3=51]="KEY_3",e[e.KEY_4=52]="KEY_4",e[e.KEY_5=53]="KEY_5",e[e.KEY_6=54]="KEY_6",e[e.KEY_7=55]="KEY_7",e[e.KEY_8=56]="KEY_8",e[e.KEY_9=57]="KEY_9",e[e.KEY_A=65]="KEY_A",e[e.KEY_B=66]="KEY_B",e[e.KEY_C=67]="KEY_C",e[e.KEY_D=68]="KEY_D",e[e.KEY_E=69]="KEY_E",e[e.KEY_F=70]="KEY_F",e[e.KEY_G=71]="KEY_G",e[e.KEY_H=72]="KEY_H",e[e.KEY_I=73]="KEY_I",e[e.KEY_J=74]="KEY_J",e[e.KEY_K=75]="KEY_K",e[e.KEY_L=76]="KEY_L",e[e.KEY_M=77]="KEY_M",e[e.KEY_N=78]="KEY_N",e[e.KEY_O=79]="KEY_O",e[e.KEY_P=80]="KEY_P",e[e.KEY_Q=81]="KEY_Q",e[e.KEY_R=82]="KEY_R",e[e.KEY_S=83]="KEY_S",e[e.KEY_T=84]="KEY_T",e[e.KEY_U=85]="KEY_U",e[e.KEY_V=86]="KEY_V",e[e.KEY_W=87]="KEY_W",e[e.KEY_X=88]="KEY_X",e[e.KEY_Y=89]="KEY_Y",e[e.KEY_Z=90]="KEY_Z",e[e.NUMPAD_0=96]="NUMPAD_0",e[e.NUMPAD_1=97]="NUMPAD_1",e[e.NUMPAD_2=98]="NUMPAD_2",e[e.NUMPAD_3=99]="NUMPAD_3",e[e.NUMPAD_4=100]="NUMPAD_4",e[e.NUMPAD_5=101]="NUMPAD_5",e[e.NUMPAD_6=102]="NUMPAD_6",e[e.NUMPAD_7=103]="NUMPAD_7",e[e.NUMPAD_8=104]="NUMPAD_8",e[e.NUMPAD_9=105]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=106]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=107]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=108]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=109]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=110]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=111]="NUMPAD_DIVIDE",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.BACK_QUOTE=192]="BACK_QUOTE",e[e.BRACKET_OPEN=219]="BRACKET_OPEN",e[e.BACK_SLASH=220]="BACK_SLASH",e[e.BRACKET_CLOSE=221]="BRACKET_CLOSE",e[e.QUOTE=222]="QUOTE"}(BR||(BR={})),function(e){e[e.ActionExecute=1]="ActionExecute"}(UR||(UR={})),function(e){e[e.PropertyPaneVisibilityChanged=3]="PropertyPaneVisibilityChanged",e[e.PropertyPaneCollapsedStateChanged=4]="PropertyPaneCollapsedStateChanged",e[e.UpdateObservableValue=5]="UpdateObservableValue",e[e.PropertyItemClicked=6]="PropertyItemClicked",e[e.PropertyItemContainerOperation=7]="PropertyItemContainerOperation",e[e.PropertyItemTimelineAction=8]="PropertyItemTimelineAction"}(zR||(zR={})),function(e){e[e.OnInitialize=1]="OnInitialize"}(HR||(HR={})),function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(jR||(jR={})),function(e){e.Undo="editor:actionBarItem:undo",e.Redo="editor:actionBarItem:redo",e.Export="editor:actionBarItem:export",e.Locate="editor:actionBarItem:locate",e.Playtest="editor:actionBarItem:playtest",e.Settings="editor:actionBarItem:settings",e.Realms="editor:actionBarItem:realms",e.Fill="editor:actionBarItem:fill"}($R||($R={})),function(e){e.Selection="editor:modalTool:selection",e.BrushPaint="editor:modalTool:brushPainter"}(KR||(KR={})),(gL=YR||(YR={}))[gL.Create=0]="Create",gL[gL.Update=1]="Update",gL[gL.Destroy=2]="Destroy",gL[gL.Custom=3]="Custom",gL[gL.Passthrough=4]="Passthrough",function(e){e.ServerActionEvents="Editor::ServerActionEvents",e.ServerUXEvents="Editor::ServerUXEvents"}(XR||(XR={})),function(e){e.ClientActionEvents="Editor::ClientActionEvents",e.ClientUXEvents="Editor::ClientUXEvents",e.ClientLifecycleEvents="Editor::ClientLifecycle"}(qR||(qR={})),function(e){e[e.Register=1]="Register",e[e.Unregister=2]="Unregister",e[e.UpdateEnablement=3]="UpdateEnablement"}(QR||(QR={})),function(e){e[e.UpdatePropertyPane=1]="UpdatePropertyPane",e[e.DestroyPropertyPane=2]="DestroyPropertyPane",e[e.UpdateMenu=3]="UpdateMenu",e[e.DestroyMenu=4]="DestroyMenu",e[e.UpdateStatusBarItem=5]="UpdateStatusBarItem",e[e.DestroyStatusBarItem=6]="DestroyStatusBarItem",e[e.UpdateModalToolOption=7]="UpdateModalToolOption",e[e.DestroyModalToolOption=8]="DestroyModalToolOption",e[e.BindActionToControl=11]="BindActionToControl",e[e.RemoveActionBindingFromControl=12]="RemoveActionBindingFromControl",e[e.UpdatePropertyItem=13]="UpdatePropertyItem",e[e.DestroyPropertyItem=14]="DestroyPropertyItem",e[e.OnNavigateFromEditor=15]="OnNavigateFromEditor",e[e.UpdateControlDemoVisibility_deprecated=16]="UpdateControlDemoVisibility_deprecated",e[e.UpdateWelcomePanelVisibility_deprecated=17]="UpdateWelcomePanelVisibility_deprecated",e[e.UpdateClientPanelVisibility=18]="UpdateClientPanelVisibility",e[e.ActivateTutorial=19]="ActivateTutorial"}(ZR||(ZR={})),function(e){e[e.Right=0]="Right",e[e.Left=1]="Left"}(JR||(JR={})),function(e){e.BlockList="editorUI:BlockList",e.BlockTable="editorUI:BlockTable",e.Boolean="editorUI:Boolean",e.Button="editorUI:Button",e.ButtonPane="editorUI:ButtonPane",e.ColorPicker="editorUI:ColorPicker",e.ComboBox="editorUI:ComboBox",e.DataTable="editorUI:DataTable",e.Divider="editorUI:Divider",e.Dropdown="editorUI:Dropdown",e.Image="editorUI:Image",e.Link="editorUI:Link",e.Number="editorUI:Number",e.ProgressIndicator="editorUI:ProgressIndicator",e.String="editorUI:String",e.ProxyPane="editorUI:ProxyPane",e.SubPane="editorUI:SubPane",e.Text="editorUI:Text",e.ToggleGroup="editorUI:ToggleGroup",e.Vector3="editorUI:Vector3",e.ColorTimeline="editorUI:ColorTimeline",e.NumberTimeline="editorUI:NumberTimeline"}(eL||(eL={})),function(e){e[e.InputField=0]="InputField",e[e.InputFieldAndSlider=1]="InputFieldAndSlider"}(tL||(tL={})),function(e){e[e.Primary=0]="Primary",e[e.Secondary=1]="Secondary",e[e.Confirmation=2]="Confirmation",e[e.Destructive=3]="Destructive"}(aL||(aL={})),function(e){e[e.Spinner=0]="Spinner",e[e.ProgressBar=1]="ProgressBar"}(nL||(nL={})),function(e){e[e.Custom=0]="Custom",e[e.Block=1]="Block",e[e.Entity=2]="Entity"}(rL||(rL={})),function(e){e.Deselect="deselect",e.Replace="replace"}(lL||(lL={})),function(e){e.AddNode="addNode",e.RemoveNode="removeNode",e.UpdateNode="updateNode"}(oL||(oL={})),function(e){e[e.Default=0]="Default",e[e.Inline=1]="Inline",e[e.Expanded=2]="Expanded"}(iL||(iL={})),function(e){e[e.Checkbox=0]="Checkbox",e[e.ToggleSwitch=1]="ToggleSwitch"}(cL||(cL={})),function(e){e[e.Default=0]="Default",e[e.Block=1]="Block",e[e.Icon=2]="Icon"}(sL||(sL={})),function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(uL||(uL={})),function(e){e[e.Root=1]="Root",e[e.Sub=2]="Sub",e[e.ModalOverlay=3]="ModalOverlay",e[e.ModalControl=4]="ModalControl",e[e.Button=5]="Button"}(dL||(dL={})),function(e){e[e.Documentation=1]="Documentation",e[e.Feedback=2]="Feedback",e[e.PauseScreen=3]="PauseScreen",e[e.Samples=4]="Samples",e[e.SaveAndExit=5]="SaveAndExit"}(mL||(mL={})),function(e){e[e.ControlPanel=1]="ControlPanel",e[e.WelcomePanel=2]="WelcomePanel",e[e.LogPanel=3]="LogPanel"}(pL||(pL={})),function(e){e.ToggleMode="editor:keyBinding:toggleMode",e.OpenConsole="editor:keyBinding:openConsole",e.Hotbar1="editor:keyBinding:hotbar1",e.Hotbar2="editor:keyBinding:hotbar2",e.Hotbar3="editor:keyBinding:hotbar3",e.Hotbar4="editor:keyBinding:hotbar4",e.Hotbar5="editor:keyBinding:hotbar5",e.Hotbar6="editor:keyBinding:hotbar6",e.Hotbar7="editor:keyBinding:hotbar7",e.Hotbar8="editor:keyBinding:hotbar8",e.Hotbar9="editor:keyBinding:hotbar9",e.MoveForward="editor:keyBinding:moveForwardBegin",e.MoveBackward="editor:keyBinding:moveBackwardBegin",e.MoveLeft="editor:keyBinding:moveLeftBegin",e.MoveRight="editor:keyBinding:moveRightBegin",e.MoveUp="editor:keyBinding:moveUpBegin",e.MoveDown="editor:keyBinding:moveDownBegin"}(fL||(fL={})),BR.UNDEFINED,RR.Unused,function(e){e[e.Info=0]="Info",e[e.Warning=1]="Warning",e[e.Error=2]="Error",e[e.Debug=3]="Debug"}(EL||(EL={})),function(e){e[e.None=0]="None",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=4]="Error",e[e.Debug=8]="Debug",e[e.All=-1]="All"}(hL||(hL={})),function(e){e[e.Player=0]="Player",e[e.Global=1]="Global"}(bL||(bL={})),function(e){e.GLOBAL_EDITOR="global.editor",e.GLOBAL_TOOLMODE="global.toolMode",e.LOCAL_TOOLMODE_VIEWPORT="local.toolMode.viewport"}(vL||(vL={})),function(e){e[e.Width=30]="Width"}(yL||(yL={})),function(e){e[e.Disabled=0]="Disabled",e[e.Tool=1]="Tool",e[e.Crosshair=2]="Crosshair"}(FL||(FL={})),function(e){e[e.None=0]="None",e[e.Rectangle=1]="Rectangle",e[e.Square=2]="Square"}(SL||(SL={})),function(e){e[e.None=0]="None",e[e.Create=1]="Create",e[e.Move=2]="Move",e[e.Resize=3]="Resize",e[e.Rotate=4]="Rotate",e[e.Stroke=5]="Stroke",e[e.Count=6]="Count"}(CL||(CL={})),function(e){e.Dark="minecraft:editor:theme:dark",e.Light="minecraft:editor:theme:light",e.Redstone="minecraft:editor:theme:redstone",e.HighContrast="minecraft:editor:theme:high_contrast"}(ML||(ML={})),function(e){e[e.Top=0]="Top",e[e.TopStart=1]="TopStart",e[e.TopEnd=2]="TopEnd",e[e.RightStart=3]="RightStart",e[e.Right=4]="Right",e[e.RightEnd=5]="RightEnd",e[e.Bottom=6]="Bottom",e[e.BottomStart=7]="BottomStart",e[e.BottomEnd=8]="BottomEnd",e[e.LeftStart=9]="LeftStart",e[e.Left=10]="Left",e[e.LeftEnd=11]="LeftEnd"}(wL||(wL={})),function(e){e.Core="Core",e.Experimental="Experimental",e.Extension="Extension"}(kL||(kL={})),function(e){e.Reload="editor:actionItem:reload",e.CrosshairMode="editor:actionItem:crosshairMode",e.TriggerError="editor:actionItem:triggerError",e.KeyboardSettings="editor:actionItem:keyboardSettings",e.StructurePanel="editor:actionBarItem:structurePanel",e.AttachDebugger="editor:actionBarItem:attachDebugger",e.HotbarsPanel="editor:actionBarItem:manageHotbars",e.BlockTablePanel="editor:actionBarItem:blockTablePanel"}(TL||(TL={}));const PL=(0,l.sharedFacet)("vanilla.editor");let IL;(0,l.sharedSelector)((e=>e.editorMode),[PL]),(0,l.sharedSelector)((e=>e.editorMode==FL.Tool),[PL]),(0,l.sharedSelector)((e=>e.canShowModeShortcutToast),[PL]),function(e){e[e.Simple=0]="Simple",e[e.Probability=1]="Probability"}(IL||(IL={}));const xL=(0,l.sharedFacet)("vanilla.editorBlockPalette");(0,l.sharedSelector)((e=>e.paletteList),[xL]),(0,l.sharedSelector)((e=>e.activePaletteSelectedItemIndex),[xL]),(0,l.sharedSelector)((e=>e.activePalette),[xL]);const AL=(0,l.sharedFacet)("vanilla.editorInputBinding");(0,l.sharedSelector)((e=>{const t={};for(const a in e.keyBindings){const n=e.keyBindings[a];if(null!=n){!(a in t)&&(t[a]={});const e=t[a];for(const t in n){const a=n[t];a.key!==BR.UNDEFINED&&(!(a.key in e)&&(e[a.key]=[]),e[a.key].push({event:null!=a.actionId?a.actionId:t,modifier:a.modifier,inputType:a.inputType,bindingId:t}))}}}return t}),[AL]),(0,l.sharedSelector)((e=>{const t={};for(const a in e.mouseBindings){const n=e.mouseBindings[a];if(null!=n){!(a in t)&&(t[a]={});const e=t[a];for(const r in n){const l=n[r];!(l.actionType in e)&&(e[l.actionType]=[]),t[a][l.actionType].push(r)}}}return t}),[AL]),(0,l.sharedSelector)((e=>e.keyBindings),[AL]);const OL=(0,l.sharedFacet)("vanilla.editorInputState"),NL=((0,l.sharedSelector)((e=>e.isViewportFocused),[OL]),(0,l.sharedSelector)((e=>e.keyBindingStates),[OL]),(0,l.sharedFacet)("vanilla.editorLogging")),RL=((0,l.sharedSelector)((e=>e.messageList),[NL]),(0,l.sharedSelector)((e=>e.tagList),[NL]),(0,l.sharedSelector)((e=>e.logLevelFilter),[NL]),(0,l.sharedSelector)((e=>e.tagFilter),[NL]),(0,l.sharedFacet)("vanilla.editorProjectConstants"));function LL(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _L(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}(0,l.sharedSelector)((e=>e.blockInfoMap),[RL]),(0,l.sharedSelector)((e=>e.blockNameList),[RL]),(0,l.sharedSelector)((e=>e.atlasInfo),[RL]),(0,l.sharedSelector)((e=>e.isBlockAtlasAvailable),[RL]);const DL=(0,l.sharedFacet)("vanilla.editorScripting");let WL;(0,l.sharedSelector)((e=>({dispatch:(t,a,n,r)=>{e.dispatchDataStoreEvent(t,a,n,null!=r?function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?LL(Object(a),!0).forEach((function(t){_L(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):LL(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({__Type:"DataStorePayloadDescription"},e)}(r):r)}})),[DL]),function(e){e.TitleBarBackground="TitleBarBackground",e.PanelBackground="PanelBackground",e.HeaderBackground="HeaderBackground",e.PanelBorder="PanelBorder",e.ElementBorder="ElementBorder",e.PrimaryActive="PrimaryActive",e.PrimaryDefault="PrimaryDefault",e.PrimaryMute="PrimaryMute",e.PrimaryDisable="PrimaryDisable",e.PrimaryBackground1="PrimaryBackground1",e.PrimaryBackground2="PrimaryBackground2",e.PrimaryBackground3="PrimaryBackground3",e.PrimaryBackground4="PrimaryBackground4",e.SecondaryActive="SecondaryActive",e.SecondaryDefault="SecondaryDefault",e.SecondaryMute="SecondaryMute",e.SecondaryDisable="SecondaryDisable",e.SecondaryBackground1="SecondaryBackground1",e.SecondaryBackground2="SecondaryBackground2",e.SecondaryBackground3="SecondaryBackground3",e.DropDown1="DropDown1",e.DropDown2="DropDown2",e.DropDown3="DropDown3",e.ScrollBar="ScrollBar",e.FocusOutline="FocusOutline",e.FocusErrorOutline="FocusErrorOutline",e.Warning="Warning",e.Error="Error",e.HotbarOutline="HotbarOutline",e.ViewportOutline="ViewportOutline",e.DisableBackground="DisableBackground",e.DisableOutline="DisableOutline",e.DisableText="DisableText",e.DisableFill="DisableFill",e.Coordinate1="Coordinate1",e.Coordinate2="Coordinate2",e.Coordinate3="Coordinate3",e.ConfirmFill="ConfirmFill",e.Confirm1="Confirm1",e.Confirm2="Confirm2",e.Confirm3="Confirm3",e.DestroyFill="DestroyFill",e.Destroy1="Destroy1",e.Destroy2="Destroy2",e.Destroy3="Destroy3",e.InfoFill="InfoFill",e.Info1="Info1",e.Info2="Info2",e.Info3="Info3",e.Caret="Caret"}(WL||(WL={}));const BL=(0,l.sharedFacet)("vanilla.editorSettings",{fontZoom:125,currentThemeId:ML.Dark,themesMap:{},isEditorMode:!1,selectedTool:"",selectedOperator:CL.Create,addNewTheme:()=>{},updateThemeColor:()=>{},deleteTheme:()=>{},getKey:()=>"",setKey:()=>{},setKeys:()=>{},hasKey:()=>!1});(0,l.sharedSelector)((e=>e.isEditorMode),[BL]),(0,l.sharedSelector)((e=>e.selectedTool),[BL]),(0,l.sharedSelector)((e=>e.fontZoom),[BL]),(0,l.sharedFacet)("vanilla.editorStructure");const UL=(0,l.sharedFacet)("vanilla.editorTutorial");let zL,HL;function jL({description:e,gamepadIndex:t=0,onChange:a,wrapperRef:n,onFocusChanged:o,placeholder:i,label:c,options:s,value:u,disabled:d,disabledNarrationSuffix:m,soundEffectPressed:p,gamepadAlias:f}){const g=(0,l.useFacetWrap)(u),E=(0,l.useFacetWrap)(d),h=(0,l.useFacetWrap)(t);return r.createElement(Qf,{options:(0,l.useFacetMap)((e=>({index:e})),[],[h])},r.createElement(VL,{options:s,value:g,disabled:E,disabledNarrationSuffix:m,label:c,description:e,placeholder:i,onChange:a,wrapperRef:n,onFocusChanged:o,soundEffectPressed:p,gamepadAlias:f}))}function VL({options:e,label:t,description:a,placeholder:n,value:o,onChange:i,wrapperRef:c,disabled:s,disabledNarrationSuffix:u,onFocusChanged:d,soundEffectPressed:m,gamepadAlias:p,menuRole:f="secondary",itemRole:g="neutral60"}){const{t:E}=Fc("Dropdown"),h=dn(),b=(0,l.useFacetWrap)(e),v=(0,l.useFacetMap)(((e,t)=>e.find((e=>e.value===t))),[],[b,o]),y=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.label)&&void 0!==t?t:""}),[],[v]),F=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.description)&&void 0!==t?t:""}),[],[v]),S=(0,l.useFacetMap)((e=>Boolean(e)),[],[F]),C=(0,r.useRef)(null),[M,w,k]=function(e,t,a){const n=xd(4.8),r=xd(30),o=(0,l.useFacetMap)((e=>e.length),[],[(0,l.useFacetWrap)(e)]),[i,c]=(0,l.useFacetState)(""),[s,u]=(0,l.useFacetState)("");return[{height:i},{height:s},e=>{var i;const s=null==a?void 0:a.current,d=null==a||null===(i=a.current)||void 0===i?void 0:i.parentElement,m=t.current,p=o.get();if(m&&p!==l.NO_VALUE)if(s&&d){const t=s.getBoundingClientRect().height,a=m.offsetTop,l=p*n,o=12,i=Math.min(Math.max(t,a+l+o),r+a+o),u=d.scrollHeight<s.offsetTop+i;c(e&&u?`${i}px`:"")}else{const t=m.getBoundingClientRect();if(0===t.height)return;const a=window.innerHeight-t.top;u(a<r&&e?`${a}px`:"")}}]}(e,C,c),T=(0,l.useFacetMap)(((e,t)=>[e,E(".toggleElementType"),E(".selected"),t,u].join(" . ")),[E,u],[y,F]),P=(0,l.useFacetWrap)(null!=s&&s),I=(0,l.useFacetMap)((e=>h&&!0===e),[h],[P]),x=(0,l.useFacetMap)(((e,a)=>[t,E(".narrationComponentType"),a?E(".narrationDisabled"):"",E(".stateCollapsed"),a?e:""].join(" . ")),[E,t],[T,P]);return r.createElement(Zf,{text:x},r.createElement(Fg,{style:M,focusable:I,narrationText:""},r.createElement(Cg,{disabled:s},t),null!=a&&r.createElement(Mg,null,a),r.createElement(Nm,{size:1}),r.createElement(Jx,{narrationText:T,options:e,value:o,onChange:i,disabled:s,placeholder:n,onFocusChanged:d,footer:r.createElement(LE.Space,null),soundEffectPressed:m,onOpenClose:k,dropdownRef:C,gamepadAlias:p,menuRole:f,itemRole:g,dropdownMenuStyle:w}),r.createElement(l.Mount,{when:S},r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(Mg,{disabled:s},F)))))}(0,l.sharedSelector)((e=>e.currentStageId),[UL]),(0,l.sharedSelector)((e=>e.isTutorialActive),[UL]),(0,l.sharedSelector)((e=>e.isTutorialStarted),[UL]),function(e){e.Idle="tutorial.idle",e.Start="tutorial.start",e.End="tutorial.end",e.Movement="tutorial.movement",e.Hotbar="tutorial.hotbar",e.Selection_Activate="tutorial.selectionActivate",e.Selection_Create="tutorial.selectionCreate",e.Selection_Fill="tutorial.selectionFill",e.Selection_Info="tutorial.selectionInfo",e.Brush_Activate="tutorial.brushActivate",e.Brush_Add="tutorial.brushAdd",e.Brush_Delete="tutorial.brushDelete"}(zL||(zL={})),function(e){e.Movement_Forward="movement.forward",e.Movement_Backward="movement.backward",e.Movement_Left="movement.left",e.Movement_Right="movement.right",e.Movement_Up="movement.up",e.Movement_Down="movement.down",e.Movement_Camera="movement.camera",e.Movement_Zoom="movement.zoom",e.Movement_Pan="movement.pan",e.Selection_Create_End="selectionCreate.end",e.Selection_Fill_Executed="selectionFill.executed",e.Brush_Paint_Add_End="brushAdd.end",e.Brush_Paint_Delete_End="brushDelete.end"}(HL||(HL={}));function GL(e,t,a,n,r){const l=$L(e,a),o=Math.round(l/100*(n.length-1)),i=Math.max(Math.min(o,n.length-1),0);i!==t&&r(n[i])}function $L(e,t){const a=(e-t.left)/t.width*100;return Math.min(Math.max(a,0),100)}function KL([e,t],a){const n=null!=a?a:1,r=Math.floor((t-e)/n);return fF()((t=>t*n+e),r+1)}function YL(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function XL(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?YL(Object(a),!0).forEach((function(t){qL(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):YL(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function qL(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const QL=()=>{};function ZL({gamepad:e,label:t,onChange:a,value:n,disabled:o=!1,onFocusChanged:i=QL,onHoverAudioEvent:c,onHoverExitAudioEvent:s,range:u=[0,100],showSteps:d=!1,unit:m="",thumbRole:p,trackRole:f,trackOverlayRole:g,step:E}){const h=(0,l.useFacetWrap)(o),b=(0,l.useFacetWrap)(t),v=(0,l.useFacetWrap)(u),y=(0,l.useFacetWrap)(d),F=(0,l.useFacetWrap)(m),S=(0,l.useFacetWrap)(n),C=(0,l.useFacetWrap)(E),{t:M}=Fc("BaseSlider"),w=(0,l.useFacetMap)(((e,t)=>[M(".minValueIs"),e[0].toString(),...null!=t?[t]:[],M(".maxValueIs"),e[1].toString(),...null!=t?[t]:[]].join(" . ")),[M],[v,F]),k=(0,l.useFacetMap)(KL,[],[v,C]),T=(0,l.useFacetMap)(((e,t)=>e.reduce(((a,n,r)=>Math.abs(n-t)<Math.abs(e[a]-t)?r:a),0)),[],[k,S]);return r.createElement(Zf,{text:w},r.createElement(JL,{label:b,showSteps:y,onFocusChanged:i,disabled:h,onHoverAudioEvent:c,onHoverExitAudioEvent:s,gamepad:e,selectedValueIndex:T,values:k,onChange:a,unit:F,thumbRole:p,trackRole:f,trackOverlayRole:g}))}const JL=({gamepad:e,label:t,onChange:a,selectedValueIndex:n,values:o,disabled:i,onFocusChanged:c=QL,onHoverAudioEvent:s,onHoverExitAudioEvent:u,showSteps:d,unit:m,thumbRole:p="secondary",trackRole:f="neutral50",trackOverlayRole:g="primary"})=>{const{t:E}=Fc("BaseSlider"),h=cn(),[b,v]=(0,l.useFacetState)(!1),{narrateText:y,preventNarrateText:F}=Hf(),{narrateById:S,preventNarrateById:C}=gm(),M=(0,r.useCallback)(((e,t,a,n)=>[a?E(".currentValue"):"",e,t,null!=n?n:""].join(" . ")),[E]),w=(0,l.useFacetCallback)(((e,t,a)=>()=>M(a[t],e,!0)),[M],[m,n,o]),k=bm(w),T=(0,l.useFacetCallback)(((e,t)=>a=>{F(),setTimeout((()=>y(M(a,e,!1,t))),0)}),[M,y,F],[m,t]),P=(0,l.useFacetUnwrap)(n),I=P!=l.NO_VALUE?P:0,x=(0,l.useFacetUnwrap)(o),A=x!=l.NO_VALUE?x:[],O=(0,l.useFacetUnwrap)(i),N=O!=l.NO_VALUE&&O,R=(0,l.useFacetCallback)((e=>t=>{e||(a(t),T(t))}),[a,T],[i]),{trackClick:L,sliderRef:_,trackOverlayRef:D,thumbRef:W,onDrag:U,isDragging:z}=function(e,t,a,n){const[l,o]=(0,r.useState)(!1),i=(0,r.useRef)(null),c=(0,r.useRef)(null),s=(0,r.useRef)(null),u=(0,r.useRef)(e);u.current=e;const d=(0,r.useRef)(t);d.current=t;const m=(0,r.useRef)(a);m.current=a;const p=(0,r.useRef)(null),f=(0,r.useCallback)((e=>e.preventDefault()),[]),g=(0,r.useCallback)(((e,t)=>{if(l&&i.current&&p.current&&c.current&&"number"==typeof u.current){e.stopPropagation(),GL(t,u.current,p.current,m.current,d.current);const a=$L(t,p.current);i.current.style.clipPath=`inset(0 ${100-a}% 0 0)`,c.current.style.left=`${a}%`}}),[l,d,u,p,m]),E=(0,r.useCallback)((e=>{g(e,e.clientX)}),[g]),h=(0,r.useCallback)((e=>{g(e,e.touches[0].clientX)}),[g]),b=(0,r.useCallback)((()=>o(!1)),[o]),v=(0,r.useCallback)((()=>o(!1)),[o]),y=(0,r.useCallback)((()=>{n||o(!0),s.current&&(p.current=s.current.getBoundingClientRect())}),[n]);return(0,r.useLayoutEffect)((()=>{const e=()=>{window.removeEventListener("mousemove",E),window.removeEventListener("touchmove",h),window.removeEventListener("mouseup",b),window.removeEventListener("touchend",v)};return l?(window.addEventListener("mousemove",E),window.addEventListener("touchmove",h),window.addEventListener("mouseup",b),window.addEventListener("touchend",v)):e(),e}),[l,b,E,f,h,v]),(0,r.useLayoutEffect)((()=>{if(!l&&i.current&&c.current){const t=Math.max(Math.min(e,a.length-1),0)/(a.length-1)*100;i.current.style.clipPath=`inset(0 ${100-t}% 0 0)`,c.current.style.left=`${t}%`}}),[l,e,a,c,i]),{trackClick:n=>{n.stopPropagation(),s.current&&"number"==typeof e&&GL(n.clientX,e,s.current.getBoundingClientRect(),a,t)},sliderRef:s,trackOverlayRef:i,thumbRef:c,onDrag:y,isDragging:l}}(I,R,A,N),H=(0,l.useFacetCallback)(((e,t,n)=>()=>{if(n||e===t.length-1)return!1;const r=e+1;return setTimeout((()=>T(t[r])),0),a(t[r]),!0}),[T,a],[n,o,i]),j=(0,l.useFacetCallback)(((e,t,n)=>()=>{if(n||0===e)return!1;const r=e-1;return setTimeout((()=>T(t[r])),0),a(t[r]),!0}),[T,a],[n,o,i]),{isFocused:V,onFocus:G}=sm(XL(XL({},e),{},{onFocusChanged:c,onRight:()=>{const e=H();return e!=l.NO_VALUE&&e},onLeft:()=>{const e=j();return e!=l.NO_VALUE&&e}}),QL,_);(0,l.useFacetEffect)((e=>{e?setTimeout((()=>S(k)),0):C()}),[k,S,C],[V]);const $=wr(g),K=wr(f),Y=wr(p),X=xr(),q=Tr(p),Q=(0,l.useFacetCallback)((e=>()=>{if(e)return;v(!0);const t=null!=s?s:q.hover;null!=t&&h(t),G(B.PointerInput)}),[v,s,h,G,q],[i]),Z=(0,r.useCallback)((()=>{v(!1);const e=null!=u?u:q.hoverExit;null!=e&&h(e)}),[u,h,v,q]),J=(0,l.useFacetMap)((e=>zr()("c4b7e44d3ca8c07d7172",Y.background.interactive,{[X.hovered]:z||e})),[z,X.hovered,Y.background.interactive],[b]),ee=(0,l.useFacetMap)((e=>zr()("a36ae3737d4047cee5b2",{[X.disabled]:e})),[X.disabled],[i]),te=dm();return r.createElement("fast-div",{className:ee,ref:_},r.createElement("div",{className:zr()("f6347b8fc66dffc9b78a",K.border.interactive,K.background.interactive),onClick:L},r.createElement(Lp,{role:f}),r.createElement(e_,{values:A,show:d,onClick:L,stepClassName:K.border.interactive})),r.createElement("div",{className:zr()("bc02cfcafc8021de1e33",$.border.interactive,$.background.interactive),ref:D,onClick:L},r.createElement(Lp,{role:g}),r.createElement(e_,{values:A,show:d,onClick:L,stepClassName:$.border.interactive})),r.createElement("fast-div",{ref:W,className:(0,l.useFacetMap)((e=>zr()("b56a0c7a0da1c91dfbf6",Y.border.interactive,{[kp]:(null==te?void 0:te.focused)||e})),[Y,null==te?void 0:te.focused],[V]),onMouseEnter:Q,onMouseLeave:Z,onMouseDown:U,onTouchStart:U},r.createElement(wp,{role:p}),r.createElement("fast-div",{className:J},r.createElement(Lp,{role:p})),r.createElement("div",{className:zr()("ecaa1d2a11d065944171",Y.shadow.interactive)})))},e_=({values:e,show:t,onClick:a,stepClassName:n})=>r.createElement(l.Mount,{when:t},r.createElement("div",{className:"c557f20344735eb683cc",onClick:a},e.map(((e,t,a)=>t>=1&&t<a.length-1?r.createElement("div",{key:e,className:zr()("b9e73d358144a2a27823","b7dd9b16518336bb491a",n)}):null)),r.createElement("div",{className:"d91714b9d1e35291d1b3"}))),t_=()=>{};function a_({onChange:e,value:t,disabled:a=!1,gamepadIndex:n=0,showSteps:o=!1,unit:i="",title:c="",description:s="",range:u=[0,100],onFocusChanged:d=t_,wrapperRole:m="neutral",thumbRole:p,trackRole:f,trackOverlayRole:g,valueText:E="",indented:h}){const b=(0,l.useFacetWrap)(t),v=(0,l.useFacetWrap)(o),y=(0,l.useFacetWrap)(i),F=(0,l.useFacetWrap)(c),S=(0,l.useFacetWrap)(s),C=(0,l.useFacetWrap)(a),M=(0,l.useFacetWrap)(u),w=(0,l.useFacetWrap)(E),{t:k}=Fc("Slider"),T=(0,l.useFacetMap)(((e,t,a)=>{const n=[e];return a&&n.push(k(".disabled")),n.push(t,k(".narrationComponentType")),n.join(" . ")}),[k],[F,S,C]),P=(0,l.useFacetMap)(((e,t,a)=>""!=a?a:`${e}${null!=t?t:""}`),[],[b,y,w]);return r.createElement(Zf,{text:T},r.createElement(Fg,{indented:h,disabled:C,role:m},r.createElement("div",{className:"cb1b3bfca368d648dc1d"},r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>Boolean(e)),[],[F])},r.createElement(Cg,{disabled:C},F)),r.createElement(Cg,{className:"dee03706d382493b0dbd",disabled:C},P)),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>Boolean(e)),[],[S])},r.createElement(Mg,null,S)),r.createElement(Nm,{size:2}),r.createElement(ZL,{value:b,showSteps:v,unit:y,range:M,gamepad:{index:n},label:F,onChange:e,onFocusChanged:d,disabled:C,thumbRole:p,trackRole:f,trackOverlayRole:g})))}const n_="c8599413077a453816ce",r_=a.p+"assets/barrier-083db6f4ab7133302f25.png",l_=a.p+"assets/bedrock-20795e0a280aa8bf0ed2.png",o_=a.p+"assets/cobblestone-f476f10b7838081db6fd.png",i_=a.p+"assets/deepslate-1a9f4d4c85bd2ef96dcb.png",c_=a.p+"assets/dirt-4f003a18d9dc8e87dcd7.png",s_=a.p+"assets/grass_block-bff0df8efd48fa960892.png",u_=a.p+"assets/gravel-1c4f474204ca442480ab.png",d_=a.p+"assets/sand-fbe2d06055037e175152.png",m_=a.p+"assets/sandstone-7af0b33182ec5c1d99c8.png",p_=a.p+"assets/snow-5e79a7b6e49a9b480ef3.png",f_=a.p+"assets/snow_layer-409b8a8ebd8b705581f2.png",g_=a.p+"assets/stone-b1cbd7eec7218466d852.png",E_=a.p+"assets/water_block-d2be9f3202db800ce257.png";function h_({preset:e}){const{t}=Sc("FlatWorld"),{t:a}=Sc("FlatWorld.narration"),n=(0,l.useFacetMap)((e=>e.layers),[],[e]),o=wr("neutral60"),i=(0,l.useFacetMap)(((e,n)=>{const r=[t(".description")];return e.forEach(((e,t)=>r.push([a(".layer",[`${t+1}`]),a(".material"),n.blockDisplayName[e.material],a(".height"),e.height].join(" . ")))),r.join(" . ")}),[a,t],[n,(0,l.useSharedFacet)(Pi)]);return r.createElement(r.Fragment,null,r.createElement(Nm,{size:3}),r.createElement(zm,{type:"captionShort",role:"inherit",variant:"dimmer",overflowEllipsis:!0},t(".description")),r.createElement(Nm,{size:2}),r.createElement(Tm.Maybe,{classNameFocused:kp,isInteractive:!0,narrationText:i},r.createElement(wp,null),r.createElement(PF,{role:"neutral",label:t(".layers")}),r.createElement("div",{className:zr()("f9002ba3b18cc3b33454",o.border.base)},r.createElement("div",{className:n_},r.createElement(zm,{type:"captionShort",variant:"dimmer",role:"inherit",overflowEllipsis:!0},t(".material")),r.createElement(zm,{type:"captionShort",variant:"dimmer",role:"inherit",overflowEllipsis:!0},t(".height"))),r.createElement(Nm,{size:3}),r.createElement(l.Map,{array:n},((e,t,a)=>r.createElement(r.Fragment,null,r.createElement(b_,{layer:e}),t+1!=a&&r.createElement(Nm,{size:2})))))),r.createElement(v_,null))}function b_({layer:e}){const t=(0,l.useFacetMap)(((e,t)=>t.blockDisplayName[e.material]),[],[e,(0,l.useSharedFacet)(Pi)]),a=(0,l.useFacetMap)((e=>e.height),[],[e]),n=(0,l.useFacetMap)((e=>function(e){switch(e){case"minecraft:bedrock":return l_;case"minecraft:cobblestone":return o_;case"minecraft:deepslate":return i_;case"minecraft:dirt":return c_;case"minecraft:grass_block":return s_;case"minecraft:gravel":return u_;case"minecraft:sand":return d_;case"minecraft:sandstone":return m_;case"minecraft:snow":return p_;case"minecraft:snow_layer":return f_;case"minecraft:stone":return g_;case"minecraft:water":return E_;default:return r_}}(e.material)),[],[e]);return r.createElement("div",{className:"a9e9ae7ba8021d9d331b"},r.createElement(Qp,{className:"c74cda3b41eb3e49f7a7",src:n}),r.createElement(Nm,{size:2}),r.createElement("div",{className:n_},r.createElement(zm,{type:"captionShort",role:"inherit",overflowEllipsis:!0},t),r.createElement(zm,{type:"captionShort",role:"inherit",overflowEllipsis:!0},a)))}function v_(){const{t:e}=Sc("FlatWorld"),t=`${e(".designPreviewShortDescription")}`,a=(0,l.useFacetMap)((e=>e.isDevBuild||e.isAnyBeta),[],[(0,l.useSharedFacet)(wi)]),n=vd(),o=(0,l.useFacetCallback)((e=>()=>{n({button:"FlatWorldFeedback",screen:"CreateNewWorld"}),e.openLink(Uu.FlatWorldFeedbackPage)}),[n],[(0,l.useSharedFacet)(zu)]);return r.createElement(l.Mount,{when:a},r.createElement(Zf,{text:t},r.createElement("div",{className:"caebcde01bae09f9af69"},r.createElement(Ug,{inputLegend:`${e(".designPreviewInputLegend")}`,onClick:o,Icon:xM.ExternalLink},e(".feedbackButton")),r.createElement(zm,{type:"captionShort",role:"neutral",variant:"dimmest",align:"center"},e(".designPreviewShortDescription")))))}const y_=["ClassicFlat","TunnelersDream","WaterWorld","Overworld","SnowyKingdom","BottomlessPit","Desert","RedstoneReady"],F_={ClassicFlat:".preset.classicFlat",TunnelersDream:".preset.tunnelersDream",WaterWorld:".preset.waterWorld",Overworld:".preset.overworld",SnowyKingdom:".preset.snowyKingdom",BottomlessPit:".preset.bottomlessPit",Desert:".preset.desert",RedstoneReady:".preset.redstoneReady"};function S_({value:e,preset:t,onValueChanged:a,onPresetChanged:n,disabled:o,hideAccordion:i,achievementsDisabledMessages:c}){const{t:s}=Sc("CreateNewWorld.advanced"),{t:u}=Sc("CreateNewWorld.all"),{t:d}=Sc("FlatWorld.narration"),{t:m}=Sc("FlatWorld"),p=(0,r.useContext)(tI)!==eI.CREATE,f=(0,l.useFacetMap)((e=>null!=e?e:"ClassicFlat"),[],[t]),g=y_.map(((e,t)=>({label:m(F_[e]),value:t}))),E=e,h=(0,l.useFacetMap)((e=>d(p?e?".dropdownHintEditWorldOn":".dropdownHintEditWorldOff":".dropdownHint")),[d,p],[E]),b=(0,l.useFacetMap)((e=>y_.indexOf(e)),[],[f]),v=(0,l.useFacetMap)(((e,t)=>e.presets[t]),[],[(0,l.useSharedFacet)(ic),f]),y=(0,l.useFacetMap)((e=>d(p?e?".switchHintOnEditWorld":".switchHintOffEditWorld":e?".switchHintOn":".switchHintOff")),[d,p],[E]),F=(0,l.useFacetMap)((e=>0===e.length?u(".narrationSuffixEnablesAchievements"):void 0),[u],[c]),S=(0,l.useFacetWrap)(u(".narrationSuffixDisablesAchievements")),C=(0,l.useFacetWrap)(s(".expandHintNarration"));return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:i},r.createElement(My,{onChange:a,value:e,title:s(".useFlatWorldTitle"),description:s(".useFlatWorldDescription"),disabled:o,offNarrationText:F,onNarrationText:S,narrationSuffix:y})),r.createElement(l.Mount,{when:i,condition:!1},r.createElement(Ty,{title:s(".useFlatWorldTitle"),description:s(".useFlatWorldDescription"),value:e,onChange:a,disabled:o,narrationSuffix:y,offNarrationText:F,onNarrationText:S,onExpandNarrationHint:C},r.createElement(sA,{title:m(".title"),customSelectionDescription:r.createElement(h_,{preset:v}),options:g,value:b,onItemSelect:e=>n(y_[e]),disabled:o,wrapperRole:"neutral80",indented:!0,dropdownNarrationSuffix:h}))))}const C_=a.p+"assets/preset-ClassicFlat-2d2609c39fd1e95fa49f.jpeg",M_=a.p+"assets/preset-Desert-29f1e7dc98f8f52745b9.jpeg",w_=a.p+"assets/preset-Overworld-100a433571a272bb55b7.jpeg",k_=a.p+"assets/preset-SnowyKingdom-95b108816be1e5d0d355.jpeg",T_=a.p+"assets/preset-TunnelersDream-3e70538459cc5fc6df39.jpeg",P_=a.p+"assets/preset-WaterWorld-d22e6408bc068ec18f20.jpeg",I_={ClassicFlat:C_,TunnelersDream:T_,WaterWorld:P_,Overworld:w_,SnowyKingdom:k_,BottomlessPit:C_,Desert:M_,RedstoneReady:M_},x_=({isEditorWorld:e,onSeedValueChange:t,isSeedChangeLocked:a,worldData:n,onUnlockTemplateSettings:o,onWorldPreviewPathChange:i})=>{const{t:c}=Sc("CreateNewWorld.advanced"),s=(0,r.useContext)(tI)!==eI.CREATE,u=(0,l.useFacetMap)((e=>e.advanced),[],[n]),d=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[n]),m=(0,l.useFacetMap)((e=>e.isUsingTemplate),[],[n]),p=(0,l.useFacetMap)((e=>e.achievementsDisabled),[],[n]),f=(0,l.useFacetMap)((e=>e.general.isHardcore),[],[n]),g=(0,l.useFacetMap)((e=>e.achievementsPermanentlyDisabled),[],[n]),E=xN(),h=tv(PR),b=tv(tc),v=(0,l.useSharedFacet)(Bu),y={value:(0,l.useFacetMap)((e=>e.generatorType),[],[u]),onChange:(0,l.useFacetCallback)((e=>t=>{e.generatorType=t}),[],[u])},F=(0,l.useFacetMap)((e=>e&&b),[b],[v]),S=(0,l.useSharedFacet)(Bu),C=(0,l.useFacetMap)((e=>e.firesSpreads),[],[u]),M=(0,l.useFacetCallback)((e=>t=>{e.firesSpreads=t}),[],[u]),w=(0,l.useFacetMap)((e=>e.tntExplodes),[],[u]),k=(0,l.useFacetCallback)((e=>t=>{e.tntExplodes=t}),[],[u]),T=(0,l.useFacetMap)((e=>e.respawnBlocksExplode),[],[u]),P=(0,l.useFacetCallback)((e=>t=>{e.respawnBlocksExplode=t}),[],[u]);return r.createElement(xl,{data:F},(n=>r.createElement(r.Fragment,null,n?r.createElement(rI,{context:aI.ADVANCED_TAB}):r.createElement(L_,{isLockedTemplate:d,achievementsDisabled:p,achievementsPermanentlyDisabled:g,onUnlockTemplateSettings:o,isEditorWorld:e,isHardcoreMode:f},r.createElement(l.Mount,{when:e},r.createElement(l.DeferredMount,null,r.createElement(nO,{title:c(".projectHeader"),description:c(".projectDescription")}))),!s?r.createElement(l.Mount,{when:true},r.createElement(l.DeferredMount,null,r.createElement(jL,{label:c(".generatorTypeLabel"),options:[{value:Gu.Overworld,label:c(".vanillaWorldGeneratorLabel"),description:c(".vanillaWorldGeneratorDescription")},{value:Gu.Flat,label:c(".flatWorldGeneratorLabel"),description:c(".flatWorldGeneratorDescription")},{value:Gu.Void,label:c(".voidWorldGeneratorLabel"),description:c(".voidWorldGeneratorDescription")},{value:Gu.Legacy,label:c(".legacyWorldGeneratorLabel"),description:c(".legacyWorldGeneratorDescription")}],value:y.value,onChange:y.onChange}))):null,r.createElement(A_,{advancedData:u,isEditorWorld:e,onSeedValueChange:t,isSeedChangeLocked:a,showSeedTemplates:!0}),r.createElement(O_,{advancedData:u,isUsingTemplate:m,isLockedTemplate:d,achievementsDisabledMessages:E,isEditorWorld:e,isHardcoreMode:f,onWorldPreviewPathChange:i}),r.createElement(My,{title:c(".firesSpreadsTitle"),description:c(".firesSpreadsDescription"),value:C,onChange:M,disabled:S,onNarrationText:c(".firesSpreadsDescription")}),r.createElement(My,{title:c(".tntExplodesTitle"),description:c(".tntExplodesDescription"),value:w,onChange:k,disabled:S,onNarrationText:c(".tntExplodesDescription")}),r.createElement(N_,{advancedData:u,isUsingTemplate:m,isLockedTemplate:d}),r.createElement(My,{title:c(".respawnBlocksExplodeTitle"),disabled:S,description:c(".respawnBlocksExplodeDescription"),value:T,onChange:P,onNarrationText:c(".respawnBlocksExplodeDescription")}),r.createElement(R_,{advancedData:u,isUsingTemplate:m,isLockedTemplate:d,isHardcoreMode:f})))))},A_=({advancedData:e,isEditorWorld:t,onSeedValueChange:a,isSeedChangeLocked:n,showSeedTemplates:o})=>{const{t:i}=Sc("CreateNewWorld.advanced"),{t:c}=Sc("CreateNewWorld.all"),s=(0,r.useContext)(tI)!==eI.CREATE,u=tv(PR),d=Jr(),m=(0,l.useSharedFacet)(Ii),p=(0,l.useSharedFacet)(Ac),f=(0,l.useFacetMap)((e=>e.worldSeed),[],[e]),g=(0,l.useFacetMap)((e=>e.isClipboardCopySupported),[],[m]),E=(0,l.useFacetCallback)(((e,t,a)=>()=>{t.copyToClipboard(e),a.queueSnackbar(i(".copyToClipboard"))}),[i],[f,m,p]),h=s?E:()=>d.push("/create-new-world/seed-templates"),b=s?"":i(".worldSeedPlaceholder"),v=i(s?".worldSeedCopyButton":".worldSeedButton"),y=(0,l.useFacetMap)(((e,t,a)=>t||a&&u&&!s&&e.generatorType!=Gu.Overworld),[u,s],[e,n,t]);return o?r.createElement(l.DeferredMount,null,r.createElement(xl,{data:g},(e=>s&&!e?r.createElement(jy,{disabled:s,label:i(".worldSeedLabel"),description:i(".worldSeedDescription"),maxLength:32,value:f,onChange:a,placeholder:i(".worldSeedPlaceholder"),disabledNarrationSuffix:c(".narrationSuffixTemplateLocked"),"data-testid":"world-seed-text-field"}):r.createElement(jy.WithButton,{buttonInputLegend:v,buttonText:v,buttonOnClick:h,textDisabled:s,disabled:y,label:i(".worldSeedLabel"),description:i(".worldSeedDescription"),maxLength:32,value:f,onChange:a,placeholder:b,buttonNarrationHint:i(".narrationTemplatesButtonNarrationHint"),disabledNarrationSuffix:c(".narrationSuffixTemplateLocked"),"data-testid":"world-seed-with-button"})))):r.createElement(l.DeferredMount,null,r.createElement(jy,{disabled:y,label:i(".worldSeedLabel"),description:i(".worldSeedDescription"),maxLength:32,value:f,onChange:a,placeholder:i(".worldSeedPlaceholder"),disabledNarrationSuffix:c(".narrationSuffixTemplateLocked")}))},O_=({advancedData:e,isUsingTemplate:t,isLockedTemplate:a,achievementsDisabledMessages:n,isEditorWorld:o,isHardcoreMode:i,onWorldPreviewPathChange:c=(()=>{})})=>{const{t:s}=Sc("CreateNewWorld.advanced"),u=(0,r.useContext)(tI)!==eI.CREATE,d=(0,l.useSharedFacet)(Bu),m=tv(bl),p=tv(PR),f=(0,l.useFacetMap)((e=>!p||p&&!e),[p],[o]),g=(0,l.useFacetMap)(((e,t)=>e||t||u),[u],[t,d]),E=(0,l.useFacetMap)(((e,t)=>e||t),[],[i,g]),h=(0,l.useFacetMap)(((e,t)=>e||u||t),[u],[t,i]),b=(0,l.useFacetWrap)(!0),v=[{title:s(".startWithMapTitle"),description:s(".startWithMapDescription"),value:(0,l.useFacetMap)(((e,t)=>!t&&e.startWithMap),[],[e,i]),onChange:(0,l.useFacetCallback)((e=>t=>{e.startWithMap=t}),[],[e]),disabled:h,visible:b},{title:s(".bonusChestTitle"),description:s(".bonusChestDescription"),value:(0,l.useFacetMap)(((e,t)=>!t&&e.bonusChest),[],[e,i]),onChange:(0,l.useFacetCallback)((e=>t=>{e.bonusChest=t}),[],[e]),disabled:E,visible:b}],y={title:s(".recipesUnlockTitle"),description:s(".recipesUnlockDescription"),value:(0,l.useFacetMap)((e=>e.recipesUnlock),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.recipesUnlock=t}),[],[e]),disabled:d,onNarrationText:s(".recipesUnlockDescription"),visible:b},F=[{title:s(".showCoordinatesTitle"),description:s(".showCoordinatesDescription"),value:(0,l.useFacetMap)((e=>e.showCoordinates),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.showCoordinates=t}),[],[e]),disabled:d,onNarrationText:s(".showCoordinatesDescription")},{title:s(".showDaysPlayedTitle"),description:s(".showDaysPlayedDescription"),value:(0,l.useFacetMap)((e=>e.showDaysPlayed),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.showDaysPlayed=t}),[],[e]),disabled:d,onNarrationText:s(".showCoordinatesDescription")},...m?[y]:[]];return r.createElement(r.Fragment,null,r.createElement(l.DeferredMount,null,r.createElement(l.Mount,{when:f},r.createElement(S_,{value:(0,l.useFacetMap)((e=>e.useFlatWorld),[],[e]),preset:(0,l.useFacetMap)((e=>e.flatWorldPreset),[],[e]),onValueChanged:(0,l.useFacetCallback)((e=>t=>{e.useFlatWorld=t,t&&e.flatWorldPreset?c(I_[e.flatWorldPreset]):c("")}),[c],[e]),onPresetChanged:(0,l.useFacetCallback)((e=>t=>{e.flatWorldPreset=t,e.useFlatWorld?c(I_[t]):c("")}),[c],[e]),disabled:g,hideAccordion:(0,l.useFacetMap)((e=>null==e.flatWorldPreset),[],[e]),achievementsDisabledMessages:n}))),u?r.createElement(r.Fragment,null):v.map((e=>{var t;return r.createElement(l.DeferredMount,{key:e.title},r.createElement(l.Mount,{when:e.visible},r.createElement(My,{title:e.title,disabled:null!==(t=e.disabled)&&void 0!==t?t:a,description:e.description,onChange:e.onChange,value:e.value})))})),r.createElement(l.Mount,{when:o},r.createElement(l.DeferredMount,null,r.createElement(nO,{title:s(".exportSettingsHeader"),description:s(".exportSettingsDescription")}))),F.map((e=>{var t;return r.createElement(l.DeferredMount,{key:e.title},r.createElement(My,{title:e.title,disabled:null!==(t=e.disabled)&&void 0!==t?t:a,description:e.description,onChange:e.onChange,value:e.value}))})))},N_=({advancedData:e,isUsingTemplate:t,isLockedTemplate:a})=>{const{t:n}=Sc("CreateNewWorld.advanced"),o=(0,l.useSharedFacet)(Bu),i=(0,l.useFacetMap)(((e,t)=>e||t),[],[t,o]),c=[{title:n(".mobLootTitle"),description:n(".mobLootDescription"),value:(0,l.useFacetMap)((e=>e.mobLoot),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.mobLoot=t}),[],[e]),disabled:o,onNarrationText:n(".mobLootDescription")},{title:n(".naturalRegenerationTitle"),description:n(".naturalRegenerationDescription"),value:(0,l.useFacetMap)((e=>e.naturalRegeneration),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.naturalRegeneration=t}),[],[e]),disabled:o,onNarrationText:n(".naturalRegenerationDescription")},{title:n(".tileDropsTitle"),description:n(".tileDropsDescription"),value:(0,l.useFacetMap)((e=>e.tileDrops),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.tileDrops=t}),[],[e]),disabled:o,onNarrationText:n(".tileDropsDescription")}];return r.createElement(r.Fragment,null,c.map((e=>{var t;return r.createElement(l.DeferredMount,{key:e.title},r.createElement(My,{title:e.title,disabled:null!==(t=e.disabled)&&void 0!==t?t:a,description:e.description,onChange:e.onChange,value:e.value}))})),r.createElement(l.DeferredMount,null,r.createElement(B_,{advancedData:e,isTrialAccount:o})),r.createElement(l.DeferredMount,null,r.createElement(D_,{disabled:i,isLockedTemplate:a,advancedData:e})))},R_=({advancedData:e,isUsingTemplate:t,isLockedTemplate:a,isHardcoreMode:n})=>{const{t:o}=Sc("CreateNewWorld.advanced"),i=(0,r.useContext)(tI)!==eI.CREATE,c=(0,l.useSharedFacet)(Bu),s=(0,l.useFacetMap)(((e,t)=>e||t),[],[t,c]),u=(0,l.useFacetMap)(((e,t)=>e||t||i),[i],[t,c]),d=(0,l.useFacetMap)(((e,t)=>e||t),[],[n,u]),m=(0,l.useFacetMap)((({simulationDistanceOptions:e})=>e.length<=1),[],[(0,l.useSharedFacet)(uu)]),p=(0,l.useFacetMap)(((e,t)=>e||t),[],[m,a]),f=(0,l.useFacetMap)(((e,t)=>e||i||t),[i],[t,n]),g=(0,l.useFacetWrap)(!0),E=[{title:o(".startWithMapTitle"),description:o(".startWithMapDescription"),value:(0,l.useFacetMap)(((e,t)=>!t&&e.startWithMap),[],[e,n]),onChange:(0,l.useFacetCallback)((e=>t=>{e.startWithMap=t}),[],[e]),disabled:f,visible:g},{title:o(".bonusChestTitle"),description:o(".bonusChestDescription"),value:(0,l.useFacetMap)(((e,t)=>!t&&e.bonusChest),[],[e,n]),onChange:(0,l.useFacetCallback)((e=>t=>{e.bonusChest=t}),[],[e]),disabled:d,visible:g}];return r.createElement(r.Fragment,null,r.createElement(l.DeferredMount,null,r.createElement(W_,{label:o(".respawnRadiusLabel"),disabled:s,description:o(".respawnRadiusDescription"),placeholder:o(".respawnRadiusPlaceholder"),advancedData:e})),r.createElement(l.DeferredMountWithCallback,null,r.createElement(__,{title:o(".simulationDistanceTitle"),disabled:p,advancedData:e})),i?E.map((e=>{var t;return r.createElement(l.DeferredMount,{key:e.title},r.createElement(My,{title:e.title,disabled:null!==(t=e.disabled)&&void 0!==t?t:a,description:e.description,onChange:e.onChange,value:e.value}))})):r.createElement(r.Fragment,null))},L_=({onUnlockTemplateSettings:e,isEditorWorld:t,isHardcoreMode:a,children:n})=>{const{t:o}=Sc("CreateNewWorldSideMenu"),i=(0,r.useContext)(tI)!==eI.CREATE,c=!0!==(0,l.useFacetUnwrap)(a)||i?void 0:gN.ADVANCED_TAB;return r.createElement(l.DeferredMountProvider,null,r.createElement(AN,{narrationText:o(".advancedTabLabel"),onUnlockTemplateSettings:e,isEditorWorld:t,hardcoreModeMessageTab:c},n))};function __({title:e,disabled:t,advancedData:a}){const{t:n}=Sc("CreateNewWorld.advanced"),o=(0,r.useCallback)(((e,t)=>({label:n(".simulationDistanceOption",[`${e}`]),value:e,description:n(t,[""+16*e,`${e}`])})),[n]),i=(0,l.useFacetMap)((({simulationDistanceOptions:e})=>{const t=e.length>1,a=t?".simulationDistanceDescription":".simulationDistanceDescriptionOnlyOne";return(t?e:[4,6,8]).map((e=>o(e,a)))}),[o],[(0,l.useSharedFacet)(uu)]),c=(0,l.useFacetCallback)((e=>t=>{e.simulationDistance=t}),[],[a]);return r.createElement(mA,{onMountComplete:(0,l.useNotifyMountComplete)(),title:e,options:i,value:(0,l.useFacetMap)((e=>e.simulationDistance),[],[a]),onChange:c,disabled:t,wrapToggleText:!0})}function D_({disabled:e,isLockedTemplate:t,advancedData:a}){const{t:n}=Sc("CreateNewWorld.advanced"),o=(0,l.useFacetMap)((e=>e.immediateRespawn),[],[a]),i=(0,l.useFacetCallback)((e=>t=>{e.immediateRespawn=t}),[],[a]);return r.createElement(r.Fragment,null,r.createElement(My,{title:n(".immediateRespawnTitle"),disabled:null!=e?e:t,description:n(".immediateRespawnDescription"),onChange:i,value:o,onNarrationText:n(".immediateRespawnDescription")}))}function W_({label:e,description:t,placeholder:a,disabled:n,advancedData:o}){const{t:i}=Sc("CreateNewWorld.all"),{t:c}=Sc("CreateNewWorld.advanced.narration"),{narrateText:s}=Hf({interruptible:!1}),u=(0,l.useFacetMap)((e=>e.respawnRadius.toString()),[],[o]),d=(0,l.useFacetCallback)((e=>t=>{e.respawnRadius=t}),[],[o]),m=(0,r.useCallback)(((e,t)=>{const a=e.match(/^[0-9]*$/g),n=parseInt(e)<=128;return 0!==e.length&&a?n?qg.ValidationResult.VALID:(s(c(".respawnRadiusNotWithinRange")),t(128..toString()),qg.ValidationResult.INVALID):(s(c(".respawnRadiusInvalidValue")),t(10..toString()),qg.ValidationResult.INVALID)}),[s,c]);return r.createElement(r.Fragment,null,r.createElement(jy,{label:e,description:t,maxLength:8,value:u,disabled:n,onChange:d,onBlur:m,placeholder:a,disabledNarrationSuffix:i(".narrationSuffixTemplateLocked"),isNumber:!0}))}function B_({advancedData:e,isTrialAccount:t}){const{t:a}=Sc("CreateNewWorld.advanced"),{t:n}=Sc("CreateNewWorld.advanced.sleepSlider"),o=(0,l.useFacetMap)((e=>e.sleepSkipNight),[],[e]),i=(0,l.useFacetCallback)((e=>t=>{e.sleepSkipNight=t}),[],[e]),c=(0,l.useFacetMap)((e=>!Boolean(e.sleepSkipNight)),[],[e]),s=(0,l.useFacetMap)((e=>e.sleepSkipNightPercent<100?e.sleepSkipNightPercent:100),[],[e]),u=(0,l.useFacetCallback)((e=>t=>{t<=100&&(e.sleepSkipNightPercent=t)}),[],[e]),d=(0,l.useFacetMap)((e=>e.sleepSkipNightPercent>100?n(".disabled"):100===e.sleepSkipNightPercent?n(".all",[`(${e.sleepSkipNightPercent}%)`]):50===e.sleepSkipNightPercent?n(".half",[`(${e.sleepSkipNightPercent}%)`]):e.sleepSkipNightPercent>50?n(".most",[`(${e.sleepSkipNightPercent}%)`]):0===e.sleepSkipNightPercent?n(".one"):e.sleepSkipNightPercent>0?n(".some",[`(${e.sleepSkipNightPercent}%)`]):""),[n],[e]);return r.createElement(r.Fragment,null,r.createElement(My,{title:a(".sleepToSkipNightTitle"),disabled:t,description:a(".sleepToSkipNightDescription"),onChange:i,value:o,onNarrationText:a(".sleepToSkipNightDescription")}),r.createElement(a_,{title:a(".sleepToSkipNightPercentTitle"),disabled:c,description:a(".sleepToSkipNightPercentDescription"),onChange:u,value:s,valueText:d}))}x_.Wrapper=L_,x_.WorldSeedField=A_,x_.DefaultFieldsUpper=O_,x_.DefaultFieldsMiddle=N_,x_.DefaultFieldsLower=R_;const U_=x_,z_=a.p+"assets/steve-island-d0eb3b90094f2d4de49b.png";var H_;!function(e){e.NintendoPromotion="nintendo-promotion",e.EditRealm="edit-realm",e.PlayStationSignInMessage="PlayStation-sign-in-message",e.NintendoSignInMessage="Nintendo-sign-in-message",e.TrialMode="trial-mode",e.Default="default"}(H_||(H_={}));const j_=({worldPacks:e,worldData:t,onDeactivatePack:a,onUnlockTemplateSettings:n,isEditorWorld:o})=>{const{t:i}=Sc("CreateNewWorld.multiplayer"),{t:c}=Sc("CreateNewWorld.all"),s=(0,r.useContext)(tI),u=s!==eI.CREATE,d=tv(tc),m=(0,l.useSharedFacet)(Wu),p=(0,l.useSharedFacet)(Bu),f=(0,l.useSharedFacet)(pu),g=(0,l.useSharedFacet)(dl),E=xN(),h=(0,l.useFacetMap)((e=>e.platform),[],[(0,l.useSharedFacet)(dl)]),b=(0,l.useFacetMap)((e=>e.multiplayer),[],[t]),v=(0,l.useFacetMap)((e=>Tk(e)||Ik(e)),[],[h]),y=(0,l.useFacetMap)(((e,t,a)=>Tk(t)&&!e.hasPremiumNetworkAccess&&a.isOnline&&e.isSignedInPlatformNetwork),[],[m,h,g]),F=(0,l.useFacetMap)((e=>!Ik(e)),[],[h]),S=(0,l.useFacetMap)(((e,t,a)=>!a&&(!e.multiplayerSupported||t.isTrialAccount||e.generalWarningState===Ec.NON_MULTIPLAYER_SKIN_EQUIPPED||e.generalWarningState===Ec.MULTIPLAYER_PRIVILEGES_BLOCKED)),[],[b,m,y]),C=(0,l.useFacetMap)(((e,t,a)=>a||!e.multiplayerGame||t),[],[b,S,y]),M=(0,l.useFacetMap)(((e,t)=>Ik(t)&&!e.hasPremiumNetworkAccess),[],[m,h]),w=(0,l.useFacetMap)(((e,t)=>Tk(t)&&!e.isSignedInPlatformNetwork),[],[m,h]),k=(0,l.useFacetMap)(((e,t)=>Ik(t)&&!e.isSignedInPlatformNetwork),[],[m,h]),T=(0,l.useFacetMap)(((e,t)=>t&&!e.isLoggedInWithMicrosoftAccount),[],[m,v]),P=(0,l.useFacetMap)(((e,t)=>e.generalWarningState===Ec.CHECK_INTERNET_CONNECTION||t),[],[b,C]),I=(0,l.useFacetMap)((e=>!e),[],[T]),x=(0,l.useFacetMap)((e=>e.platformPlayerAccessSupported),[],[b]),A=(0,l.useFacetMap)((e=>e.activeTexturePacks),[],[e]),O=xO.useShowModal(),N=(0,l.useFacetCallback)(((e,t,n,r,l)=>o=>{if(!r)return o?void(!function(e,t){for(let t=0;t<e.length;t++)if(e[t].isPlatformLocked)return!0;return!1}(t)?(u&&n.trackOptionChanged($N.MultiplayerChanged,Number(e.multiplayerGame),Number(o)),e.multiplayerGame=o):O({multiplayerData:b,activePacks:A,onDeactivatePack:a})):(u&&n.trackOptionChanged($N.MultiplayerChanged,Number(e.multiplayerGame),Number(o)),e.multiplayerGame=o);l.showPremiumNetworkUpsellModal()}),[O,a,b,u,A],[b,A,f,y,(0,l.useSharedFacet)(Wu)]),R=(0,l.useFacetMap)(((e,t)=>e.playerPermissions===gc.OPERATOR&&1===t.length?[i(".narrationMultiplayerAdditionalSettingsDisabled"),c(".narrationSuffixEnablesAchievements")].join(" . "):i(".narrationMultiplayerAdditionalSettingsDisabled")),[i,c],[b,E]),L=(0,l.useFacetMap)((e=>e.generalWarningState),[],[b]),_=(0,l.useFacetMap)(((e,t,a)=>!a&&e.multiplayerGame&&!t),[],[b,S,y]),D=(0,l.useFacetMap)((e=>e.friendlyFire),[],[b]),W=(0,l.useFacetMap)((e=>e&&d),[d],[p]),B=(0,l.useFacetMap)(((e,t,a,n)=>a?H_.NintendoSignInMessage:n?H_.PlayStationSignInMessage:e?H_.NintendoPromotion:s===eI.EDIT_REALM?H_.EditRealm:t?H_.TrialMode:H_.Default),[s],[M,W,k,w]),U=(0,l.useFacetCallback)((e=>t=>{e.friendlyFire=t}),[],[b]),z=(0,l.useFacetUnwrap)(L),H=z===l.NO_VALUE?void 0:z;return r.createElement(l.DeferredMountProvider,null,r.createElement(xl,{data:B},(e=>{switch(e){case H_.NintendoSignInMessage:return r.createElement(V_,{multiplayerWarningState:H,onUnlockTemplateSettings:n,isEditorWorld:o},r.createElement(dP,null),r.createElement(xI,{borderless:!0,context:II.Nintendo}));case H_.PlayStationSignInMessage:return r.createElement(V_,{multiplayerWarningState:H,onUnlockTemplateSettings:n,isEditorWorld:o},r.createElement(dP,null),r.createElement(xI,{borderless:!0,context:II.Playstation}));case H_.NintendoPromotion:return r.createElement(V_,{multiplayerWarningState:H,onUnlockTemplateSettings:n,isEditorWorld:o},r.createElement(Z_,null));case H_.TrialMode:return r.createElement(rI,{context:aI.MULTIPLAYER_TAB});case H_.EditRealm:return r.createElement(V_,{multiplayerWarningState:H,onUnlockTemplateSettings:n,isEditorWorld:o},r.createElement($_,{multiplayerDisabled:C,friendlyFire:D,handleFriendlyFire:U}),r.createElement(eD,null));case H_.Default:return r.createElement(V_,{multiplayerWarningState:H,onUnlockTemplateSettings:n,isEditorWorld:o},r.createElement(l.DeferredMount,null,r.createElement(My,{"data-testid":"multiplayer-state-switch",key:i(".multiplayerGameTitle"),title:i(".multiplayerGameTitle"),description:i(".multiplayerGameDescription"),onNarrationText:i(".narrationMultiplayerAdditionalSettingsEnabled"),offNarrationText:R,value:_,disabled:S,onChange:N})),r.createElement(Zf,{text:[i(".settingsTitle"),i(".narrationComponentTypeSectionHeader")].join(" . ")},r.createElement(l.DeferredMount,null,r.createElement(nO,{title:i(".settingsTitle")})),r.createElement(l.Mount,{when:x},r.createElement(l.DeferredMountWithCallback,null,r.createElement(K_,{platform:h,multiplayer:b,disabled:C}))),r.createElement(l.Mount,{when:T},r.createElement(l.DeferredMount,null,r.createElement(J_,{gamepadIndex:2,disabled:P}))),r.createElement(l.Mount,{when:I},r.createElement(l.DeferredMountWithCallback,null,r.createElement(Y_,{disabled:C,multiplayer:b}))),r.createElement("div",{className:"ac363ef7edc06aed9ee4"},r.createElement(xM.Visitor,null),r.createElement(xM.Member,null),r.createElement(xM.Operator,null),r.createElement(xM.Visitor,{disabled:!0}),r.createElement(xM.Member,{disabled:!0}),r.createElement(xM.Operator,{disabled:!0})),r.createElement(G_,{multiplayerData:b,multiplayerDisabled:C,achievementsDisabledMessages:E}),r.createElement(l.Mount,{when:F},r.createElement(q_,{multiplayerData:b,disabled:C})),r.createElement($_,{multiplayerDisabled:C,friendlyFire:D,handleFriendlyFire:U}),r.createElement(Q_,{multiplayerData:b,disabled:C})))}})))},V_=({multiplayerWarningState:e,onUnlockTemplateSettings:t,isEditorWorld:a,children:n})=>{const{t:o}=Sc("CreateNewWorldSideMenu");return r.createElement(l.DeferredMountProvider,null,r.createElement(AN,{isEditorWorld:a,multiplayerWarningState:e,narrationText:o(".multiplayerTabLabel"),onUnlockTemplateSettings:t},n))},G_=({multiplayerData:e,multiplayerDisabled:t,achievementsDisabledMessages:a})=>r.createElement(l.DeferredMountWithCallback,null,r.createElement(X_,{multiplayer:e,disabled:t,achievementsDisabledMessages:a})),$_=({multiplayerDisabled:e,friendlyFire:t,handleFriendlyFire:a})=>{const{t:n}=Sc("CreateNewWorld.multiplayer");return r.createElement(l.DeferredMount,null,r.createElement(My,{key:n(".friendlyFireTitle"),title:n(".friendlyFireTitle"),description:n(".friendlyFireDescription"),disabledNarrationSuffix:n(".multiplayerSettingsDisabledNarrationHint"),disabled:e,value:t,onChange:a}))};function K_({platform:e,multiplayer:t,disabled:a}){const{t:n}=Sc("CreateNewWorld.multiplayer"),o=(0,l.useFacetMap)(((e,t)=>!e.platformPlayerAccessEnabled||!e.multiplayerGame||t),[],[t,a]),i=(0,l.useFacetMemo)(((e,t)=>function(e,t,a){const n=[];return e.platformPlayerInviteAccessSupported&&!Ik(t)&&n.push({label:a(".playerAccessInvitedLabel"),value:fc.INVITED,description:Ik(t)?a(".nintendoPlayerAccessInvitedDescription"):Tk(t)?a(".playstationPlayerAccessInvitedDescription"):a(".playerAccessInvitedDescription")}),n.push({label:a(".playerAccessFriendsLabel"),value:fc.FRIENDS,description:Ik(t)?a(".nintendoPlayerAccessFriendsDescription"):Tk(t)?a(".playstationPlayerAccessFriendsDescription"):a(".playerAccessFriendsDescription")}),n.push({label:a(".playerAccessFriendsOfFriendsLabel"),value:fc.FRIENDS_OF_FRIENDS,description:Ik(t)?a(".nintendoPlayerAccessFriendsOfFriendsDescription"):Tk(t)?a(".playstationPlayerAccessFriendsOfFriendsDescription"):a(".playerAccessFriendsOfFriendsDescription")}),n}(e,t,n)),[n],[t,e]),c=(0,l.useFacetUnwrap)((0,l.useFacetMemo)((e=>Ik(e)?n(".nintendoPlayerAccessTitle"):Tk(e)?n(".playstationPlayerAccessTitle"):n(".playerAccessTitle")),[n],[e]));return r.createElement(mA,{onMountComplete:(0,l.useNotifyMountComplete)(),title:c===l.NO_VALUE?n(".playerAccessTitle"):c,disabled:o,wrapToggleText:!0,options:i,value:(0,l.useFacetMap)((e=>e.platformPlayerAccess),[],[t]),onChange:(0,l.useFacetCallback)((e=>t=>{e.platformPlayerAccess=t}),[],[t])})}function Y_({disabled:e,multiplayer:t}){const{t:a}=Sc("CreateNewWorld.multiplayer"),n=(0,l.useFacetMap)((e=>e.platformPlayerAccessSupported),[],[t]),o=(0,l.useFacetUnwrap)((0,l.useFacetMemo)((e=>a(e?".microsoftPlayerAccessTitle":".playerAccessTitle")),[a],[n]));return r.createElement(mA,{disabledNarrationSuffix:a(".multiplayerSettingsDisabledNarrationHint"),onMountComplete:(0,l.useNotifyMountComplete)(),title:o!==l.NO_VALUE?o:a(".playerAccessTitle"),disabled:e,wrapToggleText:!0,options:[{label:a(".playerAccessInvitedLabel"),value:fc.INVITED,description:a(".playerAccessInvitedDescription")},{label:a(".playerAccessFriendsLabel"),value:fc.FRIENDS,description:a(".playerAccessFriendsDescription")},{label:a(".playerAccessFriendsOfFriendsLabel"),value:fc.FRIENDS_OF_FRIENDS,description:a(".playerAccessFriendsOfFriendsDescription")}],value:(0,l.useFacetMap)((e=>e.playerAccess),[],[t]),onChange:(0,l.useFacetCallback)((e=>t=>{e.playerAccess=t}),[],[t])})}function X_({multiplayer:e,disabled:t,achievementsDisabledMessages:a}){const{t:n}=Sc("CreateNewWorld.multiplayer"),{t:o}=Sc("CreateNewWorld.all"),i=(0,l.useFacetMap)(((e,t)=>[{label:n(".playerPermissionsVisitorLabel"),value:gc.VISITOR,description:n(".playerPermissionsVisitorDescription"),Icon:xM.Visitor,narrationSuffix:e.playerPermissions===gc.OPERATOR&&1===t.length?o(".narrationSuffixEnablesAchievements"):void 0},{label:n(".playerPermissionsMemberLabel"),value:gc.MEMBER,description:n(".playerPermissionsMemberDescription"),Icon:xM.Member,narrationSuffix:e.playerPermissions===gc.OPERATOR&&1===t.length?o(".narrationSuffixEnablesAchievements"):void 0},{label:n(".playerPermissionsOperatorLabel"),value:gc.OPERATOR,description:n(".playerPermissionsOperatorDescription"),Icon:xM.Operator,narrationSuffix:o(".narrationSuffixDisablesAchievements")}]),[n,o],[e,a]);return r.createElement(mA,{disabledNarrationSuffix:n(".multiplayerSettingsDisabledNarrationHint"),onMountComplete:(0,l.useNotifyMountComplete)(),title:n(".playerPermissionsTitle"),disabled:t,options:i,value:(0,l.useFacetMap)((e=>e.playerPermissions),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.playerPermissions=t}),[],[e])})}function q_({multiplayerData:e,disabled:t}){const{t:a}=Sc("CreateNewWorld.multiplayer"),n=(0,l.useFacetMap)((e=>e.visibleToLanPlayers),[],[e]),o=(0,l.useFacetCallback)((e=>t=>{e.visibleToLanPlayers=t}),[],[e]);return r.createElement(My,{key:a(".visibleToLanPlayersTitle"),title:a(".visibleToLanPlayersTitle"),description:a(".visibleToLanPlayersDescription"),disabledNarrationSuffix:a(".multiplayerSettingsDisabledNarrationHint"),disabled:t,value:n,onChange:o})}function Q_({multiplayerData:e,disabled:t}){const{t:a}=Sc("CreateNewWorld.multiplayer"),n=(0,l.useFacetMap)((e=>e.locatorBarEnabled),[],[e]),o=(0,l.useFacetCallback)((e=>t=>{e.locatorBarEnabled=t}),[],[e]);return r.createElement(My,{key:a(".locatorBarTitle"),title:a(".locatorBarTitle"),description:a(".locatorBarDescription"),disabledNarrationSuffix:a(".multiplayerSettingsDisabledNarrationHint"),disabled:t,value:n,onChange:o})}function Z_(){const{t:e}=Sc("CreateNewWorld.multiplayer");return r.createElement(_v,{borderless:!0,gamepadIndex:0,title:e(".nintendoSubscriptionPromotionTitle"),text:e(".nintendoSubscriptionPromotionBody"),imgSrc:z_,imgClass:"db47df99e516fbd449a1",buttons:[{text:e(".nintendoSubscriptionPromotionButtonLabel"),onClick:(0,l.useFacetCallback)((e=>()=>e.showPremiumNetworkUpsellModal()),[],[(0,l.useSharedFacet)(Wu)]),inputLegend:e(".nintendoSubscriptionPromotionButtonLabel")}]})}function J_({gamepadIndex:e,disabled:t}){const{t:a}=Sc("CreateNewWorld.multiplayer"),n=p();return r.createElement(Fg,null,r.createElement(Cg,null,a(".microsoftSignInButtonTitle")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:a(".microsoftSignInButtonLabel"),onClick:()=>n.push("/sign-in?signInSource=MultiplayerTab_OreUI"),gamepadIndex:e,disabled:t},a(".microsoftSignInButtonLabel")))}function eD(){const{t:e}=Sc("MultiplayerTab.PlayerAccessPanel"),t=p(),a=RN(),n=(0,l.useFacetCallback)((e=>()=>{t.push(`/settings/members/${e}`)}),[t],[a]);return r.createElement(Fg,{compact:!0},r.createElement(Nm,{size:4}),r.createElement(Cg,null,e(".title")),r.createElement(Nm,{size:2}),r.createElement(Ug,{variant:"secondary",inputLegend:e(".manageMembersLegend"),onClick:n},e(".manageMembersButton")),r.createElement(Nm,{size:4}))}j_.Wrapper=V_,j_.PlayerPermissionsSection=G_,j_.FriendlyFireSwitch=$_;const tD=j_;function aD({text:e}){return r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(zm,{type:"captionShort",variant:"dimmer"},e))}function nD(){return nD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},nD.apply(null,arguments)}function rD(e){var t;return e.shouldSkipLandmarkInVisual?r.createElement(Xr,{disabled:e.disabled},e.children):null==e.containerRef?r.createElement(Xr,e,e.children):r.createElement(Yp,nD({},e,{delegateFocusFromMemory:e.delegateFocusFromMemory||"remember"===e.defaultFocusedChildBehavior,delegateFocusByAlias:null!==(t=e.delegateFocusByAlias)&&void 0!==t?t:e.defaultFocusedChildAlias}))}const lD=a.p+"assets/draggable-icon-cb81f4a8941c41e205e7.png",oD=a.p+"assets/arrow-down-f9b6cfa29e676688dc0f.png",iD=a.p+"assets/remove-icon-5a112118b7211ddeab31.png",cD=a.p+"assets/settings-icon-af819edcc21a62294086.png",sD=a.p+"assets/add-icon-675d057087530fce54e7.png",uD=a.p+"assets/warning-icon-e02fbee1d24691eaebf1.png",dD=a.p+"assets/missing-pack-icon-010c87c773e1a21c8ac7.png",mD={packImage:"e458fb2ab0c37be23e2f",border:"b4b2395deb0c6412846c",draggableIcon:"ca1f6785a10f732beebf",expandArrowIcon:"e595626f196069dd4c82",flipped:"b3b4126d74b554825441",settingsIcon:"fb18abf26e78984c6da0",removeIcon:"e63aea9c387b15180272",addIcon:"bf969e3473ce1ea2d540",expandableWrapper:"ecaa54c1855e1be474fd",expanded:"a1e0a2b8e867e1c763b9",expandableContent:"dd2d1ce78bdc70bb23c3",expandableContentWrapper:"f9c0cc4f0eeef721dcc3",expandableContentDescription:"a68f795c7f52d05f1dfb",expandableContentLinksWrapper:"f6a2fb8abb438656b256",disabledPackImage:"a827c6357b759fc21acf"};function pD(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fD(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pD(Object(a),!0).forEach((function(t){gD(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pD(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function gD(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ED(){const e={active:0,available:0,realms:0};return t=>Object.keys(e).reduce(((a,n)=>{var r,l,o;const i=null!==(r=null===(l=t[n])||void 0===l||null===(o=l.resourcePacks)||void 0===o?void 0:o.length)&&void 0!==r?r:0,c=e[n]===i;return e[n]=i,a?c:a}),!0)}function hD(){const e=(0,r.useRef)(!0),{narrateText:t}=Hf({interruptible:!1}),{t:a}=Fc("CreateNewWorld.resourcePacks");return(0,r.useCallback)((n=>{e.current&&"activate"===n?(t(a(".activateNarrationFirstPack")),e.current=!1):t(a(`.${n}Narration`))}),[t,a])}function bD(e,t,a,n,o,i){const c=Ce(),s=dn(),u=(0,r.useRef)(null),d=(0,r.useRef)(null),m=(0,r.useRef)(null),p=(0,r.useRef)(null),f=$O.useShowModal(),g=hD(),E=hD(),h=(0,r.useCallback)(((t,a,n)=>{u.current=t,d.current=a,m.current=n,p.current="remove",i(t,e)}),[e,i]),b=(0,l.useFacetCallback)((t=>(a,n,r,l,i,c)=>{u.current=a,d.current=i,m.current=c,p.current="activate",l&&t.multiplayerGame?f({multiplayerData:t,packId:a,packType:e,packName:n,packSize:r,onActivatePack:o}):o(a,e,n,r)}),[f,e,o],[n]),v=(0,l.useFacetMemo)((a=>Object.keys(t).reduce(((n,r)=>{const l=t[r],o=`${r}${e===ad.Behavior?"BehaviorPacks":"TexturePacks"}`,i=a[o];return fD(fD({},n),{},{[r]:{gamepadAliases:l,resourcePacks:i}})}),{})),[t,e],[a],ED);return(0,l.useFacetEffect)((t=>{if(null==u.current||null==d.current||null==m.current||null==p.current)return;e===ad.Resource&&E(p.current),e===ad.Behavior&&g(p.current);const a=t[m.current];if(0===a.resourcePacks.length){const e=s?a.gamepadAliases.emptyStateMessageAlias:a.gamepadAliases.tabsAlias;return void c(e)}const n=null!=a.resourcePacks[d.current]?d.current:d.current-1,r=a.resourcePacks[n].id,l=vD(p.current,r);c(l)}),[c,s,e,E,g],[v]),{deactivatePack:h,activatePack:b}}function vD(e,t){return`${e}-${t}`}const yD=(0,r.createContext)(null);function FD(e){return(0,l.useFacetMap)((e=>null!=e?e:{id:"-1",contentId:"-1",name:"-1",creator:"-1",description:"-1",size:"-1",image:void 0,isMarketplaceItem:!1,isPlatformLocked:!1,hasSettings:!1}),[],[e])}function SD(e){return e}function CD(){return CD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},CD.apply(null,arguments)}const MD="_GLOBAL_MINECRAFT_TEXTURE_PACK_";function wD({pack:e,gamepadIndex:t,index:a,draggable:n,removable:o,activatable:i,canShowSettingsButton:c=!1,expandedPackId:s,containerListLength:u,outerRole:d="neutral",innerRole:m="neutral80",onDragStart:p=ID,onDrop:f=ID,onExpand:g=ID,onRemove:E=ID,onActivate:h=ID,onClickPackSettings:b=ID,onClickMoreDetails:v=ID,showTechnicalDetailsLink:y=!1}){const{t:F}=Fc("PackListItem"),S=Jr(),C=st(),M=(0,l.useSharedFacet)(pu),w=(0,l.useFacetWrap)(n||!1),k=(0,l.useFacetWrap)(null!=o&&o),T=(0,l.useFacetWrap)(null!=i&&i),P=FD(e),I=(0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>e.id),[],[P])),x=(0,l.useFacetMap)((e=>e.name),[],[P]),A=(0,l.useFacetMap)((e=>e.size),[],[P]),O=(0,l.useFacetMap)((e=>e.description),[],[P]),N=(0,l.useFacetMap)((e=>e.isPlatformLocked),[],[P]),R=(0,l.useFacetRef)(N,!1),L=(0,l.useFacetMap)((e=>{switch(e.error){case rd.PackDependencyWarning:return F(".errorPackMissingDependencies");case rd.ContentTierIncompatible:return F(".errorPackNotCompatible");case rd.ContentTierIncompatibleMemory:return F(".errorPackNotCompatibleMemory");case rd.ContentTierIncompatibleRayTracing:return F(".errorPackNotCompatibleRayTracing");case rd.NoPackAccess:return F(".errorPackAccess");case rd.UnsupportedFileFormat:return F(".errorPackUnsupportedFormat");case rd.NoManifest:case rd.MissingProperty:case rd.WrongTypeProperty:case rd.EmptyProperty:case rd.InvalidProperty:case rd.MalformedPropertyUUID:case rd.MalformedPropertyVERSION:case rd.DuplicateUUID:case rd.InvalidJSON:case rd.MissingModules:case rd.MultipleModules:case rd.UnsupportedFormatVersion:return F(".errorPackReading");case rd.VersionTooHigh:case rd.VersionTooLow:return F(".errorPackIncompatibleVersion");case rd.IncompletePack:return F(".errorPackIncomplete");default:return""}}),[F],[P]),_=(0,l.useFacetMap)((e=>e.error===rd.PackDependencyWarning||e.error===rd.IncompletePack||e.error===rd.VersionTooHigh||e.error===rd.VersionTooLow?"noticeTint":"destructiveTint"),[],[P]),D=(0,l.useFacetMap)((e=>0!=e.length),[],[L]),W=(0,l.useFacetMap)(((e,t)=>!(!e||t.error===rd.NeedToDownloadPack)&&(c||t.error===rd.VersionTooHigh||t.error===rd.VersionTooLow||t.error===rd.IncompletePack)),[c],[D,P]),B=(0,l.useFacetMap)((e=>!e.isMarketplaceItem),[],[P]),U=(0,l.useFacetMap)((e=>null!=e.image&&e.image.length>0?e.image:dD),[],[P]),z=(0,r.useRef)(null),H=(0,l.useFacetMap)((e=>e?1:0),[],[w]),j=(0,l.useFacetMap)((e=>e===I),[I],[s]),V=!1===(0,l.useFacetUnwrap)(j),G=!0===(0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>!e),[],[w])),{handlers:$,dragStateFacet:K}=function({id:e,data:t,index:a,ref:n,pointerAxisLock:o,onDragStart:i,disabled:c,gamepadDragXOffsetPx:s,gamepadDragYOffsetPx:u}){const d=Jy(),m=(0,r.useContext)(tF),p=(0,l.useFacetMap)((t=>t[e]),[e],[(0,l.useFacetWrap)(null!=m?m:{})]);(0,r.useEffect)((()=>{if(null!=d&&1!=c)return d.addDraggable({id:e,index:a,data:t,ref:n,pointerAxisLock:o,onDragStart:i,gamepadDragXOffsetPx:s,gamepadDragYOffsetPx:u}),()=>{d.removeDraggable(e)}}),[e,t,d,n,a,o,i,s,u,c]);const f=(0,l.useFacetCallback)((e=>t=>("gamepad"==e.dragging&&null!=d&&("up"!==t&&"down"!=t||d.focusDragMove(t)),0!=e.dragging)),[d],[p]),g=(0,r.useCallback)((t=>{if(null==d||null==t)return;const{clientX:a,clientY:n}=null!=t.clientX?t:t.touches[0];i?i((()=>{d.pointerDragStart(e,a,n)})):d.pointerDragStart(e,a,n)}),[d,e,i]),E=(0,r.useCallback)((()=>{null!=d&&(i?i((()=>{d.focusDragToggle(e)})):d.focusDragToggle(e))}),[d,i,e]);return{dragStateFacet:p,handlers:(0,r.useMemo)((()=>({onMouseDown:g,onGamepadClick:E,onUp:()=>!0===f("up"),onDown:()=>!0===f("down"),onLeft:()=>!0===f("left"),onRight:()=>!0===f("right")})),[g,E,f])}}({data:a,id:I,index:a,onDragStart:p,pointerAxisLock:"y",ref:z,disabled:G,gamepadDragXOffsetPx:xd(-.4),gamepadDragYOffsetPx:xd(-.8)}),Y=function({id:e,index:t,ref:a,data:n,disabled:o,onDrop:i}){const c=Jy(),s=(0,r.useContext)(aF),u=(0,l.useFacetMap)((t=>null!=t[e]?t[e]:{}),[e],[(0,l.useFacetWrap)(null!=s?s:{})]);return(0,r.useEffect)((()=>{if(null!=c&&1!=o)return c.addDroppable({id:e,index:t,ref:a,data:n,onDrop:i}),()=>{c.removeDroppable(e)}}),[e,t,a,n,i,c,o]),u}({id:I,index:a,data:a,onDrop:(e,t)=>{setTimeout((()=>{ie(F(".narrationReorderComplete",[`${t+1}`]))}),16),f(I,e,t)},ref:z,disabled:G}),X=(0,l.useFacetMap)((e=>null!=e&&0!=e.dragging),[],[K]),q=(0,l.useFacetMap)((e=>null!=e&&e.dragging),[],[K]),Q=(0,l.useFacetMap)((e=>null!=e?e.displacement:0),[],[Y]),Z=(0,l.useFacetMap)((e=>null!=e?e.zIndex:""),[],[K]),J=(0,l.useFacetMap)((e=>null!=e?e.transform:""),[],[K]),ee=(0,l.useFacetMap)((e=>null==e?"":`translate(0, ${100*e+"%"})`),[],[Q]),te=(0,l.useFacetMap)((e=>e?"-0.4rem":"0"),[],[X]),ae=(0,l.useFacetMap)((e=>e?"-0.8rem":"0"),[],[X]),ne=(0,l.useFacetMap)((e=>e?"0.7200000000000001rem 1.4400000000000002rem 0 rgba(0, 0, 0, 0.3)":""),[],[X]),re=(0,l.useFacetMap)((e=>F(e?".dropInputLegendText":".dragInputLegendText")),[F],[X]),le=(0,l.useFacetMap)(((e,t)=>null==t||e?"":"transform 100ms linear"),[],[X,Q]),oe=(0,l.useFacetMap)((e=>"gamepad"===e?"transform 100ms linear":""),[],[q]),{narrateText:ie}=Hf(),ce=(0,l.useFacetCallback)(((e,t)=>()=>{ie([F((t=!t)?".narrationExpanded":".narrationCollapsed"),t?F(".narrationExpandedHint"):null].filter(SD).join(" . ")),g(e.id)}),[g,ie,F],[e,j]),se=(0,l.useFacetCallback)(((e,t)=>()=>{t.fireEventButtonPressed("Resource_Pack_Pack_Manifest_Button_OreUI",{}),S.push(`/manifest-validation/${e.contentId}`)}),[S],[e,M]),ue=(0,l.useFacetMap)((e=>F(e?".collapseDescriptionInputLegend":".expandDescriptionInputLegend")),[F],[j]),de=(0,l.useFacetMap)((e=>zr()(mD.expandArrowIcon,{[mD.flipped]:e})),[],[j]),me=(0,l.useFacetMap)((e=>e.hasSettings&&c),[c],[e]),pe=(0,l.useFacetMap)(((e,t)=>[e,F(".narrationComponentType"),t>0?F(".narrationListLengthContext",[`${a+1}`,`${t}`]):void 0].filter(SD).join(" . ")),[F,a],[x,(0,l.useFacetWrap)(null!=u?u:0)]),fe=(0,l.useFacetMap)(((e,t,a)=>[F(".narrationPackDescription"),F(".narrationAccordion"),F(e?".narrationExpanded":".narrationCollapsed"),e?null:F(t||a?".narrationExpandHint":".narrationExpandHintNoButtons")].filter(SD).join(" . ")),[F],[j,k,me]),ge=(0,l.useFacetMap)((e=>[F(".narrationReorderPack"),F(".narrationPackRank",[`${a+1}`]),F(".narrationButton"),F(e?".narrationReorderPointerHint":".narrationReorderGamepadHint"),F(".narrationMultiplePacksHint")].filter(SD).join(" . ")),[F,a],[C]),Ee=(0,l.useFacetMap)((e=>null==e?void 0:e.gamepadHoverIndex),[],[K]),he=(0,l.useFacetMap)((e=>null==e?void 0:e.pointerHoverIndex),[],[K]),be=(0,l.useFacetMap)((e=>null==e?void 0:e.hasDraggedPointerBeyondStartArea),[],[K]);(0,l.useFacetEffect)(((e,t,a,n,r)=>{!e||null==t&&null==a||(n&&null!=a&&r?ie(F(".narrationReorderPointerChangeConfirmation",[`${a+1}`])):null!=t&&ie(F(".narrationReorderGamepadChangeConfirmation",[`${t+1}`])))}),[ie,F],[X,Ee,he,C,be]),(0,l.useFacetEffect)(((e,t)=>{e&&ie(F(t?".narrationReorderPointerDraggingHint":".narrationReorderGamepadDraggingHint"))}),[ie,F],[X,C]);const ve=(0,r.useContext)(yD),ye=Tr(d),Fe=wr(d),Se=(0,l.useFacetMap)((e=>e?ye.contract:ye.expand),[ye],[j]);return I==l.NO_VALUE?null:r.createElement(Zf,{text:pe,key:I},r.createElement(Zn,{role:d},r.createElement(lO,{options:{index:t}},r.createElement(Qf,{options:{index:0}},r.createElement("fast-div",{style:{top:ae,left:te,zIndex:Z}},r.createElement("fast-div",{ref:z,style:{transform:J,transition:oe},className:mD.packListItemContent},r.createElement("fast-div",{style:{transform:ee,boxShadow:ne,transition:le}},r.createElement(tw,{gamepadIndex:0,defaultFocusedChildBehavior:"grid"},r.createElement(l.Mount,{when:w},r.createElement(tw.AdditionalAction,CD({fitContent:!0,onClick:ID,inputLegend:re,narrationText:ge,gamepadIndex:0,touchDetectionDelay:0,soundEffectPressed:ye.lift},$),r.createElement(tw.Cell,{direction:"row"},r.createElement(Nm,{size:2}),r.createElement(Qp,{src:lD,className:mD.draggableIcon,imageRendering:"pixelated"}),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"captionShort"},a+1),r.createElement(Nm,{size:2})))),r.createElement(tw.Action,{inputLegend:ue,gamepadIndex:H,narrationText:fe,onClick:ce,soundEffectPressed:Se},r.createElement(tw.Cell,null,r.createElement(Qp,{src:U,className:zr()(mD.packImage,Fe.border.base,mD.border)})),r.createElement(tw.Main,null,r.createElement(zm,{type:"body"},r.createElement(xm,null,x)),r.createElement(l.Mount,{when:W},r.createElement(_y,{role:_},L))),r.createElement(tw.Cell,{direction:"row"},r.createElement(Qp,{src:oD,className:de,imageRendering:"pixelated"}),r.createElement(Nm,{size:4}))),r.createElement(l.Mount,{when:me},r.createElement(tw.AdditionalAction,{inputLegend:F(".settingsButtonText"),onClick:()=>b(I),narrationText:F(".narrationSettingsButton"),gamepadIndex:2},r.createElement(tw.Cell,{align:"center"},r.createElement(Qp,{src:cD,className:mD.settingsIcon,imageRendering:"pixelated"}),r.createElement(Nm,{size:1}),r.createElement(zm,{align:"center",type:"captionTiny"},F(".settingsButtonText"))))),r.createElement(l.Mount,{when:k},r.createElement(tw.AdditionalAction,{inputLegend:F(".removeButtonText"),onClick:()=>E(I,a,ve),narrationText:F(".narrationRemoveButton"),gamepadIndex:3,gamepadAlias:vD("remove",I)},r.createElement(tw.Cell,{align:"center"},r.createElement(Qp,{src:iD,className:mD.removeIcon,imageRendering:"pixelated"}),r.createElement(Nm,{size:1}),r.createElement(zm,{align:"center",type:"captionTiny"},F(".removeButtonText"))))),r.createElement(l.Mount,{when:W},r.createElement(tw.AdditionalAction,{inputLegend:F(".detailsButtonText"),onClick:se,narrationText:F(".narrationDetailsButton"),gamepadIndex:4},r.createElement(tw.Cell,{align:"center"},r.createElement(Qp,{src:uD,className:mD.addIcon,imageRendering:"pixelated"}),r.createElement(Nm,{size:1}),r.createElement(zm,{align:"center",type:"captionTiny"},F(".detailsButtonText"))))),r.createElement(l.Mount,{when:T},r.createElement(tw.AdditionalAction,{inputLegend:F(".activateButtonText"),onClick:()=>h(I,x,A,R.current,a,ve),narrationText:F(".narrationActivateButton"),gamepadIndex:2,gamepadAlias:vD("activate",I)},r.createElement(tw.Cell,{align:"center"},r.createElement(Qp,{src:sD,className:mD.addIcon,imageRendering:"pixelated"}),r.createElement(Nm,{size:1}),r.createElement(zm,{align:"center",type:"captionTiny"},F(".activateButtonText"))))))))),r.createElement(rD,{disabled:V,shouldSkipLandmarkInVisual:!0,gamepadIndex:1},r.createElement(kD,{size:A,description:O,onClickMoreDetails:()=>v("string"==typeof I?I:""),onClickTechnicalDetails:se,expanded:j,hideMarketplaceLink:B,hideSize:B,outerRole:d,innerRole:m,showTechnicalDetailsLink:y&&I!=MD}))))))}function kD({expanded:e,description:t,size:a,onClickMoreDetails:n,onClickTechnicalDetails:o,hideMarketplaceLink:i,hideSize:c,outerRole:s,innerRole:u,showTechnicalDetailsLink:d=!1}){const m=(0,r.useRef)(null),{t:p}=Fc("PackListItem"),[f,g]=uy(e),E=(0,l.useFacetMap)((e=>!e),[],[e]),h=wr(s),b=wr(u),v=(0,l.useFacetMap)(((e,t,a)=>[a?null:e,t].filter(SD).join(" . ")),[],[a,t,c]);return r.createElement(Zf,{text:v},r.createElement(Yp,{containerRef:m,delegateFocusFromMemory:!0},r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>zr()(mD.expandableWrapper,h.background.base,{[mD.expanded]:e})),[h],[e]),ref:m,style:f},r.createElement(Zn,{role:u},r.createElement("div",{ref:g},r.createElement(Tm.Maybe,{narrationText:!1,gamepadIndex:0,isInteractive:i,className:zr()(mD.expandableContent,b.background.base,b.border.base),classNameFocused:kp},r.createElement(wp,null),r.createElement(Nm,{size:3}),r.createElement("div",{className:mD.expandableContentWrapper},r.createElement("div",{className:mD.expandableContentDescription},r.createElement(zm,{type:"captionLong"},t),r.createElement(Nm,{size:3}),r.createElement(l.Mount,{when:i,condition:!1},r.createElement(zm,{type:"captionLong"},r.createElement(wP,{disabled:E,gamepadIndex:0,onClick:n,withUnderlinePolyfill:!0},p(".descriptionMarketplaceLink"))))),r.createElement("div",{className:mD.expandableContentLinksWrapper},r.createElement(l.Mount,{when:c,condition:!1},r.createElement(zm,{type:"captionShort",variant:"dimmer"},a)),d&&r.createElement(r.Fragment,null,r.createElement("div",null),r.createElement(zm,{type:"captionLong"},r.createElement(wP,{gamepadIndex:1,onClick:o,withUnderlinePolyfill:!0},p(".descriptionTechnicalDetailsLink")))))),r.createElement(l.Mount,{when:c,condition:!1},r.createElement(Nm,{size:3}))),r.createElement(Nm,{size:3}))))))}function TD({pack:e,index:t,gamepadIndex:a,containerListLength:n,role:o="neutral"}){const i=FD(e),c=(0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>e.id),[],[i])),s=(0,l.useFacetMap)((e=>e.name),[],[i]),u=(0,l.useFacetMap)((e=>null!=e.image&&e.image.length>0?e.image:dD),[],[i]),{t:d}=Fc("PackListItem"),m=(0,l.useFacetMap)(((e,a)=>[e,d(".narrationComponentType"),a>0?d(".narrationListLengthContext",[`${t+1}`,`${a}`]):void 0,d(".narrationDeactivatedState")].filter(SD).join(" . ")),[d,t],[s,(0,l.useFacetWrap)(null!=n?n:0)]),p=wr(o),f=dn();return c==l.NO_VALUE?null:r.createElement(Zf,{text:m,key:c},r.createElement(lO,{options:{index:a}},r.createElement(Qf,{options:{index:0}},r.createElement(tw,{isFocusable:f,gamepadIndex:0},r.createElement(Nm,{size:2}),r.createElement(tw.Cell,null,r.createElement(Qp,{src:u,className:zr()(mD.disabledPackImage,p.border.base,mD.border)})),r.createElement(tw.Main,null,r.createElement(zm,{type:"body",variant:"dimmer"},r.createElement(xm,null,s)))))))}function PD(e){return function(e){var t;return null!==(t=e.deactivated)&&void 0!==t&&t}(e)?r.createElement(TD,e):r.createElement(wD,e)}function ID(){}function xD(e,t){const a=[];for(let n=0;n<e.length;n++)a[n]=t(e[n],n,e);return a}function AD(e,t){for(let a=0;a<e.length;a++)if(!t(e[a],a))return!1;return!0}const OD=e=>{const t=(0,l.useFacetMemo)((t=>{const a=Ho(t,(t=>t.id===e.packId));return null!=a?a:t[e.index]}),[e.packId,e.index],[e.packs]),a=(0,l.useFacetMap)((e=>e.length),[],[e.packs]);return r.createElement(PD,{showTechnicalDetailsLink:e.showTechnicalDetailsLink,gamepadIndex:e.index,pack:t,index:e.index,draggable:e.draggable,expandedPackId:e.expandedId,removable:e.isNotLockedTemplate,containerListLength:a,onDragStart:e.onDragStart,onDrop:e.onDrop,onExpand:e.onExpand,onRemove:e.onRemove,canShowSettingsButton:e.canShowSettingsButton,onClickPackSettings:e.onClickPackSettings,onClickMoreDetails:e.onClickMoreDetails})};function ND(){let e=[];return function(t){if(e.length!==t.length)return e=xD(t,(e=>e.id)),!1;const a=AD(t,((t,a)=>e[a]===t.id));return a||(e=xD(t,(e=>e.id))),a}}function RD(e){const t=(0,l.useFacetMemo)((e=>e),[],[e.packsFacet],ND),a=(0,l.useFacetMap)((e=>e.map((e=>e.id))),[],[t]),n=(0,l.useFacetUnwrap)(a);return n!==l.NO_VALUE?r.createElement(r.Fragment,null,null==n?void 0:n.map(((a,l)=>r.createElement(OD,{showTechnicalDetailsLink:e.showTechnicalDetailsLink,packs:t,key:n[l],packId:a,index:l,draggable:e.draggable,expandedId:e.expandedId,onDragStart:e.onDragStart,onDrop:e.onDrop,onExpand:e.onExpand,onRemove:e.onRemove,canShowSettingsButton:e.canShowSettingsButton,onClickPackSettings:e.onClickPackSettings,onClickMoreDetails:e.onClickMoreDetails,isNotLockedTemplate:e.isNotLockedTemplate})))):null}const LD=e=>{var t;const{gamepadAliasNamespace:a,path:n,narrationTitle:l}=e,{t:o}=Fc("PackTabs"),i=Jr(),c=(0,r.useContext)(tI),s=el(),u=[{label:o(".activeTabButtonLabel"),value:"active"},{label:o(".availableTabButtonLabel"),value:"available"}],d=Ce(),m=YA(c,null!==(t=s.id)&&void 0!==t?t:"");return r.createElement(sF,{gamepadAliasNamespace:a,gamepadIndex:1,value:s.worldTemplateId,onChange:e=>{d(sF.getFocusAlias(a,e)),i.replace(`/${m}/${n}/${e}`)},tabs:u,enableGamepadShortcuts:s.tab===n,narrationTitle:l})};function _D({component:e,filter:t,gamepadIndex:a}){const n=el().worldTemplateId===t,o=jr(),i=(0,l.useFacetMap)((e=>n&&e),[n],[o]);return r.createElement(Hr,{active:i},r.createElement(lO,{options:{index:a,disabled:!n}},r.createElement(Qr,{visible:n,contentComponent:e,unmountOnExit:!1})))}function DD(){return(0,r.useMemo)((()=>{const e=(0,l.createFacet)({initialValue:!1});return{closeExpanded:()=>e.set(!1),toggleExpanded:t=>e.setWithCallback((e=>e!=t&&t)),expandedId:e}}),[])}const WD=(e,t,a,n,r,o)=>{const i=(0,l.useFacetMap)((e=>e.length>1),[],[e]);return{isDraggable:(0,l.useFacetMap)(((e,t)=>e&&!t),[],[i,r]),changePackPriority:(0,l.useFacetCallback)((()=>(e,a,n)=>{o&&o(e,t,a,n)}),[t,o],[]),dragStartHandler:(0,l.useFacetCallback)((e=>t=>{!1===e?t():(n(),setTimeout((()=>{t()}),200))}),[n],[a])}},BD=a.p+"assets/marketplace-icon-7f96f4cc707cc09a7b56.png";function UD({titleText:e,bodyText:t,onClick:a}){const{t:n}=Sc("GetMoreButton"),o=wr("neutral"),i=(0,l.useFacetWrap)(t),c=(0,l.useFacetMap)((t=>`${e} . ${n(".buttonNarration")} , ${t}`),[n,e],[i]);return r.createElement(Ag,{delayedClick:!0,inputLegend:n(".inputLegend"),narrationText:c,onClick:a,variant:"neutral",reflection:"bevel"},r.createElement("div",{className:"d36ff486db55a68a8e0d"},r.createElement(Qp,{src:BD,className:"f00ff35fb2a664c3bbbf",imageRendering:"pixelated"}),r.createElement(Nm,{size:3}),r.createElement("div",{className:zr()("bb0f97e31104c3eeb64b",o.text.base)},r.createElement(zm,{type:"body"},e),r.createElement(zm,{variant:"dimmer",type:"captionShort"},t))))}function zD(e){const t=Jr(),a=kO.useShowModal(),n=dn();return(0,l.useFacetCallback)((r=>l=>{function o(){t.push(`/marketplace?packId=${l.substring(0,36)}`),r.fireEventButtonPressed(e,{})}n?a({onAccept:o}):o()}),[t,a,n,e],[(0,l.useSharedFacet)(pu)])}const HD=a.p+"assets/marketplace-pass-promotion-static-b15b818c59e505d43eb9.png",jD=a.p+"assets/minecraft-texture-pack-4c96be5bfdd5a55edf09.png",VD="tab-bar-cnw-rp-available",GD="empty-local-active-rp",$D="empty-available-rp",KD="empty-realms-plus-rp";function YD({worldPacks:e,resourcePacksData:t,isEditorWorld:a,isLockedTemplate:n,onClickPackMoreDetails:o,onClickPackSettings:i,onChangePackPriority:c}){const s=jr(),u=(0,l.useFacetMap)((e=>({index:0,disabled:!e})),[],[s]);return r.createElement(Qf,{options:u},(0,r.useMemo)((()=>r.createElement(r.Fragment,null,r.createElement(l.DeferredMount,null,r.createElement(nF,null,r.createElement(QD,{worldPacks:e,isEditorWorld:a,isLockedTemplate:n,onClickPackMoreDetails:o,onClickPackSettings:i,onChangePackPriority:c}))),r.createElement(Nm,{size:6}),r.createElement(l.DeferredMount,null,r.createElement(qD,{worldPacks:e,resourcePacksData:t,onClickPackMoreDetails:o})),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))),[e,a,n,o,i,c,t]))}const XD=e=>({id:MD,contentId:MD,name:e(".globalMinecraftPackTitle"),creator:"Minecraft",description:e(".globalMinecraftPackDescription"),size:"n/a",image:jD,isMarketplaceItem:!1,isPlatformLocked:!1,hasSettings:!1});function qD({worldPacks:e,resourcePacksData:t,onClickPackMoreDetails:a}){const{t:n}=Sc("CreateNewWorld.resourcePacks"),o=(0,l.useFacetMap)((e=>e.globalTexturePacks),[],[e]),i=(0,l.useFacetMap)((e=>e.activeTexturePacks),[],[e]),c=(0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>e.length),[],[i])),s=c==l.NO_VALUE||0===c?1:c,{toggleExpanded:u,expandedId:d}=DD(),m=(0,l.useFacetMap)((e=>e.sharedPacksEnabled),[],[t]),p=!0===(0,l.useFacetUnwrap)(m),f=(0,l.useFacetMap)((e=>0===e.length?1:e.length+1),[],[o]),g=(0,l.useFacetUnwrap)(f),E=(0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>s+e-1),[s],[f])),h=g===l.NO_VALUE?0:g-1,b=E===l.NO_VALUE?0:E;return r.createElement(Zf,{text:n(".narrationGlobalPacksHeader")},r.createElement(PF,{role:"neutral",label:n(".globalPacksListHeader")}),r.createElement(l.Map,{array:o},((e,t)=>p?r.createElement(PD,{containerListLength:f,deactivated:!0,pack:e,index:t,gamepadIndex:t+s}):r.createElement(PD,{pack:e,containerListLength:f,showTechnicalDetailsLink:!0,index:t,gamepadIndex:t+s,expandedPackId:d,onExpand:u,canShowSettingsButton:!1,onClickMoreDetails:a}))),r.createElement(PD,{showTechnicalDetailsLink:!0,containerListLength:f,pack:(0,l.useFacetWrap)(XD(n)),index:h,gamepadIndex:b,expandedPackId:d,onExpand:u,onClickMoreDetails:a}),r.createElement(aD,{text:n(".globalPacksInfoMessage")}))}function QD({worldPacks:e,isLockedTemplate:t,onClickPackMoreDetails:a,onClickPackSettings:n,onChangePackPriority:o,role:i="neutral"}){const{t:c}=Sc("CreateNewWorld.resourcePacks"),s=wr(i),u=(0,l.useFacetMap)((e=>e.activeTexturePacks),[],[e]),d=(0,l.useFacetMap)((e=>e.length<1),[],[u]),m=(0,l.useFacetMap)((e=>e.length>1),[],[u]),{expandedId:p,toggleExpanded:f,closeExpanded:g}=DD(),{isDraggable:E,changePackPriority:h,dragStartHandler:b}=WD(u,ad.Resource,p,g,t,o),{deactivatePack:v}=lW(),y=(0,l.useFacetMap)((e=>!e),[],[t]);return r.createElement(Zf,{text:c(".narrationActiveLocalPacksHeader")},r.createElement(PF,{role:"neutral",label:c(".localPacksListHeader")}),r.createElement(l.Mount,{when:d},r.createElement(_v,{gamepadAlias:GD,title:c(".emptyLocalActivePacksMessageTitle"),text:c(".emptyLocalActivePacksMessageDescription"),gamepadIndex:0})),r.createElement("div",{className:"b9f35ae9abf05b7befdf"},r.createElement("div",{className:zr()("ee6a23b04767a64f4b43",s.background.base)}),r.createElement(l.Mount,{when:d,condition:!1},r.createElement(yD.Provider,{value:"active"},r.createElement(RD,{showTechnicalDetailsLink:!0,packsFacet:u,draggable:E,expandedId:p,onDragStart:b,onDrop:h,onExpand:f,onRemove:v,onClickMoreDetails:a,onClickPackSettings:n,canShowSettingsButton:!0,isNotLockedTemplate:y})))),r.createElement(l.Mount,{when:t,condition:!1},r.createElement(l.Mount,{when:m},r.createElement(aD,{text:c(".packPriorityInfoMessage")}))),r.createElement(l.Mount,{when:t},r.createElement(aD,{text:c(".changesDisabledMessage")})))}const ZD=({worldPacks:e,isLockedTemplate:t,onClickPackMoreDetails:a})=>{const{t:n}=Sc("CreateNewWorld.resourcePacks"),{toggleExpanded:o,expandedId:i}=DD(),c=(0,l.useSharedFacet)(Bu),s=(0,l.useFacetMap)((e=>e.activeTexturePacks),[],[e]),u=(0,l.useFacetMap)((e=>e.availableTexturePacks),[],[e]),d=(0,l.useFacetMap)((e=>e.length<1),[],[u]),m=(0,l.useFacetMap)((e=>e.length),[],[u]),p=(0,l.useFacetMap)((e=>e.length>0),[],[s]),f=(0,l.useFacetMap)((e=>n(e?".activatedAllPacksMessageTitle":".userOwnsNoPacksMessageTitle")),[n],[p]),g=(0,l.useFacetMap)((e=>n(e?".activatedAllPacksMessageDescription":".userOwnsNoMessageDescription")),[n],[p]),E=(0,l.useFacetMap)(((e,t)=>!e&&!t),[],[t,c]),{activatePack:h}=lW();return r.createElement(r.Fragment,null,(0,r.useMemo)((()=>r.createElement(r.Fragment,null,r.createElement(Py,{label:n(".inactivePacksAccordionHeader"),count:m,narrationHint:n(".inactivePacksAccordionHint"),onExpandNarrationHint:n(".inactivePacksOnExpandAccordionHint"),expandedDefaultState:!1},r.createElement(l.Mount,{when:d},r.createElement(_v,{gamepadAlias:$D,title:f,text:g,gamepadIndex:0})),r.createElement(yD.Provider,{value:"available"},r.createElement(l.Map,{array:u},((e,t)=>r.createElement(PD,{containerListLength:m,activatable:E,onActivate:h,pack:e,index:t,gamepadIndex:t,expandedPackId:i,onExpand:o,onClickMoreDetails:a})))),r.createElement(Nm,{size:3})),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))),[n,m,d,f,g,u,E,h,i,o,a]))},JD=({})=>{const{t:e}=Sc("CreateNewWorld.resourcePacks"),t=p(),a=dn(),n=kO.useShowModal(),o=(0,l.useSharedFacet)(Mc),i=(0,l.useSharedFacet)(pu),c=e(".getMoreButton.title"),s=e(".getMoreButton.body"),u=(0,l.useFacetCallback)(((e,r)=>()=>{function l(){r.fireEventButtonPressed("Get_More_Packs_Button_OreUI",{});const a=e.getMorePacks?`?title=${e.getMorePacks.title}&pageId=${e.getMorePacks.pageId}`:"";t.push(`/marketplace${a}`)}a?n({onAccept:l}):l()}),[t,a,n],[o,i]);return r.createElement(UD,{titleText:c,bodyText:s,onClick:u})},eW=({worldPacks:e,isEditorWorld:t,isLockedTemplate:a,onClickPackMoreDetails:n})=>{const o=(0,l.useFacetMap)((e=>!e),[],[t]),{toggleExpanded:i,expandedId:c}=DD();return(0,r.useMemo)((()=>r.createElement(r.Fragment,null,r.createElement(ZD,{worldPacks:e,isEditorWorld:t,isLockedTemplate:a,onClickPackMoreDetails:n}),r.createElement(aW,{worldPacks:e,isEditorWorld:t,isLockedTemplate:a,expandedId:c,toggleExpanded:i,onClickPackMoreDetails:n}),r.createElement(Nm,{size:1}),r.createElement(l.Mount,{when:o},r.createElement(JD,null)))),[e,t,a,n,c,i,o])};eW.DefaultContent=ZD,eW.MarketplaceGetMore=JD;const tW=eW;function aW({worldPacks:e,isEditorWorld:t,isLockedTemplate:a,expandedId:n,toggleExpanded:o,onClickPackMoreDetails:i}){const{t:c}=Sc("CreateNewWorld.resourcePacks"),s=(0,l.useSharedFacet)(Wu),u=(0,l.useFacetMap)(((e,t)=>e.realmsPlusSupported&&!t),[],[e,t]),d=(0,l.useFacetMap)((e=>e.isRealmsPlusSubscriptionActive||e.isMarketplacePassSubscriptionActive),[],[s]),m=(0,l.useFacetMap)((e=>!e.isMarketplacePassSubscriptionActive&&!e.isRealmsPlusSubscriptionActive),[],[s]),p=(0,l.useFacetMap)((e=>e.realmsTexturePacks),[],[e]),f=(0,l.useFacetMap)((e=>e.length<=0),[],[p]),g=(0,l.useFacetMap)(((e,t)=>t?e.length:"100+"),[],[p,d]),E=(0,l.useFacetMap)((e=>!e),[],[a]),{activatePack:h}=lW();return r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(l.Mount,{when:u},r.createElement(Py,{label:c(".marketplacePassPacksAccordionHeader"),count:g,narrationHint:c(".marketplacePassPacksAccordionHint"),onExpandNarrationHint:c(".marketplacePassPacksOnExpandAccordionHint"),expandedDefaultState:!1},r.createElement(l.Mount,{when:d},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:f},r.createElement(_v,{gamepadAlias:KD,gamepadIndex:0,title:c(".marketplacePassPacksEmptyTitle"),text:c(".marketplacePassPacksEmptyBody")})),r.createElement(yD.Provider,{value:"realms"},r.createElement(l.Map,{array:p},((e,t)=>r.createElement(PD,{activatable:E,onActivate:h,pack:e,index:t,gamepadIndex:t,expandedPackId:n,onExpand:o,onClickMoreDetails:i})))))),r.createElement(l.Mount,{when:m},r.createElement(nW,null)),r.createElement(Nm,{size:3}))))}function nW(){const{t:e}=Sc("CreateNewWorld.resourcePacks"),t=Jr(),a=my({wide:8,narrow:6,width:256}),n=(0,l.useFacetMap)((e=>e?"a07a99f3bac3dff3cc30":"a5ce533976f138e55315"),[],[a]);return r.createElement(_v,{title:e(".marketplacePassPromotionTitle"),text:e(".marketplacePassPromotionBody"),imgSrc:HD,imgClass:n,buttons:[{text:e(".marketplacePassPromotionButtonLabel"),inputLegend:e(".marketplacePassPromotionButtonInputLegend"),onClick:()=>t.push("/csb-pdp?tab=default")}],gamepadIndex:0})}const rW=(0,r.createContext)({}),lW=()=>(0,r.useContext)(rW);function oW({worldPacks:e,worldData:t,isEditorWorld:a,onActivatePack:n,onDeactivatePack:o,onChangePackPriority:i,onClickPackSettings:c,onUnlockTemplateSettings:s}){const{t:u}=Sc("CreateNewWorld.resourcePacks"),{t:d}=Sc("CreateNewWorldSideMenu"),m=tv(tc),p=(0,l.useSharedFacet)(Bu),f=(0,l.useFacetMap)((e=>e.resourcePacks),[],[t]),g=(0,l.useFacetMap)((e=>e.multiplayer),[],[t]),E=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[t]),h=(0,l.useFacetMap)((e=>e.activeBehaviorPacks.length>2),[],[e]),{activatePack:b,deactivatePack:v}=bD(ad.Resource,{active:{tabsAlias:"tab-bar-cnw-rp-active",emptyStateMessageAlias:GD},available:{tabsAlias:VD,emptyStateMessageAlias:$D},realms:{tabsAlias:VD,emptyStateMessageAlias:KD}},e,g,n,o),y=(0,l.useFacetMap)(((e,t)=>e||t.isTrialAccount),[],[E,(0,l.useSharedFacet)(Wu)]),F=(0,r.useMemo)((()=>({activatePack:b,deactivatePack:v})),[b,v]),S=zD("Resource_Pack_More_Details_Button_OreUI"),C=(0,l.useFacetMap)((e=>e.sharedPacksEnabled),[],[f]),M=(0,l.useFacetMap)((e=>e&&m),[m],[p]),w=(0,r.useRef)(!0),k=(0,l.useFacetCallback)((e=>t=>{e.sharedPacksEnabled=t}),[],[f]),T=(0,r.useCallback)((()=>r.createElement(YD,{worldPacks:e,resourcePacksData:f,isEditorWorld:a,isLockedTemplate:E,onClickPackSettings:c,onClickPackMoreDetails:S,onChangePackPriority:i})),[e,f,a,E,c,S,i]),P=(0,r.useCallback)((()=>r.createElement(tW,{worldPacks:e,isEditorWorld:a,isLockedTemplate:E,onClickPackMoreDetails:S})),[e,a,E,S]);return(0,l.useFacetEffect)(((e,t)=>{e&&!w.current&&t.queueSnackbar(u(".globalPacksDeactivatedSnackbarMessage")),w.current=!1}),[u],[C,(0,l.useSharedFacet)(Ac)]),r.createElement(xl,{data:M},(e=>r.createElement(r.Fragment,null,e?r.createElement(rI,{context:aI.RESOURCE_PACKS_TAB}):r.createElement(rW.Provider,{value:F},r.createElement(l.DeferredMountProvider,null,r.createElement(AN,{isEditorWorld:a,nestedRoutes:!0,narrationText:d(".resourcePacksTabLabel"),onUnlockTemplateSettings:s,addonStackingWarningEnabled:h},r.createElement(l.DeferredMount,null,r.createElement(My,{disabled:y,gamepad:{index:0},title:u(".sharedPacksTitle"),description:u(".sharedPacksDescription"),onNarrationText:u(".sharedPacksDeactivatingGlobalPacks"),offNarrationText:u(".sharedPacksActivatingGlobalPacks"),onChange:k,value:C})),r.createElement("div",{className:"e60f6c6e61585a96f5ed"},r.createElement(LD,{gamepadAliasNamespace:"cnw-rp",path:"resource-packs",narrationTitle:d(".resourcePacksTabLabel")}),r.createElement(Nm,{size:2}),r.createElement(_D,{component:T,gamepadIndex:3,filter:"active"}),r.createElement(_D,{component:P,gamepadIndex:3,filter:"available"}),r.createElement(Nm,{size:2}))))))))}oW.AvailableTab=tW;const iW=a.p+"assets/empty-state-art-cd6d3b45f26eafa460d2.png",cW="empty-active-bp",sW="empty-available-bp";function uW({worldPacks:e,isLockedTemplate:t,onChangePackPriority:a,onClickPackSettings:n,onClickPackMoreDetails:o}){const i=jr(),c=(0,l.useFacetMap)((e=>({index:0,disabled:!e})),[],[i]);return r.createElement(r.Fragment,null,r.createElement(Qf,{options:c},(0,r.useMemo)((()=>r.createElement(nF,null,r.createElement(dW,{isLockedTemplate:t,worldPacks:e,onChangePackPriority:a,onClickPackSettings:n,onClickPackMoreDetails:o}))),[t,a,e,n,o])),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))}function dW({role:e="neutral",worldPacks:t,isLockedTemplate:a,onChangePackPriority:n,onClickPackMoreDetails:o,onClickPackSettings:i}){const{t:c}=Sc("CreateNewWorld.behaviorPacks"),{toggleExpanded:s,expandedId:u,closeExpanded:d}=DD(),m=wr(e),{deactivatePack:p}=fW(),f=(0,l.useFacetMap)((e=>e.activeBehaviorPacks),[],[t]),g=(0,l.useFacetMap)((e=>e.length<1),[],[f]),E=(0,l.useFacetMap)((e=>e.length>1),[],[f]),h=(0,l.useFacetMap)((e=>!e),[],[a]),{isDraggable:b,changePackPriority:v,dragStartHandler:y}=WD(f,ad.Behavior,u,d,a,n);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:g},r.createElement(_v,{gamepadAlias:cW,title:c(".emptyLocalActivePacksMessageTitle"),text:c(".emptyLocalActivePacksMessageDescription"),gamepadIndex:0})),r.createElement("div",{className:"d6481bed6ccd6bfe88d3"},r.createElement("div",{className:zr()("a53a81dc734f83551015",m.background.base)}),r.createElement(l.Mount,{when:g,condition:!1},r.createElement(yD.Provider,{value:"active"},r.createElement(RD,{showTechnicalDetailsLink:!0,packsFacet:f,draggable:b,expandedId:u,onDragStart:y,onDrop:v,onExpand:s,onRemove:p,onClickMoreDetails:o,onClickPackSettings:i,canShowSettingsButton:!0,isNotLockedTemplate:h})))),r.createElement(l.Mount,{when:a,condition:!1},r.createElement(l.Mount,{when:E},r.createElement(aD,{text:c(".packPriorityInfoMessage")}))),r.createElement(l.Mount,{when:a},r.createElement(aD,{text:c(".changesDisabledMessage")})))}function mW({worldPacks:e,isLockedTemplate:t,onClickPackMoreDetails:a}){const{t:n}=Sc("CreateNewWorld.behaviorPacks"),{toggleExpanded:o,expandedId:i}=DD(),{activatePack:c}=fW(),s=jr(),u=(0,l.useFacetMap)((e=>({index:0,disabled:!e})),[],[s]),d=(0,l.useFacetMap)((e=>e.availableBehaviorPacks),[],[e]),m=(0,l.useFacetMap)((e=>e.length<1),[],[d]),p=(0,l.useFacetMap)((e=>!e),[],[t]);return r.createElement(r.Fragment,null,r.createElement(Qf,{options:u},(0,r.useMemo)((()=>r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:m},r.createElement(_v,{gamepadAlias:sW,title:n(".activatedAllPacksMessageTitle"),text:n(".activatedAllPacksMessageDescription"),gamepadIndex:0})),r.createElement(yD.Provider,{value:"available"},r.createElement(l.Map,{array:d},((e,t)=>r.createElement(PD,{activatable:p,onActivate:c,pack:e,index:t,gamepadIndex:t,expandedPackId:i,onExpand:o,onClickMoreDetails:a})))))),[n,d,m,p,c,i,o,a])),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))}const pW=(0,r.createContext)({}),fW=()=>(0,r.useContext)(pW),gW=({worldPacks:e,worldData:t,isEditorWorld:a,onActivatePack:n,onDeactivatePack:o,onChangePackPriority:i,onClickPackSettings:c,onUnlockTemplateSettings:s})=>{const u=(0,l.useFacetMap)((e=>e.activeBehaviorPacks.length>0||e.availableBehaviorPacks.length>0),[],[e]);return r.createElement(bW,{worldPacks:e,worldData:t,isEditorWorld:a,onActivatePack:n,onDeactivatePack:o,onUnlockTemplateSettings:s},r.createElement(l.DeferredMount,null,r.createElement(l.Mount,{when:u,condition:!0},r.createElement(EW,{worldPacks:e,worldData:t,onChangePackPriority:i,onClickPackSettings:c}))),r.createElement(l.DeferredMount,null,r.createElement(l.Mount,{when:u,condition:!1},r.createElement(hW,null))))},EW=({worldPacks:e,worldData:t,onChangePackPriority:a,onClickPackSettings:n})=>{const{t:o}=Sc("CreateNewWorldSideMenu"),i=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[t]),c=zD("Resource_Pack_More_Details_Button_OreUI");return r.createElement("div",{className:"cf694c3cd8096028dd7e"},r.createElement(LD,{gamepadAliasNamespace:"cnw-bp",path:"behavior-packs",narrationTitle:o(".behaviorPacksTabLabel")}),r.createElement(Nm,{size:2}),r.createElement(_D,{component:()=>r.createElement(uW,{worldPacks:e,isLockedTemplate:i,onChangePackPriority:a,onClickPackSettings:n,onClickPackMoreDetails:c}),gamepadIndex:3,filter:"active"}),r.createElement(_D,{component:()=>r.createElement(mW,{worldPacks:e,isLockedTemplate:i,onChangePackPriority:a,onClickPackMoreDetails:c}),gamepadIndex:3,filter:"available"}),r.createElement(Nm,{size:2}))},hW=({})=>{const{t:e}=Sc("CreateNewWorld.behaviorPacks"),t=dy({wide:8,narrow:5,width:260})?"e739cfe9c43ad9f0b7e7":"deeebd0ecd8f0da30319";return r.createElement(_v,{gamepadAlias:cW,title:e(".noPacksAvailableTitle"),text:e(".noPacksAvailableBody"),gamepadIndex:0,imgSrc:iW,borderless:!0,imgClass:t})},bW=({worldPacks:e,worldData:t,isEditorWorld:a,onActivatePack:n,onDeactivatePack:o,onUnlockTemplateSettings:i,children:c})=>{const{t:s}=Sc("CreateNewWorldSideMenu"),u=tv(tc),d=(0,l.useSharedFacet)(Bu),m=(0,l.useFacetMap)((e=>e.multiplayer),[],[t]),p=(0,l.useFacetMap)((e=>e&&u),[u],[d]),f=(0,l.useFacetMap)((e=>e.activeBehaviorPacks.length>2),[],[e]),g=bD(ad.Behavior,{active:{tabsAlias:"tab-bar-cnw-bp-active",emptyStateMessageAlias:cW},available:{tabsAlias:"tab-bar-cnw-bp-available",emptyStateMessageAlias:sW}},e,m,n,o);return r.createElement(xl,{data:p},(e=>r.createElement(r.Fragment,null,e?r.createElement(rI,{context:aI.BEHAVIOR_PACKS_TAB}):r.createElement(pW.Provider,{value:g},r.createElement(l.DeferredMountProvider,null,r.createElement(AN,{nestedRoutes:!0,narrationText:s(".behaviorPacksTabLabel"),onUnlockTemplateSettings:i,isEditorWorld:a,addonStackingWarningEnabled:f},c))))))};gW.Wrapper=bW,gW.BehaviorPacksFields=EW,gW.EmptyPacksFields=hW;const vW=gW;function yW({onUnlockTemplateSettings:e,onExportTemplate:t,onClearPlayerData:a,isEditorWorld:n}){const o=(0,l.useSharedFacet)(Wi),i=(0,l.useFacetMap)((({allBiomes:e})=>e),[],[o]),c=(0,l.useFacetMap)((({spawnDimensionId:e})=>e),[],[o]),s=(0,l.useFacetMap)((e=>xD(e,(e=>({label:e.label,dimension:e.dimension,value:e.id})))),[],[i]),u=(0,l.useFacetMap)(((e,t)=>jw(e,(e=>e.dimension===t))),[],[s,c]),d=(0,l.useFacetMap)((e=>e.spawnBiomeId),[],[o]),m=(0,l.useFacetMap)((e=>e.defaultSpawnBiome||e.isBiomeOverrideActive),[],[o]),p=(0,l.useSharedFacet)(dl),f=(0,l.useFacetMap)((e=>Ak(e.platform)),[],[p]),g=(0,r.useContext)(tI)!==eI.CREATE,E=(0,l.useFacetMap)((e=>e&&g),[g],[f]);return r.createElement(l.DeferredMountProvider,null,r.createElement(AN,{narrationText:"Debug",onUnlockTemplateSettings:e,isEditorWorld:n},r.createElement(l.DeferredMount,null,r.createElement(My,{title:"Flat nether",gamepad:{index:0},value:(0,l.useFacetMap)((e=>e.flatNether),[],[o]),onChange:(0,l.useFacetCallback)((e=>t=>{e.flatNether=t}),[],[o])})),r.createElement(l.DeferredMount,null,r.createElement(My,{title:"Enable game version override",gamepad:{index:1},value:(0,l.useFacetMap)((e=>e.enableGameVersionOverride),[],[o]),onChange:(0,l.useFacetCallback)((e=>t=>{e.enableGameVersionOverride=t}),[],[o])})),r.createElement(l.DeferredMount,null,r.createElement(jy,{label:"Game version override",gamepadIndex:2,placeholder:"0.0.0",maxLength:30,disabled:(0,l.useFacetMap)((e=>!e.enableGameVersionOverride),[],[o]),value:(0,l.useFacetMap)((e=>e.gameVersionOverride),[],[o]),onChange:(0,l.useFacetCallback)((e=>t=>{e.gameVersionOverride=t}),[],[o])})),r.createElement(l.DeferredMount,null,r.createElement(nO,{title:"World biome settings"})),r.createElement(My,{title:"Default spawn biome",description:"Using the default spawn biome will mean a random overworld spawn is selected",gamepad:{index:3},disabled:(0,l.useFacetMap)((e=>e.isBiomeOverrideActive),[],[o]),value:(0,l.useFacetMap)((e=>e.defaultSpawnBiome),[],[o]),onChange:(0,l.useFacetCallback)((e=>t=>{e.defaultSpawnBiome=t}),[],[o])}),r.createElement(l.DeferredMount,null,r.createElement(mA,{onMountComplete:(0,l.useNotifyMountComplete)(),title:"Spawn dimension filter",disabled:m,wrapToggleText:!0,options:[{label:"Overworld",value:0},{label:"Nether",value:1},{label:"The End",value:2}],value:c,onChange:(0,l.useFacetCallback)((e=>t=>{e.spawnDimensionId=t}),[],[o])})),r.createElement(l.DeferredMount,null,r.createElement(sA,{title:"Spawn biome",options:u,onItemSelect:(0,l.useFacetCallback)((e=>t=>e.spawnBiomeId=t),[],[o]),disabled:m,value:(0,l.useFacetMap)(((e,t)=>t.filter((t=>t.value===e)).length>0?e:t[0].value),[],[d,u]),focusOnSelectedItem:!0})),r.createElement(My,{title:"Biome override",description:"Set the world to a selected biome. This will override the Spawn biome!",gamepad:{index:6},value:(0,l.useFacetMap)((e=>e.isBiomeOverrideActive),[],[o]),onChange:(0,l.useFacetCallback)((e=>t=>{e.isBiomeOverrideActive=t}),[],[o])}),r.createElement(sA,{title:"Biome override",description:"Select biome to be used in the entire world",options:s,disabled:(0,l.useFacetMap)((e=>!e.isBiomeOverrideActive),[],[o]),onItemSelect:(0,l.useFacetCallback)((e=>t=>{e.biomeOverrideId=t}),[],[o]),value:(0,l.useFacetMap)((e=>e.biomeOverrideId),[],[o]),focusOnSelectedItem:!0}),r.createElement(l.Mount,{when:E},r.createElement(FW,{onExportTemplate:t,onClearPlayerData:a}))))}const FW=({onExportTemplate:e,onClearPlayerData:t})=>{const{t:a}=Sc("EditWorld.exportWorldFlow");return r.createElement(Fg,null,r.createElement(zm,{type:"sectionHeader"},"File management"),r.createElement(Nm,{size:4}),r.createElement(Ug,{variant:"secondary",onClick:t,inputLegend:"Clear player data"},a(".clearPlayerDataTitle")),r.createElement(Nm,{size:4}),r.createElement(Ug,{variant:"secondary",onClick:e,inputLegend:"Export"},a(".exportLabel")))};function SW(e){return(0,l.useFacetMap)((e=>e.isHardcore),[],[e])}function CW({worldPacks:e,onActivatePack:t,onDeactivatePack:a,onChangePackPriority:n,onClickPackSettings:o,onUnlockTemplateSettings:i,worldSummary:c,isEditorWorld:s,onMakeWorldInfinite:u,onDuplicateWorld:d,onDeleteWorld:m,onExportWorld:p,onExportTemplate:f,onOptOut:g,onClearPlayerData:E,onSeedValueChange:h=(()=>{}),onWorldPreviewPathChange:b=(()=>{}),isSeedChangeLocked:v}){const y=fN();return(0,l.useFacetMap)((e=>e.general),[],[y]),(0,l.useFacetMap)((e=>e.advanced),[],[y]),(0,l.useFacetMap)((e=>e.cheats),[],[y]),r.createElement(r.Fragment,null,r.createElement(Ry,{component:(0,r.useCallback)((()=>r.createElement(lR,{worldSummary:c,isEditorWorld:s,onUnlockTemplateSettings:i,onMakeWorldInfinite:u,onDuplicateWorld:d,onDeleteWorld:m,onExportWorld:p,onOptOut:g,worldData:y})),[c,s,i,u,d,m,p,g,y]),tab:"general"}),r.createElement(Ry,{component:(0,r.useCallback)((()=>r.createElement(wR,{worldData:y,isEditorWorld:s,onUnlockTemplateSettings:i})),[y,s,i]),tab:"experimental"}),r.createElement(Ry,{component:(0,r.useCallback)((()=>r.createElement(gR,{worldData:y,isEditorWorld:s,onUnlockTemplateSettings:i})),[y,s,i]),tab:"cheats"}),r.createElement(Ry,{tab:"advanced",component:(0,r.useCallback)((()=>r.createElement(U_,{worldData:y,isEditorWorld:s,isSeedChangeLocked:v,onUnlockTemplateSettings:i,onSeedValueChange:h,onWorldPreviewPathChange:b})),[y,s,v,i,h,b])}),r.createElement(Ry,{tab:"multiplayer",component:(0,r.useCallback)((()=>r.createElement(tD,{worldData:y,worldPacks:e,isEditorWorld:s,onDeactivatePack:a,onUnlockTemplateSettings:i})),[y,e,s,a,i])}),r.createElement(Ry,{component:(0,r.useCallback)((()=>r.createElement(oW,{worldPacks:e,isEditorWorld:s,worldData:y,onActivatePack:t,onDeactivatePack:a,onChangePackPriority:n,onClickPackSettings:o,onUnlockTemplateSettings:i})),[e,s,y,t,a,n,o,i]),tab:"resource-packs"}),r.createElement(Ry,{component:(0,r.useCallback)((()=>r.createElement(vW,{worldPacks:e,worldData:y,isEditorWorld:s,onActivatePack:t,onDeactivatePack:a,onChangePackPriority:n,onClickPackSettings:o,onUnlockTemplateSettings:i})),[e,y,s,t,a,n,o,i]),tab:"behavior-packs"}),r.createElement(Ry,{component:(0,r.useCallback)((()=>r.createElement(yW,{worldData:y,onUnlockTemplateSettings:i,onExportTemplate:f,isEditorWorld:s,onClearPlayerData:E})),[y,i,f,s,E]),tab:"debug"}),null)}const MW=({worldData:e,worldPacks:t,worldPreviewImage:a,isEditorWorld:n,isPageLoading:o,renderPage:i,backButtonCallback:c,backButtonDisabled:s,onEditThumbnail:u,children:d,sideMenuButtons:m})=>{const{t:p}=Fc("CreateNewWorld"),f=(0,r.useContext)(tI),g=(0,l.useFacetMap)((e=>f!==eI.CREATE?p(".editTitle"):p((e?".editor":"")+".title")),[p,f],[n]),E=tv(ac),h=(0,l.useFacetMap)((e=>e.general),[],[e]),b=(0,l.useFacetMap)((e=>e.betaFeatures),[],[e]),v=SW(h),y=(0,l.useFacetMap)((e=>e.playerHasDied),[],[h]),F=(0,l.useFacetWrap)(null!=o&&o);return r.createElement(l.Mount,{when:i},r.createElement(Qy,null,r.createElement(yx,{screenAnalyticsId:f!==eI.CREATE?"Edit":"CreateNewWorld",onBack:c,disableBackButton:s,title:g,gamepadAlias:"cnw-layout-content",delegateByAlias:"cnw-side-menu",debugDrawer:f!==eI.CREATE?[]:["create-test-world"],friendsDrawer:E},(()=>r.createElement(r.Fragment,null,r.createElement(Cv,{noGutters:!0},r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:4,narrowSize:3},r.createElement(QA,{showSpinner:F,worldPreviewImage:a,worldPacks:t,isHardcoreMode:v,playerHasDied:y,sideMenuButtons:m,onEditThumbnail:u})),r.createElement(Cv.Column,{wideSize:8,narrowSize:5},d))),r.createElement(TR,{experimentsData:b}))))))},wW=({worldData:e,worldPacks:t,worldPreviewImage:a,onActivatePack:n,onDeactivatePack:l,onChangePackPriority:o,onClickPackSettings:i,onUnlockTemplateSettings:c,worldSummary:s,isEditorWorld:u,onMakeWorldInfinite:d,onDuplicateWorld:m,onDeleteWorld:p,onEditThumbnail:f,onExportWorld:g,onExportTemplate:E,onOptOut:h,onClearPlayerData:b,onSeedValueChange:v=(()=>{}),onWorldPreviewPathChange:y=(()=>{}),isSeedChangeLocked:F,isPageLoading:S,renderPage:C,backButtonCallback:M,backButtonDisabled:w,sideMenuButtons:k})=>r.createElement(MW,{worldData:e,worldPacks:t,worldPreviewImage:a,isEditorWorld:u,isPageLoading:S,renderPage:C,backButtonCallback:M,backButtonDisabled:w,sideMenuButtons:k,onEditThumbnail:f},r.createElement(CW,{worldPacks:t,onActivatePack:n,onDeactivatePack:l,onChangePackPriority:o,onClickPackSettings:i,onUnlockTemplateSettings:c,worldSummary:s,isEditorWorld:u,onMakeWorldInfinite:d,onDuplicateWorld:m,onDeleteWorld:p,onExportWorld:g,onExportTemplate:E,onOptOut:h,onClearPlayerData:b,onSeedValueChange:v,isSeedChangeLocked:F,onWorldPreviewPathChange:y}));wW.Wrapper=MW,wW.DefaultTabs=CW;const kW=wW,TW=a.p+"assets/world-preview-default-d0210bba13d939ca9e72.jpg",PW={[pc.PEACEFUL]:".difficultyPeacefulLabel",[pc.EASY]:".difficultyEasyLabel",[pc.NORMAL]:".difficultyNormalLabel",[pc.HARD]:".difficultyHardLabel"},IW={[Fu.ADVENTURE]:".gameModeAdventureLabel",[Fu.CREATIVE]:".gameModeCreativeLabel",[Fu.SURVIVAL]:".gameModeSurvivalLabel",[Fu.UNKNOWN]:".gameModeUnknownLabel",[Fu.SPECTATOR]:".gameModeUnknownLabel",[Fu.DEFAULT]:".gameModeUnknownLabel"};function xW(e,t,a,n,r,o){const{t:i}=Sc("WorldSettingsButton"),c=(0,l.useSharedFacet)(dl),s=(0,l.useFacetMap)((e=>xk(e.platform)&&(e.isStorageLow||e.isStorageFull)),[],[c]),u=_k(),d=Lk(),m=yI(),p=(0,l.useFacetMap)(((e,t)=>e||t),[],[u,d]);return{disableMainButton:(0,l.useFacetMap)(((e,t,a,n)=>e||t&&a.multiplayerGame||n&&a.multiplayerGame),[],[s,p,t,m]),disableSecondaryButton:(0,l.useFacetMap)(((e,t,a,n)=>!n.multiplayerGame||e||t||a),[],[(0,l.useFacetWrap)(null!=o&&o),p,m,t]),buttonHint:(0,l.useFacetMap)(((e,t)=>{const a=IW[e.gameMode],l=t?".hardcoreModeTitle":PW[e.difficulty],o=""!=e.worldName?e.worldName:i(".worldNamePlaceholder");return n(r,[i(a),i(l),o])}),[n,i,r],[a,e])}}function AW(e,t){return(0,l.useFacetCallback)(((a,n)=>()=>{!Tk(a.platform)&&!Ik(a.platform)||n.isLoggedInWithMicrosoftAccount&&n.isSignedInPlatformNetwork?e():t()}),[t,e],[(0,l.useSharedFacet)(dl),(0,l.useSharedFacet)(Wu)])}const OW=a.p+"assets/trial-mode-art-4074416ab6dd83b5f146.png",NW="play-realms-trial-mode-button",RW=yp((({onClose:e,worldSettingsMode:t})=>{const{t:a}=Fc("PlayRealmsTrialModeModal"),n=t===eI.CREATE?"CreateNewWorld":"EditWorld",l=XP(),o=vd(),i=(0,r.useCallback)((()=>{o({button:"BuyMinecraft",screen:`RealmsTrialModeModal_${n}`}),l()}),[o,l,n]);return r.createElement($E,{defaultFocusAlias:NW},r.createElement($E.Header,{onClose:e},a(".title")),r.createElement($E.Content,null,r.createElement(Nm,{size:4}),r.createElement(Qp,{src:OW,className:"bbcc0e8c2d4b76b08287",imageRendering:"pixelated"}),r.createElement($E.Text,{narrationText:a(".message")},a(".message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:NW,inputLegend:a(".select"),variant:"primary",onClick:i,Icon:xM.ExternalLink},a(".button"))))}));let LW;!function(e){e[e.IDLE=0]="IDLE",e[e.START=1]="START",e[e.VERIFYING_ACCOUNT=2]="VERIFYING_ACCOUNT",e[e.LOADING_REALMS_LIST=3]="LOADING_REALMS_LIST",e[e.SUBSCRIPTION_NEEDED=4]="SUBSCRIPTION_NEEDED",e[e.AWAITING_CONFIRMATION=5]="AWAITING_CONFIRMATION",e[e.CONFIRMED=6]="CONFIRMED",e[e.AWAITING_WORLD_CREATION=7]="AWAITING_WORLD_CREATION"}(LW||(LW={}));const _W="realm-preview-subscription-needed-close",DW=yp((({onClose:e})=>{const{t}=Fc("RealmsPreviews.SubscriptionNeeded"),a=(0,l.useSharedFacet)(wi),n=t(".title"),o=(0,l.useFacetMap)((e=>e.isBetaBuild?t(".message.beta"):t(".message.preview")),[t],[a]);return r.createElement($E,{defaultFocusAlias:_W},r.createElement($E.Header,{onClose:e},n),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:o},o)),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,gamepadAlias:_W,inputLegend:t(".select"),variant:"secondary",onClick:e},t(".close"))))})),WW="realm-preview-create-preview-realm-close",BW=yp((({onConfirm:e,onClose:t})=>{const{t:a}=Fc("RealmsPreviews.create"),n=(0,l.useSharedFacet)(wi),o=(0,l.useFacetMap)((e=>e.isBetaBuild?a(".titleAndButtonLabel.beta"):a(".titleAndButtonLabel.preview")),[a],[n]),i=(0,l.useFacetMap)((e=>e.isBetaBuild?a(".message.beta"):a(".message.preview")),[a],[n]),c=(0,l.useFacetMap)((e=>e.isBetaBuild?a(".cancel.beta"):a(".cancel.preview")),[a],[n]);return r.createElement($E,{defaultFocusAlias:WW},r.createElement($E.Header,{onClose:t},o),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:i},i)),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,inputLegend:a(".select"),variant:"primary",onClick:e},o),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:1,gamepadAlias:WW,inputLegend:a(".select"),variant:"secondary",onClick:t},c)))}));function UW(e){const{narrateText:t}=Hf();(0,r.useEffect)((()=>{const a=setInterval((()=>{t(e)}),1e4);return()=>clearInterval(a)}),[e,t])}function zW({onClickClose:e}){const{t}=Fc("Realms.LoadingModals");return UW(t(".fetchingSubscriptionInformation")),r.createElement(Ay.Component,{title:t(".fetchingSubscriptionInformation"),onClose:e})}function HW({onClickClose:e}){const{t}=Fc("Realms.LoadingModals");return UW(t(".fetchingRealmInformation")),r.createElement(Ay.Component,{title:t(".fetchingRealmInformation"),onClose:e})}function jW({onClickClose:e}){const{t}=Fc("Realms.LoadingModals");return UW(t(".creatingRealm")),r.createElement(Ay.Component,{title:t(".creatingRealm"),onClose:e})}function VW({onClickClose:e}){const{t}=Fc("Realms.LoadingModals");return UW(t(".activatingSlot")),r.createElement(Ay.Component,{title:t(".activatingSlot"),onClose:e})}function GW({onClickClose:e}){const{t}=Fc("Realms.LoadingModals");return UW(t(".contactingRealms")),r.createElement(Ay.Component,{title:t(".contactingRealms"),onClose:e})}const $W=yp((({onClickClose:e})=>{const t="realm-error-cannot-contact-realms-close",{t:a}=Fc("Realms.ErrorModals"),n=vp(),l=(0,r.useCallback)((()=>{n(),e&&e()}),[n,e]);return r.createElement($E,{defaultFocusAlias:t},r.createElement($E.Header,{onClose:l},a(".CannotContactRealms.title")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:a(".CannotContactRealms.message"),center:!0},a(".CannotContactRealms.message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:t,gamepadIndex:0,inputLegend:a(".select"),variant:"secondary",onClick:l},a(".close"))))})),KW=yp((({onClickClose:e})=>{const t="realm-error-something-went-wrong-close",{t:a}=Fc("Realms.ErrorModals"),n=vp(),l=(0,r.useCallback)((()=>{n(),e&&e()}),[n,e]);return r.createElement($E,{defaultFocusAlias:t},r.createElement($E.Header,{onClose:l},a(".somethingWentWrong.title")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:a(".somethingWentWrong.message"),center:!0},a(".somethingWentWrong.message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:t,inputLegend:a(".select"),variant:"secondary",onClick:l},a(".close"))))})),YW=yp((({onClickClose:e})=>{const t="realm-error-posting-comment-failed",{t:a}=Fc("Realms.ErrorModals");return r.createElement($E,{defaultFocusAlias:t},r.createElement($E.Header,{onClose:e},a(".postingCommentFailed.title")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:a(".postingCommentFailed.message"),center:!0},a(".postingCommentFailed.message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:t,inputLegend:a(".select"),variant:"secondary",onClick:e},a(".close"))))})),XW=yp((({onClickClose:e})=>{const t="realm-rate-limit-error",{t:a}=Fc("Realms.ErrorModals");return r.createElement($E,{defaultFocusAlias:t},r.createElement($E.Header,{onClose:e},a(".rateLimitError.title")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:a(".rateLimitError.message"),center:!0},a(".rateLimitError.message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:t,inputLegend:a(".select"),variant:"secondary",onClick:e},a(".close"))))})),qW=()=>{const{t:e}=Sc("CreateNewWorld"),t=p(),a=(0,l.useSharedFacet)(Rc),n=(0,l.useSharedFacet)(Ga),o=(0,l.useSharedFacet)(pu),i=(0,l.useSharedFacet)(Ni),c=CO.useModal(),s=sO.useModal(),u=(0,l.useFacetMap)((e=>e.worldData.general),[],[i]),d=(0,l.useFacetMap)((e=>e.worldData.multiplayer),[],[i]),m=SW(u),f=xN(),g=(0,l.useFacetCallback)(((e,a,n,r)=>()=>{e.showTouchControlSelectionScreen&&a.currentInputType==Xe.TOUCH?(n.inWorldCreation=!0,t.push("/touch-control-selection")):(r.fireEventButtonPressed("Create_World_Button_OreUI",{}),n.createWorld())}),[t],[a,n,i,o]),E=(0,l.useFacetCallback)(((e,t)=>()=>{!e||t.doNotShowHardcoreModeWarning?g():c.show()}),[c,g],[m,(0,l.useSharedFacet)(xc)]),{disableMainButton:h,buttonHint:b}=xW(m,d,u,e,"SideMenu.narrationCreateButtonHint"),v=(0,l.useFacetCallback)((e=>()=>{e.worldData.achievementsDisabled?s.show():E()}),[E,s],[i]);return r.createElement(r.Fragment,null,r.createElement(Ug,{"data-testid":"create-world",disabled:h,gamepadAlias:XA,narrationSuffix:b,variant:"hero",onClick:v,inputLegend:e("SideMenu.create")},e("SideMenu.create")),r.createElement(l.Mount,{when:c.isVisible},r.createElement(CO.Component,{onSubmit:g,onCancel:c.hide})),r.createElement(l.Mount,{when:s.isVisible},r.createElement(sO.Component,{onConfirm:g,onClose:s.hide,reasons:f})))},QW=()=>{const{t:e}=Sc("CreateNewWorld"),t=yd(),a=CO.useModal(),n=YO.useModal(),o=RW.useModal(),i=(0,l.useSharedFacet)(Ni),c=(0,l.useSharedFacet)(_i),s=(0,l.useSharedFacet)(wi),u=(0,l.useSharedFacet)(pu),d=(0,l.useSharedFacet)(Bu),m=function(){const[e,t]=(0,l.useFacetState)(LW.IDLE),a=f(),n=Jr(),r=(0,l.useSharedFacet)(Ws),o=(0,l.useSharedFacet)(Nu),i=(0,l.useSharedFacet)(_i),c=(0,l.useSharedFacet)(Ni),s=(0,l.useSharedFacet)(pu),u=(0,l.useSharedFacet)(Wu),d=(0,l.useSharedFacet)(Bs),m=(0,l.useSharedFacet)(Ru),p=(0,l.useFacetCallback)(((e,a)=>()=>{t(LW.VERIFYING_ACCOUNT),a.inWorldCreation=!0,e.fireEventButtonPressed("Create_On_Realms_OreUI",{}),a.createOnRealms()}),[t],[s,c]);(0,l.useFacetEffect)(((e,t)=>{e&&t===LW.START&&p()}),[p],[a,e]),(0,l.useFacetEffect)(((e,a,n)=>{e&&a===LW.VERIFYING_ACCOUNT&&n.isLoggedInWithMicrosoftAccount&&!n.isBanned&&t(LW.LOADING_REALMS_LIST)}),[t],[a,e,u]);const g=(0,l.useFacetCallback)(((e,a,r)=>()=>{0===a.length?1===r.length?(t(LW.AWAITING_CONFIRMATION),e.createPreviewRealmFromSubscriptionId(`${r[0].id}`)):(t(LW.IDLE),n.push("/realms-choose-realm/realm-subscriptions")):(t(LW.IDLE),n.push("/realms-choose-realm/preview-realms"))}),[n,t],[i,d,m]);(0,l.useFacetEffect)(((e,a,n,r,l,o)=>{e&&a===LW.LOADING_REALMS_LIST&&n.state!==Ds.Loading&&r.state!==Ds.Loading&&(0===l.length&&0===o.length?t(LW.SUBSCRIPTION_NEEDED):g())}),[t,g],[a,e,r,o,d,m]);const E=(0,l.useFacetCallback)(((e,t)=>()=>{e.inWorldCreation&&e.createWorldOnPreviewRealm(t.getCreatedPreviewRealmId())}),[],[c,i]);(0,l.useFacetEffect)(((e,a,n)=>{e&&a===LW.CONFIRMED&&n.createPreviewRealmFromSubscriptionTaskState===Hk.DONE&&(t(LW.AWAITING_WORLD_CREATION),n.reset(),E())}),[t,E],[a,e,i]);const h=(0,l.useFacetCallback)((e=>()=>{t(LW.IDLE),e.reset()}),[t],[i]);return(0,l.useFacetEffect)(((e,t)=>{e||t!==LW.AWAITING_WORLD_CREATION||h()}),[h],[a,e]),{state:e,create:()=>t(LW.START),confirm:()=>t(LW.CONFIRMED),reset:()=>h()}}(),p=(0,l.useFacetMap)((e=>e.worldData.general),[],[i]),g=(0,l.useFacetMap)((e=>e.worldData.multiplayer),[],[i]),E=SW(p),{disableSecondaryButton:h,buttonHint:b}=xW(E,g,p,e,"SideMenu.narrationCreateButtonHint"),v=tv(tc),y=(0,l.useFacetMap)((e=>e===LW.CONFIRMED||e===LW.AWAITING_WORLD_CREATION),[],[m.state]),F=(0,l.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===Hk.FAILED),[],[c]),S=(0,l.useFacetCallback)(((e,a,n,r)=>()=>{if(n.isAnyBeta)m.create();else{if(r&&v)return t({modal:"RealmsTrialMode",screen:"CreateNewWorld"}),void o.show();e.inWorldCreation=!0,a.fireEventButtonPressed("Create_On_Realms_OreUI",{}),e.createOnRealms()}}),[m,v,t,o],[i,u,s,d]),C=AW((0,l.useFacetCallback)(((e,t)=>()=>{!e||t.doNotShowHardcoreModeWarning?S():a.show()}),[a,S],[E,(0,l.useSharedFacet)(xc)]),n.show);return r.createElement(r.Fragment,null,r.createElement(pr,{collection:bT},r.createElement(Ug,{gamepadAlias:qA,narrationSuffix:b,linebreak:!0,"data-testid":"create-world-on-realm",variant:"primary",onClick:C,inputLegend:e("SideMenu.createOnRealm"),disabled:h},e("SideMenu.createOnRealm"))),r.createElement(l.Mount,{when:n.isVisible},r.createElement(YO.Component,{mode:eI.CREATE,onClose:n.hide})),r.createElement(l.Mount,{when:a.isVisible},r.createElement(CO.Component,{onSubmit:S,onCancel:a.hide})),r.createElement(l.Mount,{when:o.isVisible},r.createElement(RW.Component,{worldSettingsMode:eI.CREATE,onClose:o.hide})),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e===LW.SUBSCRIPTION_NEEDED),[],[m.state])},r.createElement(DW.Component,{onClose:m.reset})),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e===LW.AWAITING_CONFIRMATION),[],[m.state])},r.createElement(BW.Component,{onConfirm:(0,l.useFacetCallback)(((e,t)=>()=>{e.activateNewPreviewRealm(t.inWorldCreation),m.confirm()}),[m],[c,i]),onClose:m.reset})),r.createElement(l.Mount,{when:y},r.createElement(jW,{onClickClose:m.reset})),r.createElement(l.Mount,{when:F},r.createElement($W.Component,{onClickClose:m.reset})),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e===LW.LOADING_REALMS_LIST),[],[m.state])},r.createElement(HW,{onClickClose:m.reset})))};function ZW(){}const JW="prompt-default-btn",eB=yp((()=>{const e=(0,l.useSharedFacet)(Js),t=(0,l.useFacetMap)((e=>e.prompt.title),[],[e]),a=(0,l.useFacetMap)((e=>e.prompt.body),[],[e]),n=(0,l.useFacetMap)((e=>e.prompt.actions),[],[e]),o=(0,l.useFacetCallback)((e=>t=>{e.prompt.handleAction(t)}),[],[e]),i=(0,l.useFacetMap)((e=>e.length<=1),[],[n]),c=(0,l.useFacetCallback)((e=>e.length>1?()=>{var t;const a=null===(t=e.find((({variant:e})=>e===vu.Secondary)))||void 0===t?void 0:t.id;null!=a&&o(a)}:ZW),[o],[n]);return r.createElement($E,{defaultFocusAlias:JW},r.createElement($E.Header,{onClose:c,hideCloseButton:i},t),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a},a)),r.createElement($E.Buttons,null,r.createElement(l.Map,{array:n},((e,t)=>r.createElement(r.Fragment,null,t>0&&r.createElement(Nm,{size:1}),r.createElement(tB,{button:e,index:t,onClick:o}))))))}));function tB({button:e,onClick:t,index:a}){const{t:n}=Fc("CreateNewWorld.dlcCheckErrorModal"),o=(0,l.useFacetCallback)((e=>()=>t(e.id)),[t],[e]),i=(0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>e.variant===vu.Primary?"primary":"secondary"),[],[e]));return r.createElement(Ug,{onClick:o,inputLegend:n(".buttonSelectInputLegend"),gamepadAlias:0===a?JW:void 0,variant:i===l.NO_VALUE?"secondary":i},(0,l.useFacetMap)((e=>e.label),[],[e]))}const aB=()=>{const e=Jr(),t=(0,l.useSharedFacet)(Ni),a=(0,l.useSharedFacet)(Js),n=(0,l.useSharedFacet)(Bu),o=(0,l.useSharedFacet)(Ac),i=(0,l.useFacetMap)((e=>e.worldData),[],[t]),c=(0,l.useFacetMap)((e=>e.worldData.isUsingTemplate),[],[t]),s=(0,l.useFacetMap)((e=>e.isEditorWorld),[],[t]),u=(0,l.useFacetMap)((e=>e.prompt.active),[],[a]),{t:d}=Sc("EditWorld"),{t:m}=Sc("CreateNewWorld"),f=(0,l.useFacetMap)((e=>null!=e.resourcePackToDownload&&(e.status===Zs.DownloadingResourcePacks||e.status===Zs.StartDownload)),[],[a]),E=(0,l.useFacetMap)((e=>e.resourcePackToDownload.title),[],[a]),b=(0,l.useFacetMap)((e=>.5*(e.downloadProgress+e.importProgress)),[],[a]),v=(0,l.useFacetMap)((e=>e.downloadProgress>=1&&e.importProgress<1),[],[a]),y=(0,l.useFacetCallback)((e=>(t,a)=>{if(a){var n,r,l,o,i;const a=null!==(n=null===(r=e.availableTexturePacks.find((e=>t==e.id)))||void 0===r?void 0:r.name)&&void 0!==n?n:"",c=null!==(l=null===(o=e.availableBehaviorPacks.find((e=>t==e.id)))||void 0===o?void 0:o.name)&&void 0!==l?l:"";return null!==(i=a||c)&&void 0!==i?i:"Pack"}{var c,s,u,d,m;const a=null!==(c=null===(s=e.activeTexturePacks.find((e=>t==e.id)))||void 0===s?void 0:s.name)&&void 0!==c?c:"",n=null!==(u=null===(d=e.activeBehaviorPacks.find((e=>t==e.id)))||void 0===d?void 0:d.name)&&void 0!==u?u:"";return null!==(m=a||n)&&void 0!==m?m:"Pack"}}),[],[a]);(0,l.useFacetEffect)(((e,t)=>{if(e.lastActivatedPackId){const a=y(e.lastActivatedPackId,!0);t.queueSnackbar(d(".notificationToasts.addonPackActivated",[a===l.NO_VALUE?"Pack":a])),e.clearLastActivatedPackId()}}),[y,d],[a,o]);const F=(0,l.useFacetCallback)((e=>t=>{e.activate(t,!1)}),[],[a,o]),S=(0,l.useFacetCallback)((e=>t=>{e.activate(t,!0)}),[],[a,o]),C=(0,l.useFacetCallback)(((e,t)=>a=>{e.deactivate(a);const n=y(a,!1);t.queueSnackbar(d(".notificationToasts.addonPackDeactivated",[n===l.NO_VALUE?"Pack":n]))}),[y,d],[a,o]),M=(0,l.useFacetCallback)((e=>(t,a,n,r)=>{e.changePackPriority(t,n,r)}),[],[a]),w=(0,l.useFacetCallback)((e=>t=>e.showSettings(t)),[],[a]),k=(0,l.useFacetCallback)((e=>()=>{e.cancelDownload()}),[],[a]),T=(0,l.useFacetCallback)((e=>()=>{e.unlockTemplateSettings()}),[],[t]),P=(0,l.useFacetMap)((e=>null!=e.createWorldError),[],[t]),I=(0,l.useFacetMap)((e=>null!=e.worldPreviewImagePath&&e.worldPreviewImagePath.length>0?e.worldPreviewImagePath:TW),[],[t]),x=PO.useShowModal(),A=(0,l.useFacetCallback)((t=>()=>{t.checkIfUserHasChangedSettings()?x({onLeave:()=>{e.goBack()}}):e.goBack()}),[e,x],[t]),O=(0,l.useFacetMap)((e=>e.isCreatingWorld),[],[t]),N=(0,l.useFacetMap)((e=>!e.consumeResetFlag),[],[t]),R=(0,l.useFacetMap)((e=>null!=e.createOnRealmsError),[],[t]),L=(0,l.useFacetCallback)((e=>t=>{null!=e.worldPreviewImagePath&&e.worldData.advanced.worldSeed!=t&&(e.worldPreviewImagePath=""),e.worldData.advanced.worldSeed=t}),[],[t]),_=(0,l.useFacetCallback)((e=>t=>e.worldPreviewImagePath=t),[],[t]),D=(0,l.useFacetMap)((e=>e.isRandomSeedAllowed),[],[t]),W=(0,l.useSharedFacet)(Bu),B=(0,l.useFacetMap)(((e,t,a)=>e||t&&!a),[],[W,c,D]),U=(()=>{const e=p(),t=(0,l.useSharedFacet)(Ni),a=g(),n=(0,l.useFacetMap)((e=>e.worldTemplateId),[],[a]),r=(0,l.useFacetMap)((e=>e.worldData.isUsingTemplate),[],[t]),o=(0,l.useFacetMap)((e=>e.applyTemplateTaskState),[],[t]),i=(0,l.useFacetMap)((e=>e===Hk.RUNNING),[],[o]),c=Vk((t=>function*(a){t.applyTemplate(a),yield o,e.replace("/create-new-world/general")}),[o,e],[t,r,n]);return(0,l.useFacetEffect)(((e,t)=>{!e&&(e=>null!=e&&!["available","active"].includes(e))(t)&&c(t)}),[c],[r,n]),i})(),z=h(),H=(0,l.useFacetMap)((e=>e.get("packid")),[],[z]),j=tv(tc),V=(0,l.useFacetMap)(((e,t)=>!(e||t)||j&&t),[j],[s,n]);return(0,l.useFacetEffect)((e=>{null!=e&&S(e)}),[S],[H]),r.createElement(tI.Provider,{value:eI.CREATE},r.createElement(PN.Provider,{value:U},r.createElement(kW,{isPageLoading:U,worldData:i,worldPacks:a,worldPreviewImage:I,renderPage:N,onActivatePack:F,onDeactivatePack:C,onChangePackPriority:M,onClickPackSettings:w,onUnlockTemplateSettings:T,backButtonCallback:A,backButtonDisabled:(0,l.useFacetWrap)(!1),isEditorWorld:s,onSeedValueChange:L,isSeedChangeLocked:B,sideMenuButtons:r.createElement(r.Fragment,null,r.createElement(Sx.Item,null,r.createElement(qW,null)),r.createElement(Nm,{size:1}),r.createElement(l.Mount,{when:V},r.createElement(Sx.Item,null,r.createElement(QW,null)))),onWorldPreviewPathChange:_}),r.createElement(l.Mount,{when:f},r.createElement(HO.Component,{title:E,percentage:b,isImportingPack:v,onCancel:k})),r.createElement(l.Mount,{when:P},r.createElement(vO.Component,null)),r.createElement(l.Mount,{when:R},r.createElement(hO.Component,null)),r.createElement(l.Mount,{when:O},r.createElement(Ay.Component,{title:m(".creatingNewWorldModal.title")})),r.createElement(l.Mount,{when:u},r.createElement(eB.Component,null))))};a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p;function nB(e){const t=(0,l.useFacetMap)((e=>e.getTechStackForScreen(lu.PlayScreen)==ou.OreUI),[],[(0,l.useSharedFacet)(iu)]);return(0,l.useFacetMap)(((e,t)=>t?`/play/realms/${e}`:"/play/friends"),[],[e,t])}function rB({button:e}){return(null==e?void 0:e.action)==Wc.EXTERNAL?r.createElement(r.Fragment,null,r.createElement(xM.ExternalLink,{role:"inherit"}),r.createElement(Nm,{size:2})):null}function lB(){const e=p(),{t}=Fc("AccountUnlinkRoute"),a=vd(),n=(0,l.useSharedFacet)(Wu),o=OT(),i=(0,l.useFacetMap)((e=>t(".unlinkLine1",e?[e.data.xblName]:[""])),[t],[o]),c=(0,l.useFacetMap)((e=>e.accountUnlinkState===Hk.RUNNING),[],[n]),s=(0,l.useFacetMap)((e=>e.accountUnlinkState===Hk.DONE||e.accountUnlinkState===Hk.FAILED),[],[n]),u=(0,l.useFacetCallback)((e=>()=>{e.unlinkMicrosoftAccount(),a({screen:"AccountUnlink",button:"Unlink"})}),[a],[n]);return r.createElement(r.Fragment,null,r.createElement($E,null,r.createElement($E.Header,{onClose:()=>{a({screen:"AccountUnlink",button:"Close"}),e.goBack()}},t(".header")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:i},r.createElement(zm,{type:"captionLong",align:"left"},i)),r.createElement($E.Text,{narrationText:t(".unlinkLine2")},r.createElement(zm,{type:"captionLong",align:"left"},t(".unlinkLine2"))),r.createElement($E.Text,{narrationText:t(".unlinkLine3")},r.createElement(zm,{type:"captionLong",align:"left"},t(".unlinkLine3")))),r.createElement($E.Buttons,null,r.createElement(Ug,{variant:"destructive",gamepadAlias:"unlinkButton",inputLegend:t(".unlinkButton"),onClick:u},t(".unlinkButton")),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadAlias:"cancelButton",inputLegend:t(".cancelButton"),onClick:()=>{a({screen:"AccountUnlink",button:"Cancel"}),e.goBack()}},t(".cancelButton")))),r.createElement(l.Mount,{when:c},r.createElement(Ay.Component,{title:t(".progressHeader")})),r.createElement(l.Mount,{when:s},r.createElement(oB,null)))}function oB(){const e=p(),{t}=Fc("AccountUnlinkRoute"),a=vd(),n=(0,l.useSharedFacet)(Wu),o=(0,l.useFacetMap)((e=>e.accountUnlinkState===Hk.DONE?t(".successHeader"):t(".failHeader")),[t],[n]),i=(0,l.useFacetMap)((e=>e.accountUnlinkState===Hk.DONE?t(".successBody"):t(".failBody")),[t],[n]),c=(0,l.useFacetCallback)((t=>()=>{t.clearAccountUnlinkState(),a({screen:"AccountUnlink",button:"CloseResults"}),e.goBack()}),[a,e],[n]);return r.createElement($E,null,r.createElement($E.Header,{onClose:c},o),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:i},r.createElement(zm,{type:"captionLong",align:"left"},i))),r.createElement($E.Buttons,null,r.createElement(Ug,{variant:"primary",gamepadAlias:"closeResultsButton",inputLegend:t(".closeResultsButton"),onClick:c},t(".closeResultsButton"))))}let iB;function cB(){const[e,t]=(0,l.useFacetState)(iB.ACTIVE),a=(0,r.useRef)(),n=(0,l.useSharedFacet)(Oc),o=(0,l.useFacetCallback)((e=>()=>{e.isFinishedQueryingProductsAndPurchases?t(iB.IDLE):(t(iB.ACTIVE),a.current=setTimeout((()=>{t(iB.IDLE)}),15e3))}),[t],[n]);return(0,r.useEffect)((()=>(o(),()=>{a.current&&clearTimeout(a.current)})),[o]),e}gc.VISITOR,gc.MEMBER,gc.OPERATOR,function(e){e[e.IDLE=0]="IDLE",e[e.ACTIVE=1]="ACTIVE"}(iB||(iB={}));const sB={container:"abed96b39e2ff2ecead1"};function uB(){return uB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},uB.apply(null,arguments)}function dB(e){let{minWidth:t,minHeight:a,minBorderWidth:n=0,className:o,style:i}=e,c=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["minWidth","minHeight","minBorderWidth","className","style"]);const s=(0,r.useRef)(null),[u,d]=(0,l.useFacetState)(1),m=(0,l.useFacetMap)((e=>[sB.container,e].filter(Boolean).join(" ")),[],[(0,l.useFacetWrap)(o)]);Bd(s,(({width:e})=>{const a=Math.max(1,Math.floor(e/(t+2*n)));"number"==typeof a&&a>0&&d(a)}));const p=(0,l.useFacetMap)((e=>(t+2*n)*e+"px"),[t,n],[u]),f=(0,l.useFacetMap)((e=>(a+2*n)*e+"px"),[a,n],[u]),g=(0,l.useFacetMap)((e=>n*e+"px solid transparent"),[n],[u]);return r.createElement("fast-div",{ref:s,className:m,style:i},0===n?r.createElement("fast-img",uB({},c,{style:{imageRendering:"pixelated",width:p,height:f}})):r.createElement("fast-img",uB({},c,{style:{imageRendering:"pixelated",width:p,height:f,border:g}})))}function mB({minWidth:e,minHeight:t,minBorderWidth:a,containerClassName:n,frameClassName:o}){const i=(0,r.useRef)(null),[c,s]=(0,l.useFacetState)(1),u=(0,l.useFacetWrap)(o),d=(0,l.useFacetWrap)(n);Bd(i,(({width:t})=>{const n=Math.max(1,Math.floor(t/(e+2*a)));"number"==typeof n&&s(n)}));const m=(0,l.useFacetMap)((t=>(e+2*a)*t+"px"),[e,a],[c]),p=(0,l.useFacetMap)((e=>(t+2*a)*e+"px"),[t,a],[c]),f=(0,l.useFacetMap)((e=>a*e+"px"),[a],[c]);return r.createElement("fast-div",{ref:i,className:d},r.createElement("fast-div",{className:u,style:{width:m,height:p,borderWidth:f}}))}function pB({title:e,text:t,image:a,index:n,maxIndex:o}){const i=(0,l.useFacetWrap)(e),c=(0,l.useFacetWrap)(t),s=(0,l.useFacetWrap)(a),u=(0,l.useFacetWrap)(null!=n?n:-1),d=(0,l.useFacetWrap)(null!=o?o:-1),m=wr("neutral"),{t:p}=Fc("PromoListItem"),f=(0,l.useFacetMap)(((e,t,a,n)=>{const r=[e,p(".role")];return-1!==a&&-1!==n&&r.push(p(".enumeration",[(a+1).toString(),n.toString()])),r.push(t),r.join(" . ")}),[p],[i,c,u,d]);return r.createElement(Tm,{inputLegend:!1,narrationText:f,classNameFocused:kp,className:zr()("ed2960e282e6cd116a50",m.border.base)},r.createElement(wp,null),r.createElement("div",{className:zr()("f63135e540df5caf3bcb","acf2617fb2d3a70532ba",m.background.base)},r.createElement(Lp,{effect:"specular"}),r.createElement("div",{className:"ef55a2818763eecb46fc"},r.createElement(dB,{src:s,minWidth:128,minHeight:72,className:"a56f9458d86469448410"})),r.createElement(Nm,{size:2}),r.createElement("div",{className:"f55779031abbb7dca713"},r.createElement(zm,{type:"header5B"},i),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"captionLong",variant:"dimmer"},c))))}const fB=a.p+"assets/RealmsSplashImage-b1b9273db014c55c54a2.jpg",gB=a.p+"assets/RealmsTitleImage-517ec17acdae298fbccc.png";function EB({title:e,text:t,showRealmsTitleImage:a=!1,buttonProps:n}){const o=(0,l.useFacetWrap)(null!=n?n:{text:"",onClick:()=>{},tokenCollection:"realms",gamepadAlias:"",isLoading:!1}),i=Nd(70),c=wr("neutral"),s=wr("informative"),{t:u}=Fc("Splash"),d=(0,l.useFacetMap)((e=>[e.text,u(".enumeration",["1","1"])].join(" . ")),[u],[o]),m=[e,u(".role"),t].join(" . ");return r.createElement("div",{className:zr()("c2c357e23ed10bbf12f2",s.background.base,c.border.base)},r.createElement("div",{className:zr()("ad022a9d7dce046a0c64",{f2ef7c7db5dfcd78d132:!a,b1d4552b0a47d68bd503:!i,a66780de24c925f8300d:!i,f35258d273a83246b972:i})},a&&r.createElement("div",{className:"fb2337020cdfa249e72c"},r.createElement(Qp,{src:gB})),r.createElement(pr,{collection:bT},r.createElement(zm,{type:"header4A",role:"PDPPlus",variant:"stronger"},e)),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionLong"},t),n&&r.createElement("div",{className:"dc855684c833cf0a84a7"},r.createElement(Nm,{size:4}),r.createElement(xl,{data:o},(e=>r.createElement(pr,{collection:"realms"===e.tokenCollection?bT:hT},e.isLoading&&r.createElement("div",{className:"d5a97c21f246366358b1"},r.createElement(zf,null)),!e.isLoading&&r.createElement(Ug,{inputLegend:u(".select"),narrationPrefix:d,narrationSuffix:m,onClick:e.onClick,variant:"primary",gamepadAlias:e.gamepadAlias,"data-testid":e["data-testid"]},e.text)))))),!i&&r.createElement("div",{className:"ad47d57ef57a3c15ee6a"},r.createElement(Qp,{src:fB,aspectRatio:Qp.AspectRatio["16:9"]})))}function hB({header:e,title:t,text:a,listText:n,image:o}){const i=(0,l.useFacetWrap)(null!=e?e:""),c=(0,l.useFacetMap)((e=>""!==e),[],[i]),s=(0,l.useFacetWrap)(t),u=(0,l.useFacetWrap)(a),d=(0,l.useFacetWrap)(null!=n?n:[]),m=(0,l.useFacetWrap)(null!=o?o:""),p=(0,l.useFacetMap)((e=>""!==e),[],[m]),f=(0,l.useFacetMap)((e=>0!=e.length),[],[d]),g=wr("neutral"),E=wr("neutral80"),{t:h}=Fc("HeroItem"),b=(0,l.useFacetMap)(((e,t,a,n,r)=>n?[e,h(".role"),t,r.join(" . ")].join(" . "):[e,h(".role"),t,a].join(" . ")),[h],[i,s,u,f,d]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:c},r.createElement(PF,{role:"primary",label:i})),r.createElement(Tm,{inputLegend:!1,narrationText:b,classNameFocused:kp,className:zr()("af12ec7d87ee65788a63",g.border.base)},r.createElement(wp,null),r.createElement("div",{className:zr()("fd45b51010b1036a5919",g.background.base)},r.createElement(zm,{type:"header4A"},s),r.createElement(Nm,{size:4}),r.createElement(xl,{data:f},(e=>e?r.createElement(l.Map,{array:d},(e=>r.createElement("div",{className:"d12d120a5fe1f4f44ff1"},r.createElement(zm,{type:"body"},"•"),r.createElement(zm,{type:"captionLong",variant:"dimmer",indent:!0},e)))):r.createElement(zm,{type:"captionLong",variant:"dimmer"},u)))),r.createElement(l.Mount,{when:p},r.createElement("div",{className:zr()("e1265064d1407b02ce4a",E.shadow.base)},r.createElement(Qp,{src:m,aspectRatio:Qp.AspectRatio["16:9"]})))))}const bB=a.p+"assets/PersistentMultiplayerWorlds-880a4c87505453a232a5.png",vB=a.p+"assets/MembersPlayFree-265a91b2dbbf57048dec.png",yB=a.p+"assets/EasyAndSafe-18a17730ef0c04a97dce.png",FB=a.p+"assets/AdditionalContentWithRealmsPlus-2567d0ea8095b484c6e8.jpg",SB=a.p+"assets/AdditionalPerksIncludedWithRealms-1153c4cfd063f6dbea4d.jpg",CB="realms-pdp-scrollview",MB="realms-pdp-splash-button";function wB({data:e,index:t,length:a,screenAnalyticsId:n}){const{t:o}=Fc("RealmsPDPFAQAccordion"),i=vd(),c=(0,l.useFacetMap)((e=>[o(".enumeration",[`${t+1}`,`${e}`]),o(".clickToExpand")].join(" . ")),[t,o],[a]),s=(0,l.useFacetMap)((e=>[o(".textBlock"),...e.text].join(" . ")),[o],[e]),u=(0,l.useFacetMap)((e=>e.title),[],[e]),d=(0,l.useFacetMap)((e=>e.text),[],[e]),m=(0,l.useFacetMap)((e=>t<e-1),[t],[a]),p=wr("neutral"),f=r.useCallback((e=>{e&&i({button:"FAQItem",screen:n,details:{index:t.toString()}})}),[i,n,t]);return r.createElement(r.Fragment,null,r.createElement(Py,{label:u,narrationHint:c,onExpandNarrationHint:"",onChange:f},r.createElement(Tm,{inputLegend:!1,narrationText:s,classNameFocused:kp,className:zr()("e61dd5a7b20dc93bd3af",p.border.base,p.background.base)},r.createElement(wp,null),r.createElement(l.Map,{array:d},(e=>r.createElement(zm,{type:"captionLong",variant:"dimmer"},e))))),r.createElement(l.Mount,{when:m},r.createElement(Nm,{size:2})))}function kB({header:e,footer:t,hideUpsellButton:a=!1,screenAnalyticsId:n="RealmsPDP"}){const{t:o}=Fc("RealmsPDPScreen"),i=vd(),c=Nd(70),s=p(),u=(0,l.useSharedFacet)(Oc),d=cB(),m=(0,l.useSharedFacet)(Ns),f=tv("vanilla.realmsPDP2025"),g=(0,l.useFacetMap)(((e,t,a,n)=>n===iB.ACTIVE?"":t.isFinishedQueryingProductsAndPurchases&&t.isRealmsTrialOfferAvailable&&e.isRealmsTrialAvailable?o(".splash.tryFree"):Ik(a.platform)?o(".splash.subscribeNow"):o(".splash.buyNow")),[o],[m,u,(0,l.useSharedFacet)(dl),d]),E=(0,l.useFacetMap)((e=>({text:e,onClick:()=>{i({button:"Upsell",screen:n}),s.push("/realms-plan-picker")},tokenCollection:"realms",gamepadAlias:MB,isLoading:""===e,"data-testid":MB})),[s,i,n],[g]),h=(0,l.useFacetWrap)(null!=a&&a),b=(0,l.useFacetMap)((e=>{const t=[],a=e.coreSubscriptionPrice,n=e.plusSubscriptionPrice;return t.push({title:o(".FAQ.Realms.title"),text:[o(".FAQ.Realms.description")]}),t.push({title:o(".FAQ.PersonalServer.title"),text:[o(".FAQ.PersonalServer.description")]}),""!=a&&""!=n&&t.push({title:o(".FAQ.Cost.title"),text:[o(".FAQ.Cost.description1"),o(".FAQ.Cost.description2",[a]),o(".FAQ.Cost.description3",[n])]}),t.push({title:o(".FAQ.Friends.title"),text:[o(".FAQ.Friends.description")]}),t.push({title:o(".FAQ.Expiry.title"),text:[o(".FAQ.Expiry.description")]}),t.push({title:o(".FAQ.HowMany.title"),text:[o(".FAQ.HowMany.description")]}),t}),[o],[u]),v=(0,l.useFacetMap)((e=>e.length),[],[b]);return r.createElement(pr,{collection:bT},r.createElement(jf,{gamepadAlias:CB,delegateFocusByAlias:MB},e,r.createElement(xl,{data:h},(e=>r.createElement(EB,{title:o(".splash.title"),text:o(".splash.text"),buttonProps:e?void 0:E}))),r.createElement(Nm,{size:2}),r.createElement(PF,{role:"primary",label:o(".promos.header")}),r.createElement(Zf,{text:o(".promos.header")},r.createElement(pB,{image:bB,title:o(".promos.persistent.title"),text:o(".promos.persistent.description"),index:0,maxIndex:3}),r.createElement(Nm,{size:2}),r.createElement(pB,{image:vB,title:o(".promos.free.title"),text:o(".promos.free.description"),index:1,maxIndex:3}),r.createElement(Nm,{size:2}),r.createElement(pB,{image:yB,title:o(".promos.easy.title"),text:o(".promos.easy.description"),index:2,maxIndex:3})),r.createElement(Nm,{size:2}),r.createElement(hB,{image:c?void 0:FB,header:o(".hero.content.header"),title:o(".hero.content.title"),text:o(".hero.content.text"),listText:f?[o(".hero.content.text1"),o(".hero.content.text2"),o(".hero.content.text3"),o(".hero.content.text4"),o(".hero.content.text5")]:[]}),r.createElement(Nm,{size:2}),r.createElement(hB,{image:c?void 0:SB,header:o(".hero.perks.header"),title:o(".hero.perks.title"),text:o(".hero.perks.text")}),r.createElement(Nm,{size:2}),r.createElement(PF,{role:"primary",label:o(".FAQ.header")}),r.createElement(Zf,{text:o(".FAQ.header")},r.createElement(l.Map,{array:b},((e,t)=>r.createElement(wB,{data:e,index:t,length:v,screenAnalyticsId:n})))),t))}function TB(){const{t:e}=Fc("PurchaseRealmOnRetailBanner");return r.createElement(pr,{collection:hT},r.createElement(AP,{role:"informative"},r.createElement(AP.Text,null,e(".text"))))}const PB=a.p+"assets/parental-online-safety-8fad2009b4d02bc059bf.png",IB=a.p+"assets/online-safety-dc71d57973878591b475.png";function xB({variant:e,inputLegendExtraSpace:t}){const{t:a}=Fc("PlayScreen.xboxPermissionMessage"),n=(0,l.useSharedFacet)(zu),o=(0,l.useSharedFacet)(Wu),i=(0,l.useSharedFacet)(dl),c=my({wide:8,narrow:6,width:256}),s=(0,l.useFacetCallback)(((e,t,a)=>()=>{Pk(a.platform)?t.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(Uu.ParentPermissionHelpPage)}),[],[n,o,i]),u=(0,l.useFacetCallback)(((e,t,a)=>()=>{Pk(a.platform)?t.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(Uu.TroubleshootingMultiplayerDisabled)}),[],[n,o,i]);return r.createElement(jf,{floating:!0,gamepadIndex:1,flexShrinkWrapper:!0},r.createElement(Nm,{size:2}),r.createElement(_v,{title:a(".title"),text:a("parental"===e?".parentalText":".text"),imgSrc:"parental"===e?PB:IB,imgClass:(0,l.useFacetMap)((e=>e?"abea605b5be1b11f3318":"b5caa5e74f3c15a87268"),[],[c]),buttons:[{text:a(".learnMore"),imgSrc:zI.imgSrc,inputLegend:a(".learnMore"),onClick:"parental"===e?s:u,buttonTestId:"help-button"}]}),r.createElement(LE.Space,{extraSpace:t}))}let AB,OB,NB,RB;function LB({accountAndPlatform:e=0,location:t}){const{t:a}=Fc("PlayScreen.guestAccountMessage"),n=vd();let l="",o="";switch(e){case AB.MsaPlaystation:case AB.MsaNintendo:l=t===NB.ServersTab?a(".serversNoMicrosoftAccount"):a(".realmsNoMicrosoftAccount"),o=a(".bannerLogInMicrosoft");break;case AB.PlatformPlaystation:l=t===NB.ServersTab?a(".serversNoPlatformAccountPlaystation"):a(".realmsNoPlatformAccountPlaystation");break;case AB.PlatformNintendo:l=t===NB.ServersTab?a(".serversNoPlatformAccountNintendo",["Servers"]):a(".realmsNoPlatformAccountNintendo",["Realms"])}const i=p();return r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,l),e!==AB.PlatformPlaystation&&e!==AB.PlatformNintendo&&r.createElement(AP.Link,{"data-testId":`log-in-link-${t}`,gamepadIndex:1,onClick:()=>{n({screen:`${_B(t)}`,button:"SignIn"}),i.replace("/sign-in?signInSource=PlayScreen_NotLoggedInWarning_OreUI")}},o))}function _B(e){return e===NB.ServersTab?"ServersTab":"RealmsTab"}function DB({platform:e,location:t}){const{t:a}=Fc("PlayScreen.noPremiumSubscriptionMessage");let n="",o="";switch(e){case OB.Playstation:n=t===NB.ServersTab?a(".serversPlaystation"):a(".realmsPlaystation"),o=a(".learnMore");break;case OB.Nintendo:n=t===NB.ServersTab?a(".serversNintendo"):a(".realmsNintendo"),o=a(".learnMore");break;case OB.Xbox:n=t===NB.ServersTab?a(".serversXbox"):a(".realmsXbox")}const i=(0,l.useFacetCallback)((e=>()=>e.showPremiumNetworkUpsellModal()),[],[(0,l.useSharedFacet)(Wu)]);return""===n?null:r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,n),r.createElement(AP.Link,{onClick:i},o))}function WB(){const{t:e}=Fc("PlayScreen.BannerMultiplayerDisabled"),t=(0,l.useFacetCallback)(((e,t,a)=>()=>{Pk(t.platform)?a.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(Uu.TroubleshootingMultiplayerDisabled)}),[],[(0,l.useSharedFacet)(zu),(0,l.useSharedFacet)(dl),(0,l.useSharedFacet)(Wu)]);return r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,e(".text")),r.createElement(AP.Link,{"data-testId":"multiplayer-link",onClick:t},e(".learnMore")))}function BB({location:e}){const{t}=Fc("notLoggedInWarning"),a=Jr(),n=vd();return r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,function(e){const{t}=Fc("notLoggedInWarning.playScreen.message"),{t:a}=Fc("notLoggedInWarning.startFromTemplateScreen.message");switch(e){case RB.PlayScreen_Servers:return t(".servers");case RB.TemplatesScreen_MarketplacePass:return a(".marketplacePass");case RB.TemplatesScreen_Featured:return a(".featured");case RB.Realms_PlanPicker:case RB.Realms_PDP:case RB.PlayScreen_Realms:return t(".realms")}}(e)),r.createElement(AP.Link,{"data-testId":`log-in-link-${e}`,onClick:()=>{n({screen:`${UB(e)}`,button:"SignIn"}),a.replace(`/sign-in?signInSource=${function(e){switch(e){case RB.PlayScreen_Realms:case RB.PlayScreen_Servers:return"PlayScreen";case RB.TemplatesScreen_MarketplacePass:case RB.TemplatesScreen_Featured:return"TemplatesScreen";case RB.Realms_PlanPicker:return"RealmsPlanPicker";case RB.Realms_PDP:return"RealmsPDP"}}(e)}_NotLoggedInWarning_OreUI`)}},t(".loginLink")))}function UB(e){switch(e){case RB.PlayScreen_Realms:return"RealmsTab";case RB.PlayScreen_Servers:return"ServersTab";case RB.TemplatesScreen_MarketplacePass:case RB.TemplatesScreen_Featured:return"TemplatesScreen";case RB.Realms_PlanPicker:return"RealmsPlanPicker";case RB.Realms_PlanPicker:return"RealmsPDP"}}function zB(){return(0,l.useFacetMap)(((e,t)=>{const{isSignedInPlatformNetwork:a,isLoggedInWithMicrosoftAccount:n,hasPremiumNetworkAccess:r}=e,l=Ik(t.platform),o=Tk(t.platform);return n&&!a&&l?"platform-guest-nintendo":n&&!a&&o?"platform-guest-playstation":!n&&a&&r&&o?"msa-guest-with-premium-playstation":!n&&a&&r&&l?"msa-guest-with-premium-nintendo":!n&&a&&l&&!r?"msa-guest-nintendo":!n&&a&&o&&!r?"msa-guest-playstation":n&&e.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive)?"multiplayer-disabled":n&&!r&&l?"no-premium-subscription-nintendo":n&&!r&&o?"no-premium-subscription-playstation":"not-signed-in"}),[],[(0,l.useSharedFacet)(Wu),(0,l.useSharedFacet)(dl)])}function HB({tab:e}){const t=zB(),a=function(e){switch(e){case NB.ServersTab:return RB.PlayScreen_Servers;case NB.RealmsTab:return RB.PlayScreen_Realms;case NB.RealmsPlanPicker:return RB.Realms_PlanPicker;case NB.RealmsPDP:return RB.Realms_PDP}}(e);return r.createElement("div",null,r.createElement(xl,{data:t},(t=>{switch(t){case"msa-guest-nintendo":case"msa-guest-with-premium-nintendo":return r.createElement(LB,{accountAndPlatform:AB.MsaNintendo,location:e});case"msa-guest-playstation":case"msa-guest-with-premium-playstation":return r.createElement(LB,{accountAndPlatform:AB.MsaPlaystation,location:e});case"platform-guest-nintendo":return r.createElement(LB,{accountAndPlatform:AB.PlatformNintendo,location:e});case"platform-guest-playstation":return r.createElement(LB,{accountAndPlatform:AB.PlatformPlaystation,location:e});case"no-premium-subscription-nintendo":return r.createElement(DB,{platform:OB.Nintendo,location:e});case"no-premium-subscription-playstation":return r.createElement(DB,{platform:OB.Playstation,location:e});case"multiplayer-disabled":return r.createElement(WB,null);case"not-signed-in":return r.createElement(BB,{location:a});default:return null}})))}!function(e){e[e.MsaPlaystation=0]="MsaPlaystation",e[e.MsaNintendo=1]="MsaNintendo",e[e.PlatformPlaystation=2]="PlatformPlaystation",e[e.PlatformNintendo=3]="PlatformNintendo"}(AB||(AB={})),function(e){e[e.Playstation=0]="Playstation",e[e.Nintendo=1]="Nintendo",e[e.Xbox=2]="Xbox"}(OB||(OB={})),function(e){e.ServersTab="servers",e.RealmsTab="realms",e.RealmsPlanPicker="realmsPlanPicker",e.RealmsPDP="realmsPDP"}(NB||(NB={})),function(e){e.PlayScreen_Realms="play-realms",e.PlayScreen_Servers="play-servers",e.TemplatesScreen_MarketplacePass="templates-marketplace-pass",e.TemplatesScreen_Featured="templates-featured",e.Realms_PlanPicker="realms-plan-picker",e.Realms_PDP="realms-pdp"}(RB||(RB={}));const jB=a.p+"assets/generic-empty-6e7cd503710f4a7297df.png";function VB(){const{t:e}=Fc("PlayScreen.PlatformMultiplayerDisabledMessage"),t=(0,l.useSharedFacet)(dl),a=(0,l.useFacetMap)((t=>Tk(t.platform)?e(".textForPlayStation"):e(".text")),[e],[t]),n=my({wide:8,narrow:6,width:256}),o=(0,l.useFacetMap)((e=>e?"a1520bc3ea3d8ca30a44":"beb61150ad6bd6687701"),[],[n]);return r.createElement(r.Fragment,null,r.createElement(_v.Wrapper,{borderless:!1},r.createElement(_v.Title,null,e(".title")),r.createElement(_v.Image,{imgClass:o,imgSrc:jB}),r.createElement(_v.Text,null,a)),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))}function GB(){const{t:e}=Fc("RealmsPDPScreen"),t=function(){const e=(0,l.useSharedFacet)(Wu),t=zB();return(0,l.useFacetMap)(((e,t)=>e.isLoggedInWithMicrosoftAccount&&"not-signed-in"===t?e.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive_Parental)?"parental-online-safety":e.userPermissions.multiplayer.denyReasons.includes(Lu.Platform_PlayStation)||e.userPermissions.multiplayer.denyReasons.includes(Lu.Platform_NintendoSwitch)?"platform-multiplayer-disabled":"show-default":"show-account-state-banner"),[],[e,t])}(),a=(0,l.useSharedFacet)(Ti),n=(0,l.useFacetMap)((e=>"show-account-state-banner"==e),[],[t]),o=(0,l.useFacetMap)(((e,t)=>e||t),[],[a,n]);return r.createElement(pr,{collection:bT},r.createElement(yx,{screenAnalyticsId:"Realms-PDP",gamepadAlias:"realms-pdp",title:e(".title"),delegateByAlias:CB},(()=>r.createElement(Cv,null,r.createElement(Cv.Row,{fullHeight:!0},r.createElement(Cv.Column,{wideSize:12,narrowSize:8},r.createElement(xl,{data:t},(e=>{switch(e){case"parental-online-safety":return r.createElement(r.Fragment,null,r.createElement(xB,{variant:"parental"}),r.createElement(LE.Space,{extraSpace:r.createElement(Nm,{size:2})}));case"platform-multiplayer-disabled":return r.createElement(r.Fragment,null,r.createElement(VB,null));default:return r.createElement(kB,{header:r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(l.Mount,{when:a},r.createElement(r.Fragment,null,r.createElement(TB,null),r.createElement(Nm,{size:2}))),r.createElement(l.Mount,{when:n},r.createElement(r.Fragment,null,r.createElement(HB,{tab:NB.RealmsPDP}),r.createElement(Nm,{size:2})))),footer:r.createElement(LE.Space,{extraSpace:r.createElement(Nm,{size:2})}),hideUpsellButton:o})}}))))))))}function $B({qrCodeSrc:e,foregroundColor:t="",backgroundColor:a=""}){const n=(0,l.useFacetWrap)(e),o=(0,l.useFacetWrap)(t),i=(0,l.useFacetWrap)(a),c=(0,l.useFacetMap)(((e,t,a)=>(e.startsWith("qr://")&&(t||(t=encodeURIComponent(bo)),a||(a=encodeURIComponent(wo)),e+=`?foregroundColor=${t}&backgroundColor=${a}`),e)),[],[n,o,i]);return r.createElement(Qp,{aspectRatio:{height:1,width:1},imageRendering:"pixelated",className:"cc40038e8ffa606dae3a",src:c})}const KB="AddFriends";function YB(){const{t:e}=Fc("AddFriendSideMenu.narration"),t=Od(),a=(0,l.useSharedFacet)(Zc),n=(0,l.useSharedFacet)(Wu),o=(0,l.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,"")}),[],[a,n]);o();const i=OT(),c=(0,l.useFacetMap)((t=>{let a="";return t&&(""!=t.data.xblName&&(a=t.data.xblName),""!=t.data.platformName&&(a=t.data.platformName),""!=t.data.offlineName&&(a=t.data.offlineName)),[a,null!=t?t.data.realName:null,e(".group")].join(" . ")}),[e],[i]);return r.createElement(jf,{floating:!0},r.createElement("div",{className:""+("desktop"===t?"a82c0e1534db6e98941a":"")},r.createElement(Sx,{narrationPrefix:c},r.createElement(XB,null))))}function XB(){const{t:e}=Fc("AddFriendSideMenu"),{t}=Fc("AddFriendSideMenu.narration"),a=OT(),n=vd(),o=(0,l.useSharedFacet)(Ii),i=(0,l.useSharedFacet)(su),c=(0,l.useSharedFacet)(Ac),s=(0,l.useSharedFacet)(dl),u=(0,l.useFacetMap)((e=>{if(e){if(""!=e.data.xblName)return e.data.xblName;if(""!=e.data.platformName)return e.data.platformName;if(""!=e.data.offlineName)return e.data.offlineName}return""}),[],[a]),d=(0,l.useFacetCallback)(((t,a,r,l)=>()=>{null!=t&&(t.state.xblState||t.state.platformState)&&(a.copyToClipboard(l),r.queueSnackbar(e(".gamertagCopied"))),n({button:"CopyGamertag",screen:KB})}),[e,n],[a,o,c,u]),m=(0,l.useFacetMap)((e=>e.isShareSupported),[],[i]),p=(0,l.useFacetMap)((e=>!xk(e.platform)),[],[s]),f=(0,l.useFacetCallback)(((t,a,r)=>()=>{t.share(r,e(".shareText"),null!=a?a.data.url:""),n({button:"ShareProfile",screen:KB})}),[e,n],[i,a,u]),g=(0,l.useFacetMap)(((e,a)=>t(".QRHint",[a])),[t],[a,u]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>null!=e&&e.state.xblState===Xc.Loaded),[],[a])},r.createElement(r.Fragment,null,r.createElement(Sx.Item,null,r.createElement(Sx.ItemMain,null,r.createElement(Tm.Maybe,{classNameFocused:kp,className:"bb4bd5364338543a1cd1",isInteractive:dn(),narrationText:g},r.createElement(wp,null),r.createElement($B,{qrCodeSrc:(0,l.useFacetMap)((e=>null!=e?e.data.qrCode:""),[],[a])})))),r.createElement(Nm,{size:2}),r.createElement(Sx.Item,null,r.createElement(zm,{type:"header5B",align:"center"},(0,l.useFacetMap)(((e,t)=>t),[],[a,u])),r.createElement(zm,{type:"captionShort",variant:"dimmer",align:"center"},(0,l.useFacetMap)((e=>null!=e?e.data.realName:""),[],[a]))))),r.createElement(Nm,{size:1}),r.createElement(l.Mount,{when:m},r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(Sx.Item,null,r.createElement(Ug,{inputLegend:e(".shareButton"),variant:"hero",linebreak:!0,narrationSuffix:[t(".buttonSiblings",["1","2"]),e(".shareButtonHint")].join(" . "),onClick:f},e(".shareButton"))))),r.createElement(l.Mount,{when:p},r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(Sx.Item,null,r.createElement(Ug,{inputLegend:e(".copyGamertagButton"),narrationSuffix:[t(".buttonSiblings",["2","2"]),e(".copyGamertagButton")].join(" . "),variant:"secondary",linebreak:!0,onClick:d},e(".copyGamertagButton"))))))}const qB=a.p+"assets/qr-code-icon-cdeea9da565e9ebc2a48.png",QB="searchByGamertag";function ZB({searchQuery:e,onSearchQueryChange:t,searchResultsLength:a,searchResultsState:n}){const{t:o}=Fc("AddFriendSearchByGamertag"),{t:i}=Fc("AddFriendSearchByGamertag.narration"),c=wr("neutral"),[s,u]=(0,l.useFacetState)("");(0,l.useFacetEffect)(((e,t,a)=>{if("loading"!==a){const a=[i(".searchBar")];e&&a.push(e),a.push(i(".searchGamertagHint")),t>0?a.push(1===t?i(".singularResult"):i(".pluralResults",[t.toString()])):0===t&&a.push(i(".noResults"),i(".emptyState"),i(".refineSearch")),u(a.join(" . "))}}),[i,u],[e,a,n]);const d=(0,l.useFacetWrap)(!1),m=Ce();return(0,r.useEffect)((()=>{requestAnimationFrame((()=>{m(QB)}))}),[m]),r.createElement("div",null,r.createElement(Fg,{className:zr()("f2754fef37a5ccba2f4e",c.border.base,c.background.base)},r.createElement(Cg,{disabled:!0},o(".searchGamertagDescription")),r.createElement(Nm,{size:2}),r.createElement("div",{className:"d3aad0a91b7149a24150"},r.createElement(bg,{gamepadAlias:QB,narrationText:s,placeholderIcon:Eg.MagnifyingGlass,placeholder:o(".searchGamertag"),gamepadIndex:0,value:e,"data-testid":o(".searchGamertag"),onChange:t}),r.createElement(l.Mount,{when:d},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(yv.Divider,null),r.createElement(Nm,{size:2}),r.createElement("div",{className:"b76ebd3e62d50db33bb4"},r.createElement(Ug,{variant:"secondary",imgSrc:qB,inputLegend:o(".search"),narrationPrefix:i(".searchByQR")}))))),r.createElement(Lp,{effect:"bevel"})))}function JB({item:e,index:t,listLength:a,onAdditionalActionClick:n,disabled:o,gamepadAlias:i,profileEntryPoint:c,grayscaleAvatarWhenOffline:s=!1,screenAnalyticsId:u=""}){const{t:d}=Fc("PlayerListItem"),{t:m}=Fc("PlayerListItem.narration"),f=p(),g=(0,l.useFacetWrap)(t),E=(0,l.useFacetMap)((e=>e.xuid),[],[e]),h=(0,l.useFacetMap)((e=>e.gamerTag),[],[e]),b=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.gamerIcon)&&void 0!==t?t:""}),[],[e]),v=(0,l.useFacetMap)((e=>e.playingOnServerId),[],[e]),y=wk(),F=(0,l.useFacetCallback)((e=>()=>{y(c),null!=e.platformId?f.push(OI(e.platformId)):f.push(AI(e.xuid))}),[f,y,c],[e]),S=(0,l.useSharedFacet)(Wu),C=Wk(),M=aT(e,"PlayerListItem"),w=(0,l.useFacetMap)((({variant:e})=>"added-not-mutual"===e?"added-status":"added-mutual"===e?"friends-status":"none"),[],[e]),k=(0,l.useFacetWrap)(o),T=(0,l.useFacetMap)((({variant:e},t)=>"sent-request"===e||"received-request"===e||null!=t&&t),[],[e,k]),P=(0,l.useFacetMap)((({variant:e,playingOnServerId:t},a,n)=>"player"===e&&null!=t&&a.userPermissions.multiplayer.allowed&&!n?"join":"sent-request"===e?"delete-request":"received-request"===e?"accept-reject-request":"add-friend"===e&&a.userPermissions.addFriends.allowed?"add-friend":"none"),[],[e,S,C]),I=(0,l.useFacetMap)((({variant:e},t,a,n,r,{status:l},o)=>{const i=[];let c=l,s="";switch(e){case"sent-request":c=m(".sentRequest");break;case"received-request":c=m(".receivedRequest");break;case"added-mutual":s=m(".addedMutual");break;case"added-not-mutual":s=m(".addedNotMutual")}return i.push(t,c,m(r?".listItemRole":".buttonRole"),m(".itemOrderContext",[`${o+1}`,`${a}`])),r||i.push(s,m(".playerProfileHint")),"none"!==n&&i.push(m(".additionalActionsHint")),i.join(" . ")}),[m],[e,h,a,P,T,M,g]),x=Ce(),A=(0,l.useFacetCallback)((e=>()=>{n&&n(),x(e)}),[x,n],[(0,l.useFacetWrap)(i)]),O=(0,l.useFacetMap)((e=>e.location),[],[e]);return r.createElement(tw,null,r.createElement(tw.Action,{narrationText:I,inputLegend:d(".viewProfile"),onClick:F,gamepadAlias:i,disabled:T},r.createElement(tw.Cell,{direction:"row"},r.createElement(uk,{variant:"large",src:b,status:(0,l.useFacetMap)((({avatar:e})=>e),[],[M]),grayscaleAvatar:(0,l.useFacetMap)((({avatar:e},t)=>"offline"===e&&t),[],[M,(0,l.useFacetWrap)(s)]),shouldShowNewStatus:!0})),r.createElement(tw.Main,null,r.createElement(zm,{type:"body"},r.createElement(xm,null,h)),r.createElement(zm,{type:"captionShort",variant:"dimmer"},(0,l.useFacetMap)((({status:e})=>e),[],[M]))),r.createElement(xl,{data:w},(e=>{switch(e){case"added-status":return r.createElement(rU,{text:d(".added"),Icon:og});case"friends-status":return r.createElement(rU,{text:d(".friends"),Icon:og});default:return r.createElement(r.Fragment,null)}}))),r.createElement(xl,{data:P},(e=>{switch(e){case"none":return r.createElement(r.Fragment,null);case"join":return r.createElement(eU,{playingOnServerId:v,onClickAdditionalAction:A,screenAnalyticsId:u});case"delete-request":return r.createElement(tU,{onClickAdditionalAction:A});case"accept-reject-request":return r.createElement(aU,{playerId:E,onClickAdditionalAction:A});case"add-friend":return r.createElement(nU,{playerId:E,onClickAdditionalAction:A,location:O,index:g,listLength:a})}})))}function eU({playingOnServerId:e,onClickAdditionalAction:t,screenAnalyticsId:a}){const{t:n}=Fc("PlayerListItem"),{t:o}=Fc("PlayerListItem.narration"),i=vd(),c=(0,l.useSharedFacet)(dl),s=$k((0,l.useFacetMap)((e=>null!=e?e:""),[],[e])),u=Zk.useModal(),d=(0,l.useFacetCallback)((e=>()=>{i({screen:a,button:"Join"}),e.onlyCellularAvailable&&e.showCellularDataFee?u.show():(s(),t&&t())}),[s,u,t,i,a],[c]),m=(0,l.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0,s(),t&&t()}),[s,t],[(0,l.useSharedFacet)(Rc)]);return r.createElement(r.Fragment,null,r.createElement(tw.AdditionalAction,{narrationText:[o(".joinFriend"),o(".buttonRole")].join(" . "),inputLegend:n(".select"),onClick:d,testId:"player-list-item-join-button"},r.createElement(pk,null),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"captionShort"},r.createElement(xm,null,n(".join")))),r.createElement(l.Mount,{when:u.isVisible},r.createElement(Zk.Component,{onClose:u.hide,joinServer:m})))}function tU({onClickAdditionalAction:e}){const{t}=Fc("PlayerListItem"),{t:a}=Fc("PlayerListItem.narration"),n=(0,r.useCallback)((()=>{e&&e()}),[e]);return r.createElement(tw.AdditionalAction,{inputLegend:t(".select"),onClick:n,narrationText:[a(".delete"),a(".buttonRole")].join(" . ")},r.createElement(tw.Cell,{align:"center"},r.createElement(Ek,null),r.createElement(Nm,{size:1}),r.createElement(zm,{align:"center",type:"captionTiny"},t(".delete"))))}function aU({playerId:e,onClickAdditionalAction:t}){const{t:a}=Fc("PlayerListItem"),n=(0,l.useSharedFacet)(uc),o=(0,l.useFacetCallback)(((e,a)=>()=>{e.acceptRequest(a),t&&t()}),[t],[n,e]),i=(0,l.useFacetCallback)(((e,a)=>()=>{e.rejectRequest(a),t&&t()}),[t],[n,e]);return r.createElement(r.Fragment,null,r.createElement(tw.AdditionalAction,{inputLegend:a(".select"),onClick:o,narrationText:[a(".accept"),a(".buttonSiblings",["1","2"])].join(" . "),testId:"player-list-item-accept-button"},r.createElement(tw.Cell,{align:"center"},r.createElement(og,null),r.createElement(Nm,{size:1}),r.createElement(zm,{align:"center",type:"captionTiny"},a(".accept")))),r.createElement(tw.AdditionalAction,{inputLegend:a(".select"),onClick:i,narrationText:[a(".reject"),a(".buttonSiblings",["2","2"])].join(" . "),testId:"player-list-item-reject-button"},r.createElement(tw.Cell,{align:"center"},r.createElement(of,null),r.createElement(Nm,{size:1}),r.createElement(zm,{align:"center",type:"captionTiny"},a(".reject")))))}function nU({playerId:e,onClickAdditionalAction:t,location:a,index:n,listLength:o}){const{t:i}=Fc("PlayerListItem"),{t:c}=Fc("PlayerListItem.narration"),s=(0,l.useFacetCallback)(((e,a,n)=>()=>{null!=n&&a.addFriend(e,n),t&&t()}),[t],[e,(0,l.useSharedFacet)(as),a]),u=(0,l.useFacetMap)(((e,t,a)=>{const n=[i(".addButtonText"),c(".buttonRole")];return a===ts.ADDFRIENDS_SEARCH&&n.push(i(".narrationItemOrderContext",[`${e+1}`,`${t}`])),n.join(" . ")}),[c,i],[n,o,a]);return r.createElement(tw.AdditionalAction,{inputLegend:i(".addButtonInputLegend"),onClick:s,narrationText:u,testId:"player-list-item-add-button"},r.createElement(tw.Cell,{align:"center"},r.createElement(vk,null),r.createElement(Nm,{size:1}),r.createElement(zm,{align:"center",type:"captionShort"},i(".addButtonText"))))}function rU({Icon:e,text:t}){return r.createElement(tw.Cell,{direction:"row"},r.createElement(e,null),r.createElement(Nm,{size:2}),r.createElement(zm,{variant:"dimmer",type:"captionShort"},t),r.createElement(Nm,{size:1}))}let lU;function oU({title:e,players:t,accordionId:a,scrollViewRef:n,position:o,expandedDefaultState:i=!1,collapsible:c=!0,addFriendLocation:s,profileEntryPoint:u}){const{t:d}=Fc("AddFriendAccordion"),{t:m}=Fc("AddFriendAccordion.narration"),p=vd(),f=d(`.${e}`),g=(0,l.useFacetMap)((e=>e.length),[],[t]),[E,h]=(0,l.useFacetState)(0),b=(0,l.useFacetMap)(((e,t)=>e.slice(0,t)),[],[t,E]),v=(0,l.useFacetMap)(((e,t)=>e.length<=t),[],[t,E]),y=Ce(),F=(0,r.useCallback)(((e=!1)=>{h((e=>e===l.NO_VALUE?e:e+5)),!1===e&&p({button:"LoadMoreResults",screen:KB})}),[h,p]);(0,r.useEffect)((()=>{F(!0)}),[F]);const S=(0,r.useRef)(null),C=st(),M=(0,l.useFacetCallback)((e=>()=>{y(a),e&&n&&n.current&&S.current&&(n.current.scrollTop=S.current.offsetTop+8),p({button:"BackToTop",screen:KB})}),[a,y,n,p],[C]),w=(0,l.useFacetMap)((t=>{const a=[m(".enumeration",[`${o[0]}`,`${o[1]}`])];return t.length>0?a.push(m(`.${e}Suggestions`,[`${t.length}`])):a.push(m(".noSuggestionsFound"),m(`.noSuggestionsMessage${e}`)),a.join(" . ")}),[o,m,e],[t]),k=(0,l.useFacetMap)((e=>e.length>5),[],[t]),T=(0,l.useFacetMap)((e=>0===e.length),[],[t]);return r.createElement("div",{ref:S,id:a},r.createElement(Nm,{size:2}),r.createElement(Py,{label:f,count:e!=lU.recommendedFriends?g:void 0,expandedDefaultState:i,narrationHint:w,onExpandNarrationHint:d(".genericOnExpandNarrationHint"),gamepadAlias:a,alwaysShowHint:!0,collapsible:c},r.createElement("div",{className:"b5e627d3d6e8686f0beb"},r.createElement(l.Mount,{when:T,condition:!1},r.createElement(l.Map,{array:b},((e,t)=>r.createElement(iU,{player:e,accordionId:a,index:t,visiblePlayers:b,addFriendLocation:s,profileEntryPoint:u})))),r.createElement(l.Mount,{when:T,condition:!0},r.createElement(cU,{accordionType:e})),r.createElement(l.Mount,{when:k},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement("div",{className:"c561c8c2af397fba9510"},r.createElement(Ug,{gamepadIndex:2,horizontal:!0,narrationSuffix:m(".enumeration",["1","2"]),inputLegend:d(".backToTop"),onClick:()=>{M()}},d(".backToTop")),r.createElement(rO.ButtonSpacing,null),r.createElement(Ug,{gamepadIndex:3,horizontal:!0,inputLegend:d(".loadMoreResults"),narrationSuffix:m(".enumeration",["2","2"]),onClick:()=>{F(!1)},gamepadAlias:a+"LoadMore",disabled:v},d(".loadMoreResults"))))))))}function iU({player:e,accordionId:t,index:a,visiblePlayers:n,addFriendLocation:o,profileEntryPoint:i}){const c=vd(),[s,u]=(0,l.useFacetState)(!1);(0,l.useFacetEffect)((e=>u(e.isFollowedByMe)),[u],[e]);const d=(0,l.useFacetMap)((e=>function(e,t){return e.gamertag+e.xuid+t}(e,t)),[t],[e]),m=Ce(),p=(0,l.useFacetMap)((e=>e.length),[],[n]),f=(0,l.useFacetCallback)(((e,t)=>()=>{const n=5*(Math.ceil(e.length/5)-1);a===n&&e.length>5&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{m(t)}))}))}),[m,a],[n,d]);(0,r.useEffect)((()=>{f()}),[f]);const g=(0,l.useFacetCallback)((()=>()=>{u(!0),c({button:"AddFriend",screen:KB})}),[u,c],[]),E=(0,l.useFacetMap)(((e,t,a)=>{let n="add-friend";return(null==a?void 0:a.data.xuid)===e.xuid&&(n="self"),(e.isFollowedByMe||t)&&(n=e.isFollowingMe?"added-mutual":"added-not-mutual"),{gamerIcon:e.gamerIcon,gamerTag:e.gamertag,xuid:e.xuid,variant:n,location:o,favoriteStatus:Yc.NOT_FAVORITE,presenceMessage:"",presence:qc.Unknown,titleName:""}}),[o],[e,s,OT()]);return r.createElement(JB,{item:E,index:a,gamepadAlias:d,onAdditionalActionClick:g,listLength:p,profileEntryPoint:i})}function cU({accordionType:e}){const{t}=Fc("AddFriendAccordionEmptyPanel"),a=wr("neutral80");return r.createElement(Fg,{compact:!0,className:zr()(a.border.base,a.background.base,"a7a1458dfceff16800f6")},r.createElement(Nm,{size:3}),r.createElement(zm,{type:"body",align:"center"},t(".noSuggestionsFound")),r.createElement(Nm,{size:4}),r.createElement(zm,{type:"captionShort",variant:"dimmer",align:"center"},t(`.${e}`)),r.createElement(Nm,{size:3}))}!function(e){e.recommendedFriends="recommendedFriends",e.recentlyPlayedWith="recentlyPlayedWith",e.followers="followers",e.gamertagSearch="gamertagSearch"}(lU||(lU={}));const sU=a.p+"assets/search-error-image-320294d3b2376f2da601.png",uU=a.p+"assets/parental-control-block-image-c827bbfeea0b872db615.png",dU=a.p+"assets/blocked-adding-friends-image-f34cf248120a1da988fc.png",mU=a.p+"assets/load-error-image-8fa35da1a2442a3b4db5.png",pU="e362ac8984e2ffd18cd1",fU="a8f9fd620fe30f97f38a";let gU;function EU({errorType:e}){const t=(0,l.useFacetWrap)(e),{t:a}=Fc("AddFriendError"),n=(0,l.useFacetCallback)((e=>()=>{e.openLink(Uu.ParentPermissionHelpPage)}),[],[(0,l.useSharedFacet)(zu)]),o=dy({wide:8,narrow:6,width:260});return r.createElement(xl,{data:t},(e=>{switch(e){case gU.LoadError:return r.createElement(_v,{title:a(".loadErrorTitle"),text:a(".loadErrorMessage"),buttons:[{text:a(".tryAgain"),onClick:()=>{}}],imgSrc:mU,imgClass:o?pU:fU});case gU.ParentalControlError:return r.createElement(_v,{title:a(".parentalControlBlockTitle"),text:a(".parentalControlBlockMessage"),buttons:[{imgSrc:zI.imgSrc,text:a(".learnMore"),onClick:n}],imgSrc:uU,imgClass:o?pU:fU});case gU.BlockedAddingFriendsError:return r.createElement(_v,{title:a(".blockedAddingFriendsTitle"),text:a(".blockedAddingFriendsMessage"),buttons:[{imgSrc:zI.imgSrc,text:a(".learnMore"),onClick:n}],imgSrc:dU,imgClass:fU});case gU.SearchError:return r.createElement(_v,{title:a(".searchErrorTitle"),text:a(".searchErrorMessage"),imgSrc:sU,imgClass:fU});default:return r.createElement("div",null)}}))}!function(e){e[e.NoError=-1]="NoError",e[e.SearchError=0]="SearchError",e[e.LoadError=1]="LoadError",e[e.ParentalControlError=2]="ParentalControlError",e[e.BlockedAddingFriendsError=3]="BlockedAddingFriendsError"}(gU||(gU={}));const hU={columnsContainer:"e708efc2b1872d1c7f01",spinnerContainer:"c229e74af2d8f5ba7ded"};function bU(){const{t:e}=Fc("AddFriendRoute"),t=(0,l.useSharedFacet)(Qs),a=(0,l.useSharedFacet)(qs),n=(0,l.useSharedFacet)(cc),o=(0,l.useSharedFacet)(dc),i=(0,l.useFacetMap)((e=>e.playerList),[],[t]),c=(0,l.useFacetMap)((e=>e.playerList),[],[a]),s=(0,l.useFacetMap)((e=>e.playerList),[],[n]),u=(0,l.useFacetMap)((e=>e.searchResults),[],[o]),d=(0,r.useRef)(null),[m,p]=(0,l.useFacetState)(""),[f,g]=(0,l.useFacetState)(!1),E=(0,r.useRef)(null),h=(0,l.useFacetCallback)((e=>t=>{g(!0),p(t),E.current&&clearTimeout(E.current),E.current=setTimeout((()=>{e.search(t),E.current=null,g(!1)}),500)}),[E,p,g],[o]),b=(0,l.useFacetMap)(((e,t)=>e.isLoading||t),[],[o,f]),v=(0,l.useFacetMap)(((e,t,a)=>e.length>=3||t.searchResultsOverride||a),[],[m,o,b]),y=(0,l.useFacetMap)(((e,t,a)=>e.isLoading||t.isLoading||a.isLoading),[],[t,a,n]),F=[{title:lU.recommendedFriends,players:i,accordionId:"recommendedFriendsAccordionId",expandedDefaultState:!0,location:ts.ADDFRIENDS_RECOMMENDEDFRIENDS,profileEntryPoint:Qc.AddFriends_RecommendedFriends},{title:lU.recentlyPlayedWith,players:c,accordionId:"recentlyPlayedWithAccordionId",expandedDefaultState:!1,location:ts.ADDFRIENDS_RECENTLYPLAYEDWITH,profileEntryPoint:Qc.AddFriends_RecentlyPlayedWith},{title:lU.followers,players:s,accordionId:"followersAccordionId",expandedDefaultState:!1,location:ts.ADDFRIENDS_FOLLOWERS,profileEntryPoint:Qc.AddFriends_Followers}],S=r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:y,condition:!1},r.createElement(r.Fragment,null,F.map(((e,t)=>r.createElement(oU,{key:e.title,title:e.title,players:e.players,accordionId:e.accordionId,scrollViewRef:d,position:[t+1,F.length],expandedDefaultState:e.expandedDefaultState,addFriendLocation:e.location,profileEntryPoint:e.profileEntryPoint}))))),r.createElement(l.Mount,{when:y,condition:!0},r.createElement("div",{className:hU.spinnerContainer},r.createElement(zf,null)))),C=(0,l.useFacetMap)((e=>e.xboxAPICallResult===Iu.Success),[],[o]),{narrateText:M}=Hf(),w=(0,r.useRef)(!1),k=(0,r.useRef)(!1),T=(0,l.useFacetMap)(((e,t,a)=>e?"loading":t?0===a.length?"no-results":"results":"API-error"),[],[b,C,u]),P=(0,l.useFacetMap)(((e,t)=>"results"===t||"no-results"===t?e.length:-1),[],[u,T]);(0,l.useFacetEffect)(((t,a,n)=>{if(a.length>=3||n.searchResultsOverride)switch(t){case"API-error":k.current||M(`${e(".searchCantLoad")} . ${e(".error")} . ${e(".unknownError")}`),k.current=!0,w.current=!1;break;case"no-results":w.current||M(`${e(".noGamertagFound")} . ${e(".emptyState")} . ${e(".refineSearch")}`),w.current=!0,k.current=!1;break;case"results":k.current=!1,w.current=!1}}),[M,e],[T,m,o]);const I=r.createElement(xl,{data:T},(e=>{switch(e){case"loading":return r.createElement("div",{className:hU.spinnerContainer},r.createElement(zf,null));case"API-error":return r.createElement("div",null,r.createElement(Nm,{size:2}),r.createElement(EU,{errorType:gU.LoadError}));case"no-results":return r.createElement("div",null,r.createElement(Nm,{size:2}),r.createElement(EU,{errorType:gU.SearchError}));default:return r.createElement(oU,{title:lU.gamertagSearch,players:u,accordionId:"gamertagSearchAccordionId",scrollViewRef:d,position:[1,1],expandedDefaultState:!0,addFriendLocation:ts.ADDFRIENDS_SEARCH,profileEntryPoint:Qc.AddFriends_Search,collapsible:!1})}})),x=(0,l.useSharedFacet)(Wu),A=(0,l.useFacetMap)((e=>e.userPermissions.addFriends.denyReasons.includes(Lu.XboxLive_Parental)),[],[(0,l.useSharedFacet)(Wu)]),O=(0,l.useFacetMap)(((e,t)=>t?gU.ParentalControlError:e.userPermissions.addFriends.allowed?gU.NoError:gU.BlockedAddingFriendsError),[],[x,A]),N=Ce(),R=Od(),L=r.createElement(r.Fragment,null,r.createElement(Cv,{narrowBreakpointWidth:102},r.createElement(Nm,{size:2}),r.createElement(Cv.Row,{gamepadIndex:0,fullHeight:!0},r.createElement("div",{className:hU.columnsContainer},r.createElement(Cv.Column,{gamepadIndex:0,wideSize:4,narrowSize:3},r.createElement(YB,null)),r.createElement(Cv.Column,{gamepadIndex:1,wideSize:8,narrowSize:5},"desktop"===R?r.createElement(Nm,{size:2}):"",r.createElement(ZB,{searchQuery:m,onSearchQueryChange:h,searchResultsLength:P,searchResultsState:T}),r.createElement(jf,{gamepadIndex:0,innerRef:d,delegateFocusFromMemory:!0},r.createElement("div",{className:"desktop"===R?hU.desktopMainMenu:hU.mainMenu},r.createElement(xl,{data:v},(e=>e?I:r.createElement("div",null,S))))),r.createElement(Nm,{size:4})))),r.createElement(LE.Space,null)),r.createElement(vU,{onClick:function(){N(QB)}})),_=r.createElement(Cv,{narrowBreakpointWidth:102},r.createElement(Nm,{size:3}),r.createElement(Cv.Row,{gamepadIndex:0,fullHeight:!0},r.createElement(Cv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},r.createElement(EU,{errorType:O}))),r.createElement(LE.Space,null),r.createElement(Nm,{size:4})),D=(0,l.useFacetMap)((e=>e!==gU.NoError),[],[O]);return r.createElement(yx,{title:e(".header"),screenAnalyticsId:"AddFriend",gamepadAlias:"add-friend-route",delegateByAlias:"add-friend-route"},(()=>r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:D,condition:!0},_),r.createElement(l.Mount,{when:D,condition:!1},L))))}function vU({onClick:e}){const{t}=Fc("AddFriendRoute");return r.createElement(qf,{onClick:e,options:(0,l.useFacetMap)((e=>({disabled:!e,button:j.Y,inputLegend:t(".search")})),[t],[ot()])})}function yU(){const e=Od(70,100);return zr()({be4e5ace179930e9736a:"narrow"==e,cd9d471dfec6638199af:"tablet"===e,a9e1e3ef3de8d2371601:"desktop"===e})}const FU=a.p+"assets/MCR_Logo_Primary-c83fae4725ef9dc3ecf9.png",SU=a.p+"assets/Marketplace-Error-8376f52eee1949549f26.png",CU=a.p+"assets/Generic-Error-222c30f7a51a14fc35c7.png",MU=a.p+"assets/Realms-Missing-e89cb34a35facd2151a8.png";function wU({children:e,disabled:t}){const a=xr();return r.createElement("div",{className:zr()("d1e9203d1d877ba92c48",{[a.disabled]:t})},r.createElement("div",{className:zr()("dfe3c323e517067907cc",{fe339a9dfc9325f09515:!t})}),e)}function kU({isCorePlan:e,hasFreeTrial:t}){const{t:a}=Fc("RealmsPlanPickerScreen"),n=dn(),o=e?"PDPCore":"PDPPlus",i=e?r.createElement(zm,{type:"body",align:"left",role:o},a(".featureLine0")):r.createElement(r.Fragment,null,r.createElement(zm,{type:"body",align:"left",role:o},a(".featureLine0Plus")+" "),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"body",align:"left",role:o,variant:"dimmer"},a(".featureLine0PlusNum"))),c=(0,l.useFacetMap)((t=>[a(e?".featureNarrationCore":".featureNarrationPlus"),a(e?".featureLine0Narration":".featureLine0PlusNarration"),a(".featureLine1"),a(".featureLine2Narration"),a(".featureLine3"),a(".featureLine4"),a(".featureLine5Narration"),a(".featureLine6"),t&&!e?a(".featureLine7"):"",e?"":a(".featureLine8")].filter((e=>""!=e)).join(" . ")),[a,e],[t]);return r.createElement(Tm.Maybe,{isInteractive:n,narrationText:c,classNameFocused:kp,gamepadAlias:"plan-picker-feature-list-text-block-"+(e?"core":"plus")},r.createElement(wp,null),r.createElement("div",{className:"f685a05830a786fe63da"},r.createElement(wU,null,i),r.createElement(zm,{type:"body",align:"left",role:o},r.createElement(wU,null,a(".featureLine1")),r.createElement(wU,null,a(".featureLine2")),r.createElement(wU,null,a(".featureLine3")),r.createElement(wU,null,a(".featureLine4")),r.createElement(wU,null,a(".featureLine5")),r.createElement(wU,null,a(".featureLine6"))),r.createElement(l.Mount,{when:t},r.createElement(wU,{disabled:e},r.createElement(zm,{type:"body",align:"left",role:o,disableable:!0},a(".featureLine7")))),r.createElement(wU,{disabled:e},r.createElement(zm,{type:"body",align:"left",role:o,disableable:!0},a(".featureLine8")))))}function TU({isLoading:e,narration:t,planTitle:a,button:n,children:l,reflectionRole:o}){const i=wr("neutral"),c=wr("informative");return r.createElement(Zf,{text:t},r.createElement("div",{className:zr()("a4905c2b5129c701cb30",i.border.base,c.background.base)},r.createElement(Lp,{effect:"specular",role:o}),r.createElement(Qp,{src:FU,className:"fdadabda46e4a5454937"}),r.createElement("div",{className:"af57e5e36994fae03183"},r.createElement(zm,{type:"header5B",align:"center",role:o},a),r.createElement(Nm,{size:4}),r.createElement(xl,{data:e},(e=>e?r.createElement("div",{className:"a3041a3188d46392047b"},r.createElement(zf,null)):r.createElement(r.Fragment,null,n))),l)),r.createElement(Nm,{size:6}),r.createElement(LE.Space,null))}function PU(){const e=(0,l.useSharedFacet)(Ms),t=(0,l.useSharedFacet)(ws);(0,l.useFacetEffect)(((e,t)=>()=>{e.state===Cs.IDLE&&t.initialize()}),[],[e,t]);const a=tv(qi),{t:n}=Fc("RealmsPlanPickerScreen"),o=p(),i=(0,l.useSharedFacet)(Ns),c=(0,l.useSharedFacet)(Oc),s=(0,l.useFacetMap)((e=>e.coreSubscriptionPrice),[],[c]),u=(0,l.useFacetMap)((e=>n(".planCoreCardNarration",[e.coreSubscriptionPrice])),[n],[c]),d=(0,l.useFacetMap)((e=>e.plusSubscriptionPrice),[],[c]),m=(0,l.useFacetMap)((e=>n(".planRealmsPlusCardNarration",[e.plusSubscriptionPrice])),[n],[c]),f=(0,l.useFacetMap)(((e,t,a)=>!(a.state!==Cs.DONE||!t.isFinishedQueryingProductsAndPurchases)&&e.isRealmsTrialAvailable&&t.isRealmsTrialOfferAvailable&&a.canBuyPlusRealm),[],[i,c,e]),g=function(){const e=(0,l.useSharedFacet)(Ms),t=(0,l.useSharedFacet)(Oc),a=cB(),n=(0,l.useSharedFacet)(Wu),r=zB();return(0,l.useFacetMap)(((e,t,a,n,r)=>{if(!n.isLoggedInWithMicrosoftAccount||"not-signed-in"!==r)return"show-account-state-banner";if(n.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive_Parental))return"parental-online-safety";if(t.state===Cs.FAILED)return"realms-service-failure";if(n.userPermissions.multiplayer.denyReasons.includes(Lu.Platform_PlayStation)||n.userPermissions.multiplayer.denyReasons.includes(Lu.Platform_NintendoSwitch))return"platform-multiplayer-disabled";if(a===iB.ACTIVE||t.state!==Cs.DONE)return"show-spinner";if(!e.isFinishedQueryingProductsAndPurchases)return"show-default";if(e.isFinishedQueryingProductsAndPurchases&&(""===e.coreSubscriptionPrice||""===e.plusSubscriptionPrice))return"show-prices-not-loaded";const l=!e.isRealmsCoreOfferAvailable||!t.canBuyCoreRealm,o=!e.isRealmsPlusOfferAvailable||!t.canBuyPlusRealm;return l&&o?"show-max-realms-subscriptions":l?"cannot-buy-core-realms":o?"cannot-buy-plus-realms":"show-default"}),[],[t,e,a,n,r])}(),E=(0,l.useFacetMap)((e=>"show-spinner"===e),[],[g]),h=(0,l.useFacetMap)((e=>"cannot-buy-core-realms"===e||"show-account-state-banner"===e),[],[g]),b=r.createElement(Ug,{inputLegend:n(".buyButtonCore"),disabled:h,variant:"secondary",gamepadAlias:"buy-core-button",onClick:()=>{o.push(a?"/realms-purchase-subscription/core":"/realms-create-screen?offerTier=2player")},narrationSuffix:n(".buyButtonCoreNarrationHint")},n(".buyButtonCore")),v=(0,l.useFacetMap)((e=>"cannot-buy-plus-realms"===e||"show-account-state-banner"===e),[],[g]),y=r.createElement(xl,{data:f},(e=>r.createElement(Ug,{disabled:v,inputLegend:n(!0===e?".buyRealmsPlusButtonTrial":".buyButtonPlus"),variant:!0===e?"primary":"secondary",gamepadAlias:"buy-realms-plus-button",onClick:()=>{o.push(a?e?"/realms-purchase-subscription/plus-free-trial":"/realms-purchase-subscription/plus":"/realms-plus-pdp?tab=default")},narrationSuffix:n(".buyButtonPlusNarrationHint")},n(!0===e?".buyRealmsPlusButtonTrial":".buyButtonPlus")))),F=e=>{const t=e?"PDPCore":"PDPPlus";return r.createElement(r.Fragment,null,r.createElement(zm,{type:"header5B",align:"center",role:t,variant:"stronger"},n(e?".priceCore":".pricePlus")),r.createElement(Nm,{size:4}),r.createElement(zm,{type:"header5B",align:"center",role:t,variant:"dimmer"},e?s:d),r.createElement(zm,{type:"header5B",align:"center",role:t},`/${n(".priceMonthly")}`))},S=yU(),C=(0,l.useFacetMap)((e=>{switch(e){case"show-prices-not-loaded":return{title:n(".error.title"),body:n(".error.body"),image:SU};case"realms-service-failure":return{title:n(".emptyStates.serviceFailure.title"),body:n(".emptyStates.serviceFailure.body"),image:CU};default:return{title:n(".emptyStates.maxedOutSubscriptions.title"),body:n(".emptyStates.maxedOutSubscriptions.body"),image:MU}}}),[n],[g]),M=(0,l.useFacetMap)((e=>"show-account-state-banner"===e),[],[g]),w=(0,l.useFacetMap)((e=>"cannot-buy-core-realms"===e||"cannot-buy-plus-realms"===e),[],[g]),k=(0,l.useFacetMap)((e=>n("cannot-buy-core-realms"===e?".banners.coreSubscriptionsLimit":".banners.plusSubscriptionsLimit")),[n],[g]);return r.createElement(pr,{collection:bT},r.createElement(yx,{screenAnalyticsId:"RealmsPlanPicker",gamepadAlias:"realms-plan-picker",title:n(".title"),delegateByAlias:"plan-picker-scrollview"},(()=>r.createElement(jf,{gamepadAlias:"plan-picker-scrollview",delegateFocusByAlias:"buy-realms-plus-button"},r.createElement(xl,{data:g},(e=>{switch(e){case"parental-online-safety":return r.createElement(Cv,null,r.createElement(Nm,{size:2}),r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{wideSize:10,narrowSize:8},r.createElement(xB,{variant:"parental",inputLegendExtraSpace:r.createElement(Nm,{size:2})}))));case"platform-multiplayer-disabled":return r.createElement(Cv,null,r.createElement(Nm,{size:2}),r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{wideSize:10,narrowSize:8},r.createElement(VB,null))));case"show-prices-not-loaded":case"show-max-realms-subscriptions":case"realms-service-failure":return r.createElement(Cv,null,r.createElement(Nm,{size:2}),r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{wideSize:10,narrowSize:8},r.createElement(xl,{data:C},(e=>r.createElement(_v,{title:e.title,text:e.body,imgSrc:e.image,imgClass:S}))),r.createElement(LE.Space,{extraSpace:r.createElement(Nm,{size:2})}))));default:return r.createElement(Zf,{text:n(".titleNarrationHint")},r.createElement(Cv,null,r.createElement(Nm,{size:6}),r.createElement(l.Mount,{when:M},r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:12,narrowSize:8},r.createElement(HB,{tab:NB.RealmsPlanPicker}),r.createElement(Nm,{size:6})))),r.createElement(l.Mount,{when:w},r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:12,narrowSize:8},r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,k)),r.createElement(Nm,{size:6})))),r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{wideSize:5,narrowSize:4},r.createElement(TU,{isLoading:E,narration:u,planTitle:F(!0),button:b,reflectionRole:"PDPCore"},r.createElement(kU,{isCorePlan:!0,hasFreeTrial:f}))),r.createElement(Cv.Column,{wideSize:5,narrowSize:4},r.createElement(TU,{isLoading:E,narration:m,planTitle:F(!1),button:y,reflectionRole:"PDPPlus"},r.createElement(kU,{isCorePlan:!1,hasFreeTrial:f}))),r.createElement(LE.Space,{extraSpace:r.createElement(Nm,{size:2})}))))}}))))))}let IU;!function(e){e[e.PlayStation=0]="PlayStation",e[e.Nintendo=1]="Nintendo",e[e.Others=2]="Others"}(IU||(IU={}));const xU=yp((({variant:e,onClose:t})=>{const{t:a}=Sc("RealmsMultiplayerPrivilegeBlockedModal"),n=(0,l.useSharedFacet)(zu),o=(0,l.useSharedFacet)(dl),i=(0,l.useFacetMap)(((e,t)=>{switch(e){case IU.Nintendo:return a(".Platform_NintendoSwitch");case IU.PlayStation:return a(".Platform_PlayStation");default:return Pk(t.platform)?a(".others.xbox"):a(".others")}}),[a],[e,o]),c=(0,l.useFacetMap)((e=>e===IU.Others),[],[e]),s=(0,l.useFacetCallback)((e=>()=>{e.openLink(Uu.ParentPermissionHelpPage)}),[],[n]);return r.createElement($E,null,r.createElement($E.Header,{onClose:t},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:i},i)),r.createElement($E.Buttons,null,r.createElement(l.Mount,{when:c},r.createElement(r.Fragment,null,r.createElement(Ug,{Icon:xM.ExternalLink,variant:"primary",inputLegend:a(".select"),onClick:s},a(".getHelp")),r.createElement(Nm,{size:2}))),r.createElement(Ug,{variant:"secondary",inputLegend:a(".goBack"),onClick:t},a(".goBack"))))})),AU=(0,l.sharedFacet)("vanilla.realmsPurchaseCommands");let OU,NU;!function(e){e[e.IDLE=0]="IDLE",e[e.PREPARING_APP_STORE=1]="PREPARING_APP_STORE",e[e.APP_STORE_READY=2]="APP_STORE_READY",e[e.BLOCKED_BY_PRIOR_PURCHASE_RENEW=3]="BLOCKED_BY_PRIOR_PURCHASE_RENEW",e[e.BLOCKED_BY_PRIOR_PURCHASE_CREATE=4]="BLOCKED_BY_PRIOR_PURCHASE_CREATE",e[e.BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_ID=5]="BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_ID",e[e.BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_XUID=6]="BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_XUID",e[e.BLOCKED_BY_PRIOR_PURCHASE_INFORMATIVE=7]="BLOCKED_BY_PRIOR_PURCHASE_INFORMATIVE",e[e.BLOCKED_BY_PRIOR_PURCHASE_NO_PAYLOAD=8]="BLOCKED_BY_PRIOR_PURCHASE_NO_PAYLOAD",e[e.RECONCILIATION_STARTED=9]="RECONCILIATION_STARTED",e[e.COMPLETED=10]="COMPLETED",e[e.FAILED=11]="FAILED"}(OU||(OU={})),function(e){e[e.NOT_SPECIFIED=0]="NOT_SPECIFIED",e[e.APP_STORE_NOT_READY=1]="APP_STORE_NOT_READY",e[e.PURCHASE_FAILED=2]="PURCHASE_FAILED",e[e.FULFILLMENT_FAILED=3]="FULFILLMENT_FAILED"}(NU||(NU={}));const RU=(0,l.sharedFacet)("vanilla.realmsPurchaseReconcilerQueries"),LU="ef5692131329f28a514a",_U=a.p+"assets/realms-plus-banner-image-74c840233d67065e784d.png",DU=a.p+"assets/realms-core-banner-image-d960f675ab3066286119.png",WU=a.p+"assets/minecraft-realms-logo-5a44873eee8ad1c6e5aa.png",BU=a.p+"assets/realms_key_art-87714cbc37a457786232.png",UU=yp((({onClose:e,onConfirm:t})=>{const{t:a}=Fc("HasMarketplacePassModal"),[n,o]=(0,l.useFacetState)(!1),i=(0,l.useFacetMap)((e=>!e),[],[n]),c=(0,r.useCallback)((()=>{t(),e()}),[e,t]);return r.createElement($E,null,r.createElement($E.Header,{onClose:e},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:!1},a(".body"))),r.createElement($E.Checkbox,{onChange:o,title:a(".understand"),value:n}),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{inputLegend:a(".select"),onClick:e,horizontal:!0},a(".goBack")),r.createElement(Nm,{size:4}),r.createElement(Ug,{inputLegend:a(".select"),onClick:c,variant:"primary",disabled:i,horizontal:!0},a(".purchase"))))}));function zU(){const e="realm-purchase-reconciliation-close",{t}=Fc("RealmsPurchaseSubscriptionRoute.ReconciliationModals"),a=g(),n=h(),o=(0,l.useSharedFacet)(Wu),i=(0,l.useSharedFacet)(RU),c=(0,l.useSharedFacet)(AU),s=p(),u=(0,r.useCallback)((()=>{s.goBack()}),[s]),d=(0,l.useFacetCallback)(((e,t,a,n,r)=>()=>{switch(e.state){case OU.BLOCKED_BY_PRIOR_PURCHASE_RENEW:case OU.BLOCKED_BY_PRIOR_PURCHASE_CREATE:case OU.BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_ID:{const e=n.get("subscriptionId");r.checkUnfulfilledPurchase(t.currentXuid,null!=e?e:"","core"===a.subscription?Fs.Offer2Player:Fs.Offer10Player,!0);break}case OU.BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_XUID:case OU.BLOCKED_BY_PRIOR_PURCHASE_NO_PAYLOAD:r.fulfillPriorRealmsPurchase(t.currentXuid)}}),[],[i,o,a,n,c]),m=(0,l.useFacetCallback)(((e,t,a)=>()=>{e.state===OU.BLOCKED_BY_PRIOR_PURCHASE_INFORMATIVE&&a.fulfillPriorRealmsPurchase(t.currentXuid)}),[],[i,o,c]),f=(0,l.useFacetMap)(((e,a)=>{switch(e.state){case OU.BLOCKED_BY_PRIOR_PURCHASE_RENEW:return t(".Body.renew");case OU.BLOCKED_BY_PRIOR_PURCHASE_CREATE:return t(".Body.create");case OU.BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_ID:return t(".Body.mismatchId");case OU.BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_XUID:{const e=a.get("subscriptionId");return t(null!=e?".Body.mismatchXuidOnRenew":".Body.mismatchXuidOnCreate")}case OU.BLOCKED_BY_PRIOR_PURCHASE_INFORMATIVE:{const e=a.get("subscriptionId");return t(null!=e?".Body.informativeOnRenew":".Body.informativeOnCreate")}case OU.BLOCKED_BY_PRIOR_PURCHASE_NO_PAYLOAD:{const e=a.get("subscriptionId");return t(null!=e?".Body.noPayloadOnRenew":".Body.noPayloadOnCreate")}default:return""}}),[t],[i,n]);return r.createElement($E,{defaultFocusAlias:e},r.createElement($E.Header,{onClose:u},t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:f},f)),r.createElement($E.Buttons,{horizontal:!0},r.createElement(xl,{data:i},(a=>a.state===OU.BLOCKED_BY_PRIOR_PURCHASE_INFORMATIVE?r.createElement(Ug,{inputLegend:t(".select"),variant:"secondary",onClick:m,horizontal:!0},t(".ok")):r.createElement(r.Fragment,null,r.createElement(Ug,{gamepadAlias:e,inputLegend:t(".select"),variant:"secondary",onClick:u,horizontal:!0},t(".no")),r.createElement(Nm,{size:4}),r.createElement(Ug,{inputLegend:t(".select"),variant:"secondary",onClick:d,horizontal:!0},t(".yes")))))))}const HU=yp((({parameter:e})=>{const t="realm-purchase-error-close",{t:a}=Fc("RealmsPurchaseSubscriptionRoute.ErrorModals"),n=vp(),o=(0,l.useFacetCallback)((e=>()=>{n(),e.cancelAction.onClick()}),[n],[e]),i=(0,l.useFacetMap)((e=>e.cancelAction.caption),[],[e]),c=(0,l.useFacetMap)((e=>null!=e.confirmAction),[],[e]),s=(0,l.useFacetCallback)((e=>()=>{var t;null===(t=e.confirmAction)||void 0===t||t.onClick()}),[],[e]),u=(0,l.useFacetMap)((e=>{var t;return null===(t=e.confirmAction)||void 0===t?void 0:t.caption}),[],[e]);return r.createElement(xl,{data:e},(e=>{const n=!0===e.isHorizontal;return r.createElement($E,{defaultFocusAlias:t},r.createElement($E.Header,{onClose:o},e.title),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:e.body},e.body)),r.createElement($E.Buttons,{horizontal:n},r.createElement(Ug,{gamepadAlias:t,inputLegend:a(".select"),variant:"secondary",onClick:o,horizontal:n},i),r.createElement(l.Mount,{when:c},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(Ug,{gamepadAlias:"realm-purchase-error-confirm",inputLegend:a(".select"),variant:"secondary",onClick:s,Icon:!0===e.isUsingExternalLinkIcon?xM.ExternalLink:void 0,horizontal:n},u)))))}))})),jU=yp((()=>{const e="realms-purchase-complete-play-solo",{t}=Fc("RealmsPurchaseSubscriptionRoute.PurchaseCompleteModal"),a=p(),n=(0,l.useSharedFacet)(Or),o=(0,l.useSharedFacet)(Ss),i=(0,l.useSharedFacet)(AU),c=(0,l.useSharedFacet)(ks),s=(0,l.useSharedFacet)(Ic),u=(0,l.useFacetMap)((e=>{var t;const a=e.history.list.length;return!(!a||null===(t=e.history.list[a-3])||void 0===t||!t.pathname.includes("/choose_realm_screen"))}),[],[n]),d=(0,l.useFacetCallback)(((e,t,n,r)=>()=>{r?(t.cancel(),n.resetReconciler(),a.go(-2)):(e.joinRealmWorld(t.getRecentlyPurchasedRealmId(),Pc.SettingsScreen),t.cancel(),n.resetReconciler())}),[a],[s,o,i,u]),m=(0,l.useFacetCallback)(((e,t,n)=>()=>{const r=e.getRecentlyPurchasedRealmId();let l=`/realms_allowlist/${r}`;n&&(l=`/realms_allowlist/${r}/choose_realm_screen`),e.cancel(),t.resetReconciler(),a.push(l)}),[a],[o,i,u]),f=(0,l.useFacetCallback)(((e,t,n)=>()=>{var r;t.reset(),n.resetReconciler();const l=e.history.list.length;l&&null!==(r=e.history.list[l-2])&&void 0!==r&&r.pathname.includes("/realms-plan-picker")?a.go(-2):a.goBack()}),[a],[n,c,i]),g=[t(".body1"),t(".body2")].join(" . ");return r.createElement($E,{defaultFocusAlias:e},r.createElement($E.Header,{onClose:f},t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{image:r.createElement(Qp,{src:BU,height:"20rem",width:"16rem"}),narrationText:g},t(".body1"),r.createElement(Nm,{size:5}),t(".body2"))),r.createElement($E.Buttons,null,r.createElement(Ug,{inputLegend:t(".playWithFriends"),variant:"primary",onClick:m,narrationSuffix:t(".enumeration",["1","3"])},t(".playWithFriends")),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadAlias:e,inputLegend:t(".playSolo"),variant:"secondary",onClick:d,narrationSuffix:t(".enumeration",["2","3"])},t(".playSolo"))))}));function VU(){const e=wr("neutral"),t=wr("neutral80"),{t:a}=Fc("RealmsPurchaseSubscriptionRoute"),n="narrow"===Od(),o=(0,l.useSharedFacet)(Oc),i=(0,l.useSharedFacet)(zu),c=g(),s=h(),u=(0,l.useSharedFacet)(Zc),d=(0,l.useSharedFacet)(Wu),m=(0,l.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,"")}),[],[u,d]);m();const f=(0,l.useFacetMap)((e=>"core"!=e.subscription),[],[c]),E=(0,l.useFacetMap)((e=>"plus-free-trial"==e.subscription),[],[c]),b=OT(),[v,y]=(0,l.useFacetState)("");(0,l.useFacetEffect)((e=>{const t=e.get("realmName");null!=t&&y(t)}),[y],[s]);const[F,S]=(0,l.useFacetState)(!1),C=(0,l.useFacetMap)((e=>!e),[],[F]),M=(0,l.useFacetMap)((e=>e?"":a(".checkboxUncheckedHint")),[a],[F]),w=(0,l.useFacetMap)((e=>e?"":[a(".purchaseButton.disabled"),a(".purchaseButton.disabled.hint")].join(" . ")),[a],[F]),k=(0,l.useFacetMap)((e=>{let t="";return null!=e?(""!==e.data.xblName&&(t=e.data.xblName),e.state.xblState===Xc.Loaded?a(".inputPlaceholder",[t]):""):""}),[a],[b]),T=(0,l.useFacetUnwrap)(k),P=(0,l.useFacetMap)(((e,t)=>t?e.plusSubscriptionTerms:e.coreSubscriptionTerms),[],[o,f]),I=(0,l.useFacetMap)(((e,t)=>t?e.plusSubscriptionTermsExtra:e.coreSubscriptionTermsExtra),[],[o,f]),x=(0,l.useFacetMap)((e=>""===e),[],[I]),A=(0,l.useFacetMap)(((e,t)=>t?e.plusSubscriptionPrice:e.coreSubscriptionPrice),[],[o,f]),O=(0,l.useFacetMap)(((e,t,n)=>null!=n.get("subscriptionId")?a(".heroButton.renew",[e]):t?a(".heroButton.trial"):a(".heroButton.create",[e])),[a],[A,E,s]),N=(0,l.useFacetMap)(((e,t)=>{if(null!=t.get("subscriptionId"))return a(".header.renew");switch(e.subscription){case"core":return a(".header.core");case"plus":return a(".header.plus");case"plus-free-trial":return a(".header.trial");default:return"title"}}),[a],[c,s]),R=(0,l.useFacetMap)((e=>{switch(e.subscription){case"core":return"Realms-Core";case"plus":return"Realms-Plus";case"plus-free-trial":return"Realms-Plus-Free-Trial"}}),[],[c]),L=(0,l.useFacetUnwrap)(R),_=(0,l.useFacetCallback)((e=>()=>{e.openLink(Uu.TermsAndServicePage)}),[],[i]),D=(0,l.useFacetCallback)((e=>()=>{e.openLink(Uu.PrivacyPolicyPage)}),[],[i]),W=(0,l.useFacetCallback)((e=>()=>{e.openLink(Uu.ContactSupport)}),[],[i]),B=(0,l.useSharedFacet)(Ss),U=(0,l.useSharedFacet)(AU),z=(0,l.useSharedFacet)(RU),H=(0,l.useSharedFacet)(Ps),j=(0,l.useFacetMap)(((e,t)=>({purchaseState:e.state,purchaseFailureReason:e.failureReason,reconciliationState:t.state,reconciliationFailureReason:t.failureReason})),[],[B,z]),V=(0,l.useFacetMap)(((e,t)=>{const a=e.purchaseState!=bs.IDLE&&e.purchaseState!=bs.FAILED&&e.purchaseState!=bs.COMPLETED,n=e.reconciliationState===OU.RECONCILIATION_STARTED,r=t.state===Ts.FETCHING_WORLD&&(e.purchaseState===bs.COMPLETED||e.reconciliationState===OU.COMPLETED);return a||n||r}),[],[j,H]),G=(0,l.useFacetMap)((e=>e.reconciliationState===OU.FAILED||e.purchaseState===bs.FAILED&&e.purchaseFailureReason!=vs.FAILED_CLUB_NAME_VALIDATION),[],[j]),$=(0,l.useFacetCallback)((e=>()=>e.cancel()),[],[B]),K=p(),Y=(0,l.useFacetCallback)((e=>()=>{e.resetReconciler(),K.goBack()}),[K],[U]),X=(0,l.useFacetCallback)(((e,t)=>a=>{a?t.prepareAppStoreForPurchases():e.prepareAppStoreForPurchases()}),[],[B,U]),[q,Q]=Uy(!1),Z=(0,l.useFacetMap)(((e,t)=>e||t.purchaseState===bs.FAILED&&t.purchaseFailureReason===vs.FAILED_CLUB_NAME_VALIDATION),[],[Q.isVisible,j]),J=(0,l.useFacetCallback)((e=>()=>{e.cancel(),Q.hide()}),[Q],[B]),ee=xU.useModal(),te=(0,l.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(Lu.Platform_NintendoSwitch)?IU.Nintendo:e.userPermissions.multiplayer.denyReasons.includes(Lu.Platform_PlayStation)?IU.PlayStation:IU.Others),[],[d]),ae=(0,l.useFacetCallback)(((e,t,n,r,l,o)=>()=>{if(e.isLoggedInWithMicrosoftAccount)if(e.hasPremiumNetworkAccess)if(e.userPermissions.multiplayer.denyReasons.includes(Lu.Minecraft_Ban)||e.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive_Ban)){const t=e.banExpiration;if(""===t||"Indefinite"===t)return void K.push(`/player-banned-modal?banReason=${e.banReason}&timesRemaining=0&isHours=0&isPermanent=1`);const a=function(e){const t=gI(e),a=t.hours+(0===t.minutes?0:1),n=t.days+(0===a?0:1);return{remaining:0===t.days?a:n,isHours:0===t.days}}(t);K.push(`/player-banned-modal?banReason=${e.banReason}&timesRemaining=${a.remaining}&isHours=${a.isHours}&isPermanent=0`)}else if(0===e.userPermissions.multiplayer.denyReasons.length){if(t.purchaseDisabledDueToStoreVersion)K.push("/update-version");else if(null!=n){let e=r;if(""===e&&n.state.xblState===Xc.Loaded&&""!==n.data.xblName&&(e=a(".inputPlaceHolder",[n.data.xblName])),"plus-free-trial"===l.subscription)t.purchaseTrial(n.data.xuid,e);else{const a=o.get("subscriptionId");t.purchase(n.data.xuid,e,null!=a?a:"",ys.OfferMonthly,"core"===l.subscription?Fs.Offer2Player:Fs.Offer10Player)}}}else ee.show();else e.showPremiumNetworkUpsellModal();else K.push("/sign-in?signInSource=RealmsPurchaseSubscription")}),[a,K,ee],[d,B,b,v,c,s]),ne=UU.useModal(),re=(0,l.useFacetCallback)(((e,t,a)=>()=>{"plus-free-trial"!==t.subscription&&"plus"!==t.subscription||null!=a.get("subscriptionId")||!0!==e.isMarketplacePassSubscriptionActive?ae():ne.show()}),[ae,ne],[d,c,s]),le=(0,l.useFacetCallback)(((e,t,a)=>()=>{By(a,t)?Q.show():e.isLoggedInWithMicrosoftAccount?re():K.push("/sign-in?signInSource=RealmsPurchaseSubscription")}),[Q,K,re],[d,v,(0,l.useSharedFacet)(rs)]),oe=(0,l.useSharedFacet)(ks),ie=(0,l.useFacetCallback)(((e,t)=>()=>{e.fetchRealmsWorld(t.getRecentlyPurchasedRealmId())}),[],[oe,B]),ce=(0,l.useFacetCallback)(((e,t)=>()=>{e.fetchRealmsWorld(t.getRecentlyReconciledRealmId())}),[],[oe,U]);(0,l.useFacetEffect)((e=>{e.purchaseState===bs.IDLE&&e.reconciliationState===OU.COMPLETED?ce():e.purchaseState===bs.COMPLETED&&e.reconciliationState===OU.IDLE&&ie()}),[ie,ce],[j]);const se=(0,l.useFacetMap)(((e,t)=>t.state===Ts.WORLD_AVAILABLE&&(e.purchaseState===bs.IDLE&&e.reconciliationState===OU.COMPLETED||e.purchaseState===bs.COMPLETED&&e.reconciliationState===OU.IDLE)),[],[j,H]),ue=(0,l.useFacetCallback)(((e,t,a)=>()=>{t.cancel(),a.resetReconciler(),e.reconciliationState!==OU.IDLE&&K.goBack()}),[K],[j,B,U]),de=(0,l.useFacetCallback)(((e,t)=>()=>{t.fulfillPriorRealmsPurchase(e.currentXuid)}),[],[d,U]);(0,l.useFacetEffect)((e=>{e.purchaseState===bs.IDLE&&e.reconciliationState===OU.APP_STORE_READY?de():e.purchaseState===bs.APP_STORE_READY&&e.reconciliationState===OU.IDLE&&le()}),[le,de],[j]);const me=(0,l.useFacetMap)(((e,t)=>{if(e.reconciliationState===OU.FAILED)switch(e.reconciliationFailureReason){case NU.APP_STORE_NOT_READY:return{title:a(".errorModals.appStoreNotReady.title"),body:a(".errorModals.appStoreNotReady.body"),cancelAction:{caption:a(".errorModals.appStoreNotReady.cancel"),onClick:Y},confirmAction:{caption:a(".errorModals.appStoreNotReady.confirm"),onClick:()=>{X(!0)}},isHorizontal:!0};case NU.PURCHASE_FAILED:return{title:a(".errorModals.purchaseFailed.title"),body:a(".errorModals.purchaseFailed.body"),cancelAction:{caption:a(".errorModals.purchaseFailed.cancel"),onClick:Y}};case NU.FULFILLMENT_FAILED:return{title:a(".errorModals.fulfillmentFailed.title"),body:a(".errorModals.fulfillmentFailed.body"),cancelAction:{caption:a(".errorModals.purchaseFailed.cancel"),onClick:Y},confirmAction:{caption:a(".errorModals.fulfillmentFailed.confirm"),onClick:W},isUsingExternalLinkIcon:!0}}if(e.purchaseState===bs.FAILED)switch(e.purchaseFailureReason){case vs.NO_ACCESS:return{title:a(".errorModals.noAccess.title"),body:a(".errorModals.noAccess.body"),cancelAction:{caption:a(".ErrorModals.close"),onClick:$}};case vs.MEMBER_OF_TOO_MANY_REALMS:return{title:a(".errorModals.memberOfTooManyRealms.title"),body:a(".errorModals.memberOfTooManyRealms.body"),cancelAction:{caption:a(".errorModals.memberOfTooManyRealms.cancel"),onClick:$}};case vs.INVALID_REALM_NAME:return{title:a(".errorModals.invalidRealmName.title"),body:a(".errorModals.invalidRealmName.body"),cancelAction:{caption:a(".ErrorModals.close"),onClick:$}};case vs.OFFER_NOT_FOUND:return{title:a(".errorModals.offerNotFound.title"),body:a(".errorModals.offerNotFound.body"),cancelAction:{caption:a(".ErrorModals.close"),onClick:$}};case vs.OFFER_NOT_AVAILABLE_INCOMPLETE_DATA:return{title:a(".errorModals.offerNotAvailableIncompleteData.title"),body:a(".errorModals.offerNotAvailableIncompleteData.body"),cancelAction:{caption:a(".ErrorModals.close"),onClick:$}};case vs.OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED:{let e="",n="";switch(t.subscription){case"core":e=a(".errorModals.offerNotAvailableAllOffersOccupied.core.title"),n=a(".errorModals.offerNotAvailableAllOffersOccupied.core.body");break;case"plus":e=a(".errorModals.offerNotAvailableAllOffersOccupied.plus.title"),n=a(".errorModals.offerNotAvailableAllOffersOccupied.plus.body");break;default:e=a(".errorModals.offerNotAvailableAllOffersOccupied.trial.title"),n=a(".errorModals.offerNotAvailableAllOffersOccupied.trial.body")}return{title:e,body:n,cancelAction:{caption:a(".ErrorModals.close"),onClick:$}}}case vs.APP_STORE_NOT_READY:return{title:a(".errorModals.appStoreNotReady.title"),body:a(".errorModals.appStoreNotReady.body"),cancelAction:{caption:a(".errorModals.appStoreNotReady.cancel"),onClick:$},confirmAction:{caption:a(".errorModals.appStoreNotReady.confirm"),onClick:()=>{X(!1)}},isHorizontal:!0};case vs.CHECK_REALMS_PAYMENT_SERVICE_FAILED:return{title:a(".errorModals.checkRealmsPaymentServiceFailed.title"),body:a(".errorModals.checkRealmsPaymentServiceFailed.body"),cancelAction:{caption:a(".errorModals.checkRealmsPaymentServiceFailed.cancel"),onClick:$}};case vs.PURCHASE_FAILED:return{title:a(".errorModals.purchaseFailed.title"),body:a(".errorModals.purchaseFailed.body"),cancelAction:{caption:a(".errorModals.purchaseFailed.cancel"),onClick:$}};case vs.FULFILLMENT_FAILED:return{title:a(".errorModals.fulfillmentFailed.title"),body:a(".errorModals.fulfillmentFailed.body"),cancelAction:{caption:a(".errorModals.purchaseFailed.cancel"),onClick:$},confirmAction:{caption:a(".errorModals.fulfillmentFailed.confirm"),onClick:W},isUsingExternalLinkIcon:!0}}return{title:a(".errorModals.genericFailure.title"),body:a(".errorModals.genericFailure.body"),cancelAction:{caption:a(".ErrorModals.close"),onClick:()=>{}}}}),[a,$,Y,W,X],[j,c]),pe=dn(),{narrateText:fe}=Hf(),ge=(0,l.useFacetCallback)(((e,t)=>a=>{fe(a?t:e)}),[fe],[P,I]),Ee=(0,l.useFacetMap)((e=>[a(".termsAndConditionsTextBlock.name"),a(".termsAndConditionsTextBlock.role"),e?"":a(".termsAndConditionsTextBlock.enum",["1","2"]),a(".termsAndConditionsTextBlock.hint")].filter((e=>""!==e)).join(" . ")),[a],[x]),he=(0,l.useFacetMap)(((e,t)=>[a(".inputLabel"),a(".inputLabel.role"),""===e?t:e,a(".inputLabel.hint")].join(" . ")),[a],[v,k]),be=(0,l.useFacetCallback)(((e,t,a)=>n=>{e.checkUnfulfilledPurchase(t.currentXuid,n,"core"===a.subscription?Fs.Offer2Player:Fs.Offer10Player,!1)}),[],[U,d,c]);(0,l.useFacetEffect)((e=>{const t=e.get("subscriptionId");be(null!=t?t:"")}),[be],[s]);const ve=(0,l.useFacetMap)((e=>e.state===OU.BLOCKED_BY_PRIOR_PURCHASE_RENEW||e.state===OU.BLOCKED_BY_PRIOR_PURCHASE_CREATE||e.state===OU.BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_ID||e.state===OU.BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_XUID||e.state===OU.BLOCKED_BY_PRIOR_PURCHASE_INFORMATIVE||e.state===OU.BLOCKED_BY_PRIOR_PURCHASE_NO_PAYLOAD),[],[z]);return r.createElement(pr,{collection:bT},r.createElement(yx,{title:N,gamepadAlias:"realms-purchase-subscription",screenAnalyticsId:L!==l.NO_VALUE?L:""},(()=>r.createElement(Cv,null,r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:12,narrowSize:8},r.createElement(jf,null,r.createElement(Nm,{size:2}),r.createElement("div",{className:zr()(e.border.base,"fe7698f9cb35eea0619a")},r.createElement(GU,{isPlus:f,isTrial:E,price:A,isNarrow:n}),r.createElement(jy,{label:a(".inputLabel"),onChange:y,placeholder:T!==l.NO_VALUE?T:"",value:v,onBlur:q,narrationOverride:he}),r.createElement(rO,{stackedButtons:n,title:a(".panelButton.title"),roleNarrationOverride:a(".panelButton.role"),buttons:r.createElement(r.Fragment,null,r.createElement(Ug,{onClick:_,inputLegend:a(".select"),Icon:xM.ExternalLink,horizontal:!n,narrationSuffix:a(".panelButton.enum",["1","2"])},a(".panelButton.termsAndConditions")),r.createElement(rO.ButtonSpacing,null),r.createElement(Ug,{onClick:D,inputLegend:a(".select"),Icon:xM.ExternalLink,horizontal:!n,narrationSuffix:a(".panelButton.enum",["2","2"])},a(".panelButton.privacyPolicy")))}),r.createElement(Tm.Maybe,{classNameFocused:kp,className:zr()(LU,t.background.base),isInteractive:pe,narrationText:Ee,onClick:()=>{ge(!1)},inputLegend:a(".select")},r.createElement(wp,null),r.createElement(Nm,{size:3}),r.createElement(zm,{type:"captionLong"},P),r.createElement(Nm,{size:3})),r.createElement(l.Mount,{when:x,condition:!1},r.createElement(Tm.Maybe,{classNameFocused:kp,className:zr()(LU,t.background.base),isInteractive:pe,narrationText:[a(".termsAndConditionsTextBlock.name"),a(".termsAndConditionsTextBlock.role"),a(".termsAndConditionsTextBlock.enum",["2","2"]),a(".termsAndConditionsTextBlock.hint")].join(" . "),onClick:()=>{ge(!0)},inputLegend:a(".select")},r.createElement(wp,null),r.createElement(Nm,{size:3}),r.createElement(zm,{type:"captionLong"},I),r.createElement(Nm,{size:3}))),r.createElement(pr,{collection:hT},r.createElement(sg,{title:a(".checkboxLabel"),gamepad:{index:2},onChange:S,value:F,hintNarration:M})),r.createElement(Fg,null,r.createElement(Ug,{onClick:le,inputLegend:a(".select"),variant:"hero",disabled:C,narrationSuffix:w},O))),r.createElement(Nm,{size:2}),r.createElement(LE.Space,null))))))),r.createElement(l.Mount,{when:V},r.createElement(Ay.Component,{title:a(".modals.purchaseInProgress"),onClose:ue})),r.createElement(l.Mount,{when:G},r.createElement(HU.Component,{parameter:me})),r.createElement(l.Mount,{when:ve},r.createElement(zU,null)),r.createElement(l.Mount,{when:Z},r.createElement(Oy.Component,{onClose:J})),r.createElement(l.Mount,{when:se},r.createElement(jU.Component,null)),r.createElement(l.Mount,{when:Q.isVisible},r.createElement(Oy.Component,{onClose:Q.hide})),r.createElement(l.Mount,{when:ne.isVisible},r.createElement(UU.Component,{onClose:ne.hide,onConfirm:ae})),r.createElement(l.Mount,{when:ee.isVisible},r.createElement(xU.Component,{onClose:ee.hide,variant:te})))}function GU({isPlus:e,isTrial:t,price:a,isNarrow:n}){const{background:o}=wr("informative"),i=(0,l.useFacetMap)((e=>e?_U:DU),[],[e]),{t:c}=Fc("RealmsPurchaseSubscriptionRoute"),s=(0,l.useFacetMap)(((e,t)=>t?`${c(".banner.subheading.trial",[e])}`:`${c(".banner.subheading",[e])}`),[c],[a,t]),u=(0,l.useFacetMap)(((e,t,a)=>[c(e?".banner.heading.plus":".banner.heading.core"),c(".banner.role"),c(t?".banner.subheading.trial.narration":".banner.subheading.narration",[a])].join(" . ")),[c],[e,t,a]),d=dn();return r.createElement(Tm.Maybe,{classNameFocused:kp,isInteractive:d,className:zr()(o.base,"fc664479bc86f395286a"),narrationText:u},r.createElement(wp,null),!n&&r.createElement(Qp,{className:"f669210341328144391c",src:WU}),r.createElement("div",{className:"b75fc7b3d6f29f6bbc4c"},r.createElement(zm,{type:"body",role:"neutral"},s)),r.createElement(Qp,{className:"bcaa8ab7d0bca62b7948",src:i}))}function $U({loading:e,emptyMessage:t,header:a,renderItem:n,data:o,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,itemSeparator:s,footer:u,renderTracker:d,horizontal:m=!1,padSpinnerVertically:p,scrollViewRef:f,gamepadAlias:g,delegateFocusByAlias:E,delegateFocusFromMemory:h,defaultFocusedChildBehavior:b}){const v=(0,l.useIsPaused)(),y=(0,l.useFacetWrap)(o),F=(0,l.useFacetMap)((e=>e.length),[],[y]),S=(0,l.useFacetUnwrap)(F),C=(0,l.useFacetUnwrap)(e),M=C!==l.NO_VALUE&&C;return r.createElement(l.DeferredMountProvider,null,r.createElement(KU,{padSpinnerVertically:p,loading:M,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,renderTracker:d,horizontal:m,scrollViewRef:f,gamepadAlias:g,delegateFocusFromMemory:h,delegateFocusByAlias:E,defaultFocusedChildBehavior:b},null!=a&&r.createElement(r.Fragment,null,a,s),!1===v&&r.createElement(l.Map,{array:y},((e,t)=>r.createElement(r.Fragment,null,t>0&&s,n({itemFacet:e,index:t,listLengthFacet:F})))),null!=S&&0===S&&r.createElement(l.DeferredMount,null,r.createElement(r.Fragment,null,t)),null!=u&&r.createElement(r.Fragment,null,s,u)))}function KU({loading:e,children:t,scrollIntoViewAlign:a,scrollIntoViewSpeedFactor:n,renderTracker:o,horizontal:i,padSpinnerVertically:c,scrollViewRef:s,gamepadAlias:u,delegateFocusByAlias:d,delegateFocusFromMemory:m,defaultFocusedChildBehavior:p}){const f=(0,l.useIsDeferring)(),g=(0,l.useIsPaused)(),E=(0,l.useFacetMap)((t=>e||t||g),[e,g],[f]);return r.createElement(jf,{padSpinnerVertically:c,loading:E,scrollIntoViewAlign:a,scrollIntoViewSpeedFactor:n,renderTracker:o,horizontal:i,innerRef:s,gamepadAlias:u,delegateFocusByAlias:d,delegateFocusFromMemory:m,defaultFocusedChildBehavior:p},t)}const YU=a.p+"assets/GenericEmptyState-45ab1891ec2f3d291016.png";function XU({realm:e,index:t,maxIndex:a,asSubscription:n,onItemClick:o}){const{t:i}=Fc("ChooseRealmRoute"),c=(0,l.useFacetMap)((e=>i(".players",[e.maxPlayers.toString()])),[i],[e]),s=(0,l.useFacetMap)((e=>e.gameMode===Fu.CREATIVE?i(".creative"):e.gameMode===Fu.SURVIVAL?i(".survival"):i(".adventure")),[i],[e]),u=(0,l.useFacetMap)((e=>n?i(".realmSubscription",[(t+1).toString()]):e.slotName),[i,t,n],[e]),d=(0,l.useFacetMap)((e=>n?i(".pairedWith",[e.realmName]):e.realmName),[i,n],[e]),m=(0,l.useFacetMap)(((e,a,r,l,o)=>[l,i(".realmChoiceNumber",[(t+1).toString(),e.toString()]),o,n?i(".typeOfSubscription",[a]):i(".typeOfWorld",[r])].join(" . ")),[i,t,n],[a,c,s,u,d]);return r.createElement(tw,{gamepadIndex:t,tall:!0},r.createElement(tw.Action,{inputLegend:i(".select"),narrationText:m,onClick:o},r.createElement(tw.Main,null,r.createElement(zm,{type:"body"},r.createElement(xm,null,u)),r.createElement(zm,{type:"body",variant:"dimmer"},r.createElement(xm,null,d)),r.createElement(Nm,{size:1}),n&&r.createElement(pr,{collection:bT},r.createElement(_y,{role:"primaryTint"},c)),!n&&r.createElement(_y,{role:"neutral100"},s))))}function qU(){const{t:e}=Fc("ChooseRealmRoute"),t=(0,l.useSharedFacet)(Nu),a=(0,l.useSharedFacet)(Ni),n=(0,l.useSharedFacet)(Ku),o=(0,l.useSharedFacet)(Bs),i=p(),c=(0,l.useFacetCallback)(((e,t,a)=>n=>{"uninitialized"!==a.currentWorldId?i.push(`/realms-choose-slot/${t[n].id}`):e.inWorldCreation&&e.selectRealmToCreateOn(`${t[n].id}`)}),[i],[a,o,n]),s=(0,r.useCallback)((()=>{i.replace("/realms-choose-realm/realm-subscriptions")}),[i]),u=Od(),d=(0,l.useSharedFacet)(wi);return r.createElement($U,{gamepadIndex:0,gamepadAlias:"wrapper",header:r.createElement(Nm,{size:2}),data:o,renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>XU({realm:e,index:t,maxIndex:a,asSubscription:!1,onItemClick:()=>c(t)}),footer:r.createElement(l.Mount,{when:(0,l.useFacetMap)(((e,t)=>e.realms.length>0&&0!=t.length),[],[t,o])},r.createElement(l.DeferredMount,null,r.createElement("div",{className:zr()({f225e919892b63f459c3:"tablet"===u},{d73f2bbc954cb902761d:"desktop"===u},{ea8a461988a18195eeed:"narrow"===u})},r.createElement(Nm,{size:4}),r.createElement(Ug,{inputLegend:e(".select"),variant:"secondary",onClick:s},(0,l.useFacetMap)((t=>t.isBetaBuild?e(".addNewBetaRealm"):e(".addNewPreviewRealm")),[e],[d])),r.createElement(Nm,{size:4}))))})}function QU({onItemClick:e}){const t=(0,l.useSharedFacet)(_i),a=(0,l.useSharedFacet)(Ru),n=(0,l.useFacetCallback)(((t,a)=>n=>{e(),t.createPreviewRealmFromSubscriptionId(`${a[n].id}`)}),[e],[t,a]);return r.createElement($U,{gamepadIndex:0,header:r.createElement(Nm,{size:2}),footer:r.createElement(Nm,{size:2}),data:a,renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>XU({realm:e,index:t,maxIndex:a,asSubscription:!0,onItemClick:()=>n(t)})})}function ZU(){const e=p(),{t}=Fc("ChooseRealmRoute"),a=(0,l.useSharedFacet)(wi),n=(0,l.useSharedFacet)(Ws),o=(0,l.useSharedFacet)(Nu),i=(0,l.useSharedFacet)(_i),c=(0,l.useSharedFacet)(Ni),s=(0,l.useSharedFacet)(Bs),u=(0,l.useSharedFacet)(Ku),d=(0,l.useSharedFacet)(Xs),[m,E]=(0,l.useFacetState)(!1),h=(0,l.useFacetMap)(((e,t,a)=>e.state===Ds.Loading||t.state===Ds.Loading||a),[],[n,o,m]),b=(0,l.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===Hk.RUNNING),[],[i]),v=g(),y=(0,l.useFacetMap)((e=>"realm-subscriptions"===e.tab),[],[v]),F=(0,l.useFacetMap)(((e,a)=>e?t(".chooseARealmSubscription"):a.isBetaBuild?t(".chooseABetaRealm"):t(".chooseAPreviewRealm")),[t],[y,a]),S=(0,l.useSharedFacet)(Ru),C=(0,l.useFacetCallback)(((t,a,n,r,l,o)=>()=>{t&&0!==a.length&&0!==n.length&&r.inWorldCreation?e.replace("/realms-choose-realm/preview-realms"):("uninitialized"!==l.currentWorldId&&o.clearUploadWorldToRealmTaskState(),e.goBack())}),[e],[y,s,S,c,u,d]),M=f();(0,l.useFacetEffect)(((e,t)=>{!e&&t&&E(!1)}),[E],[M,m]),(0,l.useFacetEffect)(((e,t)=>{t.inWorldCreation&&e.createPreviewRealmFromSubscriptionTaskState===Hk.DONE&&(e.reset(),E(!0),t.createWorldOnPreviewRealm(e.getCreatedPreviewRealmId()))}),[E],[i,c]),(0,l.useFacetEffect)(((e,t,a)=>{"uninitialized"!==t.currentWorldId&&e.createPreviewRealmFromSubscriptionTaskState===Hk.DONE&&(e.reset(),a.setPreviewRealmForUpload(e.getCreatedPreviewRealmId()))}),[],[i,u,d]);const w=(0,l.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===Hk.FAILED),[],[i]),k=(0,l.useFacetCallback)((e=>()=>{e.reset()}),[],[i]),T=Od(),P=t(".backButtonHint"),I=wr("inherit"),x=(0,l.useFacetMap)((e=>t(".screen",[e])),[t],[F]),A=(0,l.useFacetMap)(((e,t)=>!e&&0===t.length),[],[y,s]),O=(0,l.useFacetMap)(((e,t)=>e&&0===t.length),[],[y,S]),N=(0,l.useFacetMap)(((e,t)=>e||t),[],[A,O]),R=(0,l.useFacetCallback)(((e,t,a)=>()=>{e?a.forceFetchUnpairedRealmsList():t.forceFetchRealmsList()}),[],[y,n,o]),L=(0,l.useFacetMap)(((e,a)=>e?t(".emptyState.noSubscriptionErrorTitle"):a.isBetaBuild?t(".emptyState.noRealmsErrorTitle.beta"):t(".emptyState.noRealmsErrorTitle.preview")),[t],[O,a]),[_,D]=(0,l.useFacetState)(!1);return r.createElement(av,null,r.createElement(ev,{text:x,interruptible:!1}),r.createElement(l.Mount,{when:h},r.createElement("div",{className:zr()("e3ef14355a46e862a003",I.overlay.base)},r.createElement(zf,null))),r.createElement(l.Mount,{when:h,condition:!1},r.createElement(r.Fragment,null,r.createElement(yv,{onBackButton:C,backButtonHint:P,center:r.createElement(zm,{type:"header5A"},F),gamepadAlias:"choose-realm-route",delegateByAlias:"wrapper"},r.createElement(Cv,null,r.createElement(Cv.Row,{gamepadIndex:0,fullHeight:!0},r.createElement(l.Mount,{when:N,condition:!1},r.createElement(r.Fragment,null,r.createElement(Cv.Column,{wideSize:"tablet"===T?1:"desktop"===T?2:12,narrowSize:0}),r.createElement(Cv.Column,{gamepadIndex:0,wideSize:"tablet"===T?10:"desktop"===T?8:12,narrowSize:8},r.createElement(Ry,{tab:"realm-subscriptions",component:(0,r.useCallback)((()=>r.createElement(QU,{onItemClick:()=>D(!0)})),[D])}),r.createElement(Ry,{tab:"preview-realms",component:qU}),r.createElement(LE.Space,null)))),r.createElement(l.Mount,{when:N},r.createElement(r.Fragment,null,r.createElement(Cv.Column,{wideSize:2,narrowSize:0}),r.createElement(Cv.Column,{gamepadIndex:0,wideSize:8,narrowSize:8},r.createElement(jf,{gamepadIndex:0},r.createElement(Nm,{size:2}),r.createElement(_v,{gamepadIndex:0,title:L,text:t(".emptyState.message"),imgSrc:YU,buttons:[{text:t(".emptyState.tryAgain"),inputLegend:t(".select"),onClick:R}]}))))))),r.createElement(LE.Space,{extraSpace:r.createElement(Nm,{size:1})}),r.createElement(l.Mount,{when:_},r.createElement(BW.Component,{onConfirm:(0,l.useFacetCallback)(((e,t,a)=>()=>{let n=t.inWorldCreation;"uninitialized"!==a.currentWorldId&&(n=!0),e.activateNewPreviewRealm(n),D(!1)}),[D],[i,c,u]),onClose:(0,l.useFacetCallback)((e=>()=>{e.reset(),D(!1)}),[D],[i])})),r.createElement(l.Mount,{when:w},r.createElement($W.Component,{onClickClose:k})),r.createElement(l.Mount,{when:b},r.createElement(jW,{onClickClose:(0,l.useFacetCallback)((e=>()=>e.reset()),[],[i])}))))))}var JU=a(31717),ez=a.n(JU);const tz=Symbol("filler"),az=({horizontalIndex:e,verticalIndex:t,index:a,itemSeparatorHorizontal:n,renderItem:o,item:i,listLengthFacet:c})=>r.createElement(l.DeferredMount,null,r.createElement(r.Fragment,null,e>0&&n,r.createElement("div",{className:"d5d0b9b95e3f7d3f9133"},r.createElement(l.With,{data:(0,l.useFacetMemo)((e=>e!==tz?e:void 0),[],[i])},(n=>o({itemFacet:n,index:a,rowIndex:t,columnIndex:e,listLengthFacet:c})))))),nz=({children:e})=>r.createElement(r.Fragment,null,e);function rz({loading:e,emptyMessage:t,renderItem:a,listWrapper:n=nz,data:o,focusGridIndex:i,scrollIntoViewAlign:c,scrollIntoViewSpeedFactor:s,itemSeparatorHorizontal:u,itemSeparatorVertical:d,firstRowSeparatorVertical:m,header:p,footer:f,renderTracker:g,columns:E,gamepadAlias:h,innerRef:b}){const v=(0,l.useIsPaused)(),y=(0,l.useFacetWrap)(o),F=(0,l.useFacetMap)((e=>e.length),[],[y]),S=(0,l.useFacetUnwrap)(F),C=(0,l.useFacetMemo)((e=>{if(e.length>0){const t=ez()(E,e),a=t[t.length-1];return fF()((()=>a.push(tz)),E-a.length),t}return[]}),[E],[y]);return r.createElement(l.DeferredMountProvider,null,r.createElement(lz,{loading:(0,l.useFacetWrap)(null!=e&&e),focusGridIndex:i,scrollIntoViewAlign:c,scrollIntoViewSpeedFactor:s,renderTracker:g,gamepadAlias:h,innerRef:b},p,r.createElement(n,null,!v&&r.createElement(l.Map,{array:C},((e,t)=>r.createElement(r.Fragment,null,0===t&&m,t>0&&d,r.createElement("div",{className:"dcfe757cdbb4a3063d16"},r.createElement(l.Map,{array:e},((e,n)=>r.createElement(az,{horizontalIndex:n,verticalIndex:t,index:t*E+n,itemSeparatorHorizontal:u,renderItem:a,item:e,listLengthFacet:F})))))))),null!=S&&0===S&&r.createElement(l.DeferredMount,null,r.createElement(r.Fragment,null,t)),f))}function lz({loading:e,focusGridIndex:t,children:a,scrollIntoViewAlign:n,scrollIntoViewSpeedFactor:o,renderTracker:i,horizontal:c,gamepadAlias:s,innerRef:u}){const d=(0,l.useIsPaused)(),m=(0,l.useFacetMap)(((e,t)=>e||d||t),[d],[(0,l.useIsDeferring)(),e]);return r.createElement(jf,{innerRef:u,loading:m,focusGridIndex:t,scrollIntoViewAlign:n,scrollIntoViewSpeedFactor:o,renderTracker:i,horizontal:c,gamepadAlias:s,delegateFocusFromMemory:!0},a)}const oz={"250HostileMobs":a.p+"assets/250HostileMobs-141adf19c2fb37e8e561.png",AllMobNameEasterEggs:a.p+"assets/AllMobNameEasterEggs-4b8ed7fd64455e726bff.png",CookEverything:a.p+"assets/CookEverything-fc277f7d8b35041df988.png",DefeatEnderdragon:a.p+"assets/DefeatEnderdragon-cc8e0a05a2869d1481b3.png",DefeatWither:a.p+"assets/DefeatWither-0783a59ace6384b01d8c.png",DiamondEverything:a.p+"assets/DiamondEverything-c49257f11023c18eae3f.png",FirstAbandonedMineshaftFound:a.p+"assets/FirstAbandonedMineshaftFound-f9296ec6449e8f636f28.png",FirstAncientCityFound:a.p+"assets/FirstAncientCityFound-8d6da611faef146c050d.png",FirstBadlandsFound:a.p+"assets/FirstBadlandsFound-0495ea2ac8c8a7d0f8a0.png",FirstConduit:a.p+"assets/FirstConduit-4ce50675f3dfc92b088a.png",FirstDiamondFound:a.p+"assets/FirstDiamondFound-862961a7d3697df5fbd5.png",FirstEnchantment:a.p+"assets/FirstEnchantment-6f488c469526a603ffd7.png",FirstEnderDragonDefeated:a.p+"assets/FirstEnderDragonDefeated-7b89df142b388a987faa.png",FirstEndPortal:a.p+"assets/FirstEndPortal-720f31fffb04a406795c.png",FirstFullyExploredMap:a.p+"assets/FirstFullyExploredMap-2e9926667df4cf4d1ba4.png",FirstMushroomFieldFound:a.p+"assets/FirstMushroomFieldFound-c9d4edd0a62971d1056f.png",FirstNetherFortressFound:a.p+"assets/FirstNetherFortressFound-5990a1bfc6a2b0d593dd.png",FirstCraftedNetherite:a.p+"assets/FirstCraftedNetherite-26887a7b405e730280f4.png",FirstNetherPortalLit:a.p+"assets/FirstNetherPortalLit-9b93d748b0547a2913c6.png",FirstPeakMountainFound:a.p+"assets/FirstPeakMountainFound-77bba36b907a808917fb.png",FirstPillagerOutpostFound:a.p+"assets/FirstPillagerOutpostFound-87eef152efd00cb3a834.png",FirstPoweredBeacon:a.p+"assets/FirstPoweredBeacon-886be5f1b4fb0ab7966a.png",FirstWitherDefeated:a.p+"assets/FirstWitherDefeated-a95d8f43e039c754eeda.png",FirstWoodlandMansionFound:a.p+"assets/FirstWoodlandMansionFound-a68128deae6a4b05e5d0.png",NamedMob:a.p+"assets/NamedMob-5a8fd26592b1df5af75a.png",NamedMobDies:a.p+"assets/NamedMobDies-b5ee3fb853affcf982c7.png",NewMember:a.p+"assets/NewMember-6422cc9d6948d7f514b6.png",PillagerCaptainDefeated:a.p+"assets/PillagerCaptainDefeated-3a8edebee8082b7588c0.png",RealmCreated:a.p+"assets/RealmCreated-10a261101b087061a8da.png",SlotSwitch:a.p+"assets/SlotSwitch-f6f21bc26b908762b2ba.png"},iz={xuid:"0UnknownPlayer",gamerTag:"unknownPlayer",gamerIcon:"",role:ds.VISITOR,fetchProfileStatus:Tu.Success,lastSeenTime:0,isOnline:!1,isInRealm:!1,hasOptedIn:!1};function cz(e){return oz[e]}let sz;!function(e){e[e.List=0]="List",e[e.NoGamertag=1]="NoGamertag"}(sz||(sz={}));const uz={full:11,narrow:5},dz={full:5,narrow:2};function mz(e,t,a){if(0===t.length)return console.log("Error in newMemberGroupedText: playerData is empty"),e(".invalid");if(2===t.length)return e(".eventText.list.twoMembers",[t[0].gamerTag,t[1].gamerTag]);const n=Math.min(t.length,a);let r=t[0].gamerTag;for(let a=1;a<n-1;a++)r=e(".eventText.list",[r,t[a].gamerTag]);if(t.length<=a)return e(".eventText.list.end",[r,t[t.length-1].gamerTag]);{r=e(".eventText.list",[r,t[n-1].gamerTag]);const l=t.length-a;return 1===l?e(".eventText.list.overflow.single",[r]):e(".eventText.list.overflow.multi",[r,`${l}`])}}const pz=new Map([["FirstEnderDragonDefeated",{treatmentSize:"large"}],["FirstWitherDefeated",{treatmentSize:"large"}],["250HostileMobs",{treatmentSize:"medium",groupType:sz.List}],["AllMobNameEasterEggs",{treatmentSize:"medium",groupType:sz.List}],["CookEverything",{treatmentSize:"medium"}],["DefeatEnderdragon",{treatmentSize:"medium",groupType:sz.NoGamertag}],["DefeatWither",{treatmentSize:"medium",groupType:sz.NoGamertag}],["DiamondEverything",{treatmentSize:"medium",groupType:sz.List}],["FirstAbandonedMineshaftFound",{treatmentSize:"medium"}],["FirstAncientCityFound",{treatmentSize:"medium"}],["FirstBadlandsFound",{treatmentSize:"medium"}],["FirstConduit",{treatmentSize:"medium"}],["FirstDiamondFound",{treatmentSize:"medium"}],["FirstEnchantment",{treatmentSize:"medium",groupType:sz.List}],["FirstEndPortal",{treatmentSize:"medium"}],["FirstFullyExploredMap",{treatmentSize:"medium"}],["FirstMushroomFieldFound",{treatmentSize:"medium"}],["FirstNetherFortressFound",{treatmentSize:"medium"}],["FirstCraftedNetherite",{treatmentSize:"medium",groupType:sz.List}],["FirstNetherPortalLit",{treatmentSize:"medium"}],["FirstPeakMountainFound",{treatmentSize:"medium"}],["FirstPillagerOutpostFound",{treatmentSize:"medium"}],["FirstPoweredBeacon",{treatmentSize:"medium"}],["FirstWoodlandMansionFound",{treatmentSize:"medium"}],["NamedMob",{treatmentSize:"medium",metadataTransform:e=>[e]}],["NamedMobDies",{treatmentSize:"medium"}],["NewMember",{treatmentSize:"medium",groupType:sz.List}],["PillagerCaptainDefeated",{treatmentSize:"medium"}],["RealmCreated",{treatmentSize:"medium"}],["SlotSwitch",{treatmentSize:"medium"}]]);function fz(e){const t=pz.get(e);return t||console.log(`Error in getRealmEventInfo: ${e} not found`),t}function gz(e){const t=pz.get(e);if(t)return t.treatmentSize;console.log(`Error in getRealmEventTreatmentSize: ${e} not found`)}const Ez=({t:e,eventId:t,playerData:a,maxDisplayedPlayers:n,eventMetadata:r})=>{const l=fz(t);if(!l)return e(".invalid");const o=l.metadataTransform?l.metadataTransform(r):[];return a.length>1&&null!=l.groupType?l.groupType===sz.List?e(`.${l.treatmentSize}.${t}.grouped`,[mz(e,a.slice().reverse(),n),...o]):e(`.${l.treatmentSize}.${t}.grouped`,o):"medium"===l.treatmentSize&&a.length>=1?e(`.${l.treatmentSize}.${t}`,[a[0].gamerTag,...o]):e(`.${l.treatmentSize}.${t}`,o)},hz="c133279442f57d8f1891",bz="fca4a0337de4387d30e2",vz="e9fe741dbf35e2038352",yz=a.p+"assets/comments_light-88de71c61561c7e9d25b.png",Fz=a.p+"assets/heart_sprite-03fc4d41b35759336205.png",Sz=a.p+"assets/heart_outline-84139b8b649c87799c88.png",Cz=a.p+"assets/options-9456a60bb745e1e0967c.png";function Mz({index:e,content:t,totalComments:a="",totalLikes:n,hasLiked:o,hideLikes:i,readOnly:c=(0,l.createStaticFacet)(!1),openCommentsCallback:s=(()=>{}),toggleLikeCallback:u,openOptionsCallback:d}){const{t:m}=Fc("RealmsStories.feedPost"),p=Od(),f=dn(),g=""===a,E=g?"comment-entry-":"story-entry-",h=(0,l.useFacetWrap)(a),b=(0,l.useFacetWrap)(c),v=(0,l.useFacetMap)(((e,t,a)=>{let n=1;return e||n++,t||(n+=2),""!=a&&(n++,"narrow"!=p&&n++),n}),[p],[i,b,h]),y=(0,l.useFacetMap)(((e,t,a)=>{let n=1;return t||n++,a||(n+=2),"narrow"!=p&&n++,[m(".comments"),m(".role.button"),m(".enumeration",[`${n}`,`${e}`]),m(".commentsHint")].join(" . ")}),[m,p],[v,i,b]),F=(0,l.useFacetMap)(((e,t,a)=>[m(".commentsNarration"),m(".role.button"),m(".enumeration",[t?"2":"3",`${e}`]),a,m(".commentsHint")].join(" . ")),[m],[v,i,h]),S=(0,l.useFacetMap)(((e,t,a,n,r)=>{let l,o=0;return t||o++,a||(o+=2),""!=n&&"narrow"!=p&&o++,l=m(""!=n?r?".unlikeHint":".likeHint":r?".unlikeCommentHint":".likeCommentHint"),[m(".like"),m(".role.button"),m(".enumeration",[`${o}`,`${e}`]),l].join(" . ")}),[m,p],[v,i,b,h,o]),C=(0,l.useFacetMap)(((e,t)=>[m(".likesNarration"),m(".role.textBlock"),m(".enumeration",["2",`${e}`]),t].join(" . ")),[m],[v,n]),M=(0,l.useFacetMap)((e=>[m(".options"),m(".role.button"),m(".collapsed"),m(".enumeration",[`${e}`,`${e}`]),m(".optionsHint")].join(" . ")),[m],[v]),w=(0,l.useFacetMap)((e=>m(e?".liked":".like")),[m],[o]),k=(0,l.useFacetMap)((e=>e?Fz:Sz),[],[o]),T=(0,l.useFacetUnwrap)(o),P=T!==l.NO_VALUE&&T,I=P?"primary":"neutral",x=(0,l.useFacetMap)(((e,t)=>!g||!e||!t),[g],[b,i]),A=(0,l.useFacetMap)((e=>g&&1==e),[g],[b]),O=wr("neutral");return r.createElement(r.Fragment,null,r.createElement(Xr,null,t),r.createElement(l.Mount,{when:x},r.createElement(Xr,null,r.createElement(xl,{data:A},(t=>r.createElement(tw,{small:t},r.createElement("div",{className:zr()(hz,"ef03de36369ac696d53e",O.background.base,O.bevel.base)},r.createElement(tw.Main,null,r.createElement(l.Mount,{when:i,condition:!1},r.createElement(Tm.Maybe,{isInteractive:f,narrationText:C,classNameFocused:kp},r.createElement(wp,null),r.createElement("div",{className:"b1f698fe13af0acba37a"},r.createElement(Qp,{src:Fz,className:bz,imageRendering:"pixelated"}),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"body",align:"left",role:"neutral"},r.createElement(xm,null,n)))))),"narrow"!==p&&!g&&r.createElement(tw.Cell,null,r.createElement(Tm,{narrationText:F,inputLegend:m(".viewComments"),classNameFocused:kp,className:zr()("d387d0e6ebf2ce7926aa",O.border.disable),onClick:s},r.createElement(wp,null),r.createElement(zm,{type:"body",align:"right",role:"neutral"},a)))),r.createElement(Zf,{text:[m(".postActions"),m(".postActionsRole")].join(" . ")},r.createElement(tw.AdditionalAction,{gamepadAlias:E+"like-"+e,narrationText:S,inputLegend:m(".like"),onClick:u,role:I,isSelected:P,hidden:c,extraWide:!0},r.createElement(Qp,{src:k,className:bz,imageRendering:"pixelated"}),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"captionTiny",role:I},w)),!g&&r.createElement(tw.AdditionalAction,{narrationText:y,inputLegend:m(".viewComments"),onClick:s,extraWide:!0},r.createElement(Qp,{src:yz,className:bz,imageRendering:"pixelated"}),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"captionTiny"},m(".comments"))),r.createElement(tw.AdditionalAction,{narrationText:M,inputLegend:m(".options"),onClick:d,hidden:c,extraWide:!0},r.createElement(Qp,{src:Cz,className:bz,imageRendering:"pixelated"}),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"captionTiny"},m(".options"))))))))))}function wz({body:e,timePosted:t,timePostedNarration:a,storyFeedElementCount:n,shouldShowUnreadPostBadge:o,image:i=(0,l.createStaticFacet)(""),author:c,commentPostType:s=!1,hasBottomSection:u=!0,onContentClicked:d}){const{t:m}=Fc("RealmsStories.feedPost"),p=Od(),f=(0,l.useFacetMap)((e=>e.gamerTag),[],[c]),g=(0,l.useFacetMap)((e=>e.gamerIcon),[],[c]),E=(0,l.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[c]),h=(0,l.useFacetMap)((e=>""!==e),[],[i]),b=(0,l.useFacetMap)(((e,t,a,n,r,l)=>{const o=[];return s?o.push(m(".storyComment")):o.push(m(".storyPost")),o.push(m(".role.textBlock")),n&&o.push(m(".unread")),o.push(m(".enumeration",["1",`${l}`])),s?o.push(m(".storyCommentDetails",[t,a])):o.push(m(".storyPostDetails",[t,a])),o.push(e),r&&o.push(m(".hasImage")),o.join(" . ")}),[m,s],[e,f,a,o,h,n]),v=wr("neutral"),y=wr("neutral80"),F=(0,l.useFacetCallback)((e=>()=>{d&&""!=e&&d({image:e})}),[d],[i]),S=(0,l.useFacetMap)((e=>!!e&&m(".viewScreenshot")),[m],[h]),C=(0,l.useFacetMap)((e=>zr()("ca3de034f8206048c078",v.border.base,y.background.base,{[hz]:0==e})),[y.background.base,v.border.base],[(0,l.useFacetWrap)(u)]);return r.createElement(Tm,{inputLegend:S,narrationText:b,className:C,classNameFocused:kp,onClick:F},r.createElement(wp,null),r.createElement(Nm,{size:4}),r.createElement("div",{className:"eb74d32b8bfda217a335"},r.createElement("div",null,r.createElement(uk,{src:g,status:E,variant:"large"})),r.createElement(Nm,{size:4}),r.createElement("div",{className:"cd2c68179f96b4d01d91"},r.createElement("div",{className:"dfbe80a9b71d2314b999"},r.createElement("div",{className:zr()({f2c1a1939b445c733a09:"narrow"!==p,b80c9e985f0150cff3f9:"narrow"===p})},r.createElement(zm,{type:"body",align:"left",role:"neutral80"},r.createElement(xm,null,f))),r.createElement("div",{className:zr()("b729e0b0f77cc506bfb7",{b9a22461a6c660bb63f7:"narrow"===p})},r.createElement(zm,{type:"captionShort",align:"narrow"===p?"left":"right",role:"neutral80",variant:"dimmer"},t))),r.createElement(l.Mount,{when:h},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement("div",{className:vz},r.createElement("div",{className:zr()(hz,v.border.base)},r.createElement(Qp,{src:i,aspectRatio:Qp.AspectRatio["16:9"]}))))),r.createElement(Nm,{size:2}),r.createElement("div",{className:vz},r.createElement(zm,{type:"paragraphs",role:"neutral80",overflowWrap:"break-word",whiteSpace:"preWrap"},e)))),r.createElement(l.Mount,{when:o},r.createElement("div",{className:"e49c4f1ee3e293ca9fa1"},r.createElement(iF,{role:"secondary"}))))}const kz=a.p+"assets/no-internet-art-53f294e4a76adfdada67.png";function Tz(){const{t:e}=Fc("RealmsStories");return r.createElement(_v,{title:e(".messages.title"),text:e(".messages.noInternetBody"),imgSrc:kz,imgClass:yU()})}const Pz=a.p+"assets/GenericError-d52243af7ab562667d70.png";function Iz({onClick:e,pageName:t}){const{t:a}=Fc("RealmsStories"),n=(0,l.useFacetWrap)(null!=t?t:""),o=(0,l.useFacetMap)((e=>""!==e?a(".messages.titleWithArg",[e]):a(".messages.title")),[a],[n]);return r.createElement(_v,{title:o,text:a(".messages.unknownErrorBody"),imgSrc:Pz,imgClass:yU(),buttons:[{text:a(".messages.button"),onClick:e,inputLegend:a(".messages.button")}]})}function xz({forOptedOutMembers:e}){const{t}=Fc("RealmsStories");return r.createElement(AP,{role:"noticeTint"},r.createElement("div",{className:"ff17a65c8ab5b43e4438"},r.createElement(xM.Warning,{color:"#1e1e1f"})),r.createElement(AP.Text,null,t(e?".members.warning.optedOut":".members.warning")))}const Az="ff9ce8a0566f8c0c4dd7",Oz="e426e6fc8713e7d1a98b",Nz=a.p+"assets/timeline-opt-in-cf8cede534faf5afd81b.png",Rz=e=>(0,l.useFacetMemo)((e=>{const t=[],a=[],n=[],r=[],l=[];return e.forEach((e=>{e.isOnline&&a.push(e),e.isInRealm&&n.push(e),e.hasOptedIn?r.push(e):l.push(e),t.push(e)})),{allMembers:t,onlinePlayers:a,inRealmPlayers:n,optedInPlayers:r,optedOutPlayers:l}}),[],[e]);let Lz;function _z(e){const t=g(),a=(0,l.useSharedFacet)(pu),n=(0,l.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[(0,l.useSharedFacet)(os)]);return(0,l.useFacetCallback)(((t,a,n)=>r=>{n.fireEventRealmsStoriesOptIn(e,r,a.realmId,t)}),[e],[n,t,a])}function Dz({correlationId:e}){const t=g(),{t:a}=Fc("RealmsStories.messages.timelineOptIn"),n=wr("neutral80"),o=f(),i=Rd(70),c=(0,l.useSharedFacet)(ms),s=(0,l.useSharedFacet)(ls),u=(0,l.useSharedFacet)($s),d=(0,l.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[(0,l.useSharedFacet)(os)]),m=(0,l.useFacetMap)((e=>jw(e.players,(e=>e.role!==ds.NONMEMBER))),[],[c]),p=Rz(m),E=(0,l.useFacetMap)((e=>[e.optedInPlayers.length.toString(),e.allMembers.length.toString()]),[],[p]),h=(0,l.useFacetMap)((e=>a(".members",e)),[a],[E]),b=(0,l.useFacetMap)((e=>[a(".title"),a(".textblock"),a(".body"),a(".membersNarration",e)].join(" . ")),[a],[E]),v=(0,l.useFacetCallback)(((t,a,n)=>()=>{t.setPlayerOptInStatusAndPostWithOptInTelemetry(n.realmId,Gs.OptedIn,e,Lz.OptIn_Success,a)}),[e],[s,d,t]),y=(0,l.useFacetMap)((e=>e?"d91b964b5a88bf33918c":""),[],[i]),F=(0,l.useFacetMap)(((e,t)=>e&&(t.currentPostState===Pu.InputInvalid||t.currentPostState===Pu.InternalError||t.currentPostState===Pu.UploadFailed||t.currentPostState===Pu.PostingFailed)),[],[o,u]),S=(0,l.useFacetMap)(((e,t)=>e&&t.currentPostState===Pu.RateLimit),[],[o,u]),C=(0,l.useFacetMap)(((e,t,a,n)=>e&&!a&&!n&&(t.currentPostState===Pu.InProgress||t.currentPostState===Pu.Uploading)),[],[o,u,F,S]),M=(0,l.useFacetCallback)(((e,t,a)=>()=>{t||(e.clearSettingsStatus(),e.fetchSettings(a.realmId))}),[],[s,C,t]),w=r.createElement(r.Fragment,null,r.createElement(zm,{type:"header5A",align:"center"},a(".title")),r.createElement(Nm,{size:2}),r.createElement("fast-div",{className:y},r.createElement(Qp,{src:Nz,aspectRatio:Qp.AspectRatio["16:9"]})));return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:C},r.createElement(GW,null)),r.createElement(l.Mount,{when:F},r.createElement($W.Component,{onClickClose:M})),r.createElement(l.Mount,{when:S},r.createElement(XW.Component,{onClickClose:M})),r.createElement(jf,{gamepadAlias:"timeline-opt-in-scrollview",delegateFocusByAlias:"timeline-opt-in-button"},r.createElement(Cv,{noGutters:!0},r.createElement(Zf,{text:b},r.createElement(Cv.Row,null,r.createElement(l.Mount,{when:i,condition:!1},r.createElement(Cv.Column,{wideSize:6,narrowSize:0},r.createElement("div",{className:zr()(Az,Oz,n.background.base,n.border.base)},w))),r.createElement(Cv.Column,{wideSize:6,narrowSize:8},r.createElement("div",{className:zr()(Az,Oz,n.background.base,n.border.base)},r.createElement(l.Mount,{when:i},r.createElement(r.Fragment,null,w,r.createElement(Nm,{size:4}))),r.createElement("div",{className:"f63987d06d4abcbf7eb3"},r.createElement(zm,{type:"paragraphs",align:"left"},a(".body")),r.createElement(Nm,{size:4}),r.createElement(zm,{type:"paragraphs",align:"left",role:"neutral80",variant:"dimmest"},r.createElement("fast-text",{text:h})),r.createElement(Nm,{size:4})),r.createElement(Ug,{inputLegend:a(".button"),variant:"primary",gamepadAlias:"timeline-opt-in-button",onClick:v},a(".button")))))))))}!function(e){e.OptIn_Success="OptIn_Success",e.OptIn_WaitingOnOwner="OptIn_WaitingOnOwner",e.OptIn_BadAccountSettings="OptIn_BadAccountSettings",e.OptOut_InfoDialog="OptOut_InfoDialog",e.OptOut_Settings="OptOut_Settings",e.CancelOptOut_InfoDialog="CancelOptOut_InfoDialog",e.CancelOptOut_Settings="CancelOptOut_Settings",e.BackOut_InfoDialog="BackOut_InfoDialog",e.LearnMore="LearnMore",e.ViewedTimeline_OptInMessage="ViewedTimeline_OptInMessage",e.ViewedTimeline_OptedOut_TimelineDisabled="ViewedTimeline_OptedOut_TimelineDisabled",e.ViewedTimeline_TimelineContent="ViewedTimeline_TimelineContent",e.ViewedTimeline_OptedIn_TimelineDisabled="ViewedTimeline_OptedIn_TimelineDisabled",e.OptIn_TimelineRequired="OptIn_TimelineRequired",e.BackOut_TimelineRequired="BackOut_TimelineRequired"}(Lz||(Lz={}));let Wz;function Bz({sender:e,timestamp:t,image:a,content:n,containerType:o}){const i=wr("neutral"),c=(0,l.useFacetWrap)(null!=a?a:""),s=(0,l.useFacetMap)((e=>""!==e),[],[c]),{t:u}=Fc("SideStoryPostContainer"),d=(0,l.useFacetMap)(((e,t,a)=>[u(".hint",[e]),t,a].join(" . ")),[u],[e,t,n]);return r.createElement(Sx,{gamepadIndex:0,narrationPrefix:u(".name"),narrationRole:u(".role"),narrationSuffix:d,spacingAroundSideMenu:r.createElement(Nm,{size:2})},r.createElement(l.Mount,{when:s},r.createElement(r.Fragment,null,r.createElement(Sx.Item,null,r.createElement("div",{className:"d8762a02dd514c543044"},r.createElement(xl,{data:o},(e=>{switch(e){case Wz.LARGE_EVENT:return r.createElement(Qp,{src:c,aspectRatio:Qp.AspectRatio["16:9"]});case Wz.MEDIUM_EVENT:return r.createElement(r.Fragment,null,r.createElement(mB,{minWidth:64,minHeight:36,minBorderWidth:3,containerClassName:"c93c76414992ebb18852",frameClassName:"a520f66ebe23ed8a212a"}),r.createElement(dB,{src:c,minWidth:64,minHeight:36,minBorderWidth:3,className:"dea31de3d453d8b18a6c"}));case Wz.STORY:return r.createElement(Qp,{src:c,aspectRatio:Qp.AspectRatio["16:9"],className:zr()("c34e79af1fe80797f070",i.border.base)});default:return null}})))),r.createElement(Nm,{size:2}))),r.createElement(Sx.Item,null,r.createElement(zm,{type:"captionShort"},e),r.createElement(zm,{type:"captionShort",variant:"dimmer"},t),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionLong",overflowWrap:"break-word",whiteSpace:"preWrap"},n)))}var Uz;!function(e){e[e.STORY=0]="STORY",e[e.MEDIUM_EVENT=1]="MEDIUM_EVENT",e[e.LARGE_EVENT=2]="LARGE_EVENT"}(Wz||(Wz={})),function(e){e[e.DELETE=0]="DELETE",e[e.NOTIFY=1]="NOTIFY",e[e.REPORT=2]="REPORT"}(Uz||(Uz={}));const zz=yp((({isAuthor:e,isRealmOwner:t,isCommentOptions:a=!1,isEvent:n=!1,onClose:o,onDelete:i,onNotify:c,onReport:s})=>{const{t:u}=Fc("RealmsStories.feedPost"),d=u(a?".options.comment.delete":".options.delete"),m=(0,l.useFacetMap)(((e,t,a)=>{const n=[{isVisible:t||e&&!a,gamepadAlias:"OPTION-DELETE",label:d,value:Uz.DELETE},{isVisible:!t,gamepadAlias:"OPTION-NOTIFY",label:u(".options.notify"),value:Uz.NOTIFY},{isVisible:!e&&!a,gamepadAlias:"OPTION-REPORT",label:u(".options.report"),value:Uz.REPORT}].filter((e=>e.isVisible)),r=n.length;return n.map(((e,t)=>({enumeration:u(".options.enumeration",[`${t+1}`,`${r}`]),gamepadAlias:e.gamepadAlias,label:e.label,value:e.value})))}),[u,d],[(0,l.useFacetWrap)(e),(0,l.useFacetWrap)(t),(0,l.useFacetWrap)(n)]),p=(0,r.useCallback)((e=>{switch(e){case Uz.DELETE:i();break;case Uz.NOTIFY:c();break;case Uz.REPORT:s()}}),[i,c,s]);return r.createElement(YT,{onClose:o,onItemSelect:p,isOpen:!0,title:u(".options"),items:m})})),Hz="confirm-delete-story-modal",jz=yp((({onConfirm:e,onCancel:t,isCommentOptions:a})=>{const{t:n}=Fc(a?"RealmsStories.feedPost.options.comment":"RealmsStories.feedPost.options");return r.createElement($E,{defaultFocusAlias:Hz},r.createElement($E.Header,{onClose:t},n(".delete.title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:n(".delete.message.narration"),gamepadIndex:0},n(".delete.message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,gamepadAlias:Hz,inputLegend:n(".delete"),variant:"destructive",onClick:e},n(".delete")),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:1,inputLegend:n(".delete.cancel"),variant:"secondary",onClick:t,narrationSuffix:n(".delete.cancel.description")},n(".delete.cancel"))))})),Vz="confirm-notify-story-modal",Gz=yp((({onConfirm:e,onCancel:t,isCommentOptions:a})=>{const{t:n}=Fc("RealmsStories.feedPost.options.notify"),l=n(a?".message.comment":".message"),o=n(a?".message.comment.narration":".message.narration");return r.createElement($E,{defaultFocusAlias:Vz},r.createElement($E.Header,{onClose:t},n(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:o,gamepadIndex:0},l)),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,gamepadAlias:Vz,inputLegend:n(".confirm"),variant:"destructive",onClick:e},n(".confirm")),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:1,inputLegend:n(".cancel"),variant:"secondary",onClick:t,narrationSuffix:n(".cancel.description")},n(".cancel"))))})),$z="delete-failed-modal",Kz=yp((({onClose:e,isCommentOptions:t})=>{const{t:a}=Fc(t?"RealmsStories.feedPost.options.failed.comment":"RealmsStories.feedPost.options.failed");return r.createElement($E,{defaultFocusAlias:$z},r.createElement($E.Header,{onClose:e},a(".deleteTitle")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a(".deleteMessage"),gamepadIndex:0},a(".deleteMessage"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,gamepadAlias:$z,inputLegend:a(".close"),variant:"secondary",onClick:e},a(".close"))))})),Yz="notify-failed-modal",Xz=yp((({onClose:e})=>{const{t}=Fc("RealmsStories.feedPost.options.failed");return r.createElement($E,{defaultFocusAlias:Yz},r.createElement($E.Header,{onClose:e},t(".notifyTitle")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:t(".notifyMessage"),gamepadIndex:0},t(".notifyMessage"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,gamepadAlias:Yz,inputLegend:t(".close"),variant:"secondary",onClick:e},t(".close"))))})),qz="report-failed-modal",Qz=(yp((({onClose:e})=>{const{t}=Fc("RealmsStories.feedPost.options.failed");return r.createElement($E,{defaultFocusAlias:qz},r.createElement($E.Header,{onClose:e},t(".reportTitle")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:t(".reportMessage"),gamepadIndex:0},t(".reportMessage"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,gamepadAlias:qz,inputLegend:t(".close"),variant:"secondary",onClick:e},t(".close"))))})),"timeline-information-learn-more"),Zz=yp((({closeModal:e,learnMore:t})=>{const{t:a}=Fc("RealmsStories.Timeline.Information"),n=(0,r.useCallback)((()=>{e(),t()}),[t,e]);return r.createElement($E,{onOverlayClick:e,defaultFocusAlias:Qz},r.createElement($E.Header,{onClose:e},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:a(".message")},a(".message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:Qz,variant:"primary",inputLegend:a(".select"),onClick:n,narrationSuffix:a(".enumeration",["1","2"])},a(".learnMore")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:a(".select"),onClick:e,narrationSuffix:a(".enumeration",["2","2"])},a(".close"))))})),Jz="confirm-delete-story-modal",eH=yp((({reportStatus:e,onClose:t})=>{const{t:a}=Fc("RealmsStories.ReportResultModal"),n=(0,l.useFacetMap)((e=>e===Pu.Success),[],[e]),o=(0,l.useFacetMap)((e=>a(e?".title.success":".title.fail")),[a],[n]),i=(0,l.useFacetMap)((e=>a(e?".text.success":".text.fail")),[a],[n]),c=(0,l.useFacetMap)((e=>[a(".text.role"),e].join(" . ")),[a],[i]);return r.createElement($E,{defaultFocusAlias:Jz},r.createElement($E.Header,{onClose:t},o),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:c},i)),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:Jz,inputLegend:a(".button.inputLegend"),onClick:t},a(".button.close"))))}));function tH(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function aH(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tH(Object(a),!0).forEach((function(t){nH(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tH(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function nH(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let rH;!function(e){e.Post="story",e.Comment="comment"}(rH||(rH={}));var lH,oH,iH;!function(e){e[e.FeedItem=0]="FeedItem",e[e.Comment=1]="Comment",e[e.Gamertag=2]="Gamertag"}(lH||(lH={})),function(e){e[e.SexuallyInappropriate=0]="SexuallyInappropriate",e[e.Violence=1]="Violence",e[e.Harassment=2]="Harassment",e[e.Spam=3]="Spam",e[e.TerroristContent=4]="TerroristContent",e[e.SomethingElse=5]="SomethingElse"}(oH||(oH={})),function(e){e[e.ImminentHarm=0]="ImminentHarm",e[e.HateSpeech=1]="HateSpeech",e[e.Fraud=2]="Fraud",e[e.Cheating=3]="Cheating",e[e.ChildAbuse=4]="ChildAbuse",e[e.DrugsOrAlcohol=5]="DrugsOrAlcohol",e[e.Profanity=6]="Profanity",e[e.SelfHarm=7]="SelfHarm",e[e.Other=8]="Other"}(iH||(iH={}));const cH={[lH.FeedItem]:"feedItem",[lH.Comment]:"comment",[lH.Gamertag]:"gamertag"},sH={[oH.SexuallyInappropriate]:"sexuallyinappropriate",[oH.Violence]:"violenceorgore",[oH.Harassment]:"harassment",[oH.Spam]:"spamoradvertising",[oH.TerroristContent]:"terroristorviolentextremist",[oH.SomethingElse]:"somethingElse"},uH={[iH.ImminentHarm]:"imminentharmpersonsorproperty",[iH.HateSpeech]:"hatespeech",[iH.Fraud]:"fraud",[iH.Cheating]:"cheating",[iH.ChildAbuse]:"csam",[iH.DrugsOrAlcohol]:"drugsoralcohol",[iH.Profanity]:"profanity",[iH.SelfHarm]:"selfharmorsuicide",[iH.Other]:"other"};function dH(){const e=(0,l.useSharedFacet)(js),t=(0,l.useSharedFacet)(Ks),a=(0,l.useSharedFacet)(ms),n=(0,l.useSharedFacet)(ls),{t:o}=Fc("RealmsStories.ReportFeedItem"),i=wr("inherit"),c=p(),s=g(),u=h(),d=c.goBack,m=(0,l.useFacetMap)((e=>{if(null!=e.postType){if(e.postType==rH.Post)return rH.Post;if(e.postType==rH.Comment)return rH.Comment}}),[],[s]),f=(0,l.useFacetMap)((e=>e.get("postId")),[],[u]),E=(0,l.useFacetMap)(((e,t,a,n)=>{if(null!=t&&null!=e)return t===rH.Post?a.stories.find((t=>t.id===e)):n.comments.find((t=>t.id===e))}),[],[f,m,e,t]),b=(0,l.useFacetMap)(((e,t)=>{if(e){const a=t.players.find((t=>t.xuid===e.authorXuid));return a?a.gamerTag:void 0}}),[],[E,a]),v=(0,l.useFacetMap)(((e,t,a)=>null!=e&&null!=t&&null!=a?{postId:t.id,parentPostId:e===rH.Comment?t.parentId:"",authorGamertag:a,timePosted:t.timePosted,timePostedNarration:t.timePostedNarration,image:e===rH.Post?t.image:"",body:t.body}:{postId:"",parentPostId:"",authorGamertag:"",timePosted:"",timePostedNarration:"",image:"",body:""}),[],[m,E,b]),y=(0,l.useFacetMap)(((e,t,a,n)=>null!=e&&null!=t&&null!=a&&null!=n),[],[m,f,E,b]),F=(0,l.useFacetMap)(((e,t,a)=>e?t===rH.Post?o(".screenTitle.feedItem",[a.authorGamertag]):o(".screenTitle.comment",[a.authorGamertag]):o(".error.title")),[o],[y,m,v]),S=o(".hideContent"),[C,M]=(0,l.useFacetState)(!1),w=(0,l.useFacetMap)((e=>e.authorGamertag),[],[v]),k=(0,l.useFacetMap)((e=>e.timePosted),[],[v]),T=(0,l.useFacetMap)((e=>e.body),[],[v]),P=(0,l.useFacetMap)((e=>e.image),[],[v]),I=(0,l.useFacetWrap)(Wz.STORY),x=(0,l.useFacetMap)((e=>o(".targetPanel.title",[e])),[o],[w]),A=o(".targetPanel.description"),O=(0,l.useFacetMap)((e=>[e,A].join(" . ")),[A],[x]),[N,R]=(0,l.useFacetState)(lH.FeedItem);(0,l.useFacetEffect)((e=>e===rH.Post?R(lH.FeedItem):R(lH.Comment)),[R],[m]);const L=(0,l.useFacetMemo)(((e,t)=>{const a=[];return a.push(e===rH.Post?{value:lH.FeedItem,label:o(`.targetOption.${cH[lH.FeedItem]}`),gamepadAlias:cH[lH.FeedItem]}:{value:lH.Comment,label:o(`.targetOption.${cH[lH.Comment]}`),gamepadAlias:cH[lH.Comment]}),a.push({value:lH.Gamertag,label:o(`.targetOption.${cH[lH.Gamertag]}`),gamepadAlias:cH[lH.Gamertag]}),a.map(((e,a,n)=>{const r=e.value===t;return aH(aH({},e),{},{enumeration:o(".enumeration",[`${a+1}`,`${n.length+1}`]),isSelected:r,isSelectable:r})}))}),[o],[m,N]),_=(0,l.useFacetMap)((e=>o(".enumeration",[`${e.length+1}`,`${e.length+1}`])),[o],[L]),D=(0,l.useFacetMap)((e=>o(`.targetPanel.description.${cH[e]}`)),[o],[N]),[W,B]=(0,l.useFacetState)(void 0),U=(0,l.useFacetMemo)((e=>[{value:oH.SexuallyInappropriate,label:o(`.reasonOption.${sH[oH.SexuallyInappropriate]}`),gamepadAlias:sH[oH.SexuallyInappropriate]},{value:oH.Violence,label:o(`.reasonOption.${sH[oH.Violence]}`),gamepadAlias:sH[oH.Violence]},{value:oH.Harassment,label:o(`.reasonOption.${sH[oH.Harassment]}`),gamepadAlias:sH[oH.Harassment]},{value:oH.Spam,label:o(`.reasonOption.${sH[oH.Spam]}`),gamepadAlias:sH[oH.Spam]},{value:oH.TerroristContent,label:o(`.reasonOption.${sH[oH.TerroristContent]}`),gamepadAlias:sH[oH.TerroristContent]},{value:oH.SomethingElse,label:o(`.reasonOption.${sH[oH.SomethingElse]}`),gamepadAlias:sH[oH.SomethingElse]}].map(((t,a,n)=>{const r=t.value===e;return aH(aH({},t),{},{enumeration:o(".enumeration",[`${a+1}`,`${n.length+1}`]),isSelected:r,isSelectable:r})}))),[o],[W]),z=(0,l.useFacetMap)((e=>o(".enumeration",[`${e.length+1}`,`${e.length+1}`])),[o],[U]),H=(0,l.useFacetMap)((e=>e===oH.SomethingElse),[],[W]),[j,V]=(0,l.useFacetState)(void 0),G=(0,l.useFacetMemo)((e=>[{value:iH.ImminentHarm,label:o(`.somethingElseOption.${uH[iH.ImminentHarm]}`),gamepadAlias:uH[iH.ImminentHarm]},{value:iH.HateSpeech,label:o(`.somethingElseOption.${uH[iH.HateSpeech]}`),gamepadAlias:uH[iH.HateSpeech]},{value:iH.Fraud,label:o(`.somethingElseOption.${uH[iH.Fraud]}`),gamepadAlias:uH[iH.Fraud]},{value:iH.Cheating,label:o(`.somethingElseOption.${uH[iH.Cheating]}`),gamepadAlias:uH[iH.Cheating]},{value:iH.ChildAbuse,label:o(`.somethingElseOption.${uH[iH.ChildAbuse]}`),gamepadAlias:uH[iH.ChildAbuse]},{value:iH.DrugsOrAlcohol,label:o(`.somethingElseOption.${uH[iH.DrugsOrAlcohol]}`),gamepadAlias:uH[iH.DrugsOrAlcohol]},{value:iH.Profanity,label:o(`.somethingElseOption.${uH[iH.Profanity]}`),gamepadAlias:uH[iH.Profanity]},{value:iH.SelfHarm,label:o(`.somethingElseOption.${uH[iH.SelfHarm]}`),gamepadAlias:uH[iH.SelfHarm]},{value:iH.Other,label:o(`.somethingElseOption.${uH[iH.Other]}`),gamepadAlias:uH[iH.Other]}].map(((t,a,n)=>{const r=t.value===e;return aH(aH({},t),{},{enumeration:o(".enumeration",[`${a+1}`,`${n.length+1}`]),isSelected:r,isSelectable:r})}))),[o],[j]),$=(0,l.useFacetMap)((e=>o(".enumeration",[`${e.length+1}`,`${e.length+1}`])),[o],[G]),[K,Y]=(0,l.useFacetState)(""),X=(0,l.useFacetMap)((e=>[o(`.commentPanel.description.${cH[e]}`),o(".commentPanel.description.addComment")].join(" ")),[o],[N]),q=(0,l.useFacetMap)(((e,t)=>null==e||e===oH.SomethingElse&&null==t),[],[W,j]),Q=(0,l.useFacetMap)((e=>{const t=o(".enumeration",["1","2"]);return e?[t,o(".reportPanel.report.disabledHint")].join(" . "):t}),[o],[q]),Z=(0,l.useFacetCallback)(((e,t,a,n,r,l,o)=>()=>{let i="";r&&null!=l?i=uH[l]:null==n||r||(i=sH[n]),e===lH.Gamertag?t.reportGamertagToXbox(a.authorGamertag,a.postId,a.parentPostId,i,o):t.reportFeedItemToXbox(a.postId,a.parentPostId,i,o),c.goBack()}),[c],[N,n,v,W,H,j,K]);return r.createElement(yx,{onBack:d,title:F,screenAnalyticsId:"RealmsStoriesReportFeedItem",gamepadAlias:"realms-stories-report-feed-item"},(()=>r.createElement(Cv,null,r.createElement(Nm,{size:4}),r.createElement(Cv.Row,null,r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:y,condition:!1},r.createElement(Cv.Column,{wideSize:12,narrowSize:8},r.createElement(_v,{title:o(".error.title"),text:o(".error.text"),buttons:[{text:o(".error.buttonText"),onClick:d,inputLegend:o(".buttonLegend")}]}))),r.createElement(l.Mount,{when:y},r.createElement(r.Fragment,null,r.createElement(Cv.Column,{wideSize:4,narrowSize:0},r.createElement("div",{className:zr()("b87410b60b220ba30a45",i.border.base)},r.createElement(My,{title:S,value:C,onChange:M})),r.createElement(l.Mount,{when:C,condition:!1},r.createElement(Bz,{sender:w,timestamp:k,content:T,image:P,containerType:I}))),r.createElement(Cv.Column,{wideSize:8,narrowSize:8},r.createElement(jf,{floating:!0,delegateFocusFromMemory:!0},r.createElement("div",{className:zr()("adaf5aecd4888ba8ada5",i.border.base)},r.createElement(Fg,{narrationText:O},r.createElement(Cg,null,x),r.createElement(Mg,null,A),r.createElement(Nm,{size:2}),r.createElement(oA,{title:o(".targetOptions.title"),options:L,value:N,onItemSelect:R,buttonTestId:"target-dropdown-button",closeButtonNarrationSuffix:_,dropdownNarrationSuffix:D}),r.createElement(Nm,{size:4}),r.createElement(Mg,null,D)),r.createElement(Fg,{narrationText:[o(".reasonPanel.title"),o(".reasonPanel.description")].join(" . ")},r.createElement(Cg,null,o(".reasonPanel.title")),r.createElement(Mg,null,o(".reasonPanel.description")),r.createElement(Nm,{size:2}),r.createElement(oA,{title:o(".reasonOptions.title"),options:U,value:W,onItemSelect:B,placeholderText:o(".reasonOptions.placeholder"),buttonTestId:"reason-dropdown-button",closeButtonNarrationSuffix:z}),r.createElement(l.Mount,{when:H},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(oA,{title:o(".reasonOptions.title"),options:G,value:j,onItemSelect:V,placeholderText:o(".reasonOptions.placeholder"),buttonTestId:"something-else-dropdown-button",closeButtonNarrationSuffix:$})))),r.createElement(qg,{label:o(".commentPanel.title"),description:X,placeholder:o(".commentPanel.placeholder"),value:K,maxLength:350,rows:6,onChange:Y}),r.createElement(rO,{title:o(".reportPanel.title"),description:o(".reportPanel.description"),stackedButtons:!0,buttons:r.createElement(r.Fragment,null,r.createElement(Ug,{variant:"destructive",inputLegend:o(".buttonLegend"),onClick:Z,narrationSuffix:Q,disabled:q},o(".reportPanel.report")),r.createElement(rO.ButtonSpacing,null),r.createElement(Ug,{variant:"secondary",inputLegend:o(".buttonLegend"),onClick:d,narrationSuffix:o(".enumeration",["2","2"])},o(".reportPanel.cancel")))})))))))),r.createElement(Nm,{size:4}),r.createElement(LE.Space,null))))}function mH({storyComment:e}){const t=(0,l.useSharedFacet)(ms),a=(0,l.useFacetMap)((e=>e.players),[],[t]),n=(0,l.useFacetMap)((e=>e.body),[],[e]),o=(0,l.useFacetMap)((e=>e.timePosted),[],[e]),i=(0,l.useFacetMap)((e=>e.timePostedNarration),[],[e]),c=(0,l.useFacetWrap)(!1),s=(0,l.useFacetMap)((e=>e.authorXuid),[],[e]),u=(0,l.useFacetMap)(((e,t)=>{const a=Ho(t,(t=>t.xuid===e));return null!=a?a:iz}),[],[s,a]),d=(0,l.useFacetMap)((e=>e.isPrimaryUser),[],[(0,l.useSharedFacet)(Ya)]),m=(0,l.useFacetMap)((e=>0===e.totalLikes),[],[e]),p=(0,l.useFacetMap)(((e,t)=>e||!t),[],[d,m]),f=(0,l.useFacetMap)(((e,t)=>{let a=1;return e||a++,t&&(a+=2),a}),[],[m,d]);return r.createElement(wz,{body:n,timePosted:o,timePostedNarration:i,storyFeedElementCount:f,author:u,hasBottomSection:(0,l.useFacetWrap)(null==p||p),shouldShowUnreadPostBadge:c,commentPostType:!0})}function pH({storyComment:e,index:t,numberOfComments:a}){const{t:n}=Fc("RealmsStories.feedPost"),o=(0,l.useSharedFacet)(os),i=p(),c=g(),s=(0,l.useFacetMap)((e=>1===e.totalLikes?n(".totalLike",[e.totalLikes.toString()]):n(".totalLikes",[e.totalLikes.toString()])),[n],[e]),u=(0,l.useFacetMap)((e=>e.hasLiked),[],[e]),d=(0,l.useFacetMap)((e=>0===e.totalLikes),[],[e]),m=(0,l.useFacetMap)((e=>!e.isPrimaryUser),[],[(0,l.useSharedFacet)(Ya)]),f=(0,l.useSharedFacet)(ls),E=(0,l.useFacetCallback)(((e,t)=>()=>{e.toggleLikeStatus!==Pu.InProgress&&t.toggleLike(e.id,e.parentId)}),[],[e,f]),h=zz.useModal(),b=(0,l.useFacetMap)((e=>e.authorXuid),[],[e]),v=(0,l.useFacetMap)(((e,t)=>e===t.userXuid),[],[b,o]),y=(0,l.useFacetMap)((e=>e.ownerXuid===e.userXuid),[],[o]),F=jz.useModal(),S=(0,r.useCallback)((()=>{F.hide(),h.hide()}),[F,h]),C=(0,l.useFacetCallback)(((e,t)=>()=>{t.delete(e.id,e.parentId),S()}),[S],[e,f]),M=(0,l.useFacetMap)((e=>e.deleteStatus==Pu.InputInvalid||e.deleteStatus==Pu.InternalError||e.deleteStatus==Pu.UploadFailed||e.deleteStatus==Pu.PostingFailed),[],[e]),w=(0,l.useFacetCallback)(((e,t)=>()=>t.clearDeleteStatus(e.id)),[],[e,f]),k=Gz.useModal(),T=(0,r.useCallback)((()=>{k.hide(),h.hide()}),[k,h]),P=(0,l.useFacetCallback)(((e,t)=>()=>{t.reportToClubOwner(e.id,e.parentId),T()}),[T],[e,f]),I=(0,l.useFacetMap)((e=>e.reportToClubOwnerStatus==Pu.InputInvalid||e.reportToClubOwnerStatus==Pu.InternalError||e.reportToClubOwnerStatus==Pu.UploadFailed||e.reportToClubOwnerStatus==Pu.PostingFailed),[],[e]),x=(0,l.useFacetCallback)(((e,t)=>()=>t.clearReportToClubOwnerStatus(e.id)),[],[e,f]),A=(0,l.useFacetCallback)(((e,t)=>()=>{h.hide(),i.push(`/realms-stories-report-feed-item/${rH.Comment}/${e.realmId}?postId=${t.id}`)}),[i,h],[c,e]),O=(0,l.useFacetMap)((e=>e.reportToXboxStatus),[],[e]),N=(0,l.useFacetMap)((e=>e!==Pu.Idle&&e!==Pu.InProgress&&e!==Pu.RateLimit),[],[O]),R=(0,l.useFacetCallback)(((e,t)=>()=>{e.clearReportToXboxStatus(t.id)}),[],[f,e]),L=(0,l.useFacetMap)((e=>e.deleteStatus==Pu.RateLimit||e.reportToClubOwnerStatus==Pu.RateLimit||e.reportToXboxStatus==Pu.RateLimit),[],[e]),_=(0,l.useFacetCallback)((e=>()=>{e.deleteStatus==Pu.RateLimit&&w(),e.reportToClubOwnerStatus==Pu.RateLimit&&x(),e.reportToXboxStatus==Pu.RateLimit&&R()}),[w,x,R],[e]),D=(0,l.useSharedFacet)(Ac);(0,l.useFacetEffect)(((e,t,a)=>{e.reportToClubOwnerStatus===Pu.Success&&(t.queueSnackbar(n(".options.notify.toast")),a.clearReportToClubOwnerStatus(e.id))}),[n],[e,D,f]);const W=(0,l.useFacetMap)((e=>[n(".commentPostGroup"),n(".postGroupRole"),n(".postGroupEnumeration",[`${t+1}`,`${e}`])].join(" . ")),[t,n],[a]);return r.createElement(r.Fragment,null,r.createElement(Zf,{text:W},r.createElement(Mz,{content:r.createElement(mH,{storyComment:e}),index:t,totalLikes:s,hasLiked:u,hideLikes:d,readOnly:m,toggleLikeCallback:E,openOptionsCallback:h.show})),r.createElement(l.Mount,{when:h.isVisible},r.createElement(zz.Component,{isAuthor:v,isRealmOwner:y,isCommentOptions:!0,onClose:h.hide,onDelete:F.show,onNotify:k.show,onReport:A})),r.createElement(l.Mount,{when:F.isVisible},r.createElement(jz.Component,{onConfirm:C,onCancel:S,isCommentOptions:!0})),r.createElement(l.Mount,{when:M},r.createElement(Kz.Component,{onClose:w,isCommentOptions:!0})),r.createElement(l.Mount,{when:k.isVisible},r.createElement(Gz.Component,{onConfirm:P,onCancel:T,isCommentOptions:!0})),r.createElement(l.Mount,{when:I},r.createElement(Xz.Component,{onClose:x})),r.createElement(l.Mount,{when:L},r.createElement(XW.Component,{onClickClose:_})),r.createElement(l.Mount,{when:N},r.createElement(eH.Component,{reportStatus:O,onClose:R})))}function fH(){const e=f(),{t}=Fc("RealmsStories.CommentsScreen"),{t:a}=Fc("RealmsStories.feedEvent"),{t:n}=Fc("RealmsStories.feed"),o=g(),i=(0,l.useFacetMap)((e=>e.id),[],[o]),c=(0,l.useSharedFacet)(js),s=(0,l.useSharedFacet)(Ks),u=(0,l.useSharedFacet)(ss),d=(0,l.useSharedFacet)(dl),m=(0,l.useFacetMap)(((e,t)=>Ho(e.stories,(e=>e.id===decodeURIComponent(t)))),[],[c,i]),p=(0,l.useFacetMap)((e=>{var t;return null===(t=(null==e?void 0:e.commentsStatus)===Tu.InProgress)||void 0===t||t}),[],[m]),E=(0,l.useFacetMap)((e=>e?e.body:""),[],[m]),h=(0,l.useFacetMap)((e=>!!e&&(null==e?void 0:e.isEvent)&&(null==e?void 0:e.isEventLoaded)),[],[m]),b=(0,l.useFacetMap)(((e,t)=>{if(e){const e=fz(t);if(e)return"large"===e.treatmentSize?Wz.LARGE_EVENT:Wz.MEDIUM_EVENT}return Wz.STORY}),[],[h,E]),v=(0,l.useSharedFacet)(ms),y=(0,l.useFacetMap)(((e,t,a)=>{const n=[];return e&&t&&t.eventPlayerXuids.map((e=>{var t;const r=null!==(t=Ho(a.players,(t=>t.xuid===e)))&&void 0!==t?t:iz;n.push(r)})),n}),[],[h,m,v]),F=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.eventMetadata)&&void 0!==t?t:""}),[],[m]),S=Rd(70),C=(0,l.useFacetMap)(((e,t,n,r,l)=>{if(e){var o;const e="large"===(null!==(o=gz(t))&&void 0!==o?o:"medium")?uz:dz;return Ez({eventId:t,t:a,playerData:n,maxDisplayedPlayers:r?e.narrow:e.full,eventMetadata:l})}return t}),[a],[h,E,y,S,F]),M=(0,l.useFacetMap)((e=>e.players),[],[v]),w=(0,l.useFacetMap)(((e,a,n)=>{var r;return n?t(".realmEvent"):(e&&null!==(r=Ho(a,(t=>t.xuid===e.authorXuid)))&&void 0!==r?r:iz).gamerTag}),[t],[m,M,h]),k=(0,l.useFacetMap)((e=>e?e.timePosted:""),[],[m]),T=(0,l.useFacetMap)(((e,t,a)=>e?cz(a):t?t.image:""),[],[h,m,E]),P=(0,l.useFacetMap)(((e,t)=>e.comments.filter((e=>e.parentId===decodeURIComponent(t)))),[],[s,i]),I=(0,l.useFacetMap)((e=>e.length),[],[P]),x=Od(),A=(0,l.useFacetMap)((e=>e.commentInProgressBody),[],[u]),O=(0,l.useFacetCallback)((e=>t=>{e.commentInProgressBody=t}),[],[u]),N=(0,l.useSharedFacet)(ls),[R,L]=(0,l.useFacetState)(!1);(0,l.useFacetEffect)(((e,t,a,n)=>{n||a||(L(!0),e.fetchStoryComments(decodeURIComponent(t)))}),[L],[N,i,p,R]);const[_,D]=Uy(!1),W=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{By(n,t)?D.show():(a.commentInProgressBody=t,e.postComment())}),[D],[N,A,u,(0,l.useSharedFacet)(rs)]);(0,l.useFacetEffect)(((e,t)=>{e.postCommentStatus===Pu.Success&&(O(""),t.clearPostCommentStatus())}),[O],[s,N]);const B=(0,l.useFacetMap)(((e,t)=>e&&(t.postCommentStatus==Pu.InputInvalid||t.postCommentStatus==Pu.InternalError||t.postCommentStatus==Pu.UploadFailed||t.postCommentStatus==Pu.PostingFailed)),[],[e,s]),U=(0,l.useFacetMap)(((e,t)=>e&&t.postCommentStatus==Pu.RateLimit),[],[e,s]),z=(0,l.useFacetCallback)((e=>()=>{e.clearPostCommentStatus()}),[],[N]),H=(0,l.useFacetMap)(((e,t)=>""===e||t.postCommentStatus===Pu.InProgress||t.postCommentStatus===Pu.Uploading),[],[A,s]),j=(0,l.useFacetUnwrap)(H),V=wr("neutral"),G=(0,l.useFacetMap)((e=>!e.isOnline),[],[d]),$=(0,l.useFacetMap)(((e,t)=>!(!e||e.commentsStatus!==Tu.InternalError&&e.commentsStatus!==Tu.FetchFailed&&e.commentsStatus!==Tu.RateLimit||t)),[],[m,G]),K=(0,l.useFacetMap)(((e,t)=>e||t),[],[G,$]),Y=(0,l.useFacetCallback)(((e,t)=>()=>{e.fetchStoryComments(decodeURIComponent(t))}),[],[N,i]),X=(0,r.useRef)(null),q=(0,l.useFacetMap)(((e,a)=>[t(".writeYourComment"),t(".inputField"),t(".enumeration",["1","2"]),e.length>0?e:t(".inputFieldHint"),a?t(".textFieldEmptyStateNarration"):""].join(" . ")),[t],[A,H]),Q=(0,l.useFacetMap)((e=>e.isPrimaryUser),[],[(0,l.useSharedFacet)(Ya)]);return r.createElement(pr,{collection:bT},r.createElement(yx,{title:t(".header"),gamepadAlias:"realms-stories-comments-route",screenAnalyticsId:"StoriesComments",delegateByAlias:"comments-text-box"},(()=>r.createElement(Cv,null,r.createElement(l.Mount,{when:K},r.createElement(Cv.Row,{gamepadIndex:0},r.createElement(Nm,{size:"narrow"===x?0:1}),r.createElement(Cv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},r.createElement(l.Mount,{when:G},r.createElement(Tz,null)),r.createElement(l.Mount,{when:$},r.createElement(Iz,{onClick:Y,pageName:t(".header")}))),r.createElement(Nm,{size:"narrow"===x?0:1}))),r.createElement(l.Mount,{when:D.isVisible},r.createElement(Oy.Component,{onClose:D.hide})),r.createElement(l.Mount,{when:K,condition:!1},r.createElement(Cv.Row,{gamepadIndex:0,className:"a261c16139b18ed9fa05"},r.createElement(Cv.Column,{gamepadIndex:0,wideSize:4,narrowSize:0},r.createElement(Bz,{content:C,sender:w,timestamp:k,image:T,containerType:b})),r.createElement(Cv.Column,{wideSize:8,narrowSize:8,gamepadIndex:1},r.createElement(Nm,{size:2}),r.createElement(l.Mount,{when:Q},r.createElement(Yp,{containerRef:X,alias:"comments-text-box"},r.createElement("div",{ref:X,className:zr()("ea07c2ad61b8cf76002a",V.border.base)},r.createElement(l.DeferredMount,null,r.createElement(jy.WithButton,{buttonInputLegend:t(".select"),buttonText:t(".post"),buttonOnClick:W,placeholder:t(".writeYourComment"),label:"",maxLength:350,value:A,onChange:O,narrationOverride:q,buttonDisabled:H,buttonVariant:!1===j?"primary":"secondary",buttonNarrationHint:t(".enumeration",["2","2"]),onBlur:_}))))),r.createElement(l.Mount,{when:Q,condition:!1},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(pr,{collection:hT},r.createElement(AP,{role:"informative"},r.createElement(AP.Text,null,n(".guestAccountNotificationBanner")))))),r.createElement(rz,{loading:p,firstRowSeparatorVertical:r.createElement(Nm,{size:1}),data:P,header:r.createElement(Nm,{size:"narrow"===x?1:3}),gamepadIndex:1,columns:1,itemSeparatorVertical:r.createElement(Nm,{size:"narrow"===x?2:4}),renderItem:({itemFacet:e,index:t})=>r.createElement(pH,{storyComment:e,index:t,numberOfComments:I}),footer:r.createElement(Nm,{size:4})})))),r.createElement(LE.Space,null)))),r.createElement(l.Mount,{when:B},r.createElement(YW.Component,{onClickClose:z})),r.createElement(l.Mount,{when:U},r.createElement(XW.Component,{onClickClose:z})))}const gH=(0,r.createContext)({getId:()=>0,set:()=>{}}),EH=e=>{const t=(0,r.useContext)(gH),[a,n]=(0,l.useFacetState)(l.NO_VALUE);(0,r.useEffect)((()=>{a.get()==l.NO_VALUE&&n(t.getId())}),[a,n,t]),(0,l.useFacetEffect)(((e,a)=>{t.set(e,a)}),[t],[a,(0,l.useFacetWrap)(e)])};function hH({children:e,setNarrationTextState:t}){const a=(0,r.useRef)(0);return r.createElement(gH.Provider,{value:(0,r.useMemo)((()=>({getId:()=>a.current++,set:(e,a)=>t((t=>t===l.NO_VALUE?[]:(t[e]=!1===a?"":a,t)))})),[t])},e)}function bH({autofocus:e,gamepadIndex:t,children:a,onClick:n,inputLegend:o,gamepadAlias:i,onFocusChanged:c,onHoverChanged:s,narrationSuffix:u,narrationTextOverride:d,role:m="neutral",narrateCardRole:p=!0,hideShadow:f=!1,fillShadow:g=!1}){const E=Tr("neutral"),[h,b]=(0,l.useFacetState)([]),v=(0,l.useFacetWrap)(f),y=wr(m),F=(0,l.useFacetWrap)(null!=d?d:""),{t:S}=Fc("Card"),C=(0,l.useFacetMap)(((e,t,a)=>t||[...e,p?S(".narrationComponentTypeButton"):null,a].filter(Boolean).join(" . ")),[S,p],[h,F,(0,l.useFacetWrap)(null!=u?u:"")]);return r.createElement(Zn,{role:m},r.createElement("div",{className:"b7b8c8a1ff08ea3b9a84"},r.createElement(Ig,{autofocus:e,gamepadAlias:i,className:zr()("ec9b392c07ed5cf6ab91",y.border.interactive,y.text.base),classNameHovered:"c789c580faf579530149",classNamePressed:"a7ae4600c828be4684d8",gamepadIndex:t,inputLegend:o,narrationText:C,onClick:n,onFocusChanged:c,onHoverChanged:s,soundEffectPressed:E.press},r.createElement(wp,null),r.createElement(hH,{setNarrationTextState:b},a),r.createElement(l.Mount,{when:v,condition:!1},r.createElement(r.Fragment,null,r.createElement("div",{className:zr()("d78224c3fee2aec8ab8f",y.shadow.base)}),g&&r.createElement("div",{className:zr()("ea49ef6ae9d367b4b0ca",y.background.base,y.background.hover)})))),r.createElement("div",{className:zr()("c5ea9c5c22d25fa54165",y.dropShadow.base)})))}bH.Information=function({children:e,innerRef:t,narrationText:a}){const n=wr("inherit");return EH(a),r.createElement("div",{className:zr()("e5788679938579f2cc42",n.border.base,n.background.base,n.background.hover),ref:t},r.createElement(Nm,{size:2}),e,r.createElement(Nm,{size:2}))};const vH=a.p+"assets/emptyRealmSlotBig-174b3e1ac62d8732ed96.png",yH=a.p+"assets/emptyRealmSlotSmall-fe677a75d61b2e50cad2.png",FH=a.p+"assets/celebration_world_icon-46ff8b725d471803e976.jpg",SH="realm-preview-replace-preview-realm-close",CH=yp((({onConfirm:e,onClose:t})=>{const{t:a}=Fc("RealmsPreviews.ReplaceWorld"),n=a(".message");return r.createElement($E,{defaultFocusAlias:SH},r.createElement($E.Header,{onClose:t},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:n,gamepadIndex:0},n)),r.createElement($E.Buttons,null,r.createElement(Ug,{"data-testid":"replace-world-confirm-button",gamepadIndex:0,inputLegend:a(".select"),variant:"primary",onClick:e},a(".confirm")),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:1,gamepadAlias:SH,inputLegend:a(".select"),variant:"secondary",onClick:t},a(".cancel"))))}));let MH;function wH({world:e,index:t,onItemClick:a}){const{t:n}=Fc("ChooseSlotRoute"),o=(0,l.useFacetMap)((e=>e.worldName),[],[e]),i=(0,l.useFacetMap)((e=>-1===e.id?vH:e.slotImage.length>0?FH:TW),[],[e]),c=(0,l.useFacetMap)((e=>-1===e.id?n(".emptySlotHint"):n(".slotHint")),[n],[e]),s=(0,l.useFacetMap)((e=>n(".slotEnumeration",[(t+1).toString(),e.toString()])),[n,t],[c]);return r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(bH,{gamepadIndex:t,inputLegend:n(".select"),onClick:a,narrationSuffix:s},r.createElement(Qp,{src:i,aspectRatio:Qp.AspectRatio["16:9"]}),r.createElement(bH.Information,{narrationText:o},r.createElement(zm,{type:"body",verticalAlign:"center"},o))))}function kH({onItemClick:e}){return r.createElement(rz,{gamepadIndex:0,data:(0,l.useFacetMap)((e=>e.realmSlots),[],[(0,l.useSharedFacet)(Hs)]),columns:3,itemSeparatorHorizontal:r.createElement(Nm,{size:4}),renderItem:({itemFacet:t,index:a})=>r.createElement(wH,{world:t,index:a,onItemClick:()=>e(a)})})}function TH({world:e,index:t,onItemClick:a}){const{t:n}=Fc("ChooseSlotRoute"),o=(0,l.useFacetMap)((e=>e.worldName),[],[e]),i=(0,l.useFacetMap)((e=>-1===e.id?yH:e.slotImage.length>0?FH:TW),[],[e]),c=wr("neutral80"),s=(0,l.useFacetMap)(((e,a)=>n(".slotButtonNarration",[a.toString(),(t+1).toString(),-1===e.id?n(".emptySlotHint"):n(".slotHint")])),[n,t],[e,o]);return r.createElement(tw,{gamepadIndex:t,tall:!0},r.createElement(tw.Action,{inputLegend:n(".select"),narrationText:s,onClick:a},r.createElement("div",{className:"c4aacc600ea0c5c7cfdf"},r.createElement(Qp,{src:i,aspectRatio:Qp.AspectRatio["16:9"],className:zr()(c.border.base,"acfa678ff5d5d7d02287")})),r.createElement(tw.Main,null,r.createElement(zm,{type:"body"},o))))}function PH({onItemClick:e}){return r.createElement($U,{header:r.createElement(Nm,{size:2}),gamepadIndex:0,data:(0,l.useFacetMap)((e=>e.realmSlots),[],[(0,l.useSharedFacet)(Hs)]),renderItem:({itemFacet:t,index:a})=>r.createElement(TH,{world:t,index:a,onItemClick:()=>e(a)})})}function IH(){const e=Jr(),{t}=Fc("ChooseSlotRoute"),a=Rd(70),n=(0,l.useSharedFacet)(Hs),o=(0,l.useSharedFacet)(Ku),i=(0,l.useSharedFacet)(Xs),c=function(){const[e,t]=(0,l.useFacetState)(MH.IDLE),a=(0,l.useSharedFacet)(Hs),n=(0,l.useFacetCallback)(((e,a)=>n=>{e==MH.IDLE&&(t(MH.SELECTING_SLOT),a.selectSlot(n))}),[t],[e,a]),r=(0,l.useFacetCallback)((e=>()=>{t(MH.IDLE),e.reset()}),[t],[a]);return(0,l.useFacetEffect)(((e,a)=>{a==MH.SELECTING_SLOT&&(e.isSlotSelected?t(MH.SLOT_SELECTED):e.didFailToActivateSlot&&t(MH.ERROR))}),[t],[a,e]),{state:e,select:e=>n(e),reset:r}}(),s=(0,l.useFacetMap)(((e,t)=>e.isLoading&&t!==MH.SELECTING_SLOT),[],[n,c.state]),u=(0,l.useFacetMap)((e=>t(".chooseSlotHeader",[e.selectedRealmName])),[t],[n]),d=g(),m=(0,l.useFacetMap)((e=>e.id),[],[d]),p=(0,l.useSharedFacet)(Ni),f=(0,r.useRef)(!1);(0,l.useFacetEffect)(((e,t)=>{f.current||(f.current=!0,e.getSelectedRealmDetails(t))}),[f],[n,m]),(0,l.useFacetEffect)(((e,t,a,n,r)=>{a===MH.SLOT_SELECTED&&"uninitialized"!==n.currentWorldId&&(c.reset(),r.setPreviewRealmForUpload(t))}),[e,c],[p,m,c.state,o,i]),(0,l.useFacetEffect)(((e,t,a,n)=>{a===MH.SLOT_SELECTED&&"uninitialized"===n.currentWorldId&&(c.reset(),e.createWorldOnPreviewRealm(t))}),[e,c],[p,m,c.state,o]);const E=(0,l.useFacetMap)(((e,t)=>!e.isShowingConfirmationModal&&t===MH.SELECTING_SLOT),[],[n,c.state]),h=(0,l.useFacetMap)(((e,t)=>e.isShowingConfirmationModal&&t==MH.SELECTING_SLOT),[],[n,c.state]),b=(0,l.useFacetCallback)((e=>()=>{e.confirm()}),[],[n]),v=(0,l.useFacetMap)((e=>e.didFailToActivateSlot),[],[n]),y=(0,l.useFacetMap)((e=>e.didFailToQuerySelectedRealmDetails),[],[n]),F=wr("inherit"),S=t(".backHint"),C=(0,l.useFacetMap)((e=>t(".screen",[e])),[t],[u]),M=(0,l.useFacetCallback)(((e,t)=>()=>{e.didFailToQuerySelectedRealmDetails&&e.getSelectedRealmDetails(t)}),[],[n,m]);return r.createElement(av,null,r.createElement(l.Mount,{when:s},r.createElement("div",{className:zr()("b38aa75e2b386d5319d5",F.overlay.base)},r.createElement(zf,null))),r.createElement(l.Mount,{when:s,condition:!1},r.createElement(r.Fragment,null,r.createElement(ev,{text:C,interruptible:!1}),r.createElement(yv,{onBackButton:e.goBack,backButtonHint:S,center:r.createElement(zm,{type:"header5A"},u),gamepadAlias:"choose-slote-route"},r.createElement(Cv,null,r.createElement(Cv.Row,{gamepadIndex:0,fullHeight:!0},r.createElement(l.Mount,{when:y,condition:!1},r.createElement(Cv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},r.createElement(Nm,{size:2}),r.createElement(xl,{data:a},(e=>e?r.createElement(PH,{onItemClick:c.select}):r.createElement(kH,{onItemClick:c.select}))))),r.createElement(l.Mount,{when:y},r.createElement(r.Fragment,null,r.createElement(Cv.Column,{wideSize:2,narrowSize:0}),r.createElement(Cv.Column,{gamepadIndex:0,wideSize:8,narrowSize:8},r.createElement(jf,{gamepadIndex:0},r.createElement(Nm,{size:2}),r.createElement(_v,{gamepadIndex:0,title:t(".noSlotsErrorTitle"),text:t(".noSlotsErrorMessage"),imgSrc:YU,buttons:[{text:t(".noSlotsErrorButton"),inputLegend:t(".select"),onClick:M}]})))))))),r.createElement(l.Mount,{when:h},r.createElement(CH.Component,{onConfirm:b,onClose:c.reset})),r.createElement(l.Mount,{when:v},r.createElement($W.Component,{onClickClose:c.reset})),r.createElement(l.Mount,{when:E},r.createElement(VW,{onClickClose:c.reset})))),r.createElement(LE.Space,null))}!function(e){e[e.IDLE=0]="IDLE",e[e.SELECTING_SLOT=1]="SELECTING_SLOT",e[e.SLOT_SELECTED=2]="SLOT_SELECTED",e[e.ERROR=3]="ERROR"}(MH||(MH={}));const xH=a.p+"assets/connection_error-01bc20883b3a2f7e5fb3.png";function AH(){const{t:e}=Fc("ConnectionErrorRoute"),t=p(),a=h(),n=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("titleMessage"))&&void 0!==t?t:""}),[],[a]),o=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("errorMessage"))&&void 0!==t?t:""}),[],[a]),i=my({wide:8,narrow:6,width:260}),c=(0,l.useFacetMap)((e=>e?"abcbddaf875309ce98f8":"f1276eafe8be1fdf7a0c"),[],[i]);return r.createElement(av,null,r.createElement(Cv,null,r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{wideSize:10,narrowSize:8},r.createElement(Nm,{size:6}),r.createElement(_v.Wrapper,null,r.createElement(_v.Title,{children:n}),r.createElement(_v.Image,{imgClass:c,imgSrc:xH}),r.createElement(_v.Text,{children:o}),r.createElement(_v.ButtonsWrapper,null,r.createElement(_v.Button,{onClick:t.goBack},e(".backToMenu"))))),r.createElement(Cv.Column,{wideSize:1,narrowSize:0}))))}function OH({realmPlayer:e,index:t,role:a="neutral",isSimpleLayout:n=!1,totalPlayers:o}){const{t:i}=Fc("RealmsStories"),c=(0,l.useFacetMap)((e=>e.gamerTag),[],[e]),s=(0,l.useFacetMap)((e=>e.gamerIcon),[],[e]),u=p(),d=(0,l.useFacetCallback)((e=>()=>u.push(AI(e.xuid))),[u],[e]),m=(0,l.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[e]),f=(0,l.useFacetMap)((e=>{switch(e.role){case ds.OWNER:return"";case ds.OPERATOR:return i(".members.operator");case ds.MEMBER:return i(".members.member");case ds.VISITOR:default:return i(".members.visitor")}}),[i],[e]),g=(0,l.useFacetMap)((e=>e.isInRealm?i(".feed.inRealm"):e.isOnline?i(".feed.online"):i(".feed.offline")),[i],[e]),E=(0,l.useFacetMap)(((e,a,r,l)=>[e,i(".RealmPlayerListItem.role"),a,n?void 0:r,null!=l?i(".narrationPlayerXOfY",[t.toString(),l.toString()]):void 0,i(".RealmPlayerListItem.hint")].filter((e=>e)).join(" . ")),[i,t,n],[c,g,f,(0,l.useFacetWrap)(o)]),h=(0,l.useFacetMap)((e=>e.role!==ds.OWNER&&!1===n),[n],[e]),b=(0,l.useFacetMap)((e=>e.role===ds.VISITOR?"neutral100":"primaryTint"),[],[e]),v=r.createElement(_y,{role:b},f),y=(0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>e.role===ds.OPERATOR),[],[e])),F=y!=l.NO_VALUE&&y?hT:bT;return r.createElement(tw,null,r.createElement(tw.Action,{narrationText:E,inputLegend:i(".RealmPlayerListItem.viewProfile"),onClick:d,role:a},r.createElement(tw.Cell,null,r.createElement(uk,{src:s,variant:"large",status:m})),r.createElement(tw.Main,null,r.createElement(zm,{type:"body"},c),!n&&r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(zm,{type:"body",variant:"dimmer"},r.createElement(xm,null,g)))),r.createElement(l.Mount,{when:h},r.createElement(tw.Cell,null,r.createElement(pr,{collection:F},v)))))}const NH=(e,t,a)=>(0,l.useFacetMemo)(((e,t)=>{if(t.length<=a)return t;const n=FT(t);let r=0;const l=n.findIndex((t=>t.xuid===e.ownerXuid));if(l>=0&&RH(n,l,r++),e.userXuid!==e.ownerXuid){const t=n.findIndex((t=>t.xuid===e.userXuid));t>=0&&RH(n,t,r++)}const o=FT(n,r).sort(((e,t)=>Number(t.hasOptedIn)-Number(e.hasOptedIn)));return n.splice(r,n.length,...o),FT(n,0,a)}),[a],[e,t]),RH=(e,t,a)=>[e[t],e[a]]=[e[a],e[t]],LH="e5c8dc5ed69e16e52880",_H=a.p+"assets/members-empty-320294d3b2376f2da601.png";function DH(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function WH(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?DH(Object(a),!0).forEach((function(t){BH(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):DH(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function BH(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function UH({isStoriesRouteActive:e,maximumDisplayedMembers:t}){const a=null!=t?t:300,n=(0,l.useSharedFacet)(ss),o=(0,l.useSharedFacet)(ms),i=(0,l.useSharedFacet)(os),c=(0,l.useSharedFacet)(dl),s=(0,l.useSharedFacet)(ls),u=Od(),{t:d}=Fc("RealmsStories"),{t:m}=Fc("RealmsStories.members"),{t:f}=Fc("Realms.LoadingModals"),{t:E}=Fc("TextField"),h=(0,l.useFacetMap)((e=>e.userXuid),[],[i]),b=(0,l.useFacetMap)((e=>e.ownerXuid),[],[i]),v=(0,l.useFacetMap)(((e,t,a)=>a.isPrimaryUser&&e===t),[],[h,b,(0,l.useSharedFacet)(Ya)]),y=(0,l.useFacetMap)((e=>e.currentMemberFilterOption),[],[n]),F=(0,l.useFacetMap)((e=>e.currentMemberSearchText),[],[n]),S=(0,l.useFacetMap)((e=>e.currentMemberSortOption),[],[n]),[C,M]=(0,l.useFacetState)(!1),w=(0,l.useFacetMemo)((e=>{const t=[];return t.push({label:m(".allMembers"),value:is.All},{label:m(".onlineMembers"),value:is.Online},{label:m(".inRealmMembers"),value:is.InRealm}),t.map(((t,a,n)=>WH(WH({},t),{},{enumeration:m(".enumeration",[`${a+1}`,`${n.length}`]),gamepadAlias:`gamepad-alias-filter-${t.label}`,isSelectable:!0,isSelected:t.value===e})))}),[m],[y]),k=(0,l.useFacetMemo)(((e,t)=>{const a=[];return t!==is.InRealm&&a.push({label:m(".recentlyPlayed"),value:cs.MostRecent},{label:m(".leastRecentlyPlayed"),value:cs.LeastRecent}),a.push({label:m(".fromAtoZ"),value:cs.AlphabeticalAscending},{label:m(".fromZtoA"),value:cs.AlphabeticalDescending}),a.map(((t,a,n)=>WH(WH({},t),{},{enumeration:m(".enumeration",[`${a+1}`,`${n.length}`]),gamepadAlias:`gamepad-alias-sort-${t.label}`,isSelectable:!0,isSelected:t.value===e})))}),[m],[S,y]),T=(0,l.useFacetCallback)((e=>()=>{e.currentMemberFilterOption!==is.InRealm||e.currentMemberSortOption!==cs.LeastRecent&&e.currentMemberSortOption!==cs.MostRecent||(e.currentMemberSortOption=cs.AlphabeticalAscending)}),[],[n]),P=(0,l.useFacetMap)(((e,t)=>jw(e.players,(e=>e.xuid!=t&&e.role!==ds.NONMEMBER))),[],[o,b]),I=(0,l.useFacetMap)(((e,t)=>0===t.length?jw(e,(e=>e.fetchProfileStatus===Tu.Success)):jw(e,(e=>e.gamerTag.toLowerCase().includes(t.toLowerCase())))),[],[P,F]),x=NH(i,I,a-1),A=NH(i,x,a-1),O=Rz(x),N=(0,l.useFacetMemo)(((e,t,a)=>{let n=e.allMembers;if(t===is.Online)n=e.onlinePlayers;else if(t===is.InRealm&&(n=e.inRealmPlayers,a===cs.LeastRecent||a===cs.MostRecent))return n;let r=[];switch(a){case cs.AlphabeticalAscending:r=n.sort(ps);break;case cs.AlphabeticalDescending:r=n.sort(fs);break;case cs.LeastRecent:r=function(e){return e.sort(hs)}(n);break;case cs.MostRecent:default:r=gs(n)}return r}),[],[O,y,S,x]);(0,l.useFacetEffect)(((e,t)=>{!e&&t&&M(!1)}),[M],[e,C]);const R=(0,l.useFacetMap)((e=>e.length),[],[N]),L=(0,l.useFacetMap)((e=>e.length>0),[],[N]),_=(0,l.useFacetMap)((e=>null!=Ho(e,(e=>e.fetchProfileStatus===Tu.InProgress))),[],[N]),D=(0,l.useFacetMap)(((e,t)=>e.fetchMembersStatus===Tu.InProgress||e.fetchOnlineMembersStatus===Tu.InProgress||t),[],[o,_]),W=(0,l.useFacetMap)(((e,t)=>Ho(e.players,(e=>e.xuid===t))),[],[o,b]),B=(0,l.useFacetMap)(((e,t,a)=>null!=e&&!(t===is.Online&&!e.isOnline)&&!(t===is.InRealm&&!e.isInRealm)&&(0===a.length||e.gamerTag.toLowerCase().includes(a.toLowerCase()))),[],[W,y,F]),U=(0,l.useFacetMap)(((e,t)=>e||t),[],[L,B]),{narrateText:z}=Hf({interruptible:!1}),[H,j]=(0,l.useFacetState)(!1),V=(0,l.useFacetCallback)(((e,t,n,r,l)=>()=>{if(!e)return;j(!1);let o=r.length,i=l.length;n&&(o+=1,i+=1);const c=[m(".searchResult.name"),m(".searchResult.role")];""===t.currentMemberSearchText?c.push(m(".searchResult.hint.cleared")):0===i?c.push(m(".searchResult.hint.noResult")):1===i?c.push(m(".searchResult.hint.oneResult")):i<a?c.push(m(".searchResult.hint.multiResult",[`${o}`])):(c.push(m(".warning")),c.push(m(".searchResult.hint.multiResultTooManyPlayers",[`${i}`,`${o}`]))),z(c.join(" . "))}),[j,z,m,a],[H,n,B,I,N,A]);(0,l.useFacetEffect)((()=>{V()}),[V],[A]);const G=(0,l.useFacetMap)((e=>{const t=[m(".search"),E(".narrationComponentType"),m(".enumeration",["1","3"])];return e.currentMemberSearchText&&t.push(e.currentMemberSearchText),t.join(" . ")}),[m,E],[n]),[$,K]=(0,l.useFacetState)(!1),Y=(0,l.useFacetCallback)(((e,t,a)=>n=>{j(!0),e.currentMemberSearchText=n,t&&z(a)}),[z,j],[n,$,G]),X=(0,l.useFacetMap)((e=>[m(".realmOwner"),m(".section"),m(".enumeration",["1",e?"2":"1"])].join(" . ")),[m],[L]),q=(0,l.useFacetMap)((e=>[m(".realmMembers"),m(".section"),m(".enumeration",e?["2","2"]:["1","1"])].join(" . ")),[m],[B]),Q=(0,l.useIsDeferring)(),Z=(0,l.useIsPaused)(),J=(0,l.useFacetMap)(((e,t)=>t||e||Z),[Z],[Q,D]),ee=(0,l.useFacetMap)((e=>!e.isOnline),[],[c]),te=(0,l.useFacetMap)(((e,t)=>(e.fetchMembersStatus===Tu.InternalError||e.fetchMembersStatus===Tu.FetchFailed||e.fetchMembersStatus===Tu.RateLimit)&&!t),[],[o,ee]),ae=(0,l.useFacetMap)(((e,t)=>e||t),[],[ee,te]),ne=(0,l.useFacetCallback)((e=>()=>{e.fetchMembers()}),[],[s]),re=g(),le=p(),oe=(0,l.useSharedFacet)(mc),ie=(0,l.useFacetCallback)(((e,t)=>()=>{le.push(`/${t.isInGame?"game-settings":"settings"}/members/${e.realmId}`),M(!0)}),[le,M],[re,oe]),ce=(0,l.useFacetMap)((e=>e.players.length>a),[a],[o]);return r.createElement(l.DeferredMountProvider,null,r.createElement(Cv,{noGutters:!0},r.createElement(l.Mount,{when:ae},r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{wideSize:10,narrowSize:8},r.createElement(l.Mount,{when:ee},r.createElement(Tz,null)),r.createElement(l.Mount,{when:te},r.createElement(Iz,{onClick:ne,pageName:d(".members")}))),r.createElement(Cv.Column,{wideSize:1,narrowSize:0}))),r.createElement(l.Mount,{when:ae,condition:!1},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:ce},r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:12,narrowSize:8},r.createElement(xz,null)),r.createElement(Nm,{size:4}))),r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:4,narrowSize:8},r.createElement(bg,{"data-testid":"member-search-field-id",placeholder:m(".search"),narrationText:G,onSelectedChange:K,placeholderIcon:Eg.MagnifyingGlass,value:F,onBlur:Y,maxLength:20,shouldBlurOnEscape:!0,shouldBlurOnEnter:!0})),r.createElement(Cv.Column,{wideSize:4,narrowSize:4},r.createElement("div",{className:LH},r.createElement(Nm,{size:"narrow"===u?2:0}),r.createElement(oA,{title:m(".filter.title"),options:w,value:y,onItemSelect:(0,l.useFacetCallback)((e=>t=>{e.currentMemberFilterOption=t,T()}),[T],[n]),buttonTestId:"realms-members-filter-dropdown-button",dropdownOptionRoleHint:m(".filter.title"),dropdownEnumeration:m(".enumeration",["2","3"])}))),r.createElement(Cv.Column,{wideSize:4,narrowSize:4},r.createElement("div",{className:LH},r.createElement(Nm,{size:"narrow"===u?2:0}),r.createElement(oA,{title:m(".sort.title"),options:k,value:S,onItemSelect:(0,l.useFacetCallback)((e=>t=>{e.currentMemberSortOption=t}),[],[n]),buttonTestId:"realms-members-sort-dropdown-button",dropdownOptionRoleHint:m(".sort.title"),dropdownEnumeration:m(".enumeration",["3","3"])})))),r.createElement(Nm,{size:3}),r.createElement(l.Mount,{when:v,condition:!1},r.createElement("div",{className:"a68f055d1f8d619b3153"},r.createElement(dP,{role:"neutral80",reversed:!1}))),r.createElement(zH,{isOwner:v,onManageMembers:ie},r.createElement(l.Mount,{when:v},r.createElement(dP,{role:"neutral80",reversed:!1})),r.createElement(jf,{loading:J,delegateFocusFromMemory:!0},r.createElement(Nm,{size:2}),r.createElement(l.Mount,{when:U},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:B},r.createElement(r.Fragment,null,r.createElement(Zf,{text:X},r.createElement(PF,{role:"primary",label:m(".realmOwner")}),r.createElement(l.With,{data:W},(e=>r.createElement(OH,{realmPlayer:e,index:0})))),r.createElement(Nm,{size:2}))),r.createElement(l.Mount,{when:L},r.createElement(r.Fragment,null,r.createElement(Zf,{text:q},r.createElement(PF,{role:"primary",label:m(".realmMembers")}),!1===Z&&r.createElement(l.Map,{array:N},((e,t)=>r.createElement(OH,{realmPlayer:e,index:t+1,totalPlayers:R})))))))),r.createElement(l.Mount,{when:U,condition:!1},r.createElement(l.DeferredMount,null,r.createElement(_v,{title:m(".noMembersFound"),imgSrc:_H,imgClass:yU()}))),r.createElement(Nm,{size:1}))))),r.createElement(l.Mount,{when:C},r.createElement(Ay.Component,{title:f(".loading")}))))}function zH({children:e,isOwner:t,onManageMembers:a}){const{t:n}=Fc("RealmsStories.members");return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:t},r.createElement(Cv.Row,{fullHeight:!0},r.createElement(Cv.Column,{wideSize:4,narrowSize:3},r.createElement(Ug,{inputLegend:n(".manage"),variant:"secondary",gamepadAlias:"manage-members-button",onClick:a},n(".manage"))),r.createElement(Cv.Column,{wideSize:8,narrowSize:5},e))),r.createElement(l.Mount,{when:t,condition:!1},r.createElement(Cv.Row,{fullHeight:!0},r.createElement(Cv.Column,{wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{wideSize:10,narrowSize:8},e),r.createElement(Cv.Column,{wideSize:1,narrowSize:0}))))}const HH=a.p+"assets/empty-592da933a6c054615c04.png";function jH(){const e=p(),{t}=Fc("RealmsStories.OptedOutMembers"),a=(0,l.useSharedFacet)(os),n=(0,l.useSharedFacet)(ms),o=(0,l.useFacetMap)((e=>gs(jw(e.players,(e=>!e.hasOptedIn&&e.role!==ds.NONMEMBER)))),[],[n]),i=NH(a,o,300),c=(0,l.useFacetMap)((e=>e.length),[],[i]),s=(0,l.useFacetMap)((e=>e>0),[],[c]),u=(0,l.useFacetMap)(((e,t)=>t.length<e.length),[],[o,i]),d=(0,l.useFacetMap)((e=>e.fetchMembersStatus===Tu.InProgress||e.fetchOnlineMembersStatus===Tu.InProgress),[],[n]),m=(0,l.useFacetMap)((e=>null!=Ho(e,(e=>e.fetchProfileStatus===Tu.InProgress))),[],[i]),f=(0,l.useIsDeferring)(),g=(0,l.useIsPaused)(),E=(0,l.useFacetMap)(((e,t,a)=>e||t||a||g),[g],[d,m,f]),h=t(".header"),b=t(".screen",[h]),v=[b,t(".listName"),t(".listRole")].join(" . "),y=yU();return r.createElement(pr,{collection:bT},r.createElement(av,{role:"primary"},r.createElement(yv,{onBackButton:e.goBack,center:r.createElement(zm,{type:"header5A"},h),gamepadAlias:"realms-stories-opted-out-members"},r.createElement(l.DeferredMountProvider,null,r.createElement(Cv,null,r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{wideSize:10,narrowSize:8},r.createElement(Nm,{size:2}),r.createElement(jf,{loading:E,delegateFocusFromMemory:!0},r.createElement(xl,{data:s},(e=>e?r.createElement(Zf,{text:v},r.createElement(l.Mount,{when:u},r.createElement(r.Fragment,null,r.createElement(xz,{forOptedOutMembers:!0}),r.createElement(Nm,{size:2}))),r.createElement(l.Map,{array:i},((e,t)=>r.createElement(OH,{realmPlayer:e,index:t+1,totalPlayers:c})))):r.createElement(l.DeferredMount,null,r.createElement(Zf,{text:b},r.createElement(_v,{title:t(".noOptedOutMembers"),imgSrc:HH,imgClass:y}))))),r.createElement(Nm,{size:2}))),r.createElement(Cv.Column,{wideSize:1,narrowSize:0})))))))}const VH=a.p+"assets/IconBootsGrey-142a375cbe9eecc3879d.png";function GH(){return GH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},GH.apply(null,arguments)}const $H=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("b5b5407f0d97ad460ab9",t);return r.createElement(Qp,GH({},a,{className:n,src:VH,imageRendering:"pixelated"}))},KH=a.p+"assets/IconClockGrey-ea5642bd84ad58714dd4.png";function YH(){return YH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},YH.apply(null,arguments)}const XH=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("c6a638bbbcaac5994e7e",t);return r.createElement(Qp,YH({},a,{className:n,src:KH,imageRendering:"pixelated"}))},qH=a.p+"assets/IconSwordGrey-9087f66e9056b3b959aa.png";function QH(){return QH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},QH.apply(null,arguments)}const ZH=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("c56e4813735a8064a6df",t);return r.createElement(Qp,QH({},a,{className:n,src:qH,imageRendering:"pixelated"}))},JH=a.p+"assets/IconPickaxeGrey-cb118f7d544ff4fce2e2.png";function ej(){return ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ej.apply(null,arguments)}const tj=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("cfe8b3843ef1053a24d2",t);return r.createElement(Qp,ej({},a,{className:n,src:JH,imageRendering:"pixelated"}))},aj="cc5bc5ac25b30e8245f4",nj=({item:e,index:t,listLength:a})=>{const{t:n}=Fc("StatListItem"),o=(0,l.useFacetMap)((e=>null==e.compareData||e.data.value>=e.compareData.value),[],[e]),i=(0,l.useFacetMap)((e=>null!=e.compareData&&e.data.value<=e.compareData.value),[],[e]),c=function(e){switch(e){case jo.Boots:return r.createElement($H,null);case jo.Clock:return r.createElement(XH,null);case jo.Sword:return r.createElement(ZH,null);case jo.Pickaxe:return r.createElement(tj,null);default:return r.createElement(r.Fragment,null)}}((0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>e.icon),[],[e])));return r.createElement(tw,{gamepadIndex:t,isFocusable:!0,narrationText:(0,l.useFacetMap)(((e,a)=>[e.label,null==e.compareData?e.data.narration:n(".compareNarration",[e.data.narration,e.compareData.narration]),n(".itemNarration",[`${t+1}`,`${a}`])].join(" . ")),[t,n],[e,a])},r.createElement(tw.Cell,{direction:"row"},r.createElement(Nm,{size:2}),r.createElement(l.Mount,{when:o},c),r.createElement(l.Mount,{when:o,condition:!1},r.createElement("div",{className:aj}))),r.createElement(tw.Main,null,r.createElement(zm,{type:"captionShort",variant:"dimmest"},(0,l.useFacetMap)((e=>e.label),[],[e])),r.createElement("div",{className:"c180ae5a8a2048980319"},r.createElement(zm,{type:"captionShort"},(0,l.useFacetMap)((e=>e.data.display),[],[e])),r.createElement(l.With,{data:(0,l.useFacetMap)((e=>null==e.compareData?void 0:e.compareData.display),[],[e])},(e=>r.createElement(zm,{type:"captionShort"},e)))),r.createElement(l.With,{data:(0,l.useFacetMap)((e=>{if(null!=e.compareData)return 0===e.compareData.value&&0===e.data.value?.5:e.data.value/(e.data.value+e.compareData.value)}),[],[e])},(e=>r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(Zg,{percentage:e,fillComplement:!0}))))),r.createElement(tw.Cell,{direction:"row"},r.createElement(l.Mount,{when:i},c),r.createElement(l.Mount,{when:i,condition:!1},r.createElement("div",{className:aj})),r.createElement(Nm,{size:2})))};function rj(e,t){return{gamerIcon:e.xblProfilePic,gamerTag:e.xblName,playingOnServerId:void 0,variant:t?"self":"player",xuid:e.xuid,favoriteStatus:e.favoriteStatus,presenceMessage:"",presence:e.presence,titleName:e.titleName}}const lj="compare-stats-player-item-0";function oj({currentProfileFacet:e,loadedProfileFacet:t,statisticsFacet:a}){const{t:n}=Fc("CompareStatsRoute");(0,l.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,t.currentPlatformId)}),[],[(0,l.useSharedFacet)(Zc),(0,l.useSharedFacet)(Wu)])();const o=(0,l.useFacetMap)(((e,t)=>e.state.xblState===Xc.Loaded&&t.state.xblState===Xc.Loaded),[],[t,e]),i=(0,l.useFacetMap)((e=>rj(e.data,!1)),[],[t]),c=(0,l.useFacetMap)((e=>rj(e.data,!0)),[],[e]),s=(0,l.useFacetWrap)(2),u=(0,l.useFacetMap)((e=>e.data.map((e=>({label:e.label,icon:e.icon,data:{value:e.currentUserValueRaw,display:e.currentUserValueDisplay,narration:e.currentUserValueNarration},compareData:{value:e.valueRaw,display:e.valueDisplay,narration:e.valueNarration}})))),[],[a]),d=(0,l.useFacetMap)((e=>!e.loaded),[],[a]);return r.createElement(yx,{title:n(".header"),screenAnalyticsId:"CompareStats",gamepadAlias:"compare-stats-route",delegateByAlias:lj},(()=>r.createElement(Cv,{narrowBreakpointWidth:102},r.createElement(Cv.Row,{gamepadIndex:0,fullHeight:!0},r.createElement(Cv.Column,{gamepadIndex:0,wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{gamepadIndex:0,wideSize:10,narrowSize:8},r.createElement($U,{header:r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:o},r.createElement(Zf,{text:[n(".playerItemsNarration"),n(".playerItemsListRole")].join(" . ")},r.createElement(Nm,{size:2}),r.createElement("div",{className:"e8fe377d691702899c5f"},r.createElement(JB,{item:c,index:0,listLength:s,disabled:!0,gamepadAlias:lj,profileEntryPoint:Qc.Profile_CompareStatsCurrent}),r.createElement(Nm,{size:2}),r.createElement(JB,{item:i,index:1,listLength:s,disabled:!0,gamepadAlias:"compare-stats-player-item-1",profileEntryPoint:Qc.Profile_CompareStatsLoaded})),r.createElement(Nm,{size:2})))),gamepadIndex:0,data:u,gamepadAlias:"compare-stats-list",renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>r.createElement(nj,{item:e,index:t,listLength:a}),loading:d,footer:r.createElement(r.Fragment,null,r.createElement(LE.Space,null),r.createElement(Nm,{size:2}))}))))))}let ij;!function(e){e.Feed="feed",e.Members="members",e.Timeline="timeline"}(ij||(ij={}));function cj({playerData:e,iconSize:t}){const a=(0,l.useFacetMap)((e=>e.gamerIcon),[],[e]);return r.createElement(uk,{src:a,status:"offline",variant:t})}function sj({players:e,normalIconCount:t=5,narrowIconCount:a=1,iconSize:n="medium"}){const o="narrow"===Od()?a:t,i=(0,l.useFacetMap)((e=>e.length>o),[o],[e]),c=(0,l.useFacetMap)(((e,t)=>t?e.slice(e.length-o,e.length).reverse():e.slice().reverse()),[o],[e,i]),s=(0,l.useFacetMap)((e=>"+"+(e.length-o)),[o],[e]);return r.createElement("div",{className:"a99cdb17939621b70f4c"},r.createElement(l.Map,{array:c},((e,t)=>r.createElement(r.Fragment,null,r.createElement(cj,{playerData:e,iconSize:n}),t<o-1&&r.createElement(Nm,{size:1})))),r.createElement(l.Mount,{when:i},r.createElement("div",{className:"e23a8bfac9763d43033e"},r.createElement(Nm,{size:1}),r.createElement(zm,{type:"captionShort",variant:"dimmer"},s))))}const uj=a.p+"assets/realms_milestone_blank_medium-595d0ea07f52a4852445.png",dj=a.p+"assets/realms_no_player_icon-215e26cd2efdb79fe605.png";function mj({eventId:e,timePosted:t,timePostedNarration:a,storyFeedElementCount:n,shouldShowUnreadPostBadge:o,image:i,involvedPlayers:c,coordinates:s,eventMetadata:u}){const d=Rd(70),{t:m}=Fc("RealmsStories.feedEvent"),p=(0,l.useSharedFacet)($s),f=(0,l.useFacetMap)((e=>0==e.length?[{gamerTag:"",gamerIcon:dj,hasOptedIn:!0}]:e),[],[c]),g=(0,l.useFacetWrap)(null!=i?i:uj),E=(0,l.useFacetMap)(((e,t)=>!!t.realmCoordinatesStatus&&e.length>0),[],[s,p]),h=(0,l.useFacetMap)(((e,t)=>e?m(".coordinatePrefix")+" "+t.join(", ").toString():""),[m],[E,s]),b=m(".title"),v=(0,l.useFacetWrap)(null!=u?u:""),y=(0,l.useFacetMap)(((e,t,a,n)=>Ez({t:m,eventId:e,playerData:t,maxDisplayedPlayers:a?dz.narrow:dz.full,eventMetadata:n})),[m],[e,f,d,v]),F=(0,l.useFacetMap)(((e,t,a,n)=>[b,m(".narration.textblock"),m(".enumeration",["1",`${n}`]),e,t,a].join(" . ")),[m,b],[a,y,h,n]),S=wr("neutral"),C=wr("neutral80"),M=wr("informative");return r.createElement(Tm,{inputLegend:!1,narrationText:F,className:zr()(S.border.base,M.background.base),classNameFocused:kp},r.createElement("div",{className:zr()("d08de630d73b915ef411",S.border.base)},r.createElement(Nm,{size:2}),r.createElement("div",{className:"aa39822fe5bcd932014e"},r.createElement("div",null,r.createElement(sj,{players:f,normalIconCount:dz.full,narrowIconCount:dz.narrow,iconSize:"small"})),r.createElement(Nm,{size:3}),r.createElement("div",{className:"de11b1964924c8fb188a"},r.createElement("div",{className:"ab2abb77475b8193116c"},r.createElement(zm,{verticalAlign:"center",type:"body",align:"left",role:"neutral80"},r.createElement(xm,null,b))),r.createElement("div",{className:"b3e4ff64ba170a5b63a8"},r.createElement(zm,{verticalAlign:"center",type:"captionShort",align:"right",role:"neutral80",variant:"dimmer"},t)))),r.createElement(l.Mount,{when:o},r.createElement("div",{className:"c5c80b40d520c9753427"},r.createElement(iF,{role:"secondary"})))),r.createElement("div",{className:zr()("a0c10a8da86be15719ff",S.border.base,C.background.base)},r.createElement(Nm,{size:2}),r.createElement("div",{className:"f84ecaad7d05d843ab11"},r.createElement(l.Mount,{when:d,condition:!1},r.createElement(r.Fragment,null,r.createElement("div",{className:"d43510b163a1d5425654"},r.createElement("div",{className:"a333d235a5f450856c5c"}),r.createElement(Qp,{className:"b3334e9cd17606346c08",src:g,imageRendering:"pixelated"})),r.createElement(Nm,{size:4}))),r.createElement("div",{className:"dc3ea5d0457d89cf42d3"},r.createElement(zm,{verticalAlign:"center",type:"body",role:"neutral80"},y),r.createElement(l.Mount,{when:E},r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(_y,{role:"neutral100"},h)))))),r.createElement(wp,null))}function pj({eventId:e,timePosted:t,timePostedNarration:a,storyFeedElementCount:n,shouldShowUnreadPostBadge:o,image:i,involvedPlayers:c,eventMetadata:s}){const{t:u}=Fc("RealmsStories.feedEvent"),d=u(".title"),m=Rd(70),p=wr("neutral"),f=wr("informative"),g=wr("neutral80"),[E,h]=(0,l.useFacetState)("0px"),b=(0,r.useRef)(null);Bd(b,(({width:e})=>{h(e/1.778+"px")}));const v=(0,l.useFacetWrap)(i),y=(0,l.useFacetWrap)(null!=s?s:""),F=(0,l.useFacetMap)(((e,t,a,n)=>Ez({t:u,eventId:e,playerData:t,maxDisplayedPlayers:a?uz.narrow:uz.full,eventMetadata:n})),[u],[e,c,m,y]),S=(0,l.useFacetMap)(((e,t,a,n)=>{const r=a.map((e=>e.gamerTag));return[d,u(".narration.textblock"),u(".enumeration",["1",`${n}`]),e,t,u(".playersInvolved"),r].join(" . ")}),[u,d],[a,F,c,n]);return r.createElement(Tm,{inputLegend:!1,narrationText:S,className:zr()(p.border.base,f.background.base),classNameFocused:kp},r.createElement("div",{className:zr()("ed288867b6beb176f924",p.border.base,f.background.base)},r.createElement("div",{className:"cf9d9776cd81c614b447"},r.createElement(zm,{type:"body",align:"left",role:"neutral80"},r.createElement(xm,null,d))),r.createElement("div",{className:"adaa0467a7ffd14f26d4"},r.createElement(zm,{type:"captionShort",align:"right",role:"neutral80",variant:"dimmer"},t)),r.createElement(l.Mount,{when:o},r.createElement("div",{className:"cc6a828218818936c72f"},r.createElement(iF,{role:"secondary"})))),r.createElement("fast-div",{ref:b,className:zr()("ecc5b9c48396bf2f92f4",g.background.base),style:{height:E}},r.createElement("div",{className:"c6cdd73f6fb84e21044d"},r.createElement(Qp,{aspectRatio:Qp.AspectRatio["16:9"],src:v})),r.createElement("div",{className:"ea4dfd0abd62d5dff14d"},r.createElement(Nm,{size:4}),r.createElement(zm,{type:"header5B",align:"center",role:"neutral80"},F),r.createElement(Nm,{size:2}),r.createElement(sj,{players:c,normalIconCount:uz.full,narrowIconCount:uz.narrow,iconSize:"medium"}),r.createElement(Nm,{size:4}))),r.createElement(wp,null))}const fj=e=>{const t=Od(),a=(0,l.useFacetMap)((e=>0===e.totalLikes),[],[e]),n=(0,l.useFacetMap)((e=>e.isPrimaryUser),[],[(0,l.useSharedFacet)(Ya)]);return(0,l.useFacetMap)(((e,a)=>{let n=2;return a&&(n+=2),e||n++,"narrow"!=t&&n++,n}),[t],[a,n])};function gj({realmStory:e,onContentClicked:t}){const a=(0,l.useSharedFacet)(ms),n=(0,l.useSharedFacet)(os),o=(0,l.useSharedFacet)($s),i=(0,l.useFacetMap)((e=>e.body),[],[e]),c=(0,l.useFacetMap)((e=>e.timePosted),[],[e]),s=(0,l.useFacetMap)((e=>e.timePostedNarration),[],[e]),u=(0,l.useFacetMap)((e=>e.image),[],[e]),d=(0,l.useFacetMap)((e=>e.authorXuid),[],[e]),m=(0,l.useFacetMap)((e=>e.players),[],[a]),p=(0,l.useFacetMap)(((e,t)=>{const a=Ho(t,(t=>t.xuid===e));return null!=a?a:iz}),[],[d,m]),f=(0,l.useFacetMap)((e=>e.hasViewed),[],[e]),g=(0,l.useFacetMap)(((e,t,a,n)=>!e&&t!==a.userXuid&&n.realmNotificationsStatus),[],[f,d,n,o]),E=fj(e);return r.createElement(wz,{body:i,timePosted:c,timePostedNarration:s,storyFeedElementCount:E,shouldShowUnreadPostBadge:g,image:u,author:p,onContentClicked:t})}function Ej({realmStory:e}){const t=(0,l.useSharedFacet)(ms),a=(0,l.useSharedFacet)($s),n=(0,l.useFacetMap)((e=>e.players),[],[t]),o=(0,l.useFacetMap)((e=>e.body),[],[e]),i=(0,l.useFacetMap)((e=>e.timePosted),[],[e]),c=(0,l.useFacetMap)((e=>e.timePostedNarration),[],[e]),s=(0,l.useFacetMap)((e=>e.hasViewed),[],[e]),u=(0,l.useFacetMap)(((e,t)=>!e&&t.realmNotificationsStatus),[],[s,a]),d=(0,l.useFacetMap)((e=>pz.has(e.body)?cz(e.body):""),[],[e]),m=(0,l.useFacetMap)((e=>{const t=[];if(e.isEvent&&e.isEventLoaded)for(let a=0;a<e.eventPlayerXuids.length;a++)t.push(e.eventPlayerXuids[a]);return t}),[],[e]),p=(0,l.useFacetMap)(((e,t)=>t.filter((t=>e.includes(t.xuid))).map((e=>null!=e&&""!=e.gamerTag?e:iz))),[],[m,n]),f=(0,l.useFacetMap)((e=>e.isEventLoaded&&e.isEvent&&e.eventHasCoordinates?[e.eventXCoordinate,e.eventYCoordinate,e.eventZCoordinate]:[]),[],[e]),g=(0,l.useFacetMap)((e=>{var t;return null!==(t=gz(e.body))&&void 0!==t?t:"medium"}),[],[e]),E=(0,l.useFacetMap)((e=>e.eventMetadata),[],[e]),h=fj(e);return r.createElement(xl,{data:g},(e=>{switch(e){case"medium":return r.createElement(mj,{eventId:o,timePosted:i,timePostedNarration:c,storyFeedElementCount:h,shouldShowUnreadPostBadge:u,image:d,involvedPlayers:p,coordinates:f,eventMetadata:E});case"large":return r.createElement(pj,{eventId:o,timePosted:i,timePostedNarration:c,storyFeedElementCount:h,shouldShowUnreadPostBadge:u,image:d,involvedPlayers:p,eventMetadata:E});default:return null}}))}function hj({realmStory:e,index:t,numberOfStories:a,deleteStory:n,onContentClicked:o}){const i=(0,l.useSharedFacet)(ls),c=(0,l.useSharedFacet)(ss),s=(0,l.useSharedFacet)(os),{t:u}=Fc("RealmsStories.feedPost"),d=p(),m=g();!function(e){const t=(0,l.useSharedFacet)(ls),a=(0,l.useFacetMap)((e=>e.id),[],[e]),n=(0,l.useFacetMap)((e=>e.toggleLikeStatus),[],[e]);(0,l.useFacetEffect)(((e,t,a)=>{e===Pu.Success&&t.clearToggleLikeStatus(a)}),[],[n,t,a])}(e),function(e){const t=(0,l.useSharedFacet)(ls),a=(0,l.useFacetMap)((e=>e.id),[],[e]),n=(0,l.useFacetMap)((e=>e.imageStatus),[],[e]);(0,l.useFacetEffect)(((e,t,a)=>{e===Tu.Idle&&t.fetchStoryImage(a)}),[],[n,t,a])}(e),function(e){const t=(0,l.useSharedFacet)(ls),a=(0,l.useFacetCallback)((e=>t=>{e.setViewed(t,"")}),[],[t]);(0,l.useFacetEffect)((e=>{e.setViewedStatus===Pu.Idle&&a(e.id)}),[a],[e])}(e);const f=(0,l.useFacetMap)((e=>!e.isPrimaryUser),[],[(0,l.useSharedFacet)(Ya)]),E=(0,l.useFacetMap)((e=>1===e.totalComments?u(".totalComment",[e.totalComments.toString()]):u(".totalComments",[e.totalComments.toString()])),[u],[e]),h=(0,l.useFacetMap)((e=>1===e.totalLikes?u(".totalLike",[e.totalLikes.toString()]):u(".totalLikes",[e.totalLikes.toString()])),[u],[e]),b=(0,l.useFacetMap)((e=>e.hasLiked),[],[e]),v=(0,l.useFacetMap)((e=>0===e.totalLikes),[],[e]),y=(0,l.useSharedFacet)(js),F=g(),S=(0,l.useFacetMap)((e=>e.realmId),[],[F]),C=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{t.currentStoryId=e.id,Vs(a.stories),d.push(`/realms-story-comments/${encodeURIComponent(e.id)}/${n}`)}),[d],[e,c,y,S]),M=(0,l.useFacetCallback)(((e,t)=>()=>{e.toggleLikeStatus===Pu.Idle&&t.toggleLike(e.id,"")}),[],[e,i]),w=zz.useModal(),k=(0,l.useFacetMap)((e=>e.authorXuid),[],[e]),T=(0,l.useFacetMap)(((e,t)=>e===t.userXuid),[],[k,s]),P=(0,l.useFacetMap)((e=>e.ownerXuid===e.userXuid),[],[s]),I=(0,l.useFacetMap)((e=>e.isEventLoaded&&e.isEvent),[],[e]),x=(0,l.useFacetMap)((e=>!e.isEvent||e.isEventLoaded),[],[e]),A=jz.useModal(),O=(0,r.useCallback)((()=>{A.hide(),w.hide()}),[A,w]),N=(0,l.useFacetCallback)((e=>()=>{n(e.id),O()}),[n,O],[e,i]),R=Gz.useModal(),L=(0,r.useCallback)((()=>{R.hide(),w.hide()}),[R,w]),_=(0,l.useFacetCallback)(((e,t)=>()=>{t.reportToClubOwner(e.id,""),L()}),[L],[e,i]),D=(0,l.useFacetMap)((e=>e.reportToClubOwnerStatus==Pu.InputInvalid||e.reportToClubOwnerStatus==Pu.InternalError||e.reportToClubOwnerStatus==Pu.UploadFailed||e.reportToClubOwnerStatus==Pu.PostingFailed),[],[e]),W=(0,l.useFacetCallback)(((e,t)=>()=>t.clearReportToClubOwnerStatus(e.id)),[],[e,i]),B=(0,l.useFacetCallback)(((e,t)=>()=>{w.hide(),d.push(`/realms-stories-report-feed-item/${rH.Post}/${e.realmId}?postId=${t.id}`)}),[d,w],[m,e]),U=(0,l.useFacetMap)((e=>e.reportToXboxStatus),[],[e]),z=(0,l.useFacetMap)((e=>e!==Pu.Idle&&e!==Pu.InProgress&&e!==Pu.RateLimit),[],[U]),H=(0,l.useFacetCallback)(((e,t)=>()=>{e.clearReportToXboxStatus(t.id)}),[],[i,e]),j=(0,l.useSharedFacet)(Ac);(0,l.useFacetEffect)(((e,t,a)=>{e.reportToClubOwnerStatus===Pu.Success&&(t.queueSnackbar(u(".options.notify.toast")),a.clearReportToClubOwnerStatus(e.id))}),[u],[e,j,i]);const V=(0,l.useFacetMap)((e=>e.reportToClubOwnerStatus==Pu.RateLimit||e.reportToXboxStatus==Pu.RateLimit),[],[e]),G=(0,l.useFacetCallback)((e=>()=>{e.reportToClubOwnerStatus==Pu.RateLimit&&W(),e.reportToXboxStatus==Pu.RateLimit&&H()}),[W,H],[e]),$=(0,l.useFacetMap)((e=>[u(".storyPostGroup"),u(".postGroupRole"),u(".postGroupEnumeration",[`${t+1}`,`${e}`])].join(" . ")),[t,u],[a]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:x},r.createElement(Zf,{text:$},r.createElement(Mz,{content:r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:I},r.createElement(Ej,{realmStory:e})),r.createElement(l.Mount,{when:I,condition:!1},r.createElement(gj,{realmStory:e,onContentClicked:o}))),index:t,totalComments:E,totalLikes:h,hasLiked:b,hideLikes:v,readOnly:f,openCommentsCallback:C,toggleLikeCallback:M,openOptionsCallback:w.show}))),r.createElement(l.Mount,{when:w.isVisible},r.createElement(zz.Component,{isAuthor:T,isRealmOwner:P,isEvent:I,onClose:w.hide,onDelete:A.show,onNotify:R.show,onReport:B})),r.createElement(l.Mount,{when:A.isVisible},r.createElement(jz.Component,{onConfirm:N,onCancel:O,isCommentOptions:!1})),r.createElement(l.Mount,{when:R.isVisible},r.createElement(Gz.Component,{onConfirm:_,onCancel:L,isCommentOptions:!1})),r.createElement(l.Mount,{when:D},r.createElement(Xz.Component,{onClose:W})),r.createElement(l.Mount,{when:V},r.createElement(XW.Component,{onClickClose:G})),r.createElement(l.Mount,{when:z},r.createElement(eH.Component,{reportStatus:U,onClose:H})))}let bj;!function(e){e[e.IDLE=0]="IDLE",e[e.DELETING_POST=1]="DELETING_POST",e[e.SWAPING_PAGE=2]="SWAPING_PAGE",e[e.ERROR=3]="ERROR"}(bj||(bj={}));const vj=yp((({src:e,isLoading:t=!1,onClose:a,narrationText:n,closeNarration:o,closeInputLegend:i})=>{const c=(0,r.useRef)(null),s=(0,l.useFacetWrap)(t);return r.createElement("div",{className:"a5cd7cebe15b66ff4ea8"},r.createElement("div",{className:"db27406151565e5eff65"},r.createElement(Zf,{text:n},r.createElement("div",{ref:c,className:"b568fdba539205785282"},r.createElement(Yp,{containerRef:c,shouldBindFocus:!0,delegateFocusFromMemory:!0},r.createElement(l.Mount,{when:s},r.createElement("div",{className:"a10a7c7951be7771ec68"},r.createElement(zf,null))),r.createElement(l.Mount,{when:s,condition:!1},r.createElement(Qp,{src:e,className:"a8a0ff68df75e9928ac1",cover:!0})),r.createElement(Xf,{onClick:a,options:{button:j.B,inputLegend:i}}),r.createElement("div",{className:"b270615b9a056a787250"},r.createElement(Ug,{inputLegend:i,narrationPrefix:o,Icon:iv,onClick:a,"data-testid":"fullImageModalCloseButtonTestId"})))))),r.createElement(LE.Space,null))}));function yj(){const e=Rd(102.3),t=(0,l.useSharedFacet)(js),a=(0,l.useSharedFacet)(ms),n=(0,l.useSharedFacet)(ls),o=(0,l.useSharedFacet)(Rs),i=(0,l.useSharedFacet)(dl),c=(0,l.useSharedFacet)(ss),{t:s}=Fc("RealmsStories"),{t:u}=Fc("RealmsStories.feed"),d="story-entry-like-0",m=p(),f=Ce(),E=Od(70,100);let h=1,b=4,v=6,y=10;"narrow"===E?(h=0,b=3,v=5,y=8):"tablet"===E&&(h=0,v=8,y=12);const F=(0,r.useRef)(!0);(0,l.useFacetEffect)(((e,t)=>{F.current&&(e.loadStoriesSlice(0,t.pageLength),F.current=!1)}),[],[n,t]);const S=(0,l.useFacetMap)((e=>e?2:7),[],[e]),C=(0,l.useFacetMap)((e=>!e.storiesFirstPageReady),[],[t]),M=(0,l.useFacetMap)((e=>e.stories),[],[t],(()=>()=>!1)),w=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.stories.length)&&void 0!==t?t:0}),[],[t]),[k,T]=(0,l.useFacetState)(1),P=(0,r.useRef)(null),I=(0,l.useFacetMap)((e=>Math.ceil(e.totalStories/e.pageLength)),[],[t]),x=(0,l.useFacetCallback)(((e,t)=>a=>{Vs(t.stories),T(a);const n=(a-1)*t.pageLength,r=n+t.pageLength;e.loadStoriesSlice(n,r),P.current&&(P.current.scrollTop=0),f(d)}),[T,f],[n,t]),A=function(e,t){const[a,n]=(0,l.useFacetState)(bj.IDLE),[r,o]=(0,l.useFacetState)(""),[i,c]=(0,l.useFacetState)(0),[s,u]=(0,l.useFacetState)(Pu.Idle),d=(0,l.useSharedFacet)(js),m=(0,l.useSharedFacet)(ls),p=(0,l.useFacetCallback)(((e,t)=>a=>{e===bj.IDLE&&(o(a),n(bj.DELETING_POST),t.delete(a,""))}),[n,o],[a,m]),f=(0,l.useFacetCallback)(((e,t,a)=>()=>{e!==bj.IDLE&&(e===bj.ERROR&&(t.clearDeleteStatus(a),u(Pu.Idle)),o(""),c(0),n(bj.IDLE))}),[o,c,n,u],[a,m,r]);return(0,l.useFacetEffect)(((e,a,r,l)=>{if(e!==bj.DELETING_POST)return;const o=r.stories.find((e=>e.id===a));o?o.deleteStatus!==Pu.InputInvalid&&o.deleteStatus!==Pu.InternalError&&o.deleteStatus!==Pu.UploadFailed&&o.deleteStatus!==Pu.PostingFailed&&o.deleteStatus!==Pu.RateLimit||(u(o.deleteStatus),n(bj.ERROR)):r.totalStories>0&&0===r.stories.length&&l>1?(c(l),n(bj.SWAPING_PAGE),t(l-1)):f()}),[u,n,f,c,t],[a,r,d,e]),(0,l.useFacetEffect)(((e,t,a,n)=>{e===bj.SWAPING_PAGE&&t!==a&&0!==n.stories.length&&f()}),[t,e,f],[a,e,i,d]),{state:a,error:s,delete:e=>p(e),reset:f}}(k,x),O=(0,l.useFacetMap)((e=>e===Pu.InputInvalid||e===Pu.InternalError||e===Pu.UploadFailed||e===Pu.PostingFailed),[],[A.error]),N=(0,l.useFacetMap)((e=>e===Pu.RateLimit),[],[A.error]),R=(0,l.useFacetMap)(((e,t)=>0===e.length&&t===bj.IDLE),[],[M,A.state]),L=(0,l.useFacetMap)(((e,t)=>{const a=gs(jw(e.players,(e=>0!==e.lastSeenTime))),n=Math.min(t,a.length),r=[];for(let e=0;e<n;e++)r.push({xuid:a[e].xuid,gamerTag:a[e].gamerTag,gamerIcon:a[e].gamerIcon,role:a[e].role,isOnline:a[e].isOnline,isInRealm:a[e].isInRealm,fetchProfileStatus:a[e].fetchProfileStatus,lastSeenTime:a[e].lastSeenTime,hasOptedIn:a[e].hasOptedIn});return r}),[],[a,S]),_=(0,l.useFacetMap)((e=>e.length),[],[L]),D=(0,l.useFacetMap)((e=>e.fetchMembersStatus!==Tu.Success),[],[a]),W=(0,l.useFacetMap)(((e,t,a)=>e||t.fetchSessionStatus!==Tu.Success||!a.every((e=>e.fetchProfileStatus===Tu.Success))),[],[D,o,L]),B=(0,l.useFacetMap)((e=>e.length>0),[],[L]),U=g(),z=(0,l.useFacetMap)((e=>e.realmId),[],[U]),H=(0,l.useFacetCallback)(((e,t)=>()=>{Vs(e.stories),m.push(`/realms-new-story/${t}`)}),[m],[t,z]),j=(0,l.useFacetMap)((e=>!e.isOnline),[],[i]),V=(0,l.useFacetMap)(((e,t)=>(e.storiesStatus===Tu.InternalError||e.storiesStatus===Tu.FetchFailed||e.storiesStatus===Tu.RateLimit)&&!t),[],[t,j]),G=(0,l.useFacetMap)(((e,t)=>e||t),[],[j,V]),$=(0,l.useFacetMap)(((e,t)=>t.storiesFirstPageReady&&e),[],[R,t]),K=(0,l.useFacetCallback)((e=>()=>{e.clearStoryFeedStatus(),e.fetchStories()}),[],[n]);(0,l.useFacetEffect)((e=>{e.newPostAvailable&&(e.newPostAvailable=!1,x(1))}),[x],[c]);const Y=(0,r.useRef)(null),[X,q]=(0,l.useFacetState)(""),Q=vj.useModal(),Z=(0,r.useCallback)((e=>{q(e.image),Q.show()}),[Q,q]),J=(0,l.useFacetMap)((e=>[u(".fullImage",[e.name]),u(".fullImageRole")].join(" . ")),[u],[(0,l.useSharedFacet)(os)]),ee=(0,l.useFacetMap)((e=>e.isPrimaryUser),[],[(0,l.useSharedFacet)(Ya)]);return r.createElement(l.DeferredMountProvider,null,r.createElement(Cv,{noGutters:!0},r.createElement(l.DeferredMount,null,r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:G},r.createElement(Cv.Row,{gamepadIndex:0},r.createElement(Cv.Column,{wideSize:h,narrowSize:h}),r.createElement(Cv.Column,{wideSize:y,narrowSize:8},r.createElement(l.Mount,{when:j},r.createElement(Tz,null)),r.createElement(l.Mount,{when:V},r.createElement(Iz,{onClick:K,pageName:s(".storyFeed")}))),r.createElement(Cv.Column,{wideSize:1,narrowSize:0}))),r.createElement(l.Mount,{when:Q.isVisible},r.createElement(vj.Component,{src:X,onClose:Q.hide,narrationText:J,closeNarration:u(".fullImageClose"),closeInputLegend:u(".fullImageClose")})),r.createElement(l.Mount,{when:G,condition:!1},r.createElement(Cv.Row,{fullHeight:!0},r.createElement(Cv.Column,{wideSize:h,narrowSize:h}),r.createElement(Cv.Column,{wideSize:b,narrowSize:b},r.createElement(Yp,{containerRef:Y,delegateFocusByAlias:"add-story-button"},r.createElement("div",{ref:Y,className:"d8a0d6aafe8f1b58eaaa"},r.createElement(l.Mount,{when:ee},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(Ug,{inputLegend:u(".addStory"),variant:"hero",gamepadAlias:"add-story-button",onClick:H},u(".addStory")))),r.createElement(l.Mount,{when:B},r.createElement(Zf,{text:`${u(".recentlyPlayed")} . ${u(".recentlyPlayedComponentRole")}`},r.createElement(jf,{loading:W,delegateFocusFromMemory:!0},r.createElement(Nm,{size:2}),r.createElement(PF,{role:"primary",label:u(".recentlyPlayed")}),r.createElement(l.Map,{array:L},((e,t)=>r.createElement(OH,{realmPlayer:e,index:t+1,isSimpleLayout:!0,totalPlayers:_}))))))))),r.createElement(Cv.Column,{wideSize:v,narrowSize:v,gamepadIndex:1},r.createElement(l.DeferredMount,null,r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:$},r.createElement(_v,{autofocus:!0,title:u(".emptyStoryFeedTitle"),text:u(".emptyStoryFeedText")})),r.createElement(l.Mount,{when:O},r.createElement(Kz.Component,{onClose:A.reset,isCommentOptions:!1})),r.createElement(l.Mount,{when:N},r.createElement(XW.Component,{onClickClose:A.reset})),r.createElement(jf,{innerRef:P,loading:C,scrollIntoViewAlign:"center",gamepadAlias:"story-feed-posts-wrapper",delegateFocusByAlias:d,delegateFocusFromMemory:!0,renderTracker:e=>r.createElement(Ny,{renderingCompleted:e,type:"meaningful"})},r.createElement(l.Mount,{when:ee,condition:!1},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(pr,{collection:hT},r.createElement(AP,{role:"informative"},r.createElement(AP.Text,null,u(".guestAccountNotificationBanner")))))),r.createElement(Nm,{size:1}),r.createElement(l.Map,{array:M},((e,t)=>r.createElement(Fj,{storyPost:e,totalStories:w,index:t,deleteStory:A.delete,onContentClicked:Z}))),r.createElement(Nm,{size:3}),r.createElement(SP,{totalPages:I,currentPage:k,onChange:x}),r.createElement(Nm,{size:1})))))))))))}function Fj({storyPost:e,totalStories:t,index:a,deleteStory:n,onContentClicked:o}){const i=Od(),c=(0,l.useFacetMap)((e=>a===e-1),[a],[t]);return r.createElement(r.Fragment,null,0===a&&r.createElement(Nm,{size:1}),a>0&&r.createElement(Nm,{size:"narrow"===i?2:4}),r.createElement(hj,{realmStory:e,index:a,numberOfStories:t,deleteStory:n,onContentClicked:o}),r.createElement(l.Mount,{when:c},r.createElement(Nm,{size:1})))}const Sj=a.p+"assets/generic-empty-fd3eaf870915431ee566.png";function Cj({headerSegmentData:e=(0,l.createStaticFacet)({text1:"text1",text2:"text2",narrationText:"",darkenLevel:0,size:1})}){const t=wr("neutral60"),a=wr("neutral"),n=wr("neutral80"),o=(0,l.useFacetMap)((e=>`cacb2259488b1bcbd305 ${a.border.base} ${0===e.darkenLevel?t.background.base:1===e.darkenLevel?a.background.base:n.background.base}`),[t,a,n],[e]),i=(0,l.useFacetMap)((e=>e.narrationText),[],[e]),c=(0,l.useFacetMap)((e=>e.text1),[],[e]),s=(0,l.useFacetMap)((e=>e.text2),[],[e]),u=(0,l.useFacetMap)((e=>""!==e.text2),[],[e]);return r.createElement("fast-div",{className:"f7f588121278ea75d3c8",style:{width:(0,l.useFacetMap)((e=>100*e.size+"%"),[],[e])}},r.createElement("fast-div",{className:o},r.createElement(zm,{type:"body",align:"center"},c),r.createElement(l.Mount,{when:u},r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(zm,{type:"body",align:"center",variant:"dimmer"},s)))),dn()?r.createElement("div",{className:"c49079b0e7bbd4cec88e"},r.createElement(Tm,{classNameFocused:zr()("df4dc1fcbf68dfa22af0",a.outline.base),inputLegend:!1,narrationText:i,onClick:()=>{}},r.createElement("div",{className:"aadce915272d44a1d926"}))):null)}function Mj({rowData:e}){return r.createElement("div",{className:"ce1849b594ffa527674e"},r.createElement(l.Map,{array:e},(e=>r.createElement(Cj,{headerSegmentData:e}))))}function wj({gamerIcon:e,gamerTag:t,onlineStatus:a,onClick:n}){const o=(0,l.useFacetWrap)(a),i=(0,l.useFacetWrap)(e),c=wr("neutral"),{t:s}=Sc("PlayerTag"),u=(0,l.useFacetMap)((e=>[e,s(".role"),s(".hint")].join(" . ")),[s],[(0,l.useFacetWrap)(t)]);return r.createElement(Tm,{inputLegend:s(".viewProfile"),narrationText:u,onClick:n,className:zr()("dd638cd02a970673aca7",c.background.base,c.border.base,c.background.interactive),classNameFocused:zr()("ddc435cdf9fecbc886e3",c.outline.base)},r.createElement(uk,{src:i,status:o,variant:"medium"}),r.createElement("div",{className:"f8dc9df5257ff2328476"},r.createElement(zm,{type:"body",align:"left"},r.createElement(xm,null,t))),r.createElement(Lp,{effect:"bevel"}))}const kj="e8b9cffa210e522d7ee3";function Tj({laneSegmentData:e}){const t=(0,l.useFacetWrap)(null!=e?e:{darkenLevel:0,narrationText:""}),a=wr("neutral80"),n=wr("neutral"),o=(0,l.useFacetMap)((e=>zr()(0===e.darkenLevel?n.background.base:2===e.darkenLevel?a.shadow.base:a.background.base,"a26e341716e7f9818dbb",n.border.base)),[n,a],[t]);return r.createElement("div",{className:kj},r.createElement("fast-div",{className:o}))}function Pj({gamepadIndex:e,laneSegmentData:t}){const a=(0,l.useFacetWrap)(null!=t?t:{darkenLevel:0,narrationText:""}),n=(0,l.useFacetMap)((e=>e.narrationText),[],[a]),o=wr("neutral");return r.createElement("div",{className:kj},r.createElement(Tm,{classNameFocused:zr()("c348abe50962bcc099c2",o.outline.base),gamepadIndex:e,inputLegend:!1,narrationText:n,onClick:()=>{}},r.createElement("div",{className:"db7e68e414baacf65554"})))}const Ij=["dataViz01","dataViz02","dataViz03","dataViz04","dataViz05","dataViz06","dataViz07"];function xj({unitWidth:e,color:t,blockData:a}){const n=wr(Ij[t%Ij.length]),o=wr("neutral");return r.createElement("fast-div",{className:zr()("f8be81aaaa6e5177b115",n.background.base),style:{left:(0,l.useFacetMap)((t=>t.start*e*100+"%"),[e],[a]),width:(0,l.useFacetMap)((t=>t.size*e*100+"%"),[e],[a])}},r.createElement("div",{className:"c95734e6ef4a0ed6d962"},r.createElement("div",{className:zr()("a7167c600977227028d0",o.border.base)})))}function Aj({isDarker:e=!1,numberOfSegments:t,maximumBlockCount:a,highlightedSegment:n=-1,blackenedSegmentBefore:o=-1,blackenedSegmentAfter:i=-1,gamepadIndex:c,blocks:s,blockColor:u,narrationText:d=(0,l.createStaticFacet)([])}){const m=1/a,p=(0,l.useFacetWrap)(n),f=(0,l.useFacetWrap)(o),g=(0,l.useFacetWrap)(i),E=(0,l.useFacetMap)(((a,n,r,l)=>{const o=[];for(let i=0;i<t;i++)o.push({darkenLevel:i===a?0:i<n&&-1!==n||i>r&&-1!==r||e?2:1,narrationText:i<l.length?l[i]:""});return o}),[t,e],[p,f,g,d]);return r.createElement(r.Fragment,null,r.createElement("div",{className:"d26cfb14b94708de77ad"},r.createElement(l.Map,{array:E},(e=>r.createElement(Tj,{laneSegmentData:e}))),r.createElement(l.Map,{array:s},(e=>r.createElement(xj,{blockData:e,unitWidth:m,color:u}))),dn()?r.createElement("div",{className:"f8bb2f68641ff846d56f"},r.createElement(l.Map,{array:E},((e,t)=>r.createElement(Pj,{laneSegmentData:e,gamepadIndex:c+t})))):null))}const Oj="b641537fc557f60ed386",Nj="ac8c2a158bd38668b033",Rj="f981461e4493cdaf54e1",Lj="e1e158f92eb3994eb1a1",_j="bb6603b424b14cc1fb2a",Dj="de3514d46b9233287435",Wj="dfb4b3c63b7d17ca8c5b",Bj="af128bf75aa7a3df464c",Uj=[".month00",".month01",".month02",".month03",".month04",".month05",".month06",".month07",".month08",".month09",".month10",".month11"],zj=[".monthShort00",".monthShort01",".monthShort02",".monthShort03",".monthShort04",".monthShort05",".monthShort06",".monthShort07",".monthShort08",".monthShort09",".monthShort10",".monthShort11"],Hj=[".day0",".day1",".day2",".day3",".day4",".day5",".day6"],jj=[".dayShort0",".dayShort1",".dayShort2",".dayShort3",".dayShort4",".dayShort5",".dayShort6"],Vj=1440,Gj=864e5;function $j(){{const e=new Date;return e.setHours(13),e}}const Kj=36e5,Yj=a.p+"assets/timeline-options-20a5e0d4ba1cdec040f9.png";var Xj;!function(e){e[e.ABOUT=0]="ABOUT",e[e.MEMBERS=1]="MEMBERS",e[e.OPT_OUT=2]="OPT_OUT"}(Xj||(Xj={}));const qj={[Xj.ABOUT]:"OPTION-ABOUT",[Xj.MEMBERS]:"OPTION-MEMBERS",[Xj.OPT_OUT]:"OPTION-OPT_OUT"},Qj=yp((({onClose:e,onClickAbout:t,onClickMembers:a,onClickOptOut:n})=>{const{t:o}=Fc("RealmsStories.Timeline.OptionsModal"),i=(0,l.useSharedFacet)(ms),c=(0,l.useFacetMap)((e=>jw(e.players,(e=>e.role!==ds.NONMEMBER))),[],[i]),s=Rz(c),u=(0,l.useFacetMap)((e=>e.optedOutPlayers.length),[],[s]),d="3",m=(0,l.useFacetMap)((e=>[{enumeration:o(".options.enumeration",["1",d]),gamepadAlias:qj[Xj.ABOUT],label:o(".options.about"),value:Xj.ABOUT},{enumeration:o(".options.enumeration",["2",d]),gamepadAlias:qj[Xj.MEMBERS],label:o(".options.members",[`${e}`]),value:Xj.MEMBERS},{enumeration:o(".options.enumeration",["3",d]),gamepadAlias:qj[Xj.OPT_OUT],label:o(".options.optOut"),value:Xj.OPT_OUT}]),[o,d],[u]),p=(0,r.useCallback)((e=>{switch(e){case Xj.ABOUT:t();break;case Xj.MEMBERS:a();break;case Xj.OPT_OUT:n()}}),[t,a,n]);return r.createElement(YT,{onClose:e,onItemSelect:p,isOpen:!0,title:o(".options"),items:m})})),Zj=yp((({onClose:e,onOptOutCompleted:t,onOptOutCancelled:a})=>{const n="Opt-Out-Button",{t:l}=Fc("RealmsStories"),{t:o}=Fc("RealmsStories.OptOutModal"),i=(0,r.useCallback)((()=>{e(),t()}),[e,t]),c=(0,r.useCallback)((()=>{e(),a()}),[e,a]),s=o(".title"),u=[o(".message"),o(".title")],d=u.join(" . ");return r.createElement($E,{defaultFocusAlias:n},r.createElement($E.Header,{onClose:e},s),r.createElement($E.Content,null,r.createElement($E.Paragraphs,{narrationText:d,spaceBetweenParagraphs:5},u.map(((e,t)=>r.createElement(zm,{key:t,type:"captionLong"},e))))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:n,inputLegend:l(".select"),variant:"destructive",onClick:i,narrationSuffix:o(".enumeration",["1","2"])},o(".confirm")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:l(".select"),variant:"secondary",onClick:c,narrationSuffix:o(".enumeration",["2","2"])},o(".cancel"))))}));function Jj(){const e=(0,r.useRef)(!1),t=g(),a=(0,l.useFacetMap)((e=>e.realmId),[],[t]);(0,l.useFacetEffect)(((t,a)=>{e.current||(t.clearSettingsStatus(),t.init(a),e.current=!0)}),[e],[(0,l.useSharedFacet)(ls),a])}const eV=yp((({playNow:e,openStories:t})=>{const a="Play-Realms-Button",{t:n}=Fc("RealmsStories"),{t:l}=Fc("RealmsStories.ShareLink"),o=l(".title"),i=l(".message");return r.createElement($E,{defaultFocusAlias:a},r.createElement($E.Header,null,o),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:i},i)),r.createElement($E.Buttons,null,r.createElement(pr,{collection:bT},r.createElement(Ug,{gamepadAlias:a,gamepadIndex:0,inputLegend:n(".select"),variant:"primary",onClick:e},l(".playNow")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:n(".select"),gamepadIndex:1,variant:"secondary",onClick:t},l(".openStories")))))}));function tV(){const e=p(),t=g(),a=eV.useModal(!0),n=CO.useModal(!1),o=f(),i=(0,l.useSharedFacet)(os),c=(0,l.useSharedFacet)(ls),s=(0,l.useSharedFacet)(xc);Jj();const u=(0,l.useFacetMap)(((e,t)=>e&&!t.isRealmWorldValid&&t.isFetchingRealmWorld),[],[o,i]),d=(0,r.useCallback)((()=>{e.goBack()}),[e]),m=(0,l.useFacetMap)(((e,t)=>e&&!t.isRealmWorldValid&&!t.isFetchingRealmWorld),[],[o,i]),E=(0,l.useFacetMap)(((e,t,a)=>e&&t.isRealmWorldValid&&!t.isFetchingRealmWorld&&a),[],[o,i,a.isVisible]),h=(0,l.useFacetMap)(((e,t)=>e&&t),[],[o,n.isVisible]),b=(0,l.useFacetCallback)(((e,t,r)=>()=>{t.isHardcore&&!r.doNotShowHardcoreModeWarning?(a.hide(),n.show()):(e.joinRealmFromInvite(),a.hide())}),[a,n],[c,i,s]),v=(0,l.useFacetCallback)((t=>()=>{a.hide(),e.replace(`/realms-story-entry-route/feed/${t.realmId}`)}),[e,a],[t]),y=(0,l.useFacetCallback)((e=>()=>{e.joinRealmFromInvite(),n.hide()}),[n],[c]),F=(0,r.useCallback)((()=>{n.hide(),e.replace("/play/all")}),[e,n]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:u},r.createElement(GW,{onClickClose:d})),r.createElement(l.Mount,{when:m},r.createElement(KW.Component,{onClickClose:d})),r.createElement(l.Mount,{when:h},r.createElement(CO.Component,{onSubmit:y,onCancel:F})),r.createElement(l.Mount,{when:E},r.createElement(eV.Component,{playNow:b,openStories:v})))}const aV="Ok-Button",nV=yp((({onClose:e})=>{const{t}=Fc("RealmsStories"),{t:a}=Fc("RealmsStories.OptOutInGameModal"),n=a(".title");return r.createElement($E,{defaultFocusAlias:aV},r.createElement($E.Header,{onClose:e},n),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a(".message")},a(".message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:aV,inputLegend:t(".select"),variant:"secondary",onClick:e},a(".confirm"))))}));function rV({gamepadIndex:e,isDarker:t,numberOfSegments:a,maximumBlockCount:n,highlightedSegment:o,blackenedSegmentBefore:i,blockColor:c,playerData:s}){const u=Nd(),d=wr("neutral"),m=p(),f=(0,l.useFacetCallback)((e=>()=>m.push(AI(e.gamerXuid))),[m],[s]);return r.createElement("div",{className:zr()(Oj,Nj)},r.createElement("div",{className:zr()({[Rj]:u},{[Lj]:!u},"d37f10a68dbcc53454cf",d.border.base)},r.createElement(wj,{gamerIcon:(0,l.useFacetMap)((e=>e.gamerIcon),[],[s]),gamerTag:(0,l.useFacetMap)((e=>e.gamerTag),[],[s]),onlineStatus:(0,l.useFacetMap)((e=>!0===e.gamerOnline?"online":"offline"),[],[s]),onClick:f})),r.createElement("div",{className:zr()({[_j]:u},{[Dj]:!u},Wj,d.border.base)},r.createElement(Aj,{isDarker:t,blockColor:c,numberOfSegments:a,maximumBlockCount:n,highlightedSegment:o,blackenedSegmentBefore:i,gamepadIndex:e,blocks:(0,l.useFacetMap)((e=>e.blocks),[],[s]),narrationText:(0,l.useFacetMap)((e=>e.narrationText),[],[s])})))}const lV=({onChange:e,onInformation:t,totalPages:a,currentPage:n,isNarrow:l})=>{const{t:o}=Sc("Modal"),{t:i}=Sc("RealmsStories.Timeline");return r.createElement("div",{className:zr()(Nj,{eed3682a957a6129f9f1:l})},r.createElement(SP,{totalPages:a,currentPage:n,onChange:e,counterStyle:"hide-counter",middleSpacingsSize:2}),r.createElement(Nm,{size:4}),r.createElement("div",{className:"ad58983e4f967abd0912"},r.createElement(Ug,{"data-testid":"timeline-options-button",inputLegend:o(".select"),onClick:t,imgSrc:Yj,narrationPrefix:i(".OptionsModal.narrationHint")})))};function oV({correlationId:e}){const t=Nd(),a=dn(),n=t?5:7,o=n*Vj,i=Math.ceil(28/n),c=(0,r.useRef)(null),s=(0,r.useRef)(null),u=(0,r.useRef)(null),d=(0,r.useRef)(null),m=(0,r.useRef)(null),E=p(),h=f(),[b,v]=(0,l.useFacetState)(i),y=g(),F=(0,l.useSharedFacet)(ls),S=(0,l.useSharedFacet)(os),C=(0,l.useSharedFacet)($s),M=_z(e),w=(0,l.useSharedFacet)(mc),k=(0,l.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[S]),T=(0,l.useFacetCallback)((e=>()=>{e>i&&v(i)}),[i,v],[b]);(0,r.useEffect)((()=>{const e=()=>{T()};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}));const P=$j(),{t:I}=Sc("Timeline"),{t:x}=Sc("RealmsStories.Timeline"),A=((e,t,a,n,r)=>(0,l.useFacetMap)((e=>{const l=[];let o=-1;for(let i=0;i<a;i++){const c=a*(t-e)+(a-1-i),s=new Date(n.getTime()+0-c*Gj),u=s.getMonth(),d=s.getFullYear().toString();u!==o?l.push({text1:r(zj[u]),text2:d,narrationText:[r(".monthYear",[r(Uj[u]),d]),r(".date"),r(".monthAndTheYear")].join(" . "),darkenLevel:1,size:1/a}):(l[l.length-1].text1=r(Uj[u]),l[l.length-1].size=(l[l.length-1].size*a+1)/a),o=u}return l}),[a,t,n,r],[e]))(b,i,n,P,I),O=((e,t,a,n,r)=>(0,l.useFacetMap)((e=>{const l=[];for(let o=0;o<a;o++){const i=a*(t-e)+(a-1-o),c=new Date(n.getTime()+0-i*Gj),s=c.getDay(),u=c.getDate();l.push({text1:r(jj[s]),text2:("0"+u).slice(-2),narrationText:[r(".dayAndDate",[r(Hj[s]),u.toString()]),r(".date"),r(".dayOfTheWeek"),r(".enumeration",[(o+1).toString(),a.toString()])].join(" . "),darkenLevel:0===i?0:i<28?1:2,size:1/a})}return l}),[a,t,n,r],[e]))(b,i,n,P,I),N=(0,l.useSharedFacet)(Rs),R=(e=>(0,l.useFacetMap)((e=>{const t=[];for(let a=0;a<e.sessions.length;a++)t.push(e.sessions[a]);return t.sort(((e,t)=>e.userXuid===t.userXuid?e.login-t.login:e.userXuid.localeCompare(t.userXuid)))}),[],[e]))(N),L=(0,l.useSharedFacet)(os),_=(0,l.useSharedFacet)(ms),D=(0,l.useFacetMap)((e=>e.players),[],[_]),W=((e,t,a,n)=>(0,l.useFacetMemo)(((e,t,a)=>{const r=new Map;a.sessions.forEach((e=>{r.set(e.userXuid,e)}));const l=t.filter((e=>{const t=e.hasOptedIn||r.get(e.xuid)&&e.lastSeenTime>=function(){{const e=new Date($j().getTime()+0);return e.setDate(e.getDate()-28+1),e.setHours(0,0,1),Math.round(e.getTime()/1e3)}}();return e.role!==ds.NONMEMBER&&t})).sort(((t,a)=>{if(t.xuid===a.xuid)return 0;if(t.xuid===e.userXuid)return-1;if(a.xuid===e.userXuid)return 1;const n=r.get(t.xuid),l=r.get(a.xuid);return n&&l?t.lastSeenTime===a.lastSeenTime?t.gamerTag.localeCompare(a.gamerTag):a.lastSeenTime-t.lastSeenTime:n||l?n?-1:1:t.gamerTag.localeCompare(a.gamerTag)})),o=new Map;for(let e=0;e<Math.min(n,l.length);e++)o.set(l[e].gamerTag,e);return o}),[n],[t,a,e]))(N,L,D,300),B=(0,l.useFacetMap)((e=>e.players.length>300),[],[_]),U=((e,t,a,n,r,o,i,c)=>(0,l.useFacetMemo)(((e,t,a,n)=>{const l=[],s=new Set,u=1*Math.floor(Math.abs(0)/60),d=1*Math.floor(Math.abs(0)%60),m=o*(r-t),p=new Date(i.getTime()-m*Gj);p.setHours(0-u,0-d,0,0),p.setTime(p.getTime()+Gj-1);const f=o*(r-t+1)-1,g=Math.min(27,f),E=new Date(i.getTime()-g*Gj);E.setHours(0-u,0-d,0,0);const h=function(e,t){let a=0,n=-1,r=0;for(let l=0;l<t;l++){const t=new Date(e.getTime()+Gj*(l-.5));if(a=new Date(e.getTime()+Gj*(l+.5)).getTimezoneOffset()-t.getTimezoneOffset(),0!==a){n=l;for(let t=0;t<24;t++){const a=new Date(e.getTime()+Gj*l+Kj*t),n=new Date(a.getTime()+Kj),o=n.getHours()-a.getHours();if(a.getHours()===n.getHours()||o>1||-23===o&&1===n.getHours()||-22===o&&0===n.getHours()){r=t+1;break}}break}}return{dayLightSavingsOffset:a,dayLightSavingsSegment:n,dayLightSavingsHour:r}}(E,o),b=new Date(i.getTime()-f*Gj);b.setHours(0-u,0-d,0,0);const v=new Map;a.forEach((e=>{v.set(e.xuid,e)}));let y="";for(let t=0;t<e.length;t++){const a=e[t].userXuid,r=v.get(a);if(null==r||r.role===ds.NONMEMBER||!n.has(r.gamerTag))continue;const o=new Date;o.setTime(1e3*e[t].login);const i=new Date;i.setTime(1e3*e[t].logout);const c={start:0,size:0};if(o.getTime()<=p.getTime()&&o.getTime()>=E.getTime()||i.getTime()<=p.getTime()&&i.getTime()>=E.getTime()){const e=new Date(Math.max(o.getTime(),E.getTime())).getTime(),t=new Date(Math.min(i.getTime(),p.getTime())).getTime(),a=h.dayLightSavingsOffset;let n=(e-b.getTime())/1e3/60,r=(t-e)/1e3/60;const l=new Date(E.getTime()+h.dayLightSavingsSegment*Gj+h.dayLightSavingsHour*Kj);a>0?(e>l.getTime()&&(n=(e-b.getTime()-Math.min(e-b.getTime(),Kj))/1e3/60),e<=l.getTime()&&t>l.getTime()&&(r=(t-e-Math.min(t-l.getTime(),Kj))/1e3/60)):a<0&&(e>=l.getTime()&&(n=(e-b.getTime()+Kj)/1e3/60),e<l.getTime()&&t>=l.getTime()&&(r=t-e+Math.min(p.getTime()-i.getTime(),Kj))),c.start=n,c.size=r}if(a!==y){const e=[];0!==c.size&&e.push(c),l.push({gamerXuid:r.xuid,gamerTag:r.gamerTag,gamerIcon:r.gamerIcon,gamerOnline:r.isOnline,gamerOptedIn:r.hasOptedIn,narrationText:[""],blocks:e}),s.add(r.gamerTag)}else 0!==c.size&&l[l.length-1].blocks.push(c);y=a}for(let e=0;e<a.length;e++){if(a[e].role===ds.NONMEMBER||!n.has(a[e].gamerTag))continue;const t=a[e].gamerTag;s.has(t)||(l.push({gamerXuid:a[e].xuid,gamerTag:t,gamerIcon:a[e].gamerIcon,gamerOnline:a[e].isOnline,gamerOptedIn:a[e].hasOptedIn,narrationText:[""],blocks:[]}),s.add(t))}for(let e=0;e<l.length;e++){const a=[];for(let n=0;n<o;n++){const s=n*Vj,u=(n+1)*Vj-1,d=[];for(let t=0;t<l[e].blocks.length;t++){const a=l[e].blocks[t].start,n=a+l[e].blocks[t].size;if(a>=s&&a<u||n>s&&n<=u){const e=Math.max(a,s)-s,t=Math.floor(e%60),r=Math.floor(e/60),l=Math.min(n,u)-s,o=Math.floor(l%60),i=Math.floor(l/60);d.push(c(".fromTo",[c(".timeFormat",[r.toString(),t.toString()]),c(".timeFormat",[i.toString(),o.toString()])]))}}const m=o*(r-t)+o-n-1,p=new Date;p.setDate(i.getDate()-m);const f=c(".onDayOfMonthYear",[c(Hj[p.getDay()]),p.getDate().toString(),c(".monthYear",[c(Uj[p.getMonth()]),p.getFullYear().toString()])]);if(0===d.length)a.push(c(".timeline")+" . "+c(".didNotPlay",[l[e].gamerTag,f]));else{let t="";for(let e=0;e<d.length;e++)t=0===e?d[e]:c(".and",[t,d[e]]);a.push([c(".timeline"),1===d.length?c(".timeblock"):c(".timeblocks"),c(".played",[l[e].gamerTag,t,f])].join(" . "))}}l[e].narrationText=a}return l}),[o,r,i,c],[t,e,a,n]))(b,R,D,W,i,n,P,I),z=(H=U,j=W,(0,l.useFacetMap)(((e,t)=>[...e].sort(((e,a)=>{var n,r;return(null!==(n=null==t?void 0:t.get(e.gamerTag))&&void 0!==n?n:0)-(null!==(r=null==t?void 0:t.get(a.gamerTag))&&void 0!==r?r:0)}))),[],[H,j]));var H,j;const V=(0,l.useFacetMap)((e=>i===e?n-1:-1),[i,n],[b]),G=(0,l.useFacetMap)((e=>1===e?n*i-28:-1),[i,n],[b]),$=wr("neutral"),[K,Y]=(0,l.useFacetState)([]);(0,l.useFacetEffect)((e=>{Y(e)}),[Y],[z]);const X=(0,l.useFacetMap)((e=>e[0]),[],[K]),q=(0,l.useFacetMap)((e=>0!==e.length&&!t),[t],[K]),Q=Qj.useModal(),Z=Zz.useModal(),J=(0,r.useCallback)((()=>{Q.hide(),E.push("/realms-stories-timeline-information")}),[E,Q]),ee=(0,l.useFacetCallback)((e=>()=>{Q.hide(),E.push(`/realms-stories-opted-out-members/${e.realmId}`)}),[Q,E],[y]),te=Zj.useModal(),ae=(0,l.useFacetCallback)(((t,a,n)=>()=>{t.setPlayerOptInStatusAndPostWithOptInTelemetry(n.realmId,Gs.OptedOut,e,Lz.OptOut_Settings,a),Q.hide()}),[Q,e],[F,k,y]),ne=(0,l.useFacetMap)(((e,t)=>e&&(t.currentPostState===Pu.InputInvalid||t.currentPostState===Pu.InternalError||t.currentPostState===Pu.UploadFailed||t.currentPostState===Pu.PostingFailed)),[],[h,C]),re=(0,l.useFacetMap)(((e,t)=>e&&t.currentPostState===Pu.RateLimit),[],[h,C]),le=(0,l.useFacetMap)(((e,t,a,n)=>e&&!a&&!n&&(t.currentPostState===Pu.InProgress||t.currentPostState===Pu.Uploading)),[],[h,C,ne,re]),oe=(0,l.useFacetCallback)(((e,t,a)=>()=>{t||(e.clearSettingsStatus(),e.fetchSettings(a.realmId))}),[],[F,le,y]),ie=(0,l.useFacetMap)((e=>e.fetchSessionStatus===Tu.Success&&0===e.sessions.length),[],[(0,l.useSharedFacet)(Rs)]),ce=nV.useModal(),se=(0,l.useFacetMap)((e=>e.isInGame),[],[w]),ue=(0,l.useFacetCallback)((e=>1==e?ce.show:te.show),[ce,te],[se]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:B},r.createElement(r.Fragment,null,r.createElement(xz,null),r.createElement(Nm,{size:2}))),r.createElement(l.Mount,{when:ie},r.createElement(r.Fragment,null,r.createElement(pr,{collection:hT},r.createElement(AP,{role:"informative"},r.createElement(AP.Text,null,x(".noDataBanner")))),r.createElement(Nm,{size:2}))),!t&&r.createElement(Yp,{containerRef:m},r.createElement("div",{ref:m},r.createElement("div",{className:zr()(Oj,"c90ae13dbd06c95cac23","e85f40f8ff2b900f0884")},r.createElement(lV,{totalPages:i,currentPage:b,onChange:v,isNarrow:t,onInformation:Q.show})))),r.createElement("div",{className:zr()(Oj,Nj)},r.createElement("div",{className:zr()({[Rj]:t},{[Lj]:!t},Wj,Bj,$.border.base,"b400479d440ef47d66b5")},t&&r.createElement(Yp,{containerRef:d},r.createElement("div",{ref:d},r.createElement(lV,{totalPages:i,currentPage:b,onChange:v,isNarrow:t,onInformation:Q.show})))),r.createElement("div",{className:zr()({[_j]:t},{[Dj]:!t},"c80f589ab46ed74baff6",Wj,$.border.base)},r.createElement(Yp,{containerRef:s},r.createElement("div",{ref:s},r.createElement(Mj,{rowData:A}))),r.createElement(Yp,{containerRef:u},r.createElement("div",{ref:u},r.createElement(Mj,{rowData:O}))))),r.createElement(l.Mount,{when:Q.isVisible},r.createElement(Qj.Component,{onClose:Q.hide,onClickAbout:Z.show,onClickMembers:ee,onClickOptOut:ue})),r.createElement(l.Mount,{when:Z.isVisible},r.createElement(Zz.Component,{closeModal:Z.hide,learnMore:J})),r.createElement(l.Mount,{when:te.isVisible},r.createElement(Zj.Component,{onClose:te.hide,onOptOutCompleted:ae,onOptOutCancelled:()=>M(Lz.CancelOptOut_Settings)})),r.createElement(l.Mount,{when:ce.isVisible},r.createElement(nV.Component,{onClose:ce.hide})),r.createElement(l.Mount,{when:le},r.createElement(GW,null)),r.createElement(l.Mount,{when:ne},r.createElement($W.Component,{onClickClose:oe})),r.createElement(l.Mount,{when:re},r.createElement(XW.Component,{onClickClose:oe})),r.createElement(l.Mount,{when:q},r.createElement(Yp,{containerRef:c,focusControlDisabled:a},r.createElement("div",{ref:c},r.createElement(rV,{gamepadIndex:0,isDarker:!1,numberOfSegments:n,maximumBlockCount:o,highlightedSegment:V,blackenedSegmentBefore:G,blockColor:0,playerData:X})))),r.createElement("div",{className:zr()(Oj,"fadc7fd93a4ebbdf4675",$.border.base)},r.createElement("div",{className:zr()({a07e6ffff17214230560:t},{ab40d742f06f99ba050e:!t})},r.createElement(jf,{floating:!0,gamepadIndex:0,focusControlDisabled:!0},r.createElement("div",{className:zr()("c7b070401571b9ada006",Bj,$.border.base)},r.createElement(l.Map,{array:(0,l.useFacetMap)((e=>e.slice(t?0:1)),[t],[K])},((e,a)=>r.createElement(rV,{gamepadIndex:a,isDarker:a%2==(t?1:0),numberOfSegments:n,maximumBlockCount:o,highlightedSegment:V,blackenedSegmentBefore:G,blockColor:a+(t?0:1),playerData:e}))))))))}const iV=({children:e})=>r.createElement(Cv.Row,{gamepadIndex:0},r.createElement(Cv.Column,{wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{wideSize:10,narrowSize:8,gamepadIndex:1},e),r.createElement(Cv.Column,{wideSize:1,narrowSize:0}));function cV(){const{t:e}=Sc("RealmsStories"),t=g(),a=yU(),n=wr("neutral"),o=wr("neutral80"),i=f(),c=(0,r.useContext)(s),u=(0,l.useSharedFacet)(ls),d=(0,l.useSharedFacet)($s),m=`${Math.floor(1e9*Math.random())}`,p=_z(m),E=(0,l.useFacetMap)(((e,t,a)=>e.isOnline?t.currentFetchState===Tu.InternalError||t.currentFetchState===Tu.FetchFailed||t.currentFetchState===Tu.RateLimit||a.fetchSessionStatus===Tu.InternalError||a.fetchSessionStatus===Tu.FetchFailed||a.fetchSessionStatus===Tu.RateLimit?"fetch-status-error-message":t.currentFetchState===Tu.InProgress?"settings-loading":t.realmTimelineStatus?t.playerOptIn!=Gs.OptedIn&&(t.currentPostState===Pu.Idle||t.currentPostState===Pu.Success)||t.playerOptIn==Gs.OptedIn&&t.currentPostState!==Pu.Success&&t.currentPostState!==Pu.Idle?"realms-opt-in-message":"no-message":"timeline-off-message":"no-internet-message"),[],[(0,l.useSharedFacet)(dl),d,(0,l.useSharedFacet)(Rs)]),h=(0,l.useFacetCallback)(((e,t)=>()=>e&&!t),[],[i,c]);(0,l.useFacetEffect)(((e,t)=>{if(!0===h()&&(t.currentPostState===Pu.Idle||t.currentPostState===Pu.Success))switch(e){case"timeline-off-message":return void p(t.playerOptIn===Gs.OptedIn?Lz.ViewedTimeline_OptedIn_TimelineDisabled:Lz.ViewedTimeline_OptedOut_TimelineDisabled);case"realms-opt-in-message":return void p(Lz.ViewedTimeline_OptInMessage);case"no-message":return void p(Lz.ViewedTimeline_TimelineContent)}}),[p,h],[E,d]);const b=(0,l.useFacetMap)((e=>"no-message"!=e),[],[E]),v=(0,l.useFacetCallback)(((e,t)=>()=>{e.fetchSessions(),e.fetchSettings(t.realmId)}),[],[u,t]);return r.createElement(Cv,{noGutters:!0},r.createElement(l.Mount,{when:b},r.createElement(xl,{data:E},(t=>{switch(t){case"no-internet-message":return r.createElement(iV,null,r.createElement(Tz,null));case"fetch-status-error-message":return r.createElement(iV,null,r.createElement(Iz,{onClick:v,pageName:e(".timeline")}));case"timeline-off-message":return r.createElement(iV,null,r.createElement(_v,{title:e(".messages.timelineOff.title"),text:e(".messages.timelineOff.body"),imgSrc:Sj,imgClass:a}));case"settings-loading":return r.createElement(Cv.Row,{fullHeight:!0},r.createElement(Cv.Column,{wideSize:12,narrowSize:8},r.createElement("div",{"data-testid":"timeline-fetching-spinner",className:zr()("bacb2b9c7255c5e91ec1",n.border.base,o.overlay.base)},r.createElement(zf,null))));case"realms-opt-in-message":return r.createElement(Dz,{correlationId:m});default:return r.createElement(r.Fragment,null)}}))),r.createElement(l.Mount,{when:b,condition:!1},r.createElement(Cv.Row,{gamepadIndex:3,fullHeight:!0},r.createElement(Cv.Column,{wideSize:12,narrowSize:8,gamepadIndex:0},r.createElement(oV,{correlationId:m})))))}function sV(){const e=(0,l.useSharedFacet)(ls),t=(0,l.useSharedFacet)(os),a=(0,l.useSharedFacet)($s),n=p(),{t:o}=Fc("RealmsStories"),i=el(),c="realms-stories",s=Ce(),u=(0,l.useFacetMap)((e=>`${o(".header",[e.name])}`),[o],[t]),d=(0,l.useFacetMap)((e=>`${o(".screen",[e])}`),[o],[u]),m=f(),g=(0,l.useFacetCallback)((e=>()=>{e&&n.goBack()}),[n],[m]),E=(0,l.useSharedFacet)(js),h=(0,l.useFacetMap)(((e,t)=>e.realmNotificationsStatus&&!t.mostRecentStoriesViewed&&t.unreadStoryCount>0),[],[a,E]),b=(0,l.useFacetMap)(((e,t)=>e?t.unreadStoryCount>1?o(".unreadStoryHint",[`${t.unreadStoryCount}`]):o(".oneUnreadStoryHint"):""),[o],[h,E]),v=(0,l.useFacetMap)(((e,t,a)=>[{label:o(".storyFeed"),value:ij.Feed,hint:a,badge:t?e.unreadStoryCount:void 0},{label:o(".timeline"),value:ij.Timeline},{label:o(".members"),value:ij.Members}]),[o],[E,h,b]),y=(0,l.useSharedFacet)(js),F=(0,l.useFacetCallback)((e=>t=>{Vs(e.stories),n.replace(`/realms-stories/${t}/${i.realmId}`),s(sF.getFocusAlias(c,t))}),[i.realmId,n,s],[y]),S=(0,l.useFacetCallback)((e=>()=>{Vs(e.stories),n.push(`/realms-stories-settings/${i.realmId}`)}),[i.realmId,n],[y]),C=(0,l.useSharedFacet)(dl),M=(0,l.useFacetMap)((e=>!e.isOnline),[],[C]),w=i.tab===ij.Feed,k=(0,l.useFacetCallback)(((e,t)=>()=>{t.fetchMembersStatus!==Tu.InProgress&&t.fetchOnlineMembersStatus!==Tu.InProgress&&(e.clearFetchMembersStatus(),e.fetchMembers())}),[],[e,(0,l.useSharedFacet)(ms)]),T=(0,l.useFacetCallback)(((e,t)=>()=>{t.fetchSessionStatus!==Tu.InProgress&&(e.clearFetchSessionsStatus(),e.fetchSessions())}),[],[e,(0,l.useSharedFacet)(Rs)]),P=(0,l.useFacetCallback)(((e,t)=>()=>{t.storiesStatus!==Tu.InProgress&&(e.clearStoryFeedStatus(),e.fetchStories()),t.eventsStatus!==Tu.InProgress&&(e.clearEventsStatus(),e.fetchEvents())}),[],[e,E]),[I,x]=(0,l.useFacetState)(!1);(0,l.useFacetEffect)(((e,t)=>{!e&&t.isRealmWorldValid&&(x(!0),k(),P(),T())}),[k,P,T,x],[I,t]);const A=(0,l.useFacetMap)((e=>e.isPrimaryUser),[],[(0,l.useSharedFacet)(Ya)]);return r.createElement(pr,{collection:bT},r.createElement(av,{role:"primary"},r.createElement(yv,{onBackButton:g,center:r.createElement(zm,{type:"header5A"},u),narrationText:d,right:r.createElement(xl,{data:A},(e=>e?r.createElement(yv.MenuButton,{onClick:S,type:"filter",gamepadIndex:1,narrationText:o(".narration.settings")}):r.createElement(r.Fragment,null))),gamepadAlias:"realms-stories-route",defaultFocusedChildBehavior:"remember"},r.createElement("div",{className:"ef594b6e6503f7063027"},r.createElement(Cv,null,r.createElement(l.Mount,{when:M,condition:!1},r.createElement(Cv.Row,{gamepadIndex:0},r.createElement(Cv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},r.createElement(sF,{gamepadAliasNamespace:c,gamepadIndex:0,tabs:v,value:i.tab?i.tab:ij.Feed,enableGamepadShortcuts:!0,onChange:F,narrationTitle:o(".narration.title"),badgeRole:"secondary"}),!w&&r.createElement(Nm,{size:2})))),r.createElement(Ry,{component:yj,tab:ij.Feed}),r.createElement(Ry,{component:cV,tab:ij.Timeline}),r.createElement(Ry,{component:(0,r.useCallback)((()=>r.createElement(UH,{isStoriesRouteActive:m})),[m]),tab:ij.Members}),r.createElement(LE.Space,{extraSpace:r.createElement(Nm,{size:1})}))))))}const uV="b5cfb6bf81dc3dfc08ca";function dV(){return dV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},dV.apply(null,arguments)}const mV=(e,t,a,n)=>e.map(((l,o,i)=>{let{children:c}=l,s=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(l,["children"]);return r.createElement(r.Fragment,{key:o},r.createElement(Ug,dV({gamepadIndex:t?i.length-o:o},s,{horizontal:t,narrationSuffix:a?[n(".buttonEnumeration",[`${o+1}`,`${e.length}`]),s.narrationSuffix].filter(Boolean).join(" . "):s.narrationSuffix}),c),o!==i.length-1&&r.createElement(Nm,{size:2}))})),pV=({title:e,narrationSuffix:t,sectionRole:a="neutral80",buttonsRole:n="neutral",leftContent:l,rightContent:o,buttons:i,shouldEnumerateButtons:c,delegateFocusByAlias:s,onGoBack:u})=>{const d=(0,r.useRef)(null),m=Gl(),p=wr(a),f=wr(n),g="narrow"===Od(93),{t:E}=Fc("HeroMessage"),h=(0,r.useRef)(null),b=[e,t].filter(Boolean).join(" . ");return r.createElement(Zf,{text:b},r.createElement(Yp,{containerRef:h,delegateFocusByAlias:s,delegateFocusFromMemory:!0},r.createElement("div",{ref:h,className:"aa5f79ad91bf0071d0db",style:{marginLeft:m.left+"px",marginRight:m.right+"px",marginTop:m.top+"px",marginBottom:g?0:m.bottom+"px"}},r.createElement("div",{className:"a5f712b35e26a7c79bf8"},r.createElement(Cv,{narrowBreakpointWidth:53},r.createElement(Cv.Row,{gamepadIndex:0},r.createElement(Cv.Column,{gamepadIndex:1,wideSize:g?6:7,narrowSize:3},r.createElement("div",{className:zr()(uV,"b89e1554ffaa3de1182a",p.background.base,p.border.base)},r.createElement(zm,{type:g?"header5A":"header3",align:"center"},e),r.createElement("fast-div",{className:"daefeffc5f70fbcdaf6b"},l))),r.createElement(Cv.Column,{gamepadIndex:2,wideSize:g?6:5,narrowSize:5},r.createElement("div",{className:zr()("d44500ab38e99a535155",p.background.base)},r.createElement(Zf,{getText:()=>d.current?[kv(Tv(d.current))].filter(Boolean).join(" . "):""},r.createElement("div",{className:zr()("ad442d6b30e385bbdef4",uV,p.border.base),ref:d},o),!g&&r.createElement("div",{className:zr()("eb0c8f870621d99646cf",uV,f.background.base,f.border.base)},mV(i,!1,c,E))))))))),g&&r.createElement("div",{className:zr()("d2c6f038a314e35427e6",f.background.base)},r.createElement(Lp,{effect:"bevel",left:!1,right:!1}),r.createElement("div",{className:"d988845b017bbe4f05c3",style:{paddingLeft:m.left+"px",paddingRight:m.right+"px",paddingBottom:m.bottom+"px"}},mV(i,!0,c,E)),r.createElement(LE.Space,{addSafeZone:!1}))),!g&&r.createElement(LE.Space,null),u&&r.createElement(qf,{onClick:u,options:{button:j.B,inputLegend:uf.Buttons.Back.useLocalization().t(".inputLegend")}}))};pV.Content=({children:e})=>r.createElement(jf,{gamepadIndex:-1},r.createElement("div",{className:"d0ea79063d54a6e6492f"},e));const fV=a.p+"assets/timeline-opt-in-cf8cede534faf5afd81b.png";function gV(){const{t:e}=Fc("RealmsStories.messages.timelineOptIn"),t=p(),a=(0,l.useSharedFacet)(Or),n=f(),o=g(),i=(0,l.useSharedFacet)(ls),c=(0,l.useSharedFacet)($s),s=`${Math.floor(1e9*Math.random())}`,u=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.realmId)&&void 0!==t?t:""}),[],[o]),d=_z(s),m=FO({worldId:u,screen:"RealmsTabContent",button:"PlayRealm",telemetryLocation:Pc.TimelineRequiredScreen}),E=(0,l.useFacetCallback)(((e,a)=>()=>{e&&(d(Lz.BackOut_TimelineRequired),a.history.list.some((e=>null==e?void 0:e.pathname.includes("/online-play-warning/")))?t.go(-2):t.goBack())}),[d,t],[n,a]),h=(0,l.useFacetCallback)(((e,t)=>()=>{""!=t.realmId&&e.setPlayerOptInStatusAndPostWithOptInTelemetry(t.realmId,Gs.OptedIn,s,Lz.OptIn_TimelineRequired,!1)}),[s],[i,o]);(0,l.useFacetEffect)(((e,t)=>{e&&t.playerOptIn==Gs.OptedIn&&t.currentPostState===Pu.Success&&m()}),[m],[n,c]);const b=(0,l.useFacetMap)(((e,t)=>e&&(t.currentPostState===Pu.InputInvalid||t.currentPostState===Pu.InternalError||t.currentPostState===Pu.UploadFailed||t.currentPostState===Pu.PostingFailed)),[],[n,c]),v=(0,l.useFacetMap)(((e,t,a)=>e&&!a&&(t.currentPostState===Pu.InProgress||t.currentPostState===Pu.Uploading)),[],[n,c,b]),y=(0,l.useFacetCallback)(((e,t)=>()=>{t||e.clearSettingsStatus()}),[],[i,v,o]);return r.createElement(pr,{collection:bT},r.createElement(l.Mount,{when:v},r.createElement(GW,null)),r.createElement(l.Mount,{when:b},r.createElement($W.Component,{onClickClose:y})),r.createElement(pV,{onGoBack:E,buttons:[{variant:"primary",inputLegend:"Select",onClick:h,children:e(".button")},{variant:"secondary",inputLegend:"Select",onClick:E,children:e(".maybeLaterButton")}],shouldEnumerateButtons:!0,title:e(".requiredTitle"),narrationSuffix:"",leftContent:r.createElement(Qp,{src:fV,aspectRatio:Qp.AspectRatio["16:9"]}),rightContent:r.createElement(r.Fragment,null,r.createElement(uf,null,r.createElement(zm,{type:"body",align:"center",shouldNarrate:!0},e(".ownerRequire.title"))),r.createElement(pV.Content,null,r.createElement(zm,{type:"paragraphs",shouldNarrate:!0},e(".ownerRequire.body"),e(".body"))))}))}function EV(){const e=Jr(),t=(0,l.useSharedFacet)(_i),a=(0,l.useSharedFacet)(Nu),n=(0,r.useRef)(!1),[o,i]=(0,l.useFacetState)(!1),c=(0,l.useSharedFacet)(Ru);(0,l.useFacetEffect)(((e,t,a)=>{t.state!==Ds.Loading&&!n.current&&a.length>0&&(i(!0),e.createPreviewRealmFromSubscriptionId(`${a[0].id}`),n.current=!0)}),[n,i],[t,a,c]);const s=(0,l.useFacetMap)(((e,t)=>t.createPreviewRealmFromSubscriptionTaskState!==Hk.RUNNING&&e.state===Ds.Loading),[],[a,t]),u=(0,l.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===Hk.RUNNING&&e.createPreviewRealmFromSubscriptionResult===Li.CreatingPreviewRealm),[],[t]),d=(0,l.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===Hk.RUNNING&&e.createPreviewRealmFromSubscriptionResult===Li.RetrievingCreatedPreviewRealm),[],[t]),m=(0,l.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===Hk.FAILED),[],[t]),p=(0,l.useFacetCallback)((t=>()=>{i(!1),t.reset(),e.goBack()}),[e,i],[t]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:s},r.createElement(zW,{onClickClose:e.goBack})),r.createElement(l.Mount,{when:s,condition:!1},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:o},r.createElement(BW.Component,{onConfirm:(0,l.useFacetCallback)((e=>()=>{i(!1),e.activateNewPreviewRealm(!1)}),[i],[t]),onClose:p})),r.createElement(l.Mount,{when:u},r.createElement(jW,{onClickClose:e.goBack})),r.createElement(l.Mount,{when:d},r.createElement(HW,{onClickClose:e.goBack})),r.createElement(l.Mount,{when:m},r.createElement($W.Component,{onClickClose:p})))))}const hV="c5664f99741239e55af0",bV="bc0f22d82937b0d09079",vV="c322d72fcc2b0a50ad5c",yV="d2188e35458495eaea49",FV="ab3a7576112b869e91c8",SV="c1c46353a6faa9267a53";function CV(e){return`screenshot-${e}-in-gallery`}function MV({screenshot:e,index:t,length:a,onScreenshotClicked:n,variant:o,loading:i=!1,isSelected:c=!1,gamepadAlias:s="",imageAspectRatioOverride:u,narrationSuffix:d=""}){const{t:m}=Fc("ScreenshotGalleryItem"),{t:p}=Fc("ScreenshotGalleryItem.narration"),f=wr(),g=(0,l.useFacetWrap)(e),E=(0,l.useFacetWrap)(c),h=(0,l.useFacetWrap)(d),b=(0,l.useFacetWrap)(i),v=Qp.aspectRatioToPercentage(null!=u?u:Qp.AspectRatio["16:9"]),y=(0,l.useFacetMap)((e=>e.thumbnail),[],[g]),F=(0,l.useFacetMap)((e=>"manage"===o?m(".removeScreenshot"):e.captureTimeLabel),[o,m],[g]),S=(0,l.useFacetMap)(((e,a,n,r,l)=>{let i=[];return i="select"===o?[p(r?".checked":".notChecked"),p(".checkboxRole"),e.featured?p(".featured"):"",e.showcased?p(".showcased"):"",p(".enumeration",[(t+1).toString(),a.toString()]),l]:"manage"===o?[n,e.featured?p(".featured"):"",e.showcased&&!e.featured?p(".showcased"):"",p(".cardRole"),p(".enumeration",[(t+1).toString(),a.toString()]),l]:[n,p(".cardRole"),e.featured?p(".featured"):"",e.showcased?p(".showcased"):"",p(".enumeration",[(t+1).toString(),a.toString()]),l],i.filter((e=>null!=e&&""!==e)).join(" . ")}),[p,t,o],[g,a,F,E,h]),C=(0,l.useFacetMap)((e=>e.featured),[],[g]),M=(0,l.useFacetMap)((e=>e.showcased),[],[g]),w=tv(ec),k=(0,l.useFacetCallback)((e=>()=>{n(e)}),[n],[g]),T=(0,l.useFacetMap)((e=>"manage"===o||!Ik(e.platform)),[o],[(0,l.useSharedFacet)(dl)]),P=(0,l.useFacetMap)(((e,a)=>""!==a?a:CV(t)),[t],[a,(0,l.useFacetWrap)(s)]);return r.createElement(Xr,null,r.createElement(bH,{inputLegend:m(".screenshotInputLegend"),narrationTextOverride:S,onClick:k,gamepadAlias:P,fillShadow:!0},r.createElement(xl,{data:b},(e=>e?r.createElement(wV,{paddingTop:v}):r.createElement("div",null,r.createElement(Qp,{src:y,aspectRatio:null!=u?u:Qp.AspectRatio["16:9"]}),w&&r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:M},r.createElement("div",{className:zr()(f.neutral80.background.base,f.neutral80.border.base,"ebf58d540f5be0da3ac9")},r.createElement(xM.Friends,{role:"neutral",width:24,height:24}))),r.createElement(l.Mount,{when:C},r.createElement("div",{className:hV},r.createElement(_y,{role:"primaryTint"},m(".featured"))))),"select"===o&&r.createElement("div",{className:"c9e3d7ef492df5e7c097"},r.createElement(ig,{value:E,narrationText:!1,gamepad:{index:0},mountFocusBorder:!1}))))),r.createElement(l.Mount,{when:T},r.createElement(bH.Information,{narrationText:S},r.createElement(zm,{variant:"dimmer",type:"body"},F))),r.createElement(l.Mount,{when:T,condition:!1},r.createElement(bH.Information,{narrationText:!1},r.createElement(Nm,{size:4})))))}function wV({paddingTop:e}){const t=wr("inherit");return r.createElement("div",{style:{paddingTop:e},className:zr()(bV,vV,t.background.base)},r.createElement("div",{className:"bc12099e3d448199df82","data-testid":"screenshot-loading-spinner"},r.createElement(zf,null)))}function kV(e){return"desktop"===e?6:"narrow"===e?2:4}function TV({displayData:e,onScreenshotClicked:t,innerRef:a,changePage:n,totalPages:o,currentPage:i,paginationEnabled:c,selectionEnabled:s=!1,selectedScreenshots:u,isLoadingScreenshots:d=!1,disableHomeEnd:m=!1}){const p=(0,l.useFacetMap)((e=>e.length),[],[e]),f=Od(),g=(0,r.useRef)(null),E=(0,l.useFacetWrap)(s),h=(0,l.useFacetMap)(((e,t,a)=>e?a.map((e=>t.includes(e.id))):null),[],[E,u,e]),b=Ce(),v=(0,l.useFacetCallback)((e=>t=>{if(!t.repeat&&!m){if(t.keyCode==fe.HOME)return void b(CV(0));if(t.keyCode==fe.END)return void b(CV(e-1))}}),[m,b],[p]);return(0,r.useEffect)((()=>(window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)})),[v]),r.createElement(xl,{data:h},(s=>r.createElement(rz,{loading:d,gamepadAlias:"screenshot-gallery-grid",data:e,columns:kV(f),firstRowSeparatorVertical:r.createElement(Nm,{size:2}),itemSeparatorHorizontal:r.createElement(Nm,{size:2}),itemSeparatorVertical:r.createElement(Nm,{size:2}),innerRef:a,footer:r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:c,condition:!0},r.createElement("div",null,r.createElement(Nm,{size:4}),r.createElement("div",null,r.createElement(Yp,{containerRef:g},r.createElement("div",{ref:g},r.createElement(SP,{totalPages:o,currentPage:i,onChange:n})))),r.createElement(Nm,{size:4}))),r.createElement(l.Mount,{when:c,condition:!1},r.createElement(Nm,{size:4})),r.createElement(LE.Space,null)),renderItem:({itemFacet:e,index:a})=>r.createElement(MV,{length:p,screenshot:e,onScreenshotClicked:t,index:a,variant:null!=s?"select":"view",isSelected:null!=s&&s[a]})})))}let PV,IV;MV.Empty=function({index:e,length:t,variant:a,loading:n=!1,imgSrc:o,onClick:i,gamepadAlias:c,narrationSuffix:s="",imageAspectRatioOverride:u,featured:d=!1}){const{t:m}=Fc("ScreenshotGalleryItem"),{t:p}=Fc("ScreenshotGalleryItem.narration"),f=wr("inherit"),g=wr("neutral80"),E=(0,l.useFacetWrap)(a),h=(0,l.useFacetWrap)(n),b=(0,l.useFacetWrap)(s),v=(0,l.useFacetMap)(((t,a,n)=>[m("manage"===a?".pickScreenshot":".emptyScreenshotSlot"),p(".cardRole"),p(".enumeration",[(e+1).toString(),t.toString()]),n].filter((e=>null!=e&&""!==e)).join(" . ")),[p,m,e],[t,E,b]),y=Qp.aspectRatioToPercentage(null!=u?u:Qp.AspectRatio["16:9"]),F=(0,l.useFacetMap)((e=>`url(${e})`),[],[(0,l.useFacetWrap)(o)]);return"manage"===a?r.createElement(Xr,null,r.createElement(bH,{inputLegend:m(".screenshotInputLegend"),narrationTextOverride:v,onClick:i,gamepadAlias:c,fillShadow:!0},r.createElement(xl,{data:h},(e=>e?r.createElement(wV,{paddingTop:y}):r.createElement(xl,{data:F},(e=>r.createElement(r.Fragment,null,r.createElement("div",{style:{paddingTop:y,backgroundImage:e},className:zr()(bV,vV,f.background.base)},r.createElement("div",{className:zr()(yV,d?SV:"")},r.createElement(xM.AddImage,{className:FV}))),d&&r.createElement("div",{className:hV},r.createElement(_y,{role:"primaryTint"},m(".featured")))))))),r.createElement(bH.Information,{narrationText:v},r.createElement(zm,{variant:"dimmer",type:"body"},m(".pickScreenshot"))))):r.createElement("div",{className:"bd5eaab4045ae251f6ba"},r.createElement(Tm,{inputLegend:!1,narrationText:v,className:zr()("ef14b7a5b377bef4a132",g.border.base,g.background.base),classNameFocused:kp,gamepadAlias:c},r.createElement(wp,null),r.createElement(xl,{data:h},(e=>e?r.createElement(wV,{paddingTop:y}):r.createElement(xl,{data:F},(e=>r.createElement("div",{style:{paddingTop:y,backgroundImage:e},className:zr()(bV,vV,g.background.base)},r.createElement("div",{className:zr()(yV,d?SV:"")},r.createElement(xM.Image,{className:FV})))))))))},function(e){e[e.NewestFirst=0]="NewestFirst",e[e.OldestFirst=1]="OldestFirst",e[e.None=2]="None"}(PV||(PV={})),function(e){e[e.ShowAll=0]="ShowAll",e[e.Showcased=1]="Showcased",e[e.Unmarked=2]="Unmarked",e[e.Featured=3]="Featured"}(IV||(IV={}));const xV="bf363882c81bc598792a",AV="d92db03da279ad719764",OV="ec8ec750443dcf11b4e1",NV="bdabb5c23bf925c17a70",RV=a.p+"assets/Not-Logged-In-02f5b287b650a10c9da0.png",LV=a.p+"assets/Load-Error-0d717f89a7e7bf0b8443.png",_V=a.p+"assets/iconCameraButton-db27c8a087910f3ef4f9.png";function DV(){return DV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},DV.apply(null,arguments)}const WV=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("d84d84a98fb7ceaaa783",t);return r.createElement(Qp,DV({},a,{className:n,src:_V,imageRendering:"pixelated"}))};function BV(){const{t:e}=Fc("useCaptureScreenshotInfo"),t=(0,l.useSharedFacet)(dl);return(0,l.useFacetMap)((t=>{const a=e(".emptyGalleryTitle");if(Ok(t.platform,t.arvrPlatform)){const t=e(".controlHint.keyboard");return{icon:r.createElement(NE,{keyCode:fe.F2}),text:t,narration:t,title:a}}const n=e(".controlHint.touchscreen");return{icon:r.createElement(WV,null),text:n,narration:n,title:a}}),[e],[t])}function UV(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function zV(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let HV;function jV({errorType:e}){const{t}=Fc("ScreenshotGalleryError"),a=wr("neutral80"),n=p(),o=dy({wide:8,narrow:6,width:260}),i=(0,l.useFacetWrap)(e),c=(0,l.useSharedFacet)(nu),s=(0,l.useFacetCallback)((e=>()=>{e.clearLoadGalleryError(),e.retryLoadGallery()}),[],[c]),u=(0,r.useCallback)((()=>{n.push("/sign-in?signInSource=ProfileScreen_OreUI")}),[n]),d=BV(),m=(0,l.useFacetMap)(((e,a)=>{switch(e){case HV.EmptyGallery:return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?UV(Object(a),!0).forEach((function(t){zV(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):UV(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a);case HV.NotSignedIn:return{icon:r.createElement(Qp,{className:o?OV:NV,imageRendering:"pixelated",src:RV}),text:t(".notLoggedInMessage"),title:t(".notLoggedInTitle"),button:{text:t(".signInWithMicrosoft"),onClick:u}};case HV.LoadError:return{icon:r.createElement(Qp,{className:o?OV:NV,imageRendering:"pixelated",src:LV}),text:t(".loadErrorMessage"),title:t(".loadErrorTitle"),button:{text:t(".tryAgain"),onClick:s,variant:"secondary"}};default:return{icon:r.createElement(r.Fragment,null),text:"",title:""}}}),[o,u,t,s],[i,d]);return r.createElement(xl,{data:m},(e=>{var t;return r.createElement("div",{className:zr()("f113e0ac1e2697184782",a.background.base,a.border.base)},r.createElement(zm,{type:"secondaryButton",align:"center"},e.title),r.createElement(Nm,{size:4}),r.createElement("div",{className:"a9f09a99dda999f5ce5d"},e.icon),r.createElement(Nm,{size:4}),r.createElement(zm,{type:"captionShort",variant:"dimmest",align:"center"},e.text),null!=e.button&&r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement("div",{className:"e67bae56db371eb97412"},r.createElement(Ug,{inputLegend:e.button.text,variant:null!==(t=e.button.variant)&&void 0!==t?t:"primary",onClick:e.button.onClick},e.button.text))))}))}!function(e){e[e.NoError=0]="NoError",e[e.EmptyGallery=1]="EmptyGallery",e[e.NotSignedIn=2]="NotSignedIn",e[e.LoadError=3]="LoadError"}(HV||(HV={}));const VV="filter-dropdown-alias",GV="sort-dropdown-alias";function $V({headerText:e,showHeaderNumbers:t=!1,onScreenshotClicked:a,screenshotLists:n,scrollViewRef:o,managementRowButtons:i,isLoadingScreenshots:c=!1,onSubmitSelection:s,onCancelSelection:u,selectionType:d="confirm",maxSelection:m=-1,onGoBack:p,selectionEnabled:f=!1,banner:g,filterType:E="all"}){const{t:h}=Fc("ScreenshotGalleryContainer"),{t:b}=Fc("ScreenshotGalleryContainer.narration"),v=tv(ec),y=(0,l.useFacetWrap)(d),F=(0,l.useFacetWrap)(m),[S,C]=(0,l.useFacetState)(IV.ShowAll),M=(0,l.useSharedFacet)(nu),w=(0,l.useFacetWrap)(c),k=(0,l.useFacetWrap)(f),[T,P]=(0,l.useFacetState)(1),[I,x]=(0,l.useFacetState)(!1),A=Ce(),O=(0,r.useCallback)((()=>{null!=o&&null!=o.current&&(o.current.scrollTop=0),A(CV(0))}),[o,A]),N=(0,r.useCallback)((e=>{x(e.target.scrollTop>0)}),[x]);(0,r.useEffect)((()=>{const e=null==o?void 0:o.current;return requestAnimationFrame((()=>{const e=null==o?void 0:o.current;null==e||e.addEventListener("scroll",N)})),()=>{null==e||e.removeEventListener("scroll",N)}}),[o,N]);const R=(0,r.useCallback)((e=>{P(e),O()}),[O,P]),[L,_]=(0,l.useFacetState)([]);(0,l.useFacetEffect)((e=>{e&&C(IV.ShowAll),R(1),_([])}),[R,C,_],[k]);const D=(0,l.useFacetMap)((e=>0===e.length),[],[L]),W=(0,l.useFacetCallback)((e=>t=>{_((a=>a===l.NO_VALUE?l.NO_VALUE:a.includes(t.id)?a.filter((e=>e!==t.id)):-1===e||a.length<e?[...a,t.id]:a))}),[_],[F]),B=(0,l.useFacetCallback)((e=>()=>{s&&s(e)}),[s],[L]),U=(0,l.useFacetMap)(((e,t)=>"delete"===e?h(1===t.length?".deleteButtonTextSingular":".deleteButtonText",[`${t.length}`]):h(".confirmButtonText")),[h],[y,L]),z=Od(),[H,j]=(0,l.useFacetState)(PV.NewestFirst),V=(0,r.useCallback)((e=>{j(e),O(),R(1)}),[R,O,j]),G=(0,r.useCallback)((e=>{C(e),O(),R(1)}),[R,O,C]),$=(0,l.useFacetWrap)([{label:h(".newestFirst"),value:PV.NewestFirst,gamepadAlias:"screenshot-sort-menu-options1",enumeration:h(".optionsEnumeration",["1","2"])},{label:h(".oldestFirst"),value:PV.OldestFirst,gamepadAlias:"screenshot-sort-menu-options2",enumeration:h(".optionsEnumeration",["2","2"])}]),K=function(e,t="all"){const{t:a}=Fc("ScreenshotGalleryContainer"),n=(0,l.useFacetWrap)(t);return(0,l.useFacetMap)(((e,t)=>{const n=[{label:a("all"===t?".showAll":".available",[e.all.length.toString()]),value:IV.ShowAll,gamepadAlias:"screenshot-filter-menu-options-1",enumeration:""}];e.showcased.length>0&&"all"===t&&n.push({label:a(".showcased",[e.showcased.length.toString()]),value:IV.Showcased,gamepadAlias:`screenshot-filter-menu-options-${n.length+1}`,enumeration:""}),e.unmarked.length>0&&n.push({label:a(".unmarked",[e.unmarked.length.toString()]),value:IV.Unmarked,gamepadAlias:`screenshot-filter-menu-options-${n.length+1}`,enumeration:""}),e.featured.length>0&&n.push({label:a(".featured",[e.featured.length.toString()]),value:IV.Featured,gamepadAlias:`screenshot-filter-menu-options-${n.length+1}`,enumeration:""});for(let e=0;e<n.length;e++)n[e].enumeration=a(".optionsEnumeration",[`${e+1}`,`${n.length}`]);return n}),[a],[e,n])}(n,E),Y=(0,l.useFacetWrap)(e),X=(0,l.useFacetWrap)(t),q=(0,l.useFacetMap)(((e,t,a,n,r,l,o)=>t&&-1===l||!r?e:h(".headerTextWithNumbers",[e,`${t?a.length:n.all.length}`,`${t?l:o.maxScreenshots}`])),[h],[Y,k,L,n,X,F,M]),Q=function(e,t,a,n=1){const r=(0,l.useFacetWrap)(n);return(0,l.useFacetMap)(((e,t,a,n)=>{let r=[];switch(a){case IV.Showcased:r=FT(e.showcased);break;case IV.Featured:r=FT(e.featured);break;case IV.Unmarked:r=FT(e.unmarked);break;default:r=FT(e.all)}t===PV.NewestFirst?r=r.sort(((e,t)=>t.captureTime-e.captureTime)):t===PV.OldestFirst&&(r=r.sort(((e,t)=>e.captureTime-t.captureTime)));const l=r.slice(48*(n-1),48*n);return{fullData:r,pageData:l}}),[],[e,t,a,r])}(n,H,S,T),Z=(0,l.useFacetMap)((e=>e.pageData),[],[Q]),J=(0,l.useFacetMap)((e=>e.fullData),[],[Q]),[ee,te]=(0,l.useFacetState)(!1),[ae,ne]=(0,l.useFacetState)(1);(0,l.useFacetEffect)(((e,t)=>{const a=t.length>48,n=Math.ceil(t.length/48);te(a),ne(n),0===e.length&&0!==t.length&&R(n)}),[R,te,ne],[Z,J]);const re=(0,l.useFacetCallback)(((e,t,n)=>r=>{n?W(r):a(r,e,t)}),[a,W],[H,S,k]),le=(0,l.useFacetMap)(((e,t,a,n)=>a.isLoggedInWithMicrosoftAccount?n.loadGalleryError===au.HttpError?HV.LoadError:null!=e&&0!==e.length||t?HV.NoError:HV.EmptyGallery:HV.NotSignedIn),[],[J,w,(0,l.useSharedFacet)(Wu),M]),oe=(0,l.useFacetMap)(((e,t)=>e&&t===HV.NoError),[],[I,le]),ie=(0,l.useFacetMap)(((e,t)=>e===HV.NoError&&!t),[],[le,k]),ce=(0,l.useFacetMap)((e=>!Ik(e.platform)),[],[(0,l.useSharedFacet)(dl)]),se=(0,l.useFacetMap)((e=>e?v?"both":"justSort":v?"justFilter":"empty"),[v],[ce]),ue=(0,l.useFacetMap)((e=>"justSort"===e?GV:"empty"===e?void 0:VV),[],[se]),de=(0,l.useFacetMap)((e=>"narrow"===z&&"both"===e?"cceb038cb0a692de4b77":"ce2abe913cdc066f8027"),[z],[se]),me=(0,l.useFacetMap)((e=>zr()("b0001b0b1b3f83491783","narrow"===z?"":"both"===e?"b6d5db4f5f3ed2b58716":"be7a8d0be9e4d65314e1")),[z],[se]),pe=(0,l.useFacetMap)((e=>"justFilter"===e||"both"===e),[],[se]),fe=(0,l.useFacetMap)((e=>"justSort"===e||"both"===e),[],[se]),ge=(0,l.useFacetMap)((e=>"empty"===e),[],[se]),Ee=(0,l.useFacetMap)(((e,t)=>[b(".screenshots"),b(".grid"),b(e?"confirm"===t?".selectionClickInstructions":".deletionClickInstructions":".screenshotClickInstructions")].join(" . ")),[b],[k,y]);return r.createElement(yx,{screenAnalyticsId:"ScreenshotGalleryContainer",title:q,gamepadAlias:"screenshot-gallery-container",delegateByAlias:ue,onBack:p},(()=>r.createElement(Cv,null,r.createElement(Nm,{size:3}),r.createElement(l.Mount,{when:ie},r.createElement(Cv.Row,null,r.createElement(Zf,{text:[b(".screenshotOptions"),b(".horizontalGroupChoice")].join(" . ")},r.createElement(Cv.Column,{wideSize:12,narrowSize:8},r.createElement("fast-div",{className:de},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:ge,condition:!1},r.createElement(r.Fragment,null,r.createElement("fast-div",{className:me},r.createElement(l.Mount,{when:pe},r.createElement(r.Fragment,null,r.createElement("div",{className:xV},r.createElement(oA,{title:h(".filterOptions"),options:K,value:S,onItemSelect:G,buttonTestId:"filter-dropdown-button",matchButtonHeight:!0,gamepadAlias:VV})),r.createElement(Nm,{size:2}))),r.createElement(l.Mount,{when:fe},r.createElement("div",{className:xV},r.createElement(oA,{title:h(".sortOptions"),options:$,value:H,onItemSelect:V,buttonTestId:"sort-dropdown-button",matchButtonHeight:!0,gamepadAlias:GV})))),r.createElement(Nm,{size:2}))),i)),g)))),r.createElement(l.Mount,{when:k},r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:12,narrowSize:8},r.createElement("div",{className:"f2a6a8e876a1d512bed5"},r.createElement("div",{className:AV},r.createElement(Ug,{inputLegend:h(".cancel"),onClick:u,"data-testid":"cancel-selection"},h(".cancel"))),r.createElement(Nm,{size:2}),r.createElement("div",{className:AV},r.createElement(xl,{data:y},(e=>r.createElement(Ug,{inputLegend:U,onClick:B,disabled:D,"data-testid":"submit-selection",variant:"confirm"===e?"primary":"destructive"},U)))))))),r.createElement(Nm,{size:3}),r.createElement(l.Mount,{when:oe},r.createElement("div",{className:"d03a81eca2b1f809348f","data-testid":"gallery-content-divider"},r.createElement(dP,{role:"neutral80",reversed:!1}))),r.createElement(Cv.Row,{fullHeight:!0},r.createElement(xl,{data:le},(e=>e===HV.NoError?r.createElement(Cv.Column,{narrowSize:8,wideSize:12},r.createElement(Zf,{text:Ee},r.createElement(TV,{displayData:Z,onScreenshotClicked:re,changePage:R,currentPage:T,totalPages:ae,paginationEnabled:ee,innerRef:o,selectedScreenshots:L,isLoadingScreenshots:w,selectionEnabled:k}))):r.createElement(r.Fragment,null,r.createElement(Cv.Column,{narrowSize:0,wideSize:1}),r.createElement(Cv.Column,{narrowSize:8,wideSize:10},r.createElement(jV,{errorType:e})),r.createElement(Cv.Column,{narrowSize:0,wideSize:1}))))),r.createElement(LE.Space,null))))}function KV(e=[]){const t=(0,l.useFacetWrap)(e),a=(0,l.useFacetMap)(((e,t)=>0===t.length?e.screenshots:t),[],[(0,l.useSharedFacet)(nu),t]);return(0,l.useFacetMap)((e=>({all:e,showcased:jw(e,(e=>e.showcased)),featured:jw(e,(e=>e.featured)),unmarked:jw(e,(e=>!e.showcased&&!e.featured))})),[],[a])}function YV(){const{t:e}=Fc("RealmsStoriesScreenshotGalleryRoute"),t=(0,l.useSharedFacet)(ss),a=(0,l.useSharedFacet)(nu),n=p(),o=(0,l.useFacetCallback)((e=>t=>{e.storyScreenshotSelectionFilePath=t.filePath,n.goBack()}),[n],[t]),i=(0,l.useFacetMap)((e=>e.isLoadGalleryInProgress),[],[a]),c=KV(),s=(0,r.useRef)(null);return r.createElement($V,{onScreenshotClicked:o,headerText:e(".header"),screenshotLists:c,scrollViewRef:s,isLoadingScreenshots:i})}const XV="upload-realms-error-modal-back",qV=yp((()=>{const{t:e}=Fc("EditWorld.playOnRealmsErrorModal"),t=(0,l.useSharedFacet)(Xs),a=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.uploadWorldToRealmError)&&void 0!==t?t:Ys.UnknownError}),[],[t]),n=(0,l.useFacetCallback)((e=>()=>e.clearUploadWorldToRealmTaskState()),[],[t]),o=(0,l.useFacetMap)((t=>{switch(t){case Ys.CrossPlatformRestricted:return{title:e(".crossPlatformRestricted.title"),firstParagraph:e(".crossPlatformRestricted.message"),secondParagraph:e(".crossPlatformRestricted.message2")};case Ys.TooManyRealms:return{title:e(".memberOfTooManyRealms.title"),firstParagraph:e(".memberOfTooManyRealms.message"),secondParagraph:""};case Ys.ActionAlreadyInProgress:case Ys.CannotSaveWorld:case Ys.Generic:case Ys.InvalidRealmName:case Ys.InvalidResponse:case Ys.InvalidWorldId:case Ys.UnknownError:default:return{title:e(".unknown.title"),firstParagraph:e(".unknown.message"),secondParagraph:e(".unknown.errorCode",[`${t}`])}}}),[e],[a]),i=(0,l.useFacetMap)((e=>e.title),[],[o]),c=(0,l.useFacetMap)((e=>e.firstParagraph),[],[o]),s=(0,l.useFacetMap)((e=>e.secondParagraph),[],[o]),u=(0,l.useFacetMap)((e=>""!=e.secondParagraph),[],[o]);return r.createElement($E,{onOverlayClick:n,defaultFocusAlias:XV},r.createElement($E.Header,{onClose:n},i),r.createElement($E.Content,null,r.createElement(l.Mount,{when:u,condition:!1},r.createElement($E.Text,{narrationText:c,center:!0},c)),r.createElement(l.Mount,{when:u,condition:!0},r.createElement($E.Paragraphs,{narrationText:`${c}. ${s}`,spaceBetweenParagraphs:5},r.createElement(zm,{type:"captionLong",align:"center"},c),r.createElement(zm,{type:"captionLong",align:"center"},s)))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:XV,inputLegend:e(".closeButton"),variant:"secondary",onClick:n},e(".closeButton"))))})),QV="join-realms-error-modal-back",ZV="join-realms-error-primary-action",JV=yp((({worldId:e})=>{const{t}=Fc("JoinRealmsServerError"),a=p(),n=(0,l.useSharedFacet)(Ic),o=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.joinRealmResult)&&void 0!==t?t:Tc.UnknownError}),[],[n]),i=(0,l.useFacetCallback)((e=>()=>e.clearJoinRealmTaskState()),[],[n]),c=(0,l.useFacetMap)((e=>e===Tc.UnassignedDevVersion),[],[o]),s=(0,l.useFacetCallback)(((e,t)=>()=>{a.push(`/realms-slot-settings/${t}/dev-options`),e.clearJoinRealmTaskState()}),[a],[n,(0,l.useFacetWrap)(e)]),u=(0,l.useFacetMap)((e=>{switch(e){case Tc.UnassignedDevVersion:return{title:"Realm version is unassigned",firstParagraph:"A non-retail Realm world must be manually assigned a game version to use.",secondParagraph:"To assign a version, go to the developer options tab in the Realm world settings.",primaryActionText:"Go to settings"};case Tc.MemberOfTooManyRealms:return{title:t(".memberOfTooManyRealms.title"),firstParagraph:t(".memberOfTooManyRealms.message"),secondParagraph:""};case Tc.CannotConnectToRealm:return{title:t(".cannotConnectToRealm.title"),firstParagraph:t(".cannotConnectToRealm.message"),secondParagraph:""};case Tc.JoinRealmAlreadyInProgress:case Tc.RealmIDConversionFailed:case Tc.RealmsNotInitialized:case Tc.RealmsApiNotAvailable:case Tc.MobileDataBlockedAndNoWifi:case Tc.UnknownError:default:return{title:t(".unknown.title"),firstParagraph:t(".unknown.message"),secondParagraph:t(".unknown.errorCode",[`${e}`])}}}),[t],[o]),d=(0,l.useFacetMap)((e=>e.title),[],[u]),m=(0,l.useFacetMap)((e=>e.firstParagraph),[],[u]),f=(0,l.useFacetMap)((e=>e.secondParagraph),[],[u]),g=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.primaryActionText)&&void 0!==t?t:""}),[],[u]),E=(0,l.useFacetMap)((e=>""!=e.secondParagraph),[],[u]),h=(0,l.useFacetMap)((e=>e?ZV:QV),[],[c]);return r.createElement($E,{onOverlayClick:i,defaultFocusAlias:h},r.createElement($E.Header,{onClose:i},d),r.createElement($E.Content,null,r.createElement(l.Mount,{when:E,condition:!1},r.createElement($E.Text,{narrationText:m,center:!0},m)),r.createElement(l.Mount,{when:E,condition:!0},r.createElement($E.Paragraphs,{narrationText:`${m}. ${f}`,spaceBetweenParagraphs:5},r.createElement(zm,{type:"captionLong",align:"center"},m),r.createElement(zm,{type:"captionLong",align:"center"},f)))),r.createElement($E.Buttons,null,r.createElement(l.Mount,{when:c},r.createElement(r.Fragment,null,r.createElement(Ug,{gamepadAlias:ZV,inputLegend:g,variant:"primary",onClick:s},g),r.createElement(Nm,{size:1}))),r.createElement(Ug,{gamepadAlias:QV,inputLegend:t(".closeButton"),variant:"secondary",onClick:i},t(".closeButton"))))})),eG=yp((({onClose:e})=>{const{t}=Sc("multiplayerBlockedModal"),a=(0,l.useSharedFacet)(zu),n=(0,l.useSharedFacet)(Wu),o=(0,l.useSharedFacet)(dl),i=Dk(),c=(0,l.useFacetCallback)(((e,t,a)=>()=>{Pk(t.platform)?a.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(Uu.TroubleshootingMultiplayerDisabled)}),[],[a,o,n]),s=(0,l.useFacetCallback)(((e,t,a)=>()=>{Pk(t.platform)?a.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(Uu.ParentPermissionHelpPage)}),[],[a,o,n]),u=(0,l.useFacetCallback)((t=>()=>{t.showPremiumNetworkUpsellModal(),e()}),[e],[n]),d=(0,l.useFacetMap)(((e,t)=>e.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive_Parental)?"multiplayer-parental":e.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive)?"multiplayer-disabled":t?"multiplayer-disabled-third-party":void 0),[],[n,i]),m=(0,l.useFacetMap)((e=>Ik(e.platform)?t(".bodyMultiplayerDisabledExternalNintendo"):t(".bodyMultiplayerDisabledExternal")),[t],[(0,l.useSharedFacet)(dl)]);return r.createElement($E,null,r.createElement($E.Header,{onClose:e},t(".title")),r.createElement($E.Content,null,r.createElement(xl,{data:d},(e=>{switch(e){case"multiplayer-disabled":return r.createElement($E.Text,{gamepadIndex:0,narrationText:t(".bodyMultiplayerDisabled"),center:!0},t(".bodyMultiplayerDisabled"));case"multiplayer-parental":return r.createElement($E.Text,{gamepadIndex:0,narrationText:t(".bodyMultiplayerDisabledParental"),center:!0},t(".bodyMultiplayerDisabledParental"));case"multiplayer-disabled-third-party":return r.createElement($E.Text,{gamepadIndex:0,narrationText:t(".bodyMultiplayerDisabledExternal"),center:!0},m);default:return null}}))),r.createElement(xl,{data:d},(a=>{switch(a){case"multiplayer-disabled":return r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{horizontal:!0,variant:"secondary",inputLegend:t(".close"),onClick:e},t(".close")),r.createElement(Nm,{size:2}),r.createElement(Ug,{horizontal:!0,Icon:xM.ExternalLink,variant:"primary",inputLegend:t(".learnMore"),onClick:c},t(".learnMore")));case"multiplayer-parental":return r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{horizontal:!0,variant:"secondary",inputLegend:t(".close"),onClick:e},t(".close")),r.createElement(Nm,{size:2}),r.createElement(Ug,{horizontal:!0,Icon:xM.ExternalLink,variant:"primary",inputLegend:t(".learnMore"),onClick:s},t(".learnMore")));default:return r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{horizontal:!0,variant:"secondary",inputLegend:t(".close"),onClick:e},t(".close")),r.createElement(Nm,{size:2}),r.createElement(Ug,{horizontal:!0,Icon:xM.ExternalLink,variant:"primary",inputLegend:t(".learnMore"),onClick:u},t(".learnMore")))}})))})),tG=yp((({onClose:e,onChangeSkin:t,text:a})=>{const{t:n}=Fc("JoinRealmsServerError.invalidMultiplayerSkin"),l="non-multiplayer-skin-modal-button",o=null!=a?a:n(".body");return r.createElement($E,{defaultFocusAlias:l},r.createElement($E.Header,{onClose:e},n(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:o,center:!0},o)),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:l,inputLegend:n(".changeSkin"),variant:"primary",onClick:()=>{t(),e()}},n(".changeSkin")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:n(".close"),variant:"secondary",onClick:e},n(".close"))))})),aG=yp((({onClose:e})=>{const{t}=Fc("JoinRealmsServerError.noPlatformSubscription"),a=(0,l.useSharedFacet)(dl),n=(0,l.useFacetMap)((e=>e.platform),[],[a]),o=(0,l.useFacetMap)((e=>Ik(e)?t(".nintendo.body"):t(".xbox.body")),[t],[n]),i=(0,l.useFacetMap)((e=>Ik(e)),[],[n]),c=(0,l.useFacetCallback)((t=>()=>{t.showPremiumNetworkUpsellModal(),e()}),[e],[(0,l.useSharedFacet)(Wu)]);return r.createElement($E,null,r.createElement($E.Header,{onClose:e},t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:o,center:!0},o)),r.createElement(l.Mount,{when:i},r.createElement($E.Buttons,null,r.createElement(Ug,{inputLegend:t(".nintendo.moreInformation"),variant:"secondary",onClick:c,"data-testid":"no-platform-modal-more-info-button"},t(".nintendo.moreInformation")))))})),nG="missing-dependency-modal-accept",rG=yp((({onClose:e,onAccept:t,hasMissingPacks:a,hasMissingTemplate:n})=>{const{t:o}=Fc("PlayScreen.missingDependenciesModal"),i=(0,l.useSharedFacet)(od),c=(0,l.useSharedFacet)(hd),s=(0,l.useFacetMap)((e=>e.packDownloadStatus===nd.Downloading||e.packDownloadStatus===nd.Importing),[],[i]),u=(0,l.useFacetMap)((e=>e.downloadingStatus===fd.Downloading||e.downloadingStatus===fd.Importing||e.downloadingStatus===fd.Initialising),[],[c]),d=(0,l.useFacetMap)(((e,t)=>e.packDownloadStatus===nd.Importing||t.downloadingStatus===fd.Importing),[],[i,c]),m=(0,l.useFacetMap)(((e,t,a,n,r)=>{const l=r?.5:0;return a?.5*e.packDownloadProgress+l:n?.5*t.downloadingProgressPercent+l:0}),[],[i,c,s,u,d]),p=(0,l.useFacetMap)(((e,t)=>e.packDownloadTaskState===Hk.RUNNING||t.downloadingTaskState===Hk.RUNNING||e.packDownloadStatus===nd.Completed||t.downloadingStatus===fd.Success),[],[i,c]),f=(0,l.useFacetMap)((e=>o(e?".title.downloading":".title")),[o],[p]),g=(0,l.useFacetMap)(((e,t,a,n)=>{if(a&&n){return o(e?".body.importingMultiple":".body.downloadingMultiple",[t?"2":"1","2"])}return o(e?".body.importing":".body.downloading")}),[o],[d,u,a,n]),E=(0,l.useFacetMap)(((e,t)=>e?t:o(".body")),[o],[p,g]),h=(0,l.useFacetCallback)(((t,a)=>()=>{a.cancelDownload(),a.resetDownloadTask(),t.cancelPackDownload(),e()}),[e],[i,c]);return r.createElement($E,{defaultFocusAlias:nG},r.createElement($E.Header,{hideCloseButton:d,onClose:h},f),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:E,center:p},E),r.createElement(l.Mount,{when:p},r.createElement($E.Progress,{percentage:m}))),r.createElement(l.Mount,{when:p,condition:!1},r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:nG,inputLegend:o(".primary"),onClick:t,variant:"primary","data-testid":"start-download-dependencies-button"},o(".primary")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:o(".close"),onClick:h,"data-testid":"close-download-dependencies-button"},o(".close")))))}));function lG(){const e=(0,l.useSharedFacet)(sd),t=(0,l.useSharedFacet)(xc),a=(0,l.useFacetMap)((e=>e.startLocalWorldTaskState),[],[e]);return Vk(((e,t)=>function*(n){e.clearStartLocalWorldResult(),t.doNotShowOldWorldsWarning=!0,e.startLocalWorld(n),yield a,e.startLocalWorldResult===id.Ok&&e.clearStartLocalWorldResult()}),[a],[e,t])}function oG(){const e=(0,l.useSharedFacet)(sd),t=(0,l.useSharedFacet)(od),a=(0,l.useSharedFacet)(hd),n=(0,l.useFacetMap)((e=>e.packDownloadTaskState),[],[t]),r=(0,l.useFacetMap)((e=>e.downloadingTaskState),[],[a]),o=(0,l.useFacetMap)((e=>e.missingPacksToStart.length>0),[],[e]),i=(0,l.useFacetMap)((e=>""!==e.missingTemplateToStart),[],[e]),c=lG(),s=Vk(((e,t,a,l,o)=>function*(i,s){if(!i)return;let u=!0;if(l){const t=a.missingPacksToStart.map((e=>e.id));e.isInitialized||e.loadPacksData(i),e.downloadPacks(i,t),yield n,u=e.packDownloadTaskState===Hk.DONE,e.cancelPackDownload()}o&&u&&(t.downloadWorldTemplate(a.missingTemplateToStart),yield r,u=t.downloadingTaskState===Hk.DONE,t.cancelDownload(),t.resetDownloadTask()),u&&(null==s||s(),c(i))}),[n,r,c],[t,a,e,o,i]);return{downloadAssetsAndStartWorld:s,hasMissingPacks:o,hasMissingTemplate:i}}const iG="missing-active-resources-modal-accept",cG=yp((()=>{const{t:e}=Fc("PlayScreen.unownedPacksModal"),t=p(),a=(0,l.useFacetCallback)((e=>()=>e.clearStartLocalWorldResult()),[],[(0,l.useSharedFacet)(sd)]),n=(0,l.useFacetCallback)((e=>()=>{e.missingPacksToStart.length>0?t.push("/marketplace?packId="+e.missingPacksToStart[0].id.split("_")[0]):t.push("/marketplace"),a()}),[t,a],[(0,l.useSharedFacet)(sd)]);return r.createElement($E,{onOverlayClick:a,defaultFocusAlias:iG},r.createElement($E.Header,{onClose:a},e(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:e(".body"),gamepadIndex:0},e(".body"))),r.createElement($E.Buttons,null,r.createElement(Ug,{inputLegend:e(".confirm"),variant:"primary",onClick:n,"data-testid":"confirm-redirect-martketplace",gamepadAlias:iG},e(".confirm")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:e(".decline"),variant:"secondary",onClick:a},e(".decline"))))})),sG=yp((()=>{const{t:e}=Fc("PlayScreen.unexpectedLaunchErrorModal"),t="pop-up-modal-unexpectedLaunchErrorModal",a=(0,l.useSharedFacet)(sd),n=(0,l.useFacetCallback)((e=>()=>{e.clearStartLocalWorldResult()}),[],[a]),o=(0,l.useFacetMap)((t=>{var a;if(t.startLocalWorldResult===id.WorldSavedInNewerVersion)return e(".missmatchingGameVersion");const n=`${null!==(a=t.startLocalWorldResult)&&void 0!==a?a:"n/a"}`;return e(".body2",[n])}),[e],[a]);return r.createElement($E,{defaultFocusAlias:t},r.createElement($E.Header,{onClose:n},e(".title")),r.createElement($E.Content,null,r.createElement($E.Paragraphs,{narrationText:(0,l.useFacetMap)((t=>`${e(".body")} . ${t}`),[e],[o]),gamepadIndex:0},r.createElement(zm,{type:"captionLong",align:"center"},e(".body")),r.createElement(zm,{type:"captionLong",align:"center"},o))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:t,inputLegend:e(".close"),variant:"secondary",onClick:n},e(".close"))))}));var uG;!function(e){e[e.SELECT_SCREENSHOT=0]="SELECT_SCREENSHOT",e[e.RESET=1]="RESET"}(uG||(uG={}));const dG=yp((({isOpen:e,onClose:t,onItemSelected:a})=>{const{t:n}=Fc("EditWorld.EditThumbnailModal");return r.createElement(YT,{title:n(".title"),items:[{enumeration:n(".optionsEnumeration",["1","2"]),label:n(".changeThumbnail"),value:uG.SELECT_SCREENSHOT,Icon:xM.EditImage,testId:"change-thumbnail-option"},{enumeration:n(".optionsEnumeration",["2","2"]),label:n(".resetThumbnail"),value:uG.RESET,Icon:xM.Reset,testId:"reset-thumbnail-option"}],isOpen:e,onClose:t,onItemSelect:a})})),mG=({editThumbnailModalMenu:e})=>{const{t}=Fc("PlayScreen"),a=p(),n=RN(),o=(0,l.useSharedFacet)(td),i=(0,l.useSharedFacet)(sd),c=(0,l.useSharedFacet)(Ku),s=(0,l.useSharedFacet)(od),u=(0,l.useSharedFacet)(Xs),d=(0,l.useSharedFacet)(Ic),m=(0,l.useSharedFacet)(dl),f=(0,l.useSharedFacet)(Wu),g=(0,l.useSharedFacet)(Ac),E=(0,l.useFacetCallback)(((e,t,a)=>()=>{e.useMobileDataOnce=!0,t.joinRealmWorld(a.uploadedRealmWorldId.toString(),Pc.EditWorld)}),[],[(0,l.useSharedFacet)(Rc),d,u]),h=yd(),b=(0,l.useFacetMap)((e=>e.exportWorldStatus===Zu.SelectingFileDestination),[],[o]),v=(0,l.useFacetMap)((e=>Tk(e.platform)),[],[m]),y=(0,l.useFacetMap)((e=>e.exportWorldStatus===Zu.Exporting||e.exportWorldStatus===Zu.Setup),[],[o]),F=(0,l.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&t!=id.Ok&&t!=id.MissingDependencies&&t!=id.DlcMissingContentKey}),[],[i]),S=(0,l.useFacetMap)((e=>e.saveLocalWorldTaskState===Hk.RUNNING),[],[c]),C=(0,l.useFacetMap)(((e,t)=>null!=t.duplicateWorldError||null!=e.saveLocalWorldError||null!=e.loadWorldError),[],[c,o]),M=(0,l.useFacetMap)((e=>null!=e.packDownloadError||null!=e.lastConsultedPackSizesError),[],[s]),w=(0,l.useFacetMap)((e=>e.duplicateWorldTaskState===Hk.RUNNING),[],[o]),k=(0,l.useFacetMap)((e=>e.makeWorldInfiniteState===Hk.RUNNING),[],[o]),T=(0,l.useFacetMap)((e=>e.startLocalWorldResult==id.DlcMissingContentKey),[],[i]),P=(0,l.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&t===id.HasUnownedPacks}),[],[(0,l.useSharedFacet)(sd)]),I=(0,l.useFacetMap)(((e,t)=>e.packDownloadTaskState!==Hk.IDLE&&e.packDownloadTaskState!==Hk.FAILED&&t.startLocalWorldResult!==id.MissingDependencies),[],[s,i]),x=(0,l.useFacetMap)((e=>e.packDownloadName),[],[s]),A=(0,l.useFacetMap)((e=>e.packDownloadProgress),[],[s]),O=(0,l.useFacetMap)((e=>e.packDownloadStatus===nd.Importing),[],[s]),N=(0,l.useFacetCallback)((e=>()=>{e.cancelPackDownload()}),[],[s]),R=(0,l.useFacetMap)((e=>e.joinRealmResult),[],[d]),L=(0,l.useFacetMap)((e=>null!=e.uploadWorldToRealmError),[],[u]),_=(0,l.useFacetMap)((e=>e.uploadedRealmWorldId.toString()),[],[u]),D=(0,l.useFacetMap)((e=>null!=e&&e!==Tc.Ok&&e!==Tc.InvalidCrossPlatformMultiplayerSkin&&e!==Tc.MobileDataBlockedAndNoWifi&&e!==Tc.MissingPlatformMembership&&e!==Tc.MultiplayerPrivilegeBlocked),[],[R]),W=(0,l.useFacetMap)(((e,t)=>e===Tc.MissingPlatformMembership&&!t),[],[R,v]),B=(0,l.useFacetMap)((e=>e===Tc.MobileDataBlockedAndNoWifi),[],[R]),U=(0,l.useFacetMap)((e=>e===Tc.InvalidCrossPlatformMultiplayerSkin),[],[R]),z=(0,l.useFacetCallback)((e=>()=>{e.clearJoinRealmTaskState()}),[],[d]),H=(0,l.useFacetMap)((e=>e===Tc.MultiplayerPrivilegeBlocked),[],[R]),{downloadAssetsAndStartWorld:j,hasMissingPacks:V,hasMissingTemplate:G}=oG(),$=(0,l.useFacetCallback)(((e,a)=>()=>{j(encodeURI(e),(()=>{a.queueSnackbar(t(".missingDependenciesModal.downloadComplete"))}))}),[j,t],[n,g]),K=(0,l.useFacetCallback)((e=>()=>{e.clearStartLocalWorldResult()}),[],[i]),Y=(0,l.useFacetMap)(((e,t)=>null!=e&&t.startLocalWorldResult===id.MissingDependencies),[],[n,i]),X=(0,l.useFacetCallback)(((t,n)=>r=>{r===uG.SELECT_SCREENSHOT?a.push(`/edit-world-thumbnail/${encodeURIComponent(t)}`):n.resetWorldIconToDefault(t),e.hide()}),[a,e],[n,o]);return(0,l.useFacetEffect)(((e,t,a,n,r,l,o,i,c)=>{e&&h({modal:jN.WorldEditingError,screen:jN.EditWorldScreen}),(t||l||o||i)&&h({modal:jN.JoinRealmsError,screen:jN.EditWorldScreen}),a&&h({modal:jN.ResourcePackDownloadError,screen:jN.EditWorldScreen}),n&&h({modal:jN.UnexpectedLaunchError,screen:jN.EditWorldScreen}),r&&h({modal:jN.UploadRealmsError,screen:jN.EditWorldScreen}),c&&h({modal:jN.MissingDependencies,screen:jN.EditWorldScreen})}),[h],[C,D,I,F,L,W,B,U,Y]),(0,l.useFacetEffect)(((e,t,a)=>{e&&!t.hasPremiumNetworkAccess&&a===Tc.MissingPlatformMembership&&t.showPremiumNetworkUpsellModal()}),[],[v,f,R]),r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:I},r.createElement(HO.Component,{title:x,percentage:A,isImportingPack:O,onCancel:N})),r.createElement(l.Mount,{when:T},r.createElement(gO.Component,null)),r.createElement(l.Mount,{when:F},r.createElement(sG.Component,null)),r.createElement(l.Mount,{when:M},r.createElement(BO.Component,null)),r.createElement(l.Mount,{when:S},r.createElement(zN.Component,null)),r.createElement(l.Mount,{when:C},r.createElement(UN.Component,null)),r.createElement(l.Mount,{when:w},r.createElement(LN.Component,null)),r.createElement(l.Mount,{when:k},r.createElement(HN.Component,null)),r.createElement(l.Mount,{when:y},r.createElement(ON.Component,null)),r.createElement(l.Mount,{when:P},r.createElement(cG.Component,null)),r.createElement(l.Mount,{when:b},r.createElement($E.Overlay,null,r.createElement(r.Fragment,null))),r.createElement(l.Mount,{when:L},r.createElement(qV.Component,null)),r.createElement(l.Mount,{when:D},r.createElement(JV.Component,{worldId:_})),r.createElement(l.Mount,{when:B},r.createElement(Zk.Component,{joinServer:E,onClose:z})),r.createElement(l.Mount,{when:U},r.createElement(tG.Component,{onClose:z,onChangeSkin:()=>{a.push("/persona")}})),r.createElement(l.Mount,{when:W},r.createElement(aG.Component,{onClose:z})),r.createElement(l.Mount,{when:H},r.createElement(eG.Component,{onClose:z})),r.createElement(l.Mount,{when:Y},r.createElement(rG.Component,{onClose:K,onAccept:$,hasMissingPacks:V,hasMissingTemplate:G})),r.createElement(dG.Component,{isOpen:e.isVisible,onClose:e.hide,onItemSelected:X}))},pG=({onPlayWorld:e})=>{const{t}=Fc("EditWorld"),a=sO.useModal(),n=xN(),{generalData:o,multiplayerData:i}=NN(),c=SW(o),{disableMainButton:s,buttonHint:u}=xW(c,i,o,t,"SideMenu.narrationPlayButtonHint"),d=(0,l.useFacetCallback)((t=>()=>{t.worldHasBeenModified&&!t.worldData.achievementsPermanentlyDisabled&&t.worldData.achievementsDisabled?a.show():e()}),[e,a],[(0,l.useSharedFacet)(Ku)]);return r.createElement(r.Fragment,null,r.createElement(Ug,{"data-testid":"edit-world",disabled:s,gamepadAlias:XA,narrationSuffix:u,variant:"hero",onClick:d,inputLegend:t("SideMenu.play")},t("SideMenu.play")),r.createElement(l.Mount,{when:a.isVisible},r.createElement(sO.Component,{onClose:a.hide,onConfirm:e,reasons:n,isEditWorld:!0})))},fG=({isRealmsButtonDisabled:e,onPlayOnRealms:t})=>{const{t:a}=Fc("EditWorld"),n=YO.useModal(),{generalData:o,multiplayerData:i}=NN(),c=SW(o),{disableSecondaryButton:s,buttonHint:u}=xW(c,i,o,a,"SideMenu.narrationPlayButtonHint",e),d=AW(t,n.show);return r.createElement(r.Fragment,null,r.createElement(pr,{collection:bT},r.createElement(Ug,{gamepadAlias:qA,narrationSuffix:u,linebreak:!0,"data-testid":"play-on-realm",variant:"primary",onClick:d,inputLegend:a("SideMenu.playOnRealm"),disabled:s},a("SideMenu.playOnRealm"))),r.createElement(l.Mount,{when:n.isVisible},r.createElement(YO.Component,{mode:eI.EDIT,onClose:n.hide})))},gG=yp((({onContinue:e,onChangeSkin:t})=>{const{t:a}=Fc("PlayScreen.nonMultiplayerSkinModal"),n="pop-up-modal-nonMultiplayerSkinModal",l=vp();return r.createElement($E,{defaultFocusAlias:n},r.createElement($E.Header,{onClose:l},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a(".body"),gamepadIndex:0,center:!0},a(".body"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:n,gamepadIndex:0,inputLegend:a(".continueAction"),variant:"primary",onClick:()=>{l(),e()}},a(".continueAction")),r.createElement(Ug,{gamepadIndex:1,inputLegend:a(".changeAction"),variant:"secondary",onClick:()=>{l(),t()}},a(".changeAction"))))})),EG=yp((({onCopyWorldAndContinue:e,onContinue:t})=>{const{t:a}=Fc("PlayScreen.updateWorldModal"),n=vp(),o="pop-up-modal-updateWorld",[i,c]=(0,l.useFacetState)(!0),s=(0,l.useFacetCallback)((a=>()=>{a?e():t(),n()}),[e,t,n],[i]);return r.createElement($E,{defaultFocusAlias:o},r.createElement($E.Header,{onClose:n},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a(".body"),gamepadIndex:0},a(".body"))),r.createElement($E.Buttons,{header:r.createElement($E.Checkbox,{value:i,onChange:c,title:a(".checkboxTitle")})},r.createElement(Ug,{gamepadAlias:o,gamepadIndex:1,inputLegend:a(".action"),variant:"primary",onClick:s},a(".action"))))})),hG=yp((()=>{const{t:e}=Fc("PlayScreen.outOfStorageModal"),t="pop-up-modal-outOfStorageModal",a=vp();return r.createElement($E,{onOverlayClick:a,defaultFocusAlias:t},r.createElement($E.Header,{onClose:a},e(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:e(".body"),gamepadIndex:0},e(".body"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:t,inputLegend:e(".closeInputLegend"),variant:"secondary",onClick:a},e(".close"))))})),bG=yp((({onLoadWorld:e})=>{const{t}=Fc("PlayScreen.experimentalWorldLoadingModal"),a=vp(),n="pop-up-modal-experimentalWorldLoadingModal";return r.createElement($E,{defaultFocusAlias:n},r.createElement($E.Header,{onClose:a},t(".title")),r.createElement($E.Content,null,r.createElement($E.Paragraphs,{narrationText:`${t(".bodyFirstParagraph")}. ${t(".bodySecondParagraph")}`,gamepadIndex:0},r.createElement(zm,{type:"captionLong"},t(".bodyFirstParagraph")),r.createElement(zm,{type:"captionLong"},t(".bodySecondParagraph")))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:n,inputLegend:t(".back"),variant:"primary",onClick:a},t(".goBackButtonText")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:t(".action"),gamepadIndex:1,variant:"secondary",onClick:()=>{a(),e()}},t(".loadWorld"))))})),vG={major:1,minor:18,patch:0,revision:0,isBeta:!1};function yG(e){const t=Jr(),a=(0,l.useSharedFacet)(sd),n=(0,l.useSharedFacet)(wi),r=(0,l.useSharedFacet)(Wu),o=(0,l.useSharedFacet)(dl),i=(0,l.useSharedFacet)(ju),c=gG.useShowModal(),s=EG.useShowModal(),u=hG.useShowModal(),d=bG.useShowModal(),m=lG(),p=(0,l.useFacetMap)(((e,t,a)=>{const n=e.currentInputType===Xe.TOUCH,r=t.showTouchControlSelectionScreen,l=a.platform===Qe.NX_HANDHELD;return n&&r&&!l}),[],[(0,l.useSharedFacet)(Ga),(0,l.useSharedFacet)(Rc),(0,l.useSharedFacet)(dl)]),f=(0,l.useFacetMap)(((e,t)=>{if(null==e)return!1;const a=e.isTemplateCompatibleWithAnyVersion||xi(e.templateVersion,vG)>=0,n=xi(e.gameVersion,vG)<0&&xi(t.currentGameVersion,vG)>=0;return a&&n}),[],[e,n]),g=(0,l.useFacetMap)(((e,t)=>{if(null==e)return!1;const a=xi(e.gameVersion,t.currentGameVersion)<0;return e.isExperimental&&a}),[],[e,n]),E=(0,l.useFacetCallback)(((e,t)=>()=>{null!=t&&e.backupThenStartLocalWorld.run(t.id)}),[],[a,e]),h=(0,l.useFacetMap)((e=>e.syncWorldTaskState),[],[i]),b=Vk(((e,t)=>function*(){if(null==t)return;const a=t.id;e.syncWorld(a),yield h,e.clearSyncWorldTaskState(),m(a)}),[m,h],[i,e]);return(0,l.useFacetCallback)(((e,a,n,r,l,o)=>()=>{if(null==e)return;const i=e.id,p=()=>m(i);r?t.push(`/play/touch-control-selection/${encodeURIComponent(i)}`):n.isStorageLow?u():a.hasValidCrossPlatformSkin?l?d({onLoadWorld:p}):o?s({onContinue:p,onCopyWorldAndContinue:E}):e.requiresCloudSync?b():p():c({onContinue:p,onChangeSkin:()=>{t.push("/persona")}})}),[t,m,E,u,c,d,s,b],[e,r,o,p,g,f])}const FG=(0,l.sharedFacet)("vanilla.lanWorldList"),SG=(0,l.sharedFacet)("vanilla.localWorldList"),CG=()=>{const e=RN(),t=(0,l.useSharedFacet)(Ku),a=(0,l.useSharedFacet)(od),n=(0,l.useFacetMap)((e=>e.loadWorldTaskState),[],[t]),o=(0,l.useFacetMap)(((e,t)=>e.worldIsInitialized&&t.isInitialized||null!=e.loadWorldError),[],[t,a]),i=Vk(((e,t)=>function*(a){t.loadWorld(a),yield n,e.loadPacksData(a)}),[n],[a,t,e]);return(0,l.useFacetEffect)((e=>{i(e)}),[i],[e]),r.createElement(l.Mount,{when:o},r.createElement(MG,null))},MG=()=>{const{t:e}=Fc("EditWorld"),t=".notificationToasts.saved",a=".notificationToasts.deleted",n=".notificationToasts.duplicated",o=".notificationToasts.addonPackActivated",i=".notificationToasts.addonPackDeactivated",c=e(".notificationToasts.worldConverted"),s=".notificationToasts.settingsUnlocked",[u,d]=(()=>{const[e,t]=(0,l.useFacetState)(!1),a=(0,l.useSharedFacet)(td),n=(0,l.useSharedFacet)(Ku),r=(0,l.useSharedFacet)(Xs),o=(0,l.useSharedFacet)(Ic);return(0,l.useFacetEffect)(((e,a,n,r)=>{(null!=a.duplicateWorldError||null!=e.saveLocalWorldError||null!=n.uploadWorldToRealmError||n.uploadWorldToRealmTaskState!==Hk.RUNNING&&r.joinRealmTaskState!==Hk.RUNNING)&&t(!1)}),[t],[n,a,r,o]),[e,t]})(),m=RN(),f=(0,l.useSharedFacet)(SG),g=(0,l.useFacetMap)(((e,t)=>e.localWorlds.find((e=>e.allContentOwned&&e.id===t))),[],[f,m]),E=p(),b=vd(),v=yd(),y=(0,l.useSharedFacet)(pu),F=(0,l.useSharedFacet)(sd),S=(0,l.useSharedFacet)(Ku),C=(0,l.useSharedFacet)(dl),M=(0,l.useSharedFacet)(Xs),w=(0,l.useSharedFacet)(Ac),k=(0,l.useSharedFacet)(td),T=(0,l.useSharedFacet)(od),P=(0,l.useSharedFacet)(wi),I=(0,l.useSharedFacet)(Bs),x=(0,l.useSharedFacet)(Ru),A=(0,l.useSharedFacet)(iu),O=(0,l.useSharedFacet)(Bu),N=(0,l.useSharedFacet)(xc),{worldData:R,generalData:L}=NN(),_=function(){const e=RN(),t=(0,l.useSharedFacet)(Ku);return(0,l.useFacetMap)(((e,t)=>null!=t?e.worldSummary:void 0),[],[t,e])}(),D=GN.useModal(),W=GN.useModal(),B=GN.useModal(),U=GN.useModal(),z=GN.useModal(),H=_N.useModal(),j=DW.useModal(),V=RW.useModal(),G=OO.useModal(),$=qO.useModal(),K=dO.useModal(),Y=sO.useModal(),X=tv(tc),q=(0,l.useFacetMap)((e=>e.worldPacksData),[],[T]),Q=(0,l.useFacetMap)((e=>e.worldData.isLockedTemplate),[],[S]),Z=(0,l.useFacetMap)((e=>e.worldName),[],[L]),J=(0,l.useFacetCallback)(((e,t)=>()=>{e.closeWorld(t)}),[],[S,m]);(0,r.useEffect)((()=>()=>{J()}),[J]);const ee=yG(g),te=(0,l.useFacetMap)((e=>e.saveLocalWorldTaskState),[],[S]),ae=(0,l.useFacetMap)((e=>e.duplicateWorldTaskState),[],[k]),ne=(0,l.useFacetMap)((e=>e.storageAvailableSize),[],[C]),re=(0,l.useFacetMap)((e=>e.supportsSizeQuery),[],[C]),le=VO.useShowModal(),oe=RO.useShowModal(),ie=_O.useShowModal(),ce=pO.useModal(),se=pO.useModal(),[ue,de]=(0,r.useState)(""),me=dG.useModal(),pe=Vk(((t,a,r,l,o)=>function*(i){t.saveLocalWorld(l),yield te,t.clearSaveLocalWorldTaskState(),r.startDuplicateWorld(l),yield ae,r.clearDuplicateWorldTaskState(),a.queueSnackbar(e(n,[`"${o}"`])),i&&E.goBack()}),[e,te,ae,n,E],[S,w,k,m,Z]),fe=(0,l.useFacetCallback)((e=>t=>{e.worldHasBeenModified&&!e.worldData.achievementsDisabled?z.show():pe(t)}),[pe,z],[S]),ge=(0,l.useFacetCallback)((e=>(t,a)=>{if(a){var n,r,l,o,i;const a=null!==(n=null===(r=e.activeTexturePacks.find((e=>t==e.id)))||void 0===r?void 0:r.name)&&void 0!==n?n:"",c=null!==(l=null===(o=e.activeBehaviorPacks.find((e=>t==e.id)))||void 0===o?void 0:o.name)&&void 0!==l?l:"";return null!==(i=a||c)&&void 0!==i?i:"Pack"}{var c,s,u,d,m;const a=null!==(c=null===(s=e.availableTexturePacks.find((e=>t==e.id)))||void 0===s?void 0:s.name)&&void 0!==c?c:"",n=null!==(u=null===(d=e.availableBehaviorPacks.find((e=>t==e.id)))||void 0===d?void 0:d.name)&&void 0!==u?u:"";return null!==(m=a||n)&&void 0!==m?m:"Pack"}}),[],[q]),Ee=(0,l.useFacetCallback)(((t,a,n,r)=>i=>{const c=t.continuePackActivation(a);if(c===rd.PackDataWarning)!r.doNotShowAddonStackingWarning&&t.worldPacksData.activeBehaviorPacks.length>=2?(de(i),K.show()):(de(i),se.show());else if(null!=c)le({errorCode:c});else{const t=ge(i,!0);n.queueSnackbar(e(o,[t===l.NO_VALUE?"Pack":t]))}}),[K,se,le,ge,e],[T,m,w,N]),he=(0,l.useFacetCallback)(((t,a,n)=>(r,o)=>{const c=t.continuePackDeactivation(a);if(null!=c)le({errorCode:c});else{const t=ge(r,!1);n.queueSnackbar(e(i,[t===l.NO_VALUE?"Pack":t])),o&&fe(!1)}}),[le,fe,ge,e],[T,m,w]),be=(0,l.useFacetMap)((e=>e.packDownloadTaskState),[],[T]),ve=Vk(((e,t)=>function*(a){switch(e.downloadPacks(t,[a]),yield be,e.packDownloadTaskState){case Hk.DONE:e.cancelPackDownload(),Ee(a);break;case Hk.CANCELLED:e.cancelPackDownload()}}),[be,Ee],[T,m]),ye=(0,l.useFacetMap)((e=>e.lastConsultedPackSizesTaskState),[],[T]),Fe=Vk(((e,t)=>function*(a,n){e.getPackSizes([a],t),yield ye;let r="";null==e.lastConsultedPackSizesError&&(r=e.lastConsultedPackSizes,e.getPackSizesReset()),ie({packId:a,packName:n,packSize:r,supportsSizeQuery:re,availableSize:ne,onAccept:ve})}),[ye,ie,re,ne,ve],[T,m]),Se=(0,l.useFacetCallback)(((t,a,n,r)=>(i,c,s)=>{t.isReadyForDownload||$.show();const u=t.activatePack(a,i,c,!1);if(u===rd.NeedToDownloadPack)Fe(i,s);else if(u===rd.PackDependencyWarning)oe({packId:i,onAccept:Ee});else if(u===rd.PackDataWarning)!r.doNotShowAddonStackingWarning&&t.worldPacksData.activeBehaviorPacks.length>=2?(de(i),K.show()):(de(i),se.show());else if(null!=u)le({errorCode:u});else{const t=ge(i,!0);n.queueSnackbar(e(o,[t===l.NO_VALUE?"Pack":t]))}}),[$,K,Fe,oe,Ee,se,le,ge,e],[T,m,w,N]),Ce=(0,l.useFacetCallback)(((t,a,n)=>()=>{K.hide();const r=t.continuePackActivation(a);if(null!=r)le({errorCode:r});else{const t=ge(ue,!0);n.queueSnackbar(e(o,[t===l.NO_VALUE?"Pack":t]))}}),[K,le,ge,ue,e],[T,m,w]);(0,l.useFacetEffect)((e=>{(e.packDownloadError===ld.InitializationTimeout||e.isReadyForDownload)&&$.hide()}),[$],[T]);const Me=(0,l.useFacetCallback)(((t,a,n)=>(r,o)=>{const c=t.deactivatePack(a,r,o,!1);if(c===rd.PackDataWarning)de(r),ce.show();else if(null!=c)le({errorCode:c});else{const t=ge(r,!1);n.queueSnackbar(e(i,[t===l.NO_VALUE?"Pack":t]))}}),[ce,le,ge,e],[T,m,w]),we=(0,l.useFacetCallback)(((a,n,r,l)=>(o,i,c,s)=>{a.changePackPriority(n,o,i,c,s),r.queueSnackbar(e(t,[`"${l}"`]))}),[e,t],[T,m,w,Z]),ke=(0,l.useFacetCallback)((e=>t=>{E.push(`/pack-settings/${t}/${encodeURIComponent(e)}`)}),[E],[m]),Te=Vk(((t,a,n,r)=>function*(){a&&(t.worldData.isLockedTemplate=!1,t.saveLocalWorld(r),yield te,n.queueSnackbar(e(s)),t.clearSaveLocalWorldTaskState())}),[te,s,e],[S,Q,w,m]),Pe=(0,l.useFacetMap)((e=>null!=e.worldSummary.worldIconPath&&e.worldSummary.worldIconPath.length>0?e.worldSummary.worldIconPath:TW),[],[S]),Ie=(0,l.useFacetCallback)(((e,t,a)=>()=>{b({button:"OptOut",screen:"EditWorld"}),e.closeWorld(a),t.selectTechStackForScreen(lu.EditWorldScreen,ou.JsonUI)}),[b],[S,A,m]),xe=(0,l.useFacetCallback)((e=>()=>{e.worldHasBeenModified?G.show():Ie()}),[Ie,G],[S]),[Ae,Oe]=(0,l.useFacetState)(!1),Ne=Vk(((a,n,r,l)=>function*(){d(!0),a.saveLocalWorld(r),yield te,a.saveLocalWorldError||(a.clearSaveLocalWorldTaskState(),n.queueSnackbar(e(t,[`"${l}"`])),E.goBack())}),[e,d,te,t,E],[S,w,m,Z]),Re=(0,l.useFacetCallback)((()=>()=>{Oe(!1),D.hide()}),[Oe,D],[]),Le=(0,l.useFacetCallback)((e=>()=>{e.discardTrackedOptions(),E.goBack(),Oe(!1)}),[E,Oe],[y]),_e=(0,l.useFacetCallback)((e=>()=>{e.worldHasBeenModified&&!e.worldData.achievementsPermanentlyDisabled&&e.worldData.achievementsDisabled?Y.show():(Oe(!0),e.worldHasBeenModified?D.show():Le())}),[Oe,Y,D,Le],[S]),De=Vk(((a,n,r,l)=>function*(){a.saveLocalWorld(n),yield te,r.queueSnackbar(e(t,[`"${l}"`])),a.clearSaveLocalWorldTaskState(),ee()}),[e,te,ee,t],[S,m,w,Z]),We=(0,l.useFacetCallback)(((e,t)=>()=>{b({button:"Play",screen:"EditWorld"}),e.worldHasBeenModified?(t.fireEventOptionsChanged(jN.EditWorldScreen),De()):(t.discardTrackedOptions(),ee())}),[ee,b,De],[S,y]),Be=(0,l.useFacetCallback)(((e,t)=>()=>{e.reloadWorld(t),ee()}),[ee],[S,m]),Ue=Vk(((t,a,r,l)=>function*(){a.startDuplicateWorld(r),yield ae,a.clearDuplicateWorldTaskState(),t.queueSnackbar(e(n,[`"${l}"`])),E.goBack()}),[e,ae,n,E],[w,k,m,Z]),ze=(0,l.useFacetCallback)(((t,n,r,l)=>()=>{t.deleteWorld(r),n.queueSnackbar(e(a,[`"${l}"`])),E.goBack()}),[e,a,E],[k,w,m,Z]),He=(0,l.useFacetCallback)((e=>t=>{E.push(`/export-world/${e}/${t?xu.Template:xu.Regular}`)}),[E],[m]),je=Vk(((a,n,r,l)=>function*(o){a.saveLocalWorld(n),yield te,a.clearSaveLocalWorldTaskState(),r.queueSnackbar(e(t,[`"${l}"`])),He(o)}),[e,te,t,He],[S,m,w,Z]),Ve=(0,r.useCallback)((()=>je(!0)),[je]),Ge=(0,l.useFacetCallback)((e=>t=>{e.worldHasBeenModified?t?U.show():B.show():He(t)}),[He,B,U],[S]),$e=(0,r.useCallback)((()=>Ge(!0)),[Ge]),Ke=(0,l.useFacetCallback)(((e,t)=>a=>{e.loadWorld(t),He(a)}),[He],[S,m]),Ye=(0,r.useCallback)((()=>Ke(!0)),[Ke]),Xe=(0,l.useFacetMap)((e=>e.uploadWorldToRealmTaskState),[],[M]),qe=(0,l.useFacetMap)((e=>e.uploadedRealmWorldId.toString()),[],[M]),Qe=FO({worldId:qe,button:"PlayOnRealms",screen:"EditWorld",telemetryLocation:Pc.EditWorld}),Ze=Vk(((e,t,a,n,r,l)=>function*(){if(b({button:"PlayOnRealm",screen:"EditWorld"}),r.isAnyBeta&&0===a.length&&0===n.length)j.show();else{if(l&&X)return v({modal:"RealmsTrialMode",screen:"EditWorld"}),void V.show();d(!0),e.uploadWorldToRealm(t),yield Xe,e.clearUploadWorldToRealmTaskState(),Qe(),d(!0)}}),[b,X,d,Xe,Qe,j,v,V],[M,m,I,x,P,O]);(0,l.useFacetEffect)(((e,t)=>{e.choosePreviewRealm&&(0===t.length?E.push("/realms-choose-realm/realm-subscriptions"):E.push("/realms-choose-realm/preview-realms"))}),[E],[M,I]);const Je=(0,l.useFacetMap)((e=>e.makeWorldInfiniteState),[],[k]),et=Vk(((e,t,a)=>function*(){d(!0),b({button:"MakeWorldInfinite",screen:"EditWorld"}),e.makeWorldInfinite(t),yield Je,e.clearMakeWorldInfiniteState(),a.queueSnackbar(c),d(!1)}),[Je,d,c,b],[k,m,w]);(()=>{const e=(0,l.useSharedFacet)(Ac),t=(0,l.useSharedFacet)(td),{t:a}=Fc("EditWorld");(0,l.useFacetEffect)(((e,t)=>{e.clearPlayerDataTaskState===Hk.DONE&&(t.queueSnackbar(a(".clearPlayerDataToast")),e.resetClearPlayerData())}),[a],[t,e])})();const tt=(0,l.useFacetMap)((e=>e.isEditorWorld),[],[S]);(()=>{const e=RN(),t=(0,l.useSharedFacet)(Ac),a=(0,l.useSharedFacet)(od),n=(0,l.useFacetMap)((e=>e.worldPacksData),[],[a]),r=VO.useShowModal(),{t:o}=Sc("EditWorld"),i=(0,l.useFacetCallback)((e=>t=>{var a,n,r,l,o;const i=null!==(a=null===(n=e.activeTexturePacks.find((e=>t==e.id)))||void 0===n?void 0:n.name)&&void 0!==a?a:"",c=null!==(r=null===(l=e.activeBehaviorPacks.find((e=>t==e.id)))||void 0===l?void 0:l.name)&&void 0!==r?r:"";return null!==(o=i||c)&&void 0!==o?o:"Pack"}),[],[n]),c=(0,l.useFacetCallback)(((e,t,a)=>n=>{const c=e.activatePack(t,n,ad.Behavior,!0);if(null!=c)r({errorCode:c});else{const e=i(n);a.queueSnackbar(o(".notificationToasts.addonPackActivated",[e===l.NO_VALUE?"Pack":e]))}}),[r,i,o],[a,e,t]),s=h(),u=(0,l.useFacetMap)((e=>e.get("packid")),[],[s]);(0,l.useFacetEffect)((e=>{null!=e&&c(e)}),[c],[u])})();const at=(0,l.useFacetCallback)(((e,t)=>a=>{null!=t&&e.clearPlayerData(a,t)}),[],[k,m]),nt=(0,l.useFacetMap)(((e,t)=>!(e||t)||X&&t),[X],[tt,O]),rt=(0,l.useFacetMap)((e=>e.startLocalWorldTaskState===Hk.RUNNING),[],[F]);return r.createElement(tI.Provider,{value:eI.EDIT},r.createElement(kW,{worldData:R,worldPacks:q,worldPreviewImage:Pe,worldSummary:_,isEditorWorld:tt,renderPage:(0,l.useFacetWrap)(!0),onActivatePack:Se,onDeactivatePack:Me,onChangePackPriority:we,onClickPackSettings:ke,onUnlockTemplateSettings:Te,backButtonCallback:_e,backButtonDisabled:u,onMakeWorldInfinite:et,onDuplicateWorld:fe,onDeleteWorld:ze,onEditThumbnail:me.show,onExportWorld:Ge,onExportTemplate:$e,onOptOut:xe,isSeedChangeLocked:(0,l.useFacetWrap)(!1),onClearPlayerData:H.show,sideMenuButtons:r.createElement(r.Fragment,null,r.createElement(Sx.Item,null,r.createElement(pG,{onPlayWorld:We})),r.createElement(Nm,{size:1}),r.createElement(l.Mount,{when:nt},r.createElement(Sx.Item,null,r.createElement(fG,{onPlayOnRealms:Ze,isRealmsButtonDisabled:Ae}))))}),r.createElement(mG,{editThumbnailModalMenu:me}),r.createElement(l.Mount,{when:D.isVisible},r.createElement(GN.Component,{saveChanges:Ne,closeModal:Re,discardChanges:E.goBack})),r.createElement(l.Mount,{when:K.isVisible},r.createElement(dO.Component,{activatePackModal:!0,onAccept:Ce,onCancel:K.hide})),r.createElement(l.Mount,{when:W.isVisible},r.createElement(GN.Component,{saveChanges:De,closeModal:W.hide,discardChanges:Be})),r.createElement(l.Mount,{when:z.isVisible},r.createElement(GN.Component,{saveChanges:pe,closeModal:z.hide,discardChanges:Ue})),r.createElement(l.Mount,{when:B.isVisible},r.createElement(GN.Component,{saveChanges:je,closeModal:B.hide,discardChanges:Ke})),r.createElement(l.Mount,{when:U.isVisible},r.createElement(GN.Component,{saveChanges:Ve,closeModal:U.hide,discardChanges:Ye})),r.createElement(l.Mount,{when:se.isVisible},r.createElement(pO.Component,{packId:ue,type:"activate",onAccept:Ee,hideModal:se.hide})),r.createElement(l.Mount,{when:ce.isVisible},r.createElement(pO.Component,{packId:ue,type:"deactivate",onAccept:he,hideModal:ce.hide})),r.createElement(l.Mount,{when:H.isVisible},r.createElement(_N.Component,{clearPlayerData:at,closeModal:H.hide})),r.createElement(l.Mount,{when:j.isVisible},r.createElement(DW.Component,{onClose:j.hide})),r.createElement(l.Mount,{when:rt},r.createElement(Ay.Component,{title:e(".startLocalWorldModal.title")})),r.createElement(l.Mount,{when:G.isVisible},r.createElement(OO.Component,{optOutCallback:Ie,closeModal:G.hide})),r.createElement(l.Mount,{when:V.isVisible},r.createElement(RW.Component,{worldSettingsMode:eI.EDIT,onClose:V.hide})),r.createElement(l.Mount,{when:$.isVisible},r.createElement(qO.Component,{onClose:$.hide})),r.createElement(wG,{achievementsDisabledModal:Y,onSaveWorld:Ne}))};function wG({achievementsDisabledModal:e,onSaveWorld:t}){const a=xN();return r.createElement(l.Mount,{when:e.isVisible},r.createElement(sO.Component,{onClose:e.hide,onConfirm:t,reasons:a,isEditWorld:!0}))}function kG(){Jj();const{t:e}=Fc("RealmsStories.settings"),t=f(),a=p(),n=(0,l.useSharedFacet)($s),o=(0,l.useSharedFacet)(ls),i=(0,l.useSharedFacet)(os),c=(0,l.useSharedFacet)(dl),s=tv("vanilla.realmsOwnerCanRequireOptIn"),u=(0,l.useFacetWrap)(s),d=(0,l.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[i]),m=(0,l.useFacetMap)((t=>e(".header",[t.name])),[e],[i]),E=(0,l.useFacetMap)((t=>e(t?".personalSettings.header":".personalSettings.member.header")),[e],[d]),h=(0,l.useFacetMap)((e=>!e.isOnline),[],[c]),b=(0,l.useFacetMap)(((e,t)=>(e.currentFetchState===Tu.InternalError||e.currentFetchState===Tu.FetchFailed||e.currentFetchState===Tu.RateLimit)&&!t),[],[n,h]),v=(0,l.useFacetMap)(((e,t)=>e||t),[],[h,b]),y=(0,l.useFacetMap)(((e,t)=>t&&(e.currentPostState===Pu.InternalError||e.currentPostState===Pu.InputInvalid||e.currentPostState===Pu.UploadFailed||e.currentPostState===Pu.PostingFailed)),[],[n,t]),F=(0,l.useFacetMap)(((e,t)=>e&&t.currentPostState===Pu.RateLimit),[],[t,n]),S=(0,l.useFacetMap)(((e,t,a,n)=>t&&e.currentPostState===Pu.InProgress&&!a&&!n),[],[n,t,y,F]),C=function(){const e=p();return(0,l.useFacetCallback)((t=>()=>{t.clearSettingsStatus(),e.go(-2)}),[e],[(0,l.useSharedFacet)(ls)])}(),M=(0,l.useFacetMap)(((e,t)=>e.currentFetchState!==Tu.Success&&!t),[],[n,v]),w=(0,l.useFacetMap)(((e,t)=>!e&&!t),[],[M,v]),k=g(),T=(0,l.useFacetCallback)(((e,t)=>()=>{e.postSettingsOnExit(t.realmId),a.goBack()}),[a],[o,k]),P=(0,l.useFacetCallback)(((e,t)=>()=>{e.setRealmNotificationStatus(!t.realmNotificationsStatus)}),[],[o,n]),I=(0,l.useFacetCallback)(((e,t)=>()=>{e.setRealmEventsStatus(!t.realmEventsStatus)}),[],[o,n]),x=(0,l.useFacetCallback)(((e,t)=>()=>{e.setRealmCoordinatesStatus(!t.realmCoordinatesStatus)}),[],[o,n]),A=(0,l.useFacetCallback)(((e,t)=>()=>{e.setRealmTimelineStatus(!t.realmTimelineStatus)}),[],[o,n]),O=(0,l.useFacetCallback)(((e,t)=>()=>{e.fetchSettings(t.realmId)}),[],[o,k]),N=[e(".personalSettings.member.header"),e(".personalSettings.description")].join(" . "),R=[e(".realmWideSettings.member.header"),e(".realmWideSettings.description")].join(" . "),L=(0,l.useFacetMap)((e=>e.realmNotificationsStatus),[],[n]),_=(0,l.useFacetMap)((e=>e.realmEventsStatus),[],[n]),D=(0,l.useFacetMap)((e=>e.realmCoordinatesStatus),[],[n]),W=(0,l.useFacetMap)((e=>e.realmTimelineStatus),[],[n]),B=(0,l.useFacetMap)((e=>e.timelineRequiredStatus),[],[n]),U=(0,l.useFacetCallback)(((e,t,a)=>t=>{a.setRealmTimelineRequirementStatus(t),e||A()}),[A],[W,n,o]),z=wr("inherit");return r.createElement(yx,{onBack:T,title:m,gamepadAlias:"realms-stories-settings",screenAnalyticsId:"RealmsStoriesSettings"},(()=>r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:v},r.createElement(Cv,null,r.createElement(Cv.Row,{gamepadIndex:0},r.createElement(Cv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},r.createElement(Nm,{size:4}),r.createElement(l.Mount,{when:h},r.createElement(Tz,null)),r.createElement(l.Mount,{when:b},r.createElement(Iz,{onClick:O,pageName:m})))))),r.createElement(l.Mount,{when:y},r.createElement($W.Component,{onClickClose:T})),r.createElement(l.Mount,{when:F},r.createElement(XW.Component,{onClickClose:T})),r.createElement(l.Mount,{when:S},r.createElement(GW,{onClickClose:C})),r.createElement(l.Mount,{when:M},r.createElement("div",{className:zr()("a6d7df2cfbc490a083e6",z.overlay.base)},r.createElement(zf,null))),r.createElement(l.Mount,{when:w},r.createElement(Cv,null,r.createElement(Cv.Row,{gamepadIndex:0},r.createElement(Cv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},r.createElement(jf,{floating:!0,gamepadIndex:0},r.createElement(Nm,{size:4}),r.createElement("div",{className:zr()("afc92ec3c0e1e3df12fb",z.border.base)},r.createElement(Zf,{text:N},r.createElement(nO,{title:E,description:e(".personalSettings.description")}),r.createElement(My,{title:e(".personalSettings.badgeNotifSwitch.title"),description:e(".personalSettings.badgeNotifSwitch.description"),value:L,onChange:P})),r.createElement(l.Mount,{when:d},r.createElement(Zf,{text:R},r.createElement(nO,{title:e(".realmWideSettings.header"),description:e(".realmWideSettings.description")}),r.createElement(My,{title:e(".realmWideSettings.realmEvents.title"),description:e(".realmWideSettings.realmEvents.description"),value:_,onChange:I}),r.createElement(My,{title:e(".realmWideSettings.storyCoordinates.title"),description:e(".realmWideSettings.storyCoordinates.description"),value:D,onChange:x}),r.createElement(l.Mount,{when:u},r.createElement(My,{title:e(".realmWideSettings.playerTimelineRequirement.title"),description:e(".realmWideSettings.playerTimelineRequirement.description"),value:B,onChange:U})),r.createElement(My,{title:e(".realmWideSettings.playerTimeline.title"),description:e(".realmWideSettings.playerTimeline.description"),value:W,onChange:A,disabled:B}))))),r.createElement(LE.Space,null))))))))}const TG=({onScreenshotSelect:e,onGoBack:t,managementRowButtons:a,filterType:n="all"})=>{const{t:o}=Fc("ScreenshotPicker"),i=(0,r.useRef)(null),c=(0,l.useSharedFacet)(nu),s=(0,l.useFacetWrap)(n),u=(0,l.useFacetMap)(((e,t)=>{const a=e.screenshots;return"all"===t?a:a.filter((e=>!e.showcased||e.featured))}),[],[c,s]),d=KV(u),m=o(".header"),p=(0,r.useCallback)((t=>{e(t)}),[e]),f=(0,l.useFacetMap)((e=>e.isLoadGalleryInProgress),[],[c]);return r.createElement($V,{headerText:m,onScreenshotClicked:p,screenshotLists:d,scrollViewRef:i,isLoadingScreenshots:f,onGoBack:t,managementRowButtons:a,filterType:n})};function PG(){const e=p(),t=RN(),a=(0,l.useSharedFacet)(td),n=(0,l.useFacetCallback)(((t,a)=>n=>{t.saveScreenshotAsWorldIcon(a,n.filePath,n.id),e.goBack()}),[e],[a,t]);return r.createElement(TG,{onScreenshotSelect:n})}const IG="e73622a4d108443d7c10";function xG(){const e=p(),t=(0,l.useSharedFacet)(td),a=(0,l.useSharedFacet)(Ac),n=g(),o=(0,l.useFacetMap)((e=>decodeURIComponent(e.id)),[],[n]),i=(0,l.useFacetMap)((e=>e.type===xu.Regular),[],[n]),{t:c}=Fc("EditWorld.exportWorldFlow"),{t:s}=Fc("EditWorld.notificationToasts"),{t:u}=Fc("ExportWorld.error"),d="narrow"===Od(),[m,f]=(0,l.useFacetState)(!1),[E,h]=(0,l.useFacetState)(!1),[b,v]=(0,l.useFacetState)(!1),{generalData:y}=NN(),F=(0,l.useFacetMap)(((e,t)=>t&&e.isHardcore),[],[y,i]),S=(0,l.useFacetCallback)((t=>()=>{t.clearExportWorldResult(),e.goBack()}),[e],[t]),C=(0,l.useFacetMap)(((e,t)=>!t&&e),[],[m,F]),M=(0,l.useFacetCallback)(((e,t,a,n,r)=>()=>{let l=Xu.None;a&&(l|=Xu.ClearPlayerData),n&&(l|=Xu.ForceHardcoreMode),r?e.exportWorldAsTemplate(t,l):e.exportWorld(t,l)}),[],[t,o,C,E,b]);(0,l.useFacetEffect)(((e,t,a)=>{const n=e.exportWorldResult,r=s(a?".exportedTemplate":".exportedWorld");n===qu.Ok?(t.queueSnackbar(r),S()):n===qu.Cancelled&&e.clearExportWorldResult()}),[s,S],[t,a,b]);const w=(0,l.useFacetMap)((e=>e.exportWorldStatus===Zu.Exporting),[],[t]),k=(0,l.useFacetMap)((e=>null!=e.exportWorldResult&&e.exportWorldResult!==qu.Ok&&e.exportWorldResult!==qu.Cancelled),[],[t]),T=(0,l.useFacetMap)((e=>c(e?".exportWorldLabel":".exportWorldTemplateLabel")),[c],[i]),P=(0,l.useFacetMap)((e=>{switch(e.exportWorldResult){case qu.NeedToRemoveVRHeadset:return u(".needToRemoveVRHeadset.title");case qu.IncorrectWorldId:return u(".incorrectWorldID.title");default:return u(".unknownError.title")}}),[u],[t]),I=(0,l.useFacetMap)((e=>c(e?".exportWorldNarration":".exportWorldTemplateNarration")),[c],[i]),x=(0,l.useFacetMap)((e=>c(e?".clearPlayerDataDescription.alreadyInHardcoreMode":".clearPlayerDataDescription")),[c],[F]),A=[c(".headerTitle"),c(".exportationSettingsGroup"),c(".headerDescription")].join(" . ");return r.createElement(r.Fragment,null,r.createElement(av,null,r.createElement(Zf,{text:I},r.createElement(yv,{onBackButton:S,center:r.createElement(zm,{type:"header5A"},T),footer:d?r.createElement(AG,{isRegularExport:i,exportCallback:M,cancelCallback:S}):null,gamepadAlias:"export-world-flow"},r.createElement(jf,null,r.createElement(Cv,null,r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:1,narrowSize:1,disabled:!0}),r.createElement(Cv.Column,{wideSize:10,narrowSize:6},r.createElement(l.Mount,{when:k},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement("div",{className:zr()(IG)},r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,P))))),r.createElement(Nm,{size:2}),r.createElement("div",{className:zr()(IG)},r.createElement(Zf,{text:A},r.createElement(nO,{title:c(".headerTitle"),description:c(".headerDescription")}),r.createElement(My,{title:c(".clearPlayerDataTitle"),description:x,value:m,onChange:f,disabled:F}),r.createElement(l.Mount,{when:i,condition:!1},r.createElement(r.Fragment,null,r.createElement(My,{title:c(".exportHardcoreModeTitle"),description:c(".exportHardcoreModeDescription"),value:E,onChange:h}),r.createElement(My,{title:c(".exportAsTemplateTitle"),description:c(".exportAsTemplateDescription"),value:b,onChange:v})))),d?null:r.createElement(AG,{isRegularExport:i,exportCallback:M,cancelCallback:S}))),r.createElement(Cv.Column,{wideSize:1,narrowSize:1,disabled:!0}))))))),r.createElement(l.Mount,{when:w},r.createElement(ON.Component,null)))}function AG({exportCallback:e,cancelCallback:t,isRegularExport:a}){const n=wr("neutral"),{t:o}=Fc("EditWorld.exportWorldFlow"),i=(0,l.useFacetMap)((e=>o(e?".exportButtonLabel":".exportTemplateButtonLabel")),[o],[a]);return r.createElement(r.Fragment,null,r.createElement("div",{className:zr()("fa332c8330f2cf6830da",n.background.base)},r.createElement(Cv,null,r.createElement(Cv.Row,null,r.createElement(Ug,{horizontal:!0,inputLegend:o(".cancel"),onClick:t,variant:"secondary",narrationSuffix:[o(".buttonsEnumaration",["1","2"]),o(".cancelHint")].join(" . ")},o(".cancel")),r.createElement(Nm,{size:2}),r.createElement(Ug,{horizontal:!0,inputLegend:i,onClick:e,variant:"primary",narrationSuffix:o(".buttonsEnumaration",["2","2"])},i)))))}function OG({index:e,gamepad:t,data:a,onChange:n,checkingDisabled:o}){const[i,c]=(0,l.useFacetState)(!1),s=(0,l.useFacetCallback)((t=>a=>{a&&t||(n(e,a),c(a))}),[n,e,c],[o]);return r.createElement(sg,{title:(0,l.useFacetMap)((e=>e.message),[],[a]),description:(0,l.useFacetMap)((e=>e.author),[],[a]),gamepad:t,value:i,onChange:s,disabled:(0,l.useFacetMap)((e=>!e.isAuthorBeingReported),[],[a])})}function NG({chatMessages:e,selectedMessages:t,setSelectedMessagesFacet:a,visible:n}){const{t:o}=Fc("ReportPlayerRoute"),i=(0,l.useFacetWrap)(e),c=(0,l.useFacetWrap)(t),s=((e,t)=>(0,l.useFacetCallback)((e=>(a,n)=>{t((()=>{const t=[...e];if(n)t.length<4&&t.push(a);else{const e=t.findIndex((e=>e==a));e>-1&&t.splice(e,1)}return t}))}),[t],[e]))(c,a),u=(0,l.useFacetMap)((e=>e.length>=4),[],[c]);return r.createElement(l.Mount,{when:n},r.createElement(r.Fragment,null,r.createElement(Fg,{narrationText:o(".chatSelectionPanel.title")},r.createElement(Cg,null,o(".chatSelectionPanel.title")),r.createElement(Mg,null,o(".chatSelectionPanel.description")),r.createElement(Nm,{size:2}),r.createElement(l.Mount,{when:u},r.createElement(AP,{role:"noticeTint",gamepadIndex:2},r.createElement(AP.Text,null,o(".chatSelectionLimitReached")))),r.createElement(l.Map,{array:i},((e,t)=>r.createElement(OG,{index:t,gamepad:{index:t},data:e,onChange:s,checkingDisabled:u})))),r.createElement(Nm,{size:4})))}function RG({reportArea:e,onChangeReportArea:t,visible:a}){const{t:n}=Fc("ReportPlayerRoute"),o=(0,l.sharedSelector)((e=>e.reportAreaOptions),[Jc]),i=(0,l.useFacetMap)((e=>e.map((e=>({label:n("."+e.label),value:e.value})))),[n],[(0,l.useSharedFacet)(o)]);return r.createElement(l.Mount,{when:a},r.createElement(r.Fragment,null,r.createElement(Fg,{narrationText:n(".areaPanel.title")},r.createElement(Cg,null,n(".areaPanel.title")),r.createElement(Mg,null,n(".areaPanel.description")),r.createElement(Nm,{size:2}),r.createElement(oA,{title:n(".whereReport"),placeholderText:n(".whereReport"),options:i,value:e,onItemSelect:t,buttonTestId:"area-input-dropdown-button"}))))}function LG({gamertag:e,reportReason:t,availableOptions:a,onChangeReportReason:n,visible:o}){const{t:i}=Fc("ReportPlayerRoute"),c=(0,l.useFacetMap)((e=>i(".whyReport",[e])),[i],[e]),s=(0,l.useFacetMap)((e=>i(".reasonPanel.title",[e])),[i],[e]);return r.createElement(r.Fragment,null,r.createElement(Fg,{narrationText:s},r.createElement(Cg,null,s),r.createElement(Mg,null,i(".reasonPanel.description")),r.createElement(Nm,{size:2}),r.createElement(oA,{title:c,placeholderText:c,options:a,value:t,onItemSelect:n,buttonTestId:"reason-input-dropdown-button",disabled:(0,l.useFacetMap)((e=>!e),[],[o])})))}function _G({onConfirm:e}){const{t}=Fc("ReportPlayerRoute");return r.createElement(r.Fragment,null,r.createElement($E.Header,{onClose:e},t(".reportConfirmation.title")),r.createElement($E.Content,{scrollable:!1},r.createElement($E.Text,{gamepadIndex:0,narrationText:t(".reportConfirmation")},t(".reportConfirmation"))),r.createElement($E.Buttons,null,r.createElement(Ug,{variant:"primary",inputLegend:t(".next"),delayedClick:!0,onClick:e},t(".next")),r.createElement(Nm,{size:1})))}function DG({onConfirm:e,onCancel:t,gamertag:a}){const{t:n}=Fc("ReportPlayerRoute"),o=(0,l.useFacetMap)((e=>n(".warningTitle",[e])),[n],[a]),i=(0,l.useFacetMap)((e=>n(".friendWarningText",[e])),[n],[a]);return r.createElement(r.Fragment,null,r.createElement($E.Header,{onClose:t},o),r.createElement($E.Content,{scrollable:!1},r.createElement($E.Text,{gamepadIndex:0,narrationText:n(".friendWarningText")},i)),r.createElement($E.Buttons,null,r.createElement(Ug,{variant:"primary",gamepadIndex:0,autofocus:!0,inputLegend:n(".next"),delayedClick:!0,onClick:e},n(".warningReportAnyway")),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:0,inputLegend:n(".next"),delayedClick:!0,onClick:t},n(".cancel"))))}function WG({onConfirm:e,onCancel:t,gamertag:a}){const{t:n}=Fc("ReportPlayerRoute"),o=(0,l.useFacetMap)((e=>n(".warningTitle",[e])),[n],[a]);return r.createElement(r.Fragment,null,r.createElement($E.Header,{onClose:t},o),r.createElement($E.Content,{scrollable:!1},r.createElement($E.Text,{gamepadIndex:0,narrationText:n(".reportLimitWarningText1")},n(".reportLimitWarningText1")),r.createElement($E.Text,{gamepadIndex:0,narrationText:n(".reportLimitWarningText2")},n(".reportLimitWarningText2"))),r.createElement($E.Buttons,null,r.createElement(Ug,{variant:"primary",gamepadIndex:0,autofocus:!0,inputLegend:n(".next"),delayedClick:!0,onClick:e},n(".warningReportAnyway")),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:0,inputLegend:n(".next"),delayedClick:!0,onClick:t},n(".cancel"))))}function BG(){const{t:e}=Fc("ReportPlayerRoute"),t=wr("inherit"),a=p(),n=h(),o=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("gamertag"))&&void 0!==t?t:""}),[],[n]),i=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("xuid"))&&void 0!==t?t:""}),[],[n]),c=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("platformId"))&&void 0!==t?t:""}),[],[n]),s=(0,l.useFacetMap)((e=>"true"===e.get("isFriend")),[],[n]),u=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("galleryScreenshotId"))&&void 0!==t?t:""}),[],[n]),d=(0,l.useFacetMap)((e=>""!=e),[],[i,o]),[m,f]=(0,l.useFacetState)(-1),[g,E]=(0,l.useFacetState)(-1),[b,v]=(0,l.useFacetState)(""),[y,F]=(0,l.useFacetState)(!1),[S,C]=(0,l.useFacetState)(!1),[M,w]=(0,l.useFacetState)(!1),[k,T]=(0,l.useFacetState)(!1),P=(0,l.useSharedFacet)(Jc),I=(0,l.useSharedFacet)(ru),[x,A]=(0,l.useFacetState)([]),O=(0,l.sharedSelector)((e=>e.reportableChatMessages),[Jc]),N=(0,l.useSharedFacet)(O),R=(0,l.useFacetCallback)((e=>()=>{e.hasReachedReportLimit&&w(!0)}),[w],[P]),L=(0,l.useFacetCallback)((e=>()=>{e&&C(!0)}),[C],[s]),_=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{e.startReport(t,a,n),e.decideReportReasonOptions()}),[],[P,i,c,u]);(0,r.useEffect)((()=>{R(),L(),_()}),[R,L,_]);const D=(0,l.useFacetCallback)(((e,t)=>()=>{e.reportArea=t,e.decideReportReasonOptions()}),[],[P,m]);(0,l.useFacetEffect)((()=>{D(),E(-1),A([])}),[E,A,D],[m]);const W=(0,l.sharedSelector)((e=>e.reportReasonOptions),[Jc]),B=(0,l.useFacetMap)((t=>t.map((t=>({label:e("."+t.label),value:t.value})))),[e],[(0,l.useSharedFacet)(W)]),U=(0,l.useFacetCallback)((e=>t=>{e.loadGallery(t)}),[],[I]);(0,l.useFacetEffect)(((e,t)=>{""!==t&&f(6)}),[U,f],[i,u]);const z=e(".hideContent"),[H,j]=(0,l.useFacetState)(!1),V=(0,l.useFacetWrap)(""),G=(0,l.useFacetWrap)(""),$=(0,l.useFacetMap)((t=>e(".sidePanel.text",[t])),[e],[o]),K=(0,l.useFacetMap)(((e,t,a)=>{if(""!==a){const n=t.screenshots.slice().find((e=>e.id===a));return n?n.thumbnail:e.screenshot}return e.screenshot}),[],[P,I,u]),Y=(0,l.useFacetWrap)(Wz.STORY),X=(0,l.useFacetCallback)(((e,t,a,n,r,l,o)=>()=>{a.reportArea=n,a.reportReason=r,a.reportMessage=l,a.selectedChatMessages=o,a.xuid=e,a.platformId=t,a.finishReport(),T(!0)}),[T],[i,c,P,m,g,b,x]),q=(0,l.useFacetMap)((e=>""===e),[],[u]),Q=(0,l.useFacetMap)((e=>4!==e&&6!==e),[],[m]),Z=(0,l.useFacetMap)(((e,t,a,n,r)=>!a||-1===t&&r||-1===e&&n),[],[g,m,y,Q,q]),J=(0,l.useFacetMap)(((e,t)=>0===e&&t.isChatAvailable()),[],[m,P]),ee=(0,l.useFacetCallback)((()=>()=>{C(!1)}),[C],[]),te=(0,l.useFacetCallback)((()=>()=>{w(!1)}),[w],[]),ae=a.goBack,ne=(0,l.useFacetCallback)((()=>()=>{C(!1),w(!1),ae()}),[ae,C,w],[]),re=(0,l.useFacetCallback)((()=>()=>{T(!1),ae()}),[ae,T],[]),le=(0,l.useFacetMap)((e=>e),[],[S]),oe=(0,l.useFacetMap)(((e,t)=>!e&&t),[],[le,M]),ie=(0,l.useFacetMap)(((e,t,a)=>e||t||a),[],[S,M,k]),ce=(0,l.useFacetMap)((t=>{const a=e(".reportPanel.narration.enumeration",["1","2"]);return t?[a,e(".reportPanel.narration.disabledHint")].join(" . "):a}),[e],[Z]);return r.createElement(yx,{onBack:ae,title:e(".title"),screenAnalyticsId:"ReportPlayer",gamepadAlias:"player-report"},(()=>r.createElement(Cv,null,r.createElement(l.Mount,{when:ie},r.createElement($E,null,r.createElement(l.Mount,{when:le},r.createElement(DG,{gamertag:o,onConfirm:ee,onCancel:ne})),r.createElement(l.Mount,{when:oe},r.createElement(WG,{gamertag:o,onConfirm:te,onCancel:ne})),r.createElement(l.Mount,{when:k},r.createElement(_G,{onConfirm:re})))),r.createElement(Nm,{size:4}),r.createElement(Cv.Row,null,r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:d,condition:!1},r.createElement(Cv.Column,{wideSize:12,narrowSize:8},r.createElement(_v,{title:e(".error.title"),text:e(".error.text"),buttons:[{text:e(".error.buttonText"),onClick:ae,inputLegend:e(".buttonLegend")}]}))),r.createElement(l.Mount,{when:d},r.createElement(r.Fragment,null,r.createElement(Cv.Column,{wideSize:4,narrowSize:0},r.createElement("div",{className:zr()("a5df21a638eff8e561f7",t.border.base)},r.createElement(My,{title:z,value:H,onChange:j})),r.createElement(l.Mount,{when:H,condition:!1},r.createElement(Bz,{sender:$,timestamp:V,content:G,image:K,containerType:Y}))),r.createElement(Cv.Column,{wideSize:8,narrowSize:8},r.createElement(jf,{floating:!0,delegateFocusFromMemory:!0},r.createElement("div",{className:zr()("a94aa98cf678e718133e",t.border.base)},r.createElement(RG,{reportArea:m,onChangeReportArea:f,visible:q}),r.createElement(NG,{chatMessages:N,selectedMessages:x,setSelectedMessagesFacet:A,visible:J}),r.createElement(LG,{gamertag:o,reportReason:g,availableOptions:B,onChangeReportReason:E,visible:Q}),r.createElement(qg,{label:e(".commentPanel.title"),description:e(".commentPanel.description"),placeholder:e(".commentPanel.placeholder"),value:b,maxLength:350,rows:6,onChange:v}),r.createElement(sg,{title:e(".attestation"),gamepad:{index:0},value:y,onChange:F}),r.createElement(rO,{title:"",stackedButtons:!0,buttons:r.createElement(r.Fragment,null,r.createElement(Ug,{variant:"destructive",inputLegend:e(".buttonLegend"),onClick:X,narrationSuffix:ce,disabled:Z},e(".report")),r.createElement(rO.ButtonSpacing,null),r.createElement(Ug,{variant:"secondary",inputLegend:e(".buttonLegend"),onClick:ae,narrationSuffix:e(".reportPanel.narration.enumeration",["2","2"])},e(".cancel")))})))))))),r.createElement(Nm,{size:4}),r.createElement(LE.Space,null))))}function UG(e,t,a){return`/screenshot-details/${e}?sort=${t}&filter=${a}`}const zG="e50630ab37cab38d42cd",HG=yp((({onClose:e,menuOptions:t,onItemSelect:a,title:n})=>{const o=(0,l.useFacetWrap)(n);return r.createElement(YT,{isOpen:!0,title:o,items:t,onClose:e,onItemSelect:a})})),jG=yp((({onClose:e,onConfirm:t})=>{const{t:a}=Fc("ScreenshotDeleteModal");return r.createElement($E,null,r.createElement($E.Header,{onClose:e},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a(".text")},a(".text"))),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{horizontal:!0,inputLegend:a(".cancel"),variant:"secondary",onClick:e},a(".cancel")),r.createElement(Nm,{size:1}),r.createElement(Ug,{horizontal:!0,inputLegend:a(".delete"),variant:"destructive",onClick:t,"data-testid":"screenshotDeleteModalDeleteButton"},a(".delete"))))})),VG="delete-screenshots-error-close-button-wrapper",GG=yp((({onClose:e})=>{const{t}=Fc("ScreenshotDeleteErrorModal"),a=t(".text");return r.createElement($E,{defaultFocusAlias:VG},r.createElement($E.Header,{titlebarGamepadAlias:VG,onClose:e},t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a},a)),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{inputLegend:t(".close"),variant:"secondary",onClick:e,horizontal:!0},t(".close"))))}));function $G(e){return`xuid=${e.xuid}&playerName=${e.playerName}&relation=${e.relation}`}function KG(){return(0,l.useFacetMap)((e=>{var t,a,n;return{xuid:null!==(t=e.get("xuid"))&&void 0!==t?t:"",playerName:null!==(a=e.get("playerName"))&&void 0!==a?a:"",relation:null!==(n=Number(e.get("relation")))&&void 0!==n?n:$c.Unknown}}),[],[h()])}function YG(e,t,a,n,r=""){return`/player-report?gamertag=${t}&isFriend=${a?"true":"false"}`+(""===e?"":`&xuid=${e}`)+(""===n?"":`&platformId=${n}`)+(""===r?"":`&galleryScreenshotId=${r}`)}let XG;var qG;function QG({screenshot:e,index:t,length:a,onGoToIndex:n,screenshotNarrationSuffix:o,variant:i}){const{t:c}=Fc("ScreenshotDetailsSideMenu"),{t:s}=Fc("ScreenshotDetailsSideMenu.narration"),u=HG.useModal(),d=p(),m=(0,l.useSharedFacet)(nu),f=(0,l.useSharedFacet)(su),g=HG.useModal(),E=[{label:c(".shareOptions.shareToExternal"),value:qG.ShareToExternal,gamepadAlias:"share-menu-modal-option-1",enumeration:c(".shareOptions.enumeration",["1","2"])},{label:c(".shareOptions.postToRealmsStories"),value:qG.PostToRealmsStories,gamepadAlias:"share-menu-modal-option-2",enumeration:c(".shareOptions.enumeration",["2","2"])}],h=(0,l.useFacetCallback)(((e,t)=>a=>{null!=t&&(g.hide(),a===qG.ShareToExternal?e.shareFile(c(".shareTitle"),c(".shareText"),t.filePath):d.push(`/post-to-realm-stories?screenshotId=${t.id}`))}),[g,d,c],[f,e]),b=(0,l.useFacetCallback)((e=>()=>{e.isShareSupported?g.show():h(qG.PostToRealmsStories)}),[g,h],[f]),v=jG.useModal(),y=(0,l.useFacetMap)((e=>e.deleteScreenshotsError),[],[m]),F=(0,l.useFacetMap)((e=>e===au.HttpError),[],[y]),S=(0,l.useFacetCallback)((e=>e.clearDeleteScreenshotsError),[],[m]),C=(0,r.useCallback)((e=>{n(e-1)}),[n]),M=(0,l.useFacetMap)((e=>e+1),[],[t]),w=wr("neutral80"),k=r.createElement(Nm,{size:3}),T=(0,l.useFacetMap)((e=>e>=2),[],[a]),P=function(){const e=tv(ec),{t}=Fc("ScreenshotDetailsSideMenu");return(0,l.useFacetMap)((a=>{let n=e?2:1;const r=[];return a.isInGame||(n+=1,r.push({label:t(".deviceStorage"),value:XG.DeviceStorage,gamepadAlias:"screenshot-manage-menu-options-1",enumeration:t(".optionsEnumeration",["1",n.toString()])})),r.push({label:t(".deleteScreenshot"),value:XG.DeleteScreenshot,gamepadAlias:"screenshot-manage-menu-options-2",enumeration:t(".optionsEnumeration",[`${r.length+1}`,n.toString()])}),e&&r.push({label:t(".setWorldThumbnail"),value:XG.SetWorldThumbnail,gamepadAlias:"screenshot-manage-menu-options-3",enumeration:t(".optionsEnumeration",[`${r.length+1}`,n.toString()])}),r}),[t,e],[(0,l.useSharedFacet)(mc)])}(),I=(0,l.useFacetCallback)((e=>t=>{if(u.hide(),null!=e)switch(t){case XG.DeviceStorage:d.push("/settings/storage");break;case XG.DeleteScreenshot:v.show();break;case XG.SetWorldThumbnail:d.push(`/set-world-thumbnail/${e.id}`)}}),[u,d,v],[e]),x=(0,l.useFacetMap)((e=>{var t;return null===(t=null==e?void 0:e.loadingImage)||void 0===t||t}),[],[e]),A=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.image)&&void 0!==t?t:""}),[],[e]),O=(0,l.useFacetMap)((e=>{let t="manage"===i?3:2;return e&&(t+=2),t}),[i],[T]),N=vj.useModal(),R=(0,l.useFacetMap)(((e,t)=>`${c(".narration.fullImage")} . ${t}`),[c],[t,o]),L=(0,l.useFacetCallback)(((e,t,a)=>()=>{null!=a&&(v.hide(),e.deleteScreenshots([a.id]),t.queueSnackbar(c(".screenshotDeleted")),d.goBack())}),[d,v,c],[m,(0,l.useSharedFacet)(Ac),e]);return r.createElement(r.Fragment,null,r.createElement(Sx,{autofocus:!0,spacingAroundSideMenu:k},r.createElement(xl,{data:O},(t=>r.createElement(r.Fragment,null,"manage"===i?r.createElement(ZG,{showFullImageModal:N.show,showManageMenuModal:u.show,onShareButtonClicked:b,numButtons:t}):r.createElement(JG,{screenshot:e,showFullImageModal:N.show,numButtons:t.toString()}),r.createElement(l.Mount,{when:T},r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement("div",{className:zr()("ef4f08710023a4714ba5",w.bevel.base)}),r.createElement("div",{className:zr()("c2e178836a95994fafde",w.background.base,w.bevel.base)},r.createElement(SP,{totalPages:a,currentPage:M,onChange:C,counterStyle:"index-counter-no-border",unlockMaxWidth:!0,narrateContextOnChange:!0,narrateTotalOnChange:!1,prevNarrationSuffix:[s(".buttonRole"),s(".enumeration",[""+(t-1),t.toString()]),s(".previousScreenshotHint"),s(".moveToRightHint")].join(" . "),nextNarrationSuffix:[s(".buttonRole"),s(".enumeration",[`${t}`,t.toString()]),s(".showNextScreenshotHint")].join(" . "),triggerShortcuts:!0})))))))),r.createElement(l.Mount,{when:N.isVisible},r.createElement(vj.Component,{src:A,isLoading:x,onClose:N.hide,closeInputLegend:c(".fullImageBack"),closeNarration:c(".fullImageBack"),narrationText:R})),"manage"===i&&r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:u.isVisible},r.createElement(HG.Component,{onClose:u.hide,menuOptions:P,onItemSelect:I,title:c(".manage")})),r.createElement(l.Mount,{when:v.isVisible},r.createElement(jG.Component,{onClose:v.hide,onConfirm:L}))),r.createElement(l.Mount,{when:g.isVisible},r.createElement(HG.Component,{onClose:g.hide,menuOptions:E,onItemSelect:h,title:c(".share")})),r.createElement(l.Mount,{when:F},r.createElement(GG.Component,{onClose:S})))}function ZG({showFullImageModal:e,showManageMenuModal:t,onShareButtonClicked:a,numButtons:n}){const{t:l}=Fc("ScreenshotDetailsSideMenu.narration"),{t:o}=Fc("ScreenshotDetailsSideMenu");return r.createElement(r.Fragment,null,r.createElement(Sx.Item,null,r.createElement(Ug,{inputLegend:o(".share"),onClick:a,variant:"primary",linebreak:!0,narrationPrefix:o(".share"),narrationSuffix:l(".enumeration",["1",n.toString()])},o(".share"))),r.createElement(Nm,{size:1}),r.createElement(Sx.Item,null,r.createElement(Ug,{inputLegend:o(".fullImage"),variant:"secondary",linebreak:!0,narrationPrefix:o(".fullImage"),narrationSuffix:l(".enumeration",[""+(n-3),n.toString()]),onClick:e},o(".fullImage"))),r.createElement(Nm,{size:1}),r.createElement(Sx.Item,null,r.createElement(Ug,{onClick:t,inputLegend:o(".manage"),narrationPrefix:o(".manage"),narrationSuffix:l(".enumeration",[""+(n-2),n.toString()]),variant:"secondary",linebreak:!0},o(".manage"))),r.createElement(Nm,{size:1}))}function JG({screenshot:e,showFullImageModal:t,numButtons:a}){const{t:n}=Fc("ScreenshotDetailsSideMenu.narration"),{t:o}=Fc("ScreenshotDetailsSideMenu"),i=p(),c=(0,l.useFacetCallback)(((e,t)=>()=>{const a=e.relation===$c.TwoWayFriend||e.relation===$c.Following;i.push(YG(e.xuid,e.playerName,a,"",null==t?void 0:t.id))}),[i],[KG(),e]);return r.createElement(Sx.Item,null,r.createElement(Ug,{inputLegend:o(".fullImage"),variant:"secondary",linebreak:!0,narrationPrefix:o(".fullImage"),narrationSuffix:n(".enumeration",["1",a]),onClick:t},o(".fullImage")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:o(".report"),variant:"secondary",linebreak:!0,narrationPrefix:o(".report"),narrationSuffix:n(".enumeration",["2",a]),onClick:c},o(".report")))}function e$({title:e,screenshot:t,index:a,length:n,onGoToIndex:o,screenshotNarrationSuffix:i,variant:c}){const s=wr(),{t:u}=Fc("ScreenshotDetailsLayout"),{t:d}=Fc("ScreenshotDetailsLayout.narration"),m=tv(ec),p=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.showcased)&&void 0!==t&&t}),[],[t]),f=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.featured)&&void 0!==t&&t}),[],[t]),g=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.image)&&void 0!==t?t:""}),[],[t]),E=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.captureTimeLabel)&&void 0!==t?t:""}),[],[t]),h=(0,l.useFacetMap)(((e,t,a)=>`${d(".screenshotEnumeration",[(e+1).toString(),t.toString()])} . ${a}`),[d],[a,n,i]),b=(0,l.useFacetMap)((e=>{var t;return null===(t=null==e?void 0:e.loadingImage)||void 0===t||t}),[],[t]),v={paddingTop:Qp.aspectRatioToPercentage(Qp.AspectRatio["16:9"])},y=(0,l.useSharedFacet)(dl),F=(0,l.useFacetMap)((e=>e.platform),[],[y]),S=(0,l.useFacetMap)((e=>!Ik(e)),[],[F]),C=(0,l.useFacetMap)(((e,t,a)=>m&&(t||a)||e),[m],[S,p,f]);return r.createElement(yx,{title:e,screenAnalyticsId:"ScreenshotDetails",gamepadAlias:"screenshot-details"},(()=>r.createElement(Zf,{text:h},r.createElement(Cv,null,r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:4,narrowSize:3},r.createElement(QG,{screenshot:t,index:a,length:n,onGoToIndex:o,screenshotNarrationSuffix:i,variant:c})),r.createElement(Cv.Column,{wideSize:8,narrowSize:5},r.createElement(Nm,{size:3}),r.createElement("div",{className:zr()("ea5c994f031002b30075",zG,s.neutral.border.base,s.neutral80.background.base)},r.createElement(l.Mount,{when:b},r.createElement("div",{className:"c78a9c8efb1e3668d45d",style:v},r.createElement(zf,null))),r.createElement(l.Mount,{when:b,condition:!1},r.createElement(Qp,{className:"ddbd3c0739d50157266f",src:g,aspectRatio:Qp.AspectRatio["16:9"]}))),r.createElement(l.Mount,{when:C},r.createElement("div",{className:zr()("d0a5a19145b759c1ac55",zG,s.neutral.background.base,s.neutral.border.base)},r.createElement("div",null,r.createElement(l.Mount,{when:S},r.createElement(zm,{variant:"dimmer",type:"body"},E))),m&&r.createElement("div",{className:zr()("e7af01d22652a8248cba")},r.createElement(Nm,{size:7}),r.createElement(l.Mount,{when:p},r.createElement("div",{className:"c7f25228d474fd96ae71"},r.createElement(xM.Friends,{role:"neutral",width:24,height:24}))),r.createElement(Nm,{size:1}),r.createElement(l.Mount,{when:f},r.createElement("div",{className:zr()("a887e3548e7635a1beee",s.primaryTint.background.base)},r.createElement(zm,{role:"noticeTint",type:"captionShort"},u(".featured")))))))))))))}function t$(e){const{t}=Fc("ScreenshotDetailsLayout"),{t:a}=Fc("ScreenshotDetailsLayout.narration"),n=(0,l.useSharedFacet)(dl),r=(0,l.useFacetMap)((e=>e.platform),[],[n]),o=(0,l.useFacetMap)((e=>!Ik(e)),[],[r]),i=(0,l.useFacetWrap)(e);return(0,l.useFacetMap)(((e,n)=>{if(null==n)return"";const r=n.captureTimeLabel,l=n.featured,o=n.showcased,i=e&&null!=r?[a(".screenshotHint",[`${r}`])]:[];return l?i.push(t(".featured")):o&&i.push(a(".showcased")),i.join(" . ")}),[a,t],[o,i])}function a$(){const{t:e}=Fc("ScreenshotDetailsRoute"),t=(0,l.useSharedFacet)(nu),a=p(),n=f(),o=g(),i=h();(0,l.useFacetEffect)(((e,t)=>{e&&t.count<=0&&a.goBack()}),[a],[n,t]);const c=(0,l.useFacetMap)((e=>e.id),[],[o]),[s,u]=(0,l.useFacetState)(PV.NewestFirst),[d,m]=(0,l.useFacetState)(IV.ShowAll);(0,l.useFacetEffect)((e=>{e.has("sort")&&e.has("filter")&&(u(Number(e.get("sort"))),m(Number(e.get("filter"))))}),[u,m],[i]);const E=function(e,t,a){return(0,l.useFacetMap)(((e,t,a)=>{let n=FT(e);switch(t===PV.NewestFirst?n.sort(((e,t)=>t.captureTime-e.captureTime)):n.sort(((e,t)=>e.captureTime-t.captureTime)),a){case IV.Showcased:n=n.filter((e=>e.showcased));break;case IV.Featured:n=n.filter((e=>e.featured));break;case IV.Unmarked:n=n.filter((e=>!e.showcased&&!e.featured))}return n}),[],[e,t,a])}((0,l.useFacetMap)((e=>e.screenshots),[],[t]),s,d),b=(0,l.useFacetMap)(((e,t)=>e.find((e=>e.id===t))),[],[E,c]),v=(0,l.useFacetMap)(((e,t)=>null!=t?e.indexOf(t):-1),[],[E,b]),y=(0,l.useFacetMap)((e=>e.length),[],[E]),F=(0,l.useFacetCallback)(((e,t,n)=>r=>{if(r>=0&&r<e.length){const l=e[r].id;a.replace(UG(l,t,n))}}),[a],[E,s,d]),S=t$(b);return r.createElement(e$,{title:e(".title"),screenshot:b,index:v,length:y,onGoToIndex:F,screenshotNarrationSuffix:S,variant:"manage"})}!function(e){e[e.DeviceStorage=1]="DeviceStorage",e[e.DeleteScreenshot=2]="DeleteScreenshot",e[e.SetWorldThumbnail=3]="SetWorldThumbnail"}(XG||(XG={})),function(e){e[e.ShareToExternal=1]="ShareToExternal",e[e.PostToRealmsStories=2]="PostToRealmsStories"}(qG||(qG={}));const n$="dfe3d0ee824373994871",r$=a.p+"assets/info-icon-4cdb89a6333acdc26201.png",l$=a.p+"assets/manage-icon-4558c1dd329badc5712c.png",o$="screenshot-gallery-modal-close-button-wrapper",i$=yp((({onClose:e})=>{const{t}=Fc("ScreenshotGalleryInfoModal"),a=BV();return r.createElement($E,{defaultFocusAlias:o$},r.createElement($E.Header,{titlebarGamepadAlias:o$,onClose:e},t(".title")),r.createElement($E.Content,null,r.createElement(xl,{data:a},(e=>r.createElement(r.Fragment,null,r.createElement("div",{className:"c0ea6f59afe4ff6d3ddb"},e.icon),r.createElement($E.Text,{narrationText:e.narration},e.text))))))})),c$="lyc-modal-cancel",s$=yp((({deleteScreenshots:e,onClose:t,plural:a,hasShowcased:n,hasFeatured:l})=>{const{t:o}=Fc("ScreenshotGalleryRoute.deleteScreenshotsModal"),i=o(a?".messagePlural":".message"),c=[];n&&c.push(o(".showcasedMessage")),l&&c.push(o(".featuredMessage")),c.push(i);const s=c.join(" . ");return r.createElement($E,{onOverlayClick:t,defaultFocusAlias:c$},r.createElement($E.Header,{onClose:t},o(".title")),r.createElement($E.Content,null,r.createElement($E.Paragraphs,{narrationText:s},n&&r.createElement(zm,{children:o(".showcasedMessage"),type:"captionLong"}),l&&r.createElement(zm,{children:o(".featuredMessage"),type:"captionLong"}),r.createElement(zm,{children:i,type:"captionLong"}))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,inputLegend:o(".cancelButton"),variant:"secondary",onClick:t},o(".cancelButton")),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:1,inputLegend:o(".deleteButton"),variant:"destructive",onClick:e,gamepadAlias:c$},o(".deleteButton"))))}));var u$;function d$(){const{t:e}=Fc("ScreenshotGalleryRoute"),t=(0,r.useRef)(null),a=KV(),n=(0,l.useSharedFacet)(Ac),o=(0,l.useSharedFacet)(nu),i=s$.useModal(),c=HG.useModal(),s=i$.useModal(),u=p(),d=(0,l.useSharedFacet)(Wu),m=(0,r.useCallback)(((e,t,a)=>{u.push(UG(e.id,t,a))}),[u]),[f,g]=(0,l.useFacetState)(!0),[E,b]=(0,l.useFacetState)(!1),[v,y]=(0,l.useFacetState)([]),F=(0,l.useFacetMap)((e=>e.deleteScreenshotsError),[],[o]),S=(0,l.useFacetMap)((e=>e===au.HttpError),[],[F]),C=(0,l.useFacetCallback)(((t,a,n)=>()=>{t.deleteScreenshots(n),a.queueSnackbar(e(1===n.length?".deleteScreenshotSnack":".deleteScreenshotSnackPlural",[n.length.toString()])),i.hide(),b(!1)}),[i,b,e],[o,n,v]),M=function(e){const t=(0,l.useSharedFacet)(nu);return(0,l.useFacetMap)(((e,t)=>{const a=e.screenshots.filter((e=>e.showcased)).some((e=>t.includes(e.id)));let n=!1;const r=e.screenshots.find((e=>e.featured));return null!=r&&t.includes(r.id)&&(n=!0),{hasShowcased:a,hasFeatured:n,plural:1!==t.length}}),[],[t,e])}(v),w=(0,r.useCallback)((e=>{y(e),i.show()}),[i,y]),k=(0,l.useFacetMap)((t=>e(t?".deleteScreenshots":".screenshotGalleryHeader")),[e],[E]),T=(0,l.useFacetMap)((e=>e.isLoadGalleryInProgress),[],[o]),P=(()=>{const e=Mk();return(0,r.useCallback)(((t,a,n,r,l)=>{e("ScreenshotGalleryLoaded",{profileXuid:{value:t,privacyTag:du.EUPI},relationToCurrentUser:{value:a,privacyTag:du.SystemMetadata},numberOfScreenshots:{value:n,privacyTag:du.SystemMetadata},numberOfShowcased:{value:r,privacyTag:du.SystemMetadata},hasFeatured:{value:l,privacyTag:du.SystemMetadata}})}),[e])})();(0,l.useFacetEffect)(((e,t,a,n)=>{if(a&&!e.isLoadGalleryInProgress){const t=e.screenshots.some((e=>e.featured));P(n.currentXuid,Number($c.Self),e.count,e.screenshots.filter((e=>e.showcased)).length,t),g(!1)}}),[P,g],[o,h(),f,d]);const I=(0,l.useFacetMap)((t=>{const a=[];t.isInGame||a.push({label:e(".deviceStorage"),value:u$.DeviceStorage,gamepadAlias:"screenshot-manage-menu-options-0",enumeration:e(".optionsEnumeration",["1","2"])});const n=a.length;return a.push({label:e(".deleteScreenshotsButton"),value:u$.DeleteScreenshots,gamepadAlias:"screenshot-manage-menu-options-1",enumeration:e(".optionsEnumeration",[`${n+1}`,`${n+1}`])}),a}),[e],[(0,l.useSharedFacet)(mc)]),x=tv(ec),A=x?3:2,O="narrow"==Od(),N=(0,r.useCallback)((e=>{switch(c.hide(),e){case u$.DeleteScreenshots:b(!0);break;case u$.DeviceStorage:u.push("/settings/storage")}}),[c,b,u]),R=(0,l.useFacetMap)((e=>e.undownloadedCount),[],[o]),L=(0,l.useFacetMap)(((e,t,a)=>e>0&&a&&e+t.count>t.maxScreenshots),[],[R,o,(0,l.useFacetWrap)(x)]),_=(0,l.useFacetMap)(((t,a)=>e(".galleryFullWarning",[""+(t+a.count-a.maxScreenshots)])),[e],[R,o]),D=(0,l.useFacetCallback)((e=>e.clearDeleteScreenshotsError),[],[o]);return r.createElement(r.Fragment,null,r.createElement($V,{headerText:k,showHeaderNumbers:!0,onScreenshotClicked:m,screenshotLists:a,scrollViewRef:t,isLoadingScreenshots:T,banner:r.createElement(l.Mount,{when:L},r.createElement(r.Fragment,null,r.createElement(Nm,{size:3}),r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,_),r.createElement(AP.Link,{onClick:()=>b(!0)},e(".deleteScreenshotsLink"))))),managementRowButtons:r.createElement("div",{className:zr()("da680cb9e8b3353c09b4",!O&&"c1d4f12e1f61607657d3")},x&&r.createElement(r.Fragment,null,r.createElement("div",{className:zr()(O?"eacfee6872e2a9567832":"e2dbf96ee1693dc52c29")},r.createElement(Ug,{narrationPrefix:e(".manageShowcase"),inputLegend:e(".manageShowcase"),Icon:xM.Album,narrationSuffix:e(".optionsEnumeration",["1",`${A}`]),onClick:()=>u.push("/manage-showcase"),disabled:L},e(".manageShowcase"))),r.createElement(Nm,{size:2})),r.createElement("div",{className:zr()("c0669e7960e7ab10ace8",!O&&"e47cd0c7e5bffdf6c16e")},r.createElement("div",{className:n$},r.createElement(Ug,{inputLegend:e(".info"),narrationPrefix:e(".info"),imgSrc:r$,onClick:s.show,narrationSuffix:e(".optionsEnumeration",[""+(A-1),`${A}`])})),r.createElement(Nm,{size:2}),r.createElement("div",{className:n$},r.createElement(Ug,{inputLegend:e(".moreOptions"),narrationPrefix:e(".moreOptions"),imgSrc:l$,onClick:c.show,narrationSuffix:e(".optionsEnumeration",[`${A}`,`${A}`]),"data-testid":"screenshot-gallery-route-more-options"})))),onSubmitSelection:w,onCancelSelection:()=>b(!1),selectionType:"delete",selectionEnabled:E}),r.createElement(l.Mount,{when:c.isVisible},r.createElement(HG.Component,{onClose:c.hide,menuOptions:I,onItemSelect:N,title:e(".galleryOptions")})),r.createElement(xl,{data:M},(e=>r.createElement(l.Mount,{when:i.isVisible},r.createElement(s$.Component,{deleteScreenshots:C,onClose:i.hide,plural:e.plural,hasShowcased:e.hasShowcased,hasFeatured:e.hasFeatured})))),r.createElement(l.Mount,{when:s.isVisible},r.createElement(i$.Component,{onClose:s.hide})),r.createElement(l.Mount,{when:S},r.createElement(GG.Component,{onClose:D})))}function m$(){const{t:e}=Fc("GuidedCreateWorldRoute"),t=Jr();return r.createElement(r.Fragment,null,r.createElement(av,null,r.createElement(yv,{left:r.createElement(yv.BackButton,{onClick:()=>t.goBack()}),center:r.createElement(zm,{type:"header5A"},e(".title")),gamepadAlias:"guided-create-world-route"},r.createElement(r.Fragment,null))))}!function(e){e[e.ManageShowcased=0]="ManageShowcased",e[e.DeviceStorage=1]="DeviceStorage",e[e.DeleteScreenshots=2]="DeleteScreenshots"}(u$||(u$={}));const p$=a.p+"assets/screenshot_1-48404d5a8f0097356091.jpg",f$=a.p+"assets/screenshot_2-7c721593cd419875cf29.jpg",g$=a.p+"assets/screenshot_3-9dd41022b2ee8d8c2c08.jpg",E$=a.p+"assets/screenshot_4-72ff980d133dc323944c.jpg",h$=a.p+"assets/screenshot_5-5636d6b539bf7f23759d.jpg",b$=a.p+"assets/screenshot_6-380c0205af54e86438ac.jpg",v$=a.p+"assets/screenshot_7-6cfec1e1e1009ea73447.jpg",y$=a.p+"assets/screenshot_8-b5f240429090c0ddd613.jpg";function F$(e){return(0,l.useFacetMap)((e=>{const t=[p$,f$,g$,E$,h$,b$,v$,y$];let a=0;for(let t=0;t<e.length;t++)a+=e.charCodeAt(t);return t[a%t.length]}),[],[e])}const S$="de90f7f4da3ea5be069d";function C$(){return C$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},C$.apply(null,arguments)}function M$({variant:e,featuredScreenshot:t,featuredScreenshotEmptyImgSrc:a,showFeaturedSpinner:n=!1,showEmptyShowcasedSpinner:o=!1,nonFeaturedScreenshots:i,onScreenshotSlotClick:c}){const{t:s}=Sc("ScreenshotShowcaseGrid.narration"),u=Od(),d=(0,l.useFacetWrap)(5),m=(0,l.useFacetWrap)(n),p=(0,l.useFacetWrap)(o),f=(0,l.useFacetMap)((e=>null==e),[],[t]),g=(0,l.useFacetMap)((e=>e.length>4?4:e.length),[],[i]),E=(0,l.useFacetCallback)(((e,t)=>a=>{0!==a?t.length>0&&a-1<t.length?c(a,t[a-1]):c(a):c(0,e)}),[c],[t,i]),h="narrow"!==u?{height:9.4,width:16}:void 0,b="manage"===e?s(".featuredScreenshotHint"):"",v="manage"===e?s(".showcasedScreenshotHint"):"",y="manage"===e?[s(".gridTitle"),s(".gridRole"),s(".gridHint")].join(" . "):[s(".gridTitle"),s(".gridRole")].join(" . "),F=(0,l.useFacetMap)(((t,a)=>Array.from({length:4-t},((n,r)=>{const l="manage"===e&&0===r?"manage":"view",o=1+t+r;return{variant:l,index:o,onClick:()=>E(o),loading:0===r&&a,narrationSuffix:"manage"===l?v:"",gamepadAlias:`showcase-grid-item-${o}`}}))),[e,E,v],[g,p]);return r.createElement(Zf,{text:y},r.createElement("div",{className:zr()({e47f44df85e99c8993c0:"narrow"!==u,ccfb91ec8284c35def5c:"narrow"===u})},r.createElement("div",{className:zr()({bad4bcf17683348dd8e9:"narrow"!==u})},r.createElement(l.With,{data:t},(t=>r.createElement(MV,{length:d,screenshot:t,index:0,onScreenshotClicked:()=>E(0),variant:e,loading:m,gamepadAlias:"showcase-grid-item-0",narrationSuffix:b}))),r.createElement(l.Mount,{when:f},r.createElement(MV.Empty,{imgSrc:a,length:d,index:0,onClick:()=>E(0),variant:e,loading:m,gamepadAlias:"showcase-grid-item-0",narrationSuffix:b,featured:!0}))),"narrow"===u&&r.createElement(Nm,{size:2}),r.createElement("div",{className:zr()("ef37ebcd5bda08d4c4e2",{ce59c03f286df75e47a8:"narrow"!==u})},r.createElement(l.Map,{array:i},((t,a)=>a>=4?null:r.createElement("div",{className:S$},r.createElement(MV,{length:d,screenshot:t,onScreenshotClicked:()=>E(a+1),variant:e,index:a+1,gamepadAlias:`showcase-grid-item-${a+1}`,narrationSuffix:v,imageAspectRatioOverride:h})))),r.createElement(xl,{data:F},(e=>r.createElement(r.Fragment,null,e.map(((e,t)=>r.createElement("div",{className:S$,key:t},r.createElement(MV.Empty,C$({length:d,imageAspectRatioOverride:h},e)))))))))))}function w$(e,t){return`/showcase-details/${e}?${$G(t)}`}function k$(){const{t:e}=Fc("ScreenshotShowcaseRoute"),t=p(),a=(0,l.useSharedFacet)(ru),n=h(),o=f(),i=(0,l.useFacetCallback)((e=>t=>{e.loadGallery(t),e.loadFeaturedScreenshot(t)}),[],[a]);(0,l.useFacetEffect)(((e,t)=>{var a;e.has("xuid")&&t&&i(null!==(a=e.get("xuid"))&&void 0!==a?a:"")}),[i],[n,o]);const c=(0,l.useFacetMap)((t=>{var a;return e(".header",[null!==(a=t.get("playerName"))&&void 0!==a?a:""])}),[e],[n]),s=(0,l.useFacetMap)((e=>e.screenshots.slice().sort(((e,t)=>e.lastModifiedTime-t.lastModifiedTime))),[],[a]),u=(0,l.useFacetMap)((e=>e.isLoadingScreenshots||e.isLoadingFeaturedScreenshot),[],[a]),d=(0,l.useFacetMap)((e=>e.find((e=>e.featured))),[],[s]),m=(0,l.useFacetMap)((e=>e.filter((e=>!e.featured))),[],[s]),g=F$((0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("xuid"))&&void 0!==t?t:""}),[],[n])),E=(0,l.useFacetCallback)((e=>t=>{e.loadShowcasedScreenshot(t)}),[],[a]),b=(0,l.useFacetCallback)((e=>(a,n)=>{if(null!=n){n.showcased&&E(n.id);const a=w$(n.id,e);t.push(a)}}),[t,E],[KG()]);return r.createElement(yx,{title:c,screenAnalyticsId:"ScreenshotShowcase",gamepadAlias:"screenshot-showcase-route",delegateByAlias:"screenshot-showcase-scroll-view"},(()=>r.createElement(Cv,null,r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:12,narrowSize:8},r.createElement(l.Mount,{when:u},r.createElement(Nm,{size:2})),r.createElement(jf,{loading:u,flexShrinkWrapper:!0,delegateFocusFromMemory:!0,gamepadAlias:"screenshot-showcase-scroll-view",delegateFocusByAlias:"showcase-grid-item-0"},r.createElement(Nm,{size:2}),r.createElement(M$,{variant:"view",featuredScreenshot:d,featuredScreenshotEmptyImgSrc:g,nonFeaturedScreenshots:m,onScreenshotSlotClick:b}),r.createElement(Nm,{size:2})),r.createElement(l.Mount,{when:u},r.createElement(Nm,{size:2})))))))}function T$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P$(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T$(Object(a),!0).forEach((function(t){I$(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T$(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function I$(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const x$=a.p+"assets/missing_image_asset-c4690201d0408a39765f.png",A$=e=>null!=e.image&&""!=e.image;function O$({template:e,onSelect:t,gamepadIndex:a,inputLegend:n,autofocus:o}){const i=(0,l.useFacetCallback)((e=>()=>{t(e.seedValue,e.image)}),[t],[e]),c=(0,l.useFacetMap)((e=>e.title),[],[e]),s=(0,l.useFacetMap)((e=>A$(e)),[],[e]),u=(0,l.useFacetMap)((e=>A$(e)?e.image:x$),[],[e]),{t:d}=Fc("SeedTemplateCard"),{background:m}=wr("neutral80");return r.createElement(r.Fragment,null,r.createElement(bH,{gamepadIndex:a,inputLegend:n,narrationSuffix:d(".narrationSuffix"),onClick:i,autofocus:o},r.createElement(l.Mount,{when:s},r.createElement(Qp,{src:u,aspectRatio:Qp.AspectRatio["16:9"]})),r.createElement(l.Mount,{when:s,condition:!1},r.createElement(Qp,{src:u,aspectRatio:Qp.AspectRatio["16:9"],className:zr()("fc0bd2f92966efe8169c",m.base),imageRendering:"pixelated"})),r.createElement(bH.Information,{narrationText:c},r.createElement(zm,{type:"body",verticalAlign:"center"},c))))}const N$=a.p+"assets/creeper-cropped-9e281d5900185e023433.png",R$=(0,l.createFacet)({initialValue:{templates:[]}}),L$=e=>null!=e.image&&e.image.length>0;function _$(){const{t:e}=Fc("SeedTemplatesRoute"),t=(0,l.useIsPaused)(),a=Jr(),n=Od(),o=my({wide:8,narrow:6,width:260}),i=(0,l.useFacetMap)((e=>e?"fc5bc4a1edbfdf849d6f":"c1d73df6d38efaf23e4e"),[],[o]),c=(0,l.useSharedFacet)(cu),s=t?R$:c,u=(0,l.useFacetMap)((e=>{if(!e.templates.length)return!1;if(e.templates.length>=9){for(let t=0;t<e.templates.length;t++){const a=e.templates[t];if(null==a.image||!a.image.length)return!1}return!0}return AD(e.templates,(e=>null!=e.image&&e.image.length>0))}),[],[s]),[d,m]=(0,l.useFacetState)(!1);(0,r.useEffect)((()=>{const e=setTimeout((()=>m(!0)),1250);return()=>clearTimeout(e)}),[m]);const p=(0,l.useFacetMap)((e=>e.failedToFetch),[],[c]),f=(0,l.useFacetMap)(((e,t,a,n)=>{if(n)return[];const r=[];if(a||t)for(let t=0;t<e.templates.length;t++){const a=e.templates[t];r.find((e=>e.seedValue===a.seedValue))||r.push(a)}return r}),[],[s,d,u,p],(()=>()=>!1)),g=function(e,t){const a=(0,l.useFacetWrap)(e),n=(0,r.useRef)({}),[o,i]=(0,l.useFacetState)(!0),c=(0,r.useRef)(null);return(0,l.useFacetLayoutEffect)((e=>{if(c.current&&document.body.removeChild(c.current),c.current=null,n.current=e.reduce(((e,t)=>P$(P$({},e),{},{[t]:!1})),{}),e.filter((e=>e.length>0)).length){const t=document.createElement("div");t.style.visibility="hidden",t.style.position="absolute",c.current=t,e.forEach((a=>{const r=new Image;r.src=a,r.addEventListener("load",(t=>()=>{n.current[t]=!0;const a=Object.values(n.current);a.length===e.length&&a.every((e=>e))&&i(!1)})(a)),t.appendChild(r)})),document.body.appendChild(t)}return()=>{c.current&&document.body.removeChild(c.current),c.current=null}}),[i],[a]),(0,r.useEffect)((()=>{let e;return null!=t&&(e=setTimeout((()=>i(!1)),t)),()=>{null!=e&&clearTimeout(e)}}),[t,i]),o}((0,l.useFacetMap)((e=>{const t=e.filter(L$).map((e=>e.image));return e.length&&t.push(x$),t}),[],[f]),8e3),E=(0,l.useFacetMap)(((e,t,a)=>!!a||!e&&t.templates.length>0&&!a),[],[g,s,p]),h=py(E,1e4),b=(0,l.useFacetMap)(((e,t)=>e||t),[],[p,h]),v=py(E,1500),y=(0,l.useFacetMap)(((e,t)=>e&&t),[],[v,g]),F=(0,l.useFacetCallback)((e=>(t,n)=>{e.worldData.advanced.worldSeed=t,e.worldPreviewImagePath=n,a.goBack()}),[a],[(0,l.useSharedFacet)(Ni)]);return r.createElement(r.Fragment,null,r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(l.Mount,{when:y},r.createElement(ev,{text:e(".narration.loadingMessage")})),r.createElement(av,null,r.createElement(yv,{onBackButton:a.goBack,center:r.createElement(zm,{type:"header5A"},e(".title")),gamepadAlias:"seed-layout-content",delegateByAlias:"seed-templates-grid",delegateFocusFromMemory:!0},r.createElement(Cv,null,r.createElement(Cv.Row,{gamepadIndex:0,fullHeight:!0},r.createElement(l.Mount,{when:b},r.createElement(r.Fragment,null,r.createElement(Cv.Column,{wideSize:2,narrowSize:0}),r.createElement(Cv.Column,{gamepadIndex:0,wideSize:8,narrowSize:8},r.createElement(Nm,{size:6}),r.createElement(_v,{autofocus:!0,imgSrc:N$,imgClass:i,gamepadIndex:0,title:e(".errorMessageTitle"),text:e(".errorMessageBody"),buttons:[{text:e(".errorBackButtonText"),inputLegend:e(".errorBackButtonInputLegend"),gamepadAlias:"seed-temp-empty-state",onClick:()=>a.goBack()}]}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0})))),r.createElement(l.Mount,{when:b,condition:!1},r.createElement(Cv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},r.createElement(rz,{gamepadAlias:"seed-templates-grid",autofocus:!0,loading:(0,l.useFacetMap)((e=>!e),[],[E]),gamepadIndex:0,data:f,columns:"narrow"===n?2:3,firstRowSeparatorVertical:r.createElement(Nm,{size:4}),itemSeparatorHorizontal:r.createElement(Nm,{size:"narrow"===n?1:3}),itemSeparatorVertical:r.createElement(Nm,{size:"narrow"===n?2:4}),footer:r.createElement(r.Fragment,null,r.createElement(LE.Space,null),r.createElement(Nm,{size:4})),renderItem:({itemFacet:t,columnIndex:a,rowIndex:n})=>r.createElement(O$,{autofocus:0===a&&0===n,template:t,gamepadIndex:a,inputLegend:e(".selectTemplateInputLegend"),onSelect:F}),renderTracker:e=>r.createElement(Ny,{type:"meaningful",renderingCompleted:e})}))))))))}const D$="ed49a9b0a5585bf977b8",W$=a.p+"assets/world-preview-default-d0210bba13d939ca9e72.jpg",B$=a.p+"assets/cloud-sync-default-c5ac686895fcd8b97a26.png",U$=a.p+"assets/icon-cloud-sync-0d0d63219d797579d7fb.png";function z$(){return z$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},z$.apply(null,arguments)}const H$=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("a54f43a42f3fe0f2b02d",t);return r.createElement(Qp,z$({},a,{className:n,src:U$,imageRendering:"pixelated"}))};function j$(){const e=wr();return r.createElement("div",{className:zr()("a23829554805f4996230",e.neutral80.background.base,e.neutral80.border.base)},r.createElement(H$,null))}const V$=a.p+"assets/player-online-icon-b63b81863545d7c6a444.png",G$=a.p+"assets/player-online-icon-dimmer-86fcb9b9b802e2204af0.png",$$=a.p+"assets/player-online-icon-full-5db61a9992ca3cc6741f.png";function K$(){return K$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},K$.apply(null,arguments)}const Y$=e=>{let{className:t,variant:a}=e,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className","variant"]);const o=(0,l.useFacetWrap)(null!=a?a:"regular"),i=tf("bb13cd31f1a1d1794a4e",t),c=(0,l.useFacetMap)((e=>"dimmer"===e?G$:"full"===e?$$:V$),[],[o]);return r.createElement(Qp,K$({},n,{className:i,src:c,imageRendering:"pixelated"}))};function X$({full:e,amountOfPlayersOnline:t}){const{t:a}=Fc("PlayersOnlineInWorld");return r.createElement("div",{className:"ed17e57540e1483501e8"},r.createElement(Y$,{className:"a178930ee7b2fd1f5fa2"}),r.createElement(zm,{type:"captionShort"},t),r.createElement(l.Mount,{when:(0,l.useFacetWrap)(null!=e&&e)},r.createElement(_y,{role:"destructiveTint",align:"center"},a(".full"))))}X$.Panel=function({children:e,className:t}){const a=wr("neutral80");return r.createElement("div",{className:zr()("a7a51d5bf3d15fdd6e45",a.background.base,a.border.base,t)},e)};function q$({className:e,useGreyBorder:t}){const a=(0,l.useFacetMap)((t=>zr()("b3f9bdd72a8542a94141",{a7dcd02180d031bd69af:t},e)),[e],[(0,l.useFacetWrap)(null!=t&&t)]);return r.createElement("fast-div",{className:a})}function Q$(e){const t=yI(),a=Bk();return(0,l.useFacetMap)(((e,t,a)=>e&&(t||a)),[],[e,a,t])}const Z$=yp((({onClose:e})=>{const{t}=Fc("BannedOrSuspendedMessage"),{title:a,reasonCopy:n,bodyFirstParagraph:o,bodySecondParagraph:i,helpButtonCopy:c}=vI(),s=FI(),u=(0,l.useFacetCallback)((e=>()=>{e.openLink(Uu.BannedHelpPage)}),[],[(0,l.useSharedFacet)(zu)]);return r.createElement($E,null,r.createElement($E.Header,{onClose:e},a),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:n,center:!0},n),r.createElement($E.Text,{gamepadIndex:0,narrationText:o,center:!0},o),r.createElement($E.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{horizontal:!0,variant:"secondary",inputLegend:t(".close"),onClick:e},t(".close")),r.createElement(Nm,{size:1}),r.createElement(xl,{data:s},(e=>r.createElement(Ug,{"data-testid":"help-button-"+(e?"suspended":"banned"),horizontal:!0,variant:"primary",Icon:xM.ExternalLink,inputLegend:c,onClick:u},c)))))}));function J$({id:e,title:t,subtitle:a,imageSrc:n,requiresCloudSync:o,tags:i,autofocus:c,onWorldClick:s,narrationIndex:u,onEdit:d,containerListLength:m,isMultiplayerWorld:p,amountOfPlayersOnline:f,worldFull:g,isHardcore:E,playerHasDied:h,disable:b,metadataList:v,testId:y,itemRole:F,itemInputLegend:S,hidePlayButton:C=!1}){const{t:M}=Fc("WorldListItem"),{t:w}=Fc("WorldListItem.narration"),k=wr("neutral"),T=(0,l.useFacetWrap)(F),P=null!=d,I=(0,l.useFacetWrap)(null!=f?f:0),x=(0,l.useFacetWrap)(null!=g&&g),A=(0,l.useFacetMap)((e=>e>0),[],[I]),O=(0,l.useFacetWrap)(null!=v?v:[]),N=(0,l.useFacetMap)((e=>e.length>0),[],[O]),R=(0,l.useFacetMap)((e=>e.map((e=>e.displayText))),[],[O]),L=(0,l.useFacetWrap)(null!=o&&o),_=(0,l.useFacetWrap)(null!=E&&E),D=(0,l.useFacetWrap)(null!=h&&h),[W,B]=(0,l.useFacetState)(!1),U=(0,l.useFacetUnwrap)(e),z=(0,l.useFacetMap)(((e,t)=>t?B$:null!=e&&e.length?e:W$),[],[(0,l.useFacetWrap)(n),L]),H=(0,l.useFacetWrap)(u),j=(0,l.useFacetMap)(((e,t,a,n,r)=>[e,null!=r?r:w(".componentRole"),t>0?w(".listLengthContext",[`${n}`,`${t}`]):void 0,a.map((e=>e.label)).join(", ")].filter(Boolean).join(" . ")),[w],[t,m,i,H,T]),V=(0,l.useFacetMap)((e=>{const t=[];return C||t.push([w(".play"),P?w(".buttonSiblings",["1","2"]):w(".button")]),t.push(...e.map((e=>e.narrationText))),t.filter(Boolean).join(" . ")}),[C,w,P],[O]),G=(0,l.useFacetCallback)((e=>()=>d&&d(e)),[d],[e]),$=(0,l.useFacetMap)((e=>null!=e?e:""),[],[(0,l.useFacetWrap)(null!=a?a:"")]),K=(0,l.useFacetMap)((e=>e.length>0),[],[$]),Y=eG.useModal(),X=Z$.useModal(),q=yI(),Q=Q$(p),Z=function(e){const t=Q$(e),a=Dk();return(0,l.useFacetMap)(((e,t,a,n)=>!e&&t&&(a||!n.isOnline)),[],[t,e,a,(0,l.useSharedFacet)(dl)])}(p),J=(0,l.useFacetMap)(((e,t)=>t&&e),[],[p,q]),ee=(0,l.useFacetCallback)(((e,t)=>()=>{t?X.show():e?Y.show():s()}),[s,X,Y],[Q,J]),te=(0,l.useFacetMap)(((e,t,a)=>null!=a?a:e?"multiplayer-world-list-item-primary-action-"+(t-1):"world-list-item-primary-action-"+(t-1)),[],[p,H,(0,l.useFacetWrap)(y)]);return U==l.NO_VALUE?null:r.createElement(Zf,{text:j,key:U},r.createElement(Qw,{tall:!0,disableDeferredMount:!0},r.createElement(Qw.Action,{testId:te,autofocus:c,className:"ea4a19c80a8253526ffc",inputLegend:null!=S?S:M(".play"),narrationText:V,onClick:ee,onFocusChanged:B,onHoverChanged:B,disabled:b},r.createElement("div",{className:"a3fc9060a0e7b89adc70"},r.createElement(l.Mount,{when:L},r.createElement(j$,null)),r.createElement(Qp,{src:z,className:zr()(k.border.base,"fd7702fa69b497518f82"),aspectRatio:Qp.AspectRatio["16:9"],isGrayscale:Q}),r.createElement(l.Mount,{when:_},r.createElement($A,{className:"c18fda52da104cd0d04a",animate:W,startFrame:8,dead:D})),r.createElement(l.Mount,{when:Q},r.createElement("div",{className:D$},r.createElement(_y,{role:"destructiveTint"},M(".multiplayerDisabled")))),r.createElement(l.Mount,{when:Z},r.createElement("div",{className:D$},r.createElement(_y,{role:"destructiveTint"},M(".multiplayerWorldOffline")))),r.createElement(l.Mount,{when:_},r.createElement(q$,{useGreyBorder:D}))),r.createElement(Qw.Main,null,r.createElement(zm,{type:"body",overflowEllipsis:!0},t),r.createElement(l.Mount,{when:K},r.createElement(zm,{type:"body",variant:"dimmer",overflowEllipsis:!0},$)),r.createElement("div",{className:"b2600a72a990e330c825"},r.createElement(l.Map,{array:i},(e=>r.createElement(eK,{tag:e}))))),r.createElement(l.Mount,{when:N},r.createElement("div",{className:"c6ae33306ffb825365c3"},r.createElement(l.Map,{array:R},((e,t)=>r.createElement(zm,{type:"captionShort",variant:"dimmest",key:t,overflowEllipsis:!0},e))))),r.createElement(l.Mount,{when:A},r.createElement(Qw.Cell,null,r.createElement("div",{className:"cdafd5a83979664d53fc"},r.createElement(X$,{amountOfPlayersOnline:I,full:x}))))),r.createElement(Qw.AdditionalAction,{narrationText:[w(".edit"),w(".buttonSiblings",["2","2"])].join(" . "),inputLegend:M(".edit"),onClick:G,hidden:!P},r.createElement(xM.Edit,null),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionShort",overflowEllipsis:!0},M(".edit"))),r.createElement(l.Mount,{when:X.isVisible},r.createElement(Z$.Component,{onClose:X.hide})),r.createElement(l.Mount,{when:Y.isVisible},r.createElement(eG.Component,{onClose:Y.hide}))))}function eK({tag:e}){const t=(0,l.useFacetMap)((e=>e.role),[],[e]),a=(0,l.useFacetMap)((e=>e.label),[],[e]);return r.createElement(_y,{role:t},a)}const tK=(0,r.createContext)((()=>Math.floor(Date.now()/1e3)));function aK(e){switch(e){case Fu.SPECTATOR:return".spectator";case Fu.ADVENTURE:return".adventure";case Fu.SURVIVAL:return".survival";case Fu.CREATIVE:return".creative";default:return".unknown"}}let nK;function rK(e){const{t}=Fc("WorldTag");return(0,l.useFacetMap)((e=>e.friendWorld?[{label:t(e.friendOfFriendWorld?".friendOfFriend":".friend"),role:"successTint"}]:[{label:t(".lanWorld"),role:"informativeTint"}]),[t],[e])}function lK(e){const{t}=Fc("WorldTag");return(0,l.useFacetMap)((e=>{const a=[];return e.isHardcore||a.push({label:t(aK(e.gameMode)),role:"neutral80"}),e.isHardcore&&a.push({label:t(".hardcore"),role:"destructiveTint"}),a}),[t],[e])}function oK(e){const{t}=Fc("WorldTag");return(0,l.useFacetMap)((e=>{const a=[];return e.isHardcore||e.requiresCloudSync||a.push({label:t(aK(e.gameMode)),role:"neutral80"}),e.isExperimental&&a.push({label:t(".experimental"),role:"noticeTint"}),e.isHardcore&&a.push({label:t(".hardcore"),role:"destructiveTint"}),a}),[t],[e])}function iK({world:e,onWorldClick:t,onEdit:a,index:n,indexOffset:o,totalNrOfWorlds:i,itemRole:c,hidePlayButton:s,itemInputLegend:u}){const d=(0,l.useFacetMap)((e=>e.id),[],[e]),m=(0,l.useFacetMap)((e=>e.name),[],[e]),p=(0,l.useFacetMap)((e=>e.isMultiplayerEnabled),[],[e]),f=oK(e),g=(0,l.useFacetMap)((e=>e.previewImgPath),[],[e]),E=(0,l.useFacetMap)((e=>e.requiresCloudSync),[],[e]),h=(0,l.useFacetMap)((e=>e+n+1),[n],[o]),b=(0,l.useFacetMap)((e=>e.isHardcore),[],[e]),v=function(e,t){const{t:a}=Fc("ThumbnailWorldList"),{t:n}=Fc("ThumbnailWorldList.narration"),r=function(e,t){const{t:a,f:n}=Fc("ThumbnailWorldList");return(0,l.useFacetMap)(((e,t)=>{const r=t-e;function l(e,t){const n=Math.floor(r/t);return 1==n&&(e+="Singular"),a(e,[n.toString()])}return r<120?a(".justNow"):r<3600?l(".minutesAgo",60):r<86400?l(".hoursAgo",3600):r<=604800?l(".daysAgo",86400):n.formatDate(e)}),[a,n],[e,t])}((0,l.useFacetMap)((e=>e.lastSaved),[],[e]),t),o=a(".lastPlayed"),i=(0,l.useFacetMap)((e=>n(".lastPlayed",[e])),[n],[r]);return(0,l.useFacetMap)(((e,t)=>[{displayText:o,narrationText:""},{displayText:e,narrationText:t}]),[o],[r,i])}(e,(0,l.useFacetWrap)((0,r.useContext)(tK)())),y=(0,l.useFacetCallback)((e=>()=>{t(e)}),[t],[d]);return r.createElement(J$,{id:d,title:m,tags:f,imageSrc:g,requiresCloudSync:E,containerListLength:i,narrationIndex:h,onEdit:a,onWorldClick:y,isMultiplayerWorld:p,isHardcore:b,metadataList:v,itemRole:c,hidePlayButton:s,itemInputLegend:u})}function cK({localWorlds:e,onLocalWorldClick:t,onLocalWorldEdit:a,itemRole:n,hidePlayButton:o,itemInputLegend:i}){const c=(0,l.useFacetMap)((e=>e.length),[],[e]),s=(0,l.useFacetWrap)(0);return r.createElement(r.Fragment,null,r.createElement(l.Map,{array:e},((e,l)=>r.createElement(r.Fragment,null,l>0&&r.createElement(Nm,{size:1}),r.createElement(iK,{world:e,onWorldClick:t,onEdit:a,indexOffset:s,index:l,totalNrOfWorlds:c,itemRole:n,hidePlayButton:o,itemInputLegend:i})))))}!function(e){e[e.LIST=0]="LIST",e[e.GRID=1]="GRID"}(nK||(nK={}));const sK=a.p+"assets/no-worlds-yet-art-446b1f244c652ef1c166.png";function uK(){const{t:e}=Fc("SetWorldThumbnailRoute.errorState"),t=p(),a=Od(),n=(0,r.useCallback)((()=>{t.push("/create-new-world")}),[t]);return r.createElement(_v,{title:e(".emptyStateTitle"),text:e(".emptyStateText"),imgSrc:sK,imgClass:"narrow"===a?"ed46fad2f7808c210fb4":"a8927ebc1945e83eb4a0",buttons:[{variant:"primary",text:e(".emptyStateCreateNewButton"),narrationSuffix:e(".createNewWorldNarration"),onClick:n,gamepadAlias:"play-cnw-button"}]})}function dK(){const e=(0,l.useSharedFacet)(SG),t=(0,l.useFacetMemo)((({localWorlds:e})=>e.filter((e=>e.allContentOwned))),[],[e]);return{data:t,isEmpty:(0,l.useFacetMap)((e=>e.length<1),[],[t]),alternativeStorageHasWorlds:(0,l.useFacetMap)((e=>e.otherStorageTypeHasWorlds),[],[e])}}function mK(){const e=p(),t=dK(),a=(0,l.useSharedFacet)(Ac),n=(0,l.useSharedFacet)(td),o=(0,l.useSharedFacet)(nu),i=g(),{t:c}=Fc("SetWorldThumbnailRoute"),{t:s}=Fc("SetWorldThumbnailRoute.narration"),u=(0,l.useFacetCallback)((e=>t=>e.find((e=>e.id===t))),[],[t.data]),d=(0,l.useFacetMap)(((e,t)=>e.screenshots.find((e=>e.id===t.thumbnailId))),[],[o,i]),m=(0,l.useFacetCallback)(((t,a,n)=>r=>{const o=u(r);null!=o&&null!=n&&o!=l.NO_VALUE&&(a.saveScreenshotAsWorldIcon(r,n.filePath,n.id),t.queueSnackbar(c(".successSnackbarMessage",[o.name])),e.goBack())}),[e,c,u],[a,n,d]),f=(0,l.useFacetMap)((e=>0===e.length),[],[t.data]),E=[s(".selectWorld"),s(".group")].join(" . ");return r.createElement(yx,{title:c(".setWorldThumbnailHeader"),screenAnalyticsId:"SetWorldThumbnail",gamepadAlias:"set-world-thumbnail-route"},(()=>r.createElement(Cv,null,r.createElement(Cv.Row,{fullHeight:!0},r.createElement(l.Mount,{when:f,condition:!1},r.createElement(Cv.Column,{wideSize:12,narrowSize:8},r.createElement(jf,{alwaysVisibleChildren:r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}))},r.createElement(Zf,{text:E},r.createElement(cK,{localWorlds:t.data,onLocalWorldClick:m,itemRole:s(".listItem"),itemInputLegend:c(".select"),hidePlayButton:!0}))))),r.createElement(l.Mount,{when:f},r.createElement(r.Fragment,null,r.createElement(Cv.Column,{wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{wideSize:10,narrowSize:8},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(uK,null))),r.createElement(Cv.Column,{wideSize:1,narrowSize:0})))))))}const pK=a.p+"assets/arrowForwardWhite-9acfff2a810da383d67f.png";function fK(){return fK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},fK.apply(null,arguments)}const gK=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("d8aa607e39deee96d338",t);return r.createElement(Qp,fK({},a,{className:n,src:pK,imageRendering:"pixelated"}))};let EK,hK,bK,vK;!function(e){e[e.NONE=0]="NONE",e[e.REALMS=1]="REALMS",e[e.GAME=2]="GAME"}(EK||(EK={})),function(e){e[e.NONE=0]="NONE",e[e.ACCEPTED=1]="ACCEPTED",e[e.REJECTED=2]="REJECTED",e[e.EXPIRED=3]="EXPIRED",e[e.JOIN=5]="JOIN"}(hK||(hK={})),function(e){e.NEWS="news",e.INVITES="invites",e.REALMS="realms",e.MARKETPLACEPASS="marketplacepass",e.FEEDBACK="feedback"}(bK||(bK={})),function(e){e.NONE="Unknown",e.IMAGETEXT="ImageText",e.IMAGETNAILCTA="ImageThumbnailCTA",e.HEROIMAGECTA="HeroImageCTA",e.CONTENTLISTCTA="ContentListWithCTA",e.CONTENTLISTNOCTA="ContentListNoCTA",e.SHOWCASECTA="ShowcaseAnnouncementCTA",e.SHOWCASENOCTA="ShowcaseAnnouncementNoCTA",e.GAMEDROP="GameDrop"}(vK||(vK={}));const yK=(0,l.sharedFacet)("vanilla.inbox");function FK(e,t){for(let a=0;a<e.length;++a)if(e[a].categoryName==t)return e[a].unreadMessages;return 0}function SK(e,t){e.forEach((e=>{var a;const n=(a=Date.now(),TK(Math.floor(a/1e3))-TK(e.dateReceived)<=TK(604800));for(const a of t)if(e.inboxCategory==a.category){n?a.recent.push(e):a.history.push(e);break}}))}const CK=(0,l.sharedSelector)((e=>function(e,t){const a=[];return Object.values(bK).forEach((e=>{const n=FK(t,e);a.push({recent:[],history:[],unreadCount:n,category:e,name:"",imageUrl:""})})),SK(e,a),a}(e.inboxMessages,e.categoryData)),[yK]),MK=(0,l.sharedSelector)((e=>function(e,t){const a=[];return t.forEach((e=>{a.push({recent:[],history:[],unreadCount:e.unreadMessages,category:e.categoryName,name:e.localizedName,imageUrl:e.imageUrl})})),SK(e,a),a}(e.inboxMessages,e.categoryData)),[yK]),wK=(0,l.sharedSelector)((e=>e.settings),[yK]);function kK(e){const t=(0,l.useFacetWrap)(e),a=(0,l.useFacetMap)((e=>e.id),[],[t]),n=(0,l.useFacetMap)((e=>e.instanceId),[],[t]),r=function(){const e=p();return(0,l.useFacetCallback)((t=>(a,n,r)=>{null!=r&&(t.reportClick(a,n,r.id),r.action===Wc.EXTERNAL?r.openExternalLink():r.action===Wc.INTERNAL&&e.push(r.link))}),[e],[(0,l.useSharedFacet)(yK)])}();return(0,l.useFacetCallback)(((e,t)=>a=>{r(e,t,a)}),[r],[a,n])}function TK(e){return Math.floor(e/60/60/24)}function PK(){const{t:e}=Fc("JoinRealmsServerInvitationsButton"),t=wr("neutral"),a=p(),n=e(".narrationSuffix"),o=(0,l.useSharedFacet)(yK),i=(0,l.useFacetMap)((e=>FK(e.categoryData,bK.INVITES)>0),[],[o]),c=(0,l.useFacetMap)((t=>e(t?".hasInvitesTitle":".noInvitesTitle")),[e],[i]),s=(0,l.useFacetMap)((t=>e(t?".hasInvitesBody":".noInvitesBody")),[e],[i]),u=(0,l.useFacetMap)(((e,t)=>[e,t,n].join(" . ")),[n],[c,s]);return r.createElement(Zf,{text:[e(".invitationsName"),e(".invitationsRole")].join(" . ")},r.createElement(Ag,{delayedClick:!0,gamepadIndex:0,inputLegend:e(".inputLegend"),narrationText:u,onClick:()=>a.push("/inbox/invites"),variant:"neutral",reflection:"bevel"},r.createElement("div",{className:zr()(t.text.base,"e098b8656adc8b29a509")},r.createElement("div",{className:"e40081d4255548160311"},r.createElement(zm,{type:"body"},r.createElement(xm,null,c)),r.createElement(zm,{variant:"dimmer",type:"captionShort"},r.createElement(xm,null,s))),r.createElement(gK,null))))}function IK(e,t){const a=(0,l.useSharedFacet)(Os),n=(0,l.useFacetMap)((e=>e.fetchRealmProgress),[],[a]),r=(0,l.useFacetMap)((e=>e.fetchRealmResult),[],[a]),o=(0,l.useFacetMap)((e=>e.fetchRealmError),[],[a]),i=vd(),c=Vk(((e,a)=>function*(){if(""===a)return;null!=(null==t?void 0:t.analyticsId)&&i({button:"JoinRealmLink",screen:t.analyticsId});const r=a.trim();e.clearFetchRealm(),e.fetchRealm(r),yield n,null==e.fetchRealmError&&null!=t&&t.onSuccess&&t.onSuccess(r)}),[n,i,t],[a,e]),s=(0,l.useFacetCallback)((e=>()=>e.clearFetchRealm()),[],[a]);return{fetch:c,progress:n,result:r,error:o,clear:s}}function xK(){const{t:e}=Fc("JoinRealmsServerError");return t=>{switch(t){case xs.AlreadyMember:return e(".alreadyMember");case xs.BadInvite:return e(".badInvite");case xs.BlockedInvite:return e(".blockedInvite");case xs.RealmClosed:return e(".realmClosed");case xs.RealmExpired:return e(".realmExpired");case xs.UnexpectedServerResponse:return e(".unexpectedServerResponse");case xs.AnonymousAccount:return e(".anonymousAccount");case xs.InviteLinkNotFound:return e(".inviteLinkNotFound");default:return e(".unknownError")}}}const AK="JoinRealmsServer";function OK(){const{t:e}=Fc("JoinRealmsServer"),t=wr("neutral"),a=p(),n=f(),[o,i]=(0,l.useFacetState)(""),c=(0,l.useFacetMap)((e=>e.length<=0),[],[o]),s=function(){const e=(0,l.useSharedFacet)(zu),t=vd();return(0,l.useFacetCallback)((e=>()=>{t({button:"Help",screen:AK}),e.openLink(Uu.JoinRealmHelpPage)}),[t],[e])}(),u=(0,r.useCallback)((e=>{i(""),a.push(`/join-realms-server/${e}`)}),[a,i]),d=IK((0,l.useFacetMap)((e=>function(e){const t=e;return t.split("/")[t.split("/").length-1]}(e)),[],[o]),{analyticsId:AK,onSuccess:u}),m=(0,l.useFacetMap)(((e,t)=>t&&e===Hk.RUNNING),[],[d.progress,n]),g=(0,r.useCallback)((()=>{d.clear(),a.goBack()}),[a,d]);return r.createElement(r.Fragment,null,r.createElement(yx,{screenAnalyticsId:AK,gamepadAlias:"join-realms-server",title:e(".title"),onBack:g},(()=>r.createElement(Cv,null,r.createElement(RK,{error:d.error},r.createElement(NK,{error:d.error}),r.createElement(Cv.Row,{gamepadIndex:1,fullHeight:!0},r.createElement(Cv.Column,{gamepadIndex:-1,wideSize:1,narrowSize:0,disabled:!0}),r.createElement(Cv.Column,{narrowSize:8,wideSize:10,gamepadIndex:0},r.createElement(jf,{gamepadIndex:0},r.createElement(Nm,{size:2}),r.createElement(Zf,{text:[e(".linkBoxNarrationName"),e(".linkBoxNarrationRole")].join(" . ")},r.createElement("div",{className:zr()(t.border.base,"d7aa368e79f8d676540b")},r.createElement(jy,{description:e(".inputDescription"),gamepadIndex:0,label:e(".inputLabel"),onChange:i,placeholder:e(".inputPlaceholder"),value:o}),r.createElement(pr,{collection:bT},r.createElement(Fg,null,r.createElement("div",{className:"ad6f257280177d4c6ecf"},r.createElement(Ug,{onClick:s,inputLegend:e(".helpButtonLabel"),Icon:xM.ExternalLink,horizontal:!0,"data-testid":"help-button",narrationSuffix:e(".buttonEnumeration",["1","2"])},e(".helpButtonLabel")),r.createElement(rO.ButtonSpacing,null),r.createElement(Ug,{onClick:d.fetch,inputLegend:e(".joinButtonLabel"),horizontal:!0,disabled:c,variant:"primary","data-testid":"join-realm-button",narrationSuffix:e(".buttonEnumeration",["2","2"])},e(".joinButtonLabel"))))))),r.createElement(Nm,{size:2}),r.createElement(PK,null))),r.createElement(Cv.Column,{gamepadIndex:1,wideSize:1,narrowSize:0,disabled:!0})))))),r.createElement(l.Mount,{when:m},r.createElement(Ay.Component,{title:e(".verifyingLinkModalTitle")})))}function NK({error:e}){const t=xK();return r.createElement(xl,{data:e},(e=>null==e?null:r.createElement(Cv.Row,{gamepadIndex:0},r.createElement(Cv.Column,{gamepadIndex:-1,wideSize:1,narrowSize:0,disabled:!0}),r.createElement(Cv.Column,{narrowSize:8,wideSize:10,gamepadIndex:0},r.createElement(Nm,{size:2}),r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,t(e)))),r.createElement(Cv.Column,{gamepadIndex:-1,wideSize:1,narrowSize:0,disabled:!0}))))}function RK({error:e,children:t}){const a=xK(),n=(0,l.useFacetMap)((e=>null==e?"":a(e)),[a],[e]);return r.createElement(Zf,{text:n},t)}function LK(){return LK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},LK.apply(null,arguments)}function _K(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const DK={Root:e=>{let{children:t,title:a,role:n="neutral80",className:o,disableBackButton:i=!0,centerContentVertically:c=!0}=e,s=_K(e,["children","title","role","className","disableBackButton","centerContentVertically"]);const u=wr(n),d=(0,l.useFacetMap)((e=>zr()("d097e422ae1e522f1412",u.background.base,u.border.base,u.text.base,e)),[u],[(0,l.useFacetWrap)(o)]);return r.createElement(yx,LK({title:a,disableBackButton:i},s),(({})=>r.createElement(Zn,{role:n},r.createElement(Cv,{centerContentVertically:c},r.createElement(Nm,{size:2}),r.createElement(Cv.Row,{gamepadIndex:0},r.createElement(Cv.Column,{gamepadIndex:1,wideSize:12,narrowSize:8},r.createElement("fast-div",{className:d},t))),r.createElement(Nm,{size:2}),r.createElement(LE.Space,null)))))},Body:e=>{let{className:t}=e,a=_K(e,["className"]);return r.createElement("fast-div",LK({className:zr()("e603963c162f966cdb32",t)},a))},Footer:({children:e,role:t="inherit",align:a,className:n})=>{const o=wr(t),i=(0,l.useFacetMap)((e=>zr()("b621267a425faff075df",o.background.base,o.border.base,o.text.base,e)),[o],[(0,l.useFacetWrap)(n)]);return r.createElement("fast-div",{className:i},r.createElement("fast-div",{className:zr()("b3e83e4de3da4c27f5ad",o.specular.base,{da9f2f503dd4242ec6f2:"center"===a})},e))}},WK={mainWrapper:"c4987e59f43217502242",spinner:"f8dd7a98708a61337f46",border:"ca2d9df39a1a1f649619",narrowImage:"f35ca7e0187bfed2ac52",narrowImageWrapper:"b12a971b56d15f311676",imageWrapper:"bf14613f669a80a29a58",overlayInformation:"ee0ed682c2505782e987",overlayInformationNarrow:"e52f902ccc81652e97de",joinButtonWrapper:"dce494ca09fc8fd6c067"},BK=yp((()=>{const{t:e}=Fc("JoinRealmsServerError"),{t}=Fc("JoinRealmsServerErrorModal"),a=(0,l.useSharedFacet)(Os),n=(0,l.useFacetCallback)((e=>()=>e.clearJoinRealm()),[],[a]),o=(0,l.useFacetMap)((t=>{switch(t.joinRealmError){case Is.MemberOfTooManyRealms:return e(".memberOfTooManyRealms");case Is.NeedToCallFetchFirst:case Is.RealmsAPIUnavailable:case Is.UnknownError:default:return e(".unknownError")}}),[e],[a]);return r.createElement($E,{onOverlayClick:n},r.createElement($E.Header,{onClose:n},t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:o,center:!0},o)),r.createElement($E.Buttons,null,r.createElement(Ug,{inputLegend:t(".closeButtonLabel"),variant:"secondary",onClick:n,"data-testid":"join-realms-error-close-button"},t(".closeButtonLabel"))))})),UK=a.p+"assets/Realms_Default_Thumbnail_3840-998f353288f2319bc09b.jpg",zK=a.p+"assets/generic-error-art-8fa35da1a2442a3b4db5.png",HK="JoinRealmsServerTransient";function jK(){const{t:e}=Sc("JoinRealmsServerTransient"),t=p(),a=f(),n=g(),o=(0,l.useSharedFacet)(Ac),i=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.code)&&void 0!==t?t:""}),[],[n]),c=IK(i,{analyticsId:HK}),s=(0,l.useFacetCallback)((a=>(n,r)=>{a.queueSnackbar(e(".successSnackbar",[r])),t.go(-2),t.replace(`/play/realms/${n}`)}),[t,e],[o]),u=function(e,t){const a=(0,l.useSharedFacet)(Os),n=(0,l.useSharedFacet)(Ws),r=(0,l.useFacetMap)(((e,t)=>e.joinRealmProgress!==Hk.IDLE&&t.state===Ds.Loading?Hk.RUNNING:e.joinRealmProgress),[],[a,n]),o=(0,l.useFacetMap)((e=>e.joinedRealmId&&e.joinedRealmName),[],[a]),i=(0,l.useFacetMap)((e=>e.joinRealmError),[],[a]),c=vd(),s=Vk(((e,a)=>function*(){if(c({button:"JoinRealm",screen:HK}),e.clearJoinRealm(),e.joinRealm(a),yield r,null==e.joinRealmError){const a=e.joinedRealmId,n=e.joinedRealmName;t(a,n),e.clearJoinRealm()}}),[r,c,t],[a,e]);return{join:s,progress:r,result:o,error:i}}(i,s),d=(0,l.useFacetMap)((e=>e===Hk.RUNNING),[],[c.progress]),m=(0,l.useFacetMap)((e=>e===Hk.RUNNING),[],[u.progress]),E=(0,l.useFacetMap)(((e,t)=>e===Hk.FAILED&&null!=t),[],[u.progress,u.error]);(0,l.useFacetEffect)(((e,t,a,n)=>{!n||t||a||null!=e||c.fetch()}),[c],[c.result,m,d,a]);const h=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.ownerXuid)&&void 0!==t?t:""}),[],[c.result]),{profileName:b,isLoaded:v,avatarSource:y}=xT({ownerId:h}),F=(0,l.useFacetMap)(((e,t,a,n)=>e||t||null!=a||!n),[],[d,m,c.error,v]),S=(0,l.useFacetMap)(((e,t)=>e===Hk.RUNNING||!t),[],[c.progress,v]),C=(0,l.useFacetMap)((t=>null!=(null==t?void 0:t.realmName)?e(".title",[t.realmName]):e(".genericTitle")),[e],[c.result]);return r.createElement(r.Fragment,null,r.createElement(DK.Root,{gamepadAlias:"join-realms-server-transient-route",title:C,screenAnalyticsId:HK,className:WK.mainWrapper,disableBackButton:!1,centerContentVertically:!1},r.createElement(jf,{floating:!0},r.createElement(VK,{profileName:b,avatarSource:y,showSpinner:S,error:c.error,realmWorld:c.result})),r.createElement(pr,{collection:bT},r.createElement(DK.Footer,{align:"center"},r.createElement("div",{className:WK.joinButtonWrapper},r.createElement(Ug,{horizontal:!0,onClick:u.join,inputLegend:e(".joinButtonLabel"),variant:"primary",disabled:F,"data-testid":"join-realm-button"},e(".joinButtonLabel")))))),r.createElement(l.Mount,{when:m},r.createElement(Ay.Component,{title:e(".joinRealmModal")})),r.createElement(l.Mount,{when:E},r.createElement(BK.Component,null)))}function VK({realmWorld:e,showSpinner:t,error:a,profileName:n,avatarSource:o}){const{t:i}=Sc("JoinRealmsServerTransient"),c=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.realmName)&&void 0!==t?t:""}),[],[e]),s=my({wide:8,narrow:6,width:260}),u=(0,l.useFacetMap)(((e,t)=>i(".ownerInformation",[e])+' "'+t+'"'),[i],[n,c]),d=(0,l.useFacetMap)((e=>[e,i(".caption")].join(" . ")),[i],[u,c]),{border:m}=wr("inherit"),p=dn(),f=(0,l.useFacetMap)(((e,t)=>null!=t?"error":e?"spinner":"content"),[],[t,a]);return r.createElement(xl,{data:f},(e=>{switch(e){case"spinner":return r.createElement("div",{className:WK.spinner},r.createElement(zf,null));case"error":return r.createElement(GK,{error:a});default:return r.createElement(DK.Body,{className:WK.contentWrapper},r.createElement(Tm.Maybe,{classNameFocused:kp,isInteractive:p,narrationText:d},r.createElement(wp,null),r.createElement(xl,{data:s},(e=>e?r.createElement("div",{className:WK.narrowImageWrapper},r.createElement(Qp,{src:UK,aspectRatio:Qp.AspectRatio["10:3"],className:zr()(WK.border,WK.narrowImage,m.base)}),r.createElement("div",{className:WK.overlayInformationNarrow},r.createElement(uk,{src:o,variant:"medium",status:"offline"}))):r.createElement("div",{className:WK.imageWrapper},r.createElement(Qp,{src:UK,className:zr()(WK.border,m.base),aspectRatio:Qp.AspectRatio["10:3"]}),r.createElement("div",{className:WK.overlayInformation},r.createElement(uk,{src:o,variant:"large",status:"offline"}))))),r.createElement(Nm,{size:3}),r.createElement(zm,{type:"captionLong"},u),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionShort",variant:"dimmest"},i(".caption"))))}}))}function GK({error:e}){const{t}=Sc("JoinRealmsServerTransient"),a=xK(),n=my({wide:8,narrow:6,width:260}),o=(0,l.useFacetMap)((e=>e?WK.errorImage:WK.errorImageBig),[],[n]);return r.createElement(xl,{data:e},(e=>null==e?null:r.createElement(_v.Wrapper,{borderless:!0},r.createElement(_v.Title,null,t(".errorMessageTitle")),r.createElement(_v.Image,{imgClass:o,imgSrc:zK}),r.createElement(_v.Text,null,a(e)))))}function $K(){const{t:e}=Fc("ShowcaseDetailsRoute"),t=p(),a=(0,l.useSharedFacet)(ru),n=g(),o=(0,l.useFacetMap)((e=>e.id),[],[n]),i=(b=(0,l.useFacetMap)((e=>e.screenshots),[],[a]),(0,l.useFacetMap)((e=>function(e){const t=e.findIndex((e=>e.featured)),a=FT(e);if(t>0){const e=a.splice(t,1);a.unshift(e[0])}return a}(e.slice().sort(((e,t)=>e.lastModifiedTime-t.lastModifiedTime)))),[],[b])),c=(0,l.useFacetMap)(((e,t)=>{var a;return null!==(a=e.find((e=>e.id===t)))&&void 0!==a?a:e[0]}),[],[i,o]),s=(0,l.useFacetMap)(((e,t)=>e.indexOf(t)),[],[i,c]),u=(0,l.useFacetMap)((e=>e.length),[],[i]),d=(0,l.useFacetCallback)((e=>t=>{e.loadShowcasedScreenshot(t)}),[],[a]),m=KG(),f=(0,l.useFacetCallback)(((e,a)=>n=>{if(n>=0&&n<e.length){const r=e[n].id;e[n].showcased&&d(e[n].id),t.replace(w$(r,a))}}),[t,d],[i,m]),E=t$(c),h=(0,l.useFacetMap)((t=>e(".title",[t.playerName])),[e],[m]);var b;return r.createElement(e$,{title:h,screenshot:c,index:s,length:u,onGoToIndex:f,screenshotNarrationSuffix:E,variant:"view"})}const KK="manage-showcase-close-button-wrapper",YK=yp((({onClose:e})=>{const{t}=Fc("ManageShowcaseErrorModal"),a=t(".text");return r.createElement($E,{defaultFocusAlias:KK},r.createElement($E.Header,{titlebarGamepadAlias:KK,onClose:e},t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a,center:!0},a)),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{inputLegend:t(".close"),variant:"secondary",onClick:e,horizontal:!0},t(".close"))))})),XK=yp((({onConfirm:e,onCancel:t,title:a,message:n,option:o})=>{const{t:i}=Fc("ManageShowcaseModal"),[c,s]=(0,l.useFacetState)(!1),u=(0,l.useSharedFacet)(xc),d=(0,l.useFacetCallback)(((t,a,n)=>()=>{console.log("manageshowcasemodal ",n,a),console.log(JSON.stringify(t)),a&&(t[n]=!0),e()}),[e],[u,c,(0,l.useFacetWrap)(o)]);return r.createElement($E,null,r.createElement($E.Header,{onClose:t},a),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:n},n)),r.createElement($E.Buttons,{horizontal:!0,header:r.createElement($E.Checkbox,{value:c,onChange:s,title:i(".doNotShowAgain")})},r.createElement(Ug,{inputLegend:i(".cancel"),variant:"secondary",onClick:t,horizontal:!0},i(".cancel")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:i(".confirm"),variant:"primary",onClick:d,horizontal:!0},i(".confirm"))))}));function qK(){const{t:e}=Fc("ManageShowcaseRoute"),t=(0,l.useSharedFacet)(Wu),a=(0,l.useSharedFacet)(nu),n=XK.useModal(),o=(0,l.useSharedFacet)(xc),i=(0,l.useFacetMap)((e=>e.screenshots.slice().filter((e=>e.showcased)).sort(((e,t)=>e.lastModifiedTime-t.lastModifiedTime))),[],[a]),c=(0,l.useFacetMap)((e=>e.find((e=>e.featured))),[],[i]),s=(0,l.useFacetMap)((e=>e.filter((e=>!e.featured))),[],[i]),u=F$((0,l.useFacetMap)((e=>e.currentXuid),[],[t])),[d,m]=(0,l.useFacetState)(-1),p=(0,l.useFacetMap)((e=>0===e?"all":"noShowcased"),[],[d]),[f,g]=(0,l.useFacetState)(""),E=(0,l.useFacetMap)((e=>-1!==e),[],[d]),h=(0,l.useFacetMap)(((e,t)=>e.find((e=>t===e.id))),[],[i,f]),b=(0,l.useFacetMap)((e=>e.isLoadGalleryInProgress),[],[a]),v=(0,l.useFacetMap)((e=>e.isAddFeaturedImageInProgress),[],[a]),y=(0,l.useFacetMap)((e=>e.isAddShowcasedImageInProgress),[],[a]),F=(0,r.useCallback)((()=>{m(-1)}),[m]),S=(0,r.useCallback)((()=>{g("")}),[g]),C=(0,l.useFacetCallback)((e=>(t,a)=>{e.addScreenshotToShowcase(t,a)}),[],[a]),M=(0,l.useFacetCallback)((e=>t=>{e.removeShowcasedScreenshot(t)}),[],[a]),w=(0,l.useFacetCallback)((e=>t=>{C(t.id,0===e),F()}),[F,C],[d]),k=(0,l.useFacetCallback)((e=>(t,a)=>{null==a?m(t):e.doNotShowManageShowcaseClearWarning?M(a.id):(g(a.id),n.show())}),[m,g,M,n],[o]),T=(0,r.useCallback)((()=>{n.hide(),S()}),[S,n]),P=(0,l.useFacetCallback)((e=>()=>{null!=e&&M(e.id),n.hide(),S()}),[S,n,M],[h]),I=(0,l.useFacetMap)((e=>e.modifyShowcaseGalleryError),[],[a]),x=(0,l.useFacetMap)((e=>e===au.HttpError),[],[I]),A=(0,l.useFacetCallback)((e=>e.clearModifyShowcaseGalleryError),[],[a]);return r.createElement(r.Fragment,null,r.createElement(xl,{data:E},(t=>t?r.createElement(TG,{onScreenshotSelect:w,onGoBack:F,filterType:p}):r.createElement(yx,{title:e(".manageHeader"),screenAnalyticsId:"ScreenshotShowcase",gamepadAlias:"screenshot-showcase-route",delegateByAlias:"manage-showcase-scroll-view"},(()=>r.createElement(Cv,null,r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:12,narrowSize:8},r.createElement(l.Mount,{when:b},r.createElement(Nm,{size:2})),r.createElement(jf,{loading:b,flexShrinkWrapper:!0,delegateFocusFromMemory:!0,gamepadAlias:"manage-showcase-scroll-view",delegateFocusByAlias:"showcase-grid-item-0"},r.createElement(Nm,{size:2}),r.createElement(AP,{role:"informative"},r.createElement(AP.Text,null,e(".galleryBanner"))),r.createElement(Nm,{size:2}),r.createElement(M$,{variant:"manage",featuredScreenshot:c,featuredScreenshotEmptyImgSrc:u,showFeaturedSpinner:v,showEmptyShowcasedSpinner:y,nonFeaturedScreenshots:s,onScreenshotSlotClick:k}),r.createElement(Nm,{size:2})),r.createElement(l.Mount,{when:b},r.createElement(Nm,{size:2}))))))))),r.createElement(l.Mount,{when:n.isVisible},r.createElement(XK.Component,{onConfirm:P,onCancel:T,title:(0,l.useFacetMap)((t=>null!=t&&t.featured?e(".clearFeaturedTitle"):e(".clearShowcasedTitle")),[e],[h]),message:(0,l.useFacetMap)((t=>null!=t&&t.featured?e(".clearFeaturedMessage"):e(".clearShowcasedMessage")),[e],[h]),option:"doNotShowManageShowcaseClearWarning"})),r.createElement(l.Mount,{when:x},r.createElement(YK.Component,{onClose:A})))}const QK=()=>{const e=Jr(),t=(0,l.useSharedFacet)(Rc),a=(0,l.useSharedFacet)(pu),n=(0,l.useFacetCallback)((e=>t=>{e.fireEventButtonPressed("MobileDataBlockedModal_".concat(t),{})}),[],[a]),o=(0,l.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0}),[],[t]),i="backButton",{t:c}=Fc("MobileDataBlockedModalRoute");return r.createElement(Zf,{text:`${c(".title")}. ${c(".onlyWifi")}. ${c(".costWarning")}`},r.createElement($E,{defaultFocusAlias:i},r.createElement($E.Header,{onClose:()=>{n("Close_Button_Or_Unfocus"),e.goBack()}},c(".title")),r.createElement($E.Content,null,r.createElement($E.Paragraphs,{narrationText:`${c(".onlyWifi")}. ${c(".costWarning")}`,spaceBetweenParagraphs:5,gamepadIndex:0},r.createElement(zm,{type:"captionLong"},c(".onlyWifi")),r.createElement(zm,{type:"captionLong",fontWeight:zm.FontWeight.Bold},c(".costWarning"))),r.createElement(Zf,{text:`${c(".changeSettings")}`},r.createElement("div",{className:"d87ae3b1d67139890a6a"},r.createElement(wP,{gamepadIndex:1,onClick:()=>{n("Settings_Page_Link"),e.replace("/mobile-data-blocked-modal/links/settings-page")},withUnderlinePolyfill:!0},c(".changeSettings"))))),r.createElement($E.Buttons,null,r.createElement(Ug,{delayedClick:!0,onClick:()=>{n("Go_Back_Button"),e.goBack()},autofocus:!0,gamepadAlias:i,inputLegend:c(".goBack"),variant:"primary"},c(".goBack")),r.createElement(Nm,{size:1}),r.createElement(Ug,{delayedClick:!0,onClick:()=>{n("Use_Data_Once_Button"),o(),e.goBack()},inputLegend:c(".playOnceWithData"),variant:"secondary"},c(".playOnceWithData")))))};let ZK;!function(e){e.ServerTab="ServerTab"}(ZK||(ZK={}));const JK=()=>{const e=vd(),t=(0,l.useSharedFacet)(Ic),a=(0,l.useSharedFacet)(wc),n=(0,l.useFacetMap)((e=>e.joinThirdPartyServerTaskState),[],[t]),r=(0,l.useFacetMap)((e=>e.joinExternalServerTaskState),[],[t]),o=Vk(((t,a)=>function*(){const r={joinedServerName:a.networkDetails.name};e({button:"PlayThirdPartyServer",screen:ZK.ServerTab,details:r}),t.joinThirdPartyServer(a.networkDetails.id),yield n,t.clearJoinThirdPartyServerTaskState()}),[e,n],[t,a]),i=Vk(((t,a)=>function*(n){e({button:"PlayExternalServer",screen:ZK.ServerTab}),t.joinExternalServer(null!=n?n:a.networkDetails.id),yield r,t.clearJoinExternalServerTaskState()}),[e,r],[t,a]);return{thirdParty:o,external:i}};function eY(e,t){const a=(0,l.useSharedFacet)(Ic),n=(0,l.useFacetMap)((e=>e.joinLANServerTaskState),[],[a]),r=(0,l.useFacetMap)((e=>e.joinFriendServerState),[],[a]),o=Vk((e=>function*(t,a){a?(e.joinFriendServer(t),yield r,e.clearJoinFriendServerTaskState()):(e.joinLanServer(t),yield n,e.clearJoinLANServerTaskState())}),[n,r],[a]);return(0,l.useFacetCallback)(((e,t)=>()=>{o(e,t)}),[o],[e,t])}function tY(e){switch(e){case Su.External:return"external";case Su.ThirdParty:return"third-party";case Su.Realm:return"realm";case Su.LAN:return"LAN"}}const aY="online-play-warning-proceed-button",nY=()=>{const e=g(),t=(0,l.useSharedFacet)(xc),a=JK(),n=p(),{t:o}=Sc("PlayScreen.onlinePlayWarning"),i=o(".proceed"),c=o(".back"),s=(0,l.useFacetMap)((e=>e.type),[],[e]),u=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.id)&&void 0!==t?t:void 0}),[],[e]),d=(0,l.useFacetMap)((e=>e===tY(Su.ThirdParty)),[],[s]),m=(0,l.useFacetMap)((e=>o(e?".thirdParty.body":".multiplayerGeneric.body")),[o],[d]),f=(0,l.useFacetMap)((e=>o(e?".thirdParty.header":".multiplayerGeneric.header")),[o],[d]),E=(0,l.useFacetMap)((e=>null!=e?e:""),[],[u]),h=FO({worldId:E,screen:"RealmsTabContent",button:"PlayRealm",telemetryLocation:Pc.PlayScreen}),b=eY(E,(0,l.useFacetWrap)(!1)),v=(0,l.useFacetCallback)(((e,t,n)=>()=>{if(e===tY(Su.External))return t.doNotShowMultiplayerIpSafetyWarning=!0,void a.external(n);e===tY(Su.Realm)&&h(),e===tY(Su.ThirdParty)&&a.thirdParty(),e===tY(Su.LAN)&&b(),t.doNotShowMultiplayerOnlineSafetyWarning=!0}),[a,h,b],[s,t,u]),y=(0,r.useCallback)((()=>n.goBack()),[n]);return r.createElement(DK.Root,{gamepadAlias:"online-play-transient-route",title:o(".title"),screenAnalyticsId:"online-play-warning",className:"d2a86d0936582b1d80be",onBack:y,disableBackButton:!1},r.createElement(jf,{delegateFocusByAlias:aY},r.createElement(DK.Body,{className:"f1a6509de021472e1dda"},r.createElement(zm,{type:"body"},f),r.createElement(Nm,{size:3}),r.createElement(zm,{type:"captionLong"},m)),r.createElement(DK.Footer,null,r.createElement(Ug,{horizontal:!0,inputLegend:c,onClick:y},c),r.createElement(Nm,{size:3}),r.createElement(Ug,{horizontal:!0,gamepadAlias:aY,onClick:v,inputLegend:i,variant:"primary"},i))))},rY=()=>{const e=Jr(),{t}=Fc("PlayerBannedModalRoute"),a=(()=>{const e=(0,l.useFacetUnwrap)(h());return e===l.NO_VALUE?new m(""):e})(),n="1"===a.get("banType"),o=a.get("banReason"),i=a.get("timeRemaining"),c="1"==a.get("isHours"),s="1"==a.get("isPermanent"),u=(0,l.useFacetCallback)((e=>()=>{n?e.openXboxLiveBannedInfoPage():e.openBannedInfoPage()}),[n],[(0,l.useSharedFacet)(bd)]);let d,p,f,g="";if(n)d=t(".title",[t(".permanent")]),p=t(".xboxLiveBody"),f=t(".xboxLiveBody2",[t(".close")]);else{const e=t(s?".permanent":".temporary"),a=t(null!=o?"."+(null!=o?o:"unknownReportArea"):".unknownReportArea");d=t(".title",[e]),p=t(".body",[e,a]),f=t(".body2",[t(".close"),e]),g=function(e,t,a,n){return t?n(".body.forever"):null==e||"0"==e?"":"1"==e?n(a?".body.hour":".body.day"):n(a?".body.hours":".body.days",[e])}(i,s,c,t)}const E=t(".close");return r.createElement($E,null,r.createElement($E.Header,{onClose:()=>e.goBack()},d),r.createElement($E.Content,null,r.createElement($E.Paragraphs,{narrationText:`${p}. ${f}${g?` . ${g}`:""}`,spaceBetweenParagraphs:4,gamepadIndex:0},r.createElement(zm,{type:"captionLong"},p),r.createElement(zm,{type:"captionLong"},f),""!=g&&r.createElement(zm,{type:"captionLong"},g)),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0})),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:0,autofocus:!0,inputLegend:E,variant:"primary",delayedClick:!0,onClick:u},E)))},lY=a.p+"assets/GenericError-86c4bf8e5dbb1c96c151.png",oY=a.p+"assets/AccessDenied-4ffcbe7396258f6c567b.png",iY=a.p+"assets/RealmsMissing-e89cb34a35facd2151a8.png",cY=a.p+"assets/ExternalLink-eae4d40c6a18fa15334d.png",sY=a.p+"assets/realms_default_image-e7bc094bdf77e622b703.jpg";function uY({realm:e,onItemClick:t,index:a,count:n}){const{t:o,f:i}=Fc("RealmListItem"),c=(0,l.useFacetMap)((e=>e.world.realmName),[],[e]),s=(0,l.useFacetMap)((e=>e.world.slotName),[],[e]),u=(0,l.useFacetMap)((e=>e.isOwner?o(".yourRealm"):o(".joinedRealm")),[o],[e]),d=wr("neutral"),m=(0,l.useFacetMap)((e=>null!=e.world.lastSaved?i.getHowLongAgoAsString(e.world.lastSaved):"-"),[i],[e]),p=(0,l.useFacetMap)(((e,t,n,r)=>[e,o(".role"),t,o(".enumeration",[`${a+1}`,`${r}`]),o(".lastPlayedNarration",[n])].join(" . ")),[o,a],[c,u,m,n]);return r.createElement(tw,{tall:!0},r.createElement(tw.Action,{inputLegend:o(".select"),narrationText:p,onClick:t},r.createElement(tw.Cell,null,r.createElement("div",{className:"a8ead3ff95d2f0319949"},r.createElement(Qp,{src:sY,className:zr()(d.border.base,"d58773b43f895b63cd5c"),aspectRatio:Qp.AspectRatio["16:9"]}))),r.createElement(tw.Main,null,r.createElement(zm,{type:"body"},r.createElement(xm,null,c)),r.createElement(zm,{type:"body",variant:"dimmer"},r.createElement(xm,null,s)),r.createElement(Nm,{size:1}),r.createElement(pr,{collection:bT},r.createElement(_y,{role:"primaryTint"},u))),r.createElement(tw.Cell,{direction:"column"},r.createElement(zm,{type:"captionShort",variant:"dimmer"},o(".lastPlayed")),r.createElement(zm,{type:"captionShort",variant:"dimmer"},m))))}function dY(){const e=p(),{t}=Fc("PostToRealmStoriesRoute"),a=h(),n=(0,l.useSharedFacet)(ns),o=(0,l.useSharedFacet)(Ws),i=(0,l.useFacetMap)((e=>e.realms),[],[o]),c=(0,l.useFacetCallback)(((t,a)=>n=>{e.push(`/realms-story-entry-route/new-story/${t.realms[n].world.id}?screenshotId=${a.get("screenshotId")}`)}),[e],[o,a]),s=(0,l.useFacetMap)((e=>e.state===Ds.Error),[],[o]),u=(0,l.useFacetMap)((e=>e.state!=Ds.Error&&e.state!=Ds.Loading&&0===e.realms.length),[],[o]),d=(0,l.useFacetMap)(((e,t)=>e.state!=Ds.Error&&e.state!=Ds.Loading&&0!=e.realms.length&&!t.getClubCheckResult),[],[o,n]),m=(0,l.useFacetMap)(((e,t)=>e.state!=Ds.Error&&e.state!=Ds.Loading&&0!=e.realms.length&&t.getClubCheckResult&&!t.getAllowCapturesResult),[],[o,n]),f=(0,l.useFacetMap)(((e,t,a,n)=>e||t||a||n),[],[s,u,d,m]),g=Od(),E=(0,l.useFacetCallback)((e=>()=>{e.openLink(Uu.RealmsSafetyPage)}),[],[(0,l.useSharedFacet)(zu)]),b=(0,r.useCallback)((()=>{e.replace("/realms-pdp")}),[e]),v=(0,l.useFacetCallback)((e=>()=>e.forceFetchRealmsList()),[],[o]);return r.createElement(yx,{screenAnalyticsId:"Post-To-Realm-Stories",gamepadAlias:"post-to-realm-stories",title:t(".title"),delegateByAlias:"post-to-realm-stories-scrollview"},(()=>r.createElement(Cv,null,r.createElement(Cv.Row,null,r.createElement(xl,{data:f},(e=>e?r.createElement(r.Fragment,null,r.createElement(Cv.Column,{wideSize:"tablet"===g?1:"desktop"===g?2:12,narrowSize:0}),r.createElement(Cv.Column,{wideSize:"tablet"===g?10:"desktop"===g?8:12,narrowSize:8},r.createElement(jf,null,r.createElement(Nm,{size:2}),r.createElement(l.Mount,{when:s},r.createElement(_v,{autofocus:!0,title:t(".realmsCantLoad.title"),text:t(".realmsCantLoad.message"),imgSrc:lY,buttons:[{text:t(".realmsCantLoad.button"),inputLegend:t(".select"),onClick:v,variant:"secondary"}]})),r.createElement(l.Mount,{when:u},r.createElement(_v,{autofocus:!0,title:t(".noRealmsFound.title"),imgSrc:iY,buttons:[{text:t(".noRealmsFound.button"),inputLegend:t(".select"),onClick:b,variant:"secondary"}]})),r.createElement(l.Mount,{when:d},r.createElement(_v,{autofocus:!0,title:t(".youNeedPermission.title"),text:t(".youNeedPermission.message"),imgSrc:oY,buttons:[{text:t(".youNeedPermission.button"),inputLegend:t(".select"),onClick:E,variant:"secondary",imgSrc:cY}]})),r.createElement(l.Mount,{when:m},r.createElement(_v,{autofocus:!0,title:t(".accessDenied.title"),text:t(".accessDenied.message"),imgSrc:oY,buttons:[{text:t(".accessDenied.button"),inputLegend:t(".select"),onClick:E,variant:"secondary",imgSrc:cY}]}))))):r.createElement(Cv.Column,{wideSize:12,narrowSize:8},r.createElement($U,{data:i,header:r.createElement(Nm,{size:1}),renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>r.createElement(uY,{realm:e,index:t,count:a,onItemClick:()=>{c(t)}}),footer:r.createElement(Nm,{size:2}),itemSeparator:r.createElement(Nm,{size:2})}))))),r.createElement(LE.Space,{extraSpace:r.createElement(Nm,{size:2})}))))}const mY=a.p+"assets/NoFollowers-20be59a51855e8a3cabb.png";function pY(e){return{gamerIcon:e.gamerIcon,gamerTag:e.gamertag,playingOnServerId:void 0,variant:e.isFollowedByMe?"added-mutual":"add-friend",xuid:e.xuid,location:ts.PROFILE_FOLLOWERSLIST,favoriteStatus:Yc.NOT_FAVORITE,presenceMessage:"",presence:e.isOnline?qc.Online:qc.Offline,titleName:""}}const fY="profile-followers-list";function gY(){const{t:e}=Fc("ProfileFollowersListRoute"),t=(0,l.useSharedFacet)(cc),a=(0,l.useFacetMap)((e=>({players:e.playerList.map(pY),loading:e.isLoading})),[],[t]),n=(0,l.useFacetMap)((e=>!e.loading&&0===e.players.length),[],[a]),o=my({wide:8,narrow:6,width:260}),i=(0,l.useFacetMap)((e=>e?"a189e83c12f9a3c9d2c5":"b2b010dc0b31d3c0e184"),[],[o]),c=(0,r.useRef)(null),[s,u]=(0,l.useFacetState)(0),d=(0,r.useCallback)((({height:e})=>u(e)),[u]);Bd(c,d);const m=(0,l.useFacetMap)((e=>e.loading),[],[a]),p=(0,l.useFacetMap)((e=>e.players),[],[a]);return r.createElement(yx,{title:e(".header"),screenAnalyticsId:"ProfileFollowersList",gamepadAlias:"profile-followers-list-route",delegateByAlias:fY},(()=>r.createElement("div",{className:"d32b24df35bf1fb2252d",ref:c},r.createElement(Cv,{narrowBreakpointWidth:102},r.createElement(l.Mount,{when:n,condition:!1},r.createElement(Cv.Row,{gamepadIndex:0,fullHeight:!0},r.createElement(Cv.Column,{gamepadIndex:0,wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{gamepadIndex:0,wideSize:10,narrowSize:8},r.createElement(wF,{rowSizeRem:7,header:r.createElement(Nm,{size:2}),loading:m,containerSizePixels:s,data:p,gamepadAlias:fY,columnCount:1,footer:r.createElement(r.Fragment,null,r.createElement(LE.Space,null),r.createElement(Nm,{size:2})),renderItem:e=>r.createElement(JB,{item:e.item,listLength:e.listLength,index:e.index,gamepadAlias:`profile-followers-list-item-${e.index}`,profileEntryPoint:Qc.Profile_FollowersList})})))),r.createElement(l.Mount,{when:n,condition:!0},r.createElement(r.Fragment,null,r.createElement(Nm,{size:4}),r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{wideSize:10,narrowSize:8},r.createElement(_v,{imgClass:i,autofocus:!0,gamepadAlias:"no-followers-error",imgSrc:mY,title:e(".errorMessageTitle"),text:e(".errorMessage")})),r.createElement(Cv.Column,{wideSize:1,narrowSize:0}))))))))}const EY="profile-friends-list";function hY({currentProfileFacet:e,loadedProfileFacet:t,followingListFacet:a}){const{t:n}=Fc("ProfileFriendsListRoute"),o=(0,l.useFacetMap)((e=>e.state.xblState!==Xc.Loaded||e.data.relation===$c.Self?n(".headerSelf"):n(".headerOther",[`${e.data.xblName}`])),[n],[t]);(0,l.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,"")}),[],[(0,l.useSharedFacet)(Zc),(0,l.useSharedFacet)(Wu)])();const i=(0,l.useFacetMap)(((e,t)=>{const a=t.state.xblState===Xc.Loaded||t.state.platformState===Xc.Loaded?t.data.xuid:"";return{players:e.playerList.map((e=>function(e,t){let a="add-friend";return t===e.xuid?a="self":e.isFollowedByMe&&e.isFollowingMe?a="added-mutual":e.isFollowedByMe&&(a="added-not-mutual"),{gamerIcon:e.gamerIcon,gamerTag:e.gamertag,playingOnServerId:void 0,variant:a,xuid:e.xuid,location:ts.PROFILE_FRIENDSLIST,favoriteStatus:Yc.NOT_FAVORITE,presenceMessage:"",presence:qc.Unknown,titleName:""}}(e,a))),loading:e.isLoading}}),[],[a,e]),c=(0,l.useFacetMap)((e=>e.players),[],[i]),s=(0,l.useFacetMap)((e=>e.loading),[],[i]),u=(0,r.useRef)(null),[d,m]=(0,l.useFacetState)(0),p=(0,r.useCallback)((({height:e})=>m(e)),[m]);return Bd(u,p),r.createElement(yx,{title:o,screenAnalyticsId:"ProfileFriendsList",gamepadAlias:"profile-friends-list-route",delegateByAlias:EY},(()=>r.createElement("div",{className:"a4d6e1ee3325f14da88d",ref:u},r.createElement(Cv,{narrowBreakpointWidth:102},r.createElement(Cv.Row,{gamepadIndex:0,fullHeight:!0},r.createElement(Cv.Column,{gamepadIndex:0,wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{gamepadIndex:0,wideSize:10,narrowSize:8},r.createElement(wF,{rowSizeRem:7,header:r.createElement(Nm,{size:2}),loading:s,containerSizePixels:d,data:c,gamepadAlias:EY,columnCount:1,footer:r.createElement(r.Fragment,null,r.createElement(LE.Space,null),r.createElement(Nm,{size:2})),renderItem:e=>r.createElement(JB,{item:e.item,listLength:e.listLength,index:e.index,gamepadAlias:`profile-friends-list-item-${e.index}`,profileEntryPoint:Qc.Profile_FriendsList})})))))))}const bY=a.p+"assets/hanger-3e72e9e92ff4c4221b4a.png",vY=a.p+"assets/options-4558c1dd329badc5712c.png",yY=a.p+"assets/icon_alex-5480bbe64203ace650e9.png",FY=a.p+"assets/friends-6037f8bc7504754fb48a.png",SY=a.p+"assets/checkmark_square-3c7c4ca33227f14337ef.png",CY="b3ea77029532ae5c1380",MY="cad011cd688da5294d75",wY="cc9a151298193f829a2c",kY="f795a0af3e374205f489",TY="c61f96cf5e1c013afbe9",PY="e7275deba6b38768a501",IY="fc3748dddee923ad3d23";function xY(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function AY(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xY(Object(a),!0).forEach((function(t){OY(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xY(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function OY(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let NY;!function(e){e[e.RemoveFriend=0]="RemoveFriend",e[e.Block=1]="Block",e[e.Mute=2]="Mute",e[e.Report=3]="Report",e[e.ViewXboxProfile=4]="ViewXboxProfile",e[e.ViewXboxProfileInBrowser=5]="ViewXboxProfileInBrowser",e[e.ShareMyProfile=6]="ShareMyProfile",e[e.SignOut=7]="SignOut",e[e.PrivacyAndSafety=8]="PrivacyAndSafety",e[e.AddToFavorites=9]="AddToFavorites",e[e.RemoveFromFavorites=10]="RemoveFromFavorites",e[e.ManageAccountXboxApp=11]="ManageAccountXboxApp"}(NY||(NY={}));const RY=yp((function({onClose:e,onShare:t,player:a}){const{t:n}=Fc("PlayerOptionsModal"),o=(0,l.useSharedFacet)(as),i=(0,l.useFacetWrap)(a),c=(0,l.useSharedFacet)(zu),s=(0,l.useSharedFacet)(Wu),u=(0,l.useSharedFacet)(dl),d=p(),m=(0,l.useSharedFacet)(mc),f=tv(ji),g=(0,l.useFacetMap)(((e,t,a,r)=>{const l=t.platform,o=Nk(t.platform),i=l===Qe.XBOX;let c=[];if(e.relation===$c.Self)c=[{label:n(".shareMyProfile"),value:NY.ShareMyProfile,testId:"share-my-profile"}],l===Qe.UWP||l===Qe.XBOX||r.isInGame||c.push({label:n(".signOut"),value:NY.SignOut,testId:"sign-out"}),l===Qe.UWP&&c.push({label:n(".manageAccount"),value:NY.ManageAccountXboxApp,Icon:xM.ExternalLink,testId:"manage-account"}),l!==Qe.UWP&&o&&c.push({label:n(".manageXboxProfile"),value:NY.ViewXboxProfileInBrowser,Icon:xM.ExternalLink,testId:"manage-xbox-profile"}),o&&c.push({label:n(".privacyAndSafety"),value:NY.PrivacyAndSafety,Icon:xM.ExternalLink,testId:"privacy-and-safety"});else{if(c=[{label:n(".block"),value:NY.Block,isSelected:e.isBlocked,isSelectable:!0,testId:"block-player"},{label:n(".mute"),value:NY.Mute,isSelected:e.isMuted,isSelectable:!0,testId:"mute-player"},{label:n(".report"),value:NY.Report,testId:"report-player"}],a.userPermissions.addFriends.allowed&&(e.relation===$c.TwoWayFriend||e.relation===$c.Following)&&(c.unshift({label:n(".removeFriend"),value:NY.RemoveFriend,testId:"remove-friend"}),f)){const t=e.favoriteStatus===Yc.FAVORITE;c.unshift({label:n(t?".removeFromFavorites":".addToFavorites"),value:t?NY.RemoveFromFavorites:NY.AddToFavorites,testId:t?"remove-from-favorites":"add-to-favorites"})}i?c.push({label:n(".viewXboxProfile"),value:NY.ViewXboxProfile,testId:"view-xbox-profile"}):o&&c.push({label:n(".viewXboxProfile"),value:NY.ViewXboxProfileInBrowser,Icon:xM.ExternalLink,testId:"view-xbox-profile"})}return c.map(((e,t)=>AY(AY({},e),{},{gamepadAlias:`options${t}`,enumeration:n(".optionsEnumeration",[`${t+1}`,`${c.length}`])})))}),[n,f],[i,u,s,m]),E=(0,l.useFacetCallback)(((e,t)=>()=>t.favorite(e.xuid)),[],[i,o]),h=(0,l.useFacetCallback)(((e,t)=>()=>t.unfavorite(e.xuid)),[],[i,o]),b=(0,l.useFacetCallback)(((e,t)=>()=>e.removeFriend(t.xuid)),[],[o,i]),v=(0,l.useFacetCallback)(((e,t)=>()=>t.isBlocked?e.unblock(t.xuid):e.block(t.xuid)),[],[o,i]),y=(0,l.useFacetCallback)(((e,t)=>()=>t.isMuted?e.unmute(t.xuid):e.mute(t.xuid)),[],[o,i]),F=(0,l.useFacetCallback)((e=>()=>{const t=e.relation===$c.TwoWayFriend||e.relation===$c.Following;d.push(YG(e.xuid,""===e.xblName?e.platformName:e.xblName,t,e.platformId))}),[d],[i]),S=(0,l.useFacetCallback)((e=>()=>e.openLink(Uu.XboxPrivacyAndOnlineSafety)),[],[c]),C=(0,l.useFacetCallback)(((e,t)=>()=>e.showXboxProfileCard(t.xuid)),[],[o,i]),M=(0,l.useFacetCallback)(((e,t)=>()=>t.openLinkWithParams(Uu.XboxAccountProfile,e.xblName)),[],[i,c]),w=(0,l.useFacetCallback)((e=>()=>{e.signOutOfMicrosoftAccount()}),[],[s]),k=(0,l.useFacetCallback)((e=>()=>{e.manageMicrosoftAccount()}),[],[s]),T=(0,r.useCallback)((()=>{t()}),[t]),P=(0,r.useCallback)((t=>{switch(t){case NY.RemoveFriend:b();break;case NY.Block:v();break;case NY.Mute:y();break;case NY.Report:F();break;case NY.ViewXboxProfile:C();break;case NY.ViewXboxProfileInBrowser:M();break;case NY.ShareMyProfile:T();break;case NY.SignOut:w();break;case NY.PrivacyAndSafety:S();break;case NY.ManageAccountXboxApp:k();break;case NY.AddToFavorites:E();break;case NY.RemoveFromFavorites:h()}e(t)}),[b,v,y,F,e,S,C,M,w,k,T,E,h]);return r.createElement(YT,{onClose:e,onItemSelect:P,isOpen:!0,title:n(".optionsTitle"),items:g})})),LY=yp((function({onClose:e}){const{t}=Fc("ShareCurrentPlayerProfileModal");return r.createElement($E,null,r.createElement($E.Header,{onClose:e},t(".title")),r.createElement($E.Content,null,r.createElement(Nm,{size:3}),r.createElement(XB,null),r.createElement(Nm,{size:3})))})),_Y=a.p+"assets/IconAddPlayerGrey-565a6950faa92e2f7879.png";function DY(){return DY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},DY.apply(null,arguments)}const WY=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("ce961c95f5edf56698a4",t);return r.createElement(Qp,DY({},a,{className:n,src:_Y,imageRendering:"pixelated"}))},BY="player-card-options-button",UY="player-card-action-button";function zY({playerFacet:e,featuredImgSrc:t,featuredImgLoading:a}){const{t:n}=Fc("PlayerCard"),o=wr("neutral80"),i=Od(),c=(0,l.useFacetWrap)("narrow"===i),s=RY.useModal(),u=Ce(),d=LY.useModal(),m=(0,l.useSharedFacet)(Wu),f=p(),g=h(),E=(0,l.useFacetMap)((e=>""!=e.xblName?e.xblName:""!=e.platformName?e.platformName:e.offlineName),[],[e]),b=aT((0,l.useFacetMap)((e=>({xuid:"",gamerTag:"",gamerIcon:"",variant:"player",presence:e.presence,platform:void 0,presenceMessage:"",titleName:e.titleName,favoriteStatus:e.favoriteStatus,location:ts.PROFILE_MAIN})),[],[e]),"PlayerCard"),v=(0,l.useFacetMap)((e=>""===e.realName?void 0:e.realName),[],[e]),y=(0,l.useFacetMap)((({status:e},t)=>null!=t?t:e),[],[b,v]),F=(0,l.useFacetMap)((e=>!(""!==e.xuid||""!==e.platformId)||"if-enabled"),[],[e]),S=r.createElement(uk,{src:(0,l.useFacetMap)((e=>""!==e.xblProfilePic?e.xblProfilePic:""!==e.platformProfilePic?e.platformProfilePic:yY),[],[e]),variant:"large",status:(0,l.useFacetMap)((({avatar:e})=>e),[],[b]),usePersonaPicRendering:F,shouldShowNewStatus:!0}),C=Yk(e),M=(0,l.useFacetMap)(((e,t,a)=>{let n="add-friend",r=!1;switch(e.relation){case $c.Self:n="dressing-room";break;case $c.TwoWayFriend:n=a?"join":"friends";break;case $c.Following:n="added";break;case $c.Follower:case $c.Stranger:n="add-friend",r=!t.userPermissions.addFriends.allowed}return{type:n,disabled:r}}),[],[e,m,C]),w=(0,l.useFacetMap)(((e,t)=>!!e.avatar&&!t&&e.avatarState===Ou.Success),[],[e,c]),k=r.createElement("div",{className:MY},r.createElement(xl,{data:w},(e=>e?r.createElement(r.Fragment,null,r.createElement("div",{className:"be49435e9a7ab3bbd2d2"}),r.createElement(Nm,{size:2})):r.createElement(r.Fragment,null,S,r.createElement(Nm,{size:2})))),r.createElement("div",{className:"ac7448fcd239236b1f62"},r.createElement(Nm,{size:1}),r.createElement(VY,{displayName:E,description:y}),r.createElement(Nm,{size:1}))),T=(0,r.useCallback)((e=>{s.hide(),e!==NY.ShareMyProfile&&u(BY)}),[s,u]),P=(0,r.useCallback)((()=>{d.hide(),u(BY)}),[d,u]),I=(0,l.useFacetMap)(((e,t,{status:a})=>[n(".cardNarration"),e,t,a].join(" . ")),[n],[E,v,b]),x=(0,l.useFacetCallback)((e=>()=>{f.push(NI("set-featured-screenshot",e))}),[f],[g]),A=(0,l.useFacetWrap)(tv(Ji)),O=(0,l.useFacetWrap)(tv(ec)),N=(0,l.useFacetWrap)(a),R=(0,l.useFacetMap)(((e,t,a,n)=>e.relation===$c.Self&&""!==e.xuid&&t&&a&&!n),[],[e,A,O,N]),L=F$((0,l.useFacetMap)((e=>""===e.xuid?e.platformId:e.xuid),[],[e])),_=(0,l.useFacetMap)(((e,t)=>""===e?t:e),[],[(0,l.useFacetWrap)(t),L]),D=Qp.aspectRatioToPercentage(Qp.AspectRatio["16:9"]);return r.createElement(r.Fragment,null,r.createElement(Zn,{role:"neutral"},r.createElement(Zf,{text:I},r.createElement(l.Mount,{when:c},r.createElement("div",{className:zr()(CY,"cfdfb462a95f1a51c994",o.background.base,o.border.base)},r.createElement("div",{className:"a467b7ac28ebbbf52ae5"},k,r.createElement(Nm,{size:2}),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.relation!==$c.Unknown),[],[e])},r.createElement(GY,{playerFacet:e,buttonsState:M,optionsClick:s.show}))),r.createElement("div",{className:"ce85aa1190044faf5956"},r.createElement(HY,{playerFacet:e}),r.createElement(l.Mount,{when:N,condition:!1},r.createElement(Qp,{className:zr()(TY,o.border.base),src:_,imageRendering:"pixelated",aspectRatio:Qp.AspectRatio["16:9"]})),r.createElement(l.Mount,{when:N},r.createElement("div",{style:{paddingTop:D},className:zr()(TY,o.border.base)},r.createElement("div",{className:PY},r.createElement("div",{className:IY},r.createElement(zf,null))))),r.createElement(l.Mount,{when:R},r.createElement(Xw,{inputLegend:n(".setFeaturedScreenshot"),narrationText:n(".setFeaturedScreenshot"),onClick:x,"data-testid":"set-featured-image-button",className:"ce278a3418febb81cd96"},r.createElement(xM.EditImage,null)))))),r.createElement(l.Mount,{when:c,condition:!1},r.createElement("div",{className:zr()(CY,o.background.base,o.border.base)},r.createElement("div",{className:"c99ffaec3029da4a87e9"},r.createElement(l.Mount,{when:N,condition:!1},r.createElement(Qp,{className:zr()(kY,o.border.base),src:_,imageRendering:"pixelated",aspectRatio:Qp.AspectRatio["16:9"]})),r.createElement(l.Mount,{when:N},r.createElement("div",{style:{paddingTop:D},className:zr()(kY,o.border.base)},r.createElement("div",{className:PY},r.createElement("div",{className:IY},r.createElement(zf,null))))),r.createElement(HY,{playerFacet:e}),r.createElement(jY,{playerFacet:e}),r.createElement(l.Mount,{when:w},r.createElement("div",{className:"c72117dd90e5ec13dea3"},S)),r.createElement(l.Mount,{when:R},r.createElement(Xw,{inputLegend:n(".setFeaturedScreenshot"),narrationText:[n(".setFeaturedScreenshot"),n(".buttonRole")].join(" . "),onClick:x,"data-testid":"set-featured-image-button",className:"b5de6503bbef77f973e3"},r.createElement(xM.EditImage,null)))),r.createElement(Nm,{size:2}),r.createElement("div",{className:"e029b233669f292c691e"},k),r.createElement(Nm,{size:2}),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.relation!==$c.Unknown),[],[e])},r.createElement("div",{className:"c0d0e3a4658d188285cf"},r.createElement(GY,{playerFacet:e,buttonsState:M,optionsClick:s.show}))))),r.createElement(l.Mount,{when:s.isVisible},r.createElement(RY.Component,{player:e,onClose:T,onShare:d.show})),r.createElement(l.Mount,{when:d.isVisible},r.createElement(LY.Component,{onClose:P})))))}function HY({playerFacet:e}){const{t}=Fc("PlayerCard");return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.isBlocked),[],[e])},r.createElement("div",{className:wY},r.createElement(_y,{role:"destructiveTint"},t(".blocked")))),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.isMuted&&!e.isBlocked),[],[e])},r.createElement("div",{className:wY},r.createElement(_y,{role:"noticeTint"},t(".muted")))))}function jY({playerFacet:e}){const t=(0,l.useFacetMap)((e=>{const t=e.avatarState!==Ou.Success;return zr()("e00b5062b199c807b468",{c8ef8012a20e620f06ea:t})}),[],[e]);return r.createElement(Qp,{className:t,src:(0,l.useFacetMap)((e=>e.avatar),[],[e]),imageRendering:"pixelated"})}function VY({displayName:e,description:t}){return r.createElement(r.Fragment,null,r.createElement(zm,{type:"header5B"},r.createElement(xm,null,e)),r.createElement(zm,{type:"captionShort",variant:"dimmer"},r.createElement(xm,null,t)))}function GY({buttonsState:e,playerFacet:t,optionsClick:a}){const{t:n}=Fc("PlayerCard"),o=(0,l.useSharedFacet)(as),i=(0,l.useSharedFacet)(Wu),c=p(),s=(0,l.useFacetCallback)(((e,t)=>()=>e.addFriend(t.xuid,ts.PROFILE_MAIN)),[],[o,t]),u=(0,l.useFacetMap)((e=>e.isLoggedInWithMicrosoftAccount),[],[i]),d=(0,r.useCallback)((()=>{c.push("/persona")}),[c]),m=(0,l.useFacetMap)((e=>"friends"===e.type||"added"===e.type?n(".buttonSiblings",["1","1"]):n(".buttonSiblings",["2","2"])),[n],[e]),f=(0,l.useFacetMap)((e=>e.playingOnServerId),[],[t]),g=eT(),E=Gk(f),h=Xk(g,E);return r.createElement(r.Fragment,null,r.createElement("div",{className:MY},r.createElement(tT,{modals:g,joinCallback:E}),r.createElement(xl,{data:e},(({type:e,disabled:t})=>{switch(e){case"dressing-room":return r.createElement(Ug,{inputLegend:n(".dressingRoomButton"),imgSrc:bY,horizontal:!0,onClick:d,gamepadAlias:UY,narrationSuffix:n(".buttonSiblings",["1","2"])},n(".dressingRoomButton"));case"friends":return r.createElement($Y,{narrationText:n(".friendsButton")},r.createElement(Bg,{typeVariant:"dimmer",imgSrc:FY,role:"neutral100"},n(".friendsButton")));case"join":return r.createElement(Ug,{inputLegend:n(".joinButton"),variant:"primary",Icon:xM.Play,horizontal:!0,onClick:h,gamepadAlias:UY,narrationSuffix:n(".buttonSiblings",["1","2"])},n(".joinButton"));case"added":return r.createElement($Y,{narrationText:n(".addedButton")},r.createElement(Bg,{typeVariant:"dimmer",imgSrc:SY},n(".addedButton")));case"add-friend":return r.createElement(Ug,{inputLegend:n(".addFriendButton"),variant:"primary",Icon:t?WY:vk,horizontal:!0,onClick:s,disabled:t,gamepadAlias:UY,narrationSuffix:n(".buttonSiblings",["1","2"])},n(".addFriendButton"))}return r.createElement(r.Fragment,null)})),r.createElement(l.Mount,{when:u},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement("div",{className:"e33ddf2ea78a6bac302e"},r.createElement(Ug,{inputLegend:n(".optionsButton"),narrationPrefix:n(".optionsButton"),imgSrc:vY,onClick:a,gamepadAlias:BY,narrationSuffix:m,"data-testid":"options-button"}))))))}function $Y({children:e,narrationText:t}){const a=wr("neutral80");return r.createElement(Tm.Maybe,{className:zr()("c0981236ef6698c2c597",a.border.base),isInteractive:dn(),inputLegend:!1,narrationText:t,classNameFocused:kp,gamepadAlias:UY},r.createElement(wp,null),e)}const KY=a.p+"assets/achievements-a42ab3d4b8e49c24b217.png",YY=a.p+"assets/friends-9e435522a799e248f3c5.png",XY=a.p+"assets/followers-bec3d954895866890570.png",qY=a.p+"assets/gallery-10d21b3ca655e32b1ac8.png",QY=a.p+"assets/gamerscore_icon-53b10130cb6f6c0271cb.png",ZY="f5aca8648d7500a6e106",JY=a.p+"assets/achievements_empty-f34cf248120a1da988fc.png";function eX(){const e=(0,l.useSharedFacet)(wi),t=(0,l.useSharedFacet)(dl);return(0,l.useFacetMap)(((e,t)=>Tk(e.platform)||t.isAnyBeta),[],[t,e])}function tX(e){return(0,l.useFacetMap)((e=>(e.state.xblState===Xc.Loaded||e.state.platformState===Xc.Loaded)&&e.data.relation===$c.Self),[],[e])}function aX(e){return(0,l.useFacetMap)((e=>e.state.platformState===Xc.Loaded&&""!==e.data.platformId),[],[e])}function nX(e){return(0,l.useFacetMap)((e=>e.state.platformState===Xc.Loaded&&""!==e.data.platformId&&""!==e.data.xuid),[],[e])}function rX(e,t,a,n,r,o,i,c,s,u){return(0,l.useFacetCallback)(((e,t,a,n,r,l,o,i,c,s)=>()=>{const{xuid:u,platformId:d}=e;if(a.subscribeToProfile(u,d),""!==u&&t.isLoggedInWithMicrosoftAccount){n.load(u),r.load(u),l.load(u),o.load(u);const e=t.currentXuid===u;c&&s&&!e&&(i.loadCount(u),i.loadFeaturedScreenshot(u))}}),[],[e,i,t,a,n,r,o,c,s,u])}var lX;function oX(){const e=p(),t="narrow"===Od(),{t:a}=Fc("ProfileRoute"),n=(0,l.useSharedFacet)(nu),o=(0,l.useSharedFacet)(xc),i=XK.useModal(),[c,s]=(0,l.useFacetState)(lX.None),[u,d]=(0,l.useFacetState)(""),m=(0,l.useFacetCallback)(((t,a,n)=>()=>{a===lX.Remove?t.removeShowcasedScreenshot(n):t.addScreenshotToShowcase(n,!0),e.goBack()}),[e],[n,c,u]),f=(0,l.useFacetMap)((e=>e.screenshots.find((e=>e.featured))),[],[n]),g=(0,l.useFacetMap)((e=>null!=e),[],[f]),E=(0,l.useFacetCallback)(((e,t)=>a=>{s(lX.Replace),d(a.id),!e||t.doNotShowManageShowcaseReplaceWarning?m():i.show()}),[i,s,d,m],[g,o]),h=(0,l.useFacetCallback)(((e,t)=>()=>{null!=e&&(s(lX.Remove),d(e.id),t.doNotShowManageShowcaseClearWarning?m():i.show())}),[i,s,d,m],[f,o]),b=(0,l.useFacetMap)((e=>e===lX.Remove?a(".resetFeaturedTitle"):a(".replaceFeaturedTitle")),[a],[c]),v=(0,l.useFacetMap)((e=>e===lX.Remove?a(".resetFeaturedMessage"):a(".replaceFeaturedMessage")),[a],[c]),y=(0,l.useFacetMap)((e=>e===lX.Remove?"doNotShowManageShowcaseClearWarning":"doNotShowManageShowcaseReplaceWarning"),[],[c]);return r.createElement(r.Fragment,null,r.createElement(TG,{onScreenshotSelect:E,managementRowButtons:r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:g},r.createElement("div",{className:zr()("cb918e96663ba7891491",{ad7211e974b2a415e2bb:!t})},r.createElement("div",{className:zr()(["d5039a17019ce3c4f006"],!t)},r.createElement(Ug,{inputLegend:a(".resetFeaturedImage"),narrationPrefix:a(".resetFeaturedImage"),onClick:h},a(".resetFeaturedImage"))))))}),r.createElement(l.Mount,{when:i.isVisible},r.createElement(XK.Component,{onConfirm:m,onCancel:e.goBack,title:b,message:v,option:y})))}function iX({profileFacet:e}){const{t}=Fc("ProfileRoute"),a=(0,l.useSharedFacet)(dl),n=(0,l.useFacetMap)((e=>Tk(e.platform)?t(".playStationAccount"):Ik(e.platform)?t(".nintendoAccount"):""),[t],[a]),o=(0,l.useFacetMap)(((e,a)=>[t(".linkedAccountHeader"),`${a.data.platformName}`,e].join(" . ")),[t],[n,e]);return r.createElement(r.Fragment,null,r.createElement(PF,{role:"neutral",label:t(".linkedAccountHeader")}),r.createElement(tw,{isFocusable:!0,narrationText:o},r.createElement(Nm,{size:2}),r.createElement(tw.Cell,null,r.createElement(uk,{src:(0,l.useFacetMap)((e=>e.data.platformProfilePic),[],[e]),variant:"large",status:"offline",usePersonaPicRendering:!1})),r.createElement(Nm,{size:2}),r.createElement(tw.Cell,null,r.createElement("div",null,r.createElement(Nm,{size:1}),r.createElement(zm,{type:"header5B"},r.createElement(xm,null,(0,l.useFacetMap)((e=>e.data.platformName),[],[e]))),r.createElement(zm,{type:"captionShort",variant:"dimmer"},r.createElement(xm,null,n)),r.createElement(Nm,{size:1})))),r.createElement(Nm,{size:2}))}!function(e){e[e.Remove=0]="Remove",e[e.Replace=1]="Replace",e[e.None=2]="None"}(lX||(lX={}));const cX=a.p+"assets/generic_error-aa90619c4c1746eb7ac0.png",sX=a.p+"assets/connection_error-01bc20883b3a2f7e5fb3.png",uX=a.p+"assets/permissions_child_account-8fad2009b4d02bc059bf.png",dX=a.p+"assets/permissions_adult_account-dc71d57973878591b475.png",mX=a.p+"assets/nothing_to_see-1107fc6902173eb98f28.png";function pX({errorMessage:e,xuid:t,onRetryLoad:a}){const{t:n}=Fc("ProfileRoute"),o=p(),i=my({wide:8,narrow:6,width:256}),c=(0,l.useFacetMap)((e=>e?"d156b4e1cad25336baa3":"c51ff4039ee30364ff86"),[],[i]),s=(0,l.useSharedFacet)(zu),u=(0,l.useSharedFacet)(dl),d=(()=>{const e=Mk();return(0,r.useCallback)(((t,a)=>{e("ProfileError",{profileXuid:{value:t,privacyTag:du.EUPI},profileErrorMessageType:{value:a,privacyTag:du.SystemMetadata}})}),[e])})(),m=(0,l.useFacetCallback)(((e,t)=>()=>{d(e,t)}),[d],[t,e]);(0,r.useEffect)((()=>{m()}),[m]);const f=(0,l.useFacetCallback)((e=>()=>e.openLink(Uu.XboxPrivacyAndOnlineSafety)),[],[s]),g=()=>{o.push("/sign-in?signInSource=ProfileScreen_OreUI")},E=(0,l.useFacetMap)((e=>Nk(e.platform)?[{text:n(".learnMoreButton"),onClick:f,imgSrc:zI.imgSrc}]:[]),[n,f],[u]);return r.createElement(xl,{data:e},(e=>{switch(e){case Kc.UserNotFound:return r.createElement(_v,{title:n(".loadErrorTitle"),text:n(".loadErrorMessage"),buttons:[{text:n(".errorRetryButton"),onClick:a}],imgSrc:cX,imgClass:c});case Kc.NoInternet:return r.createElement(_v,{title:n(".loadErrorTitle"),text:n(".noInternetErrorMessage"),imgSrc:sX,imgClass:c});case Kc.NotAllowedToViewProfilesAdult:return r.createElement(_v,{title:n(".needPermissionErrorTitle"),text:n(".needPermissionErrorMessage"),buttons:E,imgSrc:dX,imgClass:c});case Kc.NotAllowedToViewProfilesChild:return r.createElement(_v,{title:n(".needPermissionErrorTitle"),text:n(".needPermissionErrorMessage"),buttons:E,imgSrc:uX,imgClass:c});case Kc.NotLoggedInWithMSA:return r.createElement(_v,{title:n(".profileUnavailableErrorTitle"),text:n(".notLoggedInMSAErrorMessage"),buttons:[{text:n(".signInButton"),onClick:g,variant:"primary"}],imgSrc:mX,imgClass:c});case Kc.LoggedInWithMSAButPlatformProfile:return r.createElement(_v,{title:n(".profileUnavailableErrorTitle"),text:n(".platformOnlyProfileErrorMessage"),imgSrc:mX,imgClass:c});default:return r.createElement(r.Fragment,null)}}))}const fX="profile-overview-list",gX="profile-tabs",EX="player-card-scroll-view";function hX(e){const t=p(),a=h();return(0,l.useFacetCallback)((a=>()=>{t.push(NI(e,a))}),[t,e],[a])}function bX(){return(0,l.useFacetMap)(((e,t)=>{var a,n,r,l;return t.has("xuid")?!t.has("platformId")||e.isLoggedInWithMicrosoftAccount||e.isSignInInProgress?{xuid:null!==(a=t.get("xuid"))&&void 0!==a?a:"",platformId:null!==(n=t.get("platformId"))&&void 0!==n?n:""}:{xuid:"",platformId:null!==(r=t.get("platformId"))&&void 0!==r?r:""}:t.has("platformId")?{xuid:"",platformId:null!==(l=t.get("platformId"))&&void 0!==l?l:""}:{xuid:e.currentXuid,platformId:e.currentPlatformId}}),[],[(0,l.useSharedFacet)(Wu),h()])}function vX(){const e=(0,l.useSharedFacet)(Wu),t=(0,l.useSharedFacet)(es),a=(0,l.useSharedFacet)($o),n=OT(),o=bX(),i=AT(o),c=(0,l.useFacetWrap)(tv(Ji)),s=(0,l.useFacetWrap)(tv(ec)),u=rX(o,(0,l.useSharedFacet)(Zc),a,t,(0,l.useSharedFacet)(Lc),(0,l.useSharedFacet)(Gc),e,(0,l.useSharedFacet)(ru),c,s),d=(0,l.useFacetMap)((e=>e.isSignInInProgress),[],[e]),[m,p]=(0,l.useFacetState)({wasActive:!1,query:"",wasSignInInProgress:!1},l.strictShallowObjectEqualityCheck),[g,b]=(0,l.useFacetState)({shouldFireProfileLoaded:!1,shouldFireAchievementsDisplayed:!1},l.strictShallowObjectEqualityCheck);(0,l.useFacetEffect)(((e,t,a,n,r)=>{const l=t&&!n.wasActive,o=t&&n.wasActive&&n.query!==a.toString(),i=e.startsWith("/profile"),c=n.wasSignInInProgress&&!r;p({wasActive:t,query:a.toString(),wasSignInInProgress:r}),i&&(c||!r&&(l||o))&&(u(),b({shouldFireProfileLoaded:!0,shouldFireAchievementsDisplayed:!0}))}),[u,p,b],[E(),f(),h(),m,d]);const[v,y]=(0,l.useFacetState)(l.NO_VALUE),[F,S]=(0,l.useFacetState)(l.NO_VALUE),C=(0,l.useFacetMap)((e=>null!=e),[],[i]);return(0,l.useFacetEffect)(((e,t,a,n)=>{n.startsWith("/profile")&&(e&&null!=t&&y(t),e&&null!=a&&S(a))}),[y,S],[C,i,n,E()]),r.createElement(l.Mount,{when:C},r.createElement(yX,{profileFacet:v,currentProfileFacet:F,telemetryState:g,setTelemetryState:b}))}function yX({profileFacet:e,currentProfileFacet:t,telemetryState:a,setTelemetryState:n}){const{t:o}=Fc("ProfileRoute"),i=g(),c=(0,l.useFacetMap)((e=>e.tab),[],[i]),s=(0,l.useSharedFacet)(Wu),u=bX(),d=(0,l.useSharedFacet)(es),m=(0,l.useSharedFacet)($o),p=(0,l.useSharedFacet)(dl),f=aX(e),E=tX(e),h=(0,l.useFacetMap)(((e,t,a,n,r)=>a.isOnline?t.isLoggedInWithMicrosoftAccount||t.isSignInInProgress||n||r?e.state.xblError===Kc.UserNotFound?Kc.UserNotFound:Kc.None:Kc.NotLoggedInWithMSA:Kc.NoInternet),[],[e,s,p,E,f]),b=(0,l.useFacetWrap)(tv(Ji)),v=(0,l.useFacetWrap)(tv(ec)),y=(0,l.useFacetWrap)(tv(ac)),F=rX(u,(0,l.useSharedFacet)(Zc),m,d,(0,l.useSharedFacet)(Lc),(0,l.useSharedFacet)(Gc),s,(0,l.useSharedFacet)(ru),b,v),S=(0,l.useFacetCallback)(((e,t)=>()=>{const{xuid:a,platformId:n}=t;F(),e.refetchProfile(a,n)}),[F],[(0,l.useSharedFacet)(Zc),u]),C=(0,l.useFacetMap)((e=>e!==Kc.None),[],[h]),M=(0,l.useFacetMap)(((e,t,a)=>t?o(".headerSelf"):""!=a.xuid&&e.state.xblState===Xc.Loaded&&e.data.relation!==$c.Self?o(".headerOther",[e.data.xblName]):""!=a.platformId&&e.state.platformState===Xc.Loaded&&e.data.relation!==$c.Self?o(".headerOther",[e.data.platformName]):o(".headerSelf")),[o],[e,C,u]),w=(0,l.useFacetMap)((e=>e.xuid),[],[u]);return r.createElement(xl,{data:c},(l=>"friends-list"===l?r.createElement(hY,{loadedProfileFacet:e,currentProfileFacet:t,followingListFacet:d}):"compare-stats"===l?r.createElement(oj,{loadedProfileFacet:e,currentProfileFacet:t,statisticsFacet:m}):"followers-list"===l?r.createElement(gY,null):"set-featured-screenshot"===l?r.createElement(oX,null):r.createElement(yx,{title:M,screenAnalyticsId:"Profile",gamepadAlias:"profile-route",delegateByAlias:EX,friendsDrawer:y},(()=>r.createElement(xl,{data:C},(t=>t?r.createElement(Cv,{narrowBreakpointWidth:70},r.createElement(Cv.Row,{fullHeight:!0},r.createElement(Cv.Column,{wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{wideSize:10,narrowSize:8},r.createElement(Nm,{size:2}),r.createElement(pX,{errorMessage:h,onRetryLoad:S,xuid:w})),r.createElement(Cv.Column,{wideSize:1,narrowSize:0}))):r.createElement(FX,{profileFacet:e,xuid:w,telemetryState:a,setTelemetryState:n})))))))}const FX=({profileFacet:e,xuid:t,telemetryState:a,setTelemetryState:n})=>{const o=Ce(),i=g(),c=h(),s=(0,l.useFacetMap)((e=>e.tab),[],[i]),u=p(),d=(0,l.useSharedFacet)(Wu),m=(0,l.useSharedFacet)(Gc),f=(0,l.useFacetCallback)((e=>t=>{o(sF.getFocusAlias(gX,t)),u.replace(C(`/profile/${t}`,e))}),[o,u],[c]);(0,l.useFacetEffect)((()=>{o(EX)}),[o],[t]);const{t:E}=Fc("ProfileRoute"),b=[{label:E(".overviewTabButtonLabel"),value:"overview"},{label:E(".statsTabButtonLabel"),value:"stats"}],v=tX(e),y=aX(e),F=function(e){return(0,l.useFacetMap)((e=>e.state.platformState===Xc.Loaded&&""!==e.data.platformId&&""===e.data.xuid),[],[e])}(e),S=(0,l.useFacetMap)(((e,t,a,n,r)=>{if(!e.isLoggedInWithMicrosoftAccount&&!e.isSignInInProgress&&(t||n))return Kc.NotLoggedInWithMSA;if(!t){if(e.isLoggedInWithMicrosoftAccount&&r)return Kc.LoggedInWithMSAButPlatformProfile;if(a.loaded&&!a.data.viewTargetProfile)return Kc.NotAllowedToViewProfilesAdult;if(!e.userPermissions.viewProfiles.allowed)return e.userPermissions.viewProfiles.denyReasons.includes(Lu.XboxLive_Parental)?Kc.NotAllowedToViewProfilesChild:Kc.NotAllowedToViewProfilesAdult}return Kc.None}),[],[d,v,m,y,F]),[M,w]=(0,l.useFacetState)(!1);(0,l.useFacetEffect)((e=>w(e!==Kc.None)),[w],[S]);const k=(0,l.useFacetMap)(((e,t,a,n,r)=>!(""===e||!n.isLoggedInWithMicrosoftAccount&&!n.isSignInInProgress||a||r||t.loaded)),[],[t,m,v,d,F]),T=(()=>{const e=Mk();return(0,r.useCallback)(((t,a)=>{e("ProfileLoaded",{profileXuid:{value:t,privacyTag:du.EUPI},relationToCurrentUser:{value:a,privacyTag:du.SystemMetadata}})}),[e])})();(0,l.useFacetEffect)(((e,t,a,r)=>{e.state.xblState===Xc.Loaded&&t.loaded&&a.shouldFireProfileLoaded&&!r&&(T(e.data.xuid,e.data.relation),a.shouldFireProfileLoaded=!1,n(a))}),[T,n],[e,m,a,M]);const P=nX(e),I=function(e,t,a,n,r){const o=tv(Ji),i=tv(ec);return(0,l.useFacetMap)(((e,t,a,n,r)=>a!==Kc.NotAllowedToViewProfilesAdult&&a!==Kc.NotAllowedToViewProfilesChild&&o&&i&&""!==e&&t.isLoggedInWithMicrosoftAccount?e===t.currentXuid?{src:n.featuredScreenshot,loading:n.isLoadingFeaturedScreenshot}:{src:r.featuredScreenshot,loading:r.isLoadingFeaturedScreenshot}:{src:"",loading:!1}),[o,i],[e,t,a,n,r])}(t,d,S,(0,l.useSharedFacet)(nu),(0,l.useSharedFacet)(ru)),x=(0,l.useFacetMap)(((e,t)=>{let a=!1;""!==e.data.xuid&&(a=e.state.xblState===Xc.Loading),""!==e.data.platformId&&(a=e.state.platformState===Xc.Loading);const n=e.data.avatarState===Ou.Requested;return a||n||t}),[],[e,k,I]),A=(0,l.useFacetMap)((e=>e.data),[],[e]),O=(0,l.useFacetMap)((e=>e.src),[],[I]),N=(0,l.useFacetMap)((e=>e.loading),[],[I]);return r.createElement(Cv,{narrowBreakpointWidth:70},r.createElement(Nm,{size:2}),r.createElement(Cv.Row,{fullHeight:!0},r.createElement(Cv.Column,{wideSize:4,narrowSize:0},r.createElement(jf,{loading:x,flexShrinkWrapper:!0,delegateFocusFromMemory:!0,gamepadAlias:"player-card-scroll-view",delegateFocusByAlias:UY},r.createElement(zY,{playerFacet:A,featuredImgSrc:O,featuredImgLoading:N}),r.createElement(LE.Space,null))),r.createElement(Cv.Column,{wideSize:8,narrowSize:8},r.createElement(xl,{data:M},(o=>o?r.createElement(r.Fragment,null,r.createElement(SX,{playerFacet:A,featuredImgSrc:O,featuredImgLoading:N}),r.createElement(l.Mount,{when:P},r.createElement(iX,{profileFacet:e})),r.createElement(pX,{errorMessage:S,onRetryLoad:()=>{},xuid:t})):r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:k,condition:!1},r.createElement(sF,{gamepadAliasNamespace:gX,value:s,onChange:f,tabs:b,narrationTitle:E(".narration.title"),enableGamepadShortcuts:!0})),r.createElement(Ry,{tab:"overview",component:()=>r.createElement(MX,{profileFacet:e,telemetryState:a,setTelemetryState:n,loading:k,featuredImgSrc:O,featuredImgLoading:N})}),r.createElement(Ry,{tab:"stats",component:()=>r.createElement(kX,{profileFacet:e,featuredImgSrc:O,featuredImgLoading:N})})))))))};function SX(e){return"narrow"===Od()?r.createElement(r.Fragment,null,r.createElement(zY,e),r.createElement(Nm,{size:2})):null}const CX=({profileFacet:e})=>{const t=p(),{t:a}=Fc("ProfileRoute"),n=wr("neutral"),o=(0,l.useSharedFacet)(es),i=(0,l.useSharedFacet)(dl),c=(0,l.useSharedFacet)(zu),s=(0,l.useSharedFacet)(wi),u=(0,l.useSharedFacet)(nu),d=(0,l.useSharedFacet)(ru),m=(0,l.useFacetWrap)(tv(ac)),f=hX("friends-list"),g=hX("followers-list"),E=tX(e),h=(0,l.useFacetMap)((e=>!e),[],[E]),b=eX(),v=(0,l.useFacetMap)(((e,t)=>!e&&t),[],[b,(0,l.useSharedFacet)(_c)]),y=(0,l.useFacetMap)((e=>e.isLoading),[],[o]),F=(0,l.useFacetMap)((e=>e.playerList.length),[],[o]),S=(0,l.useFacetMap)((e=>!e.isLoading&&0===e.playerList.length),[],[o]),C=(0,l.useFacetMap)((e=>""!==e.data.xuid?e.data.xblName:""!==e.data.platformName?e.data.platformName:""!==e.data.offlineName?e.data.offlineName:""),[],[e]),M=(0,l.useFacetMap)(((e,t,n)=>n?a(".friendsNarrationWithName",[t,`${e}`]):a(".friendsNarration",[`${e}`])),[a],[F,C,m]),w=(0,l.useFacetMap)(((e,t)=>t&&!e.isLoading?e.playerList.length:0),[],[(0,l.useSharedFacet)(cc),E]),k=(0,l.useFacetMap)((e=>a(".followersNarration",[`${e}`])),[a],[w]),T=(0,l.useFacetMap)((e=>0===e),[],[w]),P=(0,l.useFacetMap)(((e,t,a)=>a?e.count:t.count),[],[u,d,E]),I=(0,l.useFacetMap)(((e,t,a)=>a?e.maxScreenshots:t.maxScreenshots),[],[u,d,E]),x=mi(),A=tv(Ji),O=tv(ec),N=(0,l.useFacetMap)((e=>e&&A),[A],[E]),R=(0,l.useFacetMap)((e=>e.isLoadingCount),[],[u]),L=(0,l.useFacetMap)((e=>!e&&A&&O),[A,O],[E]),_=(0,l.useFacetMap)((e=>!e.isLoadingCount&&0===e.count),[],[d]),D=(0,l.useFacetMap)((e=>e.isLoadingCount),[],[d]),W=tv("vanilla.profileFeedback"),B=(0,l.useFacetMap)((e=>e.state.xblState===Xc.Loaded&&e.data.relation===$c.Follower),[],[e]),U=(0,l.useFacetMap)(((e,t)=>e?a(".friendsItemLabelWithName",[`${t}`]):a(".friendsItemLabel")),[a],[m,C]),z=(0,l.useFacetMap)((e=>a(".addFollowerBackBanner",[`${e}`])),[a],[C]),H=(0,l.useFacetMap)((e=>Nk(e.platform)&&W),[W],[i]),j=(0,l.useFacetCallback)((e=>()=>{e.openLink(Uu.ProfileFeedbackMain)}),[],[c]),V=(0,l.useFacetMap)(((e,t)=>e&&t),[],[S,T]),G=(0,l.useFacetMap)((e=>e.isAnyBeta),[],[s]),$=my({wide:8,narrow:6,width:256}),K=(0,l.useFacetMap)((e=>e?"fed064b643083037c3f5":"bdc840d8eab17b9683c1"),[],[$]),Y=nX(e),X=(0,l.useFacetCallback)((()=>()=>{t.push("/screenshot-gallery")}),[t],[e]),q=(0,l.useFacetCallback)((e=>()=>{var a;t.push(`/screenshot-showcase?${$G({xuid:(a=e.data).xuid,playerName:a.xblName,relation:a.relation})}`)}),[t],[e]),Q=(0,l.useFacetMap)(((e,t)=>!t||t&&!e),[],[E,m]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:H},r.createElement(r.Fragment,null,r.createElement("div",{className:zr()("d6d67a699c2a1ea8c417",n.background.base,n.border.base)},r.createElement(Ug,{inputLegend:a(".feedbackButton"),Icon:xM.ExternalLink,onClick:j},a(".feedbackButton")),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionShort"},a(".feedbackText"))),r.createElement(Nm,{size:2}))),r.createElement(l.Mount,{when:B},r.createElement(r.Fragment,null,r.createElement(AP,{role:"informative"},r.createElement(AP.Text,null,z)),r.createElement(Nm,{size:2}))),r.createElement(l.Mount,{when:Y},r.createElement(iX,{profileFacet:e})),r.createElement(tw,{gamepadIndex:0},r.createElement(l.Mount,{when:Q},r.createElement(tw.Action,{narrationText:M,inputLegend:a(".friendsInputLegend"),onClick:f,disabled:S},r.createElement(tw.Cell,null,r.createElement(Qp,{src:YY,imageRendering:"pixelated",className:ZY})),r.createElement(tw.Main,null,r.createElement(zm,{type:"captionShort",variant:"dimmest"},U),r.createElement(l.Mount,{when:y,condition:!1},r.createElement(zm,{type:"body"},F)),r.createElement(l.Mount,{when:y},r.createElement(Nm,{size:5}))))),r.createElement(l.Mount,{when:E},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:V},r.createElement("div",{className:zr()("b51a56d36951249a958e",n.border.base)})),r.createElement(tw.Action,{narrationText:k,inputLegend:a(".followersInputLegend"),onClick:g,disabled:T},r.createElement(l.Mount,{when:m},r.createElement(tw.Cell,null,r.createElement(Qp,{src:XY,imageRendering:"pixelated",className:ZY}))),r.createElement(tw.Main,null,r.createElement(zm,{type:"captionShort",variant:"dimmest"},a(".followersItemLabel")),r.createElement(zm,{type:"body"},w)))))),r.createElement(l.Mount,{when:N},r.createElement(tw,null,r.createElement(tw.Action,{narrationText:(0,l.useFacetMap)(((e,t)=>a(".screenshotsNarration",[`${e}`,`${t}`])),[a],[P,I]),inputLegend:a(".screenshotsInputLegend"),onClick:X},r.createElement(tw.Cell,null,r.createElement(Qp,{src:qY,imageRendering:"pixelated",className:ZY})),r.createElement(tw.Main,null,r.createElement(zm,{type:"captionShort",variant:"dimmest"},a(".screenshotsItemLabel")),r.createElement(l.Mount,{when:R,condition:!1},r.createElement(zm,{type:"body"},(0,l.useFacetMap)(((e,t)=>a(".listItemFractionValue",[`${e}`,`${t}`])),[a],[P,I]))),r.createElement(l.Mount,{when:R},r.createElement(Nm,{size:5})))))),r.createElement(l.Mount,{when:L},r.createElement(tw,null,r.createElement(tw.Action,{narrationText:(0,l.useFacetMap)(((e,t)=>a(".screenshotsNarration",[`${e}`,`${t}`])),[a],[P,I]),inputLegend:a(".screenshotsInputLegend"),onClick:q,disabled:_},r.createElement(tw.Cell,null,r.createElement(Qp,{src:qY,imageRendering:"pixelated",className:ZY})),r.createElement(tw.Main,null,r.createElement(zm,{type:"captionShort",variant:"dimmest"},a(".showcaseItemLabel")),r.createElement(l.Mount,{when:D,condition:!1},r.createElement(zm,{type:"body"},(0,l.useFacetMap)(((e,t)=>a(".listItemFractionValue",[`${e}`,`${t}`])),[a],[P,I]))),r.createElement(l.Mount,{when:D},r.createElement(Nm,{size:5})))))),r.createElement(l.Mount,{when:G},r.createElement(_v,{title:a(".achievementsInPreviewTitle"),text:a(".achievementsInPreviewDesc"),imgSrc:JY,imgClass:K})),r.createElement(l.Mount,{when:v},r.createElement(tw,null,r.createElement(tw.Action,{narrationText:(0,l.useFacetMap)((e=>[a(".achievementsNarration",[`${e.unlocked}`,`${e.total}`]),a(".gamerscoreNarration",[`${e.gamerScore}`,`${e.maxGamerScore}`])].join(" . ")),[a],[x]),inputLegend:a(".achievementsInputLegend"),onClick:()=>t.push("/achievements"),disabled:h},r.createElement(tw.Cell,null,r.createElement(Qp,{src:KY,imageRendering:"pixelated",className:ZY})),r.createElement(tw.Main,null,r.createElement(zm,{type:"captionShort",variant:"dimmest"},a(".achievementsItemLabel")),r.createElement(zm,{type:"body"},(0,l.useFacetMap)((e=>a(".listItemFractionValue",[`${e.unlocked}`,`${e.total}`])),[a],[x]))),r.createElement(tw.Cell,{direction:"row"},r.createElement(Qp,{className:"ee4a864527c4b09ebe84",src:QY,imageRendering:"pixelated"}),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"captionShort",variant:"dimmer"},(0,l.useFacetMap)((e=>a(".listItemFractionValue",[`${e.gamerScore}`,`${e.maxGamerScore}`])),[a],[x])),r.createElement(Nm,{size:1}))))))};function MX({profileFacet:e,telemetryState:t,setTelemetryState:a,loading:n,featuredImgSrc:o,featuredImgLoading:i}){const{t:c}=Fc("ProfileRoute"),s=(0,l.useSharedFacet)(Dc),u=(0,l.useFacetMap)((e=>e.suggested.slice(0,3)),[],[s]),d=(0,l.useFacetMap)((e=>e.completed.slice(0,3)),[],[s]),m=(()=>{const e=Mk();return(0,r.useCallback)(((t,a)=>{e("ProfileSuggestedAchievementsDisplayed",{profileXuid:{value:t,privacyTag:du.EUPI},suggestedNextAchievementIds:{value:a.join(","),privacyTag:du.CustomerContent}})}),[e])})();(0,l.useFacetEffect)(((e,t,n,r)=>{const l=t.map((e=>e.id));e&&r.shouldFireAchievementsDisplayed&&(m(n.data.xuid,l),r.shouldFireAchievementsDisplayed=!1,a(r))}),[m,a],[(0,l.useSharedFacet)(_c),u,e,t]);const p=tX(e),f=(0,l.useFacetMap)((e=>!e),[],[p]),g=eX(),E=(0,l.useFacetMap)(((e,t)=>!e||t),[],[(0,l.useSharedFacet)(_c),n]),h=r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(SX,{playerFacet:(0,l.useFacetMap)((e=>e.data),[],[e]),featuredImgSrc:o,featuredImgLoading:i}),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(CX,{profileFacet:e}),r.createElement(Nm,{size:2})),b=r.createElement(r.Fragment,null,r.createElement(LE.Space,{extraSpace:r.createElement(Nm,{size:1})}),r.createElement(Nm,{size:1}));return r.createElement(Zf,{text:c(".tabNarration",[c(".overviewTabButtonLabel"),"1","2"])},r.createElement(l.Mount,{when:n},r.createElement(Nm,{size:2})),r.createElement(l.Mount,{when:g},r.createElement(jf,{loading:n,renderTracker:e=>r.createElement(Ny,{type:"meaningful",renderingCompleted:e}),gamepadAlias:fX,delegateFocusFromMemory:!0},h,b)),r.createElement(l.Mount,{when:g,condition:!1},r.createElement(Vw,{gamepadAlias:fX,delegateFocusFromMemory:!0,header:h,loading:E,data:(0,l.useFacetMap)(((e,t)=>[{role:"informativeTint",title:c(".suggestedAchievementsListLabel"),data:e},{role:"successTint",title:c(".completedAchievementsListLabel"),data:t}]),[c],[u,d]),footer:b,sectionSeparator:r.createElement(Nm,{size:2}),renderSectionHeader:(e,t)=>r.createElement(PF,{role:t,label:e}),renderItem:({itemFacet:e,index:t,sectionIndex:a,listLengthFacet:n})=>r.createElement(wX,{item:e,index:t,sectionIndex:a,listLength:n,disabled:f}),renderTracker:e=>r.createElement(Ny,{type:"meaningful",renderingCompleted:e}),padSpinnerVertically:!0})))}const wX=({item:e,index:t,listLength:a,disabled:n})=>{const o=p();return r.createElement(sw,{item:e,onClick:(0,l.useFacetCallback)((e=>()=>{o.push(`/achievement-detail/${e.id}`)}),[o],[e]),index:t,listLength:a,disabled:n})};function kX({profileFacet:e,featuredImgSrc:t,featuredImgLoading:a}){const{t:n}=Fc("ProfileRoute"),o=hX("compare-stats"),i=(0,l.useSharedFacet)($o),c=(0,l.useFacetMap)((e=>e.data.map((e=>({label:e.label,icon:e.icon,data:{value:e.valueRaw,display:e.valueDisplay,narration:e.valueNarration}})))),[],[i]),s=r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(SX,{playerFacet:(0,l.useFacetMap)((e=>e.data),[],[e]),featuredImgSrc:t,featuredImgLoading:a}),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.state.xblState===Xc.Loaded&&e.data.relation!==$c.Self),[],[e])},r.createElement(r.Fragment,null,r.createElement("div",{className:"e89df93bd07001ab3c49"},r.createElement(Ug,{inputLegend:n(".compareStats"),onClick:o},n(".compareStats"))),r.createElement(Nm,{size:2})))),u=(0,l.useFacetMap)((e=>!e.loaded),[],[i]);return r.createElement(Zf,{text:n(".tabNarration",[n(".statsTabButtonLabel"),"2","2"])},r.createElement(l.Mount,{when:u},r.createElement(Nm,{size:2})),r.createElement($U,{gamepadAlias:"profile-stats-list",delegateFocusFromMemory:!0,data:c,renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>r.createElement(nj,{item:e,index:t,listLength:a}),loading:u,header:s,footer:r.createElement(r.Fragment,null,r.createElement(LE.Space,{extraSpace:r.createElement(Nm,{size:1})}),r.createElement(Nm,{size:1})),padSpinnerVertically:!0}))}const TX=yp((()=>{const{t:e}=Fc("RealmsNewStoryRoute.modals");return UW(e(".postingStoryTitle")),r.createElement($E,null,r.createElement($E.Header,null,e(".postingStoryTitle")),r.createElement($E.Content,null,r.createElement($E.Spinner,null)))})),PX=yp((()=>{const{t:e}=Fc("RealmsNewStoryRoute.modals"),t="pop-up-modal-postingStoryErrorModal",a=(0,l.useSharedFacet)(ls),n=(0,l.useFacetCallback)((e=>()=>{e.clearPostStoryStatus()}),[],[a]);return r.createElement($E,{defaultFocusAlias:t},r.createElement($E.Header,{onClose:n},e(".errorModalTitle")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:e(".errorModalBody"),gamepadIndex:0},e(".errorModalBody"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:t,inputLegend:e(".close"),variant:"secondary",onClick:n},e(".close"))))})),IX=a.p+"assets/add-image-dark-icon-7fb8f791ce9fb2225094.png",xX=a.p+"assets/add-image-grey-icon-9de108ece7db87df80dd.png",AX="eea1c5b4ffdd5da1e2e6",OX="a5a2cc33831928b3b90a";var NX;function RX(){const e=(0,l.useSharedFacet)(ls),t=(0,l.useSharedFacet)(ss),a=(0,l.useSharedFacet)(ms),n=(0,l.useSharedFacet)(os),o=(0,l.useSharedFacet)(js),i=KV(),c=(0,l.useSharedFacet)(dl),s=(0,l.useSharedFacet)(ns);(0,l.useFacetEffect)(((e,t)=>{t.fetchMembersStatus===Tu.Idle&&e.fetchMembers()}),[],[e,a]);const u=Od(70,100);let d=3,m=6;"narrow"===u?(d=1,m=7):"tablet"===u&&(d=2,m=8);const f=p(),{t:E}=Fc("RealmsNewStoryRoute"),h=(0,l.useFacetMap)((e=>e.players),[],[a]),b=(0,l.useFacetMap)(((e,{userXuid:t})=>{var a;return null!==(a=Ho(e,(e=>e.xuid===t)))&&void 0!==a?a:iz}),[],[h,n]),v=(0,l.useFacetMap)((e=>e.gamerIcon),[],[b]),y=(0,l.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[b]),F=(0,l.useFacetMap)((e=>!e.postInProgressBody.length&&!e.storyScreenshotSelectionFilePath.length),[],[t]),S=(0,l.useFacetMap)((e=>e.storyScreenshotSelectionFilePath.length>0),[],[t]),C=(0,l.useFacetMap)((e=>e.postStoryStatus),[],[o]),M=(0,l.useFacetMap)((e=>e===Pu.InProgress||e===Pu.Uploading||e===Pu.Success),[],[C]),w=(0,l.useFacetMap)((e=>e===Pu.InputInvalid||e===Pu.InternalError||e===Pu.PostingFailed||e===Pu.UploadFailed),[],[C]),k=(0,l.useFacetMap)((e=>e===Pu.RateLimit),[],[C]),T=(0,l.useFacetCallback)((e=>()=>{e.clearPostStoryStatus()}),[],[e]),P=(0,l.useFacetMap)(((e,t)=>{if(!t.storyScreenshotSelectionFilePath.length)return"";let a=null;return a=Ho(e.all,(e=>e.filePath===t.storyScreenshotSelectionFilePath)),null!=a?a.image:""}),[],[i,t]),I=(0,l.useFacetCallback)((e=>()=>{e.storyScreenshotSelectionFilePath=""}),[],[t]),x=(0,l.useFacetMap)((e=>e.postInProgressBody),[],[t]),A=(0,l.useFacetCallback)((e=>t=>{e.postInProgressBody=t}),[],[t]),O=(0,l.useFacetCallback)((e=>t=>{t.keyCode===fe.ENTER&&e.split("\n").length>=10&&t.preventDefault()}),[],[x]),[N,R]=Uy(!1),L=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{t===Pu.Idle&&(By(a,n)?R.show():e.postStory())}),[R],[e,C,(0,l.useSharedFacet)(rs),x]),_=(0,l.useFacetMap)(((e,t)=>{const a=[];return e?(a.push(NX.ChangeScreenshotButton),a.push(NX.RemoveScrenshotButton)):a.push(NX.AddScreenshotButton),a.push(NX.PostTextField),t||a.push(NX.PostStoryButton),a.push(NX.CancelPostButton),a}),[],[S,F]),D=(0,r.useCallback)(((e,t)=>{const a=e.indexOf(t);return-1===a?"":E(".enumeration",[`${a+1}`,`${e.length}`])}),[E]),W=(0,l.useFacetMap)((e=>D(e,NX.AddScreenshotButton)),[D],[_]),B=(0,l.useFacetMap)((e=>D(e,NX.ChangeScreenshotButton)),[D],[_]),U=(0,l.useFacetMap)((e=>D(e,NX.RemoveScrenshotButton)),[D],[_]),z=(0,l.useFacetMap)((e=>D(e,NX.PostTextField)),[D],[_]),H=(0,l.useFacetMap)((e=>D(e,NX.PostStoryButton)),[D],[_]),j=(0,l.useFacetMap)((e=>D(e,NX.CancelPostButton)),[D],[_]),V=(0,l.useFacetMap)(((e,t)=>e?[E(".disabled"),E(".postStoryHint")].join(" . "):t),[E],[F,H]),G=(0,l.useFacetMap)(((e,t)=>[E(".textBoxPlaceholder"),E(".inputField"),t,e.length>0?e:E(".inputFieldHint")].join(" . ")),[E],[x,z]),$=(0,l.useFacetMap)((e=>!e.getAllowCapturesResult),[],[s]),K=(0,l.useFacetMap)((e=>e?xX:IX),[],[$]),Y=(0,l.useFacetCallback)((e=>()=>{e.openLink(Uu.RealmsSafetyPage)}),[],[(0,l.useSharedFacet)(zu)]);!function(){const e=(0,l.useSharedFacet)(ls),t=(0,l.useSharedFacet)(ss),a=(0,l.useSharedFacet)(js),n=p(),r=(0,l.useSharedFacet)(Or),o=(0,l.useSharedFacet)(os),{t:i}=Fc("RealmsStories"),c=(0,l.useFacetMap)((e=>e.postStoryStatus),[],[a]),s=(0,l.useFacetCallback)((e=>()=>e.clearPostStoryStatus()),[],[e]),u=(0,l.useFacetCallback)((e=>()=>{e.postInProgressBody="",e.storyScreenshotSelectionFilePath=""}),[],[t]),d=(0,l.useFacetCallback)((e=>()=>e.newPostAvailable=!0),[],[t]),m=(0,l.useFacetCallback)((e=>()=>{let t=0;for(;t<e.history.list.length&&(null===(a=e.history.list[t])||void 0===a||!a.pathname.includes("/post-to-realm-stories"));){var a;++t}t<e.history.list.length?n.go(t-e.history.list.length):n.goBack()}),[n],[r]),f=(0,l.useSharedFacet)(Ac),g=(0,l.useFacetCallback)(((e,t,a)=>()=>{let n=0;for(;n<e.history.list.length&&(null===(r=e.history.list[n])||void 0===r||!r.pathname.includes("/post-to-realm-stories"));){var r;++n}n<e.history.list.length&&t.queueSnackbar(i(".postedTo",[a.name]))}),[i],[r,f,o]);(0,l.useFacetEffect)((e=>{e===Pu.Success&&(g(),s(),u(),d(),m())}),[s,u,d,m,g],[c])}();const X=g(),q=(0,l.useFacetMap)((e=>e.realmId),[],[X]),Q=(0,l.useFacetCallback)((e=>()=>{f.push(`/realms-new-story/screenshot-gallery/${e}`)}),[f],[q]),Z=wr("neutral"),J=(0,l.useFacetMap)((e=>!e.isOnline),[],[c]);return r.createElement(pr,{collection:bT},r.createElement(av,{role:"primary"},r.createElement(yv,{onBackButton:f.goBack,center:r.createElement(zm,{type:"header5A"},E(".addStory")),gamepadAlias:"realms-new-story-route"},r.createElement(l.Mount,{when:M},r.createElement(TX.Component,null)),r.createElement(l.Mount,{when:w},r.createElement(PX.Component,null)),r.createElement(l.Mount,{when:k},r.createElement(XW.Component,{onClickClose:T})),r.createElement(l.Mount,{when:R.isVisible},r.createElement(Oy.Component,{onClose:R.hide})),r.createElement(Cv,null,r.createElement(l.Mount,{when:J},r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:d,narrowSize:0}),r.createElement(Cv.Column,{wideSize:m,narrowSize:8},r.createElement(Nm,{size:4}),r.createElement(Tz,null)))),r.createElement(l.Mount,{when:J,condition:!1},r.createElement(Cv.Row,{className:"bf503d6307b116f3ee83"},r.createElement(Cv.Column,{wideSize:d,narrowSize:d},r.createElement(Nm,{size:4}),r.createElement("div",{className:"a26c95effb5b1d231f5c"},r.createElement(uk,{status:y,src:v,variant:"large"}))),r.createElement(Cv.Column,{wideSize:m,narrowSize:m},r.createElement(jf,null,r.createElement(Nm,{size:4}),r.createElement("div",{className:OX},r.createElement(oO,null,r.createElement(l.DeferredMount,null,r.createElement(l.Mount,{when:$},r.createElement(Fg,null,r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,E(".bannerText")),r.createElement(AP.Link,{onClick:Y,gamepadIndex:0},E(".bannerLink")))))),r.createElement(l.DeferredMount,null,r.createElement(Fg,null,r.createElement(zm,{type:"body"},E(".selectScreenshot")),r.createElement(Nm,{size:2}),r.createElement(l.Mount,{when:S,condition:!1},r.createElement(rD,{shouldSkipLandmarkInVisual:!0},r.createElement(Ug,{onClick:Q,inputLegend:E(".addScreenshot"),imgSrc:K,narrationPrefix:E(".addScreenshot"),narrationSuffix:W,disabled:$},E(".addScreenshot")))),r.createElement(l.Mount,{when:S},r.createElement(r.Fragment,null,r.createElement("div",{className:zr()(OX,Z.border.base)},r.createElement(Qp,{src:P,aspectRatio:Qp.AspectRatio["16:9"]})),r.createElement(Nm,{size:2}),r.createElement(rD,{shouldSkipLandmarkInVisual:!0},r.createElement("div",{className:AX},r.createElement(Ug,{inputLegend:E(".changeScreenshotImage"),onClick:Q,narrationPrefix:E(".changeScreenshotImage"),narrationSuffix:B,horizontal:!0},E(".change")),r.createElement(Nm,{size:4}),r.createElement(Ug,{inputLegend:E(".removeScreenshotImage"),onClick:I,narrationPrefix:E(".removeScreenshotImage"),narrationSuffix:U,horizontal:!0},E(".remove")))))))),r.createElement(l.DeferredMount,null,r.createElement(rD,{shouldSkipLandmarkInVisual:!0},r.createElement(jy,{"data-testid":"new-story-field-id",maxLength:350,rows:3,label:"",placeholder:E(".textBoxPlaceholder"),value:x,narrationOverride:G,onChange:A,onKeyDown:O,disabled:M,onBlur:N}))),r.createElement(Fg,null,r.createElement(rD,{shouldSkipLandmarkInVisual:!0},r.createElement("div",{className:AX},r.createElement(Ug,{inputLegend:E(".cancel"),onClick:f.goBack,horizontal:!0,narrationPrefix:E(".cancel"),narrationSuffix:j},E(".cancel")),r.createElement(Nm,{size:4}),r.createElement(Ug,{inputLegend:E(".postStory"),variant:"primary",onClick:L,disabled:(0,l.useFacetMap)(((e,t)=>t||e),[],[F,M]),horizontal:!0,narrationPrefix:E(".postStory"),narrationSuffix:V},E(".post"))))))),r.createElement(Nm,{size:2})),r.createElement(LE.Space,null))))))))}!function(e){e[e.AddScreenshotButton=0]="AddScreenshotButton",e[e.ChangeScreenshotButton=1]="ChangeScreenshotButton",e[e.RemoveScrenshotButton=2]="RemoveScrenshotButton",e[e.PostTextField=3]="PostTextField",e[e.PostStoryButton=4]="PostStoryButton",e[e.CancelPostButton=5]="CancelPostButton"}(NX||(NX={}));const LX=a.p+"assets/privacy_safety_help_qr-c5392606b14a2d90086d.png",_X="https://aka.ms/RealmsSafety";function DX({addExtraSpace:e,onClose:t,children:a,isBrowserFriendly:n}){const{t:o}=Fc("PrivacyAndOnlineSafetyModal"),i=(0,l.useSharedFacet)(ns),c="privacy-and-online-safety-try-again-button",s=(0,l.useFacetCallback)((e=>()=>{e.openLink(Uu.RealmsSafetyPage)}),[],[(0,l.useSharedFacet)(zu)]),u=(0,l.useFacetCallback)((e=>()=>{e.checkClubAndMultiplayerPermissions()}),[],[i]),d=(0,l.useFacetWrap)(e);return r.createElement($E,{defaultFocusAlias:c},r.createElement($E.Header,{onClose:t},o(".header")),r.createElement($E.Content,null,r.createElement("div",{className:"f79658be5c2fea3cb29e"},r.createElement(l.Mount,{when:n,condition:!1},r.createElement("div",{className:"d33a395bb740726a56b2"},r.createElement(Qp,{src:LX,className:"c2f3a4fd2c5112b7cfdb"}))),r.createElement("div",{className:"e4bd75e7f8ef63c3d743"},a,r.createElement("div",{className:"b9f6c49f42b27487c649"},r.createElement(l.Mount,{when:n},r.createElement(zm,{type:"captionLong"},r.createElement(wP,{onClick:s,gamepadIndex:1,withUnderlinePolyfill:!0},_X))),r.createElement(l.Mount,{when:n,condition:!1},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:d},r.createElement(Nm,{size:4})),r.createElement(zm,{type:"captionLong"},_X))),r.createElement(Nm,{size:4}))))),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{gamepadAlias:c,gamepadIndex:0,inputLegend:o(".tryAgain"),horizontal:!0,onClick:u},o(".tryAgain")),r.createElement(l.Mount,{when:n},r.createElement(r.Fragment,null,r.createElement(Nm,{size:4}),r.createElement(Ug,{onClick:s,Icon:xM.ExternalLink,inputLegend:o(".buttonAction"),variant:"primary",horizontal:!0,narrationSuffix:o(".linkButtonHint"),gamepadIndex:1},o(".externalLinkText"))))))}const WX=yp((({closeCallback:e,isBrowserFriendly:t})=>{const{t:a}=Fc("PrivacyAndOnlineSafetyModal"),n=(0,l.useFacetMap)((e=>{const t=e?null:a(".qrCodeHint");return[a(".fromOnlineSafety"),a(".toAccessRealmsStories"),a(".clubPermissionMessage"),t].join(" . ")}),[a],[t]);return r.createElement(DX,{onClose:e,isBrowserFriendly:t},r.createElement($E.Paragraphs,{gamepadIndex:0,spaceBetweenParagraphs:0,narrationText:n},r.createElement(zm,{type:"captionLong"},a(".fromOnlineSafety")),r.createElement(zm,{type:"captionLong"},a(".toAccessRealmsStories")),r.createElement(zm,{type:"captionLong"},a(".clubPermissionMessage"))))}));function BX({closeCallback:e}){const t=(0,l.useSharedFacet)(ns),a=(0,l.useSharedFacet)(dl),n=(0,l.useFacetMap)((e=>!e.getClubCheckResult),[],[t]),o=(0,l.useFacetMap)((({platform:e})=>(e=>e===Qe.GOOGLE||e===Qe.IOS||e===Qe.MACOS||e===Qe.UWP||e===Qe.WIN32)(e)),[],[a]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:n},r.createElement(WX.Component,{closeCallback:e,isBrowserFriendly:o})))}var UX;function zX(){const e=g(),t=h(),a=p(),n=f(),o=(0,l.useSharedFacet)($s),i=(0,l.useSharedFacet)(os),c=(0,l.useSharedFacet)(ss),[s,u]=(0,l.useFacetState)(UX.Enter),d=(0,l.useFacetMap)(((e,t,a)=>t&&e==UX.Initializing&&!a.isFetchingRealmWorld&&!a.isRealmWorldValid),[],[s,n,i]),m=(0,l.useFacetMap)(((e,t,a)=>t&&e==UX.FetchSettings&&(a.currentFetchState===Tu.FetchFailed||a.currentFetchState===Tu.InternalError)),[],[s,n,o]),E=(0,l.useFacetMap)(((e,t,a)=>t&&e==UX.FetchSettings&&a.currentFetchState===Tu.RateLimit),[],[s,n,o]),b=(0,l.useFacetMap)(((e,t,a,n,r)=>t&&e!=UX.DataReady&&!a&&!n&&!r),[],[s,n,d,m,E]),v=(0,l.useFacetMap)((e=>e.getClubCheckResult),[],[(0,l.useSharedFacet)(ns)]),y=(0,l.useFacetMap)(((e,t,a)=>t&&e==UX.DataReady&&!a),[],[s,n,v]),F=(0,r.useCallback)((()=>{a.goBack()}),[a]),S=(0,l.useSharedFacet)(nu),C=(0,l.useFacetMap)((e=>e.screenshots),[],[S]);return(0,l.useFacetEffect)(((e,t,n,r,l,o,i,c,s,d)=>{if(n)switch(t){case UX.Enter:{if(!e.realmId)return;r.reset(),r.init(e.realmId);const t=d.get("screenshotId");if(null!=t){const e=s.find((e=>e.id===t));e&&(c.storyScreenshotSelectionFilePath=e.filePath)}u(UX.FetchSettings)}break;case UX.FetchSettings:o.currentFetchState===Tu.Success&&(r.clearSettingsStatus(),u(UX.DataReady));break;case UX.DataReady:i&&(u(UX.Finished),"new-story"===e.tab?a.replace(`/realms-new-story/${e.realmId}`):a.replace(`/realms-stories/${e.tab}/${e.realmId}`))}else u(UX.Enter)}),[u,a],[e,s,n,(0,l.useSharedFacet)(ls),i,o,v,c,C,t]),r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:b},r.createElement(GW,{onClickClose:F})),r.createElement(l.Mount,{when:d},r.createElement(KW.Component,{onClickClose:F})),r.createElement(l.Mount,{when:m},r.createElement($W.Component,{onClickClose:F})),r.createElement(l.Mount,{when:E},r.createElement(XW.Component,{onClickClose:F})),r.createElement(l.Mount,{when:y},r.createElement(BX,{closeCallback:F})))}!function(e){e[e.Enter=0]="Enter",e[e.Initializing=1]="Initializing",e[e.FetchSettings=2]="FetchSettings",e[e.DataReady=3]="DataReady",e[e.Finished=4]="Finished"}(UX||(UX={}));const HX=e,jX=t,VX=n,GX=a.p+"assets/default-f00267f06b75f9f5f60e.png";function $X(e,t){for(let a=0;a<e.images.length;a++){const n=e.images[a];if((null==n?void 0:n.id)===t)return n}return null}function KX(e,t){const a=$X(e,t);return a&&(null==a?void 0:a.nonAnimatedUrl.length)>0?null==a?void 0:a.nonAnimatedUrl:a&&a.isLoaded?GX:""}function YX(e,t){const a=$X(e,t);return a&&(null==a?void 0:a.animatedUrl.length)>0?null==a?void 0:a.animatedUrl:a&&a.isLoaded?GX:""}function XX(e,t){for(let a=0;a<e.buttons.length;a++){const n=e.buttons[a];if(null!=n&&n.id==t)return n}return null}function qX(e,t,a=""){const n=XX(e,t);return null!=n&&n.text.length>0?n.text:a}function QX(){const e=p();return(0,l.useFacetCallback)((t=>(a,n,r)=>{t.reportClick(a,n,r.id),r.action===Wc.EXTERNAL?(r.openExternalLink(),e.goBack()):r.action==Wc.INTERNAL&&e.replace(r.link)}),[e],[(0,l.useSharedFacet)(zc)])}function ZX({errorMessage:e,messageID:t}){const{t:a}=Fc("AnnouncementModalRoute"),n=p();let l=String(a(".errorTitle"));const o=String(e);return null!=t&&(l+=" ID: "+t),r.createElement(Zf,{text:l+o},r.createElement($E,null,r.createElement($E.Header,null,l),r.createElement($E.Content,{focusableIfScrollable:!0},r.createElement($E.Text,{gamepadIndex:0,narrationText:o},r.createElement(zm,{type:"captionLong",align:"left"},o))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:1,inputLegend:a(".confirmInputLegend"),variant:"secondary",onClick:()=>{n.goBack()}},a(".continue")))))}const JX="Primary";function eq({announcement:e}){const{t}=Fc("AnnouncementModalRoute"),a=Jr(),n=(0,l.useFacetUnwrap)(e),o=(0,l.useFacetCallback)((e=>(t,a)=>{e(t,a)}),[],[(0,l.useSharedFacet)(Hc)]);if(n===l.NO_VALUE||null==n)return r.createElement(ZX,{errorMessage:t(".errorNoMessage")});const i=n.header,c=n.body;if(null==c||null==i||!function(e){return"ImageText"===e.template&&e.images.length>=1}(n))return r.createElement(ZX,{errorMessage:t(".errorInvalidTemplate")});const s=KX(n,JX),u=YX(n,JX),d=qX(n,"Dismiss",t(".continue")),m=()=>{o(n.id,n.instanceId),a.goBack()};return r.createElement($E,null,r.createElement($E.Header,{onClose:m},i),r.createElement($E.Content,{focusableIfScrollable:!0},r.createElement("div",{className:"d264f8e2dbb8911e3c07"},r.createElement("div",{className:"b3d920639ea7a60e8e9d"},r.createElement(KP,{gifSrc:u,imageSrc:s,className:"bfe05e17684e6cd46cba",aspectRatio:Qp.AspectRatio["16:9"]})),r.createElement($E.Text,{gamepadIndex:0,narrationText:c},r.createElement("div",{className:"f1537d5c80be9f5147b1"},r.createElement(zm,{type:"captionLong",align:"left",whiteSpace:"preWrap"},c))))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:1,inputLegend:t(".confirmInputLegend"),variant:"secondary",onClick:m},d)))}const tq="a30beca26cfb78d32e08";function aq({messageId:e,messageInstanceId:t,unlockButton:a,unlockButtonText:n,onApply:l,onDismiss:o,styleType:i,inputLegend:c,gamepadAlias:s,horizontal:u=!1,narrationSuffix:d,className:m}){const p=r.createElement(Ug,{gamepadAlias:s,inputLegend:c,variant:"primary",Icon:()=>r.createElement(rB,{button:a}),onClick:()=>{l(e,t,a),o(e,t)},horizontal:u,narrationSuffix:d},n),f=i===Bc.Realms?r.createElement(pr,{collection:bT},p):p;return r.createElement("div",{className:zr()("cecdc39b09fcbde3b279",m)},f)}const nq="CallToAction",rq="Primary",lq="Secondary";function oq({announcement:e}){const{t}=Fc("AnnouncementModalRoute"),a=Jr(),n=(0,l.useFacetUnwrap)(e),o=QX(),i=(0,l.useFacetCallback)((e=>(t,a)=>{e(t,a)}),[],[(0,l.useSharedFacet)(Hc)]);if(n===l.NO_VALUE||null==n)return r.createElement(ZX,{errorMessage:t(".errorNoMessage")});const c=n.header,s=n.body;if(null==s||null==c||!function(e){return"ImageThumbnailCTA"===e.template&&e.images.length>=2&&null!=XX(e,nq)}(n))return r.createElement(ZX,{errorMessage:t(".errorInvalidTemplate")});const u=qX(n,"Dismiss",t(".continue")),d=XX(n,nq),m=qX(n,nq,t(".unlock")),p=KX(n,rq),f=YX(n,rq),g=KX(n,lq),E=YX(n,lq),h=()=>{i(n.id,n.instanceId),a.goBack()};return r.createElement($E,null,r.createElement($E.Header,{onClose:h},c),r.createElement($E.Content,{focusableIfScrollable:!0},r.createElement("div",{className:"af9ae3623435b8bad07f"},r.createElement("div",{className:"ec07cb885ebde4709393"},r.createElement("div",{className:"b1af1235aceed855375f"},r.createElement(KP,{gifSrc:f,imageSrc:p,className:tq,aspectRatio:Qp.AspectRatio["16:9"]})),r.createElement("div",{className:"c5f812a252f372eaa40c"},r.createElement("div",{className:"e2411e4849990a2ae1c2"},r.createElement(KP,{gifSrc:E,imageSrc:g,className:tq,aspectRatio:Qp.AspectRatio["16:9"]})),null!=d&&r.createElement(aq,{messageId:n.id,messageInstanceId:n.instanceId,unlockButton:d,unlockButtonText:m,onApply:o,onDismiss:i,styleType:n.style,inputLegend:t(".confirmInputLegend")}))),r.createElement($E.Text,{gamepadIndex:2,narrationText:s},r.createElement("div",{className:"e79812f4cc12b9e81c18"},r.createElement(zm,{type:"captionLong",align:"left",whiteSpace:"preWrap"},s))))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:3,inputLegend:t(".confirmInputLegend"),variant:"secondary",onClick:h},u)))}const iq="CallToAction",cq="Primary";function sq({announcement:e}){const{t}=Fc("AnnouncementModalRoute"),a=p(),n=(0,l.useFacetUnwrap)(e),o=QX(),i=(0,l.useFacetCallback)((e=>(t,a)=>{e(t,a)}),[],[(0,l.useSharedFacet)(Hc)]);if(n===l.NO_VALUE||null==n)return r.createElement(ZX,{errorMessage:t(".errorNoMessage")});const c=n.header,s=n.body;if(null==s||null==c||!function(e){return"HeroImageCTA"===e.template&&e.images.length>=1}(n))return r.createElement(ZX,{errorMessage:t(".errorInvalidTemplate")});const u=qX(n,"Dismiss",t(".continue")),d=XX(n,iq),m=qX(n,iq,t(".unlock")),f=KX(n,cq),g=YX(n,cq),E=()=>{i(n.id,n.instanceId),a.goBack()},h=()=>r.createElement(rB,{button:d});return r.createElement($E,null,r.createElement($E.Header,{onClose:E},c),r.createElement($E.Content,{focusableIfScrollable:!0},r.createElement("div",{className:"e59ec10a19261134fb4b"},r.createElement("div",{className:"f95f545157d1284e4f36"},r.createElement(KP,{gifSrc:g,imageSrc:f,className:"ffd01ddb251cc22dcfb7",aspectRatio:Qp.AspectRatio["16:9"]})),r.createElement($E.Text,{gamepadIndex:0,narrationText:s},r.createElement("div",{className:"d2c96d3296d048da5baf"},r.createElement(zm,{type:"captionLong",verticalAlign:"center",align:"left",role:"inherit",whiteSpace:"preWrap"},s))))),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{gamepadIndex:1,inputLegend:t(".confirmInputLegend"),variant:"secondary",onClick:E,horizontal:!0},u),null!=d&&r.createElement(Nm,{size:4}),null!=d&&function(e){const a=r.createElement(Ug,{gamepadIndex:2,inputLegend:t(".confirmInputLegend"),variant:"primary",Icon:h,onClick:()=>{null!=d&&(o(e.id,e.instanceId,d),i(e.id,e.instanceId))},horizontal:!0},m);return e.style===Bc.Realms?r.createElement(pr,{collection:bT},a):a}(n)))}const uq={overlay:"f50997f179e48cf61853",container:"bf04d9c484e7d98c5767",content:"dc5c7f340cc264d86c51",wrapper:"a8eb62ba271a579c0cb1",closeButton:"e0c79755f6681031fa74",modalBody:"cf1c49900e57db32f989",center:"a1b759dd0daeff17430a"};function dq({children:e,role:t="neutral80",className:a,containerRef:n,wideGridWidth:o,wideGridMargin:i=0,narrowGridWidth:c,narrowGridMargin:s=0}){const u=wr(t),d=(0,l.useFacetMap)((e=>zr()(uq.container,u.background.base,u.border.base,u.text.base,e)),[u],[(0,l.useFacetWrap)(a)]);return r.createElement(Cv,{centerContentVertically:!0},r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:i,narrowSize:s}),r.createElement(Cv.Column,{wideSize:o,narrowSize:c},r.createElement("fast-div",{ref:n,className:d,onClick:mq},e)),r.createElement(Cv.Column,{wideSize:i,narrowSize:s})))}const mq=e=>{e.stopPropagation()},pq=()=>{};function fq({children:e,className:t,narrationText:a,narrationSuffix:n,delegateFocusByAlias:l,onOverlayClick:o,onBack:i,wideGridWidth:c,wideGridMargin:s,narrowGridWidth:u,narrowGridMargin:d,role:m="neutral80"}){const{t:p}=Fc("WideAnnouncementModal"),f=(0,r.useRef)(null),g=[a,p(".narration.modal"),n].join(" . "),E={button:j.B,inputLegend:p(".back")};return r.createElement(Zn,{role:m},r.createElement(Xf,{options:E,onClick:null!=i?i:pq}),r.createElement(gq,{onClick:o},r.createElement(dq,{role:m,className:zr()(t,uq.container),containerRef:f,wideGridWidth:c,wideGridMargin:s,narrowGridWidth:u,narrowGridMargin:d},r.createElement(Zf,{text:g},r.createElement(Yp,{containerRef:f,delegateFocusByAlias:l,shouldBindFocus:!0,delegateFocusFromMemory:!0},e)))))}function gq({onClick:e,children:t,role:a="inherit"}){const n=wr(a);return r.createElement("div",{className:zr()(uq.overlay,n.overlay.base),onClick:e},r.createElement("div",{className:uq.wrapper},t,r.createElement(LE.Space,null)))}fq.Body=function({children:e,role:t="inherit",className:a,onCloseButtonClick:n,hideCloseButton:o=!1,outerRef:i,disableSpecular:c=!1}){const s=wr(t),u=(0,l.useFacetWrap)(o),{t:d}=Fc("WideAnnouncementModal.narration"),m=[d(".close"),d(".button")].join(" . ");return r.createElement("div",{ref:i,className:zr()(s.background.base,uq.modalBody)},!c&&r.createElement(Lp,{effect:"specular"}),r.createElement("div",{className:zr()(s.text,uq.content,a)},e),r.createElement(l.Mount,{when:u,condition:!1},r.createElement(Tp,{role:"inherit",inputLegend:d(".close"),narrationText:m,onClick:null!=n?n:pq,className:uq.closeButton},r.createElement(of,null))))},fq.Footer=function({children:e,role:t="inherit",className:a}){const n=wr(t),o=(0,l.useFacetMap)((e=>zr()(uq.footer,uq.center,n.background.base,n.border.base,n.text.base,e)),[n],[(0,l.useFacetWrap)(a)]);return r.createElement("fast-div",{className:o},r.createElement(Lp,{effect:"bevel",left:!1,right:!1}),e)};const Eq={modalNarrow:"e52d170d185b195070ef",modalTablet:"b8d36a450b815f7245ef",modalDesktop:"f030e5e6672a08884a12",modalBody:"d5ecc91712bd62349b19",imageSlot:"f0c6cb45d5e3d806d14a",imageSlotNarrow:"e9a055c5b024fad59e2b",imageSlotTablet:"f4239edc203fa14ae601",imageSlotDesktop:"c02b11cd358acb048afa",contentRow:"a71dff9f886ff9682d12",textContent:"a445b92673c6f53b80c0",textContentNarrow:"fc774f2e282f178d6d59",textContentTablet:"fc21dd3fc0c39a080f92",textContentDesktop:"e7d81e38af368b6803fb",title:"b9c54abeb93543c5a8fe",bodyText:"e09376c3ec4a958d5b68",bodyTextNarrow:"f4606d8a2a8752d1dacf",scrollBox:"cb9e7611474eed81ab79",scrollBar:"d1f8c82e3352b8ff1ba8",footer:"d6525edbb5e784ce7a86"},hq="CallToAction";function bq({announcement:e}){const{t}=Fc("AnnouncementModalRoute");if(null==e)return r.createElement(ZX,{errorMessage:t(".errorNoMessage")});const a=e.header;return null!=e.body&&null!=a&&function(e){return"ShowcaseAnnouncementCTA"===e.template&&1===e.images.length&&1===e.buttons.length||"ShowcaseAnnouncementNoCTA"===e.template&&1===e.images.length&&0===e.buttons.length}(e)?r.createElement(vq,{announcement:e}):r.createElement(ZX,{errorMessage:t(".errorInvalidTemplate")})}function vq({announcement:e}){const{t}=Fc("AnnouncementModalRoute"),a=Od(82),n=p(),o=(0,l.useFacetCallback)((e=>(t,a)=>{e(t,a)}),[],[(0,l.useSharedFacet)(Hc)]),i=QX(),c=(0,r.useCallback)((()=>{o(e.id,e.instanceId),n.goBack()}),[e,o,n]),s=(0,r.useRef)(null),u=(0,l.useFacetCallback)((()=>e=>{if(!e.repeat&&null!=s.current){const t=s.current;e.keyCode==fe.HOME?t.scrollTop=0:e.keyCode==fe.END&&(t.scrollTop=t.scrollHeight)}}),[s],[]);(0,r.useEffect)((()=>(window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u)})),[u]);const d=e.header,m=e.body,f=KX(e,"Primary"),g=XX(e,hq),E=qX(e,hq,t(".continue")),h=null!=g,b=zr()({[Eq.modalNarrow]:"narrow"===a,[Eq.modalTablet]:"tablet"===a,[Eq.modalDesktop]:"desktop"===a}),v=zr()(Eq.imageSlot,{[Eq.imageSlotNarrow]:"narrow"===a,[Eq.imageSlotTablet]:"tablet"===a,[Eq.imageSlotDesktop]:"desktop"===a}),y=zr()(Eq.textContent,{[Eq.textContentNarrow]:"narrow"===a,[Eq.textContentTablet]:"tablet"===a,[Eq.textContentDesktop]:"desktop"===a}),F=zr()(Eq.bodyText,{[Eq.bodyTextNarrow]:"narrow"===a});return r.createElement(fq,{onOverlayClick:c,className:b,narrationText:d,narrationSuffix:m,delegateFocusByAlias:hq,wideGridWidth:12,wideGridMargin:0,narrowGridWidth:8,narrowGridMargin:0},r.createElement(fq.Body,{onCloseButtonClick:c,className:zr()(Eq.contentRow,Eq.modalBody)},r.createElement("div",{className:v},r.createElement(KP,{className:Eq.image,gifSrc:f,imageSrc:f,aspectRatio:{height:9,width:16}})),r.createElement(Nm,{size:5}),r.createElement("div",{className:y},r.createElement(zm,{type:"header5A",className:Eq.title},d),r.createElement(Nm,{size:2}),r.createElement("div",{className:Eq.scrollBox},r.createElement(jf,{innerRef:s,emptyFocusableNarrationText:m,scrollbarClassName:Eq.scrollBar,floating:!0},r.createElement(zm,{type:"captionLong",whiteSpace:"preWrap",className:F},m))))),h&&r.createElement(fq.Footer,{role:"neutral60",className:Eq.footer},r.createElement(aq,{messageId:e.id,messageInstanceId:e.instanceId,unlockButton:g,unlockButtonText:E,onApply:i,onDismiss:o,styleType:e.style,inputLegend:t(".confirmInputLegend"),gamepadAlias:hq})))}const yq={hoverPointer:"bbb1d9190cfcad51d50c",wrapper:"dc89c759e8508ebd4fac",textColumn:"dfa098d63ee0705e8b80",wrapperHeroPadding:"af820cdadc685a088133",imageSlotRegular:"b781d3cb1bc569ff09f2",imageSlotHero:"ac53aa1d15461a9e5ba4",reverseWrapper:"c7584b28bfaabda84b82",footerButton:"d6c49b554856c71205e2",focusZIndex:"caa7f63a06e3ed5067d1",borders:"f8cf28f8b2055f48d7be"};function Fq(e,t,a,n){const{t:r}=Fc("Patchnote.narration");return(0,l.useFacetMap)(((e,t,a,n)=>[e,t,r(".textBlockRole"),a,n].filter((e=>null!=e)).join(" . ")),[r],[(0,l.useFacetWrap)(e),(0,l.useFacetWrap)(a),(0,l.useFacetWrap)(n),(0,l.useFacetWrap)(t)])}function Sq(){return Sq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Sq.apply(null,arguments)}let Cq;function Mq({heroPadding:e=!1,middleSpacing:t=5,displayContent:a,textContent:n,textSide:o,narrationText:i="",interactive:c=!0,showBorder:s=!0,gamepadAlias:u,className:d,role:m="neutral80"}){const p=wr(m),f=Od(60),g=(0,l.useFacetMap)(((e,t)=>zr()(yq.wrapper,p.border.base,p.background.base,{[yq.wrapperHeroPadding]:e&&"narrow"!=f,[yq.reverseWrapper]:t===Cq.Left,[yq.borders]:s},d)),[f,d,p.background.base,p.border.base,s],[(0,l.useFacetWrap)(e),(0,l.useFacetWrap)(o)]),E=zr()(yq.textColumn,{[yq.textColumnHero]:e}),h=r.createElement("fast-div",{className:g},r.createElement(Lp,{effect:"specular",bottom:!1}),a,r.createElement(Nm,{size:t}),r.createElement("fast-div",{className:E},n));return r.createElement(pr,{collection:yT},r.createElement(xl,{data:(0,l.useFacetWrap)(c)},(e=>e?r.createElement(Tm,{inputLegend:!1,gamepadAlias:u,narrationText:i,classNameFocused:kp,classNameHovered:yq.hoverPointer},r.createElement(wp,{inset:!0,className:yq.focusZIndex}),h):r.createElement(r.Fragment,null,h))))}!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(Cq||(Cq={}));const wq=function({textSide:e,imageSrc:t,gifSrc:a,title:n,subtitle:l,description:o,narrationInfix:i="",className:c,gamepadAlias:s,showBorder:u=!0,role:d="neutral80"}){const m=Fq(n,o,i,l);return r.createElement(Mq,{textSide:e,heroPadding:!0,displayContent:r.createElement("fast-div",{className:yq.imageSlotHero},r.createElement(KP,{gifSrc:a,imageSrc:t,aspectRatio:{width:16,height:9}})),textContent:r.createElement(r.Fragment,null,r.createElement(zm,{align:"center",type:"header5A"},n),null!=l&&r.createElement(r.Fragment,null,r.createElement(Nm,{size:3}),r.createElement(zm,{align:"center",type:"body"},l)),r.createElement(Nm,{size:3}),r.createElement(zm,{align:"center",type:"body"},o)),narrationText:m,className:c,gamepadAlias:s,showBorder:u,role:d})},kq=function({textSide:e,imageSrc:t,gifSrc:a,title:n,description:l,narrationInfix:o,className:i,gamepadAlias:c,showBorder:s=!0,role:u="neutral100"}){const d=Fq(n,l,o);return r.createElement(Mq,{textSide:e,displayContent:r.createElement("fast-div",{className:yq.imageSlotRegular},r.createElement(KP,{gifSrc:a,imageSrc:t,aspectRatio:{width:16,height:9}})),textContent:r.createElement(r.Fragment,null,r.createElement(zm,{align:"left",type:"header5B"},n),r.createElement(Nm,{size:3}),r.createElement(zm,{align:"left",type:"captionLong"},l)),narrationText:d,className:i,gamepadAlias:c,showBorder:s,role:u})},Tq=function({buttonProps:e,title:t,description:a,className:n,gamepadAlias:o,showBorder:i=!0,role:c="neutral80"}){const s=(0,l.useFacetMap)(((e,t)=>[e,t].filter((e=>null!=e)).join(" . ")),[],[(0,l.useFacetWrap)(t),(0,l.useFacetWrap)(e.children)]);return r.createElement(Mq,{interactive:!1,textSide:Cq.Left,textContent:r.createElement(r.Fragment,null,r.createElement(Nm,{size:3}),r.createElement(zm,{align:"left",type:"header5B"},t),r.createElement(Nm,{size:3}),r.createElement(zm,{align:"left",type:"body"},a),r.createElement(Nm,{size:3})),middleSpacing:1,displayContent:r.createElement("div",{className:yq.footerButton},r.createElement(Ug,Sq({horizontal:!0,narrationPrefix:s,narrationSuffix:a},e))),className:n,gamepadAlias:o,showBorder:i,role:c})};function Pq(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Iq(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pq(Object(a),!0).forEach((function(t){xq(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pq(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function xq(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Aq({data:e,i:t,totalPatches:a}){const{t:n}=Sc("GamedropContent"),o=n(".narration.enumeration",[`${2+t}`,`${a}`]),i=(0,l.useFacetMap)((e=>e.image.nonAnimatedUrl),[],[e]),c=(0,l.useFacetMap)((e=>e.image.animatedUrl),[],[e]),s=(0,l.useFacetMap)((e=>e.title),[],[e]),u=(0,l.useFacetMap)((e=>e.body),[],[e]);return r.createElement(kq,{key:t,textSide:t%2==0?Cq.Right:Cq.Left,narrationInfix:o,imageSrc:i,gifSrc:c,title:s,description:u,showBorder:!1})}function Oq({message:e,onButtonClick:t,scrollViewRef:a,hideOuterBorders:n=!1,role:o="neutral80"}){const i=wr(o),c=(0,l.useFacetWrap)(e),s=(0,l.useFacetMap)((e=>e.header),[],[c]),u=(0,l.useFacetMap)((e=>e.subtitle),[],[c]),d=(0,l.useFacetMap)((e=>e.body),[],[c]),m=(0,l.useFacetMap)((e=>e.images.find((e=>"Primary"===e.id))),[],[c]),p=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.nonAnimatedUrl)&&void 0!==t?t:""}),[],[m]),f=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.animatedUrl)&&void 0!==t?t:""}),[],[m]),g=(0,l.useFacetMap)((e=>e.gamedrop.footerTitle),[],[c]),E=(0,l.useFacetMap)((e=>e.gamedrop.footerBody),[],[c]),h=function(e,t){const a=(0,l.useFacetWrap)(e),n=(0,l.useFacetCallback)((e=>()=>{t(e)}),[t],[a]);return(0,l.useFacetMap)((e=>({gamepadAlias:"GamedropFooterButton",inputLegend:e.text,variant:"secondary",onClick:n,children:e.text})),[n],[a])}((0,l.useFacetMap)((e=>e.gamedrop.footerButton),[],[c]),t),b=zr()(i.border.base,"dd8d390944b2e684d5a8"),v=(0,l.useFacetMap)((e=>{var t;return zr()("ccadcf9417b508b428a6",{[null!==(t=i.border.base)&&void 0!==t?t:""]:!e,f26db613944c97eb165a:!e})}),[i.border.base],[(0,l.useFacetWrap)(n)]);return r.createElement("fast-div",{className:v},r.createElement(jf,{floating:!0,scrollbarClassName:"f8bef038f492ce7a2faa",innerRef:a},r.createElement(wq,{textSide:Cq.Right,imageSrc:p,gifSrc:f,title:s,subtitle:u,description:d,showBorder:!1}),r.createElement("div",{className:b}),r.createElement(l.Map,{array:(0,l.useFacetMap)((e=>e.gamedrop.patchnotes),[],[c])},((e,t,a)=>r.createElement(r.Fragment,null,r.createElement(Aq,{data:e,i:t,totalPatches:a}),r.createElement("div",{className:b})))),r.createElement(xl,{data:h},(e=>r.createElement(Tq,{title:g,description:E,buttonProps:e,showBorder:!1})))))}function Nq({message:e}){const t=(0,l.useFacetWrap)(e),a=(0,l.useFacetMap)((e=>Iq(Iq({},e),{},{header:e.title,body:e.content,subtitle:e.subtitle,gamedrop:e.gamedrop})),[],[t]),n=kK(e);return r.createElement(Oq,{onButtonClick:n,message:a})}const Rq="CallToAction",Lq="Dismiss";function _q({announcement:e}){const{t}=Fc("AnnouncementModalRoute");if(null==e)return r.createElement(ZX,{errorMessage:t(".errorNoMessage")});const a=e.header;return null!=e.body&&null!=a&&function(e){return"GameDrop"===e.template&&null!=e.gamedrop&&e.gamedrop.patchnotes.length>0&&null!=e.subtitle}(e)?r.createElement(Dq,{announcement:e}):r.createElement(ZX,{errorMessage:t(".errorInvalidTemplate")})}function Dq({announcement:e}){const{t}=Fc("AnnouncementModalRoute"),a=Od(),n=p(),o=(0,l.useFacetCallback)((e=>(t,a)=>{e(t,a)}),[],[(0,l.useSharedFacet)(Hc)]),i=QX(),c=(0,r.useCallback)((()=>{o(e.id,e.instanceId),n.goBack()}),[e,o,n]),s=(0,r.useRef)(null),u=(0,l.useFacetCallback)((()=>e=>{if(!e.repeat&&null!=s.current){const t=s.current;e.keyCode==fe.HOME?t.scrollTop=0:e.keyCode==fe.END&&(t.scrollTop=t.scrollHeight)}}),[s],[]);(0,r.useEffect)((()=>(window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u)})),[u]);const[d,m]=(0,r.useState)(!0),f=(0,r.useRef)(null),g=Wd(f);(0,l.useFacetLayoutEffect)((({height:e,width:t})=>{null!=f.current&&m(e/t<.35)}),[],[g]);const E=e.header,h=e.subtitle,b=e.body,v=XX(e,Rq),y=qX(e,Rq,t(".continue")),F=XX(e,Lq),S=qX(e,Lq,t(".continue")),C=[null==F?void 0:F.description,t(".narration.enumeration",["1","2"])].join(" . "),M=function(e,t=!0){const a=(0,l.useFacetWrap)(e),n=(0,l.useFacetMap)((e=>e.id),[],[a]),r=(0,l.useFacetMap)((e=>e.instanceId),[],[a]),o=QX();return(0,l.useFacetCallback)(((e,a,n)=>r=>{o(e,a,r),t&&n(e,a)}),[o,t],[n,r,(0,l.useSharedFacet)(Hc)])}(e);return r.createElement(fq,{onOverlayClick:c,narrationText:E,narrationSuffix:`${h} . ${b}`,delegateFocusByAlias:Rq,wideGridWidth:12,narrowGridWidth:8},r.createElement(fq.Body,{onCloseButtonClick:c,hideCloseButton:!0,disableSpecular:!0,outerRef:f,className:"narrow"===a||d?"b19c985a42d71e532958":"ede699833e1fa38cbd01"},r.createElement("div",{className:"narrow"===a||d?"f2a90eb561d27074b643":"c3934d3a7be9318f234a"},r.createElement(Oq,{hideOuterBorders:!0,onButtonClick:M,message:e,scrollViewRef:s}))),r.createElement(fq.Footer,{role:"neutral",className:"f86fc83d9920583b582e"},r.createElement(Ug,{inputLegend:t(".confirmInputLegend"),variant:"secondary",onClick:()=>{null!=F&&i(e.id,e.instanceId,F),c()},horizontal:!0,narrationSuffix:C},S),v&&r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(aq,{messageId:e.id,messageInstanceId:e.instanceId,unlockButton:v,unlockButtonText:y,onApply:i,onDismiss:o,styleType:e.style,inputLegend:t(".confirmInputLegend"),gamepadAlias:Rq,horizontal:!0,narrationSuffix:`${t(".narration.enumeration",["2","2"])} . ${v.description}`,className:"a7bc3363820f0a5a7989"}))))}function Wq({template:e,message:t}){const{t:a}=Fc("AnnouncementModalRoute"),n=(0,l.useFacetUnwrap)(e),o=(0,l.useFacetUnwrap)(t);if(n==l.NO_VALUE||o==l.NO_VALUE)return null;switch(n){case"ImageText":return r.createElement(eq,{announcement:o});case"ImageThumbnailCTA":return r.createElement(oq,{announcement:o});case"HeroImageCTA":case"HeroImageCTA_RealmsLink":return r.createElement(sq,{announcement:o});case"ShowcaseAnnouncementCTA":case"ShowcaseAnnouncementNoCTA":return r.createElement(bq,{announcement:o});case"GameDrop":return r.createElement(_q,{announcement:o});default:return r.createElement(ZX,{errorMessage:a(".errorUnsupportedTemplate")})}}function Bq(){const{t:e}=Fc("AnnouncementModalRoute"),t=el(),a=(0,l.useSharedFacet)(Vc(t.id)),n=(0,l.useFacetMap)((e=>e.message),[],[a]),o=(0,l.useFacetMap)(((e,t)=>e.isLoaded&&null!=t),[],[a,n]),i=(0,l.useFacetMap)(((e,t)=>e.isLoaded&&null==t),[],[a,n]),c=(0,l.useFacetMap)((e=>null==e?void 0:e.template),[],[n]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:o},r.createElement(Wq,{template:c,message:n})),r.createElement(l.Mount,{when:i},r.createElement(ZX,{errorMessage:e(".errorNoMessage")})))}const Uq=a.p+"assets/Feedback-ecfce4d670046c25d3df.png",zq=a.p+"assets/Invites-6a62211ac071c98b2994.png",Hq=a.p+"assets/MarketplacePass-8eb08ee1dd714dd15307.png",jq=a.p+"assets/News-f81489154ff3c38f5b5f.png",Vq=a.p+"assets/Realms-c7419af9abd527149fcc.png";function Gq(e){switch(e){case bK.FEEDBACK:return Uq;case bK.INVITES:return zq;case bK.MARKETPLACEPASS:return Hq;case bK.NEWS:return jq;case bK.REALMS:return Vq;default:return""}}function $q({setScrollTo:e}){const{t}=Fc("InboxRoute"),a=tv(Zi)?MK:CK,n=(0,l.useFacetMap)((e=>xk(e.platform)),[],[(0,l.useSharedFacet)(dl)]),o=(0,l.useFacetMap)((e=>e.platform===Qe.AMAZON_HANDHELD),[],[(0,l.useSharedFacet)(dl)]),i=(0,l.useFacetMap)((e=>e.marketplacePassSubscriber),[],[(0,l.useSharedFacet)(yK)]),c=(0,l.useFacetMap)(((e,a,n,r,l)=>function(e,t,a,n,r){const l=[];return n.forEach((n=>{const o=n.category===bK.INVITES?r.showInvitesBadges:r.showMessageBadges;(n.category!==bK.MARKETPLACEPASS||t)&&(n.category!==bK.FEEDBACK||a)&&l.push({displayName:n.name?n.name:e("."+n.category),imageUrl:n.imageUrl?n.imageUrl:Gq(n.category),imageId:n.category+"Icon",value:n.category,count:n.unreadCount,shouldShowBadge:o,telemetryButtonName:"Inbox_"+n.category+"_Button"})})),l}(t,l||!r,!n,e,{showMessageBadges:a.showMessageBadges,showInvitesBadges:a.showInvitesBadges})),[t],[(0,l.useSharedFacet)(a),(0,l.useSharedFacet)(wK),n,o,i]),s=(0,l.useFacetMap)(((e,t)=>0===e.length||t),[],[c,(0,l.useIsDeferring)()]);return r.createElement(Sx,{loading:s},r.createElement(Sx.ItemList,{items:c,renderItem:({item:t})=>function({item:e,setScrollTo:t}){const a=p(),{t:n}=Fc("InboxRoute"),o=el(),i=(0,l.useFacetMap)((e=>e.displayName),[],[e]),c=vd(),s=(0,l.useFacetMap)((e=>o.tab===e.value),[o],[e]);return r.createElement(l.DeferredMount,null,r.createElement(Sx.ListItem,{narrationText:i,onSelect:(0,l.useFacetCallback)((e=>()=>{e.value!==o.tab&&(t&&t(0),c({button:e.telemetryButtonName,screen:"Inbox"}),a.replace(`/inbox/${e.value}`))}),[o,a,c,t],[e]),value:(0,l.useFacetMap)((e=>e.value),[],[e]),selected:s,inputLegend:n(".select")},r.createElement(Sx.ItemCell,null,r.createElement(HA,{iconSrc:(0,l.useFacetMap)((e=>e.imageUrl),[],[e]),selected:s})),r.createElement(Sx.ItemMain,null,r.createElement(zm,{type:"body"},i)),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.count>0&&e.shouldShowBadge),[],[e])},r.createElement(Sx.ItemCell,{margin:"start"},r.createElement(_y,{role:"destructiveTint"},(0,l.useFacetMap)((e=>`${e.count}`),[],[e]))))))}({item:t,setScrollTo:e})}))}const Kq=a.p+"assets/trash-4fd680d99505bfaf6df8.png",Yq=e=>({messageId:e.id,messageType:e.inboxCategory,messageRead:e.read.toString()}),Xq="invite-expired-modal-ok",qq=yp((({item:e,onClose:t})=>{const{t:a}=Fc("Realms.InviteExpiredModals"),n=vp(),o=(0,l.useFacetCallback)(((e,a)=>()=>{e.rejectInvitation(a.instanceId),t(),n()}),[n,t],[(0,l.useSharedFacet)(yK),e]);return r.createElement($E,{defaultFocusAlias:Xq},r.createElement($E.Header,null,a(".header")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:a(".message")},a(".message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:Xq,gamepadIndex:0,inputLegend:a(".ok"),variant:"secondary",onClick:o},a(".ok"))))})),Qq="delete-inbox-message-confirm",Zq=yp((function({item:e}){const{t}=Fc("InboxRoute.deleteConfirmation"),a=vp(),n=vd(),o=(0,l.useFacetCallback)((t=>()=>{t.deleteNotification(e.id,e.instanceId),n({button:"MessageAction_Delete",screen:"Inbox",details:Yq(e)})}),[e,n],[(0,l.useSharedFacet)(yK)]);return r.createElement($E,{defaultFocusAlias:Qq},r.createElement($E.Header,{onClose:a},t(".header")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:t(".dialogText")},t(".dialogText"))),r.createElement($E.Buttons,null,r.createElement(Ug,{variant:"destructive",gamepadIndex:0,gamepadAlias:Qq,inputLegend:t(".deleteConfirm"),autofocus:!0,onClick:()=>{o(),a()}},t(".deleteConfirm")),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:1,inputLegend:t(".cancel"),onClick:a},t(".cancel"))))}));function Jq({invite:e,daysLeft:t}){const{t:a}=Fc("InboxRoute"),n=(0,l.useFacetMap)(((e,t)=>{switch(e.invStatus){case hK.ACCEPTED:return"primaryTint";case hK.REJECTED:return"neutral100";case hK.EXPIRED:return"noticeTint";case hK.NONE:if(null!=t&&e.inboxCategory!==bK.INVITES)return t<=0?"noticeTint":"informativeTint";default:return"noticeTint"}}),[],[e,t]),o=(0,l.useFacetMap)(((e,t)=>{switch(e.invStatus){case hK.ACCEPTED:return a(".accepted");case hK.REJECTED:return a(".rejected");case hK.EXPIRED:return a(".expired");default:return null!=t&&e.inboxCategory!==bK.INVITES?t<=0?a(".expired"):t<1?a(".endsToday"):a(".endsSoon",[`${t}`]):""}}),[a],[e,t]),i=(0,l.useFacetMap)(((e,t)=>e.invStatus!=hK.NONE||null!=t),[],[e,t]);return r.createElement(l.Mount,{when:i},r.createElement(_y,{role:n},o))}function eQ({item:e}){return r.createElement(tw,{defaultFocusedChildBehavior:"grid"},r.createElement(tQ,{item:e}),r.createElement(aQ,{item:e}))}const tQ=({item:e})=>{const t=p(),{t:a}=Fc("InboxListItem"),{t:n}=Fc("InboxListItem.narration"),o=(0,l.useFacetMap)((e=>e.expiryDaysLeft),[],[e]),i=vd(),c=(0,l.useFacetCallback)((e=>()=>{i({button:"MessageAction_View",screen:"Inbox",details:Yq(e)}),t.push(`/message/${e.id}/${e.instanceId}/`)}),[t,i],[e]),s=(0,l.useFacetMap)((e=>e.title),[],[e]),u=(0,l.useFacetMap)((e=>e.read),[],[e]),d=(0,l.useFacetMap)((e=>e.sender),[],[e]),m=(0,l.useFacetMap)((e=>e.inboxCategory),[],[e]),f=(0,l.useFacetMap)(((e,t,a,r)=>[e,t,n(!1===a?".unreadPost":".readPost"),""!==r?n(".postedBy",[r]):"",e!==bK.INVITES?n(".buttonSiblings",["1","2"]):n(".buttonSiblings",["1","3"])].filter((e=>null!=e&&""!==e)).join(" . ")),[n],[m,s,u,d]);return r.createElement(tw.Action,{inputLegend:a(".view"),narrationText:f,onClick:c,gamepadIndex:0},r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.invStatus===hK.NONE&&e.invType!=EK.NONE||!e.read&&e.inboxCategory!=bK.INVITES),[],[e])},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(tw.Cell,null,r.createElement(iF,null)),r.createElement(Nm,{size:1}))),r.createElement(tw.Main,null,r.createElement(zm,{type:"body"},r.createElement(xm,null,(0,l.useFacetMap)((e=>e.title),[],[e]))),r.createElement(zm,{type:"captionShort",variant:"dimmer"},r.createElement(xm,null,(0,l.useFacetMap)((e=>e.sender),[],[e])))),r.createElement(tw.Cell,null,r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.inboxCategory!=bK.INVITES),[],[e])},r.createElement(zm,{type:"body",variant:"dimmer"},r.createElement(xm,null,(0,l.useFacetMap)((e=>e.dateString),[],[e])))),r.createElement(Jq,{invite:e,daysLeft:o})),r.createElement(Nm,{size:1}))},aQ=({item:e})=>{const{t}=Fc("InboxListItem"),{t:a}=Fc("InboxListItem.narration"),n=wr("inherit"),o=Zq.useShowModal(),i=vd(),c=nB((0,l.useFacetMap)((e=>e.worldId),[],[e])),s=p(),u=(0,l.useSharedFacet)(yK),[d,m]=(0,l.useFacetState)(!1),f=(0,l.useFacetCallback)(((e,t,a)=>()=>{a||(t.acceptInvitation(e.instanceId),m(!0),i({button:"MessageAction_AcceptInvite",screen:"Inbox",details:Yq(e)}))}),[i,m],[e,u,d]),g=(0,l.useFacetCallback)(((e,t)=>()=>{t.rejectInvitation(e.instanceId),i({button:"MessageAction_RejectInvite",screen:"Inbox",details:Yq(e)})}),[i],[e,u]),E=(0,l.useFacetCallback)(((e,t)=>()=>{s.push(t),i({button:"MessageAction_Realms",screen:"Inbox",details:Yq(e)})}),[s,i],[e,c]),h=(0,l.useFacetCallback)((e=>()=>{o({item:e})}),[o],[e]),b=(0,l.useFacetMap)((e=>e.invStatus==hK.JOIN&&e.invType==EK.REALMS||e.invStatus==hK.ACCEPTED&&e.invType==EK.REALMS),[],[e]),v=(0,l.useFacetMap)((e=>e?["3","3"]:["2","2"]),[],[b]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.invStatus==hK.NONE&&e.invType!=EK.NONE),[],[e])},r.createElement(r.Fragment,null,r.createElement(tw.AdditionalAction,{gamepadIndex:0,narrationText:[a(".accept"),a(".buttonSiblings",["2","3"])].join(" . "),inputLegend:t(".accept"),onClick:f},r.createElement(og,null),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"captionTiny"},t(".accept"))),r.createElement(tw.AdditionalAction,{gamepadIndex:3,narrationText:[a(".reject"),a(".buttonSiblings",["3","3"])].join(" . "),inputLegend:t(".reject"),onClick:g},r.createElement(of,null),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"captionTiny"},t(".reject"))))),r.createElement(l.Mount,{when:b},r.createElement(tw.AdditionalAction,{gamepadIndex:1,inputLegend:t(".join"),narrationText:[t(".join"),a(".buttonSiblings",["2","3"])].join(" . "),onClick:E},r.createElement(gK,null),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"captionTiny"},t(".join")))),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.invStatus!=hK.NONE||e.invType==EK.NONE),[],[e])},r.createElement(tw.AdditionalAction,{gamepadIndex:3,narrationText:(0,l.useFacetMap)((e=>[a(".delete"),a(".buttonSiblings",e)].join(" . ")),[a],[v]),inputLegend:t(".delete"),onClick:h},r.createElement(Qp,{src:Kq,className:zr()("ab8612fa282f85622612",n.icon)}),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"captionTiny"},t(".delete")))),r.createElement(l.Mount,{when:(0,l.useFacetMap)(((e,t)=>t&&e.invStatus===hK.EXPIRED),[],[e,d])},r.createElement(qq.Component,{item:e,onClose:()=>m(!1)})))},nQ=a.p+"assets/Feedback-f094908efcd587627365.png",rQ=a.p+"assets/NoNews-191af6af0ccecf0a8f31.png",lQ=a.p+"assets/NoRealmsInvites-3af80e6a84c1c6ea0b93.png",oQ=a.p+"assets/NoRealmsNews-ed60424dec0bbf91d423.png",iQ="c4efde010b75d43947fa",cQ="f084ca16e52768164632";function sQ({data:e,scrollTo:t,setScrollTo:a,scrollLoadThreshold:n=.75}){const o=(0,l.useFacetMap)((e=>e.history.length>0||e.recent.length>0),[],[e]),i=(0,l.useFacetMap)((e=>e.category==bK.FEEDBACK),[],[e]),c=(0,l.useFacetMap)((e=>e.category),[],[e]),s=(0,l.useFacetWrap)(0),u=null!=t?t:s,{t:d}=Fc("InboxSectionList"),m=(0,l.useFacetMap)((e=>e.realmsSubscriber),[],[(0,l.useSharedFacet)(yK)]),p=(0,r.useRef)(null),[f,g]=(0,l.useFacetState)(void 0),E=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{const r=null==p?void 0:p.current;if(!r)return;const l=function(e,t,a){return(t-e)*a}(r.getBoundingClientRect().height,r.scrollHeight,n);r.scrollTop>=l&&(null==a||a<l)&&e.requestMessages(t),g(r.scrollTop)}),[g],[(0,l.useSharedFacet)(yK),c,f,(0,l.useFacetWrap)(n)]);(0,l.useFacetEffect)((()=>{const e=null==p?void 0:p.current;return()=>{const t=null==e?void 0:e.scrollTop;null!=a&&null!=t&&a(t)}}),[a],[e]),(0,l.useFacetLayoutEffect)((e=>{const t=null==p?void 0:p.current;t&&(t.scrollTop=e)}),[],[u]);const h=(0,r.useRef)(null),[b,v]=(0,l.useFacetState)(0),y=(0,r.useCallback)((({height:e})=>v(e)),[v]);return Bd(h,y),r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:i},r.createElement(dQ,null)),r.createElement(l.Mount,{when:o},r.createElement("div",{className:"c0f1ce4d0368efb1a2f1",ref:h},r.createElement(IF,{data:(0,l.useFacetMap)((e=>[{role:"neutral",title:d(".recent"),data:e.recent},{role:"neutral",title:d(".history"),data:e.history}]),[d],[e]),renderItem:e=>r.createElement(pQ,{item:e}),footer:r.createElement(LE.Space,{extraSpace:r.createElement(Nm,{size:1})}),containerSizePixels:b,rowSizeInRem:7,scrollRef:p,onScroll:E}))),r.createElement(l.Mount,{when:o,condition:!1},r.createElement(mQ,{value:c,realmsSubscriber:m})))}function uQ({value:e,t,historyAPI:a,state:n}){return r.createElement(xl,{data:e},(e=>{switch(e){case bK.NEWS:return r.createElement(_v,{autofocus:!0,gamepadIndex:0,title:t(".emptyNewsTitle"),text:t(".emptyNewsText"),imgSrc:rQ,imgClass:iQ});case bK.INVITES:return r.createElement(_v,{autofocus:!0,gamepadIndex:0,title:t(".emptyInvitesTitle"),text:t(".emptyInvitesText"),imgSrc:lQ,imgClass:iQ});case bK.REALMS:return r.createElement(_v,{autofocus:!0,gamepadIndex:0,title:t(".emptyRealmSubTitle"),text:t(".emptyRealmSubText"),imgSrc:oQ,imgClass:iQ});case bK.MARKETPLACEPASS:return r.createElement(xl,{data:n},(e=>"subscribePromptWithLearnMoreButton"==e?r.createElement(_v,{autofocus:!0,gamepadIndex:0,title:t(".emptyMarketplacePassSubscribePromptTitle"),text:t(".emptyMarketplacePassSubscribePromptText"),imgSrc:oQ,imgClass:iQ,buttons:[{text:t(".emptyMarketplacePassLearn"),inputLegend:t(".select"),onClick:()=>a.push("/csb-pdp/?tab=csb"),variant:"primary"}]}):"subscribePrompt"==e?r.createElement(_v,{autofocus:!0,gamepadIndex:0,title:t(".emptyMarketplacePassSubscribePromptTitle"),text:t(".emptyMarketplacePassSubscribePromptText"),imgSrc:oQ,imgClass:iQ}):r.createElement(_v,{autofocus:!0,gamepadIndex:0,title:t(".emptyMarketplacePassTitle"),text:t(".emptyMarketplacePassText"),imgSrc:rQ,imgClass:iQ})));case bK.FEEDBACK:return r.createElement(_v,{autofocus:!0,gamepadIndex:0,title:t(".feedbackSubTitle"),text:"",imgSrc:nQ,imgClass:iQ});default:return r.createElement(_v,{autofocus:!0,gamepadIndex:0,title:t(".emptyMessageTitle"),text:t(".emptyMessageText"),imgSrc:rQ,imgClass:iQ})}}))}function dQ(){const{t:e}=Fc("InboxRoute"),t=(0,l.useSharedFacet)(zu),a=(0,l.useFacetCallback)((e=>()=>e.openLink(Uu.PlayerFeedbackMain)),[],[t]),n=(0,l.useFacetCallback)((e=>()=>e.openLink(Uu.PlayerFeedbackIdeas)),[],[t]);return r.createElement(r.Fragment,null,r.createElement("div",{className:"e1c7d9ba126a9a2e8294"},r.createElement("div",{className:cQ},r.createElement(Ug,{inputLegend:e(".feedbackMainButton"),onClick:a,Icon:xM.ExternalLink,gamepadIndex:0},e(".feedbackMainButton"))),r.createElement(Nm,{size:2}),r.createElement("div",{className:cQ},r.createElement(Ug,{inputLegend:e(".feedbackIdeasButton"),onClick:n,Icon:xM.ExternalLink,gamepadIndex:1},e(".feedbackIdeasButton")))),r.createElement(Nm,{size:2}))}function mQ({value:e,realmsSubscriber:t}){const{t:a}=Fc("InboxRoute"),n=Jr(),o=(0,l.useFacetMap)((e=>e.platform===Qe.AMAZON_HANDHELD),[],[(0,l.useSharedFacet)(dl)]),i=(0,l.useFacetMap)((e=>e.marketplacePassSubscriber),[],[(0,l.useSharedFacet)(yK)]),c=(0,l.useFacetMap)((e=>e.isAnyBeta),[],[(0,l.useSharedFacet)(wi)]),s=(0,l.useFacetMap)(((e,t,a)=>t||e?t?"general":"undefined":a?"subscribePrompt":"subscribePromptWithLearnMoreButton"),[],[o,i,c]),u=(0,l.useFacetMap)(((e,t)=>e==bK.REALMS&&!t),[],[e,t]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:u,condition:!0},r.createElement(r.Fragment,null,r.createElement(pr,{collection:bT},r.createElement(_v,{autofocus:!0,gamepadIndex:0,title:a(".emptyRealmNoSubTitle"),text:a(".emptyRealmNoSubText"),imgSrc:oQ,imgClass:iQ,buttons:[{text:a(".learn"),inputLegend:a(".select"),onClick:()=>n.push("/realms-plus-pdp?tab=default"),variant:"primary"}]})))),r.createElement(l.Mount,{when:u,condition:!1},r.createElement(r.Fragment,null,r.createElement(uQ,{value:e,t:a,historyAPI:n,state:s}))))}function pQ({item:e}){const t=(0,l.useFacetMap)((e=>e.isHeader?l.NO_VALUE:e),[],[e]),a=(0,l.useFacetMap)((e=>e.data),[],[t]);return r.createElement(eQ,{item:a})}const fQ=a.p+"assets/GenericEmptyState-45ab1891ec2f3d291016.png";function gQ(){const e=Jr(),t=el(),{t:a}=Fc("InboxRoute"),n=dy({wide:8,narrow:6,width:260}),o=(0,l.useFacetMap)((e=>e.messagingServiceFailed),[],[(0,l.useSharedFacet)(yK)]),i=tv(Zi)?MK:CK;(0,l.useFacetEffect)((a=>{null==t.tab&&a.length>0&&(e.replace(`/inbox/${a[0].category}`),t.tab=a[0].category)}),[t,e],[(0,l.useSharedFacet)(i)]);const c=(0,l.useFacetMap)((e=>0===e.length),[],[(0,l.useSharedFacet)(i)]),[s,u]=(0,l.useFacetState)(0);return r.createElement(av,null,r.createElement(yv,{onBackButton:e.goBack,center:r.createElement(zm,{type:"header5A"},a(".header")),right:r.createElement(yv.MenuButton,{type:"filter",gamepadIndex:2,onClick:()=>{e.push("/inbox-settings")},narrationText:a(".settingsButton"),"data-testid":"inbox-route-navigation-button",disabled:o}),gamepadAlias:"inbox-route"},r.createElement(Cv,{narrowBreakpointWidth:102},r.createElement(Nm,{size:2}),r.createElement(l.Mount,{when:o},r.createElement(Cv.Column,{narrowSize:6,wideSize:8},r.createElement(_v,{title:a(".messagingServiceFailure"),text:a(".messagingServiceFailureBody"),imgSrc:fQ,imgClass:n?"ff6d7fa330d2b3155cf2":"bbfeed191dbe74334189"}))),r.createElement(l.Mount,{when:o,condition:!1},r.createElement(Cv.Row,{gamepadIndex:0,fullHeight:!0},r.createElement(Cv.Column,{wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{gamepadIndex:0,wideSize:3,narrowSize:2},r.createElement($q,{setScrollTo:u})),r.createElement(Cv.Column,{gamepadIndex:1,wideSize:7,narrowSize:6},r.createElement(l.Mount,{when:c},r.createElement(Ry,{tab:void 0,component:()=>r.createElement(jf,{loading:!0,children:r.createElement(r.Fragment,null)})})),r.createElement(l.Map,{array:(0,l.useSharedFacet)(i)},(e=>r.createElement(xl,{data:e},(t=>r.createElement(Ry,{tab:t.category,component:()=>r.createElement(sQ,{data:e,scrollTo:s,setScrollTo:u})})))))),r.createElement(Cv.Column,{wideSize:1,narrowSize:0}))),r.createElement(Nm,{size:2}))))}const EQ="delete-read-inbox-message-confirm",hQ=yp((function(){const{t:e}=Fc("InboxSettingsRoute.deleteReadConfirmation"),t=vp(),a=vd(),n=(0,l.useFacetCallback)((e=>()=>{e.deleteAllRead(),a({button:"DeleteAllRead",screen:"Inbox"}),t()}),[t,a],[(0,l.useSharedFacet)(yK)]);return r.createElement($E,{defaultFocusAlias:EQ},r.createElement($E.Header,{onClose:t},e(".header")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:e(".dialogText")},e(".dialogText"))),r.createElement($E.Buttons,null,r.createElement(Ug,{variant:"destructive",gamepadIndex:0,gamepadAlias:EQ,inputLegend:e(".deleteConfirm"),autofocus:!0,onClick:n},e(".deleteConfirm")),r.createElement(Nm,{size:1}),r.createElement(Ug,{gamepadIndex:1,inputLegend:e(".cancel"),onClick:t},e(".cancel"))))}));function bQ(){const e=Jr(),t=Od(),a=(0,l.useSharedFacet)(yK),n=vd(),o="neutral80",i=wr(o),c=hQ.useShowModal(),s=(0,l.useFacetMap)((e=>e.settings.showOnlyFriendInvites),[],[a]),u=(0,l.useFacetMap)((e=>e.settings.showInvitesBadges),[],[a]),d=(0,l.useFacetMap)((e=>e.settings.showMessageBadges),[],[a]),m=(0,l.useFacetCallback)((e=>()=>{e.settings.toggleOnlyFriendInvites(),e.reloadInvites()}),[],[a]),p=(0,l.useFacetCallback)((e=>()=>e.settings.toggleMessageBadges()),[],[a]),f=(0,l.useFacetCallback)((e=>()=>e.settings.toggleInvitesBadges()),[],[a]),{t:g}=Fc("InboxSettingsRoute"),E=(0,l.useFacetCallback)((t=>()=>{t.saveSettings(),e.goBack()}),[e],[a]);return r.createElement(Zn,{role:o},r.createElement(av,null,r.createElement(yv,{onBackButton:E,center:r.createElement(zm,{type:"header5A"},g(".title")),gamepadAlias:"inbox-settings-route",footer:r.createElement(LE.Space,{extraSpace:r.createElement(Nm,{size:1})})},r.createElement(jf,{gamepadIndex:0},r.createElement(Cv,null,"desktop"===t&&r.createElement(Nm,{size:2}),r.createElement(Cv.Row,{gamepadIndex:0},r.createElement(Cv.Column,{wideSize:1,narrowSize:1}),r.createElement(Cv.Column,{gamepadIndex:1,wideSize:10,narrowSize:6},r.createElement(Nm,{size:2}),r.createElement("fast-div",{className:zr()(i.border.base,i.background.base,"d6246b46c503ed178218")},r.createElement(My,{title:g(".onlyShowFriends"),value:s,onChange:m}),r.createElement(nO,{title:g(".categories"),description:g(".categoriesDescription")}),r.createElement(My,{title:g(".showMessages"),value:d,onChange:p}),r.createElement(My,{title:g(".showInvites"),value:u,onChange:f}),r.createElement(Fg,null,r.createElement(Ug,{gamepadIndex:5,onClick:(0,l.useFacetCallback)((e=>()=>{e.markAllRead(),n({button:"MarkAllRead",screen:"Inbox"})}),[n],[a]),inputLegend:g(".markAllRead"),variant:"secondary"},g(".markAllRead")),r.createElement(Nm,{size:2}),r.createElement(Ug,{gamepadIndex:6,onClick:c,inputLegend:g(".deleteAllRead"),variant:"destructive"},g(".deleteAllRead")))),r.createElement(Nm,{size:2}))))))))}const vQ=a.p+"assets/ErrorImage-e99c7c0eefaf6be65529.png";let yQ;function FQ({errorType:e}){const{t}=Sc("InboxMessageDetailsError"),a=my({wide:8,narrow:6,width:260}),n=(0,l.useFacetWrap)(e),o=(0,l.useFacetMap)((e=>e?"bd89c42b79c92870b56f":"a263e97305d044ef1596"),[],[a]),i=(0,l.useFacetMap)((e=>e===yQ.MessageNotFound?r.createElement(_v,{title:t(".couldntFind"),text:t(".details"),imgSrc:vQ,imgClass:o}):r.createElement("div",null)),[o,t],[n]);return r.createElement(xl,{data:i},(e=>e))}var SQ;function CQ({message:e}){const t=(0,l.useFacetMap)((e=>e.invStatus===hK.NONE),[],[e]),a=(0,l.useFacetMap)((e=>e.invStatus===hK.ACCEPTED&&e.invType!==EK.GAME),[],[e]),n=(0,l.useFacetMap)((e=>e.invStatus===hK.JOIN&&e.invType!==EK.GAME),[],[e]),o=p(),i=(0,r.useRef)(!1);(0,l.useFacetEffect)((e=>{i.current&&e.invStatus==hK.REJECTED&&(i.current=!1,o.goBack())}),[o,i],[e]);const c=nB((0,l.useFacetMap)((e=>e.worldId),[],[e])),[s,u]=(0,l.useFacetState)(!1),d=(0,l.useFacetCallback)(((e,t,a,n)=>r=>{switch(r){case SQ.Accept:a||(t.acceptInvitation(e.instanceId),u(!0));break;case SQ.Reject:t.rejectInvitation(e.instanceId),i.current=!0;break;case SQ.Join:o.push(n);break;case SQ.Back:o.goBack();break;case SQ.ViewProfile:o.push(AI(e.senderXuid))}}),[o,u],[e,(0,l.useSharedFacet)(yK),s,c]);return r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(l.Mount,{when:t},r.createElement(wQ,{handleButtonClick:d,style:(0,l.useFacetMap)((e=>e.style),[],[e])})),r.createElement(l.Mount,{when:a},r.createElement(kQ,{handleButtonClick:d})),r.createElement(l.Mount,{when:n},r.createElement(kQ,{handleButtonClick:d})))}function MQ({message:e}){const{t}=Fc("InboxMessageDetailsRoute"),a=dn(),n=(0,l.useFacetMap)((e=>e.invType===EK.GAME),[],[e]),o=(0,l.useFacetMap)((e=>e.invType===EK.REALMS),[],[e]),i=(0,l.useFacetMap)(((e,a)=>t(a?".gameInvitationNote0":".invitationNote0",[e.sender])),[t],[e,n]),c=(0,l.useFacetMap)(((e,a)=>t(a?".gameInvitationRejectedMessage":".realmsInvitationRejectedMessage",[e.sender])),[t],[e,n]),s=(0,l.useFacetMap)((e=>e.invStatus==hK.REJECTED),[],[e]),u=t(".invitationRejectedMessageDetails"),d=(0,l.useFacetMap)((e=>e?[t(".invitationNote1"),t(".invitationNote2"),t(".invitationNote3"),t(".invitationNote4")]:[]),[t],[o]),m=(0,l.useFacetMap)(((e,t)=>[e,t.join(" . ")].join(" . ")),[],[i,d]),p=(0,l.useFacetMap)((e=>[e,u].join(" ")),[u],[c]),f=(0,l.useFacetMap)(((e,t,a)=>e?t:a),[],[s,p,m]);return r.createElement(Tm.Maybe,{isInteractive:a,narrationText:f},r.createElement(l.Mount,{when:s,condition:!1},r.createElement(r.Fragment,null,r.createElement(zm,{children:i,type:"paragraphs"}),r.createElement(Nm,{size:4}),r.createElement(l.Mount,{when:n,condition:!1},r.createElement(zm.List,{items:d})))),r.createElement(l.Mount,{when:s},r.createElement(r.Fragment,null,r.createElement(zm,{children:c,type:"paragraphs"}),r.createElement(Nm,{size:4}),r.createElement(zm,{children:u,type:"paragraphs"}))))}function wQ({handleButtonClick:e,style:t}){const{t:a}=Fc("InboxMessageDetailsRoute"),{t:n}=Fc("InboxMessageDetailsRoute.narration"),l=a(".accept"),o=a(".reject"),i=a(".viewProfile");return r.createElement(r.Fragment,null,r.createElement(Sx.Item,null,r.createElement(xl,{data:t},(t=>{const a=r.createElement(Ug,{narrationSuffix:n(".buttonSiblings",["1","3"]),inputLegend:l,isElevated:!0,variant:"primary",onClick:()=>e(SQ.Accept),"data-testid":"message-side-menu-accept"},l);return t===Bc.Realms?r.createElement(pr,{collection:bT},a):a}))),r.createElement(Nm,{size:2}),r.createElement(Sx.Item,null,r.createElement(Ug,{narrationSuffix:n(".buttonSiblings",["2","3"]),inputLegend:o,onClick:()=>e(SQ.Reject),isElevated:!0,variant:"secondary","data-testid":"message-side-menu-reject"},o)),r.createElement(Nm,{size:2}),r.createElement(Sx.Item,null,r.createElement(Ug,{narrationSuffix:n(".buttonSiblings",["3","3"]),inputLegend:i,onClick:()=>e(SQ.ViewProfile),isElevated:!0,variant:"secondary","data-testid":"message-side-menu-view-profile"},i)))}function kQ({handleButtonClick:e}){const{t}=Fc("InboxMessageDetailsRoute"),{t:a}=Fc("InboxMessageDetailsRoute.narration"),n=t(".join");return r.createElement(Sx.Item,null,r.createElement(pr,{collection:bT},r.createElement(Ug,{narrationSuffix:a(".buttonSiblings",["1","1"]),gamepadIndex:2,inputLegend:n,onClick:()=>e(SQ.Join),isElevated:!0,variant:"primary"},n)))}function TQ({message:e}){const t=(0,l.useFacetMap)((e=>e.content),[],[e]);return r.createElement(zm,{type:"paragraphs",whiteSpace:"preWrap",children:t})}!function(e){e[e.NoError=0]="NoError",e[e.MessageNotFound=1]="MessageNotFound"}(yQ||(yQ={})),function(e){e[e.Accept=0]="Accept",e[e.Reject=1]="Reject",e[e.Join=2]="Join",e[e.Back=3]="Back",e[e.ViewProfile=4]="ViewProfile"}(SQ||(SQ={}));const PQ=a.p+"assets/default-f00267f06b75f9f5f60e.png";function IQ({message:e}){const t=(0,l.useFacetMap)((e=>{var t,a;return null!==(t=null===(a=e.images[0])||void 0===a?void 0:a.isLoaded)&&void 0!==t&&t}),[],[e]),a=(0,l.useFacetMap)((e=>{var t,a;return""!=(null===(t=e.images[0])||void 0===t?void 0:t.nonAnimatedUrl)?null===(a=e.images[0])||void 0===a?void 0:a.nonAnimatedUrl:PQ}),[],[e]),n=(0,l.useFacetMap)((e=>{var t,a;return""!=(null===(t=e.images[0])||void 0===t?void 0:t.animatedUrl)?null===(a=e.images[0])||void 0===a?void 0:a.animatedUrl:PQ}),[],[e]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:t},r.createElement(r.Fragment,null,r.createElement(Nm,{size:5}),r.createElement("div",{className:"ceaaa3b6348980bdaa01"},r.createElement(KP,{gifSrc:n,imageSrc:a,aspectRatio:Qp.AspectRatio["16:9"]})),r.createElement(Nm,{size:5}))),r.createElement(TQ,{message:e}))}function xQ({item:e,index:t}){const{t:a}=Fc("InboxContentItem"),n=p(),o=(0,l.useFacetCallback)((e=>()=>{n.push("/marketplace?productId="+encodeURIComponent(e.id)+"&origin=Inbox")}),[n],[e]),i=(0,l.useFacetMap)((e=>e.button.description),[],[e]),c=(0,l.useFacetMap)((e=>e.button.text),[],[e]),s=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.image.isLoaded)&&void 0!==t&&t}),[],[e]),u=(0,l.useFacetMap)((e=>{var t,a;return(null===(t=e.image)||void 0===t?void 0:t.animatedUrl)||(null===(a=e.image)||void 0===a?void 0:a.nonAnimatedUrl)||PQ}),[],[e]),d=(0,l.useFacetMap)((e=>{var t,a;const n=null!==(t=null===(a=e.image)||void 0===a?void 0:a.imageSize)&&void 0!==t?t:{width:16,height:9};return n.width/n.height*5.2+"rem"}),[5.2],[e]),m=(0,l.useFacetMap)(((e,t)=>[t,e].filter((e=>null!=e&&""!==e)).join(" . ")),[],[i,c]),f=wr("neutral");return r.createElement("fast-div",{className:"ec0fbe68b521e1f481eb"},r.createElement(tw,{gamepadIndex:t},r.createElement(tw.Action,{inputLegend:a(".view"),narrationText:m,onClick:o,gamepadIndex:0,testId:`message-content-list-cta-${t}`},r.createElement(l.Mount,{when:s},r.createElement(tw.Cell,null,r.createElement(Qp,{src:u,height:"5.2rem",width:d,className:zr()(f.border.base,"b9b50b6899809a3a2d20")}))),r.createElement(Nm,{size:1}),r.createElement(tw.Main,null,r.createElement(zm,{type:"body"},c),r.createElement(zm,{type:"captionShort",variant:"dimmer"},i)))))}function AQ({message:e}){const t=(0,l.useFacetMap)((e=>e.content),[],[e]);return r.createElement(r.Fragment,null,r.createElement(zm,{type:"body",align:"left",variant:"dimmer",children:t}),r.createElement(Nm,{size:2}),r.createElement(l.Map,{array:(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.items)&&void 0!==t?t:[]}),[],[e])},((e,t)=>r.createElement(xQ,{item:e,index:t}))))}function OQ({message:e,children:t,title:a=(0,l.createStaticFacet)(""),imageIndex:n=0,fullHeight:o=!0,defaultImage:i=(0,l.createStaticFacet)(""),spacingAroundSideMenu:c=null,hideInputLegendSpace:s=!1}){const{t:u}=Fc("InboxMessageDetailsRoute"),d=(0,l.useFacetMap)(((e,t)=>""!=t?t:e.title),[],[e,a]),m=(0,l.useFacetMap)((e=>u(".from",[e.sender])),[u],[e]),p=(0,l.useFacetMap)((e=>e.dateString),[],[e]),f=(0,l.useFacetMap)((e=>{var t,a;return null!==(t=null===(a=e.images[n])||void 0===a?void 0:a.isLoaded)&&void 0!==t&&t}),[n],[e]),g=(0,l.useFacetMap)(((e,t,a)=>{var r,l;return""!=(null===(r=e.images[n])||void 0===r?void 0:r.nonAnimatedUrl)&&a?null===(l=e.images[n])||void 0===l?void 0:l.nonAnimatedUrl:t}),[n],[e,i,f]),E=(0,l.useFacetMap)(((e,t,a)=>{var r,l;return""!=(null===(r=e.images[n])||void 0===r?void 0:r.animatedUrl)&&a?null===(l=e.images[n])||void 0===l?void 0:l.animatedUrl:t}),[n],[e,i,f]),h=(0,l.useFacetMap)((e=>e.buttons),[],[e]),b=(0,l.useFacetMap)(((e,t,a)=>[t,a,e.dateString].join(" . ")),[],[e,d,m,a]),v=(0,l.useFacetMap)((e=>e.style),[],[e]);return r.createElement(Sx,{gamepadIndex:1,fullHeight:o,narrationPrefix:b,spacingAroundSideMenu:c,hideInputLegendSpace:s},r.createElement(Sx.Item,null,r.createElement(KP,{className:"d7f0230a6118f840c71a",gifSrc:E,imageSrc:g,aspectRatio:Qp.AspectRatio["16:9"]}),r.createElement(Nm,{size:2})),r.createElement(Sx.Item,null,r.createElement(zm,{type:"body",variant:"stronger"},d),r.createElement(zm,{type:"captionShort",variant:"dimmer"},m),r.createElement(zm,{type:"captionShort",variant:"dimmer"},p)),r.createElement(l.Map,{array:h},((t,a)=>r.createElement(NQ,{message:e,button:t,index:a,style:v}))),t)}function NQ({message:e,button:t,index:a,style:n}){const o=kK(e),i=(0,l.useFacetCallback)((e=>()=>o(e)),[o],[t]),c=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.text)&&void 0!==t?t:""}),[],[t]),s=(0,l.useFacetMap)((e=>e.action===Wc.EXTERNAL||e.action===Wc.INTERNAL),[],[t]);return r.createElement(l.Mount,{when:s},r.createElement(Sx.Item,null,r.createElement(Nm,{size:2}),r.createElement(xl,{data:t},(e=>r.createElement(xl,{data:n},(t=>{const n=r.createElement(Ug,{"data-testid":"message-side-menu-cta",inputLegend:c,gamepadIndex:a+1,onClick:i,Icon:()=>r.createElement(rB,{button:e}),variant:"primary",narrationPrefix:c},c);return t===Bc.Realms?r.createElement(pr,{collection:bT},n):n}))))))}const RQ=a.p+"assets/realmsDefaultImage-bd8bc1fd4dbca52f6f24.png",LQ=a.p+"assets/gameInviteDefaultImage-606308f839348a3442e8.png";function _Q(){return r.createElement(Cv,null,r.createElement(Cv.Row,null,r.createElement(Cv.Column,{narrowSize:0,wideSize:1}),r.createElement(Cv.Column,{narrowSize:8,wideSize:10},r.createElement(Nm,{size:4}),r.createElement(FQ,{errorType:yQ.MessageNotFound})),r.createElement(Cv.Column,{narrowSize:0,wideSize:1})))}function DQ({message:e}){const{t}=Fc("InboxMessageDetailsRoute"),a=(0,l.useFacetMap)((e=>e.inboxCategory==bK.INVITES),[],[e]),n=(0,l.useFacetMap)((e=>e.invType===EK.GAME),[],[e]),o=(0,l.useFacetMap)((e=>[vK.IMAGETEXT,vK.HEROIMAGECTA,vK.SHOWCASECTA,vK.SHOWCASENOCTA].includes(e.template)),[],[e]),i=(0,l.useFacetMap)((e=>e.template==vK.CONTENTLISTCTA||e.template==vK.CONTENTLISTNOCTA),[],[e]),c=(0,l.useFacetMap)((e=>e.template==vK.IMAGETNAILCTA),[],[e]),s=(0,l.useFacetMap)((e=>e.template==vK.GAMEDROP&&null!=e.gamedrop&&null!=e.subtitle),[],[e]);return(0,l.useFacetEffect)(((e,t)=>{e.read||e.inboxCategory==bK.INVITES||t.setNotificationRead(e.instanceId)}),[],[e,(0,l.useSharedFacet)(yK)]),r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:a},r.createElement(BQ,{message:e,content:MQ,title:(0,l.useFacetMap)((e=>t(e?".gameInvite":".realmInvite")),[t],[n]),imageDefault:(0,l.useFacetMap)((e=>e?LQ:RQ),[],[n])},r.createElement(CQ,{message:e}))),r.createElement(l.Mount,{when:a,condition:!1},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:o},r.createElement(BQ,{message:e,content:TQ})),r.createElement(l.Mount,{when:c},r.createElement(BQ,{message:e,content:IQ,imageIndex:1})),r.createElement(l.Mount,{when:i},r.createElement(BQ,{message:e,content:AQ})),r.createElement(l.Mount,{when:s},r.createElement(Nq,{message:e})))))}function WQ(){const{t:e}=Fc("InboxMessageDetailsRoute"),t=p(),{messageId:a,instanceId:n}=el(),o=f(),i=(0,l.useFacetMap)(((e,t)=>t?function(e,t,a){if(null!=a)return e.find((e=>e.id===t&&e.instanceId===a));{const a=e.filter((e=>e.id===t)).sort(((e,t)=>t.dateReceived-e.dateReceived));return a.length>0?a[0]:void 0}}(e.inboxMessages,a,n):l.NO_VALUE),[n,a],[(0,l.useSharedFacet)(yK),o]),c=(0,l.useFacetMap)((e=>null==e),[],[i]),s=(0,l.useFacetMap)((t=>e(t?".inbox":".details")),[e],[c]);return r.createElement(l.Mount,{when:o},r.createElement(av,null,r.createElement(yv,{onBackButton:t.goBack,center:r.createElement(zm,{type:"header5A"},s),gamepadAlias:"inbox-message-details-route",delegateByAlias:"inbox-message-details-scroll",footer:r.createElement(LE.Space,{extraSpace:r.createElement(Nm,{size:1})})},r.createElement(l.With,{data:i},(e=>r.createElement(DQ,{message:e}))),r.createElement(l.Mount,{when:c},r.createElement(_Q,null)))))}function BQ({children:e,message:t,content:a,title:n=(0,l.createStaticFacet)(""),imageIndex:o=0,imageDefault:i=(0,l.createStaticFacet)(PQ)}){const c=(0,r.useRef)(null),[s,u]=function(e){const t=(0,r.useRef)(!0),[a,n]=(0,r.useState)([]),o=(0,l.useFacetMap)(((e,t)=>[0,...e].map((e=>e*t))),[],[(0,l.useFacetWrap)([102]),(0,r.useContext)(Td)]);return(0,l.useFacetEffect)((e=>{const a=()=>{const t=window.innerWidth;return e.map(((e,a,n)=>a===n.length-1?t>=e:t>=e&&t<n[a+1]))},r=()=>n(a());return t.current&&(n(a()),t.current=!1),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)}),[n],[o]),a}(),d=wr(),m="neutral",p=zr()("fdae9d9a8d4720288fa8",d[m].background.base,{[`${d[m].border.base}`]:null!=d[m].border.base&&u,acf236fad1a068eed007:u}),f=(0,l.useFacetMap)((e=>e.content),[],[t]);return r.createElement(Cv,{noGutters:s,narrowBreakpointWidth:102},r.createElement(Cv.Row,{fullHeight:s},r.createElement(Cv.Column,{wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{wideSize:3,narrowSize:3},r.createElement(Yp,{containerRef:c},r.createElement("div",{ref:c,className:"e948429a66600408cfc4"},r.createElement(OQ,{message:t,imageIndex:o,fullHeight:s,children:e,title:n,defaultImage:i,spacingAroundSideMenu:s?null:r.createElement(Nm,{size:2}),hideInputLegendSpace:!0})))),r.createElement(Cv.Column,{wideSize:7,narrowSize:5},r.createElement(jf,{emptyFocusableNarrationText:f,floating:s,scrollIntoViewAlign:"start"},r.createElement("div",{className:zr()("bcb01ff6719fd0a23a53",s?"":"f4c54e50e7535e453bd2","b4de93608ad8719b2402")},r.createElement(Zf,{text:f},r.createElement("div",{className:zr()(p)},a({message:t})))))),r.createElement(Cv.Column,{wideSize:1,narrowSize:0})))}const UQ="bebf15cff50977cfd13f",zQ=a.p+"assets/capeIncentive-f3fad3d7f5c73717b013.png",HQ="CapeIncentiveReceivedTransientRoute";function jQ(){const e=(0,l.useSharedFacet)(zs),t=p(),{t:a}=Fc("CapeIncentiveReceivedTransientRoute"),n=vd(),o=(0,l.useFacetCallback)((e=>()=>{n({screen:HQ,button:"GoToDressingRoom"});const a=e.isPlayFabPreproductionEnvironment?"9adff32f-6a17-45bd-81fd-e0a975f737bd":"99ea16b5-87fa-4bf1-b84d-1a97af77e23d";t.replace(`/persona?itemId=${a}`)}),[t,n],[e]);return r.createElement(DK.Root,{gamepadAlias:"cape-incentive-received-transient-route",title:a(".title"),screenAnalyticsId:HQ,className:"ed046e23fc94f8146680",disableBackButton:!1},r.createElement(DK.Body,null,r.createElement(Cv,null,r.createElement(Cv.Row,{className:"c9688e92a59ec6b95f3b"},r.createElement(zm,{type:"body"},a(".title"))),r.createElement(Nm,{size:6}),r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:6,narrowSize:4},r.createElement("div",{className:zr()(UQ,"c29e69a750e58419b8df")},r.createElement(Qp,{className:"e8c2a7858bd6e1e56a82",src:zQ}))),r.createElement(Cv.Column,{wideSize:6,narrowSize:4},r.createElement("div",{className:UQ},r.createElement(zm,{type:"captionLong",shouldNarrate:!0},a(".text1")),r.createElement(Nm,{size:4}),r.createElement(zm,{type:"captionLong",shouldNarrate:!0},a(".text2"))))))),r.createElement(DK.Footer,null,r.createElement(Ug,{horizontal:!0,inputLegend:a(".dressingRoomButton"),onClick:o,"data-testid":"dressing-room-button",narrationSuffix:a(".buttonEnumeration",["1","2"])},a(".dressingRoomButton")),r.createElement(Nm,{size:3}),r.createElement(Ug,{horizontal:!0,onClick:()=>{n({screen:HQ,button:"Continue"}),t.goBack()},inputLegend:a(".continueButton"),variant:"primary","data-testid":"continue-button",narrationSuffix:a(".buttonEnumeration",["2","2"])},a(".continueButton"))))}const VQ=a.p+"assets/Sign-in_Cape-35b025b4df2549c188f1.png",GQ=a.p+"assets/Sign-in_Cape_Animated-0041adb0480f75855438.gif";function $Q({text:e,type:t="captionLong"}){return r.createElement(zm,{shouldNarrate:e,type:t,align:"left",indent:!0},(0,l.useFacetMap)((e=>`• ${e}`),[],[e]))}function KQ(){const e=p(),{t}=Fc("FirstTimeSignInRoute"),a="first-time-sign-in-button-alias",n=(0,l.useSharedFacet)(dl),o=vd(),i=tv(Qi),c=(0,l.useFacetMap)((e=>Tk(e.platform)?[t(".incentivizedSignInPromptFeature1"),t(".signInList4"),t(".signInList2PS"),t(".signInList3PS")]:[t(".incentivizedSignInPromptFeature1"),t(".signInList1"),t(".signInList2"),t(".signInList3"),t(".signInList4")]),[t],[n]),s=(0,l.useFacetCallback)((e=>()=>{e.openLink(Uu.SignInCapeTerms)}),[],[(0,l.useSharedFacet)(zu)]);return r.createElement(pV,{title:t(".signInHeader"),delegateFocusByAlias:a,leftContent:r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement("div",{className:"e07981c37c8548feabeb"},r.createElement(KP,{gifSrc:GQ,imageSrc:VQ,aspectRatio:{height:128,width:260},disableAnimation:i})),r.createElement(Nm,{size:8})),rightContent:r.createElement(pV.Content,null,r.createElement(zm,{type:"paragraphs",align:"left",shouldNarrate:!0},t(".incentivizedSignInPrompt1")),r.createElement(Nm,{size:4}),r.createElement(zm,{type:"paragraphs",align:"left",shouldNarrate:!0},t(".incentivizedSignInPrompt2")),r.createElement(Nm,{size:4}),r.createElement(l.Map,{array:c},(e=>r.createElement($Q,{type:"paragraphs",text:e}))),r.createElement(Nm,{size:4}),r.createElement(zm,{type:"paragraphs",align:"left",shouldNarrate:!0},t(".incentivizedSignInPrompt3")),r.createElement(Nm,{size:4}),r.createElement(zm,{type:"paragraphs",align:"left",verticalAlign:"center"},r.createElement(wP,{withUnderlinePolyfill:!0,onClick:s},t(".incentivizedSignInPrompt4")),r.createElement(Nm,{size:1}),r.createElement(JP,{className:"e21ce06f534eae6f6525"}))),buttons:[{variant:"primary",inputLegend:t(".incentivizedSignInButton"),onClick:()=>{o({screen:"FirstTimeSignIn",button:"SignInGetCape"});const t="&redirectTo="+encodeURIComponent("/cape-incentive-received-transient");e.replace("/sign-in?signInSource=FirstTimeSignInScreen_OreUI_CapeIncentive"+t)},children:t(".incentivizedSignInButton"),gamepadAlias:a},{variant:"secondary",inputLegend:t(".notNowButton"),onClick:()=>{o({screen:"FirstTimeSignIn",button:"NotNow"}),e.goBack()},children:t(".notNowButton")}],shouldEnumerateButtons:!0,onGoBack:()=>{o({screen:"FirstTimeSignIn",button:"Close"}),e.goBack()}})}const YQ=a.p+"assets/Sign-in_Prompts_Launch-7712e185dbed4a9664e6.png",XQ=a.p+"assets/Sign-in_Prompts_Launch Animated-d5ba8e1b5c77b2593ba6.gif";function qQ(){const e=p(),{t}=Fc("FirstTimeSignInRoute"),a="first-time-sign-in-button-alias",n=(0,l.useSharedFacet)(dl),o=vd(),i=tv(Qi),c=(0,l.useFacetMap)((e=>Tk(e.platform)?[t(".signInList4"),t(".signInList2PS"),t(".signInList3PS")]:[t(".signInList1"),t(".signInList2"),t(".signInList3"),t(".signInList4")]),[t],[n]);return r.createElement(pV,{title:t(".signInHeader"),delegateFocusByAlias:a,leftContent:r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement("div",{className:"a50469f85d1bb88e53ba"},r.createElement(KP,{gifSrc:XQ,imageSrc:YQ,aspectRatio:{height:128,width:260},disableAnimation:i})),r.createElement(Nm,{size:8})),rightContent:r.createElement(pV.Content,null,r.createElement(zm,{type:"captionLong",align:"left",shouldNarrate:!0},t(".signInPrompt")),r.createElement(Nm,{size:4}),r.createElement(l.Map,{array:c},(e=>r.createElement($Q,{text:e}))),r.createElement(Nm,{size:4}),r.createElement(zm,{type:"captionLong",align:"left",shouldNarrate:!0},t(".createAccountPrompt"))),buttons:[{variant:"primary",inputLegend:t(".signInButton"),onClick:()=>{o({screen:"FirstTimeSignIn",button:"SignIn"}),e.replace("/sign-in?signInSource=FirstTimeSignInScreen_OreUI")},children:t(".signInButton"),gamepadAlias:a},{variant:"secondary",inputLegend:t(".laterButton"),onClick:()=>{o({screen:"FirstTimeSignIn",button:"MaybeLater"}),e.goBack()},children:t(".laterButton")}],shouldEnumerateButtons:!0,onGoBack:()=>{o({screen:"FirstTimeSignIn",button:"Close"}),e.goBack()}})}function QQ(){const e=p(),{t}=Fc("FirstTimeSignInRoute"),a=(0,l.useSharedFacet)(dl),n=vd(),o=tv(Qi),i=io(),c=(0,l.useFacetMap)((e=>e&&!o),[o],[i]),s=(0,l.useFacetMap)((e=>e?XQ:YQ),[],[c]),u=(0,l.useFacetMap)((e=>Tk(e.platform)?[t(".signInList4"),t(".signInList2PS"),t(".signInList3PS")]:[t(".signInList1"),t(".signInList2"),t(".signInList3"),t(".signInList4")]),[t],[a]);return r.createElement($E,{defaultFocusAlias:"firstTimeSignInButton"},r.createElement($E.Header,{onClose:()=>{n({screen:"FirstTimeSignIn",button:"Close"}),e.goBack()}},t(".signInHeader")),r.createElement($E.Content,null,r.createElement(Nm,{size:4}),r.createElement(Qp,{src:s,className:"f344da937577b9d42dfd",imageRendering:"pixelated"}),r.createElement($E.Text,{narrationText:t(".signInPrompt")},t(".signInPrompt")),r.createElement($E.List,{items:u}),r.createElement($E.Text,{narrationText:t(".createAccountPrompt")},t(".createAccountPrompt"))),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{inputLegend:t(".laterButton"),variant:"secondary",onClick:()=>{n({screen:"FirstTimeSignIn",button:"MaybeLater"}),e.goBack()},horizontal:!0},t(".laterButton")),r.createElement(Nm,{size:4}),r.createElement(Ug,{gamepadAlias:"firstTimeSignInButton",inputLegend:t(".signInButton"),variant:"primary",onClick:()=>{n({screen:"FirstTimeSignIn",button:"SignIn"}),e.replace("/sign-in?signInSource=FirstTimeSignInScreen_OreUI")},horizontal:!0},t(".signInButton"))))}function ZQ(){const e=g(),t=(0,l.useFacetMap)((e=>e.version),[],[e]);return r.createElement(xl,{data:t},(e=>"incentive"===e?r.createElement(KQ,null):"hero"===e?r.createElement(qQ,null):r.createElement(QQ,null)))}const JQ=a.p+"assets/Sign-in_Prompts_Achievements-8e8d27a8f60564156ebc.png",eZ=a.p+"assets/Sign-in_Prompts_Achievements Animated-06cb0dc45ddb61059b0d.gif";function tZ(){const e=p(),t=h(),{t:a}=Fc("SignInAchievementsRoute"),n=vd(),o=tv(Qi),i=io(),c=(0,l.useFacetMap)((e=>e&&!o),[o],[i]),s=(0,l.useFacetMap)((e=>e?eZ:JQ),[],[c]),u=a(".signInHeader"),d=a(".signInPrompt"),m=(0,l.useFacetCallback)((t=>()=>{n({screen:"SignInAchievements",button:"SignIn"});const a=t.get("redirectTo"),r=null!=a?"&redirectTo="+encodeURIComponent(a):"";e.replace("/sign-in?signInSource=SignInAchievementsScreen_OreUI"+r)}),[e,n],[t]);return r.createElement($E,{defaultFocusAlias:"signInAchievementsButton"},r.createElement($E.Header,{onClose:()=>{n({screen:"SignInAchievements",button:"Close"}),e.goBack()}},u),r.createElement($E.Content,null,r.createElement(Nm,{size:4}),r.createElement(Qp,{src:s,className:"d510ba3a136c49b02bf8",imageRendering:"pixelated"}),r.createElement($E.Text,{gamepadIndex:0,narrationText:d},r.createElement(zm,{type:"captionLong",align:"left"},d)),r.createElement(Nm,{size:4})),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{gamepadIndex:0,inputLegend:a(".laterButton"),variant:"secondary",onClick:()=>{n({screen:"SignInAchievements",button:"MaybeLater"}),e.goBack()},horizontal:!0},a(".laterButton")),r.createElement(Nm,{size:4}),r.createElement(Ug,{gamepadIndex:1,gamepadAlias:"signInAchievementsButton",autofocus:!0,inputLegend:a(".signInButton"),variant:"primary",onClick:m,horizontal:!0},a(".signInButton"))))}const aZ=a.p+"assets/Sign-in_Prompts_Friends-01fb9220b4efc1f23dc4.png",nZ=a.p+"assets/Sign-in_Prompts_Friends Animated-0c355131a2f94ee20360.gif";function rZ(){const e=p(),{t}=Fc("SignInAddFriendRoute"),a=vd(),n=tv(Qi),o=io(),i=(0,l.useFacetMap)((e=>e&&!n),[n],[o]),c=(0,l.useFacetMap)((e=>e?nZ:aZ),[],[i]),s=t(".signInHeader"),u=t(".signInPrompt");return r.createElement($E,{defaultFocusAlias:"signInAddFriendButton"},r.createElement($E.Header,{onClose:()=>{a({screen:"SignInAddFriend",button:"Close"}),e.goBack()}},s),r.createElement($E.Content,null,r.createElement(Nm,{size:4}),r.createElement(Qp,{src:c,className:"d2b1764478b2ed23afb6",imageRendering:"pixelated"}),r.createElement($E.Text,{gamepadIndex:0,narrationText:u},r.createElement(zm,{type:"captionLong",align:"left"},u)),r.createElement(Nm,{size:4})),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{gamepadIndex:0,inputLegend:t(".laterButton"),variant:"secondary",onClick:()=>{a({screen:"SignInAddFriend",button:"MaybeLater"}),e.goBack()},horizontal:!0},t(".laterButton")),r.createElement(Nm,{size:4}),r.createElement(Ug,{gamepadIndex:1,gamepadAlias:"signInAddFriendButton",autofocus:!0,inputLegend:t(".signInButton"),variant:"primary",onClick:()=>{a({screen:"SignInAddFriend",button:"SignIn"}),e.replace("/sign-in?signInSource=SignInAddFriendScreen_OreUI")},horizontal:!0},t(".signInButton"))))}const lZ=a.p+"assets/Sign-in_Prompts_Launch-eadae281fe96fff7ef5e.png",oZ=a.p+"assets/Sign-in_Prompts_Launch Animated-fdbda82f247ad06f08dd.gif";function iZ(){const e=p(),{t}=Fc("SignInDressingRoomRoute"),a=vd(),n=tv(Qi),o=io(),i=(0,l.useFacetMap)((e=>e&&!n),[n],[o]),c=(0,l.useFacetMap)((e=>e?oZ:lZ),[],[i]);return r.createElement($E,{defaultFocusAlias:"dressingRoomSignInButton"},r.createElement($E.Header,{onClose:()=>{a({screen:"SignInDressingRoom",button:"Close"}),e.goBack()}},t(".signInHeader")),r.createElement($E.Content,null,r.createElement(Nm,{size:4}),r.createElement(Qp,{src:c,className:"a88010f747771a02f585",imageRendering:"pixelated"}),r.createElement($E.Text,{gamepadIndex:0,narrationText:t(".signInPrompt")},r.createElement(zm,{type:"captionLong",align:"left"},t(".signInPrompt")))),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{gamepadIndex:0,inputLegend:t(".laterButton"),variant:"secondary",onClick:()=>{a({screen:"SignInDressingRoom",button:"MaybeLater"}),e.goBack()},horizontal:!0},t(".laterButton")),r.createElement(Nm,{size:4}),r.createElement(Ug,{gamepadIndex:1,gamepadAlias:"dressingRoomSignInButton",autofocus:!0,inputLegend:t(".signInButton"),variant:"primary",onClick:()=>{a({screen:"SignInDressingRoom",button:"SignIn"}),e.replace("/sign-in?signInSource=SignInDressingRoomScreen_OreUI")},horizontal:!0},t(".signInButton"))))}const cZ=a.p+"assets/Sign-in_Prompts_Save_Purchases-f506d129e9c460e408f7.png",sZ=a.p+"assets/Sign-in_Prompts_Save_Purchases Animated-cfb0b7d3ab497ff42e11.gif";function uZ(){const e=p(),{t}=Fc("SignInMarketplaceRoute"),a=vd(),n=tv(Qi),o=io(),i=(0,l.useFacetMap)((e=>e&&!n),[n],[o]),c=(0,l.useFacetMap)((e=>e?sZ:cZ),[],[i]);return r.createElement($E,{defaultFocusAlias:"signInMarketplaceButton"},r.createElement($E.Header,{onClose:()=>{a({screen:"SignInMarketplace",button:"Close"}),e.goBack()}},t(".signInHeader")),r.createElement($E.Content,null,r.createElement(Nm,{size:4}),r.createElement(Qp,{src:c,className:"f98ee6dc0a1a52ed98a5",imageRendering:"pixelated"}),r.createElement($E.Text,{gamepadIndex:0,narrationText:t(".signInPrompt")},r.createElement(zm,{type:"captionLong",align:"left"},t(".signInPrompt"))),r.createElement(Nm,{size:4})),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{gamepadIndex:0,inputLegend:t(".laterButton"),variant:"secondary",onClick:()=>{a({screen:"SignInMarketplace",button:"MaybeLater"}),e.goBack()},horizontal:!0},t(".laterButton")),r.createElement(Nm,{size:4}),r.createElement(Ug,{gamepadIndex:1,gamepadAlias:"signInMarketplaceButton",autofocus:!0,inputLegend:t(".signInButton"),variant:"primary",onClick:()=>{a({screen:"SignInMarketplace",button:"SignIn"}),e.replace("/sign-in?signInSource=SignInMarketplaceScreen_OreUI")},horizontal:!0},t(".signInButton"))))}const dZ=a.p+"assets/Sign-in_Prompts_Servers-cc10e6a633ed3bb3133a.png",mZ=a.p+"assets/Sign-in_Prompts_Servers Animated-ab2461c2b1be07925865.gif";function pZ(){const e=p(),{t}=Fc("SignInPlayOnServerRoute"),a=vd(),n=tv(Qi),o=io(),i=(0,l.useFacetMap)((e=>e&&!n),[n],[o]),c=(0,l.useFacetMap)((e=>e?mZ:dZ),[],[i]),s=t(".signInHeader"),u=t(".signInPrompt");return r.createElement($E,{defaultFocusAlias:"signInPlayOnServerButton"},r.createElement($E.Header,{onClose:()=>{a({screen:"SignInPlayOnServer",button:"Close"}),e.goBack()}},s),r.createElement($E.Content,null,r.createElement(Nm,{size:4}),r.createElement(Qp,{src:c,className:"ecebcd59a010c9fc0886",imageRendering:"pixelated"}),r.createElement($E.Text,{gamepadIndex:0,narrationText:u},r.createElement(zm,{type:"captionLong",align:"left"},u)),r.createElement(Nm,{size:4})),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{gamepadIndex:0,inputLegend:t(".laterButton"),variant:"secondary",onClick:()=>{a({screen:"SignInPlayOnServer",button:"MaybeLater"}),e.goBack()},horizontal:!0},t(".laterButton")),r.createElement(Nm,{size:4}),r.createElement(Ug,{gamepadIndex:1,gamepadAlias:"signInPlayOnServerButton",autofocus:!0,inputLegend:t(".signInButton"),variant:"primary",onClick:()=>{a({screen:"SignInPlayOnServerModal",button:"SignIn"}),e.replace("/sign-in?signInSource=SignInPlayOnServerScreen_OreUI")},horizontal:!0},t(".signInButton"))))}const fZ=a.p+"assets/Sign-in_Prompts_Save_Purchases-f506d129e9c460e408f7.png",gZ=a.p+"assets/Sign-in_Prompts_Save_Purchases Animated-cfb0b7d3ab497ff42e11.gif";function EZ(){const e=p(),{t}=Fc("SignInSavePurchasesRoute"),a=vd(),n=tv(Qi),o=io(),i=(0,l.useFacetMap)((e=>e&&!n),[n],[o]),c=(0,l.useFacetMap)((e=>e?gZ:fZ),[],[i]),s=t(".signInHeader"),u=t(".signInPrompt");return r.createElement($E,{defaultFocusAlias:"signInSavePurchasesButton"},r.createElement($E.Header,{onClose:()=>{a({screen:"SignInSavePurchases",button:"Close"}),e.goBack()}},s),r.createElement($E.Content,null,r.createElement(Nm,{size:4}),r.createElement(Qp,{src:c,className:"a72bd08ae89572b98681",imageRendering:"pixelated"}),r.createElement($E.Text,{gamepadIndex:0,narrationText:u},r.createElement(zm,{type:"captionLong",align:"left"},u)),r.createElement(Nm,{size:4})),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{gamepadIndex:0,inputLegend:t(".laterButton"),variant:"secondary",onClick:()=>{a({screen:"SignInSavePurchases",button:"MaybeLater"}),e.goBack()},horizontal:!0},t(".laterButton")),r.createElement(Nm,{size:4}),r.createElement(Ug,{gamepadIndex:1,gamepadAlias:"signInSavePurchasesButton",autofocus:!0,inputLegend:t(".signInButton"),variant:"primary",onClick:()=>{a({screen:"SignInSavePurchases",button:"SignIn"}),e.replace("/sign-in?signInSource=SignInSavePurchasesScreen_OreUI")},horizontal:!0},t(".signInButton"))))}const hZ=a.p+"assets/Sign-in_Prompts_Launch-7712e185dbed4a9664e6.png",bZ=a.p+"assets/Sign-in_Prompts_Launch Animated-d5ba8e1b5c77b2593ba6.gif";function vZ(){const e=p(),t=h(),{t:a}=Fc("SignInWorldsFriendsServersRoute"),n=(0,l.useSharedFacet)(dl),o=vd(),i=tv(Qi),c=io(),s=(0,l.useFacetMap)((e=>e&&!i),[i],[c]),u=(0,l.useFacetMap)((e=>e?bZ:hZ),[],[s]),d=(0,l.useFacetMap)((e=>Tk(e.platform)?[a(".signInList4"),a(".signInList2PS"),a(".signInList3PS")]:[a(".signInList1"),a(".signInList2"),a(".signInList3"),a(".signInList4")]),[a],[n]),m=(0,l.useFacetCallback)((t=>()=>{o({screen:"SignInWorldsFriendsServers",button:"SignIn"});const a=t.get("redirectTo"),n=null!=a?"&redirectTo="+encodeURIComponent(a):"";e.replace("/sign-in?signInSource=SignInWorldsFriendsServersScreen_OreUI"+n)}),[e,o],[t]),f=(0,l.useFacetCallback)((t=>()=>{o({screen:"SignInWorldsFriendsServers",button:"MaybeLater"});const a=t.get("redirectTo");null!=a?e.replace(a):e.goBack()}),[e,o],[t]),g=(0,l.useFacetCallback)((t=>()=>{o({screen:"SignInWorldsFriendsServers",button:"Close"});const a=t.get("redirectTo");null!=a?e.replace(a):e.goBack()}),[e,o],[t]);return r.createElement($E,{defaultFocusAlias:"signInWorldsFriendsServersButton"},r.createElement($E.Header,{onClose:g},a(".signInHeader")),r.createElement($E.Content,null,r.createElement(Nm,{size:4}),r.createElement(Qp,{src:u,className:"fb3885e9dfd5a6fc5043",imageRendering:"pixelated"}),r.createElement($E.Text,{gamepadIndex:0,narrationText:a(".signInPrompt")},r.createElement(zm,{type:"captionLong",align:"left"},a(".signInPrompt"))),r.createElement($E.List,{items:d,gamepadIndex:1}),r.createElement($E.Text,{gamepadIndex:2,narrationText:a(".createAccountPrompt")},r.createElement(zm,{type:"captionLong",align:"left"},a(".createAccountPrompt")))),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{gamepadIndex:0,inputLegend:a(".laterButton"),variant:"secondary",onClick:f,horizontal:!0},a(".laterButton")),r.createElement(Nm,{size:4}),r.createElement(Ug,{gamepadIndex:1,gamepadAlias:"signInWorldsFriendsServersButton",autofocus:!0,inputLegend:a(".signInButton"),variant:"primary",onClick:m,horizontal:!0},a(".signInButton"))))}const yZ=(e=35)=>{const t=Ad(e),a=(0,l.useFacetCallback)((e=>()=>window.innerHeight<=e),[],[t],!1),[n,o]=(0,l.useFacetState)(a());return(0,r.useEffect)((()=>{const e=()=>o(a());return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[a,o]),n},FZ="f7cf865e4ef543f082ba";function SZ(){return SZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},SZ.apply(null,arguments)}function CZ(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const MZ={Root:e=>{let{dollColumn:t,bodyColumn:a,title:n}=e,l=CZ(e,["dollColumn","bodyColumn","title"]);const o=wr("neutral80");return r.createElement(yx,SZ({title:n},l),(({})=>r.createElement(Zn,{role:"neutral80"},r.createElement("div",{className:"aa32066034332399bcfb"},r.createElement("div",{className:FZ}),r.createElement("div",{className:"c3f585d49f34344bb43b"},t),r.createElement("div",{className:zr()("cb1cc960360bbe34fa39",o.background.base,o.border.base,o.text.base)},a),r.createElement("div",{className:FZ})))))},Body:e=>{let{className:t}=e,a=CZ(e,["className"]);return r.createElement("fast-div",SZ({className:(0,l.useFacetMap)((e=>zr()("ad4c23496551457d7f2c",e)),[],[(0,l.useFacetWrap)(t)])},a))},Footer:DK.Footer},wZ=({onClick:e})=>{const{t}=Fc("NewPlayerPathRoute.SkipButton");return r.createElement(Tp,{className:"ece474a70997bd8d51b2",narrationText:t(".skip"),inputLegend:t(".skip"),onClick:e},r.createElement(Nm,{size:3}),r.createElement(zm,{type:"body"},t(".skip")),r.createElement(Nm,{size:1}),r.createElement(iv,{className:"ee9f0197db1d086ade8e"}),r.createElement(Nm,{size:4}))},kZ={ALEX_UUID:"b789cb38-5f14-4dc9-be15-e10dc52ba91b",ARI_UUID:"2e662265-1aab-40ce-80c2-934a0a20d41a",EFE_UUID:"399bae94-f074-4d64-af8a-b4634ef0fc15",KAI_UUID:"a40ade20-c28a-4d34-973b-233ec1284d5a",MAKENA_UUID:"fd5c1e0a-5ba3-4467-951b-17103e740a94",NOOR_UUID:"f15a3e5c-26ce-48fc-a2b1-080d18d2acfa",STEVE_UUID:"6c8f57cb-fb91-42d2-b621-cd806784cdab",SUNNY_UUID:"a3dd013e-2f63-4379-b17e-3c35450305ca",ZURI_UUID:"820a57a6-6eb4-4c1a-9a8d-328c107b477d"},TZ=Object.keys(kZ).length,PZ=(0,l.sharedFacet)("vanilla.character-selector"),IZ=a.p+"assets/alex-doll-e10977ba32e09f9089c3.png",xZ=a.p+"assets/ari-doll-53034ef319ad5fd34c6b.png",AZ=a.p+"assets/efe-doll-481bda44390a9a45e3fe.png",OZ=a.p+"assets/kai-doll-68b6b14ff5965e1fb372.png",NZ=a.p+"assets/makena-doll-d5ff0102deba47874c48.png",RZ=a.p+"assets/noor-doll-7c17a8fd813dca572667.png",LZ=a.p+"assets/steve-doll-ae6ffc3931ec3e0f5e22.png",_Z=a.p+"assets/sunny-doll-2d60f4c2f241123fbbdc.png",DZ=a.p+"assets/zuri-doll-ae75bddfaccfd746c651.png";function WZ(e){const t=(0,l.useSharedFacet)(PZ);return{setSelected:(0,l.useFacetCallback)(((e,t)=>()=>t.setSelectedCharacter(e.id)),[],[e,t]),isSelected:(0,l.useFacetMap)(((e,t)=>e.id===t.selectedCharacterId),[],[e,t])}}const BZ={[kZ.ALEX_UUID]:IZ,[kZ.ARI_UUID]:xZ,[kZ.EFE_UUID]:AZ,[kZ.KAI_UUID]:OZ,[kZ.MAKENA_UUID]:NZ,[kZ.NOOR_UUID]:RZ,[kZ.STEVE_UUID]:LZ,[kZ.SUNNY_UUID]:_Z,[kZ.ZURI_UUID]:DZ};function UZ({character:e}){const{isSelected:t}=WZ(e),a=(0,l.useFacetMap)((e=>zr()("e38c69f24d42d133876f",{fbba005302a51ef7154c:e})),[],[t]),n=(0,l.useFacetMap)((e=>BZ[e.id]),[],[e]),o=(0,l.useFacetMap)(((e,t)=>t?`character-doll-${e.id}`:void 0),[],[e,t]);return r.createElement("fast-div",{"data-testid":o,className:a},r.createElement(Qp,{className:"a394ac9f38a76e8154d8",src:n}))}function zZ(e){return null!=e&&e.data?""!==e.data.xblName?e.data.xblName:""!==e.data.platformName?e.data.platformName:null:null}function HZ(){const e=VX.useCurrentPlayerProfileFacet(),t=function(){const e=(0,l.useSharedFacet)(PZ),t=(0,l.useFacetMap)((e=>Object.fromEntries(e.selectableCharacters.map((e=>[e.id,e])))),[],[e]);return(0,l.useFacetMap)(((e,t)=>e[t.selectedCharacterId]),[],[t,e])}(),a=(0,l.useFacetMap)(zZ,[],[e]),n=(0,l.useFacetMap)(((e,t)=>null!=t?t:e.name),[],[t,a]),o=(0,l.useFacetMap)((e=>e.selectableCharacters),[],[(0,l.useSharedFacet)(PZ)]);return r.createElement("div",{className:"ad3c1bcd723f998b2bef"},r.createElement(_y,{align:"center",role:"neutralAlpha60"},n),r.createElement(Nm,{size:2}),r.createElement("div",{className:"f1af2222a5424519b3ee"},r.createElement(l.Map,{array:o},(e=>r.createElement(UZ,{character:e})))))}const jZ=a.p+"assets/alex-thumb-3f5f2d190e561da8a73c.png",VZ=a.p+"assets/ari-thumb-dc3aac9f2d6c5f32ca56.png",GZ=a.p+"assets/efe-thumb-84401a228bab5ccfe3ee.png",$Z=a.p+"assets/kai-thumb-a4b5c8954b1528fa8269.png",KZ=a.p+"assets/makena-thumb-ee0d4215868d32f20e31.png",YZ=a.p+"assets/noor-thumb-f03991f3959e2116ae65.png",XZ=a.p+"assets/steve-thumb-c5651120c5dcdcdfff92.png",qZ=a.p+"assets/sunny-thumb-e4107db28221d12df2d7.png",QZ=a.p+"assets/zuri-thumb-a44d44507a7098d4a92a.png",ZZ={thumbnail:"e6f8bca39fecc4a0f88e",narrow:"e087fcc41bebb0d4f359",outer:"f6f9d3ec3389e2713a86",image:"a18192e67eec3c941aa9",pressed:"b3ace28413bf3b73306b",edge:"cfec8334ec7613f05e1d",reflection:"a3cc8b73898d799088f0"},JZ={[kZ.ALEX_UUID]:jZ,[kZ.ARI_UUID]:VZ,[kZ.EFE_UUID]:GZ,[kZ.KAI_UUID]:$Z,[kZ.MAKENA_UUID]:KZ,[kZ.NOOR_UUID]:YZ,[kZ.STEVE_UUID]:XZ,[kZ.SUNNY_UUID]:qZ,[kZ.ZURI_UUID]:QZ};function eJ({character:e,gamepadAlias:t,groupIndex:a,groupSize:n}){const{t:o}=Fc("Toggle"),{t:i}=Fc("NewPlayerPathRoute.CharacterSelector"),c="neutral",s=yZ(),u=wr(c),d=xr(),{isSelected:m,setSelected:p}=WZ(e),f=(0,l.useFacetMap)((e=>`character-thumbnail-${e.id}`),[],[e]),g=(0,l.useFacetMap)(((e,t)=>zr()(ZZ.thumbnail,u.border.base,u.background.interactive,{[ZZ.narrow]:t,[d.pressed]:e,[ZZ.pressed]:e})),[d,u],[m,s]),E=(0,l.useFacetMap)(((e,t)=>!t&&e.name),[],[e,m]),h=(0,l.useFacetMap)((e=>JZ[e.id]),[],[e]),b=(0,l.useFacetMap)(((e,t)=>[e.name,o(".narrationOptionType"),o(".count",[`${a+1}`,`${n}`]),o(t?".narrationSelected":".narrationUnselected"),i(".character")].join(" . ")),[a,n,o,i],[e,m]);return r.createElement(Tm,{gamepadAlias:t,className:g,classNameFocused:zr()(ZZ.focused,kp),classNamePressed:ZZ.pressed,onClick:p,gamepadIndex:0,inputLegend:E,"data-testid":f,narrationText:b},r.createElement(wp,{role:c}),r.createElement("div",null,r.createElement(Lp,{role:c,className:ZZ.reflection}),r.createElement("div",{className:ZZ.outer},r.createElement(Qp,{src:h,className:ZZ.image}))),r.createElement("div",{className:zr()(ZZ.edge,u.shadow.base)}))}const tJ="a1783ee20ab09b08b1b2";function aJ({gamepadAlias:e}){const t=(0,l.useSharedFacet)(PZ),a=(0,l.useFacetMap)((e=>e.selectableCharacters.slice(0,5)),[],[t]),n=(0,l.useFacetMap)((e=>e.selectableCharacters.slice(5)),[],[t]),o=Rd();return r.createElement("div",{className:"f07366ae6fae0f7ce82b"},r.createElement("div",{className:tJ},r.createElement(l.Map,{array:a},((t,a)=>r.createElement(eJ,{gamepadAlias:0===a?e:void 0,character:t,groupIndex:a,groupSize:TZ})))),r.createElement(xl,{data:o},(e=>r.createElement(Nm,{size:e?1:4}))),r.createElement("div",{className:tJ},r.createElement(l.Map,{array:n},((e,t)=>r.createElement(eJ,{character:e,groupIndex:5+t,groupSize:TZ})))))}const nJ=()=>{const e=(0,l.useSharedFacet)(Ku),t=(0,l.useSharedFacet)(sd),a=(0,l.useFacetMap)((e=>e.saveLocalWorldTaskState),[],[e]);return Vk(((e,t)=>function*(n,r){e.saveLocalWorldTaskState===Hk.IDLE&&(e.addWorld(),e.worldData.general.gameMode=n,e.worldData.general.difficulty=r,e.saveLocalWorld(e.currentWorldId),yield a,t.startLocalWorld(e.currentWorldId))}),[a],[e,t])},rJ={[pc.EASY]:"easy",[pc.HARD]:"hard",[pc.NORMAL]:"normal",[pc.PEACEFUL]:"peaceful"};function lJ(){return(0,l.useFacetMap)((e=>{const t=parseInt(e.difficulty,10),a=parseInt(e.mode,10);return{mode:a,modeKey:a==Fu.CREATIVE?"creative":"survival",difficulty:t,difficultyKey:rJ[t],translationKey:a==Fu.CREATIVE?".creative":`.survival.${rJ[t]}`}}),[],[g()])}function oJ(){return(0,l.useFacetMap)(((e,t)=>{const a=e.currentInputType===Xe.TOUCH,n=t.platform===Qe.NX_HANDHELD;return a&&!n}),[],[(0,l.useSharedFacet)(Ga),(0,l.useSharedFacet)(dl)])}const iJ=(e,t)=>`/new-player-path/character-selector/${e}/${t}`,cJ=(e,t)=>`/new-player-path/${e}/${t}/touch-control-selection`,sJ=(e,t)=>`/new-player-path/sign-in/${e}/${t}`,uJ=(e,t)=>`/new-player-path/summary/${e}/${t}`;function dJ(){const e=tv($i),t=tv(Ki),a=tv(Yi);return e?$i:t?Ki:a?Yi:"no-variant"}function mJ(){const e=tv($i),t=tv(Ki),a=tv(Yi);return e||t||a}const pJ="new-player-path-route-character-selector/first-character",fJ="new-player-path-route-mode/survival",gJ="new-player-path-route-difficulty/easy",EJ="new-player-path-route-sign-in-button",hJ="NewPlayerPathMode",bJ="NewPlayerPathDifficulty",vJ="NewPlayerPathRouteCharacterSelector",yJ="NewPlayerPathSignIn",FJ="NewPlayerPathRouteSummary",SJ="NewPlayerPathRouteTouchControlsSelection";function CJ(){const{t:e}=Fc("NewPlayerPathRoute.CharacterSelector"),t=vd(),a=Tr("neutral"),n=yZ(),{skip:o,next:i}=function(){const e=dJ(),t=lJ(),a=oJ(),n=p(),r=(0,l.useFacetCallback)(((t,a)=>()=>{switch(e){case $i:case Ki:return a?n.push(cJ(t.mode,t.difficulty)):n.push(uJ(t.mode,t.difficulty));case Yi:return n.push(uJ(t.mode,t.difficulty));default:console.error("This should not be reachable")}}),[n,e],[t,a]),o=(0,l.useFacetCallback)((e=>()=>{e.setSelectedCharacter(e.selectableCharacters[0].id),r()}),[r],[(0,l.useSharedFacet)(PZ)]);return{next:r,skip:o}}(),c=(0,r.useCallback)((()=>{t({screen:vJ,button:"Skip"}),o()}),[t,o]),s=(0,r.useCallback)((()=>{t({screen:vJ,button:"Next"}),i()}),[t,i]),u=(0,l.useFacetMap)((e=>e?"a2b012b483d7957b66da":void 0),[],[n]);return r.createElement(MZ.Root,{navbarRight:r.createElement(wZ,{onClick:c}),title:e(".title"),screenAnalyticsId:vJ,gamepadAlias:"new-player-path-route-character-selector",delegateByAlias:pJ,dollColumn:r.createElement(HZ,null),bodyColumn:r.createElement(Zf,{text:e(".controlChangeDoesNotAffectGamePlay")},r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}),r.createElement(MZ.Body,{className:u},r.createElement(aJ,{gamepadAlias:pJ}),r.createElement(xl,{data:n},(e=>r.createElement(Nm,{size:e?1:3}))),r.createElement(zm,{shouldNarrate:!0,align:"center",type:"captionShort",variant:"dimmer"},e(".controlChangeDoesNotAffectGamePlay"))),r.createElement(MZ.Footer,null,r.createElement(Ug,{variant:"primary",horizontal:!0,"data-testid":"character-selector-next",soundEffectPressed:a.press,onClick:s,inputLegend:e(".next")},e(".next"))))})}const MJ=()=>{const e=(0,l.useSharedFacet)(Ku),t=(0,l.useSharedFacet)(sd);return r.createElement(l.Mount,{when:(0,l.useFacetMap)(((e,t)=>null!=e.saveLocalWorldError||t.startLocalWorldResult===id.WorldNotInLevelList||t.startLocalWorldResult===id.GameServerStarterNotReady),[],[e,t])},r.createElement(UN.Component,null))},wJ=e=>`url(${e}?filtering=point)`,kJ=e=>{const t=(0,r.useRef)(null),[a,n]=(0,l.useFacetState)("0px"),o=Ad(e),i=(0,l.useFacetCallback)((e=>({width:t})=>{n(`${Math.max(.5625*t,e)}px`)}),[n],[o]);return Bd(t,i),[t,a]},TJ={control:a.p+"assets/controls-a12e1e11fbedb31b0eef.png",creative:a.p+"assets/creative-b5f9dd69def7e63b7b8c.png",survival:a.p+"assets/survival-7a34d626eee3cd15af38.png",hard:a.p+"assets/hard-9efeb679ca0433233dd1.png",normal:a.p+"assets/normal-2da8db1b0c08ee2a3e87.png",easy:a.p+"assets/easy-d8e2ba6967bad616c80c.png",peaceful:a.p+"assets/peaceful-329cb92ee2393a9605b4.png"};function PJ({visibleType:e,entry:[t,a]}){const n=(0,l.useFacetMap)((e=>zr()("f6371fae536abdbd4748",{ee36cee5352f5d42c9ae:t===e})),[t],[(0,l.useFacetWrap)(e)]);return r.createElement(Qp,{imageRendering:"pixelated",className:n,src:a})}function IJ({type:e}){const t=(0,l.useFacetWrap)(e);return r.createElement("div",{className:"c790c00fa72098c5269e"},Object.entries(TJ).map((e=>r.createElement(PJ,{key:e[0],entry:e,visibleType:t}))))}const xJ=({image:e,title:t,iconType:a,description:n,inputLegend:l,gamepadAlias:o,onClick:i,groupIndex:c,groupSize:s})=>{const[u,d]=kJ(16.2),{t:m}=Fc("Common.narration"),p=m(".position",[`${c}`,`${s}`]),f=[t,m(".roles.button"),p,n].join(" . ");return r.createElement(bH,{gamepadIndex:0,inputLegend:l,gamepadAlias:o,onClick:i,narrateCardRole:!1},r.createElement("fast-div",{ref:u,className:"e7406dd8b0b9bb07eb88",style:{backgroundImage:wJ(e),paddingTop:d}}),r.createElement(bH.Information,{narrationText:f},r.createElement("div",{className:"f93f0eecda598ac0b7e7"},r.createElement(zm,{type:"body",verticalAlign:"center"},t),r.createElement(Nm,{size:1}),r.createElement(IJ,{type:a})),r.createElement(zm,{type:"captionShort",variant:"dimmer"},n)))},AJ=a.p+"assets/survival-6ff33cd49c5229966a12.png",OJ=a.p+"assets/creative-34775cddadd6c45f9ebd.png";function NJ(){const{t:e}=Fc("NewPlayerPathRoute.Mode"),{next:t}=function(){const e=p(),t=dJ(),a=oJ(),n=nJ(),r=(0,l.useSharedFacet)(Wu);return{next:(0,l.useFacetCallback)(((a,r)=>l=>{if(l==Fu.SURVIVAL)return e.push("/new-player-path/survival/difficulty");if(l==Fu.CREATIVE)switch(t){case Ki:return r.isSignedInPlatformNetwork&&r.isLoggedInWithMicrosoftAccount?e.push(iJ(l,pc.NORMAL)):e.push(sJ(l,pc.NORMAL));case $i:case Yi:return e.push(iJ(l,pc.NORMAL));default:return a?e.push(cJ(l,pc.NORMAL)):n(l,pc.NORMAL)}}),[e,t,n],[a,r])}}(),a=vd(),n=mJ(),o=(0,r.useCallback)((e=>{a({screen:hJ,button:e==Fu.CREATIVE?"CreativeCard":"SurvivalCard"}),t(e)}),[a,t]);return r.createElement(yx,{title:e(".title"),screenAnalyticsId:hJ,gamepadAlias:"new-player-path-route-mode",delegateByAlias:fJ},(()=>r.createElement(r.Fragment,null,r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}),r.createElement(MJ,null),r.createElement(jf,{delegateFocusByAlias:gJ},r.createElement(Cv,{maxWidth:96,centerContentVertically:!0},r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{wideSize:5,narrowSize:4},r.createElement(xJ,{gamepadAlias:fJ,title:e(".survivalTitle"),iconType:"survival",description:e(".survivalDescription"),inputLegend:e(".survivalInputLegend"),image:AJ,onClick:()=>o(Fu.SURVIVAL),groupIndex:1,groupSize:2})),r.createElement(Cv.Column,{wideSize:5,narrowSize:4},r.createElement(xJ,{title:e(".creativeTitle"),iconType:"creative",description:e(".creativeDescription"),inputLegend:e(n?".select":".creativeInputLegend"),image:OJ,onClick:()=>o(Fu.CREATIVE),groupIndex:2,groupSize:2}))))))))}const RJ=({image:e,title:t,iconType:a,inputLegend:n,description:l,gamepadAlias:o,onClick:i,groupIndex:c,groupSize:s})=>{const[u,d]=kJ(14),{t:m}=Fc("Common.narration"),p=m(".position",[`${c}`,`${s}`]),f=[t,m(".roles.button"),p,l].join(" . ");return r.createElement(bH,{gamepadIndex:0,inputLegend:n,gamepadAlias:o,onClick:i,narrateCardRole:!1},r.createElement("fast-div",{ref:u,className:"d839b04d23868c12497d",style:{backgroundImage:wJ(e),paddingTop:d}}),r.createElement(bH.Information,{narrationText:f},r.createElement("div",{className:"fade02dca100163f9057"},r.createElement(zm,{type:"body",verticalAlign:"center"},t),r.createElement(Nm,{size:1}),r.createElement(IJ,{type:a})),r.createElement(zm,{type:"captionShort",variant:"dimmer"},l)))},LJ=({image:e,title:t,iconType:a,description:n,inputLegend:l,gamepadAlias:o,onClick:i,groupIndex:c,groupSize:s})=>{const{t:u}=Fc("Common.narration"),d=u(".position",[`${c}`,`${s}`]),m=[t,u(".roles.button"),d,n].join(" . ");return r.createElement(tw,{tall:!0},r.createElement(tw.Action,{inputLegend:l,narrationText:m,gamepadAlias:o,onClick:i},r.createElement(tw.Cell,null,r.createElement("div",{className:"a75b1d158cf9530fa018",style:{backgroundImage:wJ(e)}})),r.createElement(tw.Main,null,r.createElement("div",{className:"caf7f4d4004153e2f9e1"},r.createElement(zm,{type:"body"},t),r.createElement(Nm,{size:1}),r.createElement(IJ,{type:a})),r.createElement(zm,{type:"captionShort",variant:"dimmer"},n))))},_J=a.p+"assets/easy-8c5d9d00b69fd1b1a5cc.png",DJ=a.p+"assets/normal-6b57a4bb0b6fcca0cedc.png",WJ=a.p+"assets/hard-bd518066cd12462e9ec4.png",BJ=a.p+"assets/peaceful-95e19e2fa59c0a7c9806.png";function UJ(){const{t:e}=Fc("NewPlayerPathRoute.Difficulty"),t=Rd(48),{next:a}=function(){const e=p(),t=dJ(),a=oJ(),n=nJ(),r=(0,l.useSharedFacet)(Wu);return{next:(0,l.useFacetCallback)(((a,r)=>l=>{switch(t){case Ki:return r.isSignedInPlatformNetwork&&r.isLoggedInWithMicrosoftAccount?e.push(iJ(Fu.SURVIVAL,l)):e.push(sJ(Fu.SURVIVAL,l));case $i:case Yi:return e.push(iJ(Fu.SURVIVAL,l));default:return a?e.push(cJ(Fu.SURVIVAL,l)):n(Fu.SURVIVAL,l)}}),[e,t,n],[a,r])}}(),n=vd(),o=mJ(),i=(0,r.useCallback)(((e,t)=>{n({screen:bJ,button:t}),a(e)}),[n,a]),c=r.createElement(Cv,{nonFullScreen:!0,centerContentVertically:!0},r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:3,narrowSize:2},r.createElement(RJ,{title:e(".peacefulTitle"),iconType:"peaceful",description:e(".peacefulDescription"),inputLegend:e(".createInputLegend"),image:BJ,onClick:()=>i(pc.PEACEFUL,"Peaceful"),groupIndex:1,groupSize:4})),r.createElement(Cv.Column,{wideSize:3,narrowSize:2},r.createElement(RJ,{gamepadAlias:gJ,title:e(".easyTitle"),iconType:"easy",description:e(".easyDescription"),inputLegend:e(o?".select":".createInputLegend"),image:_J,onClick:()=>i(pc.EASY,"Easy"),groupIndex:2,groupSize:4})),r.createElement(Cv.Column,{wideSize:3,narrowSize:2},r.createElement(RJ,{title:e(".normalTitle"),iconType:"normal",description:e(".normalDescription"),inputLegend:e(o?".select":".createInputLegend"),image:DJ,onClick:()=>i(pc.NORMAL,"Normal"),groupIndex:3,groupSize:4})),r.createElement(Cv.Column,{wideSize:3,narrowSize:2},r.createElement(RJ,{title:e(".hardTitle"),iconType:"hard",description:e(".hardDescription"),inputLegend:e(o?".select":".createInputLegend"),image:WJ,onClick:()=>i(pc.HARD,"Hard"),groupIndex:4,groupSize:4})))),s=r.createElement(Cv,{nonFullScreen:!0,centerContentVertically:!0},r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:12,narrowSize:8},r.createElement(LJ,{title:e(".peacefulTitle"),iconType:"peaceful",description:e(".peacefulDescription"),inputLegend:e(o?".select":".createInputLegend"),image:BJ,onClick:()=>i(pc.PEACEFUL,"Peaceful"),groupIndex:1,groupSize:4}),r.createElement(LJ,{gamepadAlias:gJ,iconType:"easy",title:e(".easyTitle"),description:e(".easyDescription"),inputLegend:e(o?".select":".createInputLegend"),image:_J,onClick:()=>i(pc.EASY,"Easy"),groupIndex:2,groupSize:4}),r.createElement(LJ,{title:e(".normalTitle"),iconType:"normal",description:e(".normalDescription"),inputLegend:e(o?".select":".createInputLegend"),image:DJ,onClick:()=>i(pc.NORMAL,"Normal"),groupIndex:3,groupSize:4}),r.createElement(LJ,{title:e(".hardTitle"),iconType:"hard",description:e(".hardDescription"),inputLegend:e(o?".select":".createInputLegend"),image:WJ,onClick:()=>i(pc.HARD,"Hard"),groupIndex:4,groupSize:4}))));return r.createElement(yx,{title:e(".title"),screenAnalyticsId:bJ,gamepadAlias:"new-player-path-route-difficulty",delegateByAlias:gJ},(()=>r.createElement(r.Fragment,null,r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}),r.createElement(MJ,null),r.createElement(jf,{delegateFocusByAlias:gJ},r.createElement(xl,{data:t},(e=>e?s:c))))))}const zJ="f29247ac6287da3f6716",HJ=a.p+"assets/Sign-in_Prompts_Launch-7712e185dbed4a9664e6.png";function jJ(){const{t:e}=Sc("NewPlayerPathRoute.SignIn"),{skip:t,next:a}=function(){const e=dJ(),t=lJ(),a=p();return{next:(0,l.useFacetCallback)((t=>()=>{if(e===Ki)return a.push("/sign-in?signInSource=NewPlayerPathSignInScreen_OreUI&redirectTo="+encodeURIComponent(iJ(t.mode,t.difficulty))+"&replacePreviousRouteAfterSignIn");console.error("This should not be reachable")}),[a,e],[t]),skip:(0,l.useFacetCallback)((e=>()=>{a.push(iJ(e.mode,e.difficulty))}),[a],[t]),back:a.goBack}}(),n=vd(),o=wr("neutral80"),i=(0,r.useCallback)((e=>{n({screen:yJ,button:e}),t()}),[n,t]),c=(0,r.useCallback)((()=>{n({screen:yJ,button:"SignIn"}),a()}),[n,a]);return r.createElement(yx,{title:e(".title"),screenAnalyticsId:"NewPlayerPathSignIn",gamepadAlias:"new-player-path-route-sign-in",delegateByAlias:EJ,navbarRight:r.createElement(wZ,{onClick:()=>i("Skip")})},(()=>r.createElement(r.Fragment,null,r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}),r.createElement(Zn,{role:"neutral80"},r.createElement("div",{className:"d152f126201a1b9a6775"},r.createElement("div",{className:zJ}),r.createElement("div",{className:zr()(o.background.base,o.border.base,o.text.base)},r.createElement(DK.Body,null,r.createElement("div",{className:"a3d2aaa8acda520e9edf"},r.createElement("div",{className:"b105107d9981349d70c3"},r.createElement(zm,{type:"body",align:"left",shouldNarrate:!0},e(".signInPrompt")),r.createElement(Nm,{size:4}),[e(".signInList1"),e(".signInList2")].map(((e,t)=>r.createElement(zm,{key:t,shouldNarrate:e,type:"body",align:"left",indent:!0},"• ",e))),r.createElement(Nm,{size:4}),r.createElement(zm,{type:"body",align:"left",shouldNarrate:!0},e(".createAccountPrompt"))),r.createElement(Qp,{src:HJ,className:"e18cf6f62bb43739f5ec",imageRendering:"pixelated"}))),r.createElement(DK.Footer,null,r.createElement(Ug,{horizontal:!0,inputLegend:e(".laterButton"),onClick:()=>i("MaybeLater")},e(".laterButton")),r.createElement(Nm,{size:2}),r.createElement(Ug,{horizontal:!0,gamepadAlias:EJ,inputLegend:e(".signInButton"),onClick:c,variant:"primary"},e(".signInButton")))),r.createElement("div",{className:zJ}))))))}const VJ=a.p+"assets/video_crosshair-769700a7dcf993b51540.webm",GJ=a.p+"assets/video_touch-e502156be0cd302bbb87.webm",$J=a.p+"assets/video_classic-fbc33acf7b3125a15262.webm",KJ={wrapper:"bd3b1f20f1ca575106e5",wrapperDisabled:"e86497e7e9ab599838f3",RadioBox:"dbc5182f1ac677f923f3",innerBox:"dfa28602ec9f31519fbf",innerBoxTileLeft:"e81d88b0ddca8faaaf07",innerBoxTileRight:"c6daf26d7f8d0f81e728",RadioBoxCheckedDisabled:"b195b8de38a1f50d1884",label:"fe605a1ca0f3cb0ff588",labelInner:"e93e2de004fc4a2c35fd"};function YJ({onClick:e,checked:t,label:a,description:n,disabled:o,extraSpeechProps:{index:i,groupSize:c}={index:1,groupSize:1},onFocusChanged:s,omitDescription:u=!1,readDescription:d=!1,checkedRole:m="primary",uncheckedRole:p="neutral50",textRole:f="neutral",soundEffectPressed:g}){const{t:E}=Fc("RadioBox"),h=(0,l.useFacetWrap)(t),b=wr(m),v=wr(p),y=Tr("inherit"),F=(0,l.useFacetMap)((e=>[...null!=a?[a]:[],e?E(".selected"):"",e&&d&&null!=n?n+". ":"",o?E(".disabled"):"",E(".count",[`${i+1}`,`${c}`])].join(" . ")),[d,n,a,i,c,o,E],[h]),S=(0,l.useFacetMap)((e=>{var t,a,n,r;return zr()(KJ.RadioBox,{[null!==(t=b.background.interactive)&&void 0!==t?t:""]:e,[null!==(a=b.border.interactive)&&void 0!==a?a:""]:e,[null!==(n=v.background.interactive)&&void 0!==n?n:""]:!e,[null!==(r=v.border.interactive)&&void 0!==r?r:""]:!e})}),[b,v],[h]);return r.createElement(Tm,{className:KJ.wrapper,classNameFocused:zr()(KJ.focused,kp),classNameDisabled:KJ.wrapperDisabled,narrationText:F,onClick:e,onFocusChanged:s,inputLegend:!1,disabled:o,soundEffectPressed:null!=g?g:y.toggle},r.createElement("fast-div",{className:S},r.createElement(wp,null),r.createElement(Lp,{effect:"specular"}),r.createElement(l.Mount,{when:h},r.createElement("div",{className:KJ.innerBox},r.createElement("div",{className:KJ.innerBoxTileLeft}),r.createElement("div",{className:KJ.innerBoxTileRight})))),Boolean(a)&&r.createElement("div",{className:zr()(KJ.label)},Boolean(!u)&&Boolean(n)&&r.createElement(Nm,{size:4}),r.createElement(zm,{type:"body",role:f,variant:o?"dimmer":void 0},a),Boolean(!u)&&Boolean(n)&&r.createElement(r.Fragment,null,r.createElement(zm,{type:"captionShort",role:f,variant:"dimmer"},r.createElement("div",{className:KJ.labelInner},n)),r.createElement(Nm,{size:4}))))}let XJ=0;const qJ=()=>{};function QJ({options:e,title:t,onChange:a=qJ,value:n,disabled:l=!1,disabledValues:o,onFocusChanged:i,checkedRole:c,uncheckedRole:s,wrapperRole:u="neutral",soundEffectPressed:d}){const m=(0,r.useRef)(null),p=wr(u),f=Tr(u);-1===e.findIndex((e=>e.value===n))&&console.warn("The provided default value does not match any of the provided options. This means that no option is selected, which is a broken state for RadioGroup.");const g=(0,r.useRef)("MCT-"+XJ++);return r.createElement(Zn,{role:u},r.createElement(Yp,{delegateFocusFromMemory:!0,disabled:l,delegateFocusByAlias:g.current,containerRef:m},r.createElement("div",{className:zr()("d62ede4d2ad292898eea",p.background.base)},r.createElement(Lp,{effect:"specular",thin:!0,left:!1,right:!1,bottom:!1}),null!=t&&""!=t&&r.createElement(r.Fragment,null,r.createElement(Nm,{size:4}),r.createElement("div",{className:"dddfc32c1e3d5ffd1dee"},r.createElement(zm,{type:"body",role:u,variant:l?"dimmer":void 0},t))),r.createElement(Nm,{size:4}),e.map(((t,m)=>r.createElement(YJ,{disabled:!!(l||o&&o.indexOf(t.value)>-1),key:m,label:t.label,description:t.description,omitDescription:t.omitDescription,readDescription:t.readDescription,gamepad:{index:m},checked:t.value===n,onClick:()=>{n!==t.value&&a(t.value)},extraSpeechProps:{index:m,groupSize:e.length},onFocusChanged:i,checkedRole:c,uncheckedRole:s,textRole:u,soundEffectPressed:null!=d?d:f.toggle}))),r.createElement(Nm,{size:4}))))}const ZJ="b7903a9f1ac26d0431fb";function JJ({startWorld:e,navbarRight:t,role:a="neutral80"}){const[n,o]=(0,l.useFacetState)("0px"),i=(0,r.useRef)(null),c=Jr(),{t:s}=Fc("TouchControlSelectionRoute"),u=(0,l.useSharedFacet)(Rc),[d,m]=(0,r.useState)(Nc.CLASSIC),p=(0,l.useSharedFacet)(Ni),f=(0,l.useFacetCallback)((e=>()=>{e.inWorldCreation=!1,c.goBack()}),[c],[p]),g=(0,l.useFacetCallback)((t=>()=>{t.touchControlScheme=d,t.showTouchControlSelectionScreen=!1,e()}),[d,e],[u]),E=wr(a),h="touch",b="classic",v="crosshair",y=(0,r.useRef)(null),F=(0,r.useRef)(null),S=(0,r.useRef)(null),C=(0,r.useMemo)((()=>[y,S,F]),[]),M=(0,l.useFacetCallback)((e=>t=>{let a=Nc.TOUCH;if(t==b?a=Nc.CLASSIC:t==v&&(a=Nc.CROSSHAIR),e.playVideoInTouchControlSelectionScreen)for(let e=Nc.TOUCH;e<=Nc.CLASSIC;++e){const t=C[e].current;e==a?null!=t&&(t.currentTime=0,t.play()):null==t||t.pause()}m(a)}),[C],[u]);(0,l.useFacetEffect)((e=>{switch(e.touchControlScheme){case Nc.CLASSIC:M(b);break;case Nc.TOUCH:M(h);break;case Nc.CROSSHAIR:M(v)}}),[M],[u]);const w=(0,r.useCallback)((()=>{if(i.current){const{width:e}=i.current.getBoundingClientRect();e>0?o(.48*e+"px"):requestAnimationFrame(w)}}),[o]);function k(e){return d==e?"100%":"0px"}function T(e){return d==e?"100%":"0px"}(0,r.useEffect)((()=>(w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w))),[w]);const P=[s(".header")+". ",s(".title")+". ",(d==Nc.CLASSIC?s(".classicLabel"):d==Nc.TOUCH?s(".touchLabel"):s(".crosshairLabel"))+". ",s(".selected")+". ",d==Nc.CLASSIC?s(".classicInfo"):d==Nc.TOUCH?s(".touchInfo"):s(".crosshairInfo")].join(" . ");return r.createElement(av,null,r.createElement(ev,{text:P}),r.createElement(yv,{onBackButton:f,center:r.createElement(zm,{type:"header5A"},s(".header")),gamepadAlias:"touch-control-selection",right:t},r.createElement(Cv,null,r.createElement(Cv.Row,{gamepadIndex:0},r.createElement(Cv.Column,{gamepadIndex:0,wideSize:8,narrowSize:4},r.createElement(jf,{gamepadIndex:0},r.createElement(Nm,{size:4}),r.createElement("div",{className:zr()(ZJ,E.border.base)},r.createElement("fast-div",{ref:i,style:{height:n}},r.createElement("div",{className:zr()("dcf223a42223ce390dd2",E.background.base)},r.createElement("div",{className:"c8a7e690e362426d7e46"},r.createElement("div",{className:"ffbc7e45af761fa02a97"},r.createElement(zf,null)))),r.createElement("video",{ref:C[Nc.CLASSIC],style:{width:k(Nc.CLASSIC),height:T(Nc.CLASSIC),position:"absolute"},src:$J,loop:!0}),r.createElement("video",{ref:C[Nc.CROSSHAIR],style:{width:k(Nc.CROSSHAIR),height:T(Nc.CROSSHAIR),position:"absolute"},src:VJ,loop:!0}),r.createElement("video",{ref:C[Nc.TOUCH],style:{width:k(Nc.TOUCH),height:T(Nc.TOUCH),position:"absolute"},src:GJ,loop:!0})),r.createElement("div",{className:zr()("d54e9aca0ddff7262769",E.background.base)},r.createElement(zm,{type:"body",variant:"dimmer"},d==Nc.CLASSIC?s(".classicInfo"):d==Nc.TOUCH?s(".touchInfo"):s(".crosshairInfo")))))),r.createElement(Cv.Column,{gamepadIndex:1,wideSize:4,narrowSize:4},r.createElement(jf,{gamepadIndex:1},r.createElement(Nm,{size:4}),r.createElement("div",{className:zr()(ZJ,E.border.base)},r.createElement(QJ,{wrapperRole:a,title:s(".title"),gamepad:{index:0},options:[{label:s(".touchLabel"),value:h,description:s(".touchInfo"),omitDescription:!0,readDescription:!0},{label:s(".classicLabel"),value:b,description:s(".classicInfo"),omitDescription:!0,readDescription:!0},{label:s(".crosshairLabel"),value:v,description:s(".crosshairInfo"),omitDescription:!0,readDescription:!0}],onChange:e=>M(e),value:d==Nc.CLASSIC?b:d==Nc.TOUCH?h:v})),r.createElement(Nm,{size:4}),r.createElement(Ug,{variant:"hero",gamepadIndex:1,onClick:g,inputLegend:s(".select"),autofocus:!0,"data-testid":"select-touch-control-button",narrationSuffix:d==Nc.CLASSIC?s(".classicLabel"):d==Nc.TOUCH?s(".touchLabel"):s(".crosshairLabel")},s(".select"))))))))}function e0(){const e=vd(),{skip:t,next:a}=function(){const e=dJ(),t=lJ(),a=nJ(),n=p();return{skip:(0,l.useFacetCallback)((t=>()=>{switch(e){case $i:case Ki:return n.push(uJ(t.mode,t.difficulty));default:console.error("This should not be reachable")}}),[n,e],[t]),next:(0,l.useFacetCallback)((t=>()=>{switch(e){case $i:case Ki:case Yi:return n.push(uJ(t.mode,t.difficulty));default:return a(t.mode,t.difficulty)}}),[n,e,a],[t])}}(),[n,o]=(0,r.useState)(),i=(0,l.useFacetCallback)((a=>()=>{e({screen:SJ,button:"Skip"}),t(),a.touchControlScheme=Nc.TOUCH,o("skipped"),o(void 0)}),[e,t],[(0,l.useSharedFacet)(Rc)]),c=(0,r.useCallback)((()=>{e({screen:SJ,button:"Next"}),a()}),[e,a]),s=mJ();return r.createElement(JJ,{key:n,startWorld:c,navbarRight:s&&r.createElement(wZ,{onClick:i})})}function t0(){const{t:e}=Fc("NewPlayerPathRoute.Summary"),t=Tr("neutral"),a=lJ(),{next:n}=function(){const e=nJ(),t=dJ(),a=lJ(),n=(0,l.useSharedFacet)(PZ);return{next:(0,l.useFacetCallback)(((a,n)=>()=>{switch(t){case $i:case Ki:case Yi:n.applySelectedCharacterSkin();default:return e(a.mode,a.difficulty)}}),[e,t],[a,n])}}(),o=vd(),i=(0,r.useCallback)((()=>{o({screen:FJ,button:"Play"}),n()}),[o,n]),c=(0,l.useFacetMap)((({modeKey:t})=>e(`.${t}.heading`)),[e],[a]),s=(0,l.useFacetMap)((({translationKey:t})=>e(t+".paragraph1")),[e],[a]),u=(0,l.useFacetMap)((({translationKey:t})=>e(t+".paragraph2")),[e],[a]),d=(0,l.useFacetMap)((({modeKey:e})=>e),[],[a]),m=(0,l.useFacetMap)((({modeKey:t})=>e(`.${t}`)),[e],[a]),p=(0,l.useFacetMap)((({mode:e})=>e==Fu.SURVIVAL),[],[a]),f=(0,l.useFacetMap)((({difficultyKey:e})=>e),[],[a]),g=(0,l.useFacetMap)((({difficultyKey:t})=>e(`.${t}`)),[e],[a]),E=tv($i),h=(0,l.useSharedFacet)(Rc),b=(0,l.useFacetMap)((e=>E&&e),[E],[oJ()]),v=(0,l.useFacetMap)((t=>{switch(t.touchControlScheme){case Nc.TOUCH:return e(".controlTouchLabel");case Nc.CLASSIC:return e(".controlClassicLabel");case Nc.CROSSHAIR:return e(".controlCrosshairLabel")}}),[e],[h]),y=(0,l.useFacetMap)(((...e)=>e.join(" . ")),[],[c,s,u]);return r.createElement(MZ.Root,{gamepadAlias:"new-player-path-route-summary",screenAnalyticsId:FJ,title:e(".title"),dollColumn:r.createElement(HZ,null),bodyColumn:r.createElement(Zf,{text:y},r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}),r.createElement(MJ,null),r.createElement(MZ.Body,null,r.createElement(zm,{shouldNarrate:!0,type:"body"},c),r.createElement(Nm,{size:2}),r.createElement("div",{className:"be280b49f0a81e915e66"},r.createElement(zm,{shouldNarrate:!0,type:"captionShort",variant:"dimmer"},s),r.createElement(Nm,{size:3}),r.createElement(zm,{shouldNarrate:!0,type:"captionShort",variant:"dimmer"},u)),r.createElement(Nm,{size:6}),r.createElement("div",{className:"f87081df8b61fd84c0f9"},r.createElement(_y,{icon:r.createElement(IJ,{type:d}),role:"neutralAlpha60"},m),r.createElement(l.Mount,{when:p},r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(_y,{icon:r.createElement(IJ,{type:f}),role:"neutralAlpha60"},g))),r.createElement(l.Mount,{when:b},r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(_y,{icon:r.createElement(IJ,{type:"control"}),role:"neutralAlpha60"},v))))),r.createElement(MZ.Footer,null,r.createElement(Ug,{variant:"hero",horizontal:!0,"data-testid":"play-minecraft",soundEffectPressed:t.press,onClick:i,inputLegend:e(".play")},e(".playMinecraft"))))})}function a0(){const e=p(),t=(0,l.useFacetCallback)(((t,a)=>()=>{t.inWorldCreation?(t.inWorldCreation=!1,a.fireEventButtonPressed("Create_World_Button_OreUI",{}),t.createWorld()):e.goBack()}),[e],[(0,l.useSharedFacet)(Ni),(0,l.useSharedFacet)(pu)]);return r.createElement(JJ,{startWorld:t})}function n0(){const e=el(),t=(0,l.useSharedFacet)(SG),a=decodeURIComponent(e.id),n=(0,l.useFacetMap)((e=>e.localWorlds.find((e=>e.allContentOwned&&e.id===a))),[a],[t]),o=yG(n);return r.createElement(JJ,{startWorld:o})}let r0;function l0(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o0(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l0(Object(a),!0).forEach((function(t){i0(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l0(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i0(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c0(){const e=(0,l.useSharedFacet)(qs);return(0,l.useFacetMap)((e=>{const t=[];return e.playerList.forEach((e=>{t.push(o0(o0({},e),{},{gamerTag:e.gamertag,isCurrentlyPlaying:!1,titleHistory:ST.Unknown,favoriteStatus:Yc.UNKNOWN,presenceMessage:e.description,presence:qc.Online,titleName:"Minecraft"}))})),t}),[],[e])}!function(e){e[e.VISUAL=1]="VISUAL"}(r0||(r0={}));function s0(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u0(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s0(Object(a),!0).forEach((function(t){d0(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s0(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d0(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m0({player:e,index:t,sectionIndex:a,listLengthFacet:n,profileEntryPoints:o}){const i=RI(),c=(0,l.useFacetCallback)((e=>()=>{i({xuid:e.xuid,platformId:e.platformId})}),[i],[e]);return r.createElement(nT,{item:e,index:t,listLength:n,onMainActionClick:()=>c(),profileEntryPoint:(0,l.useFacetMap)((e=>e[a]),[a],[o]),testId:"party-invite-list",gamepadAlias:`party-invite-list-item-${a}-${t}`})}function p0({listData:e,invitedXuids:t}){const a=function(e,t){return(0,l.useFacetMap)(((e,t)=>e.map((e=>u0(u0({},e),{},{playerList:e.playerList.filter((({presence:e})=>e===qc.Online||e===qc.Away)).map((e=>u0(u0({},e),{},{variant:t.includes(e.xuid)?"party-sent-invite":"party-invite"})))})))),[],[e,t])}(e,t),{t:n}=Sc("PartyInviteListGroup"),o=(0,l.useFacetMap)((e=>e.map((e=>({role:e.role,title:e.showLength?n(".titleWithLength",[e.title,e.playerList.length.toString()]):e.title,data:e.playerList})))),[n],[a]),i=(0,l.useFacetMap)((e=>e.map((e=>e.profileEntryPoint))),[],[a]);return r.createElement(Vw,{gamepadAlias:"party-invite-list",data:o,sectionSeparator:r.createElement(Nm,{size:2}),renderSectionHeader:(e,t)=>r.createElement(PF,{role:t,label:e}),renderItem:({itemFacet:e,index:t,sectionIndex:a,listLengthFacet:n})=>r.createElement(m0,{player:e,index:t,sectionIndex:a,listLengthFacet:n,profileEntryPoints:i})})}function f0(){const e=p(),{t}=Fc("CreatePartyRoute"),{t:a}=Fc("CreatePartyRoute.narration"),n=wr("neutral80"),o=(0,l.useSharedFacet)(zw),i=(0,l.useSharedFacet)(Uw),c=(0,l.useFacetMap)((e=>e.privacy),[],[i]),s=(0,l.useFacetMap)((e=>e.pendingInvites.map((e=>e.inviteeXuid))),[],[i]),u=[{label:t(".open"),description:t(".openDescription"),value:Hw.Open},{label:t(".inviteOnly"),description:t(".inviteOnlyDescription"),value:Hw.InviteOnly}],{friends:d}=WT(),m=c0(),f=(0,l.useFacetMap)(((e,a)=>{const n=[];return e.length>0&&n.push({playerList:e,title:t(".friendsTitle",[e.length.toString()]),role:"successTint",profileEntryPoint:Qc.CreateParty_Friends,showLength:!0}),a.length>0&&n.push({playerList:a,title:t(".recentlyPlayedWithTitle"),role:"neutral",profileEntryPoint:Qc.CreateParty_RecentlyPlayedWith}),n}),[t],[d,m]),g=[a(".createParty"),a(".screen")].join(" . "),E=[t(".partySettings"),a(".verticalMenu"),t(".maxPartyExplanation")].join(" . "),h=(0,l.useFacetCallback)((e=>t=>{e.setPartyPrivacy(t)}),[],[o]);return r.createElement(av,null,r.createElement(yv,{onBackButton:e.goBack,center:r.createElement(zm,{type:"header5A"},t(".createPartyHeader")),gamepadAlias:"create-party",narrationText:g},r.createElement(Cv,null,r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:4,narrowSize:3},r.createElement(Zf,{text:E},r.createElement(Nm,{size:4}),r.createElement("div",{className:zr()(n.border.base,"a900cb7e92b87df8efb3")},r.createElement(nO,{title:t(".partySettings"),description:t(".maxPartyExplanation")}),r.createElement(mA,{onMountComplete:(0,l.useNotifyMountComplete)(),title:t(".partyPrivacy"),options:u,value:c,onChange:h,wrapToggleText:!0})))),r.createElement(Cv.Column,{wideSize:8,narrowSize:5},r.createElement(Nm,{size:4}),r.createElement(p0,{listData:f,invitedXuids:s}))))))}function g0(){const{t:e}=Fc("InviteToPartyRoute"),t=(0,l.useSharedFacet)(Uw),a=(0,l.useFacetMap)((e=>e.pendingInvites.map((e=>e.inviteeXuid))),[],[t]),{friends:n}=WT(),o=c0(),i=(0,l.useFacetMap)(((t,a)=>{const n=[];return t.length>0&&n.push({playerList:t,title:e(".friendsTitle",[t.length.toString()]),role:"successTint",profileEntryPoint:Qc.InviteToParty_Friends,showLength:!0}),a.length>0&&n.push({playerList:a,title:e(".recentlyPlayedWithTitle"),role:"neutral",profileEntryPoint:Qc.InviteToParty_RecentlyPlayedWith}),n}),[e],[n,o]);return r.createElement(yx,{title:e(".inviteToPartyHeader"),screenAnalyticsId:"InviteToParty",gamepadAlias:"invite-to-party"},(()=>r.createElement(Cv,null,r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:1,narrowSize:0}),r.createElement(Cv.Column,{wideSize:10,narrowSize:8},r.createElement(Nm,{size:4}),r.createElement(p0,{listData:i,invitedXuids:a})),r.createElement(Cv.Column,{wideSize:1,narrowSize:0})))))}const E0=a.p+"assets/sleep_steve-5b5b685f51e1ff074190.gif",h0=a.p+"assets/sleep_steve_still-2a5f77b5a8a28ee33767.png",b0=a.p+"assets/sleep_dream_apple-d5fc732fee97c54947d0.gif",v0=a.p+"assets/sleep_dream_apple_still-326c4b99ab6651cfb463.png",y0=a.p+"assets/sleep_dream_creeper-40220c8f629d9c72a3d1.gif",F0=a.p+"assets/sleep_dream_creeper_still-3769b288b3a9ec33dd2c.png",S0=a.p+"assets/sleep_dream_diamond-638b3a14282031c9db66.gif",C0=a.p+"assets/sleep_dream_diamond_still-2565c29be34f7c4e711c.png",M0=a.p+"assets/sleep_dream_dirthut-88c2fdbcf83a4a1b272a.gif",w0=a.p+"assets/sleep_dream_dirthut_still-b48a2d94356013a9e4dd.png",k0=a.p+"assets/sleep_dream_pickaxe-52045d79bd091ad561e7.gif",T0=a.p+"assets/sleep_dream_pickaxe_still-6613aa8d49affe4d26a8.png",P0=a.p+"assets/sleep_dream_poppy-30c798bd4883d33e12b0.gif",I0=a.p+"assets/sleep_dream_poppy_still-3ca37e5ab78ed5b85b98.png";function x0({children:e,role:t="informative",className:a}){return r.createElement(Zn,{role:t},r.createElement("div",{className:zr()("eed83eab52955867dc36",a)},e))}const A0=[b0,y0,S0,M0,k0,P0],O0=[v0,F0,C0,w0,T0,I0],N0=function(){const e=Math.floor(6*Math.random());return A0[e]}(),R0=function(){const e=Math.floor(6*Math.random());return O0[e]}(),L0=()=>{const[e,t]=La();(0,r.useEffect)((()=>(t(!0),()=>{t(!1)})),[t]);const{t:a}=Sc("IdleScreenRoute");return r.createElement(av,null,r.createElement(Cv,null,r.createElement(Cv.Row,{gamepadIndex:0,fullHeight:!0},r.createElement(Cv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},r.createElement("div",{className:"df82ebf0e1680e8ad128"},r.createElement(x0,{className:"a3a2199de2cf4c76af8b"},r.createElement("div",{className:"da63b87b306726fa5659"},r.createElement(KP,{gifSrc:E0,imageSrc:h0,className:"cb6c048924f2f31fba8f"}),r.createElement(KP,{gifSrc:N0,imageSrc:R0,className:"c67872d4c1ee37de79f6"})),r.createElement(zm,{align:"left",type:"body",className:"b0a7dd1939fa32756a45"},a(".text")))))),r.createElement(LE.Space,null)))},_0=({open:e,isOpen:t})=>{const a=(0,l.useSharedFacet)($a);(0,l.useFacetEffect)((t=>{const a=t.screenAnimationEnabled?10:0,n=setTimeout(e,a);return()=>{clearTimeout(n)}}),[e],[a]);const n=p(),[o,i]=(0,r.useState)(!1);return(0,l.useFacetEffect)(((e,t)=>{if(!e&&o)return((e,t)=>{let a=!1;const n=setTimeout((()=>{a=!0,e()}),t);return()=>{clearTimeout(n),a||e()}})((()=>n.goBack()),t.screenAnimationEnabled?275:0);e&&i(!0)}),[n,o,i],[t,a]),null},D0={start:"Start",ingame:"Ingame"},W0=()=>{const e=(0,l.useFacetMap)((e=>{var t,a;const n=null!==(t=e.get("context"))&&void 0!==t?t:"";return null!==(a=D0[n])&&void 0!==a?a:""}),[],[h()]);return r.createElement(xl,{data:e},(e=>r.createElement(B0,{screenAnalyticsId:e},(({openFriendsDrawer:e,isFriendsDrawerOpen:t})=>r.createElement(_0,{open:e,isOpen:t})))))},B0=({screenAnalyticsId:e,children:t})=>tv(oc)?r.createElement(JI,{children:t,screenAnalyticsId:e}):r.createElement(tx,{children:t,screenAnalyticsId:e}),U0=a.p+"assets/minecraft-logo-5756c1e8cf52f5d85ceb.png",z0=(0,l.sharedFacet)("vanilla.progressTracker");function H0(){const e=g(),t=(0,l.useFacetMap)((e=>e.key),[],[e]),a=(0,l.useSharedFacet)(z0),{background:n,border:o}=wr("neutral"),{narrateText:i,preventNarrateText:c}=Hf({interruptible:!1}),s=(0,l.useFacetMap)((e=>e.progressPercentage/100),[],[a]),u=(0,l.useFacetMap)((e=>e.progressMessage),[],[a]),d=(0,l.useFacetCallback)((e=>t=>{e.startProgress(t)}),[],[a]);return(0,l.useFacetEffect)((e=>{d(e)}),[d],[t]),(0,l.useFacetEffect)((e=>{i(e)}),[i,c],[u]),r.createElement(av,{role:"neutral80"},r.createElement("div",{className:"c28c9f765361fc16495c"},r.createElement("div",{className:"e75ab505f467fcbe5457"},r.createElement(dB,{minWidth:200,minHeight:35,className:"b90e976eea679b5f97d3",src:U0})),r.createElement(Zg,{percentage:s}),r.createElement("div",{className:zr()("ca7cae71a1c64e35cc71",n.base,o.base)},r.createElement(zm,{align:"center",type:"body"},u)),r.createElement(LE.Space,null)))}const j0="bf34fed5b5baf36da417";function V0({tabs:e,gamepadAliasNamespace:t,value:a,onChange:n,narrationTitle:o,enableGamepadShortcuts:i,onTabHoveredSoundEffect:c,onTabPressedSoundEffect:s,isCondensed:u=!1,role:d="neutral",badgeRole:m}){const{t:p}=Fc("TabBar"),f=(0,r.useRef)(null),g=(0,l.useFacetWrap)(null!=i&&i),E=(0,l.useFacetWrap)(e),h=(0,l.useFacetMap)((e=>e.length),[],[E]),b=(0,l.useFacetWrap)(a),v=(0,l.useFacetMap)((e=>`${p(".narrationGroup",[e])}`),[p],[(0,l.useFacetWrap)(o)]),y=Tr(d),F=cn(),S=(0,l.useFacetCallback)(((e,t)=>(a,r)=>{if(t===a)return;const l=null!=e?e:y.toggle;null!=l&&F(l),n(a,r)}),[n,y.toggle,F],[(0,l.useFacetWrap)(s),b]);return r.createElement(Zf,{text:v},r.createElement("div",{ref:f,className:"d5e62977d5a4efd93a15"},r.createElement(l.Map,{array:E},((e,a)=>r.createElement($0,{gamepadAliasNamespace:t,key:`tab_${a}`,index:a,length:h,tab:e,selectedTab:b,onChange:S,onTabHoveredSoundEffect:c,isCondensed:u,badgeRole:m}))),r.createElement(l.Mount,{when:g},r.createElement(G0,{value:b,onChange:S,tabs:E}))))}const G0=function({value:e,tabs:t,onChange:a}){var n;const o=ct(),i=(0,l.useFacetWrap)(null!==(n=lF())&&void 0!==n&&n),c=(0,l.useFacetCallback)((e=>t=>e[t].value),[],[t]),s=(0,l.useFacetCallback)((e=>t=>e.findIndex((({value:e})=>e===t))),[],[t]),u=(0,l.useFacetMap)((e=>s(e)),[s],[e]),d=(0,l.useFacetCallback)((e=>()=>{const t=e-1;if(t>-1){const e=c(t);e!==l.NO_VALUE&&a(e,!0)}}),[c,a],[u]),m=(0,l.useFacetCallback)(((e,t)=>()=>{const n=t+1;if(n<e.length){const e=c(n);e!==l.NO_VALUE&&a(e,!0)}}),[c,a],[t,u]),p=$E.useIsAnyModalVisible(),f=(0,l.useFacetMap)(((e,t)=>({button:j.LEFT_BUMPER,disabled:e||t})),[],[p,i]),g=(0,l.useFacetMap)(((e,t)=>({button:j.RIGHT_BUMPER,disabled:e||t})),[],[p,i]);return r.createElement(l.Mount,{when:o},r.createElement(r.Fragment,null,r.createElement(Xf,{options:f,onClick:d}),r.createElement(Xf,{options:g,onClick:m}),r.createElement("div",{className:"d6a37da29d567fde0b49"},r.createElement(LE.Icon,{button:j.LEFT_BUMPER})),r.createElement("div",{className:"fd41627f2d5bdd7f8cac"},r.createElement(LE.Icon,{button:j.RIGHT_BUMPER}))))};function $0({gamepadAliasNamespace:e,selectedTab:t,onChange:a,index:n,length:o,tab:i,onTabHoveredSoundEffect:c,onTabPressedSoundEffect:s,isCondensed:u=!1,role:d="neutral",badgeRole:m}){const{t:p}=Fc("TabBar"),{narrateText:f}=Hf(),g=wr(d),E=(0,l.useFacetMap)((e=>{var t;return null!==(t=e["data-testid"])&&void 0!==t?t:`tab-${e.value}`}),[],[i]),h=(0,l.useFacetMap)(((e,t)=>e===t.value),[],[t,i]),b=(0,l.useFacetMap)((e=>!e),[],[h]),v=(0,l.useFacetMap)(((e,t,a)=>[e.label,p(".narrationComponentType"),p(".selectedTab",[`${n+1}`,`${a}`]),p("."+(t?"selected":"notSelected")),e.hint].filter((e=>e)).join(" . ")),[n,p],[i,h,o]),y=(0,l.useFacetMap)((e=>zr()("d450fa8976c8da24fb8c",{c6d539f79d54bd07ac6f:u,[j0]:e})),[u],[h]),F=(0,l.useFacetCallback)((e=>()=>{f(p(".selected")),a(e.value,!1)}),[f,a,p],[i]),S=(0,l.useFacetMap)((t=>K0(e,t.value)),[e],[i]),C=(0,l.useFacetMap)((e=>!e&&p(".open")),[p],[h]),M=(0,l.useFacetMap)(((e,t)=>{var a;return null===(a=e.icons)||void 0===a?void 0:a[t?"selected":"unselected"]}),[],[i,h]),w=(0,l.useFacetMap)((e=>null!=e.badge),[],[i]),k=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.badge)&&void 0!==t?t:0}),[],[i]),T=(0,l.useFacetMap)((e=>zr()("cf2b24397b5299eaacf4",e?"a5e361f58e6dd2d0f340":null)),[],[w]),P=(0,l.useFacetMap)((e=>e.label),[],[i]);return r.createElement(Tm,{className:y,classNameFocused:"edad1e6828925bfd551b",classNamePressed:j0,classNameHovered:"f829fe742a82bfafedb3",onClick:F,gamepadAlias:S,gamepadIndex:n,inputLegend:C,soundEffectHovered:c,soundEffectPressed:s,narrationText:v,"data-testid":E},r.createElement("fast-div",{className:T},r.createElement(zm,{type:"body",role:d,verticalAlign:"center",disableable:h,interactive:b},r.createElement(xl,{data:M},(e=>null!=e?r.createElement(r.Fragment,null,e,r.createElement(Nm,{size:2})):null)),r.createElement(xm,null,P)),r.createElement(l.Mount,{when:w},r.createElement("div",{className:"cba87105ab9e85984a5a"},r.createElement(Nm,{size:2}),r.createElement(iF,{role:m},k)))),r.createElement(l.Mount,{when:h},r.createElement("div",{className:zr()("f4dcc17cf5bbf89c982f",g.icon.base)})))}function K0(e,t){return`tab-bar-${e}-${t}`}V0.getFocusAlias=K0;const Y0=a.p+"assets/UI_Menu_ServerTab-e7c3c035b7d6ba5a414b.png",X0=a.p+"assets/UI_Menu_RealmsTab-c7419af9abd527149fcc.png",q0=a.p+"assets/UI_Menu_WorldsTab-dfd408c83c4cf07814b8.png",Q0=a.p+"assets/UI_Menu_WorldsTab_Alt01-1d8f1ecac14db3fa1dd8.png",Z0=a.p+"assets/UI_Menu_WorldsTab_Alt02-cc2f9c3073f4f3fcc5d2.png",J0=a.p+"assets/Realms_Default_Thumbnail_3840-998f353288f2319bc09b.jpg",e1="f3dd48a2b9eca357da6f",t1="e54f894bc4bab15c2fc9";function a1(e){switch(e){case Fu.SPECTATOR:return".spectator";case Fu.ADVENTURE:return".adventure";case Fu.SURVIVAL:return".survival";case Fu.CREATIVE:return".creative";default:return".unknown"}}let n1;!function(e){e.REALMS_INFORMATION="realms-information-focus-alias",e.REALMS_PLAY_BUTTON="realms-play-button-focus-alias"}(n1||(n1={}));const r1=a.p+"assets/enter-icon-31b5adba97b53cfb1d79.png";function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l1.apply(null,arguments)}const o1=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("ba82cb533049b5161e88",t);return r.createElement(Qp,l1({},a,{className:n,src:r1,imageRendering:"pixelated"}))},i1="realmsLeaveRealmModalCancel",c1=yp((({realmName:e,onClose:t,onLeaveRealm:a})=>{const{t:n}=Fc("PlayScreen.realmsTab.realmsLeaveRealmModal"),o=(0,l.useFacetMap)((e=>n(".description",[e])),[n],[(0,l.useFacetWrap)(null!=e?e:"")]),i=(0,r.useCallback)((()=>{t(),a()}),[t,a]);return r.createElement($E,{defaultFocusAlias:i1},r.createElement($E.Header,null,n(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:o},o)),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{gamepadAlias:i1,inputLegend:n(".cancelAction"),horizontal:!0,onClick:t},n(".cancelAction")),r.createElement(Nm,{size:4}),r.createElement(Ug,{onClick:i,inputLegend:n(".leaveRealmAction"),variant:"destructive",horizontal:!0,"data-testid":"confirm-leave-realm-button"},n(".leaveRealmAction"))))})),s1="realmsLeaveRealErrormModalClose",u1=yp((({onClose:e})=>{const{t}=Fc("PlayScreen.realmsTab.realmsLeaveRealmErrorModal");return r.createElement($E,{defaultFocusAlias:s1},r.createElement($E.Header,{onClose:e},t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:t(".description"),center:!0},t(".description"))),r.createElement($E.Buttons,null,r.createElement(Ug,{variant:"secondary",inputLegend:t(".closeAction"),onClick:e,gamepadAlias:s1},t(".closeAction"))))})),d1="renewRealmsInPreviewModalCancel",m1=yp((({onClose:e})=>{const{t}=Fc("PlayScreen.realmsTab.renewRealmsInPreviewModal");return r.createElement($E,{defaultFocusAlias:d1},r.createElement($E.Header,null,t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:t(".description")},t(".description"))),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{"data-testid":"close",gamepadAlias:d1,inputLegend:t(".closeAction"),horizontal:!0,onClick:e},t(".closeAction"))))})),p1={wrapper:"c23abfe9d7e7e14e2c2f",right:"b1f4669f63de38c63a75",additionalPlayers:"b7707f3862cbc161156e",transitionLoadingOpacity:"c9d2eee29f1f3dff930a",animateOpacity:"d549550730783594a8a9",retriggeredAnimateOpacity:"e32030947eed41ef6218",hiddenContent:"f088ce60119117a71812",content:"aa2df2382243b8d0121d"},f1=(0,r.createContext)(null);function g1({full:e,amountOfPlayersOnline:t,visibleAvatarsOverride:a,playerAvatars:n,hideOnCollapse:o=!1,loading:i=(0,l.createFacet)({initialValue:!1}),worldId:c,alignment:s="left"}){const{t:u}=Fc("PlayerAvatarsOnlineInWorld"),d=(0,l.useFacetWrap)(null!=n?n:[]),m=(0,r.useRef)(null),p=(0,r.useRef)(null),f=(0,l.useFacetMap)((({width:e})=>e),[],[Wd(m)]),g=(0,l.useFacetMap)((({width:e})=>e),[],[Wd(p)]),E=Ad(uk.VARIANT_SIZES.medium),h=(0,r.useContext)(f1),b=(0,l.useFacetMemo)(((e,t,a)=>{const n=Math.ceil(e),r=(null!=h?h:Math.ceil(t))-(2*n+a);return Math.max(Math.floor(r/e),0)}),[h],[E,f,g]),v=(0,l.useFacetMap)(((e,t)=>null!=a?e.slice(0,a):e.slice(0,t)),[a],[d,b]),y=(0,l.useFacetMap)(((e,t)=>function({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:a}){if(null!=a){if(e>0&&e>a&&0!=a)return"+"+(e-a);if(e===a)return""}else if(e>0&&e>t&&0!=t)return"+"+(e-t);return e===t||0===e?"":`${e}`}({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:a})),[a],[t,b]),F=(0,l.useFacetMap)(((e,t)=>null!=t&&null!=e&&0!=e.length),[],[v,y]),S=(0,l.useFacetMap)(((e,t)=>function({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:a,hideOnCollapse:n=!1}){return(!n||0!==t)&&e!==a&&e!==t&&(!n&&0!=e&&0===t||(null!=a?0!==a&&e>a:null==a&&0!==t&&e>t))}({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:a,hideOnCollapse:o})),[a,o],[t,b]),C=(0,l.useFacetMap)(((e,t)=>{if(null==a)return e&&0!=t}),[a],[i,b]);return r.createElement("div",{className:zr()(p1.wrapper,{[p1.right]:"right"===s}),ref:m},r.createElement("fast-div",{key:c,className:(0,l.useFacetMap)(((e,t)=>zr()(p1.content,p1.animateOpacity,{[p1.hiddenContent]:e,[p1.transitionLoadingOpacity]:t})),[],[i,io()])},r.createElement(l.Mount,{when:F},r.createElement(xl,{data:v},(e=>r.createElement(r.Fragment,null,e.map(((t,a)=>r.createElement(r.Fragment,{key:`${t.id}`},r.createElement(uk,{variant:"medium",src:t.img,status:"online"}),a<e.length-1&&r.createElement(Nm,{size:1})))))))),r.createElement(l.Mount,{when:S},r.createElement("div",{className:p1.additionalPlayers},r.createElement(Nm,{size:1}),r.createElement(zm,{type:"captionShort"},y))),r.createElement("div",{className:p1.tagWrapper,ref:p},r.createElement(l.Mount,{when:(0,l.useFacetWrap)(null!=e&&e)},r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(_y,{role:"destructiveTint"},u(".full")))))),r.createElement(l.Mount,{when:C},r.createElement(zf,null)))}const E1="b7aab687d924b9351a26",h1="ca117a547bce1317be50";function b1({amountOfPlayersOnline:e,maxPlayers:t,realmId:a,realmOwner:n,realmOwnerName:o,playersOnlineIds:i}){const{t:c}=Fc("PlayScreen.realmsTab"),{border:s}=wr("neutral"),u=(0,l.useFacetMap)(((e,t)=>!e&&t.length>0?c(".playersOnline.realmOwner",[t]):c(".playersOnline")),[c],[(0,l.useFacetWrap)(null==n||n),(0,l.useFacetWrap)(null!=o?o:"")]),d=(0,l.useFacetMap)(((e,t)=>`${e}/${t}`),[],[e,t]),m=(0,l.useSharedFacet)(Zc),p=(0,r.useRef)(null),f=(0,r.useRef)(null),g=(0,l.useFacetCallback)((e=>t=>{e.subscribeToProfile(t,"")}),[],[m]);(0,l.useFacetEffect)((e=>{e.map((e=>{g(e.xuid)}))}),[g],[i]);const E=NT(i),h=(0,l.useFacetMap)((e=>null==e||0===e.length?[]:e.map((e=>{if(null!=e){if(""!==e.data.xblProfilePic)return{img:e.data.xblProfilePic,id:e.data.xuid};if(""!==e.data.platformProfilePic)return{img:e.data.platformProfilePic,id:e.data.platformId}}return{img:"",id:"placeholder"}})).filter((e=>null!=e))),[],[E]),b=(0,l.useFacetMap)((e=>null!=e&&0!==e.length&&e.map((e=>null!=e&&null!=e.data.xuid&&e.state.xblState===Xc.Loading)).some((e=>e))),[],[E]),v=(0,l.useFacetMap)((e=>!e),[],[b]),y=py(v,1e4),F=(0,l.useFacetMap)(((e,t,a)=>e&&null!=a&&a.length>0?"avatars":0===a.length||t?"no-avatars":"loading"),[],[v,y,h]),S=(0,l.useFacetMap)((e=>"loading"===e),[],[F]);return r.createElement("div",{ref:p,className:zr()(s.base,"e0660ad6f6ec51639978")},r.createElement("div",{className:"eb16d8d5a9f498457336",ref:f},r.createElement(zm,{type:"body"},u),r.createElement(Nm,{size:4}),r.createElement(xl,{data:e},(e=>r.createElement(r.Fragment,null,r.createElement("div",{className:zr()(E1,{[h1]:e})},r.createElement(Y$,{variant:"dimmer"})),r.createElement("div",{className:zr()(E1,{[h1]:!e})},r.createElement(xM.Player,{role:"neutral",variant:"dimmer",width:24,height:24}))))),r.createElement(Nm,{size:3}),r.createElement(zm,{type:"body",variant:"dimmer"},d),r.createElement(Nm,{size:3})),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>"no-avatars"!=e),[],[F])},r.createElement(xl,{data:a},(t=>r.createElement("div",{className:"aeb45c04a055dbd47105"},r.createElement(g1,{alignment:"right",worldId:t,hideOnCollapse:!0,loading:S,amountOfPlayersOnline:e,playerAvatars:h}))))))}function v1(){const e=(0,l.useFacetMap)((e=>Tk(e.platform)||Ik(e.platform)),[],[(0,l.useSharedFacet)(dl)]);return(0,l.useFacetMap)(((e,t)=>e.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive)||t&&!e.hasPremiumNetworkAccess),[],[(0,l.useSharedFacet)(Wu),e])}function y1(){const e=p(),{t}=Fc("ClaimPreviewOrBetaRealmBanner"),a=(0,l.useFacetMap)((e=>e.isBetaBuild?t(".text.beta"):t(".text.preview")),[t],[(0,l.useSharedFacet)(wi)]);return r.createElement(pr,{collection:hT},r.createElement(AP,{role:"informative"},r.createElement(AP.Text,null,a),r.createElement(AP.Link,{"data-testId":"realms-tab-claim-preview-realm-banner-link",onClick:()=>e.push("/realms-choose-realm/realm-subscriptions")},t(".link"))))}function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},F1.apply(null,arguments)}function S1(e){let{children:t,imgSrc:a,Icon:n,linebreak:o=!1,disabledTextOverride:i,disabled:c,variant:s="secondary",narrationPrefix:u,showBadge:d=!0,badgeRole:m,badgeCount:p,badgeOverflowCount:f}=e,g=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["children","imgSrc","Icon","linebreak","disabledTextOverride","disabled","variant","narrationPrefix","showBadge","badgeRole","badgeCount","badgeOverflowCount"]);const E=(0,l.useFacetWrap)(c),h=(0,l.useFacetMap)((e=>"hero"===s&&!e),[s],[E]),b="hero"===s?"primary":s,v=(0,l.useFacetWrap)(d);return r.createElement(Wg,F1({disabled:c,variant:s,narrationPrefix:null!=u?u:t},g),r.createElement(r.Fragment,null,r.createElement(Bg,{buttonVariant:s,imgSrc:a,Icon:n,linebreak:o,disabledTextOverride:i,role:b,hasShadow:h},t),r.createElement(l.Mount,{when:v},r.createElement("div",{className:"c4e8da069d2f2f556d32"},r.createElement(iF,{role:m,overflowCount:f},p)))))}const C1=a.p+"assets/generic-error-art-8fa35da1a2442a3b4db5.png";function M1({context:e}){const{t}=Fc(`PlayScreen.genericError.${e}`),a=t(".title"),n=t(".description"),o=my({wide:8,narrow:6,width:256}),i=(0,l.useFacetMap)((e=>e?"ceaa12cb459fb2fdd4d9":"e7eb9f90342e7a4d3bb5"),[],[o]);return r.createElement(r.Fragment,null,r.createElement(_v,{title:a,text:n,imgSrc:C1,imgClass:i}),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))}const w1=r.createContext({isRealmOwner:(0,l.createFacet)({initialValue:!1}),expired:(0,l.createFacet)({initialValue:!1}),closed:(0,l.createFacet)({initialValue:!1}),full:(0,l.createFacet)({initialValue:!1}),maxPlayers:(0,l.createFacet)({initialValue:0}),realmId:(0,l.createFacet)({initialValue:""}),realmName:(0,l.createFacet)({initialValue:""}),realmSubscriptionId:(0,l.createFacet)({initialValue:""}),realmOwnerName:(0,l.createFacet)({initialValue:""}),areStoriesNotificationsEnabled:(0,l.createFacet)({initialValue:!1}),storiesUnreadCount:(0,l.createFacet)({initialValue:0}),lastPlayed:(0,l.createFacet)({initialValue:""}),slotName:(0,l.createFacet)({initialValue:""})});function k1({loading:e}){const{t,f:a}=Fc("PlayScreen.realmsTab"),n=vd(),o=wr("neutral80"),i=g(),c=(0,l.useSharedFacet)(Ac),s=(0,l.useSharedFacet)(Ws),u=(0,l.useSharedFacet)(Ms),d=(0,l.useFacetMap)(((e,t)=>{var a;return null===(a=e.realms)||void 0===a?void 0:a.find((e=>`${e.world.id}`===t.id))}),[],[s,i]),m=(0,l.useFacetMap)((e=>e),[],[(0,l.useFacetWrap)(null!=e&&e)]),f=(0,l.useFacetMap)((e=>null!=e?"defined":"undefined"),[],[d]),E=(0,l.useFacetMap)((e=>null!=e?e.world.id.toString():""),[],[d]),h=(0,l.useFacetMap)((e=>null!=e?e.world.realmName:""),[],[d]),b=(0,l.useFacetMap)(((e,t)=>{if(e.state===Cs.DONE&&""!=t){var a;const n=null===(a=e.subscriptions)||void 0===a?void 0:a.find((e=>e.realmId===t));if(null!=n)return n.subscriptionId}return""}),[],[u,E]),v=(0,l.useFacetMap)((e=>null!=e?e.world.slotName:""),[],[d]),y=(0,l.useFacetMap)((e=>null!=e&&null!=e.world&&e.world.expired),[],[d]),F=(0,l.useFacetMap)((e=>null!=e&&null!=e.world&&e.world.closed),[],[d]),S=(0,l.useFacetMap)((e=>null!=e&&e.isOwner),[],[d]),C=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.world.ownerXuid)&&void 0!==t?t:""}),[],[d]),M=(0,l.useFacetMap)(((e,t)=>{if(null!=e){if(t)return!1;if(null!=e.world)return e.world.full}return!1}),[],[d,S]),w=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.world.description)&&void 0!==t?t:"-"}),[],[d]),k=(0,l.useFacetMap)((e=>{var t;return null!=e&&""!=(null===(t=e.world)||void 0===t?void 0:t.description)}),[],[d]),{profileName:T}=xT({ownerId:C}),P=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.areStoriesNotificationsEnabled)&&void 0!==t&&t}),[],[d]),I=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.unreadStoryCount)&&void 0!==t?t:0}),[],[d]),x=(0,l.useFacetMap)((e=>null!=e&&null!=e.world.maxPlayers?e.world.maxPlayers:0),[],[d]),A=(0,l.useFacetMap)((e=>function(e,t){const a=[];for(let e=0;e<t.length;e++)a.push(t[e]);return a}(0,null!=e&&null!=e.world.onlinePlayers?e.world.onlinePlayers:[])),[],[d]),O=(0,l.useFacetMap)(((e,t)=>{{const a=null==t||null==t.world.ownerXuid?"":t.world.ownerXuid;return e.filter((e=>e.xuid!==a)).length}}),[],[A,d]),N=(0,l.useFacetMap)(((e,t)=>!t&&!e),[],[y,F]),R=(0,l.useFacetMap)((e=>0===e.length?[]:e.map((e=>({xuid:e.xuid,platformId:""})))),[],[A]),L=(0,l.useFacetMap)((e=>null!=e&&null!=e.world.lastSaved?a.getHowLongAgoAsString(e.world.lastSaved):"-"),[a],[d]),_=c1.useModal(),D=u1.useModal(),W=(0,l.useSharedFacet)(Ic),B=(0,l.useFacetMap)((e=>null!=e.joinRealmResult&&e.joinRealmResult!==Tc.Ok&&e.joinRealmResult!==Tc.TimelineRequired&&e.joinRealmResult!==Tc.InvalidCrossPlatformMultiplayerSkin),[],[W]),U=(0,l.useFacetMap)((e=>null!=e.joinRealmResult&&e.joinRealmResult===Tc.InvalidCrossPlatformMultiplayerSkin),[],[W]),z=(0,l.useFacetCallback)((e=>()=>{e.clearJoinRealmTaskState()}),[],[W]),H=(0,l.useSharedFacet)(Os),j=(0,l.useFacetMap)((e=>e.leaveRealmProgress),[],[H]),V=(0,l.useFacetMap)((e=>e==Hk.RUNNING),[],[j]),G=p(),$=Vk(((e,a,r,l,o)=>function*(){if(""===l)return;n({screen:"RealmsTabContent",button:"LeaveRealm",details:{realmId:l}});const i=function(e,t){const a=1===e.realms.length,n=e.realms[0].world.id===Number(t);return a?"":n?e.realms[1].world.id.toString():e.realms[0].world.id.toString()}(e,l);a.clearLeaveRealm(),a.leaveRealm(Number(l)),yield j,a.leaveRealmResult===As.Success?(r.queueSnackbar(t(".leaveRealmNotification",[o])),G.replace(`/play/realms/${i}`)):a.leaveRealmResult!==As.Unknown&&D.show()}),[j,G,D,n,t],[s,H,c,E,h]),K=(0,l.useSharedFacet)(Ti),Y=function(e,t,a){const{t:n}=Fc("RealmTag");return(0,l.useFacetMap)(((e,t)=>{const a=[];return null==e?[]:(e.isOwner?a.push({label:n(t?".previewRealmOwner":".realmOwner"),role:"primaryTint"}):a.push({label:n(t?".invitedToPreviewRealm":".invitedToRealm"),role:"primaryTint"}),e.world.isHardcore?a.push({label:n(".hardcore"),role:"destructiveTint"}):null!=e.world.gameMode&&a.push({label:n(a1(e.world.gameMode)),role:"neutral100"}),a)}),[n,true],[e,t])}(d,K),X=(0,l.useIsPaused)(),q=(0,l.useFacetMap)((e=>X||e),[X],[m]),Q=(0,l.useFacetUnwrap)(io()),Z=Od(),J=(0,r.useMemo)((()=>({isRealmOwner:S,expired:y,closed:F,full:M,maxPlayers:x,realmId:E,realmSubscriptionId:b,realmName:h,realmOwnerName:T,areStoriesNotificationsEnabled:P,storiesUnreadCount:I,lastPlayed:L,slotName:v})),[S,y,F,M,x,E,h,b,T,P,I,L,v]),ee=(0,l.useFacetMap)(((e,t)=>zr()({ac20d36f9f29fd89c457:e||t})),[],[F,y]),te=(0,l.useFacetMap)(((e,t)=>e&&null!=t.realms&&0!=t.realms.length),[],[K,(0,l.useSharedFacet)(Nu)]),ae=(0,l.useFacetMap)((e=>[t(".realmsDescription"),e].join(" . ")),[t],[w]),ne=(0,l.useFacetMap)(((e,t)=>e&&!t),[],[F,y]);return r.createElement(w1.Provider,{value:J},r.createElement(jf,{alwaysVisibleChildren:r.createElement(Nm,{size:"narrow"===Z?1:2}),floating:"desktop"!==Z,loading:q,defaultFocusedChildBehavior:"remember",spinnerBackgroundColor:!0===Q?void 0:"#48494A"},r.createElement(l.Mount,{when:te},r.createElement(r.Fragment,null,r.createElement(y1,null),r.createElement(Nm,{size:2}))),r.createElement(xl,{data:f},(e=>"defined"===e?r.createElement("div",{className:zr()("fb5a0c4277c505c49a94",o.background.base,o.border.base)},r.createElement(pr,{collection:bT},r.createElement(l.Mount,{when:y},r.createElement("div",{className:e1},r.createElement(AP,{role:"destructiveTint"},r.createElement(AP.Text,null,t(".bannerExpired"))))),r.createElement(l.Mount,{when:ne},r.createElement("div",{className:e1},r.createElement(AP,{role:"destructiveTint"},r.createElement(AP.Text,null,t(".bannerClosed"))))),r.createElement(l.Mount,{when:M},r.createElement("div",{className:e1},r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,t(".bannerFull"))))),r.createElement("div",{className:"a64224c88bf70d4c815e"},r.createElement(Qp,{aspectRatio:Qp.AspectRatio["10:3"],src:J0,className:ee}),r.createElement(l.Mount,{when:N},r.createElement("div",{className:"d3ffe1c83309ca9a507f"},r.createElement(b1,{realmId:E,realmOwner:S,realmOwnerName:T,amountOfPlayersOnline:O,playersOnlineIds:R,maxPlayers:x})))),r.createElement(T1,{tags:Y,onLeaveRealm:_.show}),r.createElement(l.Mount,{when:S},r.createElement(I1,null)),r.createElement(l.Mount,{when:B},r.createElement(JV.Component,{worldId:E})),r.createElement(l.Mount,{when:U},r.createElement(tG.Component,{onClose:z,onChangeSkin:()=>{G.push("/persona")}})),r.createElement(l.Mount,{when:k},r.createElement(Fg,{focusable:!0,role:"neutral80",narrationText:ae},r.createElement(Cg,null,t(".realmsDescription")),r.createElement(Nm,{size:2}),r.createElement(Mg,null,w))))):r.createElement(M1,{context:"realmDetails"}))),r.createElement(Nm,{size:"narrow"===Z?1:2}),r.createElement(Nm,{size:"narrow"===Z?1:2}),r.createElement(LE.Space,null)),r.createElement(l.Mount,{when:V},r.createElement(Ay.Component,{title:t(".leaveRealmProgressMessage")})),r.createElement(l.Mount,{when:_.isVisible},r.createElement(c1.Component,{onClose:_.hide,onLeaveRealm:$,realmName:h})),r.createElement(l.Mount,{when:D.isVisible},r.createElement(u1.Component,{onClose:D.hide})))}function T1({tags:e,onLeaveRealm:t}){const{t:a}=Fc("PlayScreen.realmsTab"),{t:n}=Fc("PlayScreen.realmsTab.narration"),{realmName:o,slotName:i,lastPlayed:c,isRealmOwner:s}=(0,r.useContext)(w1),u=Od(),d=(0,l.useFacetMap)((e=>e.map(((t,a)=>{const n=e.length>a;return null!=t.narrationString?n?t.narrationString+" . ":t.narrationString:n?t.label+" . ":t.label}))),[],[e]),m=(0,l.useFacetMap)(((e,t,r,l)=>[n(".realmInformation"),e,t,r.join(" . "),a(".lastPlayed"),l].join(" . ")),[n,a],[o,i,d,c]);return r.createElement(Fg,{role:"neutral80",narrationText:m},r.createElement("div",{className:"da72abe8754cb9b6e06b"},r.createElement("div",{className:t1},r.createElement(Cg,null,o),r.createElement(Nm,{size:2}),r.createElement(Mg,null,i),r.createElement(Nm,{size:2}),r.createElement(Dy,{tags:e}),r.createElement(Nm,{size:2}),r.createElement("div",{className:"ac225e9e230c0d31b11d"},r.createElement(zm,{type:"captionShort",variant:"dimmer"},a(".lastPlayed")),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"captionShort"},c))),r.createElement(Nm,{size:3}),r.createElement("div",{className:t1},r.createElement(P1,null),r.createElement(Nm,{size:2}),r.createElement(x1,null),r.createElement(l.Mount,{when:s,condition:!1},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(Ug,{inputLegend:a(".leaveRealm"),variant:"destructive",delayedClick:!0,onClick:t,narrationSuffix:[n(".buttonSiblings",["3","3"]),a(".options")].join(" . "),Icon:"narrow"!==u?o1:void 0,"data-testid":"leave-realm-button"},a(".leaveRealm")))))))}function P1(){const{t:e}=Fc("PlayScreen.realmsTab"),{t}=Fc("PlayScreen.realmsTab.narration"),{isRealmOwner:a,expired:n,closed:o,full:i,maxPlayers:c,realmId:s,realmName:u,realmSubscriptionId:d}=(0,r.useContext)(w1),m=(0,l.useFacetMap)((e=>e.doNotShowMultiplayerOnlineSafetyWarning),[],[(0,l.useSharedFacet)(xc)]),f=(0,l.useFacetMap)(((e,t,a,n,r)=>t||a||n?t&&e?""==r?"disabled-renew":"renew":a&&e?"re-open":"disabled-play":"play"),[],[a,n,o,i,d]),g=FO({worldId:s,screen:"RealmsTabContent",button:"PlayRealm",telemetryLocation:Pc.PlayScreen}),E=p(),h=v1(),b=Zk.useModal(),v=tv(qi),y=(0,l.useFacetCallback)(((e,t,a)=>()=>{a.onlyCellularAvailable&&a.showCellularDataFee?b.show():e?g():E.push(`/online-play-warning/${tY(Su.Realm)}/${t}`)}),[g,E,b],[m,s,(0,l.useSharedFacet)(dl)]),F=(0,l.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0,g()}),[g],[(0,l.useSharedFacet)(Rc)]),S=m1.useModal(),C=p(),M=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{if(e.isAnyBeta)S.show();else{let e=v?"/realms-purchase-subscription":"/realms-create-screen";e+=t>2?v?"/plus?":"?offerTier=10player&":v?"/core?":"?offerTier=2player&",e+=`realmName=${a}&subscriptionId=${n}`,C.push(e)}}),[S,C,v],[(0,l.useSharedFacet)(wi),c,u,d]),w=(0,l.useFacetCallback)(((e,t)=>()=>{e.openRealm(parseInt(t))}),[],[(0,l.useSharedFacet)(us),s]),k=(0,l.useFacetMap)((e=>t(".buttonSiblings",["1",e?"4":"3"])),[t],[a]);return r.createElement(r.Fragment,null,r.createElement(xl,{data:f},(t=>{switch(t){case"play":return r.createElement(Ug,{gamepadAlias:n1.REALMS_PLAY_BUTTON,inputLegend:e(".play"),variant:"hero",delayedClick:!0,onClick:y,narrationSuffix:k,"data-testid":"play-realm-button",disabled:h},e(".play"));case"renew":return r.createElement(Ug,{"data-testid":"renew-realm-button",inputLegend:e(".renew"),variant:"primary",delayedClick:!0,onClick:M,narrationSuffix:k,disabled:h},e(".renew"));case"re-open":return r.createElement(Ug,{"data-testid":"reopen-realm-button",inputLegend:e(".reOpen"),variant:"primary",delayedClick:!0,onClick:w,narrationSuffix:k,disabled:h},e(".reOpen"));case"disabled-play":return r.createElement(Ug,{inputLegend:e(".play"),variant:"hero",delayedClick:!0,onClick:()=>{},narrationSuffix:k,disabled:!0},e(".play"));case"disabled-renew":return r.createElement(Ug,{inputLegend:e(".renew"),variant:"primary",delayedClick:!0,onClick:()=>{},narrationSuffix:k,disabled:!0},e(".renew"))}})),r.createElement(l.Mount,{when:S.isVisible},r.createElement(m1.Component,{onClose:S.hide})),r.createElement(l.Mount,{when:b.isVisible},r.createElement(Zk.Component,{onClose:b.hide,joinServer:F})))}function I1(){const{t:e}=Fc("PlayScreen.realmsTab"),{t}=Fc("PlayScreen.realmsTab.narration"),{realmId:a}=(0,r.useContext)(w1),n=p(),o=(0,l.useFacetCallback)((e=>()=>{n.push(`/settings/members/${e}`)}),[n],[a]),i=(0,l.useFacetCallback)((e=>()=>{n.push(`/realm-settings/${e}`)}),[n],[a]);return r.createElement(Fg,{role:"neutral80"},r.createElement("div",{className:"c87fe738b486fc8e2f01"},r.createElement(Ug,{Icon:xM.AddPlayer,"data-testid":"realm-add-members-button",inputLegend:e(".addMembers"),variant:"secondary",delayedClick:!0,horizontal:!0,onClick:o,narrationSuffix:t(".buttonSiblings",["3","4"])},e(".addMembers")),r.createElement(Nm,{size:2}),r.createElement(Ug,{Icon:xM.Settings,"data-testid":"realm-settings-button",inputLegend:e(".settings"),variant:"secondary",delayedClick:!0,horizontal:!0,onClick:i,narrationSuffix:t(".buttonSiblings",["4","4"])},e(".settings"))))}function x1(){const e=p(),t=vd(),{t:a}=Fc("PlayScreen.realmsTab"),{t:n}=Fc("PlayScreen.realmsTab.narration"),{realmId:o,areStoriesNotificationsEnabled:i,storiesUnreadCount:c,isRealmOwner:s}=(0,r.useContext)(w1),u=(0,l.useSharedFacet)(Us),d=(0,l.useFacetCallback)(((a,n)=>()=>{t({button:"Stories",screen:"RealmsTabContent",details:{realmId:a}}),n.clearRealmUnreadCount(a),e.push(`/realms-story-entry-route/feed/${a}`)}),[e,t],[o,u]),m=(0,l.useFacetMap)((e=>e>0),[],[c]),f=(0,l.useFacetMap)(((e,t)=>e&&t),[],[i,m]),g=(0,l.useFacetMap)(((e,t,a)=>{const r=[n(".buttonSiblings",["2",a?"4":"3"])];if(e){const e=1===t?n(".realmInformation.storiesUnreadBadgeCount.single"):n(".realmInformation.storiesUnreadBadgeCount.multiple",[`${t}`]);r.push(e)}return r.join(" . ")}),[n],[f,c,s]);return r.createElement(S1,{Icon:()=>r.createElement(xl,{data:f},(e=>r.createElement(r.Fragment,null,e?r.createElement(xM.RealmsStoriesUnread,{role:"inherit",width:24,height:24}):r.createElement(xM.RealmsStories,{role:"inherit",width:24,height:24}),r.createElement(Nm,{size:1})))),inputLegend:a(".realmsStories"),variant:"secondary",delayedClick:!0,onClick:d,narrationSuffix:g,"data-testid":"realm-stories-button",showBadge:f,badgeRole:"neutral",badgeCount:c},a(".realmsStories"))}const A1=a.p+"assets/icon-info-5845df63b31a16736c15.png";function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},O1.apply(null,arguments)}const N1=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("e4605d9918f2d2bef1de",t);return r.createElement(Qp,O1({},a,{className:n,src:A1,imageRendering:"pixelated"}))},R1=a.p+"assets/icon-plus-48f3d515c1b14439d2ae.png";function L1(){return L1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},L1.apply(null,arguments)}const _1=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("f64b3ddf02032f8bb877",t);return r.createElement(Qp,L1({},a,{className:n,src:R1,imageRendering:"pixelated"}))};var D1;!function(e){e[e.ADD=0]="ADD",e[e.JOIN=1]="JOIN",e[e.LEARN=2]="LEARN"}(D1||(D1={}));const W1=yp((({onClose:e,onAddRealmSubscription:t,onJoinExistingRealm:a})=>{const{t:n}=Fc("PlayScreen.realmsTab.joinRealmOptionsModalMenu"),o=p(),i=r.useCallback((n=>{n===D1.ADD&&(t(),e()),n===D1.JOIN&&(a(),e()),n===D1.LEARN&&(o.push("/realms-pdp"),e())}),[t,a,e,o]),c=(0,l.useFacetMap)((e=>e.isAnyBeta?[{enumeration:n(".optionsEnumeration",["1","1"]),gamepadAlias:"join",label:n(".joinRealm"),value:D1.JOIN,Icon:o1,testId:"realm-join-existing-button"},{enumeration:n(".optionsEnumeration",["2","2"]),gamepadAlias:"learn",label:n(".learnMore"),value:D1.LEARN,Icon:N1,testId:"realm-learn-more-button"}]:[{enumeration:n(".optionsEnumeration",["1","3"]),gamepadAlias:"sub",label:n(".addRealm"),value:D1.ADD,Icon:_1,testId:"realm-add-subscription-button"},{enumeration:n(".optionsEnumeration",["2","3"]),gamepadAlias:"join",label:n(".joinRealm"),value:D1.JOIN,Icon:o1,testId:"realm-join-existing-button"},{enumeration:n(".optionsEnumeration",["3","3"]),gamepadAlias:"learn",label:n(".learnMore"),value:D1.LEARN,Icon:N1,testId:"realm-learn-more-button"}]),[n],[(0,l.useSharedFacet)(wi)]);return r.createElement(YT,{onClose:e,onItemSelect:i,isOpen:!0,title:n(".title"),items:c})}));function B1(e){return{label:e.world.realmName,value:`${e.world.id}`,expired:e.world.expired,closed:e.world.closed,full:e.world.full,amountOfPlayersOnline:null==e.world.onlinePlayers?0:e.world.onlinePlayers.filter((e=>e.isOnline)).length,playersOnline:null!=e.world.onlinePlayers&&e.world.onlinePlayers.filter((e=>e.isOnline)).length>0,ownsRealm:e.isOwner,ownerXuid:e.world.ownerXuid,areStoriesNotificationsEnabled:e.areStoriesNotificationsEnabled,storiesUnreadCount:e.unreadStoryCount}}function U1(e){if(null==e.realms)return{ownedRealms:{realms:[]},joinedRealms:{realms:[]}};const t=(a=e.realms.map(B1),[...a].sort(z1));var a;const[n,r]=t.reduce((([e,t],a)=>(a.ownsRealm?e.push(a):t.push(a),[e,t])),[[],[]]);return{ownedRealms:{realms:n},joinedRealms:{realms:r}}}function z1(e,t){return e.expired&&!t.expired?1:!e.expired&&t.expired?-1:e.closed&&!t.closed?1:!e.closed&&t.closed?-1:!e.ownsRealm&&t.ownsRealm?1:e.ownsRealm&&!t.ownsRealm?-1:!e.playersOnline&&t.playersOnline?1:e.playersOnline&&!t.playersOnline?-1:0}const H1=()=>(0,l.useFacetMemo)((e=>function(e){const t=U1(e);return null!=t.ownedRealms.realms&&0!==t.ownedRealms.realms.length?t.ownedRealms.realms[0].value:0===t.ownedRealms.realms.length&&null!=t.joinedRealms.realms&&0!==t.joinedRealms.realms.length?t.joinedRealms.realms[0].value:""}(e)),[],[(0,l.useSharedFacet)(Ws)]),j1="RealmsTabList",V1="RealmsTabListOptions";function G1({item:e}){const t=vd(),a=(0,l.useFacetMap)((e=>e.value),[],[e]),n=(0,l.useFacetMap)((e=>e.label),[],[e]),o=(0,l.useFacetMap)((e=>e.expired),[],[e]),i=(0,l.useFacetMap)((e=>e.closed),[],[e]),c=(0,l.useFacetMap)((e=>e.full),[],[e]),s=(0,l.useFacetMap)((e=>e.ownerXuid),[],[e]),u=(0,l.useFacetMap)((e=>e.ownsRealm),[],[e]),d=(0,l.useFacetMap)((e=>e.playersOnline),[],[e]),m=(0,l.useFacetMap)((e=>e.amountOfPlayersOnline),[],[e]),f=(0,l.useFacetMap)((e=>e.areStoriesNotificationsEnabled&&e.storiesUnreadCount>0),[],[e]),E=g(),h=p(),{t:b}=Fc("PlayScreen.realmsTab.sideMenu"),{t:v}=Fc("PlayScreen.realmsTab.sideMenu.narration"),y=function(e){const{t}=Fc("RealmTag");return(0,l.useFacetMap)(((e,a)=>e.expired?{label:t(".expired"),role:"destructiveTint"}:!e.expired&&e.closed?{label:t(".closed"),role:"destructiveTint"}:e.full&&e.ownerXuid!==a.currentXuid?{label:t(".full"),role:"noticeTint"}:void 0),[t],[e,(0,l.useSharedFacet)(Wu)])}(e),F=(0,l.useFacetMap)(((e,t,a,n,r,l,o)=>{const i=[];return e&&!t?b(".closed"):e&&t||t?b(".expired"):l&&!o?b(".full"):a?1===n?v(".onePlayerOnline",["1"]):v(".playersOnlineAmount",[`${n}`]):(r&&i.push(v(".hasNotification")),i.join(" . "))}),[b,v],[i,o,d,m,f,c,u]),S=(0,l.useFacetCallback)((e=>t=>{e.subscribeToProfile(t,"")}),[],[(0,l.useSharedFacet)(Zc)]);(0,l.useFacetEffect)((e=>{S(e)}),[S],[s]);const C=(0,l.useFacetMap)(((e,t)=>`${t.id}`===e.value),[],[e,E]),M=AT((0,l.useFacetMap)((e=>({xuid:e,platformId:""})),[],[s])),w=(0,l.useFacetMap)((e=>{if(null!=e){if(""!==e.data.xblProfilePic)return e.data.xblProfilePic;if(""!==e.data.platformProfilePic)return e.data.platformProfilePic}return""}),[],[M]),k=(0,l.useFacetMap)((e=>{if(null!=e){if(""!==e.data.xblName)return e.data.xblName;if(""!==e.data.platformName)return e.data.platformName}return""}),[],[M]),T=(0,l.useFacetMap)((e=>e?"online":"offline"),[],[d]),P=(0,l.useFacetCallback)(((e,a)=>()=>{e.value!==a.id&&(t({button:"SelectRealm",screen:j1,details:{realmId:e.value}}),h.replace(`/play/realms/${e.value}`))}),[h,t],[e,E]);return r.createElement(l.DeferredMount,null,r.createElement(Sx.ListItem,{narrationText:n,narrationSuffix:F,selected:C,value:a,onSelect:P,inputLegend:b(".inputLegend"),hasSubtitle:!0,testId:(0,l.useFacetMap)((e=>e?"realm-list-item-your-realm":"realm-list-item-joined-realm"),[],[u])},r.createElement(Sx.ItemCell,null,r.createElement(uk,{grayscaleAvatar:(0,l.useFacetMap)(((e,t)=>e||t),[],[i,o]),variant:"large",src:w,status:T})),r.createElement(Sx.ItemMain,null,r.createElement(zm,{type:"body"},r.createElement(xm,null,n)),r.createElement(zm,{type:"captionShort",variant:"dimmer",role:"neutral"},r.createElement(xm,null,k))),r.createElement(Sx.ItemCell,null,r.createElement(xl,{data:y},(e=>null!=e&&null!=e.role?r.createElement(_y,{role:e.role},e.label):r.createElement(r.Fragment,null)))),r.createElement(l.Mount,{when:f},r.createElement(Sx.ItemCell,null,r.createElement(iF,null)))))}const $1=(0,l.createStaticFacet)(!1);function K1({loading:e=$1}){return r.createElement(l.DeferredMountProvider,null,r.createElement(Y1,{loading:e}))}function Y1({loading:e}){const t=(0,l.useSharedFacet)(Ws),a=vd(),n=Od(),o="neutralAlpha60",{t:i}=Fc("PlayScreen.realmsTab.sideMenu"),{t:c}=Fc("PlayScreen.realmsTab.sideMenu.narration"),s=p(),u=v1(),d=(0,l.useSharedFacet)(yK),m=(0,l.useFacetMap)((e=>FK(e.categoryData,bK.INVITES)),[],[d]),f=(0,l.useFacetMap)((e=>c(".buttonSiblings",["1","2"])+" . "+c(".invitationsAmount",[`${e}`])),[c],[m]),g=(0,l.useFacetMap)((e=>e>0),[],[m]),E=r.createElement(Nm,{size:"narrow"===n?1:2}),h=W1.useModal(),b=(0,l.useFacetMap)((e=>e?c(".buttonSiblings",["2","2"]):""),[c],[g]),v=(0,l.useFacetMap)((e=>e.isAnyBeta?i(".joinRealm"):i(".addOrJoinRealm")),[i],[(0,l.useSharedFacet)(wi)]),y=r.useCallback((()=>{a({screen:j1,button:"AddJoinRealmServer"}),h.show()}),[a,h]),F=r.useCallback((()=>{a({screen:j1,button:"InvitationsPending"}),s.push("/inbox/"+bK.INVITES)}),[a,s]),S=r.useCallback((()=>{a({screen:V1,button:"JoinExistingRealm"}),s.push("/join-realms-server")}),[a,s]),C=r.useCallback((()=>{a({screen:V1,button:"AddRealmSubscription"}),s.push("/realms-plan-picker")}),[a,s]),M=(0,l.useFacetMap)((e=>U1(e)),[],[t]),w=(0,l.useFacetMap)((e=>null!=e.ownedRealms.realms&&e.ownedRealms.realms.length>0),[],[M]),k=(0,l.useFacetMap)((e=>null!=e.joinedRealms.realms&&e.joinedRealms.realms.length>0),[],[M]),T=(0,l.useFacetMap)((e=>i(".ownedRealms",[`${e.ownedRealms.realms.length}`])),[i],[M]),P=(0,l.useFacetMap)((e=>i(".joinedRealms",[`${e.joinedRealms.realms.length}`])),[i],[M]),I=(0,l.useFacetMap)((e=>e.joinedRealms.realms),[],[M]);return r.createElement(Zn,{role:o},r.createElement(Zf,{text:c(".context")},r.createElement(Sx,{loading:(0,l.useFacetMap)(((e,t)=>e||t),[],[e,(0,l.useIsDeferring)()]),spacingAroundSideMenu:E,autofocus:!0,delegateFocusByAlias:"remember",role:o},r.createElement(l.Mount,{when:g},r.createElement(r.Fragment,null,r.createElement(Sx.Item,null,r.createElement(S1,{inputLegend:i(".invitations"),narrationPrefix:c(".invitations"),narrationSuffix:f,variant:"secondary",onClick:F,"data-testid":"realm-invitations-button",showBadge:!0,badgeRole:"neutral",badgeCount:m},i(".invitations"))))),r.createElement(l.Mount,{when:w},r.createElement(r.Fragment,null,r.createElement(Sx.Divider,{label:r.createElement("fast-text",{text:T})}),r.createElement(Zf,{text:T},r.createElement(Sx.ItemList,{items:(0,l.useFacetMap)((e=>e.ownedRealms.realms),[],[M]),renderItem:G1})))),r.createElement(l.Mount,{when:k},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(Sx.Divider,{label:r.createElement("fast-text",{text:P})}),r.createElement(Zf,{text:P},r.createElement(Sx.ItemList,{items:I,renderItem:G1})))),r.createElement(Nm,{size:2}),r.createElement(Sx.Item,null,r.createElement(Ug,{Icon:xM.Plus,inputLegend:v,narrationSuffix:b,variant:"secondary",onClick:y,"data-testid":"realm-add-join-button",disabled:u},v)),r.createElement(l.Mount,{when:h.isVisible},r.createElement(W1.Component,{onClose:h.hide,onJoinExistingRealm:S,onAddRealmSubscription:C})))))}const X1="a7448d5db19b84334dd4",q1=a.p+"assets/Realms-Missing-84884319b654eeae4011.png",Q1=a.p+"assets/Realms-Empty-714f9275b786d6ffa804.png",Z1=a.p+"assets/preproduction-access-art-realms-7007a2cf204971ca3b4b.png";function J1({expiration:e,isTempBan:t}){const{t:a}=Fc("PlayScreen.RealmsBannedMessage"),n=(0,l.useFacetMap)((e=>t||bI(e)),[t],[e]),o=(0,l.useFacetMap)((e=>e?".Suspended":".Banned"),[],[n]),i=(0,l.useFacetMap)((e=>a(`${e}.title`)),[a],[o]),c=(0,l.useFacetMap)((e=>a(`${e}.bodyFirstParagraph`)),[a],[o]),s=(0,l.useFacetMap)((e=>a(`${e}.bodySecondParagraph`)),[a],[o]),u=a(".role"),d=(0,l.useFacetMap)(((e,t,a)=>[e,u,t,a].join(" . ")),[u],[i,c,s]),m=(0,l.useFacetMap)((e=>a(`${e}.helpButton`)),[a],[o]);return r.createElement(SI,{narrationText:d,title:i,bodyFirstParagraph:c,bodySecondParagraph:s,helpButtonCopy:m,banExpiration:e})}function e2({realmsFetchRetry:e,showUnknownError:t=!1}){const a=(0,l.useSharedFacet)(zs),n=(0,l.useSharedFacet)(Ws),o=(0,l.useFacetMap)((e=>{var a;return t?_s.Unknown:null!==(a=e.error)&&void 0!==a?a:_s.None}),[t],[n]),i=(0,l.useFacetMap)((e=>e.compatibility),[],[n]),c=(0,l.useFacetWrap)(""),s=(0,l.useFacetMap)(((e,t)=>e===Ls.UserNotAllowed&&t.isRealmsPreproductionEnvironment),[],[i,a]);return r.createElement(jf,{floating:!0,flexShrinkWrapper:!0},r.createElement(Nm,{size:2}),r.createElement(xl,{data:o},(t=>{switch(t){case _s.ServiceError:return r.createElement(n2,{realmsFetchRetry:e});case _s.RateLimit:return r.createElement(a2,null);case _s.Compatibility:return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:s},r.createElement(r2,null)),r.createElement(l.Mount,{when:s,condition:!1},r.createElement(M1,{context:"realms"})));case _s.RealmsBan:return r.createElement(J1,{expiration:c,isTempBan:!1});case _s.RealmsSuspension:return r.createElement(J1,{expiration:c,isTempBan:!0});case _s.NetworkError:case _s.Unknown:default:return r.createElement(M1,{context:"realms"})}})),r.createElement(LE.Space,null))}function t2({title:e,text:t,imgSrc:a,borderless:n=!1,buttons:o}){const i=my({wide:8,narrow:6,width:256}),c=(0,l.useFacetMap)((e=>e?"b37175d29551d022fc87":"e4cbdb4a4bc94d699b06"),[],[i]);return r.createElement(r.Fragment,null,r.createElement(_v,{borderless:n,title:e,text:t,imgSrc:a,imgClass:c,buttons:o}),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))}function a2(){const{t:e}=Sc("PlayScreen.realmsTab.realmsTabErrorStates.realmsRateLimitError");return r.createElement(t2,{title:e(".title"),text:e(".text"),imgSrc:q1})}function n2({realmsFetchRetry:e}){const{t}=Sc("PlayScreen.realmsTab.realmsTabErrorStates.realmsServiceError");return r.createElement(t2,{title:t(".title"),text:t(null!=e?".text.tryAgain":".text.wait"),imgSrc:Q1,buttons:e?[{text:t(".button.text"),inputLegend:t(".button.inputLegend"),onClick:e}]:void 0})}function r2(){const{t:e}=Sc("PlayScreen.realmsTab.realmsTabErrorStates.realmsPreprodError"),t=(0,l.useFacetCallback)((e=>()=>{e.openLink(Uu.PreproductionRealmsGuide)}),[],[(0,l.useSharedFacet)(zu)]);return r.createElement(t2,{title:e(".title"),text:e(".text"),imgSrc:Z1,buttons:[{text:e(".button.text"),imgSrc:zI.imgSrc,inputLegend:e(".button.inputLegend"),onClick:t}]})}let l2;function o2(e){return(0,l.useFacetMap)(((t,a)=>{switch(e){case l2.FRIENDS:return!Tk(a.platform)&&!Ik(a.platform)&&!t.isLoggedInWithMicrosoftAccount||(Tk(a.platform)||Ik(a.platform))&&!t.isLoggedInWithMicrosoftAccount&&!t.isSignedInPlatformNetwork;case l2.REALMS:return(Tk(a.platform)||Ik(a.platform))&&!t.isSignedInPlatformNetwork||!t.isLoggedInWithMicrosoftAccount;case l2.SERVERS:case l2.TEMPLATES:default:return!t.isLoggedInWithMicrosoftAccount}}),[e],[(0,l.useSharedFacet)(Wu),(0,l.useSharedFacet)(dl)])}function i2(){return(0,l.useFacetMap)((e=>e.thirdPartyServersStatus===fu.Win32DevBuildWarning),[],[(0,l.useSharedFacet)(gu)])}function c2(e){return(0,l.useFacetMap)(((t,a,n,r,l,o)=>r.isOnline?t?"trial-mode":!a.isSignedInPlatformNetwork&&Ik(r.platform)?"platform-guest-nintendo":!a.isSignedInPlatformNetwork&&Tk(r.platform)?"platform-guest-playstation":!a.isLoggedInWithMicrosoftAccount&&Ik(r.platform)?"msa-guest-nintendo":!a.isLoggedInWithMicrosoftAccount&&Tk(r.platform)?"msa-guest-playstation":n?"not-signed-in":a.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive_Parental)?"parental-online-safety":a.isBanned?"banned":a.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive)?"multiplayer-disabled":!a.hasPremiumNetworkAccess&&Tk(r.platform)?"no-online-subscription-playstation":!a.hasPremiumNetworkAccess&&Ik(r.platform)?"no-online-subscription-nintendo":a.userPermissions.multiplayer.denyReasons.includes(Lu.Platform_PlayStation)||a.userPermissions.multiplayer.denyReasons.includes(Lu.Platform_NintendoSwitch)?"platform-multiplayer-disabled":e!==l2.SERVERS||l.fetchThirdPartyWorldsTaskState!==Hk.DONE||null!=l.thirdPartyWorlds&&0!==l.thirdPartyWorlds.length||o?"content":"no-content":"offline"),[e],[(0,l.useSharedFacet)(Bu),(0,l.useSharedFacet)(Wu),o2(e),(0,l.useSharedFacet)(dl),(0,l.useSharedFacet)(gu),i2()])}function s2({disableHeaderButtons:e=!1}){const t=(0,l.useSharedFacet)(Ws),a=(0,l.useFacetMap)((e=>e.state===Ds.Loading||e.state===Ds.Unknown),[],[t]),n=(0,l.useFacetMap)((e=>e.state===Ds.Error),[],[t]),o=(0,l.useFacetMap)((e=>null==e.realms||0==e.realms.length),[],[t]),i=(0,l.useFacetCallback)((e=>()=>{e.initialize()}),[],[(0,l.useSharedFacet)(ws)]),c=(0,l.useFacetMap)((e=>e.state===Cs.IDLE),[],[(0,l.useSharedFacet)(Ms)]);(0,l.useFacetEffect)((e=>{e&&i()}),[i],[c]);const s=(0,l.useFacetMap)((({id:e})=>e),[],[g()]),u=(0,l.useFacetMap)(((e,t,a,n)=>a?"realms-fetch-failed":n||!t&&e?!t&&e?"no-realms":"content":"no-id"),[],[o,a,n,s]),d=(0,r.useRef)(null),m=(0,r.useRef)(null),p=(0,l.useFacetMap)(((e,t)=>e?null!=t.realms&&0!=t.realms.length?"claim-preview-realm-banner":"purchase-on-retail-banner":"no-preview-banner"),[],[(0,l.useSharedFacet)(Ti),(0,l.useSharedFacet)(Nu)]);return r.createElement(pr,{collection:bT},r.createElement(xl,{data:u},(t=>{switch(t){case"realms-fetch-failed":return r.createElement(e2,null);case"no-id":return r.createElement(p2,null);case"content":return r.createElement(Yp,{containerRef:d,delegateFocusByAlias:n1.REALMS_INFORMATION,delegateFocusFromMemory:!0},r.createElement(Cv.Row,{innerRef:d},r.createElement(Cv.Column,{wideSize:4,narrowSize:3},r.createElement(K1,{loading:a})),r.createElement(Yp,{containerRef:m,delegateFocusByAlias:n1.REALMS_PLAY_BUTTON,alias:n1.REALMS_INFORMATION},r.createElement(Cv.Column,{innerRef:m,wideSize:8,narrowSize:5},r.createElement(k1,{loading:a})))));default:return r.createElement(kB,{hideUpsellButton:!0,header:r.createElement(r.Fragment,null,r.createElement(xl,{data:p},(e=>{switch(e){case"claim-preview-realm-banner":return r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(y1,null));case"purchase-on-retail-banner":return r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(TB,null));default:return null}})),r.createElement(Nm,{size:2}),r.createElement(d2,{disabled:e}),r.createElement(Nm,{size:2})),footer:r.createElement(Nm,{size:2}),screenAnalyticsId:"RealmsTabPDP"})}})))}function u2(){const e=c2(l2.REALMS),{t}=Sc("PlayScreen.realmsTab");return r.createElement(r.Fragment,null,r.createElement(xl,{data:e},(e=>{switch(e){case"banned":return r.createElement(CI.InTab,null);case"offline":return r.createElement(m2,null,r.createElement(uI,{text:t(".noInternetMessage")}));case"parental-online-safety":return r.createElement(xB,{variant:"parental"});case"trial-mode":return r.createElement(nI,{context:aI.REALMS});case"no-online-subscription-nintendo":case"no-online-subscription-playstation":case"multiplayer-disabled":return r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(HB,{tab:NB.RealmsTab}),r.createElement(s2,{disableHeaderButtons:!0}));case"platform-guest-nintendo":return r.createElement(m2,null,r.createElement(xI,{context:II.Nintendo}));case"platform-guest-playstation":return r.createElement(m2,null,r.createElement(xI,{context:II.Playstation}));case"platform-multiplayer-disabled":return r.createElement(m2,null,r.createElement(VB,null));case"msa-guest-playstation":case"msa-guest-nintendo":case"not-signed-in":return r.createElement(kB,{hideUpsellButton:!0,header:r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(HB,{tab:NB.RealmsTab}),r.createElement(Nm,{size:2}),r.createElement(d2,{disabled:!0}),r.createElement(Nm,{size:2})),footer:r.createElement(Nm,{size:2}),screenAnalyticsId:"RealmsTabPDP"});case"content":return r.createElement(s2,null);default:return r.createElement(e2,{showUnknownError:!0})}})),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))}function d2({disabled:e=!1}){const t=p(),a=(0,l.useSharedFacet)(yK),{t:n}=Sc("PlayScreen.realmsTab.buttonHeader"),{t:o}=Sc("PlayScreen.realmsTab.buttonHeader.narration"),i=(0,l.useSharedFacet)(Ti),c=(0,l.useSharedFacet)(Oc),s=cB(),u=(0,l.useFacetMap)(((e,t)=>e||t===iB.ACTIVE?2:3),[],[i,s]),d=(0,l.useFacetMap)((e=>FK(e.categoryData,bK.INVITES)),[],[a]),m=o(".buttonSiblings",["1","3"]),f=(0,l.useFacetMap)(((e,t,a,n)=>o(".buttonSiblings",[a||n===iB.ACTIVE?"1":"2",`${t}`])+" . "+o(".invitationsAmount",[`${e}`])),[o],[d,u,i,s]),g=(0,l.useFacetMap)(((e,t,a)=>o(".buttonSiblings",[t||a===iB.ACTIVE?"2":"3",`${e}`])),[o],[u,i,s]),E=(0,l.useFacetMap)(((e,t,a,n,r)=>e?"no-upsell":Ik(a.platform)?"subscribe-now":n===iB.ACTIVE?"loading":t.isRealmsTrialAvailable&&r.isFinishedQueryingProductsAndPurchases&&r.isRealmsTrialOfferAvailable?"free-trial":"buy-now"),[],[i,(0,l.useSharedFacet)(Ns),(0,l.useSharedFacet)(dl),s,c]),h=(0,l.useFacetMap)((e=>!e.isLoggedInWithMicrosoftAccount),[],[(0,l.useSharedFacet)(Wu)]);return r.createElement("div",{className:"dc04be7a85bcd70b2353"},r.createElement(xl,{data:E},(a=>{switch(a){case"loading":return r.createElement("div",{className:"db1f2e96a050d2de0913"},r.createElement(zf,null));case"free-trial":return r.createElement("div",{className:X1},r.createElement(Ug,{inputLegend:n(".freeTrialUpsell"),narrationSuffix:m,variant:"primary",onClick:()=>t.push("/realms-plan-picker"),disabled:e,"data-testid":"pdp-header-free-trial-realm-button"},n(".freeTrialUpsell")));case"buy-now":return r.createElement("div",{className:X1},r.createElement(Ug,{inputLegend:n(".buyNowUpsell"),narrationSuffix:m,variant:"primary",onClick:()=>t.push("/realms-plan-picker"),disabled:e,"data-testid":"pdp-header-buy-now-realm-button"},n(".buyNowUpsell")));case"subscribe-now":return r.createElement("div",{className:X1},r.createElement(Ug,{inputLegend:n(".subscribeNowUpsell"),narrationSuffix:m,variant:"primary",onClick:()=>t.push("/realms-plan-picker"),disabled:e,"data-testid":"pdp-header-subscribe-now-realm-button"},n(".subscribeNowUpsell")));default:return r.createElement(r.Fragment,null)}})),r.createElement(Nm,{size:2}),r.createElement("div",{className:X1},r.createElement(S1,{inputLegend:n(".invitations"),narrationSuffix:f,variant:"secondary",onClick:()=>t.push("/inbox/invites"),disabled:h,"data-testid":"pdp-header-invitation-realm-button",showBadge:(0,l.useFacetMap)(((e,t)=>!t&&null!=e&&0!=e),[],[d,h]),badgeRole:"neutral",badgeCount:d},n(".invitations"))),r.createElement(Nm,{size:2}),r.createElement("div",{className:X1},r.createElement(Ug,{inputLegend:n(".joinRealm"),narrationSuffix:g,variant:"secondary",onClick:()=>t.push("/join-realms-server"),disabled:e,"data-testid":"pdp-header-join-realm-button"},n(".joinRealm"))))}function m2({children:e}){return r.createElement(jf,{floating:!0},r.createElement(Nm,{size:2}),e,r.createElement(LE.Space,null))}!function(e){e.SERVERS="SERVERS",e.REALMS="REALMS",e.FRIENDS="FRIENDS",e.TEMPLATES="TEMPLATES"}(l2||(l2={}));const p2=()=>{const e=p();return(0,l.useFacetEffect)((t=>{e.replace(`/play/realms/${t}`)}),[e],[H1()]),r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(jf,{loading:!0},r.createElement(r.Fragment,null)),r.createElement(Nm,{size:2}))};function f2(){const e=(0,l.useFacetMap)((e=>Tk(e.platform)||Ik(e.platform)),[],[(0,l.useSharedFacet)(dl)]);return(0,l.useFacetMap)(((e,t,a)=>!a&&(!e.isLoggedInWithMicrosoftAccount||e.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive)||t&&!e.hasPremiumNetworkAccess)),[],[(0,l.useSharedFacet)(Wu),e,i2()])}let g2;!function(e){e.SERVER_SIDE_MENU="server-side-menu-focus-alias",e.SERVER_DESCRIPTION="server-description-focus-alias"}(g2||(g2={}));function E2({label:e,value:t,image:a,subtitle:n,inputLegend:o,selected:i,onSelect:c}){const s=(0,l.useFacetWrap)(null!=n?n:""),u=(0,l.useFacetWrap)(null!=a?a:""),d=(0,l.useFacetMap)((e=>Boolean(e)),[],[u]),m=(0,l.useFacetMap)((e=>Boolean(e)),[],[s]),p=(0,l.useFacetMap)(((e,t)=>[e,t].filter((e=>null!=e&&""!==e)).join(" . ")),[],[e,s]);return r.createElement(Sx.ListItem,{narrationText:p,selected:i,value:t,onSelect:c,inputLegend:o,hasSubtitle:!0},r.createElement(l.Mount,{when:d},r.createElement(l.DeferredMount,null,r.createElement(Sx.ItemCell,null,r.createElement(HA,{variant:"large",border:!0,iconSrc:u,selected:i})))),r.createElement(Sx.ItemMain,null,r.createElement(zm,{type:"body",overflowEllipsis:!0},e),r.createElement(l.Mount,{when:m},r.createElement("div",{className:zr()("c453f8a5a19fe12f2ccc")},r.createElement(zm,{type:"captionShort",variant:"dimmer",role:"neutral",overflowEllipsis:!0},s)))))}function h2({item:e}){const t=p(),a=(0,l.useSharedFacet)(wc),{t:n}=Fc("PlayScreen.serverTab"),o=(0,l.useFacetMap)((e=>e.label),[],[e]),i=(0,l.useFacetMap)((e=>e.value),[],[e]),c=(0,l.useFacetMap)((e=>null!=e.message?e.message:""),[],[e]),s=(0,l.useFacetMap)((e=>null!=e.image?e.image:l.NO_VALUE),[],[e]),u=(0,l.useFacetMap)(((e,t)=>e===t.networkDetails.id),[],[i,a]),d=(0,l.useFacetMap)((e=>e.type===Su.ThirdParty),[],[e]),m=vd(),f=(0,l.useFacetCallback)((e=>()=>{switch(e.type){case Su.ThirdParty:m({button:"SelectThirdPartyServer",screen:ZK.ServerTab});break;case Su.External:m({button:"SelectExternalServer",screen:ZK.ServerTab})}t.replace(`/play/servers/${e.value}/${tY(e.type)}`)}),[t,m],[e]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:d},r.createElement(E2,{label:o,value:i,image:s,subtitle:c,inputLegend:n(".sideMenuInputLegend"),selected:u,onSelect:f})),r.createElement(l.Mount,{when:d,condition:!1},r.createElement(Sx.ListItem,{value:i,onSelect:f,selected:u,narrationText:o,inputLegend:n(".sideMenuInputLegend")},r.createElement(Sx.ItemMain,null,r.createElement(zm,{type:"body"},r.createElement(xm,null,o))))))}function b2({loading:e}){const{t}=Fc("PlayScreen.serverTab"),{t:a}=Fc("PlayScreen.serverTab.narration"),n=(0,l.useSharedFacet)(gu),o=(0,l.useSharedFacet)(zi),i=(0,l.useSharedFacet)(dl),c=t(".addServer"),s=p(),u=vd(),d="neutralAlpha60",m=Od(),f=f2(),g=(0,r.useCallback)((()=>{u({button:"AddServer",screen:ZK.ServerTab}),s.push("/play/servers/add")}),[s,u]),E=(0,l.useFacetMap)((e=>e.thirdPartyWorlds.map((e=>({message:e.msgOfTheDay,image:e.image,label:e.name,type:Su.ThirdParty,value:e.id})))),[],[n]),h=(0,l.useFacetMap)((e=>t(".featuredServer",[e.thirdPartyWorlds.length.toString()])),[t],[n]),b=(0,l.useFacetMap)((e=>e.externalServerWorlds.map((e=>({label:e.name,value:e.id,type:Su.External})))),[],[o]),v=(0,l.useFacetMap)((e=>t(".externalServer",[e.externalServerWorlds.length.toString()])),[t],[o]),y=(0,l.useFacetMap)((e=>e.externalServerWorlds.length>0),[],[o]),F=(0,l.useFacetMap)((e=>e.supportsManualAddedServers),[],[i]),S=r.createElement(Nm,{size:"narrow"===m?1:2});return r.createElement(Zn,{role:d},r.createElement(Zf,{text:a(".context")},r.createElement(Sx,{spacingAroundSideMenu:S,loading:e,gamepadAlias:g2.SERVER_SIDE_MENU,delegateFocusByAlias:"remember",role:d},r.createElement(l.Mount,{when:F},r.createElement(Sx.Item,null,r.createElement(Ug,{onClick:g,Icon:xM.Plus,inputLegend:c,variant:"secondary",disabled:f},c))),r.createElement(Zf,{text:h},r.createElement(Sx.Divider,{label:r.createElement("fast-text",{text:h})}),r.createElement(Sx.ItemList,{items:E,renderItem:h2})),r.createElement(l.Mount,{when:y},r.createElement(Zf,{text:v},r.createElement(Sx.Divider,{label:r.createElement("fast-text",{text:v})}),r.createElement(Sx.ItemList,{items:b,renderItem:h2}))),r.createElement(Nm,{size:4}))))}const v2="show-server-address-button",y2=yp((({showServerAddress:e,closeModal:t})=>{const{t:a}=Fc("PlayScreen.serverTab.ShowServerAddressModal"),n=(0,r.useCallback)((()=>{e(),t()}),[e,t]);return r.createElement($E,{onOverlayClick:t,defaultFocusAlias:v2},r.createElement($E.Header,{onClose:t},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a(".firstParagraph"),center:!0},a(".firstParagraph")),r.createElement($E.Text,{narrationText:a(".secondParagraph"),center:!0},a(".secondParagraph"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:v2,variant:"primary",inputLegend:a(".primaryButton"),onClick:n,"data-testId":v2},a(".primaryButton")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:a(".secondaryButton"),onClick:t},a(".secondaryButton"))))}));function F2(){const e=y2.useModal(),t=(0,l.useSharedFacet)(wc),a=(0,l.useFacetMap)((e=>e.networkDetails),[],[t]),n=p(),o=g(),[i,c]=(0,l.useFacetState)(!1),s=(0,l.useFacetCallback)((t=>()=>{t?c(!1):e.show()}),[c,e],[i]),u=(0,l.useFacetMap)(((e,t)=>[{fieldData:e.name,fieldName:"name"},{fieldData:e.address,fieldName:"address",showFieldData:t,handleShowFieldData:s},{fieldData:e.port.toString(),fieldName:"port"}]),[s],[a,i]),d=(0,l.useFacetMap)((e=>e.id),[],[a]),m=(0,l.useFacetCallback)((e=>()=>{n.push(`/play/servers/${e}/${tY(Su.External)}/edit`)}),[n],[d]),f="narrow"===Od(),E=f2();(0,l.useFacetEffect)((()=>{c(!1)}),[c],[o]);const h=r.createElement(r.Fragment,null,r.createElement(C2,{handleOnClick:m,disabled:E}),r.createElement(LE.Space,null));return r.createElement(r.Fragment,null,r.createElement($U,{data:u,renderItem:S2,footer:!f&&h}),f&&h,r.createElement(l.Mount,{when:e.isVisible},r.createElement(y2.Component,{showServerAddress:()=>c(!0),closeModal:e.hide})))}function S2({itemFacet:e}){const t=dn(),{t:a}=Fc("PlayScreen.serverTab.externalServerDetails"),n=(0,l.useFacetMap)((e=>!1===e.showFieldData?a(".placeholder"):e.fieldData),[a],[e]),o=(0,l.useFacetMap)((e=>a(`.${e.fieldName.toLowerCase()}`)),[a],[e]),i=(0,l.useFacetMap)(((e,t)=>a(`.${e.fieldName.toLowerCase()}`)+" . "+t),[a],[e,n]),c=(0,l.useFacetMap)((e=>null!=e.showFieldData),[],[e]),s=(0,l.useFacetMap)((e=>e.showFieldData?a(".hideButton"):a(".showButton")),[a],[e]),u=(0,l.useFacetMap)((e=>e.showFieldData?a(".hideButtonHint"):a(".showButtonHint")),[a],[e]),d=(0,l.useFacetCallback)((e=>()=>e.handleShowFieldData&&e.handleShowFieldData()),[],[e]);return r.createElement(l.DeferredMount,null,r.createElement(Fg,{role:"neutral80",focusable:t,narrationText:i},r.createElement("div",{className:"be3da078ca5c7f0f44b1"},r.createElement("div",null,r.createElement(Cg,null,n),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionShort",variant:"dimmer"},o)),r.createElement(l.Mount,{when:c},r.createElement("div",{className:"b71f8b12fdefc84f5443"},r.createElement(Ug,{horizontal:!0,inputLegend:s,onClick:d,narrationSuffix:u,"data-testid":"show-address-button"},s))))))}function C2({handleOnClick:e,disabled:t}){const a=wr("neutral"),{t:n}=Fc("PlayScreen.serverTab.externalServerDetails");return r.createElement("div",{className:zr()("d6f2fe5834627a1cedb4","b5b98b9467ee4a73720b",a.background.base,a.border.base)},r.createElement(Lp,{effect:"bevel",left:!1,right:!1}),r.createElement("div",{className:"fc752a3ef1cce0260782"},r.createElement(Ug,{inputLegend:n(".editButton"),onClick:e,narrationSuffix:n(".editBtnHint"),disabled:t,"data-testid":"edit-server-button"},n(".editButton"))))}function M2({activity:e,narration:t}){const a=(0,l.useFacetMap)((e=>e.title),[],[e]),n=(0,l.useFacetMap)((e=>e.subtitle),[],[e]),o=(0,l.useFacetMap)((e=>e.description),[],[e]),i=(0,l.useFacetMap)((e=>e.imagePath),[],[e]),c=wr("neutral");return r.createElement(Fg,{compact:!0,narrationText:t,className:"dfb479124248a095c8c8",focusable:!0},r.createElement(l.Mount,{when:(0,l.useFacetMap)(Boolean,[],[i])},r.createElement(r.Fragment,null,r.createElement("div",{className:"e7f4f9e16bfa130fa8fb"},r.createElement(Nm,{size:3}),r.createElement(Qp,{className:zr()(c.border.base,"c37898995a1230137f4f"),aspectRatio:Qp.AspectRatio["1:1"],src:i}),r.createElement(Nm,{size:3})),r.createElement(Nm,{size:3}))),r.createElement("div",{className:"ced1ea103fb7a7b86cbf"},r.createElement(Nm,{size:3}),r.createElement(Cg,null,a),r.createElement(zm,{type:"captionLong",variant:"dimmer"},n),r.createElement(Nm,{size:2}),r.createElement(Mg,null,o),r.createElement(Nm,{size:3})))}function w2(){const{t:e}=Fc("PlayScreen.serverTab"),t=(0,l.useSharedFacet)(wc),a=(0,l.useFacetMap)((e=>e.networkDetails.newsTitle),[],[t]),n=(0,l.useFacetMap)((e=>e.networkDetails.newsDescription),[],[t]),o=(0,l.useFacetMap)(((t,a)=>`${e(".newsTitle")} . ${t} . ${a}`),[e],[a,n]);return r.createElement(Fg,{role:"neutral80",focusable:!0,narrationText:o},r.createElement(Nm,{size:3}),r.createElement(Cg,null,e(".newsTitle")),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionShort",variant:"dimmer"},a),r.createElement(Nm,{size:3}),r.createElement(Mg,null,n),r.createElement(Nm,{size:6}))}const k2="ab21b0b494dac74c4226";function T2({playerCount:e,maximumCapacity:t}){const a=(0,l.useFacetMap)(((e,t)=>0!==e&&e===t),[],[e,t]),{t:n}=Fc("PlayScreen.serverCapacity");return r.createElement("div",{className:"d96a03678330da7afff7"},r.createElement(Y$,null),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"body",variant:"dimmer"},e),r.createElement(l.Mount,{when:a},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(_y,{role:"destructiveTint"},n(".fullLabel")))))}const P2=a.p+"assets/pingAnimation-4d7a029e5f864843c958.png",I2=()=>r.createElement("div",{className:"e3c6094d383442b62b26"},r.createElement(zF,{src:P2,frames:6,duration:700,width:11.2,height:2,repeat:"infinite",imageRendering:"pixelated"})),x2=e=>{switch(e){case Cu.Low:return r.createElement($M,null);case Cu.High:return r.createElement(XM,null);case Cu.Medium:return r.createElement(ZM,null);default:return r.createElement(I2,null)}};function A2({pingStatus:e}){const t=O2(e);return r.createElement("div",{className:"aa0b378e51336a3018a8"},r.createElement(xl,{data:e,children:x2}),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"body",variant:"dimmer"},t))}const O2=e=>{const{t}=Fc("PlayScreen.ServerPing");return(0,l.useFacetMap)((e=>{switch(e){case Cu.Low:return t(".lowPing");case Cu.Medium:return t(".mediumPing");case Cu.High:return t(".highPing");default:return t(".loadingPing")}}),[t],[e])};function N2(e){switch(e){case kc.NoInternetError:return".NoInternetError";case kc.ThirdPartyBadIPError:return".ThirdPartyBadIPError";case kc.InvalidUserError:case kc.UserNeedsToBeSignedInError:case kc.BlockedByPlatformError:case kc.BlockedByVersionError:case kc.BlockedByXBLError:case kc.UserBannedError:case kc.ThirdPartyNoServerOrServerLockedError:case kc.UnknownError:default:return".UnknownError"}}A2.useLabel=O2;const R2=yp((({onClose:e})=>{const t=(0,l.useSharedFacet)(Ic),[a,n]=(0,l.useFacetState)(null),{t:o}=Fc("PlayScreen.serverTab.joinServerErrorModal"),i=(0,l.useFacetMap)((e=>e.joinThirdPartyServerResult),[],[t]),c=(0,l.useFacetMap)((e=>e.joinExternalServerResult),[],[t]);(0,l.useFacetEffect)(((e,t)=>{const a=null!=e&&e!==kc.OK,r=null!=t&&t!==kc.OK;(a||r)&&n(a?e:t)}),[n],[i,c]);const s=(0,l.useFacetMap)((e=>o(`${N2(e)}.title`)),[o],[a]),u=(0,l.useFacetMap)((e=>o(`${N2(e)}.message`)),[o],[a]);return r.createElement($E,null,r.createElement($E.Header,null,s),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:u,center:!0},u)),r.createElement($E.Buttons,null,r.createElement(Ug,{inputLegend:o(".cancel"),variant:"secondary",onClick:e},o(".cancel"))))}));function L2({loading:e,showServerDetails:t=!1}){const a=(0,l.useSharedFacet)(wc),n=(0,l.useSharedFacet)(xc),o=(0,l.useSharedFacet)(Ic),i=R2.useModal(),c=Zk.useModal(),s=p(),u=yd(),d=JK(),m=wr("neutral100"),{t:f}=Fc("PlayScreen.serverTab"),g="narrow"===Od(),E=(0,l.useFacetMap)((e=>e.networkDetails.playerCount),[],[a]),h=(0,l.useFacetMap)((e=>e.networkDetails.capacity),[],[a]),b=(0,l.useFacetMap)((e=>e.doNotShowMultiplayerOnlineSafetyWarning),[],[n]),v=(0,l.useFacetMap)((e=>e.doNotShowMultiplayerIpSafetyWarning),[],[n]),y=(0,l.useFacetMap)((e=>e.joinThirdPartyServerResult),[],[o]),F=(0,l.useFacetMap)((e=>e.joinExternalServerResult),[],[o]),S=(0,l.useFacetMap)((e=>e.networkDetails.type),[],[a]);(0,l.useFacetEffect)(((e,t)=>{const a=null!=e&&e!==kc.OK,n=null!=t&&t!==kc.OK;if(a||n){let r;i.show(),null!=e&&a?r={modalReason:kc[e]}:null!=t&&n&&(r={modalReason:kc[t]}),u({modal:a?"JoinThirdPartyError":"JoinExternalError",screen:ZK.ServerTab,details:r})}}),[i,u],[y,F]);const C=(0,l.useFacetCallback)((e=>()=>{e.clearJoinThirdPartyServerTaskState(),e.clearJoinExternalServerTaskState(),i.hide()}),[i],[o]),M=(0,l.useFacetCallback)((e=>()=>{e.networkDetails.type===Su.ThirdParty&&d.thirdParty(),e.networkDetails.type===Su.External&&d.external()}),[d],[a]),w=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{const r=a===Su.ThirdParty;n.onlyCellularAvailable&&n.showCellularDataFee?c.show():r&&e||!r&&t?M():s.push(`/online-play-warning/${tY(a)}`)}),[M,s,c],[b,v,S,(0,l.useSharedFacet)(dl)]),k=(0,l.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0,M()}),[M],[(0,l.useSharedFacet)(Rc)]),T=(0,l.useFacetMap)((e=>e.networkDetails.pingStatus),[],[a]),P=(0,l.useFacetMap)(((e,t)=>e.networkDetails.type===Su.External?function(e,t,a){const n=a(1===t?".PlaySuffixExtServerOnePlayer":".PlaySuffixExtServerManyPlayers",[String(t)]);return`${function(){switch(e){case Cu.Low:return a(".PlaySuffixExtServerLowPing");case Cu.Medium:return a(".PlaySuffixExtServerMediumPing");case Cu.High:return a(".PlaySuffixExtServerHighPing");default:return a(".PlaySuffixExtServerUnavailablePing")}}()} ${n}`}(t,e.networkDetails.playerCount,f):f(".PlaySuffix")),[f],[a,T]),I=(0,r.useRef)(null),x=f2(),A=(0,l.useFacetMap)(((e,t)=>e||t),[],[e,x]);return r.createElement(r.Fragment,null,t?r.createElement(Yp,{containerRef:I},r.createElement("div",{className:zr()("a3ad61d7d122d4ffb6d5",m.background.base),ref:I},r.createElement("div",{className:g?"a5e80c7a01c409a3b2f5":"a255278e663c8b5dc8cb"},r.createElement(A2,{pingStatus:T}),r.createElement(Nm,{size:g?1:6}),r.createElement(T2,{playerCount:E,maximumCapacity:h})),r.createElement(Nm,{size:4}),r.createElement("div",{className:k2},r.createElement(Ug,{inputLegend:f(".Play"),variant:"hero",delayedClick:!0,horizontal:!0,onClick:w,narrationSuffix:P,gamepadAlias:g2.SERVER_DESCRIPTION,disabled:A,"data-testid":"server-play-button"},f(".Play"))))):r.createElement("div",{className:k2},r.createElement(Ug,{inputLegend:f(".Play"),variant:"hero",delayedClick:!0,horizontal:!0,onClick:w,narrationSuffix:P,gamepadAlias:g2.SERVER_DESCRIPTION,disabled:A,"data-testid":"server-play-button"},f(".Play"))),r.createElement(l.Mount,{when:i.isVisible},r.createElement(R2.Component,{onClose:C})),r.createElement(l.Mount,{when:c.isVisible},r.createElement(Zk.Component,{joinServer:k,onClose:c.hide})))}function _2({loading:e}){const t=(0,l.useSharedFacet)(wc),a=(0,l.useFacetMap)((e=>e.networkDetails.activities.length>0),[],[t]),n=(0,l.useFacetMap)((e=>null!=e.networkDetails.newsTitle||""!=e.networkDetails.newsTitle),[],[t]),o=wr("neutral80");return r.createElement("div",{className:zr()("a0deef4d09702833dd33",o.border.base)},r.createElement(D2,{loading:e}),r.createElement(l.Mount,{when:a},r.createElement(W2,null)),r.createElement(l.Mount,{when:n},r.createElement(w2,null)))}function D2({loading:e}){const{t}=Fc("PlayScreen.serverTab"),a=(0,l.useSharedFacet)(wc),n=wr("neutral80"),o=(0,l.useFacetMap)((e=>e.networkDetails.name),[],[a]),i=(0,l.useFacetMap)((e=>e.networkDetails.imagePath),[],[a]),c=(0,l.useFacetMap)((e=>e.networkDetails.description),[],[a]),s=(0,l.useFacetMap)(((e,a)=>[e,t(".narrationRoleTextBlock"),a].join(" . ")),[t],[o,c]),u="narrow"===Od(),d=(0,l.useFacetMap)((e=>e.networkDetails.playerCount),[],[a]),m=(0,l.useFacetMap)((e=>e.networkDetails.capacity),[],[a]),p=(0,l.useFacetMap)((e=>e.networkDetails.pingStatus),[],[a]);return r.createElement("div",{className:n.background.base},r.createElement("div",{className:"b1ab30a3ead6fd044b3f"},r.createElement(Qp,{aspectRatio:Qp.AspectRatio["10:3"],src:i,className:zr()(n.border.base,"cc726700a020cdbebb3d")}),r.createElement("div",{className:zr()("c8c16b89ca3f738d61a5","cd01e4a6cadef7d2c396",{e8854926584f42f84d50:u,fedf7501ffa5779f661a:!u})},r.createElement(A2,{pingStatus:p}),r.createElement(Nm,{size:u?1:6}),r.createElement(T2,{playerCount:d,maximumCapacity:m}))),r.createElement(Fg,{role:"neutral80"},r.createElement("div",{className:"bd77b83d14b58fe9ef41"},r.createElement("div",{className:"a4c40e9a90676b56528d"},r.createElement(Cg,null,o)),r.createElement(Nm,{size:1}),r.createElement(L2,{loading:e}))),r.createElement(Fg,{focusable:!0,role:"neutral80",narrationText:s},r.createElement(Cg,null,t(".ServerDescription.title")),r.createElement(Nm,{size:2}),r.createElement(Mg,null,c)))}function W2(){const{t:e}=Fc("PlayScreen.serverTab"),{background:t}=wr("neutral80"),a=(0,l.useSharedFacet)(wc),n=(0,l.useFacetMap)((e=>e.networkDetails.activities),[],[a]),o=(0,l.useFacetMap)((e=>e.length),[],[n]),i=[e(".narrationTitleActivities"),e(".narrationRoleGroup")].join(" . ");return r.createElement(Zf,{text:i},r.createElement(Fg,{role:"neutral80",className:zr()("a442059f1ffc20bcd5ef",t.base)},r.createElement(Nm,{size:3}),r.createElement(Cg,{className:"a3ed4b485c4ef9a2e092"},e(".Activities")),r.createElement(Nm,{size:3}),r.createElement(l.Map,{array:n},((e,t)=>r.createElement(B2,{activity:e,index:t,activitiesCount:o})))))}const B2=({index:e,activitiesCount:t,activity:a})=>{const{t:n}=Fc("PlayScreen.serverTab"),o=(0,l.useFacetMap)(((t,a)=>{const{title:r,subtitle:l,description:o}=t;return[r,l,o,n(".sectionEnumeration",[String(e+1),String(a)])].join(" . ")}),[n,e],[a,t]);return r.createElement(M2,{activity:a,narration:o})};function U2(){const{t:e}=Fc("PlayScreen.serverTab.ServerNotifications"),t=(0,l.useFacetMap)((e=>e.networkDetails.pingStatus===Cu.High),[],[(0,l.useSharedFacet)(wc)]),a=(0,l.useFacetMap)(((e,t)=>t?"win32-build":e?"high-ping":void 0),[],[t,i2()]);return r.createElement(r.Fragment,null,r.createElement(xl,{data:a},(t=>{switch(t){case"high-ping":return r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,e(".highPingWarning")));case"win32-build":return r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,"Third party servers are not available in Win32 builds, to access this type of servers use an UWP build"));default:return r.createElement(r.Fragment,null)}})))}function z2({loading:e,scrollViewRef:t}){const{t:a}=Fc("PlayScreen.serverTab"),n=(0,l.useSharedFacet)(wc),o=(0,l.useFacetMap)((e=>e.networkDetails.type===Su.External),[],[n]),i=(0,l.useFacetMap)((e=>Boolean(e.networkDetails.id)),[],[n]),c=(0,l.useFacetMap)((e=>e.networkDetails.name),[],[n]),s=(0,l.useFacetMap)((e=>e.networkDetails.pingStatus),[],[n]),u=(0,l.useFacetMap)((e=>e.networkDetails.playerCount),[],[n]),d=Od(),m=r.createElement(r.Fragment,null,"narrow"===d&&r.createElement(Nm,{size:1}),("desktop"===d||"tablet"===d)&&r.createElement(Nm,{size:2})),p=(0,l.useFacetMap)(((e,t,n)=>[a(".narrationScreen",[String(e)]),a(`.ServerDescription.${H2(t)}`),a(".ServerDescription."+(1===n?"personPlaying":"peoplePlaying"),[String(n)])].join(" . ")),[a],[c,s,u]);return r.createElement(r.Fragment,null,m,r.createElement(Zf,{text:p},r.createElement(U2,null),r.createElement(l.Mount,{when:i},r.createElement(r.Fragment,null,r.createElement(jf,{loading:e,innerRef:t,floating:!0},r.createElement(l.Mount,{when:o,condition:!1},r.createElement(r.Fragment,null,r.createElement(_2,{loading:e}),r.createElement(Nm,{size:"narrow"===d?1:2}),r.createElement(Nm,{size:"narrow"===d?1:2}),r.createElement(LE.Space,null))),r.createElement(l.Mount,{when:o,condition:!0},r.createElement(r.Fragment,null,r.createElement(L2,{loading:e,showServerDetails:!0}),r.createElement(F2,null))))))))}function H2(e){switch(e){case Cu.Low:return"lowPing";case Cu.Medium:return"mediumPing";case Cu.High:return"highPing";default:return"unavailablePing"}}function j2(){const e=(0,l.useSharedFacet)(wc),t=(0,l.useSharedFacet)(wi),a=(0,l.useSharedFacet)(zi),n=(0,l.useSharedFacet)(gu),o=(0,r.useRef)(null),i=(0,r.useRef)(null),c=(0,l.useFacetMap)((e=>e.fetchThirdPartyWorldsTaskState===Hk.DONE),[],[n]),s=(0,l.useFacetMap)((e=>e.isDevBuild),[],[t]),u=(0,l.useFacetMap)(((e,t)=>!e&&!t),[],[c,s]),d=(0,l.useFacetMap)(((e,t)=>!e.hasLoadedDetails||t),[],[e,u]),m=(0,r.useRef)(null),p=g(),f=(0,l.useFacetMap)((e=>null==e?void 0:e.id),[],[p]),E=(0,l.useFacetMap)((e=>(null==e?void 0:e.type)===tY(Su.External)?Su.External:Su.ThirdParty),[],[p]),h=(0,l.useFacetCallback)((e=>(t,a)=>{e.loadNetworkWorldDetails(t,a),m.current&&(m.current.scrollTop=0)}),[],[e]),b=(0,l.useFacetMap)((e=>e.externalServerWorlds),[],[a]),v=(0,l.useFacetMap)((e=>e.thirdPartyWorlds.length>0?e.thirdPartyWorlds[0].id:""),[],[n]);return(0,l.useFacetEffect)(((e,t,a,n)=>{null==t||null==a||a===Su.External&&!n.some((e=>e.id===t))?h(e,Su.ThirdParty):h(t,a)}),[h],[v,f,E,b]),r.createElement(Yp,{containerRef:o,delegateFocusByAlias:g2.SERVER_SIDE_MENU,delegateFocusFromMemory:!0},r.createElement(Cv.Row,{innerRef:o},r.createElement(Cv.Column,{wideSize:4,narrowSize:3},r.createElement(b2,{loading:u})),r.createElement(Yp,{containerRef:i,delegateFocusByAlias:g2.SERVER_DESCRIPTION},r.createElement(Cv.Column,{wideSize:8,narrowSize:5,innerRef:i},r.createElement(z2,{loading:d,scrollViewRef:m})))))}function V2(){const{t:e}=Fc("PlayScreen.serverTab"),t=c2(l2.SERVERS);return r.createElement(r.Fragment,null,r.createElement(xl,{data:t},(t=>{switch(t){case"banned":return r.createElement(CI.InTab,null);case"offline":return r.createElement(G2,null,r.createElement(uI,{text:e(".noInternetMessage")}));case"parental-online-safety":return r.createElement(xB,{variant:"parental"});case"online-safety":return r.createElement(xB,{variant:"online"});case"no-online-subscription-playstation":case"no-online-subscription-nintendo":case"multiplayer-disabled":case"msa-guest-playstation":case"msa-guest-nintendo":case"not-signed-in":return r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(HB,{tab:NB.ServersTab}),r.createElement(j2,null));case"platform-guest-nintendo":return r.createElement(G2,null,r.createElement(xI,{context:II.Nintendo}));case"platform-guest-playstation":return r.createElement(G2,null,r.createElement(xI,{context:II.Playstation}));case"platform-multiplayer-disabled":return r.createElement(G2,null,r.createElement(VB,null));case"content":return r.createElement(j2,null);case"trial-mode":return r.createElement(nI,{context:aI.SERVERS});default:return r.createElement(G2,null,r.createElement(M1,{context:"servers"}))}})),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))}function G2({children:e}){return r.createElement(jf,{floating:!0},r.createElement(Nm,{size:2}),e,r.createElement(LE.Space,null))}const $2=a.p+"assets/no-worlds-yet-art-446b1f244c652ef1c166.png";function K2(){const{t:e}=Fc("PlayScreen.allWorlds"),t=(0,l.useSharedFacet)(Bu),a=(0,l.useFacetMap)((t=>e(t?".emptyStateText.trialMode":".emptyStateText")),[e],[t]),n=dy({wide:8,narrow:6,width:224});return r.createElement(_v,{title:e(".emptyStateTitle"),text:a,imgSrc:$2,imgClass:n?"ce61a8dc3c4e47d04638":"bf0e34df23b2bb909541"})}const Y2=yp((()=>{const{t:e}=Fc("PlayScreen.worldMissingEntitlementModal"),t="pop-up-modal-worldMissingEntitlementModal",a=(0,l.useSharedFacet)(SG),n=vp(),[o,i]=(0,l.useFacetState)(!1),c=(0,l.useFacetMap)((e=>e.localWorlds.filter((e=>!e.allContentOwned))),[],[a]),s=(0,l.useFacetMap)((e=>e.length),[],[c]),u=(0,l.useFacetMemo)((e=>e.map((({name:e})=>e))),[],[c]),d=(0,l.useFacetMap)((t=>e(".body",[`${t}`])),[e],[s]),m=(0,l.useFacetCallback)(((e,t)=>()=>{e.doNotShowEntitlementsWarning=t,n()}),[n],[(0,l.useSharedFacet)(xc),o]);return r.createElement($E,{onOverlayClick:n,defaultFocusAlias:t},r.createElement($E.Header,{onClose:n},(0,l.useFacetMap)((t=>e(".title",[`${t}`])),[e],[s])),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:d},d),r.createElement($E.List,{items:u,gamepadIndex:1}),r.createElement(Nm,{size:4})),r.createElement($E.Buttons,{header:r.createElement($E.Checkbox,{value:o,onChange:e=>i(!!e),title:e(".doNotShowAgain")})},r.createElement(Ug,{gamepadAlias:t,inputLegend:e(".close"),variant:"secondary",onClick:m},e(".close"))))})),X2=yp((()=>{const{t:e}=Fc("PlayScreen.cloudSyncWorldProgressModal");return r.createElement($E,null,r.createElement($E.Header,null,e(".title")),r.createElement($E.Content,null,r.createElement($E.Spinner,null)))})),q2=yp((()=>{const e="pop-up-modal-cloudSyncWorldConnectionError",{t}=Fc("PlayScreen.cloudSyncWorldConnectionError"),a=(0,l.useSharedFacet)(ju),n=vp(),o=(0,l.useFacetCallback)((e=>()=>{e.clearSyncWorldTaskState(),n()}),[n],[a]),i=t(".text");return r.createElement($E,{onOverlayClick:o,defaultFocusAlias:e},r.createElement($E.Header,{onClose:o},t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:e,inputLegend:t(".close"),variant:"secondary",onClick:o},t(".close"))))})),Q2=yp((()=>{const{t:e}=Fc("PlayScreen.copyingWorldModal"),t=e(".body"),a=e(".title");return r.createElement($E,null,r.createElement($E.Header,null,a),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:t,center:!0},t),r.createElement($E.Spinner,null)))})),Z2=yp((({onHandleStorage:e})=>{const{t}=Fc("PlayScreen.insufficientDiskSpaceModal"),a="pop-up-modal-insufficientDiskSpaceModal",n=(0,l.useFacetCallback)((e=>()=>{e.backupThenStartLocalWorld.clear()}),[],[(0,l.useSharedFacet)(sd)]);return r.createElement($E,{defaultFocusAlias:a},r.createElement($E.Header,{onClose:n},t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:t(".body"),gamepadIndex:0},t(".body"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:a,inputLegend:t(".action"),variant:"primary",onClick:n},t(".action")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:t(".secondaryAction"),variant:"secondary",onClick:()=>{e(),n()}},t(".secondaryAction"))))})),J2=yp((()=>{const e="pop-up-modal-unknown-error",{t}=Fc("PlayScreen.unknownErrorModal"),a=(0,l.useSharedFacet)(sd),n=(0,l.useFacetMap)((e=>{var a;const n=(null===(a=e.backupThenStartLocalWorld.result)||void 0===a?void 0:a.backupResult)===cd.IncorrectWorldId?cd.IncorrectWorldId:cd.UnknownError;return t(".errorCode",[`${n}`])}),[t],[a]),o=(0,l.useFacetCallback)((e=>()=>{e.backupThenStartLocalWorld.clear()}),[],[a]),i=t(".body");return r.createElement($E,{defaultFocusAlias:e},r.createElement($E.Header,{onClose:o},t(".title")),r.createElement($E.Content,null,r.createElement($E.Paragraphs,{center:!0,narrationText:(0,l.useFacetMap)((e=>[i,e].join(" . ")),[i],[n]),spaceBetweenParagraphs:2,gamepadIndex:0},r.createElement(zm,{type:"captionLong"},i),r.createElement(zm,{type:"captionLong"},n))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:e,inputLegend:t(".action"),variant:"secondary",onClick:o},t(".action"))))}));function e5(e){switch(e){case kc.BlockedByVersionError:return".blockedByVersion";case kc.InvalidUserError:case kc.UserNeedsToBeSignedInError:case kc.BlockedByPlatformError:case kc.BlockedByXBLError:case kc.ThirdPartyBadIPError:case kc.ThirdPartyNoServerOrServerLockedError:case kc.UnknownError:default:return".UnknownError"}}const t5=yp((()=>{const e=(0,l.useSharedFacet)(Ic),{t}=Fc("FriendsDrawer.joinFriendServerErrorModal"),a=(0,l.useFacetMap)((e=>e.joinFriendServerResult),[],[e]),n=(0,l.useFacetCallback)((e=>()=>{e.clearJoinFriendServerTaskState()}),[],[e]),o=(0,l.useFacetMap)((e=>t(`${e5(null!=e?e:void 0)}.title`)),[t],[a]),i=(0,l.useFacetMap)((e=>t(`${e5(null!=e?e:void 0)}.message`)),[t],[a]);return r.createElement($E,null,r.createElement($E.Header,null,o),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadIndex:1,inputLegend:t(".cancel"),variant:"secondary",onClick:n},t(".cancel"))))})),a5=yp((()=>{const{t:e}=Fc("PlayScreen.importWorldProgressModal"),t=(0,l.useSharedFacet)(dd),a=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.importWorld.progress)&&void 0!==t?t:0}),[],[t]),n=e(".body");return r.createElement($E,null,r.createElement($E.Header,null,e(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:n,center:!0},n),r.createElement($E.Progress,{percentage:a})))})),n5=yp((()=>{const{t:e}=Fc("PlayScreen.importWorldErrorModal"),t=(0,l.useSharedFacet)(dd),a="import-world-error-button-focus",n=(0,l.useFacetCallback)((e=>()=>{e.importWorld.clear()}),[],[t]),o=e(".close"),i=e(".unknownError.body");return r.createElement($E,{defaultFocusAlias:a},r.createElement($E.Header,{onClose:n},e(".unknownError.title")),r.createElement($E.Content,null,r.createElement($E.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),r.createElement($E.Buttons,null,r.createElement(Ug,{variant:"secondary",inputLegend:o,onClick:n,gamepadAlias:a},o)))})),r5=(0,r.createContext)({getSelectedWorldId:()=>(0,l.createFacet)({initialValue:""}),setSelectedWorldId:()=>{}}),l5=()=>(0,r.useContext)(r5);function o5(){const{t:e}=Sc("PlayScreen"),t=qO.useModal(),{getSelectedWorldId:a,setSelectedWorldId:n}=l5(),o=p(),i=(0,l.useSharedFacet)(sd),c=(0,l.useSharedFacet)(ju),s=(0,l.useSharedFacet)(dd),u=(0,l.useSharedFacet)(SG),d=(0,l.useSharedFacet)(xc),m=(0,l.useSharedFacet)(Ac),E=(0,l.useSharedFacet)(od),h=(0,l.useFacetMap)((e=>e.isReadyForDownload),[],[E]),b=(0,l.useFacetMap)((e=>{var t;return e.importWorld.state===Mu.InProgress&&(null!==(t=e.importWorld.progress)&&void 0!==t?t:0)>0}),[],[s]),v=(0,l.useFacetMap)((e=>null!=e.importWorld.result&&e.importWorld.result!==ud.Success&&e.importWorld.result!==ud.InterruptedByUser),[],[s]),y=(0,l.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&t===id.HasUnownedPacks}),[],[i]),F=(0,l.useFacetMap)(((e,t)=>e&&"all"===t.tab),[],[f(),g()]),S=(0,l.useFacetMap)(((e,{doNotShowEntitlementsWarning:t})=>{const a=e.localWorlds.filter((e=>!e.allContentOwned)).length>0;return!t&&a}),[],[u,d]),C=(0,l.useFacetMap)((e=>null!=e.packDownloadError||null!=e.lastConsultedPackSizesError),[],[E]),M=(0,l.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&(t===id.WorldSavedInNewerVersion||t===id.WorldNotInLevelList||t===id.UnknownError)}),[],[i]),w=(0,l.useFacetMap)((e=>e.syncWorldTaskState===Hk.RUNNING),[],[c]),k=(0,l.useFacetMap)((e=>e.syncWorldTaskState===Hk.FAILED),[],[c]),T=(0,l.useFacetMap)((e=>e.backupThenStartLocalWorld.state===Mu.InProgress),[],[i]),P=(0,l.useFacetMap)((e=>{var t,a;return(null===(t=e.backupThenStartLocalWorld.result)||void 0===t?void 0:t.backupResult)===cd.IncorrectWorldId||(null===(a=e.backupThenStartLocalWorld.result)||void 0===a?void 0:a.backupResult)===cd.UnknownError}),[],[i]),I=(0,l.useFacetMap)((e=>{var t;return(null===(t=e.backupThenStartLocalWorld.result)||void 0===t?void 0:t.backupResult)===cd.InsufficientDiskSpace}),[],[i]),x=(0,l.useFacetMap)((e=>null!=e.joinFriendServerResult&&e.joinFriendServerResult!==kc.OK&&e.joinFriendServerResult!==kc.UserBannedError&&e.joinFriendServerResult!==kc.NoInternetError),[],[(0,l.useSharedFacet)(Ic)]),A=(0,l.useFacetMap)((e=>e.startLocalWorldTaskState===Hk.RUNNING),[],[i]),O=a(),{downloadAssetsAndStartWorld:N,hasMissingPacks:R,hasMissingTemplate:L}=oG(),_=(0,l.useFacetCallback)(((a,n,r)=>()=>{null!=a&&(r||t.show(),N(encodeURI(a),(()=>{n.queueSnackbar(e(".missingDependenciesModal.downloadComplete"))})))}),[N,e,t],[O,m,h]),D=(0,l.useFacetCallback)((e=>()=>{n(null),e.clearStartLocalWorldResult()}),[n],[i]),W=(0,l.useFacetMap)(((e,t)=>null!=e&&t.startLocalWorldResult===id.MissingDependencies),[],[O,i]),B=(0,l.useFacetMap)((e=>e.startLocalWorldResult===id.DlcMissingContentKey),[],[i]);return(0,l.useFacetEffect)((e=>{(e.packDownloadError===ld.InitializationTimeout||e.isReadyForDownload)&&t.hide()}),[t],[E]),r.createElement(l.Mount,{when:F},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:M},r.createElement(sG.Component,null)),r.createElement(l.Mount,{when:y},r.createElement(cG.Component,null)),r.createElement(l.Mount,{when:S},r.createElement(Y2.Component,null)),r.createElement(l.Mount,{when:w},r.createElement(X2.Component,null)),r.createElement(l.Mount,{when:k},r.createElement(q2.Component,null)),r.createElement(l.Mount,{when:T},r.createElement(Q2.Component,null)),r.createElement(l.Mount,{when:I},r.createElement(Z2.Component,{onHandleStorage:()=>o.push("/settings/storage")})),r.createElement(l.Mount,{when:C},r.createElement(BO.Component,null)),r.createElement(l.Mount,{when:P},r.createElement(J2.Component,null)),r.createElement(l.Mount,{when:x},r.createElement(t5.Component,null)),r.createElement(l.Mount,{when:A},r.createElement(Ay.Component,{title:e(".startLocalWorldModal.title")})),r.createElement(l.Mount,{when:b},r.createElement(a5.Component,null)),r.createElement(l.Mount,{when:v},r.createElement(n5.Component,null)),r.createElement(l.Mount,{when:B},r.createElement(gO.Component,null)),r.createElement(l.Mount,{when:W},r.createElement(rG.Component,{onClose:D,onAccept:_,hasMissingPacks:R,hasMissingTemplate:L})),r.createElement(l.Mount,{when:t.isVisible},r.createElement(qO.Component,{onClose:t.hide}))))}const i5=a.p+"assets/import-world-icon-4e8aa37086d435c7b044.png";let c5,s5;function u5(e="Play"){const t=p(),a=vd();return(0,r.useCallback)((()=>{a({button:"CreateNewWorld",screen:e}),t.push("/create-new-world")}),[a,e,t])}!function(e){e.Featured="Featured Creators",e.MarketplacePass="Marketplace Pass",e.OwnedByMe="Owned by me"}(c5||(c5={})),function(e){e.Featured="featured-creators",e.MarketplacePass="marketplace-pass",e.OwnedByMe="owned-by-me"}(s5||(s5={}));function d5(){}function m5({item:e,index:t,numberOfButtons:a,t:n,breakpoint:o}){const i=(0,l.useFacetMap)((({narrationSuffix:e},a)=>[n(".buttonSiblings",[`${t+1}`,`${a}`]),e].join(" . ")),[n,t],[e,a]),c=(0,l.useFacetMap)((({text:e})=>e),[],[e]),s=(0,l.useFacetMap)((({imgSrc:e})=>e),[],[e]),u=(0,l.useFacetMap)((({gamepadAlias:e})=>e),[],[e]),d=(0,l.useFacetMap)((({inputLegend:e,text:t})=>null!=e?e:t),[],[e]),m=(0,l.useFacetMap)((e=>t<e-1),[t],[a]),p=(0,l.useFacetCallback)((({onClick:e})=>null!=e?e:d5),[],[e]),f=(0,l.useFacetMap)((({variant:e})=>e),[],[e]);return r.createElement(xl,{data:f},(e=>r.createElement(r.Fragment,null,r.createElement("div",{className:"f2626fe85bf29e6a9fd2"},r.createElement(Ug,{inputLegend:d,narrationSuffix:i,variant:null!=e?e:"secondary",onClick:p,imgSrc:s,gamepadAlias:u},c)),r.createElement(l.Mount,{when:m},r.createElement(Nm,{size:"narrow"===o?2:4})))))}function p5({navigationButtons:e,layoutButton:t}){const{t:a}=Fc("PlayScreen.ButtonHeader.narration"),n=Od(),o=(0,l.useFacetMap)((e=>e.length),[],[e]),i="narrow"===Od(102);return r.createElement(f5,{layoutButton:i?null:t},r.createElement("div",{className:"a4325920089ee8893b56"},r.createElement(l.Map,{array:e},((e,t)=>r.createElement(m5,{t:a,breakpoint:n,item:e,index:t,numberOfButtons:o})))))}function f5({layoutButton:e,children:t}){return null==e?r.createElement(r.Fragment,null,t):r.createElement("div",{className:"bd51dc370d84ef945de9"},e,r.createElement("div",{className:"d9ee0f593d3d5d9d249e"},t))}function g5({text:e,link:t,onClose:a=(()=>{}),onCloseTestId:n}){const l=p();return r.createElement(AP,{"close-button-test-id":n,role:"neutral100",onClose:a},r.createElement(AP.Text,null,e),r.createElement(AP.Link,{onClick:()=>l.push("/settings/storage")},t))}function E5({onClose:e,variant:t,onCloseTestId:a}){const n=p(),{t:l}=Fc(`PlayScreen.outdatedOrRetailWorldsBanner.${t}`),{t:o}=Fc("PlayScreen.outdatedOrRetailWorldsBanner");return r.createElement(AP,{role:"informative",onClose:e,"close-button-test-id":a},r.createElement(AP.Text,null,l(".text")),r.createElement(AP.Link,{onClick:()=>n.push("/settings/storage")},o(".link")))}function h5(){const{t:e}=Fc("PlayScreen.AllWorldsTab.BannedOrSuspendedBanner"),t=(0,l.useFacetMap)((e=>bI(e.banExpiration)),[],[(0,l.useSharedFacet)(Wu)]),a=(0,l.useFacetMap)((t=>e(t?".suspended.text":".banned.text")),[e],[t]),n=(0,l.useFacetCallback)((e=>()=>{e.openLink(Uu.BannedHelpPage)}),[],[(0,l.useSharedFacet)(zu)]),o=(0,l.useFacetMap)((e=>e.banExpiration),[],[(0,l.useSharedFacet)(Wu)]);return r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,a),r.createElement(l.Mount,{when:t},r.createElement(hI,{banExpiration:o})),r.createElement(AP.Link,{onClick:n},e(".linkText")))}function b5(){const{t:e}=Fc("PlayScreen.AllWorldsTab.MultiplayerDisabledBanner"),t=Lk(),a=(0,l.useFacetMap)((t=>e(t?".parentalText":".text")),[e],[t]),n=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{Pk(n.platform)?a.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(t?Uu.ParentPermissionHelpPage:Uu.TroubleshootingMultiplayerDisabled)}),[],[(0,l.useSharedFacet)(zu),t,(0,l.useSharedFacet)(Wu),(0,l.useSharedFacet)(dl)]);return r.createElement(AP,{role:"noticeTint"},r.createElement(AP.Text,null,a),r.createElement(AP.Link,{onClick:n},e(".linkText")))}function v5(){const e=(0,l.useSharedFacet)(xc),{t}=Fc("PlayScreen.storageBanner"),{t:a}=Fc("StorageIndicator"),n=function(){const e=dK(),t=(0,l.useSharedFacet)(dl),a=(0,l.useFacetMap)((e=>e.storageType),[],[t]),n=(0,l.useFacetMap)(((e,t,a)=>!a&&!t.doNotShowOldWorldsWarning&&xk(e.platform)),[],[t,(0,l.useSharedFacet)(xc),(0,l.useSharedFacet)(Ti)]),r=(0,l.useFacetMap)(((e,t,a)=>a&&!t.doNotShowOldWorldsWarning&&xk(e.platform)&&e.platform!==Qe.PS5),[],[t,(0,l.useSharedFacet)(xc),(0,l.useSharedFacet)(Ti)]),o=(0,l.useFacetMap)(((e,t,a)=>a&&!t.doNotShowOldWorldsWarning&&e.platform===Qe.PS5),[],[t,(0,l.useSharedFacet)(xc),(0,l.useSharedFacet)(Ti)]),i=(0,l.useFacetMap)(((e,t,a)=>!t&&e&&!a.doNotShowHiddenAlternativeStorageWorldsWarning),[],[e.alternativeStorageHasWorlds,e.isEmpty,(0,l.useSharedFacet)(xc)]),c=(0,l.useFacetMap)(((e,t,a)=>e===sl.EXTERNAL&&!t&&!a.doNotShowUsingExternalStorageWarning),[],[a,e.alternativeStorageHasWorlds,(0,l.useSharedFacet)(xc)]),s=(0,l.useFacetMap)(((e,t,a)=>e===sl.EXTERNAL&&t&&!a.doNotShowHiddenLocalWorldsWarning),[],[a,i,(0,l.useSharedFacet)(xc)]),u=(0,l.useFacetMap)(((e,t)=>e===sl.APPDATA&&t),[],[a,i]),d=(0,l.useFacetMap)(((e,t,a)=>e&&a&&!t.doNotShowAlternativeStorageHasWorlds),[],[e.isEmpty,(0,l.useSharedFacet)(xc),e.alternativeStorageHasWorlds]),m=(0,l.useFacetMap)((({platform:e,isStorageFull:t,isStorageLow:a})=>xk(e)&&(t||a)),[],[t]),p=yI(),f=(0,l.useFacetMap)(((e,t)=>!e&&t),[],[p,Bk()]);return{possiblyOldWorldsAvailableRetail:n,possiblyRetailWorldsAvailablePreview:r,possiblyOldWorldsAndRetailWorldsAvailablePreviewOnPS5:o,worldsOnAlternativeStorageAndCurrentStorage:i,alternativeStorageHasWorlds:e.alternativeStorageHasWorlds,worldsOnlyOnAlternativeStorageWhenOnRegular:d,worldsUsingAlternativeStorage:c,worldsOnBothStoragesUsingAlternativeStorage:s,worldsOnBothStoragesUsingRegularStorage:u,showStorageIndicator:m,playerIsBannedOrSuspended:p,multiplayerIsDisabled:f}}(),o=(0,l.useFacetCallback)((e=>()=>{e.doNotShowOldWorldsWarning=!0}),[],[e]),i=(0,l.useFacetCallback)((e=>()=>{e.doNotShowHiddenLocalWorldsWarning=!0}),[],[e]),c=(0,l.useFacetCallback)((e=>()=>{e.doNotShowHiddenAlternativeStorageWorldsWarning=!0}),[],[e]),s=(0,l.useFacetCallback)((e=>()=>{e.doNotShowUsingExternalStorageWarning=!0}),[],[e]),u=(0,l.useFacetCallback)((e=>()=>{e.doNotShowAlternativeStorageHasWorlds=!0}),[],[(0,l.useSharedFacet)(xc)]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:n.playerIsBannedOrSuspended},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(h5,null))),r.createElement(l.Mount,{when:n.multiplayerIsDisabled},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(b5,null))),r.createElement(l.Mount,{when:n.showStorageIndicator},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(lN,{labelFull:a(".storageLabelFullEnterWorld"),labelLow:a(".storageLabelAlmostFullEnterWorld")}))),r.createElement(l.Mount,{when:n.worldsUsingAlternativeStorage},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(g5,{onCloseTestId:"worlds-using-alternative-storage",onClose:s,text:t(".externalStorageWarningText"),link:t(".manageStorageLink")}))),r.createElement(l.Mount,{when:n.worldsOnlyOnAlternativeStorageWhenOnRegular},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(g5,{onCloseTestId:"worlds-only-on-alternative-storage-when-on-regular",text:t(".changeStorageText"),link:t(".changeStorageLink"),onClose:u}))),r.createElement(l.Mount,{when:n.worldsOnBothStoragesUsingRegularStorage},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(g5,{onCloseTestId:"worlds-on-both-storages-using-regular-storage",text:t(".alternativeStorageWorldsHiddenText"),link:t(".changeStorageLink"),onClose:c}))),r.createElement(l.Mount,{when:n.worldsOnBothStoragesUsingAlternativeStorage},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(g5,{onCloseTestId:"worlds-on-both-storages-using-alternative-storage",text:t(".localWorldsHiddenText"),link:t(".changeStorageLink"),onClose:i}))),r.createElement(l.Mount,{when:n.possiblyOldWorldsAvailableRetail},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(E5,{onCloseTestId:"possibly-old-worlds-available-retail",onClose:o,variant:"retail"}))),r.createElement(l.Mount,{when:n.possiblyRetailWorldsAvailablePreview},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(E5,{onCloseTestId:"possibly-retail-worlds-available-preview",onClose:o,variant:"preview"}))),r.createElement(l.Mount,{when:n.possiblyOldWorldsAndRetailWorldsAvailablePreviewOnPS5},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(E5,{onCloseTestId:"possibly-retail-and-old-worlds-available-preview",onClose:o,variant:"previewPS5"}))))}const y5=yp((({onClose:e})=>{const{t}=Fc("PlayScreen.templateScreenNotAvailableInPreview"),a="backButton";return r.createElement($E,{defaultFocusAlias:a},r.createElement($E.Header,{onClose:e},t(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{center:!0,gamepadIndex:0,narrationText:t(".text")},t(".text"))),r.createElement($E.Buttons,null,r.createElement(Ug,{delayedClick:!0,onClick:e,autofocus:!0,gamepadAlias:a,inputLegend:t(".close"),variant:"primary"},t(".close")),r.createElement(Nm,{size:1})))}));function F5({isListLayout:e,onClick:t}){const{t:a}=Fc("PlayScreen.layoutButton"),n=`${a(".toggleGrid")} . ${a(".componentRole")} . ${a(".toggleGridHint")}`,o=`${a(".toggleList")} . ${a(".componentRole")} . ${a(".toggleListHint")}`,i=`${a(".toggledLayout")} . ${a(".worldsInGrid")} . ${a(".pressToList")}`,c=`${a(".toggledLayout")} . ${a(".worldsInList")} . ${a(".pressToGrid")}`,{narrateText:s}=Hf();return r.createElement(Xw,{inputLegend:(0,l.useFacetMap)((e=>a(e?".toggleGrid":".toggleList")),[a],[e]),narrationText:(0,l.useFacetMap)((e=>e?n:o),[n,o],[e]),onClick:(0,l.useFacetCallback)((e=>()=>{t(),s(e?i:c)}),[t,s,i,c],[e]),height:4.4,variant:"neutral60",reflection:"bevel",className:"bc51950facfd8d978273","data-testid":"all-worlds-layout-button"},r.createElement(xM.Grid,{width:24,height:24,style:{display:(0,l.useFacetMap)((e=>e?"flex":"none"),[],[e])}}),r.createElement(xM.List,{width:24,height:24,style:{display:(0,l.useFacetMap)((e=>e?"none":"flex"),[],[e])}}))}function S5(e){const{f:t}=Fc("WorldListItem"),{t:a}=Fc("WorldListItem.narration");return(0,l.useFacetMap)((e=>{if(null==e||e<1)return[];const n=t.formatDate(e);return[{displayText:n,narrationText:a(".lastSaved",[n])}]}),[t,a],[e])}const C5=a.p+"assets/world-preview-default-d0210bba13d939ca9e72.jpg",M5=a.p+"assets/cloud-sync-default-c5ac686895fcd8b97a26.png";function w5({amountOfPlayersOnline:e,capacity:t}){const a=(0,l.useFacetMap)((e=>e>0),[],[e]),n=(0,l.useFacetMap)(((e,t)=>`${e}/${t}`),[],[e,t]),o=(0,l.useFacetMap)(((e,t)=>e>=t?"full":"regular"),[],[e,t]);return r.createElement(l.Mount,{when:a},r.createElement("div",{className:"cd48793a4699ab2bbb30"},r.createElement(Y$,{className:"ee879fc7e9569d71779f",variant:o}),r.createElement(zm,{type:"captionShort"},n)))}const k5="multiplayer-disabled-modal-play-offline-button",T5=yp((({onClose:e,onPlayOffline:t})=>{const{t:a}=Sc("WorldItem.MultiplayerDisabledModal"),n=(0,l.useSharedFacet)(zu),o=(0,l.useSharedFacet)(Wu),i=(0,l.useSharedFacet)(dl),c=(0,l.useFacetCallback)(((e,t,a)=>()=>{Pk(t.platform)?a.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(Uu.TroubleshootingMultiplayerDisabled)}),[],[n,i,o]),s=(0,l.useFacetCallback)(((e,t,a)=>()=>{Pk(t.platform)?a.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(Uu.ParentPermissionHelpPage)}),[],[n,i,o]),u=(0,r.useCallback)((()=>{t(),e()}),[t,e]),d=(0,l.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive_Parental)?"multiplayer-parental":e.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive)?"multiplayer-disabled":void 0),[],[o]);return r.createElement($E,{defaultFocusAlias:k5},r.createElement($E.Header,{onClose:e},a(".title")),r.createElement(xl,{data:d},(e=>{switch(e){case"multiplayer-disabled":return r.createElement(r.Fragment,null,r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a(".bodyMultiplayerDisabled"),center:!0},a(".bodyMultiplayerDisabled"))),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{horizontal:!0,variant:"secondary",Icon:xM.ExternalLink,inputLegend:a(".learnMore"),onClick:c},a(".learnMore")),r.createElement(Nm,{size:2}),r.createElement(Ug,{horizontal:!0,variant:"primary",inputLegend:a(".playOffline"),onClick:u,gamepadAlias:k5},a(".playOffline"))));case"multiplayer-parental":return r.createElement(r.Fragment,null,r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a(".bodyMultiplayerDisabledParental"),center:!0},a(".bodyMultiplayerDisabledParental"))),r.createElement($E.Buttons,{horizontal:!0},r.createElement(Ug,{horizontal:!0,variant:"secondary",Icon:xM.ExternalLink,inputLegend:a(".learnMore"),onClick:s},a(".learnMore")),r.createElement(Nm,{size:2}),r.createElement(Ug,{horizontal:!0,variant:"primary",inputLegend:a(".playOffline"),onClick:u,gamepadAlias:k5},a(".playOffline"))));default:return null}})))})),P5="multiplayer-disabled-due-to-ban-modal-play-offline-button",I5=yp((({onClose:e,onPlayOffline:t})=>{const{t:a}=Fc("WorldItem.MultiplayerDisabledDueToBanModal"),{reasonCopy:n,helpButtonCopy:o}=vI(),i=FI(),c=(0,l.useFacetCallback)((e=>()=>{e.openLink(Uu.BannedHelpPage)}),[],[(0,l.useSharedFacet)(zu)]),s=(0,r.useCallback)((()=>{t(),e()}),[t,e]);return r.createElement($E,{defaultFocusAlias:P5},r.createElement($E.Header,{onClose:e},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:n,center:!0},a(".body")),r.createElement($E.Text,{narrationText:n,center:!0},n)),r.createElement($E.Buttons,{horizontal:!0},r.createElement(xl,{data:i},(e=>r.createElement(Ug,{"data-testid":"help-button-"+(e?"suspended":"banned"),horizontal:!0,variant:"secondary",Icon:xM.ExternalLink,inputLegend:o,onClick:c},o))),r.createElement(Nm,{size:1}),r.createElement(Ug,{horizontal:!0,variant:"primary",inputLegend:a(".playOffline"),onClick:s,gamepadAlias:P5},a(".playOffline"))))}));function x5({className:e,useGreyBorder:t}){const a=(0,l.useFacetMap)((t=>zr()("ce2f5e8a979cdd0124fe",{b7d2457c4554ffbb8234:t},e)),[e],[(0,l.useFacetWrap)(null!=t&&t)]);return r.createElement("fast-div",{className:a})}function A5(e){const t=yI(),a=Bk();return(0,l.useFacetMap)(((e,t,a)=>e&&(t||a)),[],[e,a,t])}function O5(e){const t=A5(e),a=Dk();return(0,l.useFacetMap)(((e,t,a,n)=>!e&&t&&(a||!n.isOnline)),[],[t,e,a,(0,l.useSharedFacet)(dl)])}let N5;!function(e){e[e.LAN=0]="LAN",e[e.Friend=1]="Friend",e[e.Local=2]="Local"}(N5||(N5={}));function R5(){const e=wr();return r.createElement("div",{className:zr()("dc91fff7ef2982c3ef7c",e.neutral80.background.base,e.neutral80.border.base)},r.createElement(H$,null))}function L5({id:e,title:t,subtitle:a,imageSrc:n,requiresCloudSync:o,worldTypeTags:i,gameModeTags:c,autofocus:s,onWorldClick:u,narrationIndex:d,onEdit:m,containerListLength:p,isMultiplayerWorld:f,amountOfPlayersOnline:g,capacity:E,isHardcore:h,playerHasDied:b,disable:v,metadataList:y,testId:F,itemRole:S,itemInputLegend:C,worldType:M,hidePlayButton:w=!1}){const{t:k}=Fc("WorldListItem"),{t:T}=Fc("WorldListItem.narration"),P=wr("neutral"),I=(0,l.useFacetWrap)(S),x=null!=m,A=(0,l.useFacetWrap)(null!=g?g:0),O=(0,l.useFacetWrap)(null!=E?E:0),N=(0,l.useFacetMap)((e=>e>0),[],[A]),R=(0,l.useFacetWrap)(null!=y?y:[]),L=(0,l.useFacetMap)((e=>e.length>0),[],[R]),_=(0,l.useFacetMap)((e=>e.map((e=>e.displayText))),[],[R]),D=(0,l.useFacetWrap)(null!=o&&o),W=(0,l.useFacetWrap)(null!=h&&h),B=(0,l.useFacetWrap)(null!=b&&b),[U,z]=(0,l.useFacetState)(!1),H=(0,l.useFacetUnwrap)(e),j=(0,l.useFacetMap)(((e,t)=>t?M5:null!=e&&e.length?e:C5),[],[(0,l.useFacetWrap)(n),D]),V=(0,l.useFacetWrap)(d),G=(0,l.useFacetMap)(((e,t,a,n,r,l)=>[e,null!=r?r:T(D5(l)),t>0?T(".listLengthContext",[`${n}`,`${t}`]):void 0,a.map((e=>e.label)).join(", ")].filter(Boolean).join(" . ")),[T],[t,p,c,V,I,M]),$=(0,l.useFacetMap)((e=>{const t=[];return w||t.push([T(".play"),x?T(".buttonSiblings",["1","2"]):T(".button")]),t.push(...e.map((e=>e.narrationText))),t.filter(Boolean).join(" . ")}),[w,T,x],[R]),K=(0,l.useFacetCallback)((e=>()=>m&&m(e)),[m],[e]),Y=(0,l.useFacetMap)((e=>null!=e?e:""),[],[(0,l.useFacetWrap)(null!=a?a:"")]),X=(0,l.useFacetMap)((e=>e.length>0),[],[Y]),q=T5.useModal(),Q=I5.useModal(),Z=yI(),J=A5(f),ee=O5(f),te=(0,l.useFacetMap)(((e,t)=>t&&e),[],[f,Z]),ae=(0,l.useFacetCallback)(((e,t)=>()=>{t?Q.show():e?q.show():u()}),[u,Q,q],[J,te]),ne=(0,l.useFacetMap)(((e,t,a)=>null!=a?a:e?"multiplayer-world-list-item-primary-action-"+(t-1):"world-list-item-primary-action-"+(t-1)),[],[f,V,(0,l.useFacetWrap)(F)]),re=(0,l.useFacetMap)(((e,t,a,n)=>(a?t=[{label:k(".multiplayerDisabledLong"),role:"destructiveTint"}]:n&&(t=[{label:k(".multiplayerWorldOffline"),role:"destructiveTint"}]),[...e,...t])),[k],[c,i,J,ee]),le=(0,l.useFacetMap)((e=>zr()("d0a78dd0e7793ffeeb2d",P.border.base,{b69cda059f6f02f7b650:!e})),[P],[W]);return H==l.NO_VALUE?null:r.createElement(Zf,{text:G,key:H},r.createElement(Qw,{tall:!0,disableDeferredMount:!0},r.createElement(Qw.Action,{testId:ne,autofocus:s,className:"faa4802c50dfef6de676",inputLegend:null!=C?C:k(".play"),narrationText:$,onClick:ae,onFocusChanged:z,onHoverChanged:z,disabled:v},r.createElement("fast-div",{className:le},r.createElement(l.Mount,{when:D},r.createElement(R5,null)),r.createElement(Qp,{src:j,aspectRatio:Qp.AspectRatio["16:9"]}),r.createElement(l.Mount,{when:W},r.createElement($A,{className:"f3061fc88ef9e3c97bd3",animate:U,startFrame:8,dead:B})),r.createElement(l.Mount,{when:W},r.createElement(x5,{useGreyBorder:B}))),r.createElement(Qw.Main,null,r.createElement(zm,{type:"body",overflowEllipsis:!0},t),r.createElement(l.Mount,{when:X},r.createElement(zm,{type:"body",variant:"dimmer",overflowEllipsis:!0},Y)),r.createElement("div",{className:"cf8370b115bf35148f67"},r.createElement(l.Map,{array:re},(e=>r.createElement(_5,{tag:e}))))),r.createElement(l.Mount,{when:L},r.createElement("div",{className:"d6779bbc7ffe04aace16"},r.createElement(l.Map,{array:_},((e,t)=>r.createElement(zm,{type:"captionShort",variant:"dimmest",key:t,overflowEllipsis:!0},e))))),r.createElement(l.Mount,{when:N},r.createElement(Qw.Cell,null,r.createElement("div",{className:"a3e492d2eb32685d6a0f"},r.createElement(w5,{amountOfPlayersOnline:A,capacity:O}))))),r.createElement(Qw.AdditionalAction,{narrationText:[T(".edit"),T(".buttonSiblings",["2","2"])].join(" . "),inputLegend:k(".edit"),onClick:K,hidden:!x},r.createElement(xM.Edit,null),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionShort",overflowEllipsis:!0},k(".edit"))),r.createElement(l.Mount,{when:Q.isVisible},r.createElement(I5.Component,{onClose:Q.hide,onPlayOffline:u})),r.createElement(l.Mount,{when:q.isVisible},r.createElement(T5.Component,{onClose:q.hide,onPlayOffline:u}))))}function _5({tag:e}){const t=(0,l.useFacetMap)((e=>e.role),[],[e]),a=(0,l.useFacetMap)((e=>e.label),[],[e]);return r.createElement(_y,{role:t},a)}function D5(e){switch(e){case N5.Local:return".componentRoleLocal";case N5.LAN:return".componentRoleLan";case N5.Friend:return".componentRoleFriend"}}function W5(e){const t=p(),a=(0,l.useSharedFacet)(ju),n=(0,l.useFacetMap)((e=>e.syncWorldTaskState),[],[a]);return Vk(((e,a)=>function*(){const r=a.id;a.requiresCloudSync&&(e.syncWorld(r),yield n,e.clearSyncWorldTaskState()),t.push(`/edit-world/${encodeURIComponent(r)}`)}),[n,t],[a,e])}function B5(e,t,a,n){let r=e>1?t*(e-1):0;return a&&n>1&&(r-=1),r}function U5({worldsPerPage:e,localWorlds:t,lanAndFriendWorlds:a,lastPlayedWorld:n,totalAmountOfPages:r,heroItemSlots:o}){const i=p(),c=h(),s=(0,l.useFacetMap)((e=>{var t;return Number(null!==(t=e.get("page"))&&void 0!==t?t:"1")}),[],[c]),u=(0,l.useFacetMap)(((e,t)=>1==e&&null!=t),[],[s,n]),d=(0,l.useFacetMap)(((e,t)=>e>1&&null!=t),[],[s,n]),m=(0,l.useFacetMemo)(((e,t,a,n,r,l)=>{let i=(a-1)*n,c=i+n;return!r&&l&&1!=a&&(i-=o,c-=o),function({rangeStart:e,rangeEnd:t,lanAndFriendWorlds:a,localWorlds:n}){const r=[],l=[],o=a.length+n.length;for(let i=e;i<Math.min(t,o);i++)i<a.length?r.push(a[i]):l.push(n[i-a.length]);return{lanAndFriendWorlds:r,localWorlds:l}}({rangeStart:i,rangeEnd:c,lanAndFriendWorlds:e,localWorlds:t})}),[o],[a,t,s,e,u,d]),f=(0,l.useFacetMap)((e=>e.lanAndFriendWorlds),[],[m]),g=(0,l.useFacetMap)((e=>e.localWorlds),[],[m]),E=(0,l.useFacetMap)(((e,t,a,n)=>e?1:B5(t,a,n,o)),[o],[u,s,e,d]),b=(0,l.useFacetMap)(((e,t,a,n,r)=>n?1+e.length:B5(a,t,r,o)+e.length),[o],[f,e,s,u,d]);return(0,l.useFacetEffect)(((e,t)=>{e<t&&setTimeout((()=>{i.replace("/play/all")}),1)}),[i],[r,s]),{currentLanAndFriendWorldData:f,currentLocalWorldData:g,changeWorldGridPage:(0,l.useFacetCallback)((e=>t=>{e!=t&&i.replace(`/play/all/?page=${t}`)}),[i],[s]),localWorldIndexOffset:b,lanWorldIndexOffset:E}}function z5({world:e,index:t,indexOffset:a,totalNrOfWorlds:n,onWorldClick:o}){const i=(0,l.useFacetMap)((e=>e.id),[],[e]),c=(0,l.useFacetMap)((e=>e.name),[],[e]),s=(0,l.useFacetMap)((e=>e.isMultiplayerEnabled),[],[e]),u=oK(e),d=(0,l.createFacet)({initialValue:[]}),m=(0,l.useFacetMap)((e=>e.previewImgPath),[],[e]),p=(0,l.useFacetMap)((e=>e.requiresCloudSync),[],[e]),f=(0,l.useFacetMap)((e=>e+t+1),[t],[a]),g=(0,l.useFacetMap)((e=>e.isHardcore),[],[e]),E=(0,l.useFacetMap)((e=>e.playerHasDied),[],[e]),h=function(e){const t=(0,l.useFacetMap)((e=>e.fileSize),[],[e]),a=(0,l.useFacetMap)((e=>e.lastSaved),[],[e]),n=function(e){const{t}=Fc("WorldListItem.narration");return(0,l.useFacetMap)((e=>null==e?[]:[{displayText:e,narrationText:t(".worldSize",[e])}]),[t],[e])}(t),r=S5(a);return(0,l.useFacetMap)(((e,t)=>[...e,...t]),[],[n,r])}(e),b=yG(e),v=(0,l.useFacetCallback)((e=>()=>{o(e),b()}),[b,o],[i]);return r.createElement(L5,{id:i,title:c,gameModeTags:u,worldTypeTags:d,imageSrc:m,requiresCloudSync:p,containerListLength:n,narrationIndex:f,onEdit:W5(e),onWorldClick:v,isMultiplayerWorld:s,isHardcore:g,playerHasDied:E,metadataList:h,worldType:(0,l.useFacetWrap)(N5.Local)})}function H5({lanOrFriendWorld:e,index:t,indexOffset:a,numberOfWorlds:n,onWorldClick:o}){const{t:i}=Fc("WorldList"),c=(0,l.useFacetMap)((e=>e+t+1),[t],[a]),s=(0,l.useFacetMap)((e=>e.id),[],[e]),u=(0,l.useFacetMap)((e=>e.name),[],[e]),d=(0,l.useFacetMap)((e=>e.ownerName?i(".lanWorldOwner",[e.ownerName]):void 0),[i],[e]),m=rK(e),f=lK(e),g=(0,l.useFacetMap)((e=>e.playerCount),[],[e]),E=(0,l.useFacetMap)((e=>e.capacity),[],[e]),h=(0,l.useFacetMap)((e=>e.capacity>0&&e.capacity===e.playerCount),[],[e]),b=(0,l.useFacetMap)((e=>e.friendWorld),[],[e]),v=(0,l.useFacetMap)((e=>e.friendWorld?N5.Friend:N5.LAN),[],[e]),y=eY(s,b),F=(0,l.useFacetMap)((e=>e.doNotShowMultiplayerOnlineSafetyWarning),[],[(0,l.useSharedFacet)(xc)]),S=p(),C=(0,l.useFacetCallback)(((e,t)=>()=>{t?(o(e),y()):S.push(`/online-play-warning/${tY(Su.LAN)}/${e}`)}),[S,y,o],[s,F]);return r.createElement(L5,{testId:`lan-world-list-item-${t}`,id:s,title:u,subtitle:d,worldTypeTags:m,gameModeTags:f,containerListLength:n,narrationIndex:c,onWorldClick:C,amountOfPlayersOnline:g,capacity:E,worldFull:h,isMultiplayerWorld:(0,l.useFacetWrap)(!0),worldType:v})}function j5({lastPlayedWorld:e,localWorlds:t,lanAndFriendWorlds:a,totalNrOfWorlds:n,onPagination:o}){const{setSelectedWorldId:i}=l5(),c=(0,r.useCallback)((e=>{i(e)}),[i]),s=(0,l.useFacetMap)((e=>Math.ceil(e/12)),[],[n]),{delegationEventFacet:u,delegateFocus:d}=Bp(),m=(0,r.useRef)(null),p=(0,r.useRef)(null),f=h(),g=(0,l.useFacetMap)((e=>{var t;return Number(null!==(t=e.get("page"))&&void 0!==t?t:"1")}),[],[f]),E=(0,l.useFacetMap)(((e,t)=>1==e&&null!=t),[],[g,e]),b=(0,l.useFacetMap)((e=>e?11:12),[],[E]),{localWorldIndexOffset:v,currentLanAndFriendWorldData:y,lanWorldIndexOffset:F,currentLocalWorldData:S,changeWorldGridPage:C}=U5({worldsPerPage:b,lanAndFriendWorlds:a,localWorlds:t,lastPlayedWorld:e,totalAmountOfPages:s,heroItemSlots:1}),M=(0,l.useFacetWrap)(0),w=(0,l.useFacetMap)(((e,t)=>1===t?e:null),[],[e,g]);return(0,l.useFacetEffect)((()=>{o(),d.first()}),[d,o],[f]),r.createElement(r.Fragment,null,r.createElement(zp,{delegationEvent:u},r.createElement(Yp,{containerRef:m,delegateFocusFromMemory:!0},r.createElement("div",{ref:m},r.createElement(l.With,{data:w},(e=>r.createElement(r.Fragment,null,r.createElement(z5,{world:e,indexOffset:M,index:0,totalNrOfWorlds:n,onWorldClick:c}),r.createElement(Nm,{size:2})))),r.createElement(l.Map,{array:y},((e,t)=>r.createElement(r.Fragment,null,t>0&&r.createElement(Nm,{size:2}),r.createElement(H5,{lanOrFriendWorld:e,index:t,indexOffset:F,numberOfWorlds:n,onWorldClick:c})))),r.createElement(l.Mount,{when:(0,l.useFacetMap)(((e,t)=>t.length>0&&e>0),[],[F,y])},r.createElement(Nm,{size:2})),r.createElement(l.Map,{array:S},((e,t)=>r.createElement(r.Fragment,null,t>0&&r.createElement(Nm,{size:2}),r.createElement(z5,{world:e,indexOffset:v,index:t,totalNrOfWorlds:n,onWorldClick:c})))),r.createElement(Nm,{size:3})))),r.createElement(Yp,{containerRef:p},r.createElement("div",{ref:p},r.createElement(SP,{totalPages:s,currentPage:g,onChange:C}))))}function V5(){return V5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},V5.apply(null,arguments)}function G5({children:e,role:t="neutral",className:a,containerRef:n}){const l=wr(t),o=zr()(l.text.base,l.border.base,a,"f5e26df9e3686a112fb3");return r.createElement(Zn,{role:t},r.createElement("div",{ref:n,className:o},e))}function $5({children:e,onClick:t,inputLegend:a,onFocusChanged:n,onHoverChanged:o,narrationText:i,gamepadAlias:c,disabled:s=!1,testId:u,className:d,isAdditionalAction:m=!1}){const p=wr("neutral"),f=Tr("neutral"),g=(0,l.useFacetMap)((e=>!0===e),[],[(0,l.useFacetWrap)(s)]),E=(0,l.useFacetWrap)(!1===a?"":a),h=(0,l.useFacetMap)(((e,t)=>!t&&e),[],[E,g]),b=(0,l.useFacetMap)((e=>zr()(m?"":"d1a8195f6cb56901d6b8",e?"a01824404672069a9a35":p.background.base,p.background.hover,p.background.press,p.border.base)),[p,m],[g]),v=(0,l.useFacetMap)((e=>zr()("f4973c4664ef1de27b55",e)),[],[(0,l.useFacetWrap)(null!=d?d:void 0)]),y=(0,l.useFacetMap)((e=>!0===e?void 0:f.press),[f],[g]),F=(0,l.useFacetCallback)((e=>()=>{e||t()}),[t],[g]);return r.createElement(Tm,{className:b,gamepadAlias:c,inputLegend:h,narrationText:i,onClick:F,onFocusChanged:n,onHoverChanged:o,soundEffectPressed:y,classNameDisabled:Jn.pressed,classNameFocused:kp,"data-testid":u},r.createElement(wp,null),r.createElement("fast-div",{className:v},e))}G5.Information=function({children:e,innerRef:t,narrationText:a,role:n="inherit",spacingSize:l=3,className:o}){EH(a);const i=wr(n),c=zr()("c38d492ae98c0727e25f",i.text.base,i.border.base,o);return r.createElement("div",{className:c,ref:t},r.createElement(Nm,{size:l}),e)},G5.ActionWrapper=function({children:e}){const t=wr(Qn()),a=zr()(t.border.base,"d36613d6d220ca0e648f");return r.createElement("div",{className:a},e)},G5.Action=$5,G5.AdditionalAction=e=>r.createElement($5,V5({},e,{isAdditionalAction:!0}));const K5="b57982b06d2796d8a44d";function Y5({children:e,position:t,isHardcore:a}){const n=wr("neutral80"),o=(0,l.useFacetMap)((e=>{const a="top"==t?e?"b0a3761b5d3d76face77":"a9ac4ba9b9f4eb4a35ba":e?"eb20ae31b08a63114db8":"b5b4e321a4beb6b05415";return zr()("cbb2e431715f0e7b2889",n.background.base,n.border.base,a)}),[t,n],[a]);return r.createElement("fast-div",{className:o},r.createElement("div",{className:"be460d4e126ae0278303"},e))}const X5="c8ecdc474f703a1486e5";function q5({src:e,isGrayscale:t,onClick:a}){const n=(0,r.useContext)(Pd),o=Ad(1.6),[i,c]=(0,l.useFacetState)(0),s=(0,r.useRef)(null),u=Wd(s);return(0,l.useFacetEffect)((({width:e},t,a)=>{if(0==e)return;const n=wd(a);c((e-(t+2*n))/(32/9)/e*100)}),[c],[u,o,n]),r.createElement("div",{ref:s,onClick:a,className:X5},r.createElement(Qp,{src:e,isGrayscale:t,paddingTopPercentage:i}))}function Q5({src:e,isHero:t,isGrayscale:a,onClick:n}){return t?r.createElement(q5,{src:e,isGrayscale:a,onClick:n}):r.createElement("div",{onClick:n,className:X5},r.createElement(Qp,{src:e,isGrayscale:a,aspectRatio:Qp.AspectRatio["16:9"]}))}function Z5({id:e,title:t,subtitle:a,imageSrc:n,requiresCloudSync:o,gameModeTags:i,worldTypeTags:c,onWorldClick:s,narrationIndex:u,onEdit:d,containerListLength:m,amountOfPlayersOnline:p,capacity:f,isMultiplayerWorld:g,isHardcore:E,playerHasDied:h,className:b,testId:v,innerRef:y,isHero:F=!1,lastSaved:S,worldType:C}){const{t:M}=Fc("WorldCard"),{t:w}=Fc("WorldCard.narration"),k=(0,l.useFacetWrap)(null!=o&&o),T=(0,l.useFacetWrap)(null!=p?p:0),P=(0,l.useFacetWrap)(null!=f?f:0),I=(0,l.useFacetWrap)(null!=E&&E),x=(0,l.useFacetWrap)(null!=h&&h),A=(0,l.useFacetMap)((e=>null!=e?e:""),[],[(0,l.useFacetWrap)(null!=a?a:"")]),[O,N]=(0,l.useFacetState)(!1),R=null!=d,L=ot(),_=(0,l.useFacetMap)((e=>R&&!e),[R],[L]),D=(0,l.useFacetMap)((e=>R&&e),[R],[L]),W=(0,l.useFacetWrap)(u),B=(0,l.useFacetMap)(((e,t,a,n,r)=>[e,w(e3(r)),t>0?w(".gridAmountContext",[`${n}`,`${t}`]):void 0,,a.map((e=>e.label)).join(", ")].filter(Boolean).join(" . ")),[w],[t,m,i,W,C]),U=(0,l.useFacetMap)(((e,t)=>t?M5:null!=e&&e.length>0?e:C5),[],[(0,l.useFacetWrap)(n),k]),z=(0,l.useFacetCallback)((e=>()=>d&&d(e)),[d],[e]),H=(0,l.useFacetMap)((e=>e?[w(".play"),w(".buttonSiblings",["1","2"])].join(" . "):[w(".play"),M(".button")].join(" . ")),[M,w],[_]),V=(0,l.useFacetMap)((e=>e.length>0),[],[A]),G=T5.useModal(),$=I5.useModal(),K=yI(),Y=A5(g),X=O5(g),q=(0,l.useFacetMap)(((e,t)=>!e&&!t),[],[Y,X]),Q=(0,l.useFacetMap)(((e,t)=>t&&e),[],[g,K]),Z=(0,l.useFacetCallback)(((e,t)=>()=>{t?$.show():e?G.show():s()}),[s,G,$],[Y,Q]),J=(0,r.useRef)(null),ee=y||J,te=(0,l.useFacetMap)((e=>null!=e&&e.length>0),[],[(0,l.useFacetWrap)(null!=S?S:"")]);return r.createElement(Xr,null,r.createElement(Zf,{text:B},r.createElement(G5,{containerRef:ee,className:b},r.createElement(Yp,{containerRef:ee,isGrid:!0,gridCellSizeAuto:!0,alias:(0,l.useFacetMap)((e=>`world-wrapper-${e}`),[],[e])},r.createElement("div",{className:"b90096cb4d06ff09c574"},r.createElement(Q5,{src:U,isHero:F,onClick:Z}),r.createElement(l.Mount,{when:Y},r.createElement(Y5,{position:"top",isHardcore:I},r.createElement("div",{className:K5},r.createElement(_y,{role:"destructiveTint"},M(".multiplayerDisabled"))))),r.createElement(l.Mount,{when:X},r.createElement(Y5,{position:"top",isHardcore:I},r.createElement("div",{className:K5},r.createElement(_y,{role:"destructiveTint"},M(".multiplayerWorldOffline"))))),r.createElement(l.Mount,{when:q},r.createElement(Y5,{position:"top",isHardcore:I},r.createElement("div",{className:K5},r.createElement(l.Map,{array:c},(e=>r.createElement(J5,{tag:e})))))),r.createElement(l.Mount,{when:I},r.createElement($A,{className:"f4c95af492b10285063c",animate:O,startFrame:8,dead:x})),r.createElement(l.Mount,{when:I},r.createElement(x5,{className:"ee4195447625dfa64805",useGreyBorder:x})),r.createElement(Y5,{position:"bottom",isHardcore:I},r.createElement("div",{className:K5},r.createElement(xl,{data:k},(e=>e?r.createElement("div",{className:"f1320d1631f0e43999bc"},r.createElement(H$,null)):r.createElement(l.Map,{array:i},(e=>r.createElement(J5,{tag:e})))))))),r.createElement(G5.ActionWrapper,null,r.createElement(G5.Action,{testId:(0,l.useFacetMap)(((e,t,a)=>null!=a?a:e?"multiplayer-world-card-primary-action-"+(t-1):"world-card-primary-action-"+(t-1)),[],[g,W,(0,l.useFacetWrap)(v)]),inputLegend:M(".play"),narrationText:H,onClick:Z,onFocusChanged:N,onHoverChanged:N,gamepadAlias:(0,l.useFacetMap)((e=>`world-card-${e}`),[],[e])},r.createElement(Lp,{effect:"bevel"}),r.createElement(G5.Information,{narrationText:t},r.createElement("div",{className:"d389b87667e0b7907011"},r.createElement("div",{className:"bb34fb356912e7f7910f"},r.createElement(zm,{type:"body",overflowEllipsis:!0},t),r.createElement(l.Mount,{when:V},r.createElement(zm,{type:"body",variant:"dimmer",overflowEllipsis:!0},A)),r.createElement(l.Mount,{when:te},r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(zm,{type:"captionShort",variant:"dimmest",overflowEllipsis:!0},S)))),r.createElement("div",{className:"c1eeaf797981c910041f"},r.createElement(w5,{amountOfPlayersOnline:T,capacity:P}))))),r.createElement(l.Mount,{when:_},r.createElement(G5.AdditionalAction,{narrationText:[w(".edit"),w(".buttonSiblings",["2","2"])].join(" . "),inputLegend:M(".edit"),onClick:z,gamepadAlias:(0,l.useFacetMap)((e=>`world-button-${e}`),[],[e])},r.createElement("div",{className:"dc402064d46bdabf9179"},r.createElement(Lp,{effect:"bevel"}),r.createElement(xM.Edit,null))))),r.createElement(l.Mount,{when:D},r.createElement(Xf,{options:{button:j.X,inputLegend:M(".edit")},onClick:z})),r.createElement(l.Mount,{when:$.isVisible},r.createElement(I5.Component,{onClose:$.hide,onPlayOffline:s})),r.createElement(l.Mount,{when:G.isVisible},r.createElement(T5.Component,{onClose:G.hide,onPlayOffline:s}))))))}function J5({tag:e}){const t=(0,l.useFacetMap)((e=>e.role),[],[e]),a=(0,l.useFacetMap)((e=>e.label),[],[e]);return r.createElement(_y,{role:t},a)}function e3(e){switch(e){case N5.Local:return".componentRoleLocal";case N5.LAN:return".componentRoleLan";case N5.Friend:return".componentRoleFriend"}}const t3="e68211ccf6e769b90c12",a3="ebc7e99471c55b261aaf";function n3({localWorld:e,index:t,indexOffset:a,totalNrOfWorlds:n,onWorldClick:o,isHero:i=!1}){const c=(0,l.useFacetMap)((e=>e.isMultiplayerEnabled),[],[e]),s=(0,l.useFacetMap)((e=>e.id),[],[e]),u=(0,l.useFacetMap)((e=>e.name),[],[e]),d=S5((0,l.useFacetMap)((e=>e.lastSaved),[],[e])),m=(0,l.useFacetMap)((e=>{if(!(e.length<1))return e[0].displayText}),[],[d]),p=(0,l.useFacetMap)((e=>e.previewImgPath),[],[e]),f=oK(e),g=(0,l.createFacet)({initialValue:[]}),E=(0,l.useFacetMap)((e=>e.requiresCloudSync),[],[e]),h=(0,l.useFacetMap)((e=>e+t+1),[t],[a]),b=(0,l.useFacetMap)((e=>e.isHardcore),[],[e]),v=(0,l.useFacetMap)((e=>e.playerHasDied),[],[e]),y=yG(e),F=(0,r.useRef)(null),S=i?"fa98d3d4f755aa64c7fa":t3,C=(0,l.useFacetCallback)((e=>()=>{o(e),y()}),[o,y],[s]);return r.createElement("div",{ref:F,className:S},r.createElement(Z5,{id:s,className:a3,title:u,imageSrc:p,requiresCloudSync:E,gameModeTags:f,worldTypeTags:g,containerListLength:n,narrationIndex:h,isHardcore:b,playerHasDied:v,onEdit:W5(e),onWorldClick:C,isMultiplayerWorld:c,innerRef:F,isHero:i,lastSaved:m,worldType:(0,l.useFacetWrap)(N5.Local)}))}function r3({lanOrFriendWorld:e,index:t,indexOffset:a,totalNrOfWorlds:n,onWorldClick:o}){const{t:i}=Fc("WorldGrid"),c=(0,l.useFacetMap)((e=>e+t+1),[t],[a]),s=(0,l.useFacetMap)((e=>e.id),[],[e]),u=(0,l.useFacetMap)((e=>e.name),[],[e]),d=(0,l.useFacetMap)((e=>e.ownerName?i(".lanWorldOwner",[e.ownerName]):void 0),[i],[e]),m=rK(e),f=lK(e),g=(0,l.useFacetMap)((e=>e.playerCount),[],[e]),E=(0,l.useFacetMap)((e=>e.capacity),[],[e]),h=(0,l.useFacetMap)((e=>e.friendWorld),[],[e]),b=(0,l.useFacetMap)((e=>e.friendWorld?N5.Friend:N5.LAN),[],[e]),v=eY(s,h),y=(0,l.useFacetMap)((e=>e.doNotShowMultiplayerOnlineSafetyWarning),[],[(0,l.useSharedFacet)(xc)]),F=p(),S=(0,l.useFacetCallback)(((e,t)=>()=>{t?(o(e),v()):F.push(`/online-play-warning/${tY(Su.LAN)}/${e}`)}),[F,v,o],[s,y]),C=(0,r.useRef)(null);return r.createElement("div",{ref:C,className:t3},r.createElement(Z5,{testId:`lan-world-card-${t}`,id:s,className:a3,title:u,subtitle:d,worldTypeTags:m,gameModeTags:f,amountOfPlayersOnline:g,capacity:E,containerListLength:n,narrationIndex:c,onWorldClick:S,isMultiplayerWorld:(0,l.useFacetWrap)(!0),innerRef:C,worldType:b}))}function l3({lastPlayedWorld:e,localWorlds:t,lanAndFriendWorlds:a,totalNrOfWorlds:n,onPagination:o}){const{setSelectedWorldId:i}=l5(),c=(0,r.useCallback)((e=>{i(e)}),[i]),s=(0,l.useFacetMap)(((e,t,a)=>{let n=t.length+a.length;return null!=e&&(n+=2),Math.ceil(n/12)}),[],[e,t,a]),{delegationEventFacet:u,delegateFocus:d}=Bp(),m=(0,r.useRef)(null),p=(0,r.useRef)(null),f=h(),g=(0,l.useFacetMap)((e=>{var t;return Number(null!==(t=e.get("page"))&&void 0!==t?t:"1")}),[],[f]),E=(0,l.useFacetMap)(((e,t)=>1==e&&null!=t),[],[g,e]),b=(0,l.useFacetMap)((e=>e?10:12),[],[E]),{localWorldIndexOffset:v,currentLanAndFriendWorldData:y,lanWorldIndexOffset:F,currentLocalWorldData:S,changeWorldGridPage:C}=U5({worldsPerPage:b,lanAndFriendWorlds:a,localWorlds:t,lastPlayedWorld:e,totalAmountOfPages:s,heroItemSlots:2}),M=(0,l.useFacetWrap)(0),w=(0,l.useFacetMap)(((e,t)=>1===t?e:null),[],[e,g]);return(0,l.useFacetEffect)((()=>{o(),d.first()}),[d,o],[f]),r.createElement(r.Fragment,null,r.createElement(zp,{delegationEvent:u},r.createElement(Yp,{containerRef:m,isGrid:!0,gridCellSizeAuto:!0},r.createElement("div",{className:"d12791af9e615ed7b4f2",ref:m},r.createElement(l.With,{data:w},(e=>r.createElement(n3,{localWorld:e,index:0,indexOffset:M,totalNrOfWorlds:n,onWorldClick:c,isHero:!0}))),r.createElement(l.Map,{array:y},((e,t)=>r.createElement(r3,{lanOrFriendWorld:e,index:t,indexOffset:F,totalNrOfWorlds:n,onWorldClick:c}))),r.createElement(l.Map,{array:S},((e,t)=>r.createElement(n3,{localWorld:e,index:t,indexOffset:v,totalNrOfWorlds:n,onWorldClick:c})))),r.createElement(Nm,{size:3}))),r.createElement(Yp,{containerRef:p,delegateFocusFromMemory:!0},r.createElement("div",{ref:p},r.createElement(SP,{totalPages:s,currentPage:g,onChange:C}))))}function o3(){return(0,l.useFacetMap)(((e,t,a,n,r,l,o)=>{const i=e.isLANAllowed&&!n&&!a&&!r&&!l&&!o;return{worlds:null!=t.lanWorlds&&i?t.lanWorlds:[],areLANWorldsAllowed:i}}),[],[(0,l.useSharedFacet)(dl),(0,l.useSharedFacet)(FG),Lk(),Dk(),Uk(),yI(),Bk()])}function i3(){const e=tv(rc),t=(0,l.useFacetMap)(((e,t,a,n,r)=>e||t||a||n||r),[],[Lk(),Dk(),Uk(),yI(),Bk()]);return(0,l.useFacetMap)(((t,a)=>e&&!a?t.friendWorlds:[]),[e],[(0,l.useSharedFacet)(sc),t])}function c3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s3(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c3(Object(a),!0).forEach((function(t){u3(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c3(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u3(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const d3=e=>s3(s3({},e),{},{friendOfFriendWorld:!1,friendWorld:!1}),m3=e=>s3(s3({},e),{},{friendWorld:!0});function p3(){const[e,t]=(0,l.useFacetState)(null),a=r.useMemo((()=>({getSelectedWorldId:()=>e,setSelectedWorldId:e=>t(e)})),[t,e]),n=(0,l.useSharedFacet)(tu),o=dK(),i=(0,l.useFacetMap)(((e,t)=>[...e.worlds.map(d3),...t.map(m3)]),[],[o3(),i3()]),c=(0,l.useFacetMap)((e=>e.length>0?e[0]:null),[],[o.data]),s=(0,l.useFacetMap)((e=>e.slice(1)),[],[o.data]),u=(0,l.useFacetMap)(((e,t,a)=>(e?1:0)+t.length+a.length),[],[c,s,i]),d=y5.useModal(),m=function(e){const{t}=Fc("PlayScreen.AllWorldsTab.ButtonHeader"),a=vd(),n=(0,l.useSharedFacet)(dl),r=(0,l.useSharedFacet)(dd),o=(0,l.useSharedFacet)(hd),i=(0,l.useSharedFacet)(Bu),c=tv(Vi),s=tv(Gi),u=tv(tc),d=tv(nc),m=(0,l.useFacetMap)((e=>e&&u),[u],[i]),f=(0,l.useFacetMap)(((e,t)=>t.isTemplateScreenAvailable&&(e||c||s)),[c,s],[m,o]),g=u5(),E=function({templatesNotAvailableInPreview:e}){const t=p(),a=(0,l.useSharedFacet)(dl),n=(0,l.useSharedFacet)(hd),r=vd();return(0,l.useFacetCallback)(((a,n)=>()=>{if(r({button:"CreateFromTemplate",screen:"Play"}),!n.isTemplateScreenAvailable)return void e();const l=`/start-from-template/${a.isOnline?s5.MarketplacePass:s5.OwnedByMe}`;t.push(l)}),[r,t,e],[a,n])}(e),h=(0,l.useFacetCallback)((e=>()=>{a({button:"ImportWorld",screen:"Play"}),e.importWorld.run()}),[a],[r]),b=(0,l.useFacetMap)((e=>Ok(e.platform,e.arvrPlatform)),[],[n]),v=(0,l.useFacetMemo)(((e,a,n)=>{const r=a?[{variant:"primary",text:t(".createNewWorld"),narrationSuffix:t(".createNewWorldNarration"),onClick:n?g:E,gamepadAlias:"play-cnw-button"}]:[{variant:"primary",text:t(".createNewWorld"),narrationSuffix:t(".createNewWorldNarration"),onClick:g,gamepadAlias:"play-cnw-button"},{variant:"secondary",text:t(d?".createFromContent":".createFromTemplate"),narrationSuffix:t(d?".createFromContentNarration":".createFromTemplateNarration"),onClick:E}];if(e&&!n){const e={text:t(".importWorld"),variant:"secondary",narrationSuffix:t(".importWorldNarration"),onClick:h,imgSrc:i5};r.push(e)}return r}),[t,g,E,h,d],[b,f,m]);return v}({templatesNotAvailableInPreview:d.show});!function(){const e=(0,l.useSharedFacet)(dd),t=(0,l.useFacetCallback)((e=>()=>{e.importWorld.clear()}),[],[e]),a=(0,l.useFacetMap)((e=>e.importWorld.result),[],[e]);(0,l.useFacetEffect)((e=>{(e===ud.Success||ud.InterruptedByUser)&&t()}),[t],[a])}();const f="narrow"===Od(102),g=(0,r.useRef)(!0),E=(0,l.useFacetMap)((e=>g.current&&e.playScreenWorldLayoutMode===eu.Default?f:e.playScreenWorldLayoutMode===eu.List),[f],[n]),h=(0,l.useFacetCallback)(((e,t)=>()=>{g.current=!1,e.playScreenWorldLayoutMode=t?eu.Grid:eu.List}),[],[n,E]),b=(0,l.useFacetMap)(((e,t)=>e&&t.length<1),[],[o.isEmpty,i]),v=Fd(),y=(0,r.useCallback)((()=>{v.current&&(v.current.scrollTop=0)}),[v]),F=(0,r.useRef)(null),S=(0,l.useFacetMap)(((e,t)=>e?"no-worlds":t?"list-layout":"grid-layout"),[],[b,E]);return r.createElement(r5.Provider,{value:a},r.createElement(xl,{data:S},(e=>"no-worlds"===e?r.createElement(g3,null,r.createElement(p5,{navigationButtons:m})):r.createElement(f3,{innerRef:v,alwaysVisibleChildren:r.createElement(Yp,{containerRef:F,delegateFocusFromMemory:!0,alias:"play-screen-button-headers",delegateFocusByAlias:"play-cnw-button"},r.createElement("div",{ref:F},r.createElement(v5,null),r.createElement(Nm,{size:2}),r.createElement(p5,{layoutButton:r.createElement(F5,{isListLayout:E,onClick:h}),navigationButtons:m}),r.createElement(Nm,{size:2})))},"list-layout"===e?r.createElement(j5,{onPagination:y,lastPlayedWorld:c,localWorlds:s,lanAndFriendWorlds:i,totalNrOfWorlds:u}):r.createElement(l3,{onPagination:y,lastPlayedWorld:c,localWorlds:s,lanAndFriendWorlds:i,totalNrOfWorlds:u})))),r.createElement(l.Mount,{when:d.isVisible},r.createElement(y5.Component,{onClose:d.hide})),r.createElement(o5,null),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}))}function f3({children:e,alwaysVisibleChildren:t,innerRef:a}){const n=(0,l.useIsPaused)();return r.createElement(jf,{alwaysVisibleChildren:t,loading:n,innerRef:a,gamepadAlias:"content-wrapper",delegateFocusByAlias:"play-screen-button-headers",delegateFocusFromMemory:!0,renderTracker:e=>r.createElement(Ny,{renderingCompleted:e,type:"meaningful"})},e,r.createElement(Nm,{size:3}),r.createElement(LE.Space,null))}function g3({children:e}){return r.createElement(jf,{floating:!0,renderTracker:e=>r.createElement(Kr,{renderingCompleted:e,type:"meaningful"})},r.createElement(v5,null),r.createElement(Nm,{size:2}),e,r.createElement(Nm,{size:2}),r.createElement(K2,null),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}),r.createElement(Nm,{size:3}),r.createElement(LE.Space,null))}const E3="Play";var h3;!function(e){e.All="all",e.Realms="realms",e.Servers="servers"}(h3||(h3={}));const b3={[h3.All]:"AllWorldsTab",[h3.Servers]:"ServersTab",[h3.Realms]:"RealmsTab"},v3=()=>{const{t:e}=Fc("PlayScreen");return r.createElement(yx,{debugDrawer:["create-test-world","debug-import-worlds"],friendsDrawer:!0,gamepadAlias:"play-layout-content",delegateByAlias:"play-screen-tab-bar-wrapper",screenAnalyticsId:E3,title:e(".title")},(({isAnyDrawerOpen:e})=>r.createElement(r.Fragment,null,r.createElement(Cv,null,r.createElement(Cv.Row,{gamepadIndex:0},r.createElement(Cv.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},r.createElement(Nm,{size:2}),r.createElement(S3,{disableShortcuts:e}))),r.createElement(Ly,{route:"all",Component:p3,wideSize:12,narrowSize:8}),r.createElement(Ly,{route:"realms",Component:u2,wideSize:12,narrowSize:8}),r.createElement(Ly,{route:"servers",Component:V2,wideSize:12,narrowSize:8})))))},y3=Math.ceil(100*Math.random()),F3=9600===Math.ceil(9600*Math.random())?Z0:10===y3?Q0:q0,S3=({disableShortcuts:e})=>{const t=Ce(),a="play-screen",{t:n}=Fc("PlayScreen"),o=Jr(),i=el(),c=vd(),s=(0,l.useFacetMap)((e=>!e),[],[e]),u=(0,l.useFacetCallback)((e=>n=>{c({button:b3[n],screen:E3}),"realms"===n&&null!=e?o.replace(`/play/realms/${e}`):o.replace(`/play/${n}`),t(V0.getFocusAlias(a,n))}),[o,t,c],[H1()]),d=tv(rc),m=dK(),p=(0,l.useFacetMap)((e=>e.worlds),[],[o3()]),f=(0,l.useFacetMap)((e=>d?e.friendWorlds:[]),[d],[(0,l.useSharedFacet)(sc)]),g=(0,l.useFacetMap)(((e,t)=>Ak(e.platform)&&!t?[n(".narration.title"),n(".friendsDrawerShortcut",["Y"])].join(" . "):-1!==e.inputMethods.indexOf(Xe.TOUCH)?[n(".narration.title"),n(".mobileFriendsDrawerNarration")].join(" . "):""),[n],[(0,l.useSharedFacet)(dl),ot()]),E=function(e,t,a){return(0,l.useFacetMap)(((e,t,a)=>e.length+t.length+a.length),[],[e,t,a])}(m.data,p,f),h=(0,l.useFacetMap)((e=>n(".allWorlds",[`${e}`])),[n],[E]),b=(0,l.useFacetMap)((e=>[{label:e,value:h3.All,icons:{selected:r.createElement(HA,{iconSrc:F3,selected:!0}),unselected:r.createElement(HA,{iconSrc:F3,selected:!1})},"data-testid":"play-screen-tab-bar-all"},{label:n(".realms"),value:h3.Realms,icons:{selected:r.createElement(HA,{iconSrc:X0,selected:!0}),unselected:r.createElement(HA,{iconSrc:X0,selected:!1})},"data-testid":"play-screen-tab-bar-realms"},{label:n(".servers"),value:h3.Servers,icons:{selected:r.createElement(HA,{iconSrc:Y0,selected:!0}),unselected:r.createElement(HA,{iconSrc:Y0,selected:!1})},"data-testid":"play-screen-tab-bar-servers"}]),[n],[h]);return r.createElement(V0,{gamepadAliasNamespace:a,value:i.tab?i.tab:h3.All,onChange:u,tabs:b,enableGamepadShortcuts:s,narrationTitle:g})},C3="c9610f507e2734a38dd9",M3=a.p+"assets/save-27aadcd1c57605d88602.png";function w3(){return w3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},w3.apply(null,arguments)}const k3=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("cead0e901327a02d434c",t);return r.createElement(Qp,w3({},a,{className:n,src:M3,imageRendering:"pixelated"}))};let T3;!function(e){e.ExternalServer="ExternalServer"}(T3||(T3={}));const P3=yp((({externalServerWorldError:e,onClose:t})=>{const{t:a}=Fc("PlayScreen.serverTab.addServerError"),n="pop-up-modal-AddServerErrorModal",l=vp(),o=function(e){switch(e){case Ui.NameIsEmpty:return".nameError";case Ui.AddressIsEmpty:return".addressError";case Ui.InvalidIpAddress:return".ipAddressError";case Ui.InvalidPortNumber:return".portError";case Ui.IdNotFound:case Ui.UnknownError:default:return".genericError"}}(e),i=()=>{l(),t()};return r.createElement($E,{defaultFocusAlias:n},r.createElement($E.Header,{onClose:i},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a(o),gamepadIndex:0,center:!0},a(o))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:n,inputLegend:a(".closeButton"),onClick:i},a(".closeButton"))))})),I3="go-back-server-modal",x3=yp((({onDeleteServer:e,onClose:t})=>{const{t:a}=Fc("PlayScreen.serverTab.confirmDeletion");return r.createElement($E,{defaultFocusAlias:I3},r.createElement($E.Header,{onClose:t},a(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:a(".message"),gamepadIndex:0,center:!0},a(".message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:I3,inputLegend:a(".goBackButton"),variant:"secondary",onClick:t},a(".goBackButton")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:a(".deleteButtonInputLegend"),variant:"destructive",onClick:()=>{e(),t()}},a(".deleteButton"))))})),A3="save-button-unsaved-changes-server-modal",O3=yp((({onSaveChanges:e,onDiscardChanges:t,onClose:a,localization:n="unsavedChanges"})=>{const{t:o}=Fc(`PlayScreen.serverTab.${n}`),i=(0,l.useFacetCallback)((()=>()=>{a(),t()}),[t,a],[]);return r.createElement($E,{defaultFocusAlias:A3},r.createElement($E.Header,{onClose:a},o(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:o(".message"),gamepadIndex:0,center:!0},o(".message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:A3,inputLegend:o(".discardChangesButtonInputLegend"),variant:"secondary",onClick:i},o(".discardChangesButton")),r.createElement(Nm,{size:1}),r.createElement(Ug,{inputLegend:o(".saveChangesButtonInputLegend"),variant:"primary",onClick:()=>{e(),a()}},o(".saveChangesButton"))))})),N3=19132,R3=65535,L3=()=>{const e=(0,l.useSharedFacet)(wc),t=(0,l.useSharedFacet)(zi),a=(0,l.useSharedFacet)(Ic),n=(0,l.useSharedFacet)(Ac),o=(0,l.useSharedFacet)(xc),i=P3.useModal(),c=x3.useModal(),s=O3.useModal(),u=yd(),[d,m]=(0,r.useState)(void 0),[f,E]=(0,l.useFacetState)(!1),h=p(),b=function(){const e=g();return(0,l.useFacetMap)((e=>e.id),[],[e])}(),v=wr("neutral"),y=(0,l.useFacetMap)((e=>null!=e),[],[b]),F="narrow"===Od(),{t:S}=Sc("PlayScreen.serverTab.serverForm"),[C,M]=(0,l.useFacetState)(!1),[w,k]=(0,l.useFacetState)(""),T=(0,l.useFacetMap)((e=>e.networkDetails.name),[],[e]),P=(0,l.useFacetMap)((e=>e.networkDetails.port.toString()),[],[e]),[I,x]=(0,l.useFacetState)(N3.toString()),A=(0,l.useFacetMap)((e=>e.networkDetails.address),[],[e]),O=(0,l.useFacetMap)((e=>e.doNotShowMultiplayerIpSafetyWarning),[],[o]),[N,R]=(0,l.useFacetState)(""),L=(0,l.useFacetCallback)((()=>e=>{k(e),E(!0)}),[k,E],[]),_=(0,l.useFacetCallback)((()=>e=>{R(e),E(!0)}),[R,E],[]),D=(0,l.useFacetCallback)((()=>e=>{x(e),E(!0)}),[x,E],[]),W=(0,l.useFacetCallback)((e=>t=>{if(e)return;i.show(),m(t);const a={modalReason:Ui[t]};u({modal:"AddJoinExternalServerError",screen:T3.ExternalServer,details:a})}),[m,i,u],[i.isVisible]),B=(0,r.useCallback)((()=>{k(""),R(""),x(N3.toString()),E(!1)}),[k,R,x,E]),U=(0,l.useFacetCallback)((e=>t=>{e.queueSnackbar(t)}),[],[n]),z=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{const r=e.addExternalServerWorld(t,a,parseInt(n));return E(!0),null!=r?W(r):(U(S(".serverAddedNotification")),null!=e.addedServerId?(h.goBack(),h.replace(`/play/servers/${e.addedServerId}/${tY(Su.External)}`)):h.goBack(),B()),r}),[E,U,S,W,h,B],[t,w,N,I]),H=(0,l.useFacetMap)((e=>e.joinExternalServerTaskState),[],[a]),j=(0,l.useFacetMap)((e=>e.joinExternalServerResult),[],[a]),V=(0,l.useFacetCallback)((e=>()=>{e.clearJoinExternalServerTaskState()}),[],[a]),G=Vk((e=>function*(t){e.joinExternalServer(t),yield H,e.clearJoinExternalServerTaskState()}),[H],[a]),$=(0,l.useFacetCallback)(((e,t)=>()=>{null==z()&&(t?G(String(e.addedServerId)):h.push(`/online-play-warning/${tY(Su.External)}/${e.addedServerId}`))}),[G,z,h],[t,O]),K=(0,l.useFacetCallback)(((e,t)=>()=>{if(null!=t){const a=e.removeExternalServerWorld(parseInt(t));a?W(a):(M(!0),U(S(".serverDeletedNotification")),h.goBack())}}),[W,U,S,M,h],[t,b]),Y=(0,l.useFacetCallback)(((e,t,a,n,r)=>()=>{if(null!=t){const l=e.editExternalServerWorld(parseInt(t),a,n,parseInt(r));l?W(l):(U(S(".serverEditedNotification")),h.goBack())}}),[W,U,S,h],[t,b,w,N,I]),X=(0,l.useFacetCallback)((e=>()=>{e?s.show():(B(),h.goBack())}),[h,s,B],[f]);(0,l.useFacetEffect)(((e,t,a,n)=>{n&&(k(e),R(t),x(a))}),[k,R,x],[T,A,P,y]);const q=(0,l.useFacetMap)((e=>null!=e&&e!==kc.OK),[],[j]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:C,condition:!1},r.createElement(av,null,r.createElement(xl,{data:y},(e=>e?r.createElement(Zf,{text:S(".editServerNarration")},r.createElement(yv,{onBackButton:X,center:r.createElement(zm,{type:"header5A"},S(".editServerTitle")),footer:F?r.createElement(r.Fragment,null,r.createElement(_3,{isEditing:!0,primaryCallback:Y,secondaryCallback:c.show}),r.createElement(LE.Space,null)):r.createElement(LE.Space,null),gamepadAlias:"external-server-form-creating"},r.createElement(jf,null,r.createElement(Cv,null,r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:1,narrowSize:1,disabled:!0}),r.createElement(Cv.Column,{wideSize:10,narrowSize:6},r.createElement("div",{className:zr()(v.border.base,C3)},r.createElement(jy,{label:S(".serverNameLabel"),value:w,onChange:L,placeholder:S(".serverNamePlaceholder"),filterProfanity:!0}),r.createElement(D3,{address:N,setAddress:_}),r.createElement(W3,{port:I,setPort:D}),F?null:r.createElement(_3,{isEditing:!0,primaryCallback:Y,secondaryCallback:c.show}))),r.createElement(Cv.Column,{wideSize:1,narrowSize:1,disabled:!0})))))):r.createElement(Zf,{text:S(".newServerNarration")},r.createElement(yv,{onBackButton:X,center:r.createElement(zm,{type:"header5A"},S(".newServerTitle")),footer:F?r.createElement(r.Fragment,null,r.createElement(_3,{primaryCallback:$,secondaryCallback:z,isEditing:!1}),r.createElement(LE.Space,null)):r.createElement(LE.Space,null),gamepadAlias:"external-server-form-creating"},r.createElement(jf,null,r.createElement(Cv,null,r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:1,narrowSize:1}),r.createElement(Cv.Column,{wideSize:10,narrowSize:6},r.createElement("div",{className:zr()(v.border.base,C3)},r.createElement(jy,{label:S(".serverNameLabel"),value:w,onChange:L,placeholder:S(".serverNamePlaceholder"),filterProfanity:!0}),r.createElement(D3,{address:N,setAddress:_}),r.createElement(W3,{port:I,setPort:D}),F?null:r.createElement(_3,{primaryCallback:$,secondaryCallback:z,isEditing:!1})))))))))),r.createElement(l.Mount,{when:i.isVisible},r.createElement(P3.Component,{externalServerWorldError:d,onClose:i.hide})),r.createElement(l.Mount,{when:c.isVisible},r.createElement(x3.Component,{onDeleteServer:K,onClose:c.hide})),r.createElement(l.Mount,{when:s.isVisible},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:y},r.createElement(O3.Component,{onSaveChanges:Y,onDiscardChanges:h.goBack,onClose:s.hide})),r.createElement(l.Mount,{when:y,condition:!1},r.createElement(O3.Component,{onSaveChanges:s.hide,onDiscardChanges:h.goBack,onClose:s.hide,localization:"unsavedAddChanges"})))))),r.createElement(l.Mount,{when:q},r.createElement(R2.Component,{onClose:V})))};function _3({isEditing:e,primaryCallback:t,secondaryCallback:a}){const n=wr("neutral"),{t:l}=Sc("PlayScreen.serverTab.serverForm");return r.createElement("div",{className:zr()("b632b0969f9ddc017b4b",n.background.base,n.bevel.base,"eaa54b2e246f7b68995f")},r.createElement(Ug,{horizontal:!0,inputLegend:l(e?".deleteServerButton":".addServerButton"),onClick:a,variant:e?"destructive":"secondary",Icon:e?Ek:void 0},l(e?".deleteServerButton":".addServerButton")),r.createElement(rO.ButtonSpacing,null),r.createElement(Ug,{horizontal:!0,inputLegend:l(e?".saveChangesButton":".addAndPlayButton"),onClick:t,variant:"primary",Icon:e?k3:void 0},l(e?".saveChangesButton":".addAndPlayButton")))}function D3({address:e,setAddress:t}){const{t:a}=Sc("PlayScreen.serverTab.serverForm");return r.createElement(jy,{label:a(".serverAddressLabel"),onChange:t,placeholder:a(".serverAddressPlaceholder"),value:e,filterProfanity:!0})}function W3({port:e,setPort:t}){const{t:a}=Sc("PlayScreen.serverTab.serverForm"),{narrateText:n}=Hf({interruptible:!1}),l=(0,r.useCallback)(((e,t)=>{const r=e.match(/^[0-9]*$/g);return 0!==e.length&&r?parseInt(e)>R3?(n(a(".serverPortNotWithinRange",[R3.toString()])),t(R3.toString()),qg.ValidationResult.INVALID):qg.ValidationResult.VALID:(n(a(".serverPortInvalidValue",[N3.toString()])),t(N3.toString()),qg.ValidationResult.INVALID)}),[n,a]);return r.createElement(jy,{label:a(".serverPortLabel"),onBlur:l,onChange:t,value:e,isNumber:!0})}function B3({item:e}){const{t}=Fc("StartFromTemplateRoute.SideMenu"),a=p(),n=g(),o=(0,l.useFacetMap)((e=>e.label),[],[e]),i=(0,l.useFacetMap)((e=>e.value),[],[e]),c=(0,l.useFacetMap)(((e,t)=>e.value==t.tab),[],[e,n]),s=(0,l.useFacetCallback)((e=>()=>{a.replace(`/start-from-template/${e}`)}),[a],[i]);return r.createElement(Sx.ListItem,{narrationText:o,value:i,onSelect:s,inputLegend:t(".inputLegend"),selected:c},r.createElement(zm,{type:"body"},r.createElement(xm,null,o)))}function U3(){const{t:e}=Fc("StartFromTemplateRoute.SideMenu"),t=(0,Fc("SideMenu").t)(".narrationRoleMenu"),a=(0,l.useSharedFacet)(pd),n=tv(Vi),o=tv(Gi),i=(0,l.useFacetWrap)(n||o),c=(0,l.useFacetMemo)((t=>e(".ownedByMe",[String(t.ownedTemplateWorldList.filter((e=>!e.ownedWorldTemplateData.isLocked)).length)])),[e],[a]),s=(0,l.useFacetMap)((t=>[{label:e(".marketplacePass"),value:s5.MarketplacePass},{label:e(".featured"),value:s5.Featured},{label:t,value:s5.OwnedByMe}]),[e],[c]),u=u5("Template");return r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(Sx,{role:"neutralAlpha60",narrationRole:t,spacingAroundSideMenu:r.createElement(r.Fragment,null)},r.createElement(l.Mount,{when:i},r.createElement(r.Fragment,null,r.createElement(Sx.Item,null,r.createElement(Ug,{onClick:u,inputLegend:e(".cnwButton"),variant:"primary"},e(".cnwButton"))),r.createElement(Nm,{size:2}))),r.createElement(Sx.ItemList,{items:s,renderItem:B3}),r.createElement("div",{className:"b4410affd948aca66a9a"})))}let z3;!function(e){e.MarketplacePassTab="MarketplacePassTab",e.FeaturedCreatorsTab="FeaturedCreatorsTab",e.OwnedByMeTab="OwnedByMeTab"}(z3||(z3={}));const H3=()=>{const{t:e}=Sc("StartFromTemplateRoute.useTemplateOperations"),t=p(),a=(0,l.useSharedFacet)(hd),n=(0,l.useSharedFacet)(Ac),r=vd(),o=(0,l.useFacetMap)((e=>e.importingTaskState),[],[a]),i=(0,l.useFacetMap)((e=>e.downloadingTaskState),[],[a]),c=Vk(((t,a)=>function*(){r({button:"Import",screen:z3.OwnedByMeTab}),t.importWorldTemplate(),yield o,a.queueSnackbar(e(".importNotification")),t.resetImportTask()}),[o,e,r],[a,n]),s=tv(nc),u=(0,l.useSharedFacet)(Cc),d=Vk(((e,a)=>function*(n,r){if(e.downloadWorldTemplate(n),yield i,e.resetDownloadTask(),s){const e=a.marketplacePassWorldTemplates.find((e=>e.packId===r));if(e&&(e.storeCatalogCategory===vc.Addon||e.storeCatalogCategory===vc.ResourcePack))return void t.push(`/create-new-world/resource-packs/active?packid=${r}`)}t.push(`/create-new-world/general/${r}`)}),[i,t,s],[a,u]);return{importTemplate:c,downloadTemplate:d}};function j3({children:e}){return r.createElement(jf,null,r.createElement(Nm,{size:2}),e)}function V3({tab:e}){const t=tv(nc),{t:a}=Fc(function(e,t){switch(e){case s5.MarketplacePass:return t?"StartFromTemplateRoute.MarketplacePass.AddOn":"StartFromTemplateRoute.MarketplacePass";case s5.Featured:return"StartFromTemplateRoute.Featured";default:return"StartFromTemplateRoute.OwnedByMe"}}(e,t)),n=wr("neutral");return r.createElement("div",{className:zr()("b3ed755de70f878db278",n.background.base)},r.createElement(zm,{type:"header5A"},a(".title")),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionShort",variant:"dimmer",className:"db2bf3dbff0d60327de1"},a(".description")),r.createElement(Nm,{size:2}))}const G3="cd7d17c9fc3d7f0fe172",$3="e5eaf3b38009873582d6",K3="b16d6bbf79d611e217b5";function Y3({children:e,className:t,containerRef:a}){return r.createElement("div",{ref:a,className:zr()("a4a836bbc56dad49e659",t)},e)}Y3.Action=function({children:e,onClick:t,inputLegend:a,onFocusChanged:n,onHoverChanged:o,narrationText:i,gamepadAlias:c,disabled:s=!1,testId:u,className:d}){const m=Tr("neutral"),p=(0,l.useFacetMap)((e=>!0===e),[],[(0,l.useFacetWrap)(s)]),f=(0,l.useFacetWrap)(!1===a?"":a),g=(0,l.useFacetMap)(((e,t)=>!t&&e),[],[f,p]),E=(0,l.useFacetMap)(((e,t)=>zr()("d01bd84b4838bfb9d7de","c6c511d313197b0bf67c",t,{e7de5d02e0c361eb65ac:e})),[],[p,(0,l.useFacetWrap)(null!=d?d:void 0)]),h=(0,l.useFacetMap)((e=>!0===e?void 0:m.press),[m],[p]),b=(0,l.useFacetCallback)((e=>()=>{e||t()}),[t],[p]);return r.createElement(Tm,{className:E,classNameHovered:$3,classNameFocused:K3,classNamePressed:G3,classNameDisabled:Jn.pressed,gamepadAlias:c,inputLegend:g,narrationText:i,onClick:b,onFocusChanged:n,onHoverChanged:o,soundEffectPressed:h,"data-testid":u},e)},Y3.Information=function({children:e,innerRef:t,narrationText:a,role:n="inherit",spacingSize:l=3,className:o}){EH(a);const i=wr(n),c=zr()("df6d6ef948c2dadb865e",i.text.base,i.border.base,o);return r.createElement("div",{className:c,ref:t},r.createElement(Nm,{size:l}),e)},Y3.AdditionalAction=function({children:e,onClick:t,onMouseDown:a,inputLegend:n,narrationText:o,gamepadAlias:i,hidden:c=!1,focusGridIndex:s,innerRef:u,touchDetectionDelay:d,soundEffectPressed:m,disabled:p}){const f=Tr("neutral");return r.createElement(l.Mount,{when:(0,l.useFacetWrap)(c),condition:!1},r.createElement(Tm,{innerRef:u,className:"f3b5444ec79ac82f5ef7",classNameHovered:$3,classNameFocused:K3,classNamePressed:G3,focusGridIndex:s,gamepadAlias:i,inputLegend:n,onClick:t,onMouseDown:a,narrationText:o,touchDetectionDelay:d,soundEffectHovered:f.hover,soundEffectFocused:f.focus,soundEffectPressed:null!=m?m:f.press,disabled:p},e))};const X3=a.p+"assets/iconStar-a3e78e19019305d0188b.png";function q3(){return q3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},q3.apply(null,arguments)}const Q3=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("d9905633fab77f76bb72",t);return r.createElement(Qp,q3({},a,{className:n,src:X3,imageRendering:"pixelated"}))},Z3=a.p+"assets/iconStarGolden-e2d94af4ed241b8e94dc.png";function J3(){return J3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},J3.apply(null,arguments)}const e4=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("f5f268adae5bb2a7909c",t);return r.createElement(Qp,J3({},a,{className:n,src:Z3,imageRendering:"pixelated"}))},t4=a.p+"assets/thumbnail-default-d0210bba13d939ca9e72.jpg";function a4({name:e,creator:t,thumbnailPath:a,ratingData:n,isPremium:r,isLocked:o,isOwnedByMeTab:i=!1,narrationIndex:c,containerListLength:s,isRateable:u,isInstalled:d,t:m}){const p=(0,l.useFacetWrap)(null!=r&&r),f=(0,l.useFacetWrap)(null!=u&&u),g=(0,l.useFacetWrap)(null!=o&&o),E=(0,l.useFacetWrap)(null!=d&&d),h=(0,l.useFacetWrap)(c),b=(0,l.useFacetWrap)(null!=n?n:{averageRating:void 0,totalRatingsCount:void 0}),v=(0,l.useFacetMap)((e=>e||t4),[],[a]),y=(0,l.useFacetMap)((e=>!e&&i),[i],[p]),F=(0,l.useFacetMap)((e=>i&&e),[i],[f]),S=(0,l.useFacetMap)((e=>!e&&i),[i],[E]),C=(0,l.useFacetMap)((e=>m(".creator",[e])),[m],[t]),M=(0,l.useFacetMemo)((e=>String(null!=e.averageRating&&e.averageRating.toFixed(1))),[],[b]),w=(0,l.useFacetMemo)((e=>`(${null!=e.totalRatingsCount&&e.totalRatingsCount})`),[],[b]),k=(0,l.useFacetMemo)(((e,t,a,n,r,l,o)=>[m(".componentRole"),e,t,n>0?m(".enumeration",[`${o+1}`,`${n}`]):"",i||null==a.averageRating?"":m(".rating",[String(a.averageRating.toFixed(1))]),l?m(".locked"):"",r?m(".imported"):""].filter(Boolean).join(" . ")),[i,m],[e,C,b,s,y,g,h,F,S]);return{name:e,contextNarration:k,actionNarration:(0,l.useFacetMemo)(((e,t)=>[m(t?".installed":".notInstalled"),e?[m(".button"),m(".enumeration",["1","2"])]:m(".button")].filter(Boolean).join(" . ")),[m],[F,S]),isLockedFacet:g,thumbnailPathResolved:v,createdBy:C,isImported:y,rating:M,voteCount:w,shouldRenderRateButton:F,additionalActionNarration:[m(".rate"),m(".button"),m(".enumeration",["2","2"])].join(" . "),shouldShowDownloadOverlay:S}}const n4=a.p+"assets/iconLock-e98de25ac2e4a0a9b77c.png";function r4(){return r4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r4.apply(null,arguments)}const l4=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=tf("d600eba1514d87cf01e0",t);return r.createElement(Qp,r4({},a,{className:n,src:n4,imageRendering:"pixelated"}))},o4="c2aac462be41ca245147",i4=a.p+"assets/download-062b39e6a7b4d8f21347.png";var c4;function s4({isCard:e=!0,isLocked:t,thumbnailPath:a,shouldShowDownloadOverlay:n}){const o=wr("neutral"),i=(0,l.useFacetMap)((t=>e&&!t?"fb20892f6c781ebbaf42":zr()("a331f6e5af4f783f71a5",t?"ca29b4203c81f8c718db":o.border.base)),[e,o.border.base],[t]),c=(0,l.useFacetMap)(((e,t)=>e?c4.Locked:t?c4.ShouldDownload:c4.Default),[],[t,n]),s=(0,r.useMemo)((()=>r.createElement(Qp,{className:i,aspectRatio:Qp.AspectRatio["16:9"],src:a})),[i,a]),u=(0,r.useMemo)((()=>r.createElement("div",{className:"a88022c7d0e4d7072bad"})),[]);return r.createElement("div",{className:"abb062bcd2b8b8a007dd"},r.createElement(xl,{data:c},(e=>{switch(e){case c4.Locked:return r.createElement(r.Fragment,null,u,s,u,r.createElement("div",{className:"b9dee7b068defe21baf4"}),r.createElement(l4,{className:o4}));case c4.ShouldDownload:return r.createElement(r.Fragment,null,s,r.createElement("div",{className:"cab950e75252b2c9a700"}),r.createElement(Qp,{src:i4,className:zr()("d5b91d3b6b2a2e149b28",o4),imageRendering:"pixelated"}));case c4.Default:return r.createElement(r.Fragment,null,s)}})))}!function(e){e.Locked="locked",e.ShouldDownload="should-download",e.Default="default"}(c4||(c4={}));function u4({name:e,creator:t,thumbnailPath:a,ratingData:n,isPremium:o,isLocked:i,isInstalled:c,isOwnedByMeTab:s=!1,narrationIndex:u,containerListLength:d,isRateable:m,onAction:p,onAdditionalAction:f=(()=>{})}){const{t:g}=Fc("TemplateCard"),{contextNarration:E,actionNarration:h,additionalActionNarration:b,createdBy:v,shouldShowDownloadOverlay:y,isImported:F,isLockedFacet:S,rating:C,shouldRenderRateButton:M,thumbnailPathResolved:w,voteCount:k}=a4({containerListLength:d,creator:t,isInstalled:c,isLocked:i,isPremium:o,isRateable:m,name:e,isOwnedByMeTab:s,narrationIndex:u,ratingData:n,t:g,thumbnailPath:a}),T=(0,l.useFacetMap)(((e,t)=>s&&!Boolean(t)||e),[s],[F,(0,l.useFacetWrap)(null!=c&&c)]),P=(0,l.useFacetMap)((e=>s&&e?"acab6c99b1c36370515b":"e664bcb961762772a37e"),[s],[F]);return r.createElement(Xr,null,r.createElement(Zf,{text:E},r.createElement(Y3,null,r.createElement(Y3.Action,{onClick:p,narrationText:h,inputLegend:g(".start")},r.createElement(s4,{shouldShowDownloadOverlay:y,isLocked:S,thumbnailPath:w}),r.createElement(Y3.Information,{narrationText:""},r.createElement(zm,{type:"body"},r.createElement(xm,null,e)),r.createElement(Nm,{size:1}),r.createElement(zm,{type:"body",variant:"dimmer"},r.createElement(xm,null,v)),r.createElement(l.Mount,{when:F},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(_y,{role:"neutral100"},g(".imported")))),r.createElement(l.Mount,{when:T},r.createElement(r.Fragment,null,r.createElement("fast-div",{className:P}),r.createElement(Nm,{size:1}))),!s&&r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(d4,{rating:C,voteCount:k})))),r.createElement(l.Mount,{when:M},r.createElement(Y3.AdditionalAction,{onClick:f,narrationText:b,inputLegend:g(".rate")},r.createElement(Nm,{size:2}),r.createElement("div",{className:zr()("ecc72b2e30aee62c020f")},r.createElement(Q3,null),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"body",role:"inherit",verticalAlign:"center"},g(".rate"))),r.createElement(Nm,{size:2}))))))}function d4({rating:e,voteCount:t}){return r.createElement("div",{className:"c867ecae9fb1327a5cd0"},r.createElement(e4,null),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionShort",variant:"dimmer",verticalAlign:"center",tag:"span"},e),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionShort",variant:"dimmer",verticalAlign:"center",tag:"span"},t))}function m4({name:e,creator:t,thumbnailPath:a,ratingData:n,isPremium:o,isLocked:i,isInstalled:c,isRateable:s,isOwnedByMeTab:u=!1,narrationIndex:d,containerListLength:m,onAction:p,onAdditionalAction:f=(()=>{})}){const{t:g}=Fc("TemplateCard"),{contextNarration:E,actionNarration:h,isLockedFacet:b,thumbnailPathResolved:v,createdBy:y,isImported:F,rating:S,voteCount:C,shouldRenderRateButton:M,shouldShowDownloadOverlay:w,additionalActionNarration:k}=a4({name:e,creator:t,thumbnailPath:a,ratingData:n,isPremium:o,isLocked:i,isInstalled:c,isRateable:s,isOwnedByMeTab:u,narrationIndex:d,containerListLength:m,t:g});return r.createElement(Xr,null,r.createElement(Zf,{text:E},r.createElement(tw,{tall:!0},r.createElement(tw.Action,{onClick:p,narrationText:h,inputLegend:g(".start")},r.createElement("div",{className:"ac358d7938afa3e22ad6"},r.createElement(s4,{shouldShowDownloadOverlay:w,isCard:!1,isLocked:b,thumbnailPath:v})),r.createElement(tw.Main,null,r.createElement(zm,{type:"body"},r.createElement(xm,null,e)),r.createElement(zm,{type:"body",variant:"dimmest"},r.createElement(xm,null,y)),r.createElement("div",{className:"f4b0f492ebe56be6e239"},r.createElement(l.Mount,{when:F},r.createElement(_y,{role:"neutral100"},g(".imported"))),!u&&r.createElement(r.Fragment,null,r.createElement(e4,null),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionShort",variant:"dimmest"},r.createElement(xm,null,S)),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionShort",variant:"dimmest"},r.createElement(xm,null,C)))))),r.createElement(l.Mount,{when:M},r.createElement(tw.AdditionalAction,{narrationText:k,onClick:f,inputLegend:g(".rate")},r.createElement(Q3,null),r.createElement(Nm,{size:2}),r.createElement(zm,{type:"captionShort"},r.createElement(xm,null,g(".rate"))))))))}const p4=a.p+"assets/marketplace-pass-image-sm-92c883e0fc07a1520590.png",f4=a.p+"assets/marketplace-pass-image-260a8f13bcb3574bff4d.png";function g4(){const{t:e}=Sc("StartFromTemplateRoute.MarketplacePass"),t=tv(nc),{t:a}=Sc(t?"StartFromTemplateRoute.getMoreButton.AddOn":"StartFromTemplateRoute.getMoreButton"),n=p(),o=Fd(),i=Od(),c=vd(),s=tv("vanilla.marketplace.discovery.prod"),u="narrow"===i,d=e(".NoTemplatesMessage.title"),m=e(".NoTemplatesMessage.description"),f=a(".title"),g=a(".body"),E={text:e(".NoTemplatesMessage.button"),onClick:()=>n.push("/settings/discovery_debug"),variant:"primary"},h=(0,l.useSharedFacet)(Cc),b=(0,l.useSharedFacet)(Wu),v=(0,l.useSharedFacet)(dl),y=(0,l.useFacetMap)((e=>e.isOnline),[],[v]),F=(0,l.useFacetMap)((e=>e.marketplacePassWorldTemplates),[],[h]),S=(0,l.useFacetMap)((e=>e.seeMoreMarketplacePassRouteData),[],[h]),C=(0,l.useFacetMap)((({isRealmsPlusSubscriptionActive:e,isMarketplacePassSubscriptionActive:t})=>!e&&!t),[],[b]),M=(0,l.useFacetMap)(((e,t,a)=>e?Tk(a.platform)&&!t.isSignedInPlatformNetwork?"guest-account-playstation":Ik(a.platform)&&!t.isSignedInPlatformNetwork?"guest-account-nintendo":s?"tab-content":"non-production-marketplace-environment":"offline"),[s],[y,b,v]),w=(0,l.useFacetMap)((e=>e.refreshTaskState),[],[h]),k=(0,l.useFacetMap)((e=>e===Hk.RUNNING),[],[w]),T=(0,l.useFacetCallback)((e=>()=>{c({button:"WantMore",screen:z3.MarketplacePassTab}),n.push(`/marketplace?title=${e.title}&pageId=${e.pageId}`)}),[n,c],[S]);return r.createElement(r.Fragment,null,r.createElement(Zf,{text:e(".role")+" . "+e(".title")},r.createElement(xl,{data:M},(t=>{switch(t){case"guest-account-playstation":return r.createElement(j3,null,r.createElement(xI,{context:II.Playstation}));case"guest-account-nintendo":return r.createElement(j3,null,r.createElement(xI,{context:II.Nintendo}));case"offline":return r.createElement(j3,null,r.createElement(uI,{text:e(".noInternetMessage")}));case"non-production-marketplace-environment":return r.createElement(j3,null,r.createElement(_v,{title:d,text:m,buttons:[E]}));default:return r.createElement(r.Fragment,null,r.createElement(rz,{loading:k,firstRowSeparatorVertical:r.createElement(h4,{isNotSubscribed:C}),footer:r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(UD,{titleText:f,bodyText:g,onClick:T}),r.createElement(Nm,{size:2}),r.createElement(LE.Space,null)),data:F,columns:u?1:3,itemSeparatorHorizontal:u?null:r.createElement(Nm,{size:2}),itemSeparatorVertical:u?null:r.createElement(Nm,{size:1}),renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>r.createElement(E4,{templateData:e,index:t+1,numberOfTemplates:a,isLocked:C,isNarrow:u}),innerRef:o}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))}}))),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}))}function E4({templateData:e,index:t,numberOfTemplates:a,isLocked:n,isNarrow:o}){const i=p(),{downloadTemplate:c}=H3(),s=tv(nc),u=(0,l.useFacetMap)((e=>e.name),[],[e]),d=(0,l.useFacetMap)((e=>e.creator),[],[e]),m=(0,l.useFacetMap)((e=>e.thumbnailPath),[],[e]),f=(0,l.useFacetMap)((e=>e.ratingData),[],[e]),g=(0,l.useFacetCallback)(((e,t)=>()=>{t?i.push(`/marketplace?productId=${e.id}`):(s?e.isInstalled&&!e.isUpdateAvailable:e.isInstalled)?!s||e.storeCatalogCategory!==vc.Addon&&e.storeCatalogCategory!==vc.ResourcePack?i.push(`/create-new-world/general/${e.packId}`):i.push(`/create-new-world/resource-packs/active?packid=${e.packId}`):c(e.id,e.packId)}),[c,i,s],[e,n]);return o?r.createElement(m4,{name:u,creator:d,thumbnailPath:m,ratingData:f,isPremium:!0,isLocked:n,narrationIndex:t,containerListLength:a,onAction:g}):r.createElement(u4,{name:u,creator:d,thumbnailPath:m,ratingData:f,isPremium:!0,isLocked:n,narrationIndex:t,containerListLength:a,onAction:g})}function h4({isNotSubscribed:e}){const{t}=Sc("StartFromTemplateRoute.MarketplacePass"),a=dn(),n=o2(l2.TEMPLATES),o="narrow"===Od();return r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(xl,{data:e},(e=>e?r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:n},r.createElement(r.Fragment,null,r.createElement(BB,{location:RB.TemplatesScreen_MarketplacePass}),r.createElement(Nm,{size:2}))),r.createElement(Tm.Maybe,{isInteractive:a,narrationText:t(".imageNarration")+" . "+t(".imageRole")},r.createElement(Qp,{imageRendering:"pixelated",src:o?p4:f4,aspectRatio:o?{height:90,width:490}:{height:65,width:475}}))):r.createElement(V3,{tab:s5.MarketplacePass}))),r.createElement(Nm,{size:2}))}function b4(){const{t:e}=Sc("StartFromTemplateRoute.Featured"),{t}=Sc("StartFromTemplateRoute.getMoreButton"),a=p(),n=Fd(),o=Od(),i=vd(),c="narrow"===o,s=t(".title"),u=t(".body"),d=(0,l.useSharedFacet)(dl),m=(0,l.useSharedFacet)(md),f=(0,l.useSharedFacet)(Wu),g=(0,l.useFacetMap)((e=>e.isOnline),[],[d]),E=(0,l.useFacetMap)((e=>e.featuredWorldTemplates),[],[m]),h=(0,l.useFacetMap)((e=>e.seeMoreFeaturedRouteData),[],[m]),b=(0,l.useFacetMap)(((e,t,a)=>e?Tk(a.platform)&&!t.isSignedInPlatformNetwork?"guest-account-playstation":Ik(a.platform)&&!t.isSignedInPlatformNetwork?"guest-account-nintendo":"tab-content":"offline"),[],[g,f,d]),v=(0,l.useFacetMap)((e=>e.refreshTaskState),[],[m]),y=(0,l.useFacetMap)((e=>e===Hk.RUNNING),[],[v]),F=(0,l.useFacetCallback)((e=>()=>{i({button:"WantMore",screen:z3.FeaturedCreatorsTab}),a.push(`/marketplace?title=${e.title}&pageId=${e.pageId}`)}),[a,i],[h]);return r.createElement(r.Fragment,null,r.createElement(Zf,{text:e(".role")+" . "+e(".title")},r.createElement(xl,{data:b},(t=>{switch(t){case"guest-account-playstation":return r.createElement(j3,null,r.createElement(xI,{context:II.Playstation}));case"guest-account-nintendo":return r.createElement(j3,null,r.createElement(xI,{context:II.Nintendo}));case"offline":return r.createElement(j3,null,r.createElement(uI,{text:e(".noInternetMessage")}));default:return r.createElement(r.Fragment,null,r.createElement(rz,{loading:y,firstRowSeparatorVertical:r.createElement(y4,null),footer:r.createElement(r.Fragment,null,r.createElement(Nm,{size:1}),r.createElement(UD,{titleText:s,bodyText:u,onClick:F}),r.createElement(Nm,{size:2}),r.createElement(LE.Space,null)),data:E,columns:c?1:3,itemSeparatorHorizontal:c?null:r.createElement(Nm,{size:2}),itemSeparatorVertical:c?null:r.createElement(Nm,{size:1}),renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>r.createElement(v4,{templateData:e,index:t,numberOfTemplates:a,isNarrow:c}),innerRef:n}),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))}}))),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}))}function v4({templateData:e,index:t,numberOfTemplates:a,isNarrow:n}){const o=p(),i=(0,l.useFacetMap)((e=>e.name),[],[e]),c=(0,l.useFacetMap)((e=>e.creator),[],[e]),s=(0,l.useFacetMap)((e=>e.thumbnailPath),[],[e]),u=(0,l.useFacetMap)((e=>e.ratingData),[],[e]),d=(0,l.useFacetCallback)((e=>()=>{o.push(`/marketplace?productId=${e.id}`)}),[o],[e]);return n?r.createElement(m4,{name:i,creator:c,thumbnailPath:s,ratingData:u,narrationIndex:t,containerListLength:a,onAction:d}):r.createElement(u4,{name:i,creator:c,thumbnailPath:s,ratingData:u,narrationIndex:t,containerListLength:a,onAction:d})}function y4(){return r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(V3,{tab:s5.Featured}),r.createElement(Nm,{size:2}))}const F4=a.p+"assets/import-world-icon-4e8aa37086d435c7b044.png";let S4,C4;!function(e){e[e.NAME_AZ=1]="NAME_AZ",e[e.NAME_ZA=2]="NAME_ZA"}(S4||(S4={})),function(e){e[e.SHOW_ALL=1]="SHOW_ALL",e[e.MARKETPLACE=2]="MARKETPLACE",e[e.DOWNLOADED=3]="DOWNLOADED",e[e.IMPORTED=4]="IMPORTED"}(C4||(C4={}));const M4=S4.NAME_AZ,w4=C4.SHOW_ALL,k4=a.p+"assets/no-filtered-templates-91571ae09c0107625caf.png";function T4(){const{t:e}=Fc("StartFromTemplateRoute.NoFilteredTemplatesMessage"),t=my({wide:8,narrow:6,width:256}),a=(0,l.useFacetMap)((e=>e?"aef3fb630d5a6d036bab":"e1b4d979c4b9e924edf7"),[],[t]);return r.createElement(_v,{title:e(".title"),text:e(".message"),imgSrc:k4,imgClass:a})}const P4=function({searchTerm:e,onSearchTermChange:t}){const{t:a}=Sc("StartFromTemplateRoute.OwnedByMe");return r.createElement(bg,{"data-testid":"owned-by-me-search-field-id",value:e,placeholder:a(".searchBar"),placeholderIcon:Eg.MagnifyingGlass,narrationText:a(".searchBar"),onChange:t,onBlur:t,shouldBlurOnEscape:!0,shouldBlurOnEnter:!0})},I4=function({ownedTemplatesList:e,selectedFilterOption:t,handleFilterChange:a}){const{t:n}=Sc("StartFromTemplateRoute.OwnedByMe.Filters"),o=(0,l.useFacetMap)((e=>String(e.length)),[],[e]),i=(0,l.useFacetMemo)((e=>String(e.filter((e=>e.ownedWorldTemplateData.isPremium)).length)),[],[e]),c=(0,l.useFacetMemo)((e=>String(e.filter((e=>e.ownedWorldTemplateData.isPremium&&e.ownedWorldTemplateData.isInstalled)).length)),[],[e]),s=(0,l.useFacetMemo)((e=>String(e.filter((e=>!e.ownedWorldTemplateData.isPremium)).length)),[],[e]),u=(0,l.useFacetMemo)(((e,t,a,r)=>[{label:n(".showAll",[e]),value:C4.SHOW_ALL,enumeration:n(".optionEnumeration",["1","4"])},{label:n(".downloaded",[a]),value:C4.DOWNLOADED,enumeration:n(".optionEnumeration",["2","4"])},{label:n(".imported",[r]),value:C4.IMPORTED,enumeration:n(".optionEnumeration",["3","4"])},{label:n(".marketplace",[t]),value:C4.MARKETPLACE,enumeration:n(".optionEnumeration",["4","4"])}]),[n],[o,i,c,s]);return r.createElement(oA,{title:n(".filterTitle"),options:u,value:t,onItemSelect:a,buttonTestId:"filter-dropdown-button",matchButtonHeight:!0})},x4=function({selectedSortOption:e,handleSortChange:t}){const{t:a}=Sc("StartFromTemplateRoute.OwnedByMe.Filters"),n=(0,r.useMemo)((()=>[{label:a(".nameAZ"),value:S4.NAME_AZ,enumeration:a(".optionEnumeration",["1","2"]),narrationText:a(".nameAZ.narration")},{label:a(".nameZA"),value:S4.NAME_ZA,enumeration:a(".optionEnumeration",["2","2"]),narrationText:a(".nameZA.narration")}]),[a]);return r.createElement(oA,{title:a(".sortingTitle"),options:n,value:e,onItemSelect:t,buttonTestId:"sort-dropdown-button",matchButtonHeight:!0})},A4=function({Filter:e,Sort:t,ImportButton:a,SearchField:n,showImportButtonFacet:l}){const o="desktop"===Od()?"c88a9119bf7efaae7206":"ac39f34903d5186cae11";return r.createElement(xl,{data:l},(l=>l?r.createElement(r.Fragment,null,r.createElement("div",{className:o},r.createElement(Cv.Column,{wideSize:6,narrowSize:4},n),r.createElement(Cv.Column,{wideSize:6,narrowSize:4},a)),r.createElement(Nm,{size:2}),r.createElement("div",{className:o},r.createElement(Cv.Column,{wideSize:6,narrowSize:4},e),r.createElement(Cv.Column,{wideSize:6,narrowSize:4},t))):r.createElement("div",{className:o},r.createElement(Cv.Column,{wideSize:4,narrowSize:4},n),r.createElement(Cv.Column,{wideSize:4,narrowSize:2},e),r.createElement(Cv.Column,{wideSize:4,narrowSize:2},t))))},O4=a.p+"assets/trial-mode-modal-art-3fb6decef1aa7c9ab78b.png",N4={pixelArt:"aff5a57b8ca4cae1019d"},R4="trial-mode-modal-template-screen",L4=yp((({onClose:e})=>{const{t}=Fc("StartFromTemplateRoute.TrialModeModal"),a=XP(),n=(0,r.useCallback)((()=>{a(),e()}),[a,e]);return r.createElement($E,{defaultFocusAlias:R4},r.createElement($E.Header,{onClose:e},t(".title")),r.createElement($E.Content,{className:N4.content},r.createElement(Nm,{size:4}),r.createElement(Qp,{src:O4,imageRendering:"pixelated",className:N4.pixelArt}),r.createElement($E.Text,{narrationText:t(".message"),center:!0},t(".message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:R4,inputLegend:t(".button"),onClick:n,variant:"primary"},t(".button"))))})),_4=yp((({onClose:e})=>{const{t}=Fc("StartFromTemplateRoute.OwnedByMe.downloadUnavailableModal"),a=t(".title"),n=t(".message"),l=t(".goBack");return r.createElement($E,null,r.createElement($E.Header,null,a),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:n,center:!0},n)),r.createElement($E.Buttons,null,r.createElement(Ug,{inputLegend:l,variant:"secondary",onClick:e},l)))})),D4=yp((()=>{const{t:e}=Fc("StartFromTemplateRoute.OwnedByMe.ImportTemplateModal"),t=e(".title");return r.createElement($E,null,r.createElement($E.Header,null,t),r.createElement($E.Content,null,r.createElement($E.Spinner,null)))})),W4=a.p+"assets/no-content-art-f5417fee25a95f9e3d7b.png";function B4({importTemplate:e}){const{t}=Fc("StartFromTemplateRoute.noContentMessage"),a=p(),n=(0,l.useSharedFacet)(dl),o=(0,l.useFacetMap)((e=>Ok(e.platform,e.arvrPlatform)),[],[n]),i=(0,r.useCallback)((()=>{a.push("/marketplace")}),[a]),c=(0,l.useFacetMemo)((a=>a?[{text:t(".goToMarketplaceButton"),inputLegend:t(".goToMarketplaceButton"),onClick:i},{text:t(".importButton"),inputLegend:t(".importButton"),imgSrc:F4,onClick:e}]:[{text:t(".goToMarketplaceButton"),inputLegend:t(".goToMarketplaceButton"),onClick:i}]),[i,e,t],[o]),s=my({wide:8,narrow:6,width:256}),u=(0,l.useFacetMap)((e=>e?"e515ed49ba4449ad0ebb":"eb1ebf1eee4f0bf58901"),[],[s]);return r.createElement(_v,{title:t(".title"),text:t(".message"),imgSrc:W4,imgClass:u,buttons:c})}function U4(){const{t:e}=Fc("StartFromTemplateRoute.OwnedByMe"),t=(0,r.useRef)(null),a=Fd(),n=f(),{delegationEventFacet:o,delegateFocus:i}=Bp(),c=Od(),s="narrow"===c,u=_4.useModal(),d=D4.useModal(),m=L4.useModal(),{sortTemplates:p,filterTemplates:g,selectedSortOption:E,selectedFilterOption:h,handleSortChange:b,handleFilterChange:v}=(()=>{const[e,t]=(0,l.useFacetState)(M4),[a,n]=(0,l.useFacetState)(w4),o=f();(0,l.useFacetEffect)((e=>{e||(t(M4),n(w4))}),[n,t],[o]);const i=(0,r.useCallback)((e=>{t(e)}),[t]),c=(0,r.useCallback)((e=>{n(e)}),[n]);return{selectedSortOption:e,selectedFilterOption:a,sortTemplates:(0,r.useCallback)(((e,t)=>e.sort(((e,a)=>{const n=e.ownedWorldTemplateData,r=a.ownedWorldTemplateData;switch(t){case S4.NAME_AZ:return n.name.localeCompare(r.name);case S4.NAME_ZA:return r.name.localeCompare(n.name);default:return 0}}))),[]),filterTemplates:(0,r.useCallback)(((e,t)=>e.filter((e=>{const a=e.ownedWorldTemplateData;switch(t){case C4.MARKETPLACE:return a.isPremium;case C4.DOWNLOADED:return a.isPremium&&a.isInstalled;case C4.IMPORTED:return!a.isPremium;case C4.SHOW_ALL:default:return!0}}))),[]),handleSortChange:i,handleFilterChange:c}})(),{importTemplate:y}=H3(),{narrateText:F}=Hf({interruptible:!1}),[S,C]=(0,l.useFacetState)(""),[M,w]=(0,l.useFacetState)(!1),[k,T]=(0,l.useFacetState)(9),P=(0,l.useSharedFacet)(pd),I=(0,l.useSharedFacet)(hd),x=(0,l.useSharedFacet)(dl),A=(0,l.useSharedFacet)(Ac),O=(0,l.useFacetMap)((e=>e.isOnline),[],[x]),N=(0,l.useFacetMemo)((e=>e.ownedTemplateWorldList.filter((e=>!e.ownedWorldTemplateData.isLocked))),[],[P]),R=(0,l.useFacetMap)((e=>0===e.length),[],[N]),L=(0,l.useFacetMap)(((e,t)=>e&&!t?"offline":e?"no-templates":"tab-details"),[],[R,O]),_=(0,l.useFacetMemo)(((e,t,a,n)=>{const r=g(e,a),l=p(r,n);return""!=t?l.filter((e=>e.ownedWorldTemplateData.name.toLowerCase().includes(t.toLowerCase()))):l}),[g,p],[N,S,h,E]),D=(0,l.useFacetMap)((e=>e.length),[],[_]),W=(0,l.useFacetMap)(((e,t)=>e.slice(0,t)),[],[_,k]),B=(0,l.useFacetMap)((e=>e.length),[],[W]),U=(0,l.useFacetMap)((e=>0==e.length),[],[_]),z=(0,l.useFacetMap)((e=>Ok(e.platform,e.arvrPlatform)),[],[x]),H=(0,l.useFacetCallback)((e=>()=>{e?m.show():y()}),[y,m],[(0,l.useSharedFacet)(Bu)]),j=(0,l.useFacetMap)((t=>t?[{text:e(".importButtonOffline"),inputLegend:e(".importButtonOffline"),imgSrc:F4,onClick:H}]:[]),[e,H],[z]),V=(0,l.useFacetMap)((e=>e.importingTaskState===Hk.RUNNING),[],[I]),G=(0,l.useFacetMap)((e=>Ok(e.platform,e.arvrPlatform)),[],[x]),$=(0,l.useFacetMap)((e=>e.importingTaskResult),[],[I]),K=(0,r.useMemo)((()=>{switch(c){case"desktop":return r.createElement(Nm,{size:4});case"tablet":return r.createElement(Nm,{size:2});default:return null}}),[c]),Y=(0,l.useFacetCallback)(((t,a,n)=>()=>{if(!t)return;w(!1);const r=a.length,l=[e(".searchResult.name"),e(".searchResult.role")];""===n?l.push(e(".searchResult.hint.cleared")):0===r?l.push(e(".searchResult.hint.noResult")):1===r?l.push(e(".searchResult.hint.oneResult")):r>1&&l.push(e(".searchResult.hint.multiResult",[`${r}`])),F(l.join(" . "))}),[F,w,e],[M,_,S]),X=(0,l.useFacetCallback)((()=>e=>{C(e),w(!0),Y()}),[Y,C,w],[]),q=(0,l.useFacetCallback)((e=>()=>e.resetImportTask()),[],[I]),Q=(0,r.useCallback)((({children:e})=>r.createElement(zp,{delegationEvent:o},r.createElement(Yp,{containerRef:t,delegateFocusFromMemory:!0},r.createElement("div",{ref:t},e)))),[t,o]);return(0,r.useEffect)((()=>{Y()}),[Y]),(0,l.useFacetEffect)((e=>{e?d.show():d.hide()}),[d],[V]),(0,l.useFacetEffect)((e=>{e||T(9)}),[T],[n]),(0,l.useFacetEffect)(((t,a)=>{a===gd.Cancelled&&(t.queueSnackbar(e(".importCancelled")),q())}),[e,q],[A,$]),r.createElement(r.Fragment,null,r.createElement(Zf,{text:e(".role")+" . "+e(".title")},r.createElement(xl,{data:L},(t=>{switch(t){case"offline":return r.createElement(j3,null,r.createElement(uI,{text:e(".noInternetMessage"),buttons:j}));case"no-templates":return r.createElement(j3,null,r.createElement(B4,{importTemplate:H}));default:return r.createElement(r.Fragment,null,r.createElement(H4,{showImportButton:G,searchTerm:S,ownedTemplatesList:N,selectedSortOption:E,selectedFilterOption:h,handleSortChange:b,handleFilterChange:v,importTemplate:H,onSearchTermChange:X}),r.createElement(rz,{data:W,columns:s?1:3,firstRowSeparatorVertical:r.createElement(Nm,{size:1}),itemSeparatorHorizontal:K,itemSeparatorVertical:s?null:r.createElement(Nm,{size:1}),footer:r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:U,condition:!1},r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(j4,{totalTemplatesCount:D,visibleTemplatesCount:B,scrollViewRef:a,delegateFocus:i,setTemplatesCountAllowedToBeShown:T}))),r.createElement(LE.Space,null)),listWrapper:Q,renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>r.createElement(z4,{templateData:e,index:t,numberOfTemplates:a,showDownloadUnavailableModal:u.show}),innerRef:a,emptyMessage:r.createElement(T4,null)}),r.createElement(l.Mount,{when:u.isVisible},r.createElement(_4.Component,{onClose:u.hide})),r.createElement(l.Mount,{when:m.isVisible},r.createElement(L4.Component,{onClose:m.hide})),r.createElement(l.Mount,{when:d.isVisible},r.createElement(D4.Component,null)),r.createElement(Ny,{type:"meaningful",renderingCompleted:!0}))}}))),r.createElement(Ny,{type:"contentful",renderingCompleted:!0}))}function z4({templateData:e,index:t,numberOfTemplates:a,showDownloadUnavailableModal:n}){const{downloadTemplate:o}=H3(),i=p(),c="narrow"===Od(),s=(0,l.useSharedFacet)(dl),u=(0,l.useFacetMap)((e=>e.ownedWorldTemplateData),[],[e]),d=(0,l.useFacetMap)((e=>e.name),[],[u]),m=(0,l.useFacetMap)((e=>e.creator),[],[u]),f=(0,l.useFacetMap)((e=>e.thumbnailPath),[],[e]),g=(0,l.useFacetMap)((e=>e.isInstalled),[],[u]),E=(0,l.useFacetMap)((e=>e.isPremium),[],[u]),h=(0,l.useFacetMap)((e=>e.canBeRated),[],[e]),b=(0,l.useFacetMap)((e=>e.isOnline),[],[s]),v=(0,l.useFacetCallback)(((e,t,a)=>()=>{t?i.push(`/create-new-world/general/${e.localId}`):a?o(e.marketplaceId,e.localId):n()}),[o,i,n],[u,g,b]),y=(0,l.useFacetCallback)((e=>()=>{i.push(`/marketplace?packId=${e.localId}&focusRateSection`)}),[i],[u]);return r.createElement(r.Fragment,null,c?r.createElement(m4,{name:d,creator:m,thumbnailPath:f,narrationIndex:t,containerListLength:a,onAction:v,onAdditionalAction:y,isPremium:E,isInstalled:g,isRateable:h,isOwnedByMeTab:!0}):r.createElement(u4,{name:d,creator:m,thumbnailPath:f,narrationIndex:t,containerListLength:a,onAction:v,onAdditionalAction:y,isPremium:E,isInstalled:g,isRateable:h,isOwnedByMeTab:!0}))}function H4({showImportButton:e,searchTerm:t,ownedTemplatesList:a,selectedSortOption:n,selectedFilterOption:l,handleSortChange:o,handleFilterChange:i,importTemplate:c,onSearchTermChange:s}){const{t:u}=Fc("StartFromTemplateRoute.OwnedByMe"),d="narrow"===Od(),m=(0,r.useMemo)((()=>r.createElement(I4,{ownedTemplatesList:a,selectedFilterOption:l,handleFilterChange:i})),[a,l,i]),p=(0,r.useMemo)((()=>r.createElement(x4,{selectedSortOption:n,handleSortChange:o})),[n,o]),f=(0,r.useMemo)((()=>r.createElement(Ug,{onClick:c,imgSrc:F4,inputLegend:u(".importButton")},u(".importButton"))),[c,u]),g=(0,r.useMemo)((()=>r.createElement(P4,{onSearchTermChange:s,searchTerm:t})),[s,t]);return r.createElement(r.Fragment,null,!d&&r.createElement(r.Fragment,null,r.createElement(Nm,{size:2}),r.createElement(V3,{tab:s5.OwnedByMe})),r.createElement(Nm,{size:2}),r.createElement(A4,{Filter:m,ImportButton:f,SearchField:g,Sort:p,showImportButtonFacet:e}),r.createElement(Nm,{size:2}))}function j4({totalTemplatesCount:e,visibleTemplatesCount:t,scrollViewRef:a,delegateFocus:n,setTemplatesCountAllowedToBeShown:o}){const{t:i}=Fc("StartFromTemplateRoute.OwnedByMe"),c=i(".Footer.backToTop"),s=i(".Footer.loadMoreResults"),u=(0,r.useRef)(null),d=(0,l.useFacetMap)(((e,t)=>t<e),[],[e,t]),m=(0,l.useFacetMap)((e=>e>9),[],[t]),p=(0,l.useFacetMap)(((e,t)=>e&&t),[],[m,d]),f=(0,l.useFacetMap)((e=>e?i(".Footer.buttonEnumeration",["1","2"]):""),[i],[p]),g=(0,l.useFacetMap)((e=>e?i(".Footer.buttonEnumeration",["2","2"]):""),[i],[p]),E=(0,r.useCallback)((()=>{o((e=>e===l.NO_VALUE?e:e+9)),n.memory()}),[o,n]),h=(0,l.useFacetCallback)((e=>()=>{a.current&&(e&&(a.current.scrollTop=0),n.first())}),[n,a],[st()]);return r.createElement(Yp,{containerRef:u},r.createElement("div",{className:"bdcf0b781dcd0090f45e",ref:u},r.createElement(l.Mount,{when:m},r.createElement(Ug,{horizontal:!0,narrationSuffix:f,inputLegend:c,onClick:h},c)),r.createElement(l.Mount,{when:p},r.createElement(Nm,{size:2})),r.createElement(l.Mount,{when:d},r.createElement(Ug,{horizontal:!0,narrationSuffix:g,inputLegend:s,onClick:E},s))),r.createElement(Nm,{size:2}))}const V4=yp((()=>{const{t:e}=Fc("StartFromTemplateRoute.InitializationModal");return r.createElement($E,null,r.createElement($E.Header,null,e(".title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:e(".message")},e(".message"))))})),G4=yp((({hideCloseButton:e,onClose:t})=>{const a=(0,l.useSharedFacet)(hd),{t:n}=Fc("StartFromTemplateRoute.DownloadModal"),o=(0,l.useFacetMap)((e=>e.downloadingProgressPercent),[],[a]),i=(0,l.useFacetMap)((e=>`${e.downloadingProgressBytes} / ${e.downloadTotalBytes}`),[],[a]);return r.createElement($E,null,r.createElement($E.Header,{hideCloseButton:e,onClose:t},n(".title")),r.createElement($E.Content,null,r.createElement($E.InformativeProgress,{percentage:o,label:i})))})),$4=yp((()=>{const e=(0,l.useSharedFacet)(hd),{t}=Fc("StartFromTemplateRoute.InstallModal"),a=(0,l.useFacetMap)((e=>e.downloadingProgressPercent),[],[e]);return r.createElement($E,null,r.createElement($E.Header,null,t(".title")),r.createElement($E.Content,null,r.createElement($E.Progress,{percentage:a})))}));function K4(e,t){if(null!=e)switch(e){case gd.MalformedZip:return"MalformedZip";case gd.Duplicate:return"Duplicate";default:return"GenericError"}else switch(t){case Ed.DownloadFailed:return"DownloadFailed";case Ed.InsufficientStorage:return"InsufficientStorage";default:return"GenericError"}}const Y4=yp((()=>{const{t:e}=Fc("StartFromTemplateRoute.TemplateOperationsErrorModal"),t=p(),a=(0,l.useSharedFacet)(hd),n=(0,l.useFacetMap)((e=>e.importingTaskResult),[],[a]),o=(0,l.useFacetMap)((e=>e.downloadingTaskResult),[],[a]),i=(0,l.useFacetMap)(((t,a)=>e(`.title.${K4(t,a)}`)),[e],[n,o]),c=(0,l.useFacetMap)(((t,a)=>e(`.description.${K4(t,a)}`)),[e],[n,o]),s=(0,l.useFacetMap)(((t,a)=>e(`.button.${K4(t,a)}`)),[e],[n,o]),u=(0,l.useFacetCallback)((e=>()=>{e.resetDownloadTask(),e.resetImportTask()}),[],[a,o]),d=(0,l.useFacetCallback)((e=>()=>{u(),e===Ed.InsufficientStorage&&t.push("/settings/marketplace_debug")}),[t,u],[o]);return r.createElement($E,null,r.createElement($E.Header,{onClose:u},i),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:c,center:!0},c)),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:"template-operations-error-modal-button",inputLegend:s,variant:"secondary",onClick:d},s)))})),X4=()=>{const{t:e}=Sc("StartFromTemplateRoute"),t=(0,l.useSharedFacet)(hd),a=(0,l.useSharedFacet)(Ac),n=(0,l.useFacetMap)((e=>e.downloadingStatus),[],[t]),o=(0,l.useFacetMap)((e=>e===fd.Initialising),[],[n]),i=(0,l.useFacetMap)((e=>e===fd.Downloading),[],[n]),c=(0,l.useFacetMap)((e=>e===fd.Importing),[],[n]),s=(0,l.useFacetMap)((e=>!e.canDownloadBeCancelled),[],[t]),u=(0,l.useFacetMap)((e=>e.importingTaskResult),[],[t]),d=(0,l.useFacetMap)((e=>e.downloadingTaskResult),[],[t]),m=(0,l.useFacetMap)(((e,t)=>null!=e&&e!==gd.Cancelled||null!=t),[],[u,d]),p=(0,l.useFacetMap)((e=>e.downloadingStatus),[],[t]),f=(0,l.useFacetCallback)((e=>()=>{e.cancelDownload(),e.resetDownloadTask()}),[],[t]);return(0,l.useFacetEffect)(((t,a)=>{t===fd.Importing&&a.queueSnackbar(e(".notification.downloadComplete"))}),[e],[p,a]),r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:o},r.createElement(V4.Component,null)),r.createElement(l.Mount,{when:i},r.createElement(G4.Component,{hideCloseButton:s,onClose:f})),r.createElement(l.Mount,{when:c},r.createElement($4.Component,null)),r.createElement(l.Mount,{when:m},r.createElement(Y4.Component,null)))};function q4(){const{t:e}=Fc("StartFromTemplateRoute"),t=tv(nc),a="narrow"===Od(),n=(0,l.useSharedFacet)(Cc),o=(0,l.useSharedFacet)(md),i=(0,l.useFacetCallback)(((e,t)=>()=>{e.refreshOffers(),t.refreshOffers()}),[],[n,o]),c=(0,l.useFacetCallback)(((e,t)=>()=>{e.clearRefreshTaskState(),t.clearRefreshTaskState()}),[],[n,o]);return(0,r.useEffect)((()=>(i(),()=>{c()})),[i,c]),r.createElement(yx,{gamepadAlias:"start-from-template",title:e(t?".title.AddOn":".title"),screenAnalyticsId:"StartFromTemplate"},(()=>r.createElement(Cv,null,r.createElement(Cv.Row,{fullHeight:!0},r.createElement(Cv.Column,{wideSize:4,narrowSize:3},r.createElement(jf,{floating:!0},r.createElement(U3,null))),r.createElement(Cv.Column,{wideSize:8,narrowSize:5},r.createElement("div",{className:zr()("f67193a0b787698237d3",{a479a792bc97f7571873:a})},r.createElement(Ly,{route:s5.MarketplacePass,Component:g4,wideSize:12,narrowSize:8}),r.createElement(Ly,{route:s5.Featured,Component:b4,wideSize:12,narrowSize:8}),r.createElement(Ly,{route:s5.OwnedByMe,Component:U4,wideSize:12,narrowSize:8})))),r.createElement(X4,null))))}const Q4="b47f91ca04df0522b39f",Z4=yp((()=>{const e="edit-realm-download-world",{t}=Fc("EditRealmWorld.ErrorModals"),a=(0,l.useFacetCallback)((e=>()=>{e.clearRealmBackupsState()}),[],[(0,l.useSharedFacet)(dN)]);return r.createElement($E,{defaultFocusAlias:e},r.createElement($E.Header,{onClose:a},t(".download.title")),r.createElement($E.Content,null,r.createElement($E.Text,{narrationText:t(".download.message"),center:!0},t(".download.message"))),r.createElement($E.Buttons,null,r.createElement(Ug,{gamepadAlias:e,inputLegend:t(".select"),variant:"secondary",onClick:a},t(".close"))))}));function J4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function e8(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J4(Object(a),!0).forEach((function(t){t8(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J4(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function t8(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const a8=({setAfterSaveState:e})=>{const{t}=Fc("CreateNewWorld.general"),a=(0,l.useSharedFacet)(uN),n=(0,l.useFacetMap)((e=>e.realmWorldData),[],[a]),o=xN(),i=(0,l.useFacetWrap)(!1),c=(0,r.useCallback)((()=>{}),[]),s=(0,r.useCallback)((()=>{}),[]),u=(0,l.useFacetMap)((e=>e.advanced.generatorType),[],[n]),d=(0,l.useFacetMap)((e=>e.general),[],[n]),m=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[n]),p=(0,l.useFacetMap)((e=>e.isHardcore),[],[d]),f=(0,l.useFacetMap)((e=>e.isUsingTemplate),[],[n]),g=(0,r.useContext)(tI)!==eI.CREATE,E=(0,l.useSharedFacet)(Wu),h=(0,l.useFacetMap)((e=>g&&e===Gu.Legacy),[g],[u]),b=(0,l.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive)),[],[E]),v=(0,l.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(Lu.XboxLive_Parental)),[],[E]),y=(0,l.useFacetCallback)(((e,t,a)=>()=>{Pk(t.platform)?a.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(Uu.ParentPermissionHelpPage)}),[],[(0,l.useSharedFacet)(zu),(0,l.useSharedFacet)(dl),E]),F=(0,l.useFacetMap)((e=>!e),[],[i]);return r.createElement(r8,{isEditorWorld:i,isHardcoreMode:p,onUnlockTemplateSettings:c},r.createElement(l.Mount,{when:b},r.createElement("div",{className:Q4},r.createElement(Fg,{compact:!0},r.createElement(AP,{role:"noticeTint",gamepadIndex:7},r.createElement(AP.Text,null,t(".multiplayerPermissionBanner.text")),r.createElement(AP.Link,{gamepadIndex:1,onClick:y},t(".multiplayerPermissionBanner.link")))))),r.createElement(l.Mount,{when:v},r.createElement("div",{className:Q4},r.createElement(Fg,{compact:!0},r.createElement(AP,{role:"noticeTint",gamepadIndex:7},r.createElement(AP.Text,null,t(".multiplayerPermissionBanner.textParental")),r.createElement(AP.Link,{gamepadIndex:1,onClick:y},t(".multiplayerPermissionBanner.link")))))),r.createElement(n8,{isLockedTemplate:m,achievementsDisabledMessages:o,isEditorWorld:i,isHardcoreMode:p,generalData:d,isUsingTemplate:f}),r.createElement(l.Mount,{when:F},r.createElement(l.DeferredMount,null,r.createElement(l8,{isLockedTemplate:m,generalData:d}))),r.createElement(l.Mount,{when:h},r.createElement(l.DeferredMount,null,r.createElement(Fg,null,r.createElement(Cg,null,t(".makeInfiniteHeader")),r.createElement(Nm,{size:1}),r.createElement("div",{style:{flexDirection:"row"}},r.createElement(Ug,{variant:"secondary",onClick:s,inputLegend:t(".makeInfiniteButton"),autofocus:!0,horizontal:!0},t(".makeInfiniteButton"))),r.createElement(Nm,{size:1}),r.createElement(Mg,null,t(".makeInfiniteDescription"))))),g&&r.createElement(l.DeferredMount,null,r.createElement(c8,{setAfterSaveState:e})))},n8=({isLockedTemplate:e,achievementsDisabledMessages:t,isEditorWorld:a,isHardcoreMode:n,generalData:o,isUsingTemplate:i})=>{const{t:c}=Fc("CreateNewWorld.general"),s=1==(0,l.useFacetUnwrap)(a)?".editor":"",u=(0,l.useFacetMap)((e=>e.worldName),[],[o]),d=(0,l.useFacetCallback)((e=>t=>e.worldName=t),[],[o]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:a},r.createElement(l.DeferredMount,null,r.createElement(nO,{title:c(".projectHeader")}))),r.createElement(l.DeferredMount,null,r.createElement(jy,{label:c(`${s}.worldNameTitle`),gamepadIndex:1,placeholder:c(`${s}.worldNamePlaceholder`),maxLength:30,value:u,onChange:d,filterProfanity:!0,disabled:e})),r.createElement(l.Mount,{when:a},r.createElement(l.DeferredMount,null,r.createElement(nO,{title:c(".exportSettingsHeader"),description:c(".exportSettingsDescription")}))),r.createElement(l.DeferredMountWithCallback,null,r.createElement(i8,{isLockedTemplate:e,generalData:o,isUsingTemplate:i,achievementsDisabledMessages:t,isHardcoreMode:n})),r.createElement(l.DeferredMountWithCallback,null,r.createElement(o8,{isLockedTemplate:e,generalData:o,isHardcoreMode:n})))},r8=({isEditorWorld:e,isHardcoreMode:t,onUnlockTemplateSettings:a,children:n})=>{const{t:o}=Fc("CreateNewWorldSideMenu"),i=(0,r.useContext)(tI)!==eI.CREATE,c=!0===(0,l.useFacetUnwrap)(t)&&i?gN.GENERAL_TAB:void 0;return r.createElement(l.DeferredMountProvider,null,r.createElement(AN,{narrationText:o(".generalTabLabel"),onUnlockTemplateSettings:a,isEditorWorld:e,hardcoreModeMessageTab:c},n))};function l8({generalData:e,isLockedTemplate:t}){const{t:a}=Fc("CreateNewWorld.general"),n=cn(),o=(0,r.useContext)(tI)===eI.CREATE,i=(0,l.useSharedFacet)(Bu),c=(0,l.useFacetMap)(((e,t,a)=>a||t||!o||e.gameMode!==Fu.SURVIVAL&&e.gameMode!==Fu.ADVENTURE),[o],[e,t,i]);return r.createElement(My,{title:a(".hardcoreModeTitle"),soundEffectPressed:"ui.hardcore_toggle_press",disabled:c,description:a(".hardcoreModeDescription"),value:(0,l.useFacetMap)((e=>e.isHardcore),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.isHardcore=t,n(t?"ui.hardcore_enable":"ui.hardcore_disable")}),[n],[e]),gamepad:{index:4},imgSrc:YN,"data-testid":"hardcore-mode-toggle"})}function o8({generalData:e,isLockedTemplate:t,isHardcoreMode:a}){const{t:n}=Fc("CreateNewWorld.general"),o=(0,l.useNotifyMountComplete)(),i=(0,r.useContext)(tI)!==eI.CREATE,c=(0,l.useSharedFacet)(pu);return r.createElement(mA,{onMountComplete:o,title:n(".difficultyTitle"),disabled:(0,l.useFacetMap)(((e,t)=>e||t),[],[a,t]),options:[{label:n(".difficultyPeacefulLabel"),description:n(".difficultyPeacefulDescription"),value:pc.PEACEFUL},{label:n(".difficultyEasyLabel"),description:n(".difficultyEasyDescription"),value:pc.EASY},{label:n(".difficultyNormalLabel"),description:n(".difficultyNormalDescription"),value:pc.NORMAL},{label:n(".difficultyHardLabel"),description:n(".difficultyHardDescription"),value:pc.HARD}],value:(0,l.useFacetMap)(((e,t)=>t?pc.HARD:e.difficulty),[],[e,a]),onChange:(0,l.useFacetCallback)(((e,t)=>a=>{i&&t.trackOptionChanged($N.DifficultyChanged,e.difficulty,a),e.difficulty=a}),[i],[e,c])})}function i8({generalData:e,isLockedTemplate:t,isUsingTemplate:a,achievementsDisabledMessages:n,isHardcoreMode:o}){const{t:i}=Fc("CreateNewWorld.general"),{t:c}=Fc("CreateNewWorld.all"),s=(0,l.useSharedFacet)(Bu),u=(0,r.useContext)(tI)!==eI.CREATE,d=(0,l.useSharedFacet)(pu),m=(0,l.useFacetMap)(((e,t,a)=>e||t||a),[],[t,s,o]),p=(0,l.useFacetMap)(((e,t)=>{const a=[e8({label:i(".gameModeSurvivalLabel"),description:i(".gameModeSurvivalDescription"),value:Fu.SURVIVAL},1===e.length?{narrationSuffix:c(".narrationSuffixEnablesAchievements")}:{}),{label:i(".gameModeCreativeLabel"),description:i(".gameModeCreativeDescription"),value:Fu.CREATIVE,narrationSuffix:c(".narrationSuffixDisablesAchievements")}];return(true)&&a.push(e8({label:i(".gameModeAdventureLabel"),description:i(t?".gameModeAdventureTemplateDescription":".gameModeAdventureDescription"),value:Fu.ADVENTURE},1===e.length?{narrationSuffix:c(".narrationSuffixEnablesAchievements")}:{}),{label:i(".gameModeSpectatorLabel"),description:i(".gameModeSpectatorDescription"),value:Fu.SPECTATOR,narrationSuffix:c(".narrationSuffixEnablesAchievements")}),a}),[i,c,u],[n,a]),f=(0,l.useNotifyMountComplete)();return r.createElement(mA,{title:i(".gameModeTitle"),disabled:m,options:p,onMountComplete:f,value:(0,l.useFacetMap)((e=>e.gameMode),[],[e]),onChange:(0,l.useFacetCallback)(((e,t)=>a=>{const n=e.gameMode;e.gameMode=a,u&&t.trackOptionChanged($N.GameModeChanged,n,a)}),[u],[e,d])})}function c8({setAfterSaveState:e}){const{t}=Fc("CreateNewWorld.general"),{t:a}=Fc("EditRealmWorld.general"),n=RN(),o=(0,l.useSharedFacet)(uN),i=(0,l.useSharedFacet)(iN),c=(0,l.useSharedFacet)(pN),s=(0,l.useSharedFacet)(dN),u=(0,l.useSharedFacet)(Ps),d=(0,l.useSharedFacet)(ks),m=(0,l.useFacetMap)((e=>e.realmWorldSummary),[],[(0,l.useSharedFacet)(pN)]),p=GN.useModal(),f=(0,l.useFacetCallback)(((t,a)=>()=>{t.saveRealmWorld(a),e(oN.DownloadWorld)}),[e],[i,n]),g=(0,l.useFacetMap)((e=>e.realmBackupsState===mN.DownloadError),[],[c]),E=(0,l.useFacetCallback)(((e,t,a)=>()=>{e.downloadRealmWorld(a,t.realmName,t.activeSlotIndex)}),[],[s,u,n]),h=(0,l.useFacetCallback)((e=>()=>{e.realmWorldHasBeenModified?p.show():E()}),[p,E],[o]),b=(0,l.useFacetCallback)(((e,t)=>()=>{E(),e.fetchRealmsWorld(t)}),[E],[d,n]),v=(0,l.useFacetMap)((e=>{var t,n;const r=null!==(t=null==e?void 0:e.fileSize)&&void 0!==t?t:"-",l=null!==(n=null==e?void 0:e.lastSaved)&&void 0!==n?n:"-";return a(".fileDetails",[r,l])}),[a],[m]),y=(0,l.useFacetMap)((e=>[t(".fileManagementTitle"),t(".fileManagement.narrationComponentTypeSectionHeader"),e].join(" . ")),[t],[v]);return r.createElement(Zf,{text:y},r.createElement(lO,{options:{index:5}},r.createElement(Fg,{compact:!0},r.createElement(Nm,{size:3}),r.createElement(Cg,null,t(".fileManagementTitle")),r.createElement(Nm,{size:1}),r.createElement("div",{style:{flexDirection:"row"}},r.createElement(Ug,{variant:"secondary",onClick:()=>{},inputLegend:a(".fileManagementResetWorldLabel"),autofocus:!0,horizontal:!0},a(".fileManagementResetWorldLabel")),r.createElement(rO.ButtonSpacing,null),r.createElement(Ug,{variant:"secondary",onClick:()=>{},inputLegend:a(".fileManagementReplaceWorldLabel"),autofocus:!0,horizontal:!0},a(".fileManagementReplaceWorldLabel"))),r.createElement(Nm,{size:1}),r.createElement("div",{style:{flexDirection:"row"}},r.createElement(Ug,{variant:"secondary",onClick:h,inputLegend:a(".fileManagementDownloadWorldLabel"),autofocus:!0,horizontal:!0},a(".fileManagementDownloadWorldLabel"))),r.createElement(Nm,{size:1}),r.createElement(Mg,null,v),r.createElement(Nm,{size:3})),r.createElement(l.Mount,{when:p.isVisible},r.createElement(GN.Component,{saveChanges:f,closeModal:p.hide,discardChanges:b})),r.createElement(l.Mount,{when:g},r.createElement(Z4.Component,null))))}const s8={ClassicFlat:C_,TunnelersDream:T_,WaterWorld:P_,Overworld:w_,SnowyKingdom:k_,BottomlessPit:C_,Desert:M_,RedstoneReady:M_},u8=()=>{const{t:e}=Sc("CreateNewWorld.advanced"),t=(0,r.useContext)(tI)!==eI.CREATE,a=(0,l.useSharedFacet)(uN),n=(0,l.useFacetMap)((e=>e.realmWorldData),[],[a]),o=xN(),i=(0,l.useFacetWrap)(!1),c=(0,r.useCallback)((()=>{}),[]),s=(0,l.useFacetWrap)(!1),u=(0,r.useCallback)((()=>{}),[]),d=(0,r.useCallback)((()=>{}),[]),m=(0,l.useFacetMap)((e=>e.advanced),[],[n]),p=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[n]),f=(0,l.useFacetMap)((e=>e.isUsingTemplate),[],[n]),g=(0,l.useFacetMap)((e=>e.achievementsDisabled),[],[n]),E=(0,l.useFacetMap)((e=>e.general.isHardcore),[],[n]),h=(0,l.useFacetMap)((e=>e.achievementsPermanentlyDisabled),[],[n]),b=tv(PR),v=tv(tc),y=(0,l.useSharedFacet)(Bu),F={value:(0,l.useFacetMap)((e=>e.generatorType),[],[m]),onChange:(0,l.useFacetCallback)((e=>t=>{e.generatorType=t}),[],[m])},S=(0,l.useFacetMap)((e=>e&&v),[v],[y]);return r.createElement(xl,{data:S},(a=>r.createElement(r.Fragment,null,a?r.createElement(rI,{context:aI.ADVANCED_TAB}):r.createElement(p8,{isLockedTemplate:p,achievementsDisabled:g,achievementsPermanentlyDisabled:h,onUnlockTemplateSettings:c,isEditorWorld:i,isHardcoreMode:E},r.createElement(l.Mount,{when:i},r.createElement(l.DeferredMount,null,r.createElement(nO,{title:e(".projectHeader"),description:e(".projectDescription")}))),!t?r.createElement(l.Mount,{when:true},r.createElement(l.DeferredMount,null,r.createElement(jL,{label:e(".generatorTypeLabel"),options:[{value:Gu.Overworld,label:e(".vanillaWorldGeneratorLabel"),description:e(".vanillaWorldGeneratorDescription")},{value:Gu.Flat,label:e(".flatWorldGeneratorLabel"),description:e(".flatWorldGeneratorDescription")},{value:Gu.Void,label:e(".voidWorldGeneratorLabel"),description:e(".voidWorldGeneratorDescription")},{value:Gu.Legacy,label:e(".legacyWorldGeneratorLabel"),description:e(".legacyWorldGeneratorDescription")}],value:F.value,onChange:F.onChange}))):null,r.createElement(d8,{advancedData:m,isEditorWorld:i,onSeedValueChange:u,isSeedChangeLocked:s,showSeedTemplates:!0}),r.createElement(m8,{advancedData:m,isUsingTemplate:f,isLockedTemplate:p,achievementsDisabledMessages:o,isEditorWorld:i,isHardcoreMode:E,onWorldPreviewPathChange:d})))))},d8=({advancedData:e,isEditorWorld:t,onSeedValueChange:a,isSeedChangeLocked:n,showSeedTemplates:o})=>{const{t:i}=Sc("CreateNewWorld.advanced"),{t:c}=Sc("CreateNewWorld.all"),s=(0,r.useContext)(tI)!==eI.CREATE,u=tv(PR),d=Jr(),m=(0,l.useSharedFacet)(Ii),p=(0,l.useSharedFacet)(Ac),f=(0,l.useFacetMap)((e=>e.worldSeed),[],[e]),g=(0,l.useFacetMap)((e=>e.isClipboardCopySupported),[],[m]),E=(0,l.useFacetCallback)(((e,t,a)=>()=>{t.copyToClipboard(e),a.queueSnackbar(i(".copyToClipboard"))}),[i],[f,m,p]),h=s?E:()=>d.push("/create-new-world/seed-templates"),b=s?"":i(".worldSeedPlaceholder"),v=i(s?".worldSeedCopyButton":".worldSeedButton"),y=(0,l.useFacetMap)(((e,t,a)=>t||a&&u&&!s&&e.generatorType!=Gu.Overworld),[u,s],[e,n,t]);return o?r.createElement(l.DeferredMount,null,r.createElement(xl,{data:g},(e=>s&&!e?r.createElement(jy,{disabled:s,label:i(".worldSeedLabel"),description:i(".worldSeedDescription"),maxLength:32,value:f,onChange:a,placeholder:i(".worldSeedPlaceholder"),disabledNarrationSuffix:c(".narrationSuffixTemplateLocked"),"data-testid":"world-seed-text-field"}):r.createElement(jy.WithButton,{buttonInputLegend:v,buttonText:v,buttonOnClick:h,textDisabled:s,disabled:y,label:i(".worldSeedLabel"),description:i(".worldSeedDescription"),maxLength:32,value:f,onChange:a,placeholder:b,buttonNarrationHint:i(".narrationTemplatesButtonNarrationHint"),disabledNarrationSuffix:c(".narrationSuffixTemplateLocked"),"data-testid":"world-seed-with-button"})))):r.createElement(l.DeferredMount,null,r.createElement(jy,{disabled:y,label:i(".worldSeedLabel"),description:i(".worldSeedDescription"),maxLength:32,value:f,onChange:a,placeholder:i(".worldSeedPlaceholder"),disabledNarrationSuffix:c(".narrationSuffixTemplateLocked")}))},m8=({advancedData:e,isUsingTemplate:t,isLockedTemplate:a,achievementsDisabledMessages:n,isEditorWorld:o,isHardcoreMode:i,onWorldPreviewPathChange:c=(()=>{})})=>{const{t:s}=Sc("CreateNewWorld.advanced"),u=(0,r.useContext)(tI)!==eI.CREATE,d=(0,l.useSharedFacet)(Bu),m=tv(bl),p=tv(PR),f=(0,l.useFacetMap)((e=>!p||p&&!e),[p],[o]),g=(0,l.useFacetMap)(((e,t)=>e||t),[],[t,d]),E=(0,l.useFacetMap)(((e,t)=>e||t||u),[u],[t,d]),h=(0,l.useFacetMap)((({simulationDistanceOptions:e})=>e.length<=1),[],[(0,l.useSharedFacet)(uu)]),b=(0,l.useFacetMap)(((e,t)=>e||t),[],[i,E]),v=(0,l.useFacetMap)(((e,t)=>e||u||t),[u],[t,i]),y=(0,l.useFacetWrap)(!0),F=[{title:s(".startWithMapTitle"),description:s(".startWithMapDescription"),value:(0,l.useFacetMap)(((e,t)=>!t&&e.startWithMap),[],[e,i]),onChange:(0,l.useFacetCallback)((e=>t=>{e.startWithMap=t}),[],[e]),disabled:v,visible:y},{title:s(".bonusChestTitle"),description:s(".bonusChestDescription"),value:(0,l.useFacetMap)(((e,t)=>!t&&e.bonusChest),[],[e,i]),onChange:(0,l.useFacetCallback)((e=>t=>{e.bonusChest=t}),[],[e]),disabled:b,visible:y}],S={title:s(".recipesUnlockTitle"),description:s(".recipesUnlockDescription"),value:(0,l.useFacetMap)((e=>e.recipesUnlock),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.recipesUnlock=t}),[],[e]),disabled:d,onNarrationText:s(".recipesUnlockDescription"),visible:y},C=[{title:s(".showCoordinatesTitle"),description:s(".showCoordinatesDescription"),value:(0,l.useFacetMap)((e=>e.showCoordinates),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.showCoordinates=t}),[],[e]),disabled:d,onNarrationText:s(".showCoordinatesDescription")},{title:s(".showDaysPlayedTitle"),description:s(".showDaysPlayedDescription"),value:(0,l.useFacetMap)((e=>e.showDaysPlayed),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.showDaysPlayed=t}),[],[e]),disabled:d,onNarrationText:s(".showCoordinatesDescription")},...m?[S]:[],{title:s(".firesSpreadsTitle"),description:s(".firesSpreadsDescription"),value:(0,l.useFacetMap)((e=>e.firesSpreads),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.firesSpreads=t}),[],[e]),disabled:d,onNarrationText:s(".firesSpreadsDescription")},{title:s(".tntExplodesTitle"),description:s(".tntExplodesDescription"),value:(0,l.useFacetMap)((e=>e.tntExplodes),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.tntExplodes=t}),[],[e]),disabled:d,onNarrationText:s(".tntExplodesDescription")},{title:s(".mobLootTitle"),description:s(".mobLootDescription"),value:(0,l.useFacetMap)((e=>e.mobLoot),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.mobLoot=t}),[],[e]),disabled:d,onNarrationText:s(".mobLootDescription")},{title:s(".naturalRegenerationTitle"),description:s(".naturalRegenerationDescription"),value:(0,l.useFacetMap)((e=>e.naturalRegeneration),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.naturalRegeneration=t}),[],[e]),disabled:d,onNarrationText:s(".naturalRegenerationDescription")},{title:s(".tileDropsTitle"),description:s(".tileDropsDescription"),value:(0,l.useFacetMap)((e=>e.tileDrops),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.tileDrops=t}),[],[e]),disabled:d,onNarrationText:s(".tileDropsDescription")}],M=(0,l.useFacetMap)(((e,t)=>e||t),[],[h,a]);return r.createElement(r.Fragment,null,r.createElement(l.DeferredMount,null,r.createElement(l.Mount,{when:f},r.createElement(S_,{value:(0,l.useFacetMap)((e=>e.useFlatWorld),[],[e]),preset:(0,l.useFacetMap)((e=>e.flatWorldPreset),[],[e]),onValueChanged:(0,l.useFacetCallback)((e=>t=>{e.useFlatWorld=t,t&&e.flatWorldPreset?c(s8[e.flatWorldPreset]):c("")}),[c],[e]),onPresetChanged:(0,l.useFacetCallback)((e=>t=>{e.flatWorldPreset=t,e.useFlatWorld?c(s8[t]):c("")}),[c],[e]),disabled:E,hideAccordion:(0,l.useFacetMap)((e=>null==e.flatWorldPreset),[],[e]),achievementsDisabledMessages:n}))),u?r.createElement(r.Fragment,null):F.map((e=>{var t;return r.createElement(l.DeferredMount,{key:e.title},r.createElement(l.Mount,{when:e.visible},r.createElement(My,{title:e.title,disabled:null!==(t=e.disabled)&&void 0!==t?t:a,description:e.description,onChange:e.onChange,value:e.value})))})),r.createElement(l.Mount,{when:o},r.createElement(l.DeferredMount,null,r.createElement(nO,{title:s(".exportSettingsHeader"),description:s(".exportSettingsDescription")}))),C.map((e=>{var t;return r.createElement(l.DeferredMount,{key:e.title},r.createElement(My,{title:e.title,disabled:null!==(t=e.disabled)&&void 0!==t?t:a,description:e.description,onChange:e.onChange,value:e.value}))})),r.createElement(l.DeferredMount,null,r.createElement(E8,{advancedData:e,isTrialAccount:d})),r.createElement(l.DeferredMount,null,r.createElement(g8,{label:s(".respawnRadiusLabel"),disabled:g,description:s(".respawnRadiusDescription"),placeholder:s(".respawnRadiusPlaceholder"),isLockedTemplate:a,isTrialAccount:d,advancedData:e})),r.createElement(l.DeferredMountWithCallback,null,r.createElement(f8,{title:s(".simulationDistanceTitle"),disabled:M,advancedData:e})),u?F.map((e=>{var t;return r.createElement(l.DeferredMount,{key:e.title},r.createElement(My,{title:e.title,disabled:null!==(t=e.disabled)&&void 0!==t?t:a,description:e.description,onChange:e.onChange,value:e.value}))})):r.createElement(r.Fragment,null))},p8=({onUnlockTemplateSettings:e,isEditorWorld:t,isHardcoreMode:a,children:n})=>{const{t:o}=Sc("CreateNewWorldSideMenu"),i=(0,r.useContext)(tI)!==eI.CREATE,c=!0!==(0,l.useFacetUnwrap)(a)||i?void 0:gN.ADVANCED_TAB;return r.createElement(l.DeferredMountProvider,null,r.createElement(AN,{narrationText:o(".advancedTabLabel"),onUnlockTemplateSettings:e,isEditorWorld:t,hardcoreModeMessageTab:c},n))};function f8({title:e,disabled:t,advancedData:a}){const{t:n}=Sc("CreateNewWorld.advanced"),o=(0,r.useCallback)(((e,t)=>({label:n(".simulationDistanceOption",[`${e}`]),value:e,description:n(t,[""+16*e,`${e}`])})),[n]),i=(0,l.useFacetMap)((({simulationDistanceOptions:e})=>{const t=e.length>1,a=t?".simulationDistanceDescription":".simulationDistanceDescriptionOnlyOne";return(t?e:[4,6,8]).map((e=>o(e,a)))}),[o],[(0,l.useSharedFacet)(uu)]),c=(0,l.useFacetCallback)((e=>t=>{e.simulationDistance=t}),[],[a]);return r.createElement(mA,{onMountComplete:(0,l.useNotifyMountComplete)(),title:e,options:i,value:(0,l.useFacetMap)((e=>e.simulationDistance),[],[a]),onChange:c,disabled:t,wrapToggleText:!0})}function g8({label:e,description:t,placeholder:a,disabled:n,isLockedTemplate:o,isTrialAccount:i,advancedData:c}){const s=(0,l.useFacetMap)((e=>e.immediateRespawn),[],[c]),u=(0,l.useFacetMap)((e=>e.respawnBlocksExplode),[],[c]),d=(0,l.useFacetMap)((e=>e.respawnRadius.toString()),[],[c]),{t:m}=Sc("CreateNewWorld.all"),{t:p}=Sc("CreateNewWorld.advanced.narration"),{t:f}=Sc("CreateNewWorld.advanced"),{narrateText:g}=Hf({interruptible:!1}),E=(0,l.useFacetCallback)((e=>t=>{e.immediateRespawn=t}),[],[c]),h=(0,l.useFacetCallback)((e=>t=>{e.respawnBlocksExplode=t}),[],[c]),b=(0,l.useFacetCallback)((e=>t=>{e.respawnRadius=t}),[],[c]),v=(0,r.useCallback)(((e,t)=>{const a=e.match(/^[0-9]*$/g),n=parseInt(e)<=128;return 0!==e.length&&a?n?qg.ValidationResult.VALID:(g(p(".respawnRadiusNotWithinRange")),t(128..toString()),qg.ValidationResult.INVALID):(g(p(".respawnRadiusInvalidValue")),t(10..toString()),qg.ValidationResult.INVALID)}),[g,p]);return r.createElement(r.Fragment,null,r.createElement(My,{title:f(".immediateRespawnTitle"),disabled:null!=n?n:o,description:f(".immediateRespawnDescription"),onChange:E,value:s,onNarrationText:f(".immediateRespawnDescription")}),r.createElement(My,{title:f(".respawnBlocksExplodeTitle"),disabled:i,description:f(".respawnBlocksExplodeDescription"),onChange:h,value:u,onNarrationText:f(".respawnBlocksExplodeDescription")}),r.createElement(jy,{label:e,description:t,maxLength:8,value:d,disabled:n,onChange:b,onBlur:v,placeholder:a,disabledNarrationSuffix:m(".narrationSuffixTemplateLocked"),isNumber:!0}))}function E8({advancedData:e,isTrialAccount:t}){const{t:a}=Sc("CreateNewWorld.advanced"),{t:n}=Sc("CreateNewWorld.advanced.sleepSlider"),o=(0,l.useFacetMap)((e=>e.sleepSkipNight),[],[e]),i=(0,l.useFacetCallback)((e=>t=>{e.sleepSkipNight=t}),[],[e]),c=(0,l.useFacetMap)((e=>!Boolean(e.sleepSkipNight)),[],[e]),s=(0,l.useFacetMap)((e=>e.sleepSkipNightPercent<100?e.sleepSkipNightPercent:100),[],[e]),u=(0,l.useFacetCallback)((e=>t=>{t<=100&&(e.sleepSkipNightPercent=t)}),[],[e]),d=(0,l.useFacetMap)((e=>e.sleepSkipNightPercent>100?n(".disabled"):100===e.sleepSkipNightPercent?n(".all",[`(${e.sleepSkipNightPercent}%)`]):50===e.sleepSkipNightPercent?n(".half",[`(${e.sleepSkipNightPercent}%)`]):e.sleepSkipNightPercent>50?n(".most",[`(${e.sleepSkipNightPercent}%)`]):0===e.sleepSkipNightPercent?n(".one"):e.sleepSkipNightPercent>0?n(".some",[`(${e.sleepSkipNightPercent}%)`]):""),[n],[e]);return r.createElement(r.Fragment,null,r.createElement(My,{title:a(".sleepToSkipNightTitle"),disabled:t,description:a(".sleepToSkipNightDescription"),onChange:i,value:o,onNarrationText:a(".sleepToSkipNightDescription")}),r.createElement(a_,{title:a(".sleepToSkipNightPercentTitle"),disabled:c,description:a(".sleepToSkipNightPercentDescription"),onChange:u,value:s,valueText:d}))}const h8=a.p+"assets/world-preview-default-d0210bba13d939ca9e72.jpg";function b8({setAfterSaveState:e}){const t=(0,l.useSharedFacet)(uN),a=(0,l.useSharedFacet)(od),n=(0,l.useFacetMap)((e=>e.realmWorldData),[],[t]),o=(0,l.useFacetMap)((e=>e.worldPacksData),[],[a]),i=(0,l.useFacetWrap)(!1),c=(0,r.useCallback)((()=>{}),[]),s=(0,r.useCallback)((()=>{}),[]),u=(0,r.useCallback)((()=>{}),[]),d=(0,r.useCallback)((()=>{}),[]),m=(0,r.useCallback)((()=>{}),[]);return r.createElement(r.Fragment,null,r.createElement(Ry,{component:(0,r.useCallback)((()=>r.createElement(a8,{setAfterSaveState:e})),[e]),tab:"general"}),r.createElement(Ry,{component:(0,r.useCallback)((()=>r.createElement(u8,null)),[]),tab:"advanced"}),r.createElement(Ry,{tab:"multiplayer",component:(0,r.useCallback)((()=>r.createElement(tD,{worldData:n,worldPacks:o,isEditorWorld:i,onDeactivatePack:s,onUnlockTemplateSettings:c})),[n,o,i,s,c])}),r.createElement(Ry,{tab:"cheats",component:(0,r.useCallback)((()=>r.createElement(gR,{worldData:n,isEditorWorld:i,onUnlockTemplateSettings:c})),[n,i,c])}),r.createElement(Ry,{tab:"resource-packs",component:(0,r.useCallback)((()=>r.createElement(oW,{worldPacks:o,isEditorWorld:i,worldData:n,onActivatePack:u,onDeactivatePack:s,onChangePackPriority:d,onClickPackSettings:m,onUnlockTemplateSettings:c})),[o,i,n,u,s,d,m,c])}),r.createElement(Ry,{tab:"behavior-packs",component:(0,r.useCallback)((()=>r.createElement(vW,{worldPacks:o,worldData:n,isEditorWorld:i,onActivatePack:u,onDeactivatePack:s,onChangePackPriority:d,onClickPackSettings:m,onUnlockTemplateSettings:c})),[o,n,i,u,s,d,m,c])}),r.createElement(Ry,{tab:"experimental",component:(0,r.useCallback)((()=>r.createElement(wR,{worldData:n,isEditorWorld:i,onUnlockTemplateSettings:c})),[n,i,c])}))}const v8=({playButtonCallback:e,playButtonAlias:t,setAfterSaveState:a})=>{const{t:n}=Fc("EditRealmWorld"),o=(0,l.useSharedFacet)(uN),i=(0,l.useSharedFacet)(od),c=(0,l.useFacetWrap)(!1),s=(0,l.useFacetMap)((e=>e.realmWorldData),[],[o]),u=(0,l.useFacetMap)((e=>e.realmWorldSummary),[],[(0,l.useSharedFacet)(pN)]),d=(0,l.useFacetMap)((e=>null!=e.worldIconPath&&e.worldIconPath.length>0?e.worldIconPath:h8),[],[u]),m=(0,l.useFacetMap)((e=>e.general),[],[s]),p=(0,l.useFacetMap)((e=>e.betaFeatures),[],[s]),f=(0,l.useFacetMap)((e=>e.isHardcore),[],[m]),g=(0,l.useFacetMap)((e=>e.playerHasDied),[],[m]),E=(0,l.useFacetMap)((e=>e.worldPacksData),[],[i]);return r.createElement(r.Fragment,null,r.createElement(Cv,{noGutters:!0},r.createElement(Cv.Row,null,r.createElement(Cv.Column,{wideSize:4,narrowSize:3},r.createElement(QA,{showSpinner:c,worldPreviewImage:d,worldPacks:E,isHardcoreMode:f,playerHasDied:g,sideMenuButtons:r.createElement(Sx.Item,null,r.createElement(pr,{collection:bT},r.createElement(Ug,{gamepadAlias:t,"data-testid":"play-realm-world",variant:"hero",onClick:e,inputLegend:n(".play")},n(".play"))))})),r.createElement(Cv.Column,{wideSize:8,narrowSize:5},r.createElement(b8,{setAfterSaveState:a})))),r.createElement(TR,{experimentsData:p}))};v8.RealmTabs=b8;const y8="play-edit-realm-world",F8=()=>{const{t:e}=Fc("EditRealmWorld"),{t}=Fc("EditWorld"),a=".notificationToasts.saved",n=p(),o=f(),i=RN(),c=FO({worldId:i,screen:"EditRealmWorld",button:"PlayRealm",telemetryLocation:Pc.SettingsScreen}),[s,u]=(0,l.useFacetState)(oN.None),d=(0,l.useSharedFacet)(iN),m=(0,l.useSharedFacet)(uN),g=(0,l.useSharedFacet)(dN),E=(0,l.useSharedFacet)(ks),h=(0,l.useSharedFacet)(Ps),b=(0,l.useSharedFacet)(Ac),v=(0,l.useFacetMap)((e=>e.realmWorldData),[],[m]),y=(0,l.useFacetMap)((e=>e.general.worldName),[],[v]),F=(0,l.useFacetMap)((e=>e.realmWorldEditorState),[],[m]),S=(0,l.useFacetMap)((e=>e.realmWorldEditorStateStatus),[],[m]),C=(0,l.useFacetCallback)((e=>()=>{e.clearRealmWorldEditorState()}),[],[d]),M=GN.useModal(),w=GN.useModal(),k=(0,l.useFacetCallback)(((e,t)=>()=>{e.saveRealmWorld(t),u(oN.ExitToMenu)}),[u],[d,i]),T=(0,l.useFacetCallback)(((e,t)=>()=>{e.saveRealmWorld(t),u(oN.ExitToJoinGame)}),[u],[d,i]),P=(0,l.useFacetMap)(((e,t)=>e===cN.Posting&&t===sN.InProgress),[],[F,S]),I=(0,l.useFacetMap)(((e,t)=>e===cN.Posting&&t===sN.GenericError),[],[F,S]),x=(0,l.useFacetMap)(((e,t)=>e===cN.Fetching&&t===sN.InProgress),[],[F,S]),A=(0,l.useFacetMap)(((e,t,a)=>e===cN.Fetching&&t===sN.GenericError&&a),[],[F,S,o]),O=(0,r.useCallback)((()=>{n.goBack(),C()}),[n,C]),N=(0,l.useFacetCallback)((e=>()=>{e.realmWorldHasBeenModified?M.show():n.goBack()}),[n,M],[m]),R=(0,l.useFacetCallback)((e=>()=>{e.realmWorldHasBeenModified?w.show():c()}),[c,w],[m]),L=(0,l.useFacetCallback)(((e,t,a)=>()=>{e.downloadRealmWorld(a,t.realmName,t.activeSlotIndex)}),[],[g,h,i]),_=(0,l.useFacetCallback)(((e,r,l)=>()=>{r.queueSnackbar(t(a,[`"${e}"`])),l===oN.ExitToMenu&&n.goBack(),l===oN.ExitToJoinGame&&c(),l===oN.DownloadWorld&&L(),C(),u(oN.None)}),[n,c,a,u,t,L,C],[y,b,s]),D=(0,l.useFacetCallback)(((e,t)=>a=>{e.fetchRealmsWorld(a),t.fetchBackups(a)}),[],[E,g]);return(0,l.useFacetEffect)((e=>{D(e)}),[D],[i]),(0,l.useFacetEffect)(((e,t,a)=>{a!==oN.None&&e===cN.Posting&&t===sN.Done&&_()}),[_],[F,S,s]),r.createElement(tI.Provider,{value:eI.EDIT_REALM},r.createElement(yx,{screenAnalyticsId:"Edit-Realms-World",onBack:N,title:e(".title"),gamepadAlias:"edit-realm-layout-content",delegateByAlias:y8},(()=>r.createElement(v8,{playButtonCallback:R,playButtonAlias:y8,setAfterSaveState:u}))),r.createElement(l.Mount,{when:M.isVisible},r.createElement(GN.Component,{saveChanges:k,closeModal:M.hide,discardChanges:n.goBack})),r.createElement(l.Mount,{when:w.isVisible},r.createElement(GN.Component,{saveChanges:T,closeModal:w.hide,discardChanges:c})),r.createElement(l.Mount,{when:P},r.createElement(zN.Component,null)),r.createElement(l.Mount,{when:I},r.createElement($W.Component,{onClickClose:C})),r.createElement(l.Mount,{when:x},r.createElement(HW,{onClickClose:n.goBack})),r.createElement(l.Mount,{when:A},r.createElement($W.Component,{onClickClose:O})))};function S8(){return r.createElement(Db,{scalingMode:"legacy",defaultRoute:"/create-new-world",scope:["in-game","out-of-game"],errorComponent:qb,gamepadAdapterVersion:r0.VISUAL,semanticCollection:hT,isKeyboardHintsEnabled:!0},r.createElement(tl,{route:"/idle-route",component:L0,modes:["overlay","grab-mouse"],transitionComponent:Qr}),r.createElement(tl,{route:"/friends-drawer",modes:["overlay"],component:W0,transitionComponent:Qr}),r.createElement(tl,{route:"/achievements/:tab?",component:fw,transitionComponent:Qb}),r.createElement(tl,{route:"/achievement-detail/:id",component:Gy,transitionComponent:Qb}),r.createElement(w,{from:"/new-player-path",to:"/new-player-path/mode"}),r.createElement(tl,{route:"/new-player-path/mode",component:NJ,transitionComponent:Qb}),r.createElement(tl,{route:"/new-player-path/survival/difficulty",component:UJ,transitionComponent:Qb}),r.createElement(tl,{route:"/new-player-path/character-selector/:mode/:difficulty",component:CJ,transitionComponent:Qb}),r.createElement(tl,{route:"/new-player-path/:mode/:difficulty/touch-control-selection",component:e0,transitionComponent:Qb}),r.createElement(tl,{route:"/new-player-path/sign-in/:mode/:difficulty",component:jJ,transitionComponent:Qb}),r.createElement(tl,{route:"/new-player-path/summary/:mode/:difficulty",component:t0,transitionComponent:Qb}),r.createElement(tl,{route:"/create-new-world/seed-templates",component:HX.SeedTemplatesRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/create-new-world/:tab/:worldTemplateId?",component:HX.CreateNewWorldRoute,transitionComponent:Qb}),r.createElement(w,{from:"/create-new-world",to:"/create-new-world/general"}),!1,r.createElement(tl,{route:"/play/touch-control-selection/:id",component:n0,transitionComponent:Qb}),r.createElement(tl,{route:"/realms-pdp",component:HX.RealmsPDPRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/realms-plan-picker",component:HX.RealmsPlanPickerRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/join-realms-server",component:HX.JoinRealmsServerRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/join-realms-server/:code",component:HX.JoinRealmsServerTransientRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/play/servers/add",component:L3,transitionComponent:Qb}),r.createElement(tl,{route:"/play/:tab/:id?/:type?",component:v3,transitionComponent:Qb}),r.createElement(tl,{route:"/play/servers/:id/:type/edit",component:L3,transitionComponent:Qb}),r.createElement(tl,{component:HX.OnlinePlayWarningTransientRoute,route:"/online-play-warning/:type/:id?",transitionComponent:Qb}),r.createElement(w,{from:"/play",to:"/play/all"}),r.createElement(tl,{route:"/start-from-template/:tab",component:q4,transitionComponent:Qb}),r.createElement(w,{from:"/start-from-template",to:"/start-from-template/marketplace-pass"}),r.createElement(tl,{route:"/mobile-data-blocked-modal/show-modal",component:HX.MobileDataBlockedModalRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/render-distance-warning-modal",component:OA,transitionComponent:Qr}),r.createElement(tl,{route:"/touch-control-selection",component:a0,transitionComponent:Qb}),r.createElement(tl,{route:"/realms-choose-realm/:tab",component:HX.ChooseRealmRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/realms-choose-slot/:id",component:HX.ChooseSlotRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/realms-stories/:tab/:realmId?",component:HX.RealmsStoriesRoute,transitionComponent:Qb}),r.createElement(w,{from:"/realms-stories",to:"/realms-stories/feed"}),r.createElement(tl,{route:"/realms-stories-opted-out-members/:realmId?",component:HX.RealmsStoriesOptedOutMembersRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/realms-story-comments/:id/:realmId?",component:HX.RealmsStoriesCommentsRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/realms-story-entry-route/:tab/:realmId?",component:jX.RealmsStoryEntryRoute,modes:["overlay"]}),r.createElement(w,{from:"/realms-story-entry-route",to:"/realms-story-entry-route/feed"}),r.createElement(tl,{route:"/post-to-realm-stories",component:HX.PostToRealmStoriesRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/realms-story-share-link-modal-route/:realmId?",component:jX.RealmsStoryShareLinkModalRoute,transitionComponent:Qb,modes:["overlay"]}),r.createElement(tl,{route:"/hardcore-mode-world-warning-modal-route/:realmId?",component:jX.HardcoreModeWorldWarningModalRoute,transitionComponent:Qb,modes:["overlay"]}),r.createElement(tl,{route:"/realms-new-story/:realmId?",component:HX.RealmsNewStoryRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/realms-new-story/screenshot-gallery/:realmId?",component:HX.RealmsStoriesScreenshotGalleryRoute,transitionComponent:Qb,disabledCached:!0}),r.createElement(tl,{route:"/timeline-opt-in-required/:realmId?",component:HX.RealmsStoriesTimelineRequiredRoute,transitionComponent:Qb,disabledCached:!0}),r.createElement(tl,{route:"/announcement-modal/:id",component:Bq,transitionComponent:Qr,modes:["overlay"]}),r.createElement(tl,{route:"/realms-stories-report-feed-item/:postType/:realmId?",component:HX.RealmsStoriesReportFeedItemRoute,transitionComponent:Qr}),r.createElement(tl,{route:"/realms-stories-settings/:realmId?",component:HX.RealmsStoriesSettingsRoute,transitionComponent:Qr}),r.createElement(tl,{route:"/player-banned-modal",component:HX.PlayerBannedModalRoute,transitionComponent:Qr}),r.createElement(tl,{route:"/player-report",component:HX.ReportPlayerRoute,transitionComponent:Qr}),r.createElement(tl,{route:"/sign-in-achievements",component:tZ,transitionComponent:Qb,disabledCached:!0}),r.createElement(tl,{route:"/sign-in-add-friend",component:rZ,transitionComponent:Qb}),r.createElement(tl,{route:"/sign-in-play-on-server",component:pZ,transitionComponent:Qb}),r.createElement(tl,{route:"/sign-in-save-purchases",component:EZ,transitionComponent:Qb}),r.createElement(tl,{route:"/sign-in-dressing-room",component:iZ,transitionComponent:Qb}),r.createElement(tl,{route:"/sign-in-marketplace",component:uZ,transitionComponent:Qb}),r.createElement(tl,{route:"/sign-in-worlds-friends-servers",component:vZ,transitionComponent:Qb}),r.createElement(tl,{route:"/first-time-sign-in/:version?",component:ZQ,transitionComponent:Qb}),r.createElement(tl,{route:"/inbox/:tab?",component:gQ,transitionComponent:Qb}),r.createElement(tl,{route:"/inbox-settings",component:bQ,transitionComponent:Qb}),r.createElement(tl,{route:"/message/:messageId/:instanceId?",component:WQ,transitionComponent:Qb}),r.createElement(tl,{route:"/edit-realm-world/:id/:tab/:worldTemplateId?",component:F8,transitionComponent:Qb}),r.createElement(w,{from:"/edit-realm-world/:id",to:"/edit-realm-world/:id/general"}),r.createElement(tl,{route:"/edit-world/:id/:tab/:worldTemplateId?",component:HX.EditWorldRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/edit-world-thumbnail/:id",component:HX.EditWorldThumbnailRoute,transitionComponent:Qb}),r.createElement(w,{from:"/edit-world/:id",to:"/edit-world/:id/general"}),r.createElement(tl,{component:HX.ExportWorldRoute,route:"/export-world/:id/:type",transitionComponent:Qb}),r.createElement(tl,{route:"/realms-create-preview-with-only-one-subscription",component:HX.CreatePreviewRealmWithOnlyOneSubscriptionRoute,modes:["overlay"]}),r.createElement(tl,{route:"/realms-purchase-subscription/:subscription",component:HX.RealmsPurchaseSubscriptionRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/add-friend",component:HX.AddFriendRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/disconnected",component:HX.ConnectionErrorRoute,transitionComponent:Qb}),r.createElement(w,{from:"/profile",to:"/profile/overview",keepQuery:!0}),r.createElement(tl,{route:"/profile/:tab",component:HX.ProfileRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/screenshot-gallery",component:HX.ScreenshotGalleryRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/screenshot-showcase",component:HX.ScreenshotShowcaseRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/manage-showcase",component:HX.ManageShowcaseRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/screenshot-details/:id",component:HX.ScreenshotDetailsRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/set-world-thumbnail/:thumbnailId",component:HX.SetWorldThumbnailRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/showcase-details/:id",component:HX.ShowcaseDetailsRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/cape-incentive-received-transient",component:jQ,transitionComponent:Qb}),r.createElement(tl,{route:"/account-unlink",component:HX.AccountUnlinkRoute,transitionComponent:Qb}),r.createElement(tl,{route:"/player-permissions/:playerId",component:AA,transitionComponent:Qb}),r.createElement(tl,{route:"/create-party",component:f0,transitionComponent:Qb}),r.createElement(tl,{route:"/invite-to-party",component:g0,transitionComponent:Qb}),r.createElement(tl,{route:"/progress/:key",component:H0,transitionComponent:Qb}),r.createElement(LE,null))}var C8,M8;C8=r.createElement(S8,null),M8=document.getElementById("root"),(0,l.render)(C8,M8)})()})();